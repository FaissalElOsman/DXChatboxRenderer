(function(e){function t(t){for(var r,s,a=t[0],l=t[1],c=t[2],d=0,f=[];d<a.length;d++)s=a[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&f.push(o[s][0]),o[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(f.length)f.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var l=n[a];0!==o[l]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={app:0},i=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/vue-beautiful-chat/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var u=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("ecfe"),o=n.n(r);o.a},"3a7a":function(e,t,n){},5409:function(module,exports,__webpack_require__){(function(e,t){module.exports=t(__webpack_require__("8b32"))})("undefined"!==typeof self&&self,(function(__WEBPACK_EXTERNAL_MODULE_vue__){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js")}({"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/defineProperty.js ***!
  \*******************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _defineProperty; });\n/* harmony import */ var core_js_modules_es_object_define_property__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.object.define-property */ "./node_modules/core-js/modules/es.object.define-property.js");\n/* harmony import */ var core_js_modules_es_object_define_property__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/@babel/runtime/helpers/esm/defineProperty.js?')},"./node_modules/@babel/runtime/helpers/esm/objectSpread2.js":
/*!******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js ***!
  \******************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _objectSpread2; });\n/* harmony import */ var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.symbol */ "./node_modules/core-js/modules/es.symbol.js");\n/* harmony import */ var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.array.filter */ "./node_modules/core-js/modules/es.array.filter.js");\n/* harmony import */ var core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.array.for-each */ "./node_modules/core-js/modules/es.array.for-each.js");\n/* harmony import */ var core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_js_modules_es_object_define_properties__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.object.define-properties */ "./node_modules/core-js/modules/es.object.define-properties.js");\n/* harmony import */ var core_js_modules_es_object_define_properties__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_properties__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_js_modules_es_object_define_property__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.object.define-property */ "./node_modules/core-js/modules/es.object.define-property.js");\n/* harmony import */ var core_js_modules_es_object_define_property__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");\n/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");\n/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var core_js_modules_es_object_keys__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.object.keys */ "./node_modules/core-js/modules/es.object.keys.js");\n/* harmony import */ var core_js_modules_es_object_keys__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");\n/* harmony import */ var core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _defineProperty__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");\n\n\n\n\n\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        Object(_defineProperty__WEBPACK_IMPORTED_MODULE_9__["default"])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/@babel/runtime/helpers/esm/objectSpread2.js?')},"./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js ***!
  \***********************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _setPublicPath__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./setPublicPath */ "./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js");\n/* harmony import */ var _entry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ~entry */ "./src/index.js");\n/* empty/unused harmony star reexport */\n\n/* harmony default export */ __webpack_exports__["default"] = (_entry__WEBPACK_IMPORTED_MODULE_1__["default"]);\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js?')},"./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js ***!
  \***************************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n// This file is imported into lib/wc client bundles.\n\nif (typeof window !== \'undefined\') {\n  if (true) {\n    __webpack_require__(/*! current-script-polyfill */ "./node_modules/current-script-polyfill/currentScript.js")\n  }\n\n  var i\n  if ((i = window.document.currentScript) && (i = i.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/))) {\n    __webpack_require__.p = i[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\n/* harmony default export */ __webpack_exports__["default"] = (null);\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js?')},"./node_modules/autolinker/dist/Autolinker.js":
/*!****************************************************!*\
  !*** ./node_modules/autolinker/dist/Autolinker.js ***!
  \****************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * Autolinker.js\n * 1.8.3\n *\n * Copyright(c) 2018 Gregory Jacobs <greg@greg-jacobs.com>\n * MIT License\n *\n * https://github.com/gregjacobs/Autolinker.js\n */\n;(function(root, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n}(this, function() {\n/**\n * @class Autolinker\n * @extends Object\n *\n * Utility class used to process a given string of text, and wrap the matches in\n * the appropriate anchor (&lt;a&gt;) tags to turn them into links.\n *\n * Any of the configuration options may be provided in an Object (map) provided\n * to the Autolinker constructor, which will configure how the {@link #link link()}\n * method will process the links.\n *\n * For example:\n *\n *     var autolinker = new Autolinker( {\n *         newWindow : false,\n *         truncate  : 30\n *     } );\n *\n *     var html = autolinker.link( \"Joe went to www.yahoo.com\" );\n *     // produces: 'Joe went to <a href=\"http://www.yahoo.com\">yahoo.com</a>'\n *\n *\n * The {@link #static-link static link()} method may also be used to inline\n * options into a single call, which may be more convenient for one-off uses.\n * For example:\n *\n *     var html = Autolinker.link( \"Joe went to www.yahoo.com\", {\n *         newWindow : false,\n *         truncate  : 30\n *     } );\n *     // produces: 'Joe went to <a href=\"http://www.yahoo.com\">yahoo.com</a>'\n *\n *\n * ## Custom Replacements of Links\n *\n * If the configuration options do not provide enough flexibility, a {@link #replaceFn}\n * may be provided to fully customize the output of Autolinker. This function is\n * called once for each URL/Email/Phone#/Hashtag/Mention (Twitter, Instagram, Soundcloud)\n * match that is encountered.\n *\n * For example:\n *\n *     var input = \"...\";  // string with URLs, Email Addresses, Phone #s, Hashtags, and Mentions (Twitter, Instagram, Soundcloud)\n *\n *     var linkedText = Autolinker.link( input, {\n *         replaceFn : function( match ) {\n *             console.log( \"href = \", match.getAnchorHref() );\n *             console.log( \"text = \", match.getAnchorText() );\n *\n *             switch( match.getType() ) {\n *                 case 'url' :\n *                     console.log( \"url: \", match.getUrl() );\n *\n *                     if( match.getUrl().indexOf( 'mysite.com' ) === -1 ) {\n *                         var tag = match.buildTag();  // returns an `Autolinker.HtmlTag` instance, which provides mutator methods for easy changes\n *                         tag.setAttr( 'rel', 'nofollow' );\n *                         tag.addClass( 'external-link' );\n *\n *                         return tag;\n *\n *                     } else {\n *                         return true;  // let Autolinker perform its normal anchor tag replacement\n *                     }\n *\n *                 case 'email' :\n *                     var email = match.getEmail();\n *                     console.log( \"email: \", email );\n *\n *                     if( email === \"my@own.address\" ) {\n *                         return false;  // don't auto-link this particular email address; leave as-is\n *                     } else {\n *                         return;  // no return value will have Autolinker perform its normal anchor tag replacement (same as returning `true`)\n *                     }\n *\n *                 case 'phone' :\n *                     var phoneNumber = match.getPhoneNumber();\n *                     console.log( phoneNumber );\n *\n *                     return '<a href=\"http://newplace.to.link.phone.numbers.to/\">' + phoneNumber + '</a>';\n *\n *                 case 'hashtag' :\n *                     var hashtag = match.getHashtag();\n *                     console.log( hashtag );\n *\n *                     return '<a href=\"http://newplace.to.link.hashtag.handles.to/\">' + hashtag + '</a>';\n *\n *                 case 'mention' :\n *                     var mention = match.getMention();\n *                     console.log( mention );\n *\n *                     return '<a href=\"http://newplace.to.link.mention.to/\">' + mention + '</a>';\n *             }\n *         }\n *     } );\n *\n *\n * The function may return the following values:\n *\n * - `true` (Boolean): Allow Autolinker to replace the match as it normally\n *   would.\n * - `false` (Boolean): Do not replace the current match at all - leave as-is.\n * - Any String: If a string is returned from the function, the string will be\n *   used directly as the replacement HTML for the match.\n * - An {@link Autolinker.HtmlTag} instance, which can be used to build/modify\n *   an HTML tag before writing out its HTML text.\n *\n * @constructor\n * @param {Object} [cfg] The configuration options for the Autolinker instance,\n *   specified in an Object (map).\n */\nvar Autolinker = function( cfg ) {\n\tcfg = cfg || {};\n\n\tthis.version = Autolinker.version;\n\n\tthis.urls = this.normalizeUrlsCfg( cfg.urls );\n\tthis.email = typeof cfg.email === 'boolean' ? cfg.email : true;\n\tthis.phone = typeof cfg.phone === 'boolean' ? cfg.phone : true;\n\tthis.hashtag = cfg.hashtag || false;\n\tthis.mention = cfg.mention || false;\n\tthis.newWindow = typeof cfg.newWindow === 'boolean' ? cfg.newWindow : true;\n\tthis.stripPrefix = this.normalizeStripPrefixCfg( cfg.stripPrefix );\n\tthis.stripTrailingSlash = typeof cfg.stripTrailingSlash === 'boolean' ? cfg.stripTrailingSlash : true;\n\tthis.decodePercentEncoding = typeof cfg.decodePercentEncoding === 'boolean' ? cfg.decodePercentEncoding : true;\n\n\t// Validate the value of the `mention` cfg\n\tvar mention = this.mention;\n\tif( mention !== false && mention !== 'twitter' && mention !== 'instagram'  && mention !== 'soundcloud' ) {\n\t\tthrow new Error( \"invalid `mention` cfg - see docs\" );\n\t}\n\n\t// Validate the value of the `hashtag` cfg\n\tvar hashtag = this.hashtag;\n\tif( hashtag !== false && hashtag !== 'twitter' && hashtag !== 'facebook' && hashtag !== 'instagram' ) {\n\t\tthrow new Error( \"invalid `hashtag` cfg - see docs\" );\n\t}\n\n\tthis.truncate = this.normalizeTruncateCfg( cfg.truncate );\n\tthis.className = cfg.className || '';\n\tthis.replaceFn = cfg.replaceFn || null;\n\tthis.context = cfg.context || this;\n\n\tthis.htmlParser = null;\n\tthis.matchers = null;\n\tthis.tagBuilder = null;\n};\n\n\n\n/**\n * Automatically links URLs, Email addresses, Phone Numbers, Twitter handles,\n * Hashtags, and Mentions found in the given chunk of HTML. Does not link URLs\n * found within HTML tags.\n *\n * For instance, if given the text: `You should go to http://www.yahoo.com`,\n * then the result will be `You should go to &lt;a href=\"http://www.yahoo.com\"&gt;http://www.yahoo.com&lt;/a&gt;`\n *\n * Example:\n *\n *     var linkedText = Autolinker.link( \"Go to google.com\", { newWindow: false } );\n *     // Produces: \"Go to <a href=\"http://google.com\">google.com</a>\"\n *\n * @static\n * @param {String} textOrHtml The HTML or text to find matches within (depending\n *   on if the {@link #urls}, {@link #email}, {@link #phone}, {@link #mention},\n *   {@link #hashtag}, and {@link #mention} options are enabled).\n * @param {Object} [options] Any of the configuration options for the Autolinker\n *   class, specified in an Object (map). See the class description for an\n *   example call.\n * @return {String} The HTML text, with matches automatically linked.\n */\nAutolinker.link = function( textOrHtml, options ) {\n\tvar autolinker = new Autolinker( options );\n\treturn autolinker.link( textOrHtml );\n};\n\n\n\n/**\n * Parses the input `textOrHtml` looking for URLs, email addresses, phone\n * numbers, username handles, and hashtags (depending on the configuration\n * of the Autolinker instance), and returns an array of {@link Autolinker.match.Match}\n * objects describing those matches (without making any replacements).\n *\n * Note that if parsing multiple pieces of text, it is slightly more efficient\n * to create an Autolinker instance, and use the instance-level {@link #parse}\n * method.\n *\n * Example:\n *\n *     var matches = Autolinker.parse( \"Hello google.com, I am asdf@asdf.com\", {\n *         urls: true,\n *         email: true\n *     } );\n *\n *     console.log( matches.length );           // 2\n *     console.log( matches[ 0 ].getType() );   // 'url'\n *     console.log( matches[ 0 ].getUrl() );    // 'google.com'\n *     console.log( matches[ 1 ].getType() );   // 'email'\n *     console.log( matches[ 1 ].getEmail() );  // 'asdf@asdf.com'\n *\n * @static\n * @param {String} textOrHtml The HTML or text to find matches within\n *   (depending on if the {@link #urls}, {@link #email}, {@link #phone},\n *   {@link #hashtag}, and {@link #mention} options are enabled).\n * @param {Object} [options] Any of the configuration options for the Autolinker\n *   class, specified in an Object (map). See the class description for an\n *   example call.\n * @return {Autolinker.match.Match[]} The array of Matches found in the\n *   given input `textOrHtml`.\n */\nAutolinker.parse = function( textOrHtml, options ) {\n\tvar autolinker = new Autolinker( options );\n\treturn autolinker.parse( textOrHtml );\n};\n\n\n/**\n * @static\n * @property {String} version (readonly)\n *\n * The Autolinker version number in the form major.minor.patch\n *\n * Ex: 0.25.1\n */\nAutolinker.version = '1.8.3';\n\n\nAutolinker.prototype = {\n\tconstructor : Autolinker,  // fix constructor property\n\n\t/**\n\t * @cfg {Boolean/Object} [urls]\n\t *\n\t * `true` if URLs should be automatically linked, `false` if they should not\n\t * be. Defaults to `true`.\n\t *\n\t * Examples:\n\t *\n\t *     urls: true\n\t *\n\t *     // or\n\t *\n\t *     urls: {\n\t *         schemeMatches : true,\n\t *         wwwMatches    : true,\n\t *         tldMatches    : true\n\t *     }\n\t *\n\t * As shown above, this option also accepts an Object form with 3 properties\n\t * to allow for more customization of what exactly gets linked. All default\n\t * to `true`:\n\t *\n\t * @cfg {Boolean} [urls.schemeMatches] `true` to match URLs found prefixed\n\t *   with a scheme, i.e. `http://google.com`, or `other+scheme://google.com`,\n\t *   `false` to prevent these types of matches.\n\t * @cfg {Boolean} [urls.wwwMatches] `true` to match urls found prefixed with\n\t *   `'www.'`, i.e. `www.google.com`. `false` to prevent these types of\n\t *   matches. Note that if the URL had a prefixed scheme, and\n\t *   `schemeMatches` is true, it will still be linked.\n\t * @cfg {Boolean} [urls.tldMatches] `true` to match URLs with known top\n\t *   level domains (.com, .net, etc.) that are not prefixed with a scheme or\n\t *   `'www.'`. This option attempts to match anything that looks like a URL\n\t *   in the given text. Ex: `google.com`, `asdf.org/?page=1`, etc. `false`\n\t *   to prevent these types of matches.\n\t */\n\n\t/**\n\t * @cfg {Boolean} [email=true]\n\t *\n\t * `true` if email addresses should be automatically linked, `false` if they\n\t * should not be.\n\t */\n\n\t/**\n\t * @cfg {Boolean} [phone=true]\n\t *\n\t * `true` if Phone numbers (\"(555)555-5555\") should be automatically linked,\n\t * `false` if they should not be.\n\t */\n\n\t/**\n\t * @cfg {Boolean/String} [hashtag=false]\n\t *\n\t * A string for the service name to have hashtags (ex: \"#myHashtag\")\n\t * auto-linked to. The currently-supported values are:\n\t *\n\t * - 'twitter'\n\t * - 'facebook'\n\t * - 'instagram'\n\t *\n\t * Pass `false` to skip auto-linking of hashtags.\n\t */\n\n\t/**\n\t * @cfg {String/Boolean} [mention=false]\n\t *\n\t * A string for the service name to have mentions (ex: \"@myuser\")\n\t * auto-linked to. The currently supported values are:\n\t *\n\t * - 'twitter'\n\t * - 'instagram'\n\t * - 'soundcloud'\n\t *\n\t * Defaults to `false` to skip auto-linking of mentions.\n\t */\n\n\t/**\n\t * @cfg {Boolean} [newWindow=true]\n\t *\n\t * `true` if the links should open in a new window, `false` otherwise.\n\t */\n\n\t/**\n\t * @cfg {Boolean/Object} [stripPrefix]\n\t *\n\t * `true` if 'http://' (or 'https://') and/or the 'www.' should be stripped\n\t * from the beginning of URL links' text, `false` otherwise. Defaults to\n\t * `true`.\n\t *\n\t * Examples:\n\t *\n\t *     stripPrefix: true\n\t *\n\t *     // or\n\t *\n\t *     stripPrefix: {\n\t *         scheme : true,\n\t *         www    : true\n\t *     }\n\t *\n\t * As shown above, this option also accepts an Object form with 2 properties\n\t * to allow for more customization of what exactly is prevented from being\n\t * displayed. Both default to `true`:\n\t *\n\t * @cfg {Boolean} [stripPrefix.scheme] `true` to prevent the scheme part of\n\t *   a URL match from being displayed to the user. Example:\n\t *   `'http://google.com'` will be displayed as `'google.com'`. `false` to\n\t *   not strip the scheme. NOTE: Only an `'http://'` or `'https://'` scheme\n\t *   will be removed, so as not to remove a potentially dangerous scheme\n\t *   (such as `'file://'` or `'javascript:'`)\n\t * @cfg {Boolean} [stripPrefix.www] www (Boolean): `true` to prevent the\n\t *   `'www.'` part of a URL match from being displayed to the user. Ex:\n\t *   `'www.google.com'` will be displayed as `'google.com'`. `false` to not\n\t *   strip the `'www'`.\n\t */\n\n\t/**\n\t * @cfg {Boolean} [stripTrailingSlash=true]\n\t *\n\t * `true` to remove the trailing slash from URL matches, `false` to keep\n\t *  the trailing slash.\n\t *\n\t *  Example when `true`: `http://google.com/` will be displayed as\n\t *  `http://google.com`.\n\t */\n\n\t/**\n\t * @cfg {Boolean} [decodePercentEncoding=true]\n\t *\n\t * `true` to decode percent-encoded characters in URL matches, `false` to keep\n\t *  the percent-encoded characters.\n\t *\n\t *  Example when `true`: `https://en.wikipedia.org/wiki/San_Jos%C3%A9` will\n\t *  be displayed as `https://en.wikipedia.org/wiki/San_José`.\n\t */\n\n\t/**\n\t * @cfg {Number/Object} [truncate=0]\n\t *\n\t * ## Number Form\n\t *\n\t * A number for how many characters matched text should be truncated to\n\t * inside the text of a link. If the matched text is over this number of\n\t * characters, it will be truncated to this length by adding a two period\n\t * ellipsis ('..') to the end of the string.\n\t *\n\t * For example: A url like 'http://www.yahoo.com/some/long/path/to/a/file'\n\t * truncated to 25 characters might look something like this:\n\t * 'yahoo.com/some/long/pat..'\n\t *\n\t * Example Usage:\n\t *\n\t *     truncate: 25\n\t *\n\t *\n\t *  Defaults to `0` for \"no truncation.\"\n\t *\n\t *\n\t * ## Object Form\n\t *\n\t * An Object may also be provided with two properties: `length` (Number) and\n\t * `location` (String). `location` may be one of the following: 'end'\n\t * (default), 'middle', or 'smart'.\n\t *\n\t * Example Usage:\n\t *\n\t *     truncate: { length: 25, location: 'middle' }\n\t *\n\t * @cfg {Number} [truncate.length=0] How many characters to allow before\n\t *   truncation will occur. Defaults to `0` for \"no truncation.\"\n\t * @cfg {\"end\"/\"middle\"/\"smart\"} [truncate.location=\"end\"]\n\t *\n\t * - 'end' (default): will truncate up to the number of characters, and then\n\t *   add an ellipsis at the end. Ex: 'yahoo.com/some/long/pat..'\n\t * - 'middle': will truncate and add the ellipsis in the middle. Ex:\n\t *   'yahoo.com/s..th/to/a/file'\n\t * - 'smart': for URLs where the algorithm attempts to strip out unnecessary\n\t *   parts first (such as the 'www.', then URL scheme, hash, etc.),\n\t *   attempting to make the URL human-readable before looking for a good\n\t *   point to insert the ellipsis if it is still too long. Ex:\n\t *   'yahoo.com/some..to/a/file'. For more details, see\n\t *   {@link Autolinker.truncate.TruncateSmart}.\n\t */\n\n\t/**\n\t * @cfg {String} className\n\t *\n\t * A CSS class name to add to the generated links. This class will be added\n\t * to all links, as well as this class plus match suffixes for styling\n\t * url/email/phone/hashtag/mention links differently.\n\t *\n\t * For example, if this config is provided as \"myLink\", then:\n\t *\n\t * - URL links will have the CSS classes: \"myLink myLink-url\"\n\t * - Email links will have the CSS classes: \"myLink myLink-email\", and\n\t * - Phone links will have the CSS classes: \"myLink myLink-phone\"\n\t * - Hashtag links will have the CSS classes: \"myLink myLink-hashtag\"\n\t * - Mention links will have the CSS classes: \"myLink myLink-mention myLink-[type]\"\n\t *   where [type] is either \"instagram\", \"twitter\" or \"soundcloud\"\n\t */\n\n\t/**\n\t * @cfg {Function} replaceFn\n\t *\n\t * A function to individually process each match found in the input string.\n\t *\n\t * See the class's description for usage.\n\t *\n\t * The `replaceFn` can be called with a different context object (`this`\n\t * reference) using the {@link #context} cfg.\n\t *\n\t * This function is called with the following parameter:\n\t *\n\t * @cfg {Autolinker.match.Match} replaceFn.match The Match instance which\n\t *   can be used to retrieve information about the match that the `replaceFn`\n\t *   is currently processing. See {@link Autolinker.match.Match} subclasses\n\t *   for details.\n\t */\n\n\t/**\n\t * @cfg {Object} context\n\t *\n\t * The context object (`this` reference) to call the `replaceFn` with.\n\t *\n\t * Defaults to this Autolinker instance.\n\t */\n\n\n\t/**\n\t * @property {String} version (readonly)\n\t *\n\t * The Autolinker version number in the form major.minor.patch\n\t *\n\t * Ex: 0.25.1\n\t */\n\n\t/**\n\t * @private\n\t * @property {Autolinker.htmlParser.HtmlParser} htmlParser\n\t *\n\t * The HtmlParser instance used to skip over HTML tags, while finding text\n\t * nodes to process. This is lazily instantiated in the {@link #getHtmlParser}\n\t * method.\n\t */\n\n\t/**\n\t * @private\n\t * @property {Autolinker.matcher.Matcher[]} matchers\n\t *\n\t * The {@link Autolinker.matcher.Matcher} instances for this Autolinker\n\t * instance.\n\t *\n\t * This is lazily created in {@link #getMatchers}.\n\t */\n\n\t/**\n\t * @private\n\t * @property {Autolinker.AnchorTagBuilder} tagBuilder\n\t *\n\t * The AnchorTagBuilder instance used to build match replacement anchor tags.\n\t * Note: this is lazily instantiated in the {@link #getTagBuilder} method.\n\t */\n\n\n\t/**\n\t * Normalizes the {@link #urls} config into an Object with 3 properties:\n\t * `schemeMatches`, `wwwMatches`, and `tldMatches`, all Booleans.\n\t *\n\t * See {@link #urls} config for details.\n\t *\n\t * @private\n\t * @param {Boolean/Object} urls\n\t * @return {Object}\n\t */\n\tnormalizeUrlsCfg : function( urls ) {\n\t\tif( urls == null ) urls = true;  // default to `true`\n\n\t\tif( typeof urls === 'boolean' ) {\n\t\t\treturn { schemeMatches: urls, wwwMatches: urls, tldMatches: urls };\n\n\t\t} else {  // object form\n\t\t\treturn {\n\t\t\t\tschemeMatches : typeof urls.schemeMatches === 'boolean' ? urls.schemeMatches : true,\n\t\t\t\twwwMatches    : typeof urls.wwwMatches === 'boolean'    ? urls.wwwMatches    : true,\n\t\t\t\ttldMatches    : typeof urls.tldMatches === 'boolean'    ? urls.tldMatches    : true\n\t\t\t};\n\t\t}\n\t},\n\n\n\t/**\n\t * Normalizes the {@link #stripPrefix} config into an Object with 2\n\t * properties: `scheme`, and `www` - both Booleans.\n\t *\n\t * See {@link #stripPrefix} config for details.\n\t *\n\t * @private\n\t * @param {Boolean/Object} stripPrefix\n\t * @return {Object}\n\t */\n\tnormalizeStripPrefixCfg : function( stripPrefix ) {\n\t\tif( stripPrefix == null ) stripPrefix = true;  // default to `true`\n\n\t\tif( typeof stripPrefix === 'boolean' ) {\n\t\t\treturn { scheme: stripPrefix, www: stripPrefix };\n\n\t\t} else {  // object form\n\t\t\treturn {\n\t\t\t\tscheme : typeof stripPrefix.scheme === 'boolean' ? stripPrefix.scheme : true,\n\t\t\t\twww    : typeof stripPrefix.www === 'boolean'    ? stripPrefix.www    : true\n\t\t\t};\n\t\t}\n\t},\n\n\n\t/**\n\t * Normalizes the {@link #truncate} config into an Object with 2 properties:\n\t * `length` (Number), and `location` (String).\n\t *\n\t * See {@link #truncate} config for details.\n\t *\n\t * @private\n\t * @param {Number/Object} truncate\n\t * @return {Object}\n\t */\n\tnormalizeTruncateCfg : function( truncate ) {\n\t\tif( typeof truncate === 'number' ) {\n\t\t\treturn { length: truncate, location: 'end' };\n\n\t\t} else {  // object, or undefined/null\n\t\t\treturn Autolinker.Util.defaults( truncate || {}, {\n\t\t\t\tlength   : Number.POSITIVE_INFINITY,\n\t\t\t\tlocation : 'end'\n\t\t\t} );\n\t\t}\n\t},\n\n\n\t/**\n\t * Parses the input `textOrHtml` looking for URLs, email addresses, phone\n\t * numbers, username handles, and hashtags (depending on the configuration\n\t * of the Autolinker instance), and returns an array of {@link Autolinker.match.Match}\n\t * objects describing those matches (without making any replacements).\n\t *\n\t * This method is used by the {@link #link} method, but can also be used to\n\t * simply do parsing of the input in order to discover what kinds of links\n\t * there are and how many.\n\t *\n\t * Example usage:\n\t *\n\t *     var autolinker = new Autolinker( {\n\t *         urls: true,\n\t *         email: true\n\t *     } );\n\t *\n\t *     var matches = autolinker.parse( \"Hello google.com, I am asdf@asdf.com\" );\n\t *\n\t *     console.log( matches.length );           // 2\n\t *     console.log( matches[ 0 ].getType() );   // 'url'\n\t *     console.log( matches[ 0 ].getUrl() );    // 'google.com'\n\t *     console.log( matches[ 1 ].getType() );   // 'email'\n\t *     console.log( matches[ 1 ].getEmail() );  // 'asdf@asdf.com'\n\t *\n\t * @param {String} textOrHtml The HTML or text to find matches within\n\t *   (depending on if the {@link #urls}, {@link #email}, {@link #phone},\n\t *   {@link #hashtag}, and {@link #mention} options are enabled).\n\t * @return {Autolinker.match.Match[]} The array of Matches found in the\n\t *   given input `textOrHtml`.\n\t */\n\tparse : function( textOrHtml ) {\n\t\tvar htmlParser = this.getHtmlParser(),\n\t\t    htmlNodes = htmlParser.parse( textOrHtml ),\n\t\t    anchorTagStackCount = 0,  // used to only process text around anchor tags, and any inner text/html they may have;\n\t\t    matches = [];\n\n\t\t// Find all matches within the `textOrHtml` (but not matches that are\n\t\t// already nested within <a>, <style> and <script> tags)\n\t\tfor( var i = 0, len = htmlNodes.length; i < len; i++ ) {\n\t\t\tvar node = htmlNodes[ i ],\n\t\t\t    nodeType = node.getType();\n\n\t\t\tif( nodeType === 'element' && ['a', 'style', 'script'].indexOf(node.getTagName()) !== -1 ) {  // Process HTML anchor, style and script element nodes in the input `textOrHtml` to find out when we're within an <a>, <style> or <script> tag\n\t\t\t\tif( !node.isClosing() ) {  // it's the start <a>, <style> or <script> tag\n\t\t\t\t\tanchorTagStackCount++;\n\t\t\t\t} else {  // it's the end </a>, </style> or <\/script> tag\n\t\t\t\t\tanchorTagStackCount = Math.max( anchorTagStackCount - 1, 0 );  // attempt to handle extraneous </a> tags by making sure the stack count never goes below 0\n\t\t\t\t}\n\n\t\t\t} else if( nodeType === 'text' && anchorTagStackCount === 0 ) {  // Process text nodes that are not within an <a>, <style> and <script> tag\n\t\t\t\tvar textNodeMatches = this.parseText( node.getText(), node.getOffset() );\n\n\t\t\t\tmatches.push.apply( matches, textNodeMatches );\n\t\t\t}\n\t\t}\n\n\n\t\t// After we have found all matches, remove subsequent matches that\n\t\t// overlap with a previous match. This can happen for instance with URLs,\n\t\t// where the url 'google.com/#link' would match '#link' as a hashtag.\n\t\tmatches = this.compactMatches( matches );\n\n\t\t// And finally, remove matches for match types that have been turned\n\t\t// off. We needed to have all match types turned on initially so that\n\t\t// things like hashtags could be filtered out if they were really just\n\t\t// part of a URL match (for instance, as a named anchor).\n\t\tmatches = this.removeUnwantedMatches( matches );\n\n\t\treturn matches;\n\t},\n\n\n\t/**\n\t * After we have found all matches, we need to remove subsequent matches\n\t * that overlap with a previous match. This can happen for instance with\n\t * URLs, where the url 'google.com/#link' would match '#link' as a hashtag.\n\t *\n\t * @private\n\t * @param {Autolinker.match.Match[]} matches\n\t * @return {Autolinker.match.Match[]}\n\t */\n\tcompactMatches : function( matches ) {\n\t\t// First, the matches need to be sorted in order of offset\n\t\tmatches.sort( function( a, b ) { return a.getOffset() - b.getOffset(); } );\n\n\t\tfor( var i = 0; i < matches.length - 1; i++ ) {\n\t\t\tvar match = matches[ i ],\n\t\t\t\t\toffset = match.getOffset(),\n\t\t\t\t\tmatchedTextLength = match.getMatchedText().length,\n\t\t\t    endIdx = offset + matchedTextLength;\n\n\t\t\tif( i + 1 < matches.length ) {\n\t\t\t\t// Remove subsequent matches that equal offset with current match\n\t\t\t\tif( matches[ i + 1 ].getOffset() === offset ) {\n\t\t\t\t\tvar removeIdx = matches[ i + 1 ].getMatchedText().length > matchedTextLength ? i : i + 1;\n\t\t\t\t\tmatches.splice( removeIdx, 1 );\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Remove subsequent matches that overlap with the current match\n\t\t\t\tif( matches[ i + 1 ].getOffset() < endIdx ) {\n\t\t\t\t\tmatches.splice( i + 1, 1 );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\n\t/**\n\t * Removes matches for matchers that were turned off in the options. For\n\t * example, if {@link #hashtag hashtags} were not to be matched, we'll\n\t * remove them from the `matches` array here.\n\t *\n\t * @private\n\t * @param {Autolinker.match.Match[]} matches The array of matches to remove\n\t *   the unwanted matches from. Note: this array is mutated for the\n\t *   removals.\n\t * @return {Autolinker.match.Match[]} The mutated input `matches` array.\n\t */\n\tremoveUnwantedMatches : function( matches ) {\n\t\tvar remove = Autolinker.Util.remove;\n\n\t\tif( !this.hashtag ) remove( matches, function( match ) { return match.getType() === 'hashtag'; } );\n\t\tif( !this.email )   remove( matches, function( match ) { return match.getType() === 'email'; } );\n\t\tif( !this.phone )   remove( matches, function( match ) { return match.getType() === 'phone'; } );\n\t\tif( !this.mention ) remove( matches, function( match ) { return match.getType() === 'mention'; } );\n\t\tif( !this.urls.schemeMatches ) {\n\t\t\tremove( matches, function( m ) { return m.getType() === 'url' && m.getUrlMatchType() === 'scheme'; } );\n\t\t}\n\t\tif( !this.urls.wwwMatches ) {\n\t\t\tremove( matches, function( m ) { return m.getType() === 'url' && m.getUrlMatchType() === 'www'; } );\n\t\t}\n\t\tif( !this.urls.tldMatches ) {\n\t\t\tremove( matches, function( m ) { return m.getType() === 'url' && m.getUrlMatchType() === 'tld'; } );\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\n\t/**\n\t * Parses the input `text` looking for URLs, email addresses, phone\n\t * numbers, username handles, and hashtags (depending on the configuration\n\t * of the Autolinker instance), and returns an array of {@link Autolinker.match.Match}\n\t * objects describing those matches.\n\t *\n\t * This method processes a **non-HTML string**, and is used to parse and\n\t * match within the text nodes of an HTML string. This method is used\n\t * internally by {@link #parse}.\n\t *\n\t * @private\n\t * @param {String} text The text to find matches within (depending on if the\n\t *   {@link #urls}, {@link #email}, {@link #phone},\n\t *   {@link #hashtag}, and {@link #mention} options are enabled). This must be a non-HTML string.\n\t * @param {Number} [offset=0] The offset of the text node within the\n\t *   original string. This is used when parsing with the {@link #parse}\n\t *   method to generate correct offsets within the {@link Autolinker.match.Match}\n\t *   instances, but may be omitted if calling this method publicly.\n\t * @return {Autolinker.match.Match[]} The array of Matches found in the\n\t *   given input `text`.\n\t */\n\tparseText : function( text, offset ) {\n\t\toffset = offset || 0;\n\t\tvar matchers = this.getMatchers(),\n\t\t    matches = [];\n\n\t\tfor( var i = 0, numMatchers = matchers.length; i < numMatchers; i++ ) {\n\t\t\tvar textMatches = matchers[ i ].parseMatches( text );\n\n\t\t\t// Correct the offset of each of the matches. They are originally\n\t\t\t// the offset of the match within the provided text node, but we\n\t\t\t// need to correct them to be relative to the original HTML input\n\t\t\t// string (i.e. the one provided to #parse).\n\t\t\tfor( var j = 0, numTextMatches = textMatches.length; j < numTextMatches; j++ ) {\n\t\t\t\ttextMatches[ j ].setOffset( offset + textMatches[ j ].getOffset() );\n\t\t\t}\n\n\t\t\tmatches.push.apply( matches, textMatches );\n\t\t}\n\t\treturn matches;\n\t},\n\n\n\t/**\n\t * Automatically links URLs, Email addresses, Phone numbers, Hashtags,\n\t * and Mentions (Twitter, Instagram, Soundcloud) found in the given chunk of HTML. Does not link\n\t * URLs found within HTML tags.\n\t *\n\t * For instance, if given the text: `You should go to http://www.yahoo.com`,\n\t * then the result will be `You should go to\n\t * &lt;a href=\"http://www.yahoo.com\"&gt;http://www.yahoo.com&lt;/a&gt;`\n\t *\n\t * This method finds the text around any HTML elements in the input\n\t * `textOrHtml`, which will be the text that is processed. Any original HTML\n\t * elements will be left as-is, as well as the text that is already wrapped\n\t * in anchor (&lt;a&gt;) tags.\n\t *\n\t * @param {String} textOrHtml The HTML or text to autolink matches within\n\t *   (depending on if the {@link #urls}, {@link #email}, {@link #phone}, {@link #hashtag}, and {@link #mention} options are enabled).\n\t * @return {String} The HTML, with matches automatically linked.\n\t */\n\tlink : function( textOrHtml ) {\n\t\tif( !textOrHtml ) { return \"\"; }  // handle `null` and `undefined`\n\n\t\tvar matches = this.parse( textOrHtml ),\n\t\t\tnewHtml = [],\n\t\t\tlastIndex = 0;\n\n\t\tfor( var i = 0, len = matches.length; i < len; i++ ) {\n\t\t\tvar match = matches[ i ];\n\n\t\t\tnewHtml.push( textOrHtml.substring( lastIndex, match.getOffset() ) );\n\t\t\tnewHtml.push( this.createMatchReturnVal( match ) );\n\n\t\t\tlastIndex = match.getOffset() + match.getMatchedText().length;\n\t\t}\n\t\tnewHtml.push( textOrHtml.substring( lastIndex ) );  // handle the text after the last match\n\n\t\treturn newHtml.join( '' );\n\t},\n\n\n\t/**\n\t * Creates the return string value for a given match in the input string.\n\t *\n\t * This method handles the {@link #replaceFn}, if one was provided.\n\t *\n\t * @private\n\t * @param {Autolinker.match.Match} match The Match object that represents\n\t *   the match.\n\t * @return {String} The string that the `match` should be replaced with.\n\t *   This is usually the anchor tag string, but may be the `matchStr` itself\n\t *   if the match is not to be replaced.\n\t */\n\tcreateMatchReturnVal : function( match ) {\n\t\t// Handle a custom `replaceFn` being provided\n\t\tvar replaceFnResult;\n\t\tif( this.replaceFn ) {\n\t\t\treplaceFnResult = this.replaceFn.call( this.context, match );  // Autolinker instance is the context\n\t\t}\n\n\t\tif( typeof replaceFnResult === 'string' ) {\n\t\t\treturn replaceFnResult;  // `replaceFn` returned a string, use that\n\n\t\t} else if( replaceFnResult === false ) {\n\t\t\treturn match.getMatchedText();  // no replacement for the match\n\n\t\t} else if( replaceFnResult instanceof Autolinker.HtmlTag ) {\n\t\t\treturn replaceFnResult.toAnchorString();\n\n\t\t} else {  // replaceFnResult === true, or no/unknown return value from function\n\t\t\t// Perform Autolinker's default anchor tag generation\n\t\t\tvar anchorTag = match.buildTag();  // returns an Autolinker.HtmlTag instance\n\n\t\t\treturn anchorTag.toAnchorString();\n\t\t}\n\t},\n\n\n\t/**\n\t * Lazily instantiates and returns the {@link #htmlParser} instance for this\n\t * Autolinker instance.\n\t *\n\t * @protected\n\t * @return {Autolinker.htmlParser.HtmlParser}\n\t */\n\tgetHtmlParser : function() {\n\t\tvar htmlParser = this.htmlParser;\n\n\t\tif( !htmlParser ) {\n\t\t\thtmlParser = this.htmlParser = new Autolinker.htmlParser.HtmlParser();\n\t\t}\n\n\t\treturn htmlParser;\n\t},\n\n\n\t/**\n\t * Lazily instantiates and returns the {@link Autolinker.matcher.Matcher}\n\t * instances for this Autolinker instance.\n\t *\n\t * @protected\n\t * @return {Autolinker.matcher.Matcher[]}\n\t */\n\tgetMatchers : function() {\n\t\tif( !this.matchers ) {\n\t\t\tvar matchersNs = Autolinker.matcher,\n\t\t\t    tagBuilder = this.getTagBuilder();\n\n\t\t\tvar matchers = [\n\t\t\t\tnew matchersNs.Hashtag( { tagBuilder: tagBuilder, serviceName: this.hashtag } ),\n\t\t\t\tnew matchersNs.Email( { tagBuilder: tagBuilder } ),\n\t\t\t\tnew matchersNs.Phone( { tagBuilder: tagBuilder } ),\n\t\t\t\tnew matchersNs.Mention( { tagBuilder: tagBuilder, serviceName: this.mention } ),\n\t\t\t\tnew matchersNs.Url( { tagBuilder: tagBuilder, stripPrefix: this.stripPrefix, stripTrailingSlash: this.stripTrailingSlash, decodePercentEncoding: this.decodePercentEncoding } )\n\t\t\t];\n\n\t\t\treturn ( this.matchers = matchers );\n\n\t\t} else {\n\t\t\treturn this.matchers;\n\t\t}\n\t},\n\n\n\t/**\n\t * Returns the {@link #tagBuilder} instance for this Autolinker instance, lazily instantiating it\n\t * if it does not yet exist.\n\t *\n\t * This method may be used in a {@link #replaceFn} to generate the {@link Autolinker.HtmlTag HtmlTag} instance that\n\t * Autolinker would normally generate, and then allow for modifications before returning it. For example:\n\t *\n\t *     var html = Autolinker.link( \"Test google.com\", {\n\t *         replaceFn : function( match ) {\n\t *             var tag = match.buildTag();  // returns an {@link Autolinker.HtmlTag} instance\n\t *             tag.setAttr( 'rel', 'nofollow' );\n\t *\n\t *             return tag;\n\t *         }\n\t *     } );\n\t *\n\t *     // generated html:\n\t *     //   Test <a href=\"http://google.com\" target=\"_blank\" rel=\"nofollow\">google.com</a>\n\t *\n\t * @return {Autolinker.AnchorTagBuilder}\n\t */\n\tgetTagBuilder : function() {\n\t\tvar tagBuilder = this.tagBuilder;\n\n\t\tif( !tagBuilder ) {\n\t\t\ttagBuilder = this.tagBuilder = new Autolinker.AnchorTagBuilder( {\n\t\t\t\tnewWindow   : this.newWindow,\n\t\t\t\ttruncate    : this.truncate,\n\t\t\t\tclassName   : this.className\n\t\t\t} );\n\t\t}\n\n\t\treturn tagBuilder;\n\t}\n\n};\n\n\n// Autolinker Namespaces\n\nAutolinker.match = {};\nAutolinker.matcher = {};\nAutolinker.htmlParser = {};\nAutolinker.truncate = {};\n\n/*global Autolinker */\n/*jshint eqnull:true, boss:true */\n/**\n * @class Autolinker.Util\n * @singleton\n *\n * A few utility methods for Autolinker.\n */\nAutolinker.Util = {\n\n\t/**\n\t * @property {Function} abstractMethod\n\t *\n\t * A function object which represents an abstract method.\n\t */\n\tabstractMethod : function() { throw \"abstract\"; },\n\n\n\t/**\n\t * @private\n\t * @property {RegExp} trimRegex\n\t *\n\t * The regular expression used to trim the leading and trailing whitespace\n\t * from a string.\n\t */\n\ttrimRegex : /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\n\n\n\t/**\n\t * Assigns (shallow copies) the properties of `src` onto `dest`.\n\t *\n\t * @param {Object} dest The destination object.\n\t * @param {Object} src The source object.\n\t * @return {Object} The destination object (`dest`)\n\t */\n\tassign : function( dest, src ) {\n\t\tfor( var prop in src ) {\n\t\t\tif( src.hasOwnProperty( prop ) ) {\n\t\t\t\tdest[ prop ] = src[ prop ];\n\t\t\t}\n\t\t}\n\n\t\treturn dest;\n\t},\n\n\n\t/**\n\t * Assigns (shallow copies) the properties of `src` onto `dest`, if the\n\t * corresponding property on `dest` === `undefined`.\n\t *\n\t * @param {Object} dest The destination object.\n\t * @param {Object} src The source object.\n\t * @return {Object} The destination object (`dest`)\n\t */\n\tdefaults : function( dest, src ) {\n\t\tfor( var prop in src ) {\n\t\t\tif( src.hasOwnProperty( prop ) && dest[ prop ] === undefined ) {\n\t\t\t\tdest[ prop ] = src[ prop ];\n\t\t\t}\n\t\t}\n\n\t\treturn dest;\n\t},\n\n\n\t/**\n\t * Extends `superclass` to create a new subclass, adding the `protoProps` to the new subclass's prototype.\n\t *\n\t * @param {Function} superclass The constructor function for the superclass.\n\t * @param {Object} protoProps The methods/properties to add to the subclass's prototype. This may contain the\n\t *   special property `constructor`, which will be used as the new subclass's constructor function.\n\t * @return {Function} The new subclass function.\n\t */\n\textend : function( superclass, protoProps ) {\n\t\tvar superclassProto = superclass.prototype;\n\n\t\tvar F = function() {};\n\t\tF.prototype = superclassProto;\n\n\t\tvar subclass;\n\t\tif( protoProps.hasOwnProperty( 'constructor' ) ) {\n\t\t\tsubclass = protoProps.constructor;\n\t\t} else {\n\t\t\tsubclass = function() { superclassProto.constructor.apply( this, arguments ); };\n\t\t}\n\n\t\tvar subclassProto = subclass.prototype = new F();  // set up prototype chain\n\t\tsubclassProto.constructor = subclass;  // fix constructor property\n\t\tsubclassProto.superclass = superclassProto;\n\n\t\tdelete protoProps.constructor;  // don't re-assign constructor property to the prototype, since a new function may have been created (`subclass`), which is now already there\n\t\tAutolinker.Util.assign( subclassProto, protoProps );\n\n\t\treturn subclass;\n\t},\n\n\n\t/**\n\t * Truncates the `str` at `len - ellipsisChars.length`, and adds the `ellipsisChars` to the\n\t * end of the string (by default, two periods: '..'). If the `str` length does not exceed\n\t * `len`, the string will be returned unchanged.\n\t *\n\t * @param {String} str The string to truncate and add an ellipsis to.\n\t * @param {Number} truncateLen The length to truncate the string at.\n\t * @param {String} [ellipsisChars=...] The ellipsis character(s) to add to the end of `str`\n\t *   when truncated. Defaults to '...'\n\t */\n\tellipsis : function( str, truncateLen, ellipsisChars ) {\n\t\tvar ellipsisLength;\n\n\t\tif( str.length > truncateLen ) {\n\t\t\tif(ellipsisChars == null) {\n\t\t\t  ellipsisChars = '&hellip;';\n\t\t\t  ellipsisLength = 3;\n\t\t\t} else {\n\t\t\t  ellipsisLength = ellipsisChars.length;\n\t\t\t}\n\n\t\t\tstr = str.substring( 0, truncateLen - ellipsisLength ) + ellipsisChars;\n\t\t}\n\t\treturn str;\n\t},\n\n\n\t/**\n\t * Supports `Array.prototype.indexOf()` functionality for old IE (IE8 and below).\n\t *\n\t * @param {Array} arr The array to find an element of.\n\t * @param {*} element The element to find in the array, and return the index of.\n\t * @return {Number} The index of the `element`, or -1 if it was not found.\n\t */\n\tindexOf : function( arr, element ) {\n\t\tif( Array.prototype.indexOf ) {\n\t\t\treturn arr.indexOf( element );\n\n\t\t} else {\n\t\t\tfor( var i = 0, len = arr.length; i < len; i++ ) {\n\t\t\t\tif( arr[ i ] === element ) return i;\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\t},\n\n\n\t/**\n\t * Removes array elements based on a filtering function. Mutates the input\n\t * array.\n\t *\n\t * Using this instead of the ES5 Array.prototype.filter() function, to allow\n\t * Autolinker compatibility with IE8, and also to prevent creating many new\n\t * arrays in memory for filtering.\n\t *\n\t * @param {Array} arr The array to remove elements from. This array is\n\t *   mutated.\n\t * @param {Function} fn A function which should return `true` to\n\t *   remove an element.\n\t * @return {Array} The mutated input `arr`.\n\t */\n\tremove : function( arr, fn ) {\n\t\tfor( var i = arr.length - 1; i >= 0; i-- ) {\n\t\t\tif( fn( arr[ i ] ) === true ) {\n\t\t\t\tarr.splice( i, 1 );\n\t\t\t}\n\t\t}\n\t},\n\n\n\t/**\n\t * Performs the functionality of what modern browsers do when `String.prototype.split()` is called\n\t * with a regular expression that contains capturing parenthesis.\n\t *\n\t * For example:\n\t *\n\t *     // Modern browsers:\n\t *     \"a,b,c\".split( /(,)/ );  // --\x3e [ 'a', ',', 'b', ',', 'c' ]\n\t *\n\t *     // Old IE (including IE8):\n\t *     \"a,b,c\".split( /(,)/ );  // --\x3e [ 'a', 'b', 'c' ]\n\t *\n\t * This method emulates the functionality of modern browsers for the old IE case.\n\t *\n\t * @param {String} str The string to split.\n\t * @param {RegExp} splitRegex The regular expression to split the input `str` on. The splitting\n\t *   character(s) will be spliced into the array, as in the \"modern browsers\" example in the\n\t *   description of this method.\n\t *   Note #1: the supplied regular expression **must** have the 'g' flag specified.\n\t *   Note #2: for simplicity's sake, the regular expression does not need\n\t *   to contain capturing parenthesis - it will be assumed that any match has them.\n\t * @return {String[]} The split array of strings, with the splitting character(s) included.\n\t */\n\tsplitAndCapture : function( str, splitRegex ) {\n\t\tif( !splitRegex.global ) throw new Error( \"`splitRegex` must have the 'g' flag set\" );\n\n\t\tvar result = [],\n\t\t    lastIdx = 0,\n\t\t    match;\n\n\t\twhile( match = splitRegex.exec( str ) ) {\n\t\t\tresult.push( str.substring( lastIdx, match.index ) );\n\t\t\tresult.push( match[ 0 ] );  // push the splitting char(s)\n\n\t\t\tlastIdx = match.index + match[ 0 ].length;\n\t\t}\n\t\tresult.push( str.substring( lastIdx ) );\n\n\t\treturn result;\n\t},\n\n\n\t/**\n\t * Trims the leading and trailing whitespace from a string.\n\t *\n\t * @param {String} str The string to trim.\n\t * @return {String}\n\t */\n\ttrim : function( str ) {\n\t\treturn str.replace( this.trimRegex, '' );\n\t}\n\n};\n\n/*global Autolinker */\n/*jshint boss:true */\n/**\n * @class Autolinker.HtmlTag\n * @extends Object\n *\n * Represents an HTML tag, which can be used to easily build/modify HTML tags programmatically.\n *\n * Autolinker uses this abstraction to create HTML tags, and then write them out as strings. You may also use\n * this class in your code, especially within a {@link Autolinker#replaceFn replaceFn}.\n *\n * ## Examples\n *\n * Example instantiation:\n *\n *     var tag = new Autolinker.HtmlTag( {\n *         tagName : 'a',\n *         attrs   : { 'href': 'http://google.com', 'class': 'external-link' },\n *         innerHtml : 'Google'\n *     } );\n *\n *     tag.toAnchorString();  // <a href=\"http://google.com\" class=\"external-link\">Google</a>\n *\n *     // Individual accessor methods\n *     tag.getTagName();                 // 'a'\n *     tag.getAttr( 'href' );            // 'http://google.com'\n *     tag.hasClass( 'external-link' );  // true\n *\n *\n * Using mutator methods (which may be used in combination with instantiation config properties):\n *\n *     var tag = new Autolinker.HtmlTag();\n *     tag.setTagName( 'a' );\n *     tag.setAttr( 'href', 'http://google.com' );\n *     tag.addClass( 'external-link' );\n *     tag.setInnerHtml( 'Google' );\n *\n *     tag.getTagName();                 // 'a'\n *     tag.getAttr( 'href' );            // 'http://google.com'\n *     tag.hasClass( 'external-link' );  // true\n *\n *     tag.toAnchorString();  // <a href=\"http://google.com\" class=\"external-link\">Google</a>\n *\n *\n * ## Example use within a {@link Autolinker#replaceFn replaceFn}\n *\n *     var html = Autolinker.link( \"Test google.com\", {\n *         replaceFn : function( match ) {\n *             var tag = match.buildTag();  // returns an {@link Autolinker.HtmlTag} instance, configured with the Match's href and anchor text\n *             tag.setAttr( 'rel', 'nofollow' );\n *\n *             return tag;\n *         }\n *     } );\n *\n *     // generated html:\n *     //   Test <a href=\"http://google.com\" target=\"_blank\" rel=\"nofollow\">google.com</a>\n *\n *\n * ## Example use with a new tag for the replacement\n *\n *     var html = Autolinker.link( \"Test google.com\", {\n *         replaceFn : function( match ) {\n *             var tag = new Autolinker.HtmlTag( {\n *                 tagName : 'button',\n *                 attrs   : { 'title': 'Load URL: ' + match.getAnchorHref() },\n *                 innerHtml : 'Load URL: ' + match.getAnchorText()\n *             } );\n *\n *             return tag;\n *         }\n *     } );\n *\n *     // generated html:\n *     //   Test <button title=\"Load URL: http://google.com\">Load URL: google.com</button>\n */\nAutolinker.HtmlTag = Autolinker.Util.extend( Object, {\n\n\t/**\n\t * @cfg {String} tagName\n\t *\n\t * The tag name. Ex: 'a', 'button', etc.\n\t *\n\t * Not required at instantiation time, but should be set using {@link #setTagName} before {@link #toAnchorString}\n\t * is executed.\n\t */\n\n\t/**\n\t * @cfg {Object.<String, String>} attrs\n\t *\n\t * An key/value Object (map) of attributes to create the tag with. The keys are the attribute names, and the\n\t * values are the attribute values.\n\t */\n\n\t/**\n\t * @cfg {String} innerHtml\n\t *\n\t * The inner HTML for the tag.\n\t *\n\t * Note the camel case name on `innerHtml`. Acronyms are camelCased in this utility (such as not to run into the acronym\n\t * naming inconsistency that the DOM developers created with `XMLHttpRequest`). You may alternatively use {@link #innerHTML}\n\t * if you prefer, but this one is recommended.\n\t */\n\n\t/**\n\t * @cfg {String} innerHTML\n\t *\n\t * Alias of {@link #innerHtml}, accepted for consistency with the browser DOM api, but prefer the camelCased version\n\t * for acronym names.\n\t */\n\n\n\t/**\n\t * @protected\n\t * @property {RegExp} whitespaceRegex\n\t *\n\t * Regular expression used to match whitespace in a string of CSS classes.\n\t */\n\twhitespaceRegex : /\\s+/,\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} [cfg] The configuration properties for this class, in an Object (map)\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.Util.assign( this, cfg );\n\n\t\tthis.innerHtml = this.innerHtml || this.innerHTML;  // accept either the camelCased form or the fully capitalized acronym\n\t},\n\n\n\t/**\n\t * Sets the tag name that will be used to generate the tag with.\n\t *\n\t * @param {String} tagName\n\t * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.\n\t */\n\tsetTagName : function( tagName ) {\n\t\tthis.tagName = tagName;\n\t\treturn this;\n\t},\n\n\n\t/**\n\t * Retrieves the tag name.\n\t *\n\t * @return {String}\n\t */\n\tgetTagName : function() {\n\t\treturn this.tagName || \"\";\n\t},\n\n\n\t/**\n\t * Sets an attribute on the HtmlTag.\n\t *\n\t * @param {String} attrName The attribute name to set.\n\t * @param {String} attrValue The attribute value to set.\n\t * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.\n\t */\n\tsetAttr : function( attrName, attrValue ) {\n\t\tvar tagAttrs = this.getAttrs();\n\t\ttagAttrs[ attrName ] = attrValue;\n\n\t\treturn this;\n\t},\n\n\n\t/**\n\t * Retrieves an attribute from the HtmlTag. If the attribute does not exist, returns `undefined`.\n\t *\n\t * @param {String} attrName The attribute name to retrieve.\n\t * @return {String} The attribute's value, or `undefined` if it does not exist on the HtmlTag.\n\t */\n\tgetAttr : function( attrName ) {\n\t\treturn this.getAttrs()[ attrName ];\n\t},\n\n\n\t/**\n\t * Sets one or more attributes on the HtmlTag.\n\t *\n\t * @param {Object.<String, String>} attrs A key/value Object (map) of the attributes to set.\n\t * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.\n\t */\n\tsetAttrs : function( attrs ) {\n\t\tvar tagAttrs = this.getAttrs();\n\t\tAutolinker.Util.assign( tagAttrs, attrs );\n\n\t\treturn this;\n\t},\n\n\n\t/**\n\t * Retrieves the attributes Object (map) for the HtmlTag.\n\t *\n\t * @return {Object.<String, String>} A key/value object of the attributes for the HtmlTag.\n\t */\n\tgetAttrs : function() {\n\t\treturn this.attrs || ( this.attrs = {} );\n\t},\n\n\n\t/**\n\t * Sets the provided `cssClass`, overwriting any current CSS classes on the HtmlTag.\n\t *\n\t * @param {String} cssClass One or more space-separated CSS classes to set (overwrite).\n\t * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.\n\t */\n\tsetClass : function( cssClass ) {\n\t\treturn this.setAttr( 'class', cssClass );\n\t},\n\n\n\t/**\n\t * Convenience method to add one or more CSS classes to the HtmlTag. Will not add duplicate CSS classes.\n\t *\n\t * @param {String} cssClass One or more space-separated CSS classes to add.\n\t * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.\n\t */\n\taddClass : function( cssClass ) {\n\t\tvar classAttr = this.getClass(),\n\t\t    whitespaceRegex = this.whitespaceRegex,\n\t\t    indexOf = Autolinker.Util.indexOf,  // to support IE8 and below\n\t\t    classes = ( !classAttr ) ? [] : classAttr.split( whitespaceRegex ),\n\t\t    newClasses = cssClass.split( whitespaceRegex ),\n\t\t    newClass;\n\n\t\twhile( newClass = newClasses.shift() ) {\n\t\t\tif( indexOf( classes, newClass ) === -1 ) {\n\t\t\t\tclasses.push( newClass );\n\t\t\t}\n\t\t}\n\n\t\tthis.getAttrs()[ 'class' ] = classes.join( \" \" );\n\t\treturn this;\n\t},\n\n\n\t/**\n\t * Convenience method to remove one or more CSS classes from the HtmlTag.\n\t *\n\t * @param {String} cssClass One or more space-separated CSS classes to remove.\n\t * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.\n\t */\n\tremoveClass : function( cssClass ) {\n\t\tvar classAttr = this.getClass(),\n\t\t    whitespaceRegex = this.whitespaceRegex,\n\t\t    indexOf = Autolinker.Util.indexOf,  // to support IE8 and below\n\t\t    classes = ( !classAttr ) ? [] : classAttr.split( whitespaceRegex ),\n\t\t    removeClasses = cssClass.split( whitespaceRegex ),\n\t\t    removeClass;\n\n\t\twhile( classes.length && ( removeClass = removeClasses.shift() ) ) {\n\t\t\tvar idx = indexOf( classes, removeClass );\n\t\t\tif( idx !== -1 ) {\n\t\t\t\tclasses.splice( idx, 1 );\n\t\t\t}\n\t\t}\n\n\t\tthis.getAttrs()[ 'class' ] = classes.join( \" \" );\n\t\treturn this;\n\t},\n\n\n\t/**\n\t * Convenience method to retrieve the CSS class(es) for the HtmlTag, which will each be separated by spaces when\n\t * there are multiple.\n\t *\n\t * @return {String}\n\t */\n\tgetClass : function() {\n\t\treturn this.getAttrs()[ 'class' ] || \"\";\n\t},\n\n\n\t/**\n\t * Convenience method to check if the tag has a CSS class or not.\n\t *\n\t * @param {String} cssClass The CSS class to check for.\n\t * @return {Boolean} `true` if the HtmlTag has the CSS class, `false` otherwise.\n\t */\n\thasClass : function( cssClass ) {\n\t\treturn ( ' ' + this.getClass() + ' ' ).indexOf( ' ' + cssClass + ' ' ) !== -1;\n\t},\n\n\n\t/**\n\t * Sets the inner HTML for the tag.\n\t *\n\t * @param {String} html The inner HTML to set.\n\t * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.\n\t */\n\tsetInnerHtml : function( html ) {\n\t\tthis.innerHtml = html;\n\n\t\treturn this;\n\t},\n\n\n\t/**\n\t * Retrieves the inner HTML for the tag.\n\t *\n\t * @return {String}\n\t */\n\tgetInnerHtml : function() {\n\t\treturn this.innerHtml || \"\";\n\t},\n\n\n\t/**\n\t * Override of superclass method used to generate the HTML string for the tag.\n\t *\n\t * @return {String}\n\t */\n\ttoAnchorString : function() {\n\t\tvar tagName = this.getTagName(),\n\t\t    attrsStr = this.buildAttrsStr();\n\n\t\tattrsStr = ( attrsStr ) ? ' ' + attrsStr : '';  // prepend a space if there are actually attributes\n\n\t\treturn [ '<', tagName, attrsStr, '>', this.getInnerHtml(), '</', tagName, '>' ].join( \"\" );\n\t},\n\n\n\t/**\n\t * Support method for {@link #toAnchorString}, returns the string space-separated key=\"value\" pairs, used to populate\n\t * the stringified HtmlTag.\n\t *\n\t * @protected\n\t * @return {String} Example return: `attr1=\"value1\" attr2=\"value2\"`\n\t */\n\tbuildAttrsStr : function() {\n\t\tif( !this.attrs ) return \"\";  // no `attrs` Object (map) has been set, return empty string\n\n\t\tvar attrs = this.getAttrs(),\n\t\t    attrsArr = [];\n\n\t\tfor( var prop in attrs ) {\n\t\t\tif( attrs.hasOwnProperty( prop ) ) {\n\t\t\t\tattrsArr.push( prop + '=\"' + attrs[ prop ] + '\"' );\n\t\t\t}\n\t\t}\n\t\treturn attrsArr.join( \" \" );\n\t}\n\n} );\n\n/*global Autolinker */\n/**\n * @class Autolinker.RegexLib\n * @singleton\n *\n * Builds and stores a library of the common regular expressions used by the\n * Autolinker utility.\n *\n * Other regular expressions may exist ad-hoc, but these are generally the\n * regular expressions that are shared between source files.\n */\nAutolinker.RegexLib = (function() {\n\n\t/**\n\t * The string form of a regular expression that would match all of the\n\t * alphabetic (\"letter\") chars in the unicode character set when placed in a\n\t * RegExp character class (`[]`). This includes all international alphabetic\n\t * characters.\n\t *\n\t * These would be the characters matched by unicode regex engines `\\p{L}`\n\t * escape (\"all letters\").\n\t *\n\t * Taken from the XRegExp library: http://xregexp.com/\n\t * Specifically: http://xregexp.com/v/3.0.0/unicode-categories.js\n\t *\n\t * @private\n\t * @type {String}\n\t */\n\tvar alphaCharsStr = 'A-Za-z\\\\xAA\\\\xB5\\\\xBA\\\\xC0-\\\\xD6\\\\xD8-\\\\xF6\\\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B4\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16F1-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FD5\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AD\\uA7B0-\\uA7B7\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC';\n\n\t/**\n\t * The string form of a regular expression that would match all of the\n\t * decimal number chars in the unicode character set when placed in a RegExp\n\t * character class (`[]`).\n\t *\n\t * These would be the characters matched by unicode regex engines `\\p{Nd}`\n\t * escape (\"all decimal numbers\")\n\t *\n\t * Taken from the XRegExp library: http://xregexp.com/\n\t * Specifically: http://xregexp.com/v/3.0.0/unicode-categories.js\n\t *\n\t * @private\n\t * @type {String}\n\t */\n\tvar decimalNumbersStr = '0-9\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0BE6-\\u0BEF\\u0C66-\\u0C6F\\u0CE6-\\u0CEF\\u0D66-\\u0D6F\\u0DE6-\\u0DEF\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F29\\u1040-\\u1049\\u1090-\\u1099\\u17E0-\\u17E9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19D9\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\uA620-\\uA629\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uA9F0-\\uA9F9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19';\n\n\n\t// See documentation below\n\tvar alphaNumericCharsStr = alphaCharsStr + decimalNumbersStr;\n\n\t// Simplified IP regular expression\n\tvar ipStr = '(?:[' + decimalNumbersStr + ']{1,3}\\\\.){3}[' + decimalNumbersStr + ']{1,3}';\n\n\t// Protected domain label which do not allow \"-\" character on the beginning and the end of a single label\n\tvar domainLabelStr = '[' + alphaNumericCharsStr + '](?:[' + alphaNumericCharsStr + '\\\\-]{0,61}[' + alphaNumericCharsStr + '])?';\n\n\tvar getDomainLabelStr = function(group) {\n\t\treturn '(?=(' + domainLabelStr + '))\\\\' + group;\n\t};\n\n\t// See documentation below\n\tvar getDomainNameStr = function(group) {\n\t\treturn '(?:' + getDomainLabelStr(group) + '(?:\\\\.' + getDomainLabelStr(group + 1) + '){0,126}|' + ipStr + ')';\n\t};\n\n\treturn {\n\n\t\t/**\n\t\t * The string form of a regular expression that would match all of the\n\t\t * letters and decimal number chars in the unicode character set when placed\n\t\t * in a RegExp character class (`[]`).\n\t\t *\n\t\t * These would be the characters matched by unicode regex engines `[\\p{L}\\p{Nd}]`\n\t\t * escape (\"all letters and decimal numbers\")\n\t\t *\n\t\t * @property {String} alphaNumericCharsStr\n\t\t */\n\t\talphaNumericCharsStr : alphaNumericCharsStr,\n\n\t\t/**\n\t\t * The string form of a regular expression that would match all of the\n\t\t * letters and in the unicode character set when placed\n\t\t * in a RegExp character class (`[]`).\n\t\t *\n\t\t * These would be the characters matched by unicode regex engines `[\\p{L}]`\n\t\t * escape (\"all letters\")\n\t\t *\n\t\t * @property {String} alphaCharsStr\n\t\t */\n\t\talphaCharsStr : alphaCharsStr,\n\n\t\t/**\n\t\t * A regular expression to match domain names of a URL or email address.\n\t\t * Ex: 'google', 'yahoo', 'some-other-company', etc.\n\t\t *\n\t\t * @property {RegExp} domainNameRegex\n\t\t */\n\t\tgetDomainNameStr : getDomainNameStr,\n\n\t};\n\n\n}() );\n\n/*global Autolinker */\n/*jshint sub:true */\n/**\n * @protected\n * @class Autolinker.AnchorTagBuilder\n * @extends Object\n *\n * Builds anchor (&lt;a&gt;) tags for the Autolinker utility when a match is\n * found.\n *\n * Normally this class is instantiated, configured, and used internally by an\n * {@link Autolinker} instance, but may actually be used indirectly in a\n * {@link Autolinker#replaceFn replaceFn} to create {@link Autolinker.HtmlTag HtmlTag}\n * instances which may be modified before returning from the\n * {@link Autolinker#replaceFn replaceFn}. For example:\n *\n *     var html = Autolinker.link( \"Test google.com\", {\n *         replaceFn : function( match ) {\n *             var tag = match.buildTag();  // returns an {@link Autolinker.HtmlTag} instance\n *             tag.setAttr( 'rel', 'nofollow' );\n *\n *             return tag;\n *         }\n *     } );\n *\n *     // generated html:\n *     //   Test <a href=\"http://google.com\" target=\"_blank\" rel=\"nofollow\">google.com</a>\n */\nAutolinker.AnchorTagBuilder = Autolinker.Util.extend( Object, {\n\n\t/**\n\t * @cfg {Boolean} newWindow\n\t * @inheritdoc Autolinker#newWindow\n\t */\n\n\t/**\n\t * @cfg {Object} truncate\n\t * @inheritdoc Autolinker#truncate\n\t */\n\n\t/**\n\t * @cfg {String} className\n\t * @inheritdoc Autolinker#className\n\t */\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} [cfg] The configuration options for the AnchorTagBuilder instance, specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tcfg = cfg || {};\n\n\t\tthis.newWindow = cfg.newWindow;\n\t\tthis.truncate = cfg.truncate;\n\t\tthis.className = cfg.className;\n\t},\n\n\n\t/**\n\t * Generates the actual anchor (&lt;a&gt;) tag to use in place of the\n\t * matched text, via its `match` object.\n\t *\n\t * @param {Autolinker.match.Match} match The Match instance to generate an\n\t *   anchor tag from.\n\t * @return {Autolinker.HtmlTag} The HtmlTag instance for the anchor tag.\n\t */\n\tbuild : function( match ) {\n\t\treturn new Autolinker.HtmlTag( {\n\t\t\ttagName   : 'a',\n\t\t\tattrs     : this.createAttrs( match ),\n\t\t\tinnerHtml : this.processAnchorText( match.getAnchorText() )\n\t\t} );\n\t},\n\n\n\t/**\n\t * Creates the Object (map) of the HTML attributes for the anchor (&lt;a&gt;)\n\t *   tag being generated.\n\t *\n\t * @protected\n\t * @param {Autolinker.match.Match} match The Match instance to generate an\n\t *   anchor tag from.\n\t * @return {Object} A key/value Object (map) of the anchor tag's attributes.\n\t */\n\tcreateAttrs : function( match ) {\n\t\tvar attrs = {\n\t\t\t'href' : match.getAnchorHref()  // we'll always have the `href` attribute\n\t\t};\n\n\t\tvar cssClass = this.createCssClass( match );\n\t\tif( cssClass ) {\n\t\t\tattrs[ 'class' ] = cssClass;\n\t\t}\n\t\tif( this.newWindow ) {\n\t\t\tattrs[ 'target' ] = \"_blank\";\n\t\t\tattrs[ 'rel' ] = \"noopener noreferrer\";\n\t\t}\n\n\t\tif( this.truncate ) {\n\t\t\tif( this.truncate.length && this.truncate.length < match.getAnchorText().length ) {\n\t\t\t\tattrs[ 'title' ] = match.getAnchorHref();\n\t\t\t}\n\t\t}\n\n\t\treturn attrs;\n\t},\n\n\n\t/**\n\t * Creates the CSS class that will be used for a given anchor tag, based on\n\t * the `matchType` and the {@link #className} config.\n\t *\n\t * Example returns:\n\t *\n\t * - \"\"                                      // no {@link #className}\n\t * - \"myLink myLink-url\"                     // url match\n\t * - \"myLink myLink-email\"                   // email match\n\t * - \"myLink myLink-phone\"                   // phone match\n\t * - \"myLink myLink-hashtag\"                 // hashtag match\n\t * - \"myLink myLink-mention myLink-twitter\"  // mention match with Twitter service\n\t *\n\t * @private\n\t * @param {Autolinker.match.Match} match The Match instance to generate an\n\t *   anchor tag from.\n\t * @return {String} The CSS class string for the link. Example return:\n\t *   \"myLink myLink-url\". If no {@link #className} was configured, returns\n\t *   an empty string.\n\t */\n\tcreateCssClass : function( match ) {\n\t\tvar className = this.className;\n\n\t\tif( !className ) {\n\t\t\treturn \"\";\n\n\t\t} else {\n\t\t\tvar returnClasses = [ className ],\n\t\t\t\tcssClassSuffixes = match.getCssClassSuffixes();\n\n\t\t\tfor( var i = 0, len = cssClassSuffixes.length; i < len; i++ ) {\n\t\t\t\treturnClasses.push( className + '-' + cssClassSuffixes[ i ] );\n\t\t\t}\n\t\t\treturn returnClasses.join( ' ' );\n\t\t}\n\t},\n\n\n\t/**\n\t * Processes the `anchorText` by truncating the text according to the\n\t * {@link #truncate} config.\n\t *\n\t * @private\n\t * @param {String} anchorText The anchor tag's text (i.e. what will be\n\t *   displayed).\n\t * @return {String} The processed `anchorText`.\n\t */\n\tprocessAnchorText : function( anchorText ) {\n\t\tanchorText = this.doTruncate( anchorText );\n\n\t\treturn anchorText;\n\t},\n\n\n\t/**\n\t * Performs the truncation of the `anchorText` based on the {@link #truncate}\n\t * option. If the `anchorText` is longer than the length specified by the\n\t * {@link #truncate} option, the truncation is performed based on the\n\t * `location` property. See {@link #truncate} for details.\n\t *\n\t * @private\n\t * @param {String} anchorText The anchor tag's text (i.e. what will be\n\t *   displayed).\n\t * @return {String} The truncated anchor text.\n\t */\n\tdoTruncate : function( anchorText ) {\n\t\tvar truncate = this.truncate;\n\t\tif( !truncate || !truncate.length ) return anchorText;\n\n\t\tvar truncateLength = truncate.length,\n\t\t\ttruncateLocation = truncate.location;\n\n\t\tif( truncateLocation === 'smart' ) {\n\t\t\treturn Autolinker.truncate.TruncateSmart( anchorText, truncateLength );\n\n\t\t} else if( truncateLocation === 'middle' ) {\n\t\t\treturn Autolinker.truncate.TruncateMiddle( anchorText, truncateLength );\n\n\t\t} else {\n\t\t\treturn Autolinker.truncate.TruncateEnd( anchorText, truncateLength );\n\t\t}\n\t}\n\n} );\n\n/*global Autolinker */\n/**\n * @class Autolinker.htmlParser.HtmlParser\n * @extends Object\n *\n * An HTML parser implementation which simply walks an HTML string and returns an array of\n * {@link Autolinker.htmlParser.HtmlNode HtmlNodes} that represent the basic HTML structure of the input string.\n *\n * Autolinker uses this to only link URLs/emails/mentions within text nodes, effectively ignoring / \"walking\n * around\" HTML tags.\n */\nAutolinker.htmlParser.HtmlParser = Autolinker.Util.extend( Object, {\n\n\t/**\n\t * @private\n\t * @property {RegExp} htmlRegex\n\t *\n\t * The regular expression used to pull out HTML tags from a string. Handles namespaced HTML tags and\n\t * attribute names, as specified by http://www.w3.org/TR/html-markup/syntax.html.\n\t *\n\t * Capturing groups:\n\t *\n\t * 1. The \"!DOCTYPE\" tag name, if a tag is a &lt;!DOCTYPE&gt; tag.\n\t * 2. If it is an end tag, this group will have the '/'.\n\t * 3. If it is a comment tag, this group will hold the comment text (i.e.\n\t *    the text inside the `&lt;!--` and `--&gt;`.\n\t * 4. The tag name for a tag without attributes (other than the &lt;!DOCTYPE&gt; tag)\n\t * 5. The tag name for a tag with attributes (other than the &lt;!DOCTYPE&gt; tag)\n\t */\n\thtmlRegex : (function() {\n\t\tvar commentTagRegex = /!--([\\s\\S]+?)--/,\n\t\t    tagNameRegex = /[0-9a-zA-Z][0-9a-zA-Z:]*/,\n\t\t    attrNameRegex = /[^\\s\"'>\\/=\\x00-\\x1F\\x7F]+/,   // the unicode range accounts for excluding control chars, and the delete char\n\t\t    attrValueRegex = /(?:\"[^\"]*?\"|'[^']*?'|[^'\"=<>`\\s]+)/, // double quoted, single quoted, or unquoted attribute values\n\t\t    optionalAttrValueRegex = '(?:\\\\s*?=\\\\s*?' + attrValueRegex.source + ')?'; // optional '=[value]'\n\n\t\tvar getNameEqualsValueRegex = function(group) {\n\t\t\treturn '(?=(' + attrNameRegex.source + '))\\\\' + group + optionalAttrValueRegex;\n\t\t};\n\n\t\treturn new RegExp( [\n\t\t\t// for <!DOCTYPE> tag. Ex: <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">)\n\t\t\t'(?:',\n\t\t\t\t'<(!DOCTYPE)',  // *** Capturing Group 1 - If it's a doctype tag\n\n\t\t\t\t\t// Zero or more attributes following the tag name\n\t\t\t\t\t'(?:',\n\t\t\t\t\t\t'\\\\s+',  // one or more whitespace chars before an attribute\n\n\t\t\t\t\t\t// Either:\n\t\t\t\t\t\t// A. attr=\"value\", or\n\t\t\t\t\t\t// B. \"value\" alone (To cover example doctype tag: <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">)\n\t\t\t\t\t\t// *** Capturing Group 2 - Pseudo-atomic group for attrNameRegex\n\t\t\t\t\t\t'(?:', getNameEqualsValueRegex(2), '|', attrValueRegex.source + ')',\n\t\t\t\t\t')*',\n\t\t\t\t'>',\n\t\t\t')',\n\n\t\t\t'|',\n\n\t\t\t// All other HTML tags (i.e. tags that are not <!DOCTYPE>)\n\t\t\t'(?:',\n\t\t\t\t'<(/)?',  // Beginning of a tag or comment. Either '<' for a start tag, or '</' for an end tag.\n\t\t\t\t          // *** Capturing Group 3: The slash or an empty string. Slash ('/') for end tag, empty string for start or self-closing tag.\n\n\t\t\t\t\t'(?:',\n\t\t\t\t\t\tcommentTagRegex.source,  // *** Capturing Group 4 - A Comment Tag's Text\n\n\t\t\t\t\t\t'|',\n\n\t\t\t\t\t\t// Handle tag without attributes.\n\t\t\t\t\t\t// Doing this separately from a tag that has attributes\n\t\t\t\t\t\t// to fix a regex time complexity issue seen with the\n\t\t\t\t\t\t// example in https://github.com/gregjacobs/Autolinker.js/issues/172\n\t\t\t\t\t\t'(?:',\n\t\t\t\t\t\t\t// *** Capturing Group 5 - The tag name for a tag without attributes\n\t\t\t\t\t\t\t'(' + tagNameRegex.source + ')',\n\n\t\t\t\t\t\t\t'\\\\s*/?',  // any trailing spaces and optional '/' before the closing '>'\n\t\t\t\t\t\t')',\n\n\t\t\t\t\t\t'|',\n\n\t\t\t\t\t\t// Handle tag with attributes\n\t\t\t\t\t\t// Doing this separately from a tag with no attributes\n\t\t\t\t\t\t// to fix a regex time complexity issue seen with the\n\t\t\t\t\t\t// example in https://github.com/gregjacobs/Autolinker.js/issues/172\n\t\t\t\t\t\t'(?:',\n\t\t\t\t\t\t\t// *** Capturing Group 6 - The tag name for a tag with attributes\n\t\t\t\t\t\t\t'(' + tagNameRegex.source + ')',\n\n\t\t\t\t\t\t\t'\\\\s+',  // must have at least one space after the tag name to prevent ReDoS issue (issue #172)\n\n\t\t\t\t\t\t\t// Zero or more attributes following the tag name\n\t\t\t\t\t\t\t'(?:',\n\t\t\t\t\t\t\t\t'(?:\\\\s+|\\\\b)',        // any number of whitespace chars before an attribute. NOTE: Using \\s* here throws Chrome into an infinite loop for some reason, so using \\s+|\\b instead\n\t\t\t\t\t\t\t\t// *** Capturing Group 7 - Pseudo-atomic group for attrNameRegex\n\t\t\t\t\t\t\t\tgetNameEqualsValueRegex(7),  // attr=\"value\" (with optional =\"value\" part)\n\t\t\t\t\t\t\t')*',\n\n\t\t\t\t\t\t\t'\\\\s*/?',  // any trailing spaces and optional '/' before the closing '>'\n\t\t\t\t\t\t')',\n\t\t\t\t\t')',\n\t\t\t\t'>',\n\t\t\t')'\n\t\t].join( \"\" ), 'gi' );\n\t} )(),\n\n\t/**\n\t * @private\n\t * @property {RegExp} htmlCharacterEntitiesRegex\n\t *\n\t * The regular expression that matches common HTML character entities.\n\t *\n\t * Ignoring &amp; as it could be part of a query string -- handling it separately.\n\t */\n\thtmlCharacterEntitiesRegex: /(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,\n\n\n\t/**\n\t * Parses an HTML string and returns a simple array of {@link Autolinker.htmlParser.HtmlNode HtmlNodes}\n\t * to represent the HTML structure of the input string.\n\t *\n\t * @param {String} html The HTML to parse.\n\t * @return {Autolinker.htmlParser.HtmlNode[]}\n\t */\n\tparse : function( html ) {\n\t\tvar htmlRegex = this.htmlRegex,\n\t\t    currentResult,\n\t\t    lastIndex = 0,\n\t\t    textAndEntityNodes,\n\t\t    nodes = [];  // will be the result of the method\n\n\t\twhile( ( currentResult = htmlRegex.exec( html ) ) !== null ) {\n\t\t\tvar tagText = currentResult[ 0 ],\n\t\t\t    commentText = currentResult[ 4 ], // if we've matched a comment\n\t\t\t    tagName = currentResult[ 1 ] || currentResult[ 5 ] || currentResult[ 6 ],  // The <!DOCTYPE> tag (ex: \"!DOCTYPE\"), or another tag (ex: \"a\" or \"img\")\n\t\t\t    isClosingTag = !!currentResult[ 3 ],\n\t\t\t    offset = currentResult.index,\n\t\t\t    inBetweenTagsText = html.substring( lastIndex, offset );\n\n\t\t\t// Push TextNodes and EntityNodes for any text found between tags\n\t\t\tif( inBetweenTagsText ) {\n\t\t\t\ttextAndEntityNodes = this.parseTextAndEntityNodes( lastIndex, inBetweenTagsText );\n\t\t\t\tnodes.push.apply( nodes, textAndEntityNodes );\n\t\t\t}\n\n\t\t\t// Push the CommentNode or ElementNode\n\t\t\tif( commentText ) {\n\t\t\t\tnodes.push( this.createCommentNode( offset, tagText, commentText ) );\n\t\t\t} else {\n\t\t\t\tnodes.push( this.createElementNode( offset, tagText, tagName, isClosingTag ) );\n\t\t\t}\n\n\t\t\tlastIndex = offset + tagText.length;\n\t\t}\n\n\t\t// Process any remaining text after the last HTML element. Will process all of the text if there were no HTML elements.\n\t\tif( lastIndex < html.length ) {\n\t\t\tvar text = html.substring( lastIndex );\n\n\t\t\t// Push TextNodes and EntityNodes for any text found between tags\n\t\t\tif( text ) {\n\t\t\t\ttextAndEntityNodes = this.parseTextAndEntityNodes( lastIndex, text );\n\n\t\t\t\t// Note: the following 3 lines were previously:\n\t\t\t\t//   nodes.push.apply( nodes, textAndEntityNodes );\n\t\t\t\t// but this was causing a \"Maximum Call Stack Size Exceeded\"\n\t\t\t\t// error on inputs with a large number of html entities.\n\t\t\t\ttextAndEntityNodes.forEach( function( node ) {\n\t\t\t\t\tnodes.push( node );\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\n\t\treturn nodes;\n\t},\n\n\n\t/**\n\t * Parses text and HTML entity nodes from a given string. The input string\n\t * should not have any HTML tags (elements) within it.\n\t *\n\t * @private\n\t * @param {Number} offset The offset of the text node match within the\n\t *   original HTML string.\n\t * @param {String} text The string of text to parse. This is from an HTML\n\t *   text node.\n\t * @return {Autolinker.htmlParser.HtmlNode[]} An array of HtmlNodes to\n\t *   represent the {@link Autolinker.htmlParser.TextNode TextNodes} and\n\t *   {@link Autolinker.htmlParser.EntityNode EntityNodes} found.\n\t */\n\tparseTextAndEntityNodes : function( offset, text ) {\n\t\tvar nodes = [],\n\t\t    textAndEntityTokens = Autolinker.Util.splitAndCapture( text, this.htmlCharacterEntitiesRegex );  // split at HTML entities, but include the HTML entities in the results array\n\n\t\t// Every even numbered token is a TextNode, and every odd numbered token is an EntityNode\n\t\t// For example: an input `text` of \"Test &quot;this&quot; today\" would turn into the\n\t\t//   `textAndEntityTokens`: [ 'Test ', '&quot;', 'this', '&quot;', ' today' ]\n\t\tfor( var i = 0, len = textAndEntityTokens.length; i < len; i += 2 ) {\n\t\t\tvar textToken = textAndEntityTokens[ i ],\n\t\t\t    entityToken = textAndEntityTokens[ i + 1 ];\n\n\t\t\tif( textToken ) {\n\t\t\t\tnodes.push( this.createTextNode( offset, textToken ) );\n\t\t\t\toffset += textToken.length;\n\t\t\t}\n\t\t\tif( entityToken ) {\n\t\t\t\tnodes.push( this.createEntityNode( offset, entityToken ) );\n\t\t\t\toffset += entityToken.length;\n\t\t\t}\n\t\t}\n\t\treturn nodes;\n\t},\n\n\n\t/**\n\t * Factory method to create an {@link Autolinker.htmlParser.CommentNode CommentNode}.\n\t *\n\t * @private\n\t * @param {Number} offset The offset of the match within the original HTML\n\t *   string.\n\t * @param {String} tagText The full text of the tag (comment) that was\n\t *   matched, including its &lt;!-- and --&gt;.\n\t * @param {String} commentText The full text of the comment that was matched.\n\t */\n\tcreateCommentNode : function( offset, tagText, commentText ) {\n\t\treturn new Autolinker.htmlParser.CommentNode( {\n\t\t\toffset : offset,\n\t\t\ttext   : tagText,\n\t\t\tcomment: Autolinker.Util.trim( commentText )\n\t\t} );\n\t},\n\n\n\t/**\n\t * Factory method to create an {@link Autolinker.htmlParser.ElementNode ElementNode}.\n\t *\n\t * @private\n\t * @param {Number} offset The offset of the match within the original HTML\n\t *   string.\n\t * @param {String} tagText The full text of the tag (element) that was\n\t *   matched, including its attributes.\n\t * @param {String} tagName The name of the tag. Ex: An &lt;img&gt; tag would\n\t *   be passed to this method as \"img\".\n\t * @param {Boolean} isClosingTag `true` if it's a closing tag, false\n\t *   otherwise.\n\t * @return {Autolinker.htmlParser.ElementNode}\n\t */\n\tcreateElementNode : function( offset, tagText, tagName, isClosingTag ) {\n\t\treturn new Autolinker.htmlParser.ElementNode( {\n\t\t\toffset  : offset,\n\t\t\ttext    : tagText,\n\t\t\ttagName : tagName.toLowerCase(),\n\t\t\tclosing : isClosingTag\n\t\t} );\n\t},\n\n\n\t/**\n\t * Factory method to create a {@link Autolinker.htmlParser.EntityNode EntityNode}.\n\t *\n\t * @private\n\t * @param {Number} offset The offset of the match within the original HTML\n\t *   string.\n\t * @param {String} text The text that was matched for the HTML entity (such\n\t *   as '&amp;nbsp;').\n\t * @return {Autolinker.htmlParser.EntityNode}\n\t */\n\tcreateEntityNode : function( offset, text ) {\n\t\treturn new Autolinker.htmlParser.EntityNode( { offset: offset, text: text } );\n\t},\n\n\n\t/**\n\t * Factory method to create a {@link Autolinker.htmlParser.TextNode TextNode}.\n\t *\n\t * @private\n\t * @param {Number} offset The offset of the match within the original HTML\n\t *   string.\n\t * @param {String} text The text that was matched.\n\t * @return {Autolinker.htmlParser.TextNode}\n\t */\n\tcreateTextNode : function( offset, text ) {\n\t\treturn new Autolinker.htmlParser.TextNode( { offset: offset, text: text } );\n\t}\n\n} );\n\n/*global Autolinker */\n/**\n * @abstract\n * @class Autolinker.htmlParser.HtmlNode\n *\n * Represents an HTML node found in an input string. An HTML node is one of the\n * following:\n *\n * 1. An {@link Autolinker.htmlParser.ElementNode ElementNode}, which represents\n *    HTML tags.\n * 2. A {@link Autolinker.htmlParser.CommentNode CommentNode}, which represents\n *    HTML comments.\n * 3. A {@link Autolinker.htmlParser.TextNode TextNode}, which represents text\n *    outside or within HTML tags.\n * 4. A {@link Autolinker.htmlParser.EntityNode EntityNode}, which represents\n *    one of the known HTML entities that Autolinker looks for. This includes\n *    common ones such as &amp;quot; and &amp;nbsp;\n */\nAutolinker.htmlParser.HtmlNode = Autolinker.Util.extend( Object, {\n\n\t/**\n\t * @cfg {Number} offset (required)\n\t *\n\t * The offset of the HTML node in the original text that was parsed.\n\t */\n\toffset : undefined,\n\n\t/**\n\t * @cfg {String} text (required)\n\t *\n\t * The text that was matched for the HtmlNode.\n\t *\n\t * - In the case of an {@link Autolinker.htmlParser.ElementNode ElementNode},\n\t *   this will be the tag's text.\n\t * - In the case of an {@link Autolinker.htmlParser.CommentNode CommentNode},\n\t *   this will be the comment's text.\n\t * - In the case of a {@link Autolinker.htmlParser.TextNode TextNode}, this\n\t *   will be the text itself.\n\t * - In the case of a {@link Autolinker.htmlParser.EntityNode EntityNode},\n\t *   this will be the text of the HTML entity.\n\t */\n\ttext : undefined,\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match instance,\n\t * specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.Util.assign( this, cfg );\n\n\t\tif( this.offset == null ) throw new Error( '`offset` cfg required' );\n\t\tif( this.text == null ) throw new Error( '`text` cfg required' );\n\t},\n\n\n\t/**\n\t * Returns a string name for the type of node that this class represents.\n\t *\n\t * @abstract\n\t * @return {String}\n\t */\n\tgetType : Autolinker.Util.abstractMethod,\n\n\n\t/**\n\t * Retrieves the {@link #offset} of the HtmlNode. This is the offset of the\n\t * HTML node in the original string that was parsed.\n\t *\n\t * @return {Number}\n\t */\n\tgetOffset : function() {\n\t\treturn this.offset;\n\t},\n\n\n\t/**\n\t * Retrieves the {@link #text} for the HtmlNode.\n\t *\n\t * @return {String}\n\t */\n\tgetText : function() {\n\t\treturn this.text;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.htmlParser.CommentNode\n * @extends Autolinker.htmlParser.HtmlNode\n *\n * Represents an HTML comment node that has been parsed by the\n * {@link Autolinker.htmlParser.HtmlParser}.\n *\n * See this class's superclass ({@link Autolinker.htmlParser.HtmlNode}) for more\n * details.\n */\nAutolinker.htmlParser.CommentNode = Autolinker.Util.extend( Autolinker.htmlParser.HtmlNode, {\n\n\t/**\n\t * @cfg {String} comment (required)\n\t *\n\t * The text inside the comment tag. This text is stripped of any leading or\n\t * trailing whitespace.\n\t */\n\tcomment : '',\n\n\n\t/**\n\t * Returns a string name for the type of node that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'comment';\n\t},\n\n\n\t/**\n\t * Returns the comment inside the comment tag.\n\t *\n\t * @return {String}\n\t */\n\tgetComment : function() {\n\t\treturn this.comment;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.htmlParser.ElementNode\n * @extends Autolinker.htmlParser.HtmlNode\n *\n * Represents an HTML element node that has been parsed by the {@link Autolinker.htmlParser.HtmlParser}.\n *\n * See this class's superclass ({@link Autolinker.htmlParser.HtmlNode}) for more\n * details.\n */\nAutolinker.htmlParser.ElementNode = Autolinker.Util.extend( Autolinker.htmlParser.HtmlNode, {\n\n\t/**\n\t * @cfg {String} tagName (required)\n\t *\n\t * The name of the tag that was matched.\n\t */\n\ttagName : '',\n\n\t/**\n\t * @cfg {Boolean} closing (required)\n\t *\n\t * `true` if the element (tag) is a closing tag, `false` if its an opening\n\t * tag.\n\t */\n\tclosing : false,\n\n\n\t/**\n\t * Returns a string name for the type of node that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'element';\n\t},\n\n\n\t/**\n\t * Returns the HTML element's (tag's) name. Ex: for an &lt;img&gt; tag,\n\t * returns \"img\".\n\t *\n\t * @return {String}\n\t */\n\tgetTagName : function() {\n\t\treturn this.tagName;\n\t},\n\n\n\t/**\n\t * Determines if the HTML element (tag) is a closing tag. Ex: &lt;div&gt;\n\t * returns `false`, while &lt;/div&gt; returns `true`.\n\t *\n\t * @return {Boolean}\n\t */\n\tisClosing : function() {\n\t\treturn this.closing;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.htmlParser.EntityNode\n * @extends Autolinker.htmlParser.HtmlNode\n *\n * Represents a known HTML entity node that has been parsed by the {@link Autolinker.htmlParser.HtmlParser}.\n * Ex: '&amp;nbsp;', or '&amp#160;' (which will be retrievable from the {@link #getText}\n * method.\n *\n * Note that this class will only be returned from the HtmlParser for the set of\n * checked HTML entity nodes  defined by the {@link Autolinker.htmlParser.HtmlParser#htmlCharacterEntitiesRegex}.\n *\n * See this class's superclass ({@link Autolinker.htmlParser.HtmlNode}) for more\n * details.\n */\nAutolinker.htmlParser.EntityNode = Autolinker.Util.extend( Autolinker.htmlParser.HtmlNode, {\n\n\t/**\n\t * Returns a string name for the type of node that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'entity';\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.htmlParser.TextNode\n * @extends Autolinker.htmlParser.HtmlNode\n *\n * Represents a text node that has been parsed by the {@link Autolinker.htmlParser.HtmlParser}.\n *\n * See this class's superclass ({@link Autolinker.htmlParser.HtmlNode}) for more\n * details.\n */\nAutolinker.htmlParser.TextNode = Autolinker.Util.extend( Autolinker.htmlParser.HtmlNode, {\n\n\t/**\n\t * Returns a string name for the type of node that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'text';\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @abstract\n * @class Autolinker.match.Match\n *\n * Represents a match found in an input string which should be Autolinked. A Match object is what is provided in a\n * {@link Autolinker#replaceFn replaceFn}, and may be used to query for details about the match.\n *\n * For example:\n *\n *     var input = \"...\";  // string with URLs, Email Addresses, and Mentions (Twitter, Instagram, Soundcloud)\n *\n *     var linkedText = Autolinker.link( input, {\n *         replaceFn : function( match ) {\n *             console.log( \"href = \", match.getAnchorHref() );\n *             console.log( \"text = \", match.getAnchorText() );\n *\n *             switch( match.getType() ) {\n *                 case 'url' :\n *                     console.log( \"url: \", match.getUrl() );\n *\n *                 case 'email' :\n *                     console.log( \"email: \", match.getEmail() );\n *\n *                 case 'mention' :\n *                     console.log( \"mention: \", match.getMention() );\n *             }\n *         }\n *     } );\n *\n * See the {@link Autolinker} class for more details on using the {@link Autolinker#replaceFn replaceFn}.\n */\nAutolinker.match.Match = Autolinker.Util.extend( Object, {\n\n\t/**\n\t * @cfg {Autolinker.AnchorTagBuilder} tagBuilder (required)\n\t *\n\t * Reference to the AnchorTagBuilder instance to use to generate an anchor\n\t * tag for the Match.\n\t */\n\n\t/**\n\t * @cfg {String} matchedText (required)\n\t *\n\t * The original text that was matched by the {@link Autolinker.matcher.Matcher}.\n\t */\n\n\t/**\n\t * @cfg {Number} offset (required)\n\t *\n\t * The offset of where the match was made in the input string.\n\t */\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match\n\t *   instance, specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tif( cfg.tagBuilder == null ) throw new Error( '`tagBuilder` cfg required' );\n\t\tif( cfg.matchedText == null ) throw new Error( '`matchedText` cfg required' );\n\t\tif( cfg.offset == null ) throw new Error( '`offset` cfg required' );\n\n\t\tthis.tagBuilder = cfg.tagBuilder;\n\t\tthis.matchedText = cfg.matchedText;\n\t\tthis.offset = cfg.offset;\n\t},\n\n\n\t/**\n\t * Returns a string name for the type of match that this class represents.\n\t *\n\t * @abstract\n\t * @return {String}\n\t */\n\tgetType : Autolinker.Util.abstractMethod,\n\n\n\t/**\n\t * Returns the original text that was matched.\n\t *\n\t * @return {String}\n\t */\n\tgetMatchedText : function() {\n\t\treturn this.matchedText;\n\t},\n\n\n\t/**\n\t * Sets the {@link #offset} of where the match was made in the input string.\n\t *\n\t * A {@link Autolinker.matcher.Matcher} will be fed only HTML text nodes,\n\t * and will therefore set an original offset that is relative to the HTML\n\t * text node itself. However, we want this offset to be relative to the full\n\t * HTML input string, and thus if using {@link Autolinker#parse} (rather\n\t * than calling a {@link Autolinker.matcher.Matcher} directly), then this\n\t * offset is corrected after the Matcher itself has done its job.\n\t *\n\t * @param {Number} offset\n\t */\n\tsetOffset : function( offset ) {\n\t\tthis.offset = offset;\n\t},\n\n\n\t/**\n\t * Returns the offset of where the match was made in the input string. This\n\t * is the 0-based index of the match.\n\t *\n\t * @return {Number}\n\t */\n\tgetOffset : function() {\n\t\treturn this.offset;\n\t},\n\n\n\t/**\n\t * Returns the anchor href that should be generated for the match.\n\t *\n\t * @abstract\n\t * @return {String}\n\t */\n\tgetAnchorHref : Autolinker.Util.abstractMethod,\n\n\n\t/**\n\t * Returns the anchor text that should be generated for the match.\n\t *\n\t * @abstract\n\t * @return {String}\n\t */\n\tgetAnchorText : Autolinker.Util.abstractMethod,\n\n\n\t/**\n\t * Returns the CSS class suffix(es) for this match.\n\t *\n\t * A CSS class suffix is appended to the {@link Autolinker#className} in\n\t * the {@link Autolinker.AnchorTagBuilder} when a match is translated into\n\t * an anchor tag.\n\t *\n\t * For example, if {@link Autolinker#className} was configured as 'myLink',\n\t * and this method returns `[ 'url' ]`, the final class name of the element\n\t * will become: 'myLink myLink-url'.\n\t *\n\t * The match may provide multiple CSS class suffixes to be appended to the\n\t * {@link Autolinker#className} in order to facilitate better styling\n\t * options for different match criteria. See {@link Autolinker.match.Mention}\n\t * for an example.\n\t *\n\t * By default, this method returns a single array with the match's\n\t * {@link #getType type} name, but may be overridden by subclasses.\n\t *\n\t * @return {String[]}\n\t */\n\tgetCssClassSuffixes : function() {\n\t\treturn [ this.getType() ];\n\t},\n\n\n\t/**\n\t * Builds and returns an {@link Autolinker.HtmlTag} instance based on the\n\t * Match.\n\t *\n\t * This can be used to easily generate anchor tags from matches, and either\n\t * return their HTML string, or modify them before doing so.\n\t *\n\t * Example Usage:\n\t *\n\t *     var tag = match.buildTag();\n\t *     tag.addClass( 'cordova-link' );\n\t *     tag.setAttr( 'target', '_system' );\n\t *\n\t *     tag.toAnchorString();  // <a href=\"http://google.com\" class=\"cordova-link\" target=\"_system\">Google</a>\n\t */\n\tbuildTag : function() {\n\t\treturn this.tagBuilder.build( this );\n\t}\n\n} );\n\n/*global Autolinker */\n/**\n * @class Autolinker.match.Email\n * @extends Autolinker.match.Match\n *\n * Represents a Email match found in an input string which should be Autolinked.\n *\n * See this class's superclass ({@link Autolinker.match.Match}) for more details.\n */\nAutolinker.match.Email = Autolinker.Util.extend( Autolinker.match.Match, {\n\n\t/**\n\t * @cfg {String} email (required)\n\t *\n\t * The email address that was matched.\n\t */\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match\n\t *   instance, specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.match.Match.prototype.constructor.call( this, cfg );\n\n\t\tif( !cfg.email ) throw new Error( '`email` cfg required' );\n\n\t\tthis.email = cfg.email;\n\t},\n\n\n\t/**\n\t * Returns a string name for the type of match that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'email';\n\t},\n\n\n\t/**\n\t * Returns the email address that was matched.\n\t *\n\t * @return {String}\n\t */\n\tgetEmail : function() {\n\t\treturn this.email;\n\t},\n\n\n\t/**\n\t * Returns the anchor href that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorHref : function() {\n\t\treturn 'mailto:' + this.email;\n\t},\n\n\n\t/**\n\t * Returns the anchor text that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorText : function() {\n\t\treturn this.email;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.match.Hashtag\n * @extends Autolinker.match.Match\n *\n * Represents a Hashtag match found in an input string which should be\n * Autolinked.\n *\n * See this class's superclass ({@link Autolinker.match.Match}) for more\n * details.\n */\nAutolinker.match.Hashtag = Autolinker.Util.extend( Autolinker.match.Match, {\n\n\t/**\n\t * @cfg {String} serviceName\n\t *\n\t * The service to point hashtag matches to. See {@link Autolinker#hashtag}\n\t * for available values.\n\t */\n\n\t/**\n\t * @cfg {String} hashtag (required)\n\t *\n\t * The Hashtag that was matched, without the '#'.\n\t */\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match\n\t *   instance, specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.match.Match.prototype.constructor.call( this, cfg );\n\n\t\t// TODO: if( !serviceName ) throw new Error( '`serviceName` cfg required' );\n\t\tif( !cfg.hashtag ) throw new Error( '`hashtag` cfg required' );\n\n\t\tthis.serviceName = cfg.serviceName;\n\t\tthis.hashtag = cfg.hashtag;\n\t},\n\n\n\t/**\n\t * Returns the type of match that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'hashtag';\n\t},\n\n\n\t/**\n\t * Returns the configured {@link #serviceName} to point the Hashtag to.\n\t * Ex: 'facebook', 'twitter'.\n\t *\n\t * @return {String}\n\t */\n\tgetServiceName : function() {\n\t\treturn this.serviceName;\n\t},\n\n\n\t/**\n\t * Returns the matched hashtag, without the '#' character.\n\t *\n\t * @return {String}\n\t */\n\tgetHashtag : function() {\n\t\treturn this.hashtag;\n\t},\n\n\n\t/**\n\t * Returns the anchor href that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorHref : function() {\n\t\tvar serviceName = this.serviceName,\n\t\t    hashtag = this.hashtag;\n\n\t\tswitch( serviceName ) {\n\t\t\tcase 'twitter' :\n\t\t\t\treturn 'https://twitter.com/hashtag/' + hashtag;\n\t\t\tcase 'facebook' :\n\t\t\t\treturn 'https://www.facebook.com/hashtag/' + hashtag;\n\t\t\tcase 'instagram' :\n\t\t\t\treturn 'https://instagram.com/explore/tags/' + hashtag;\n\n\t\t\tdefault :  // Shouldn't happen because Autolinker's constructor should block any invalid values, but just in case.\n\t\t\t\tthrow new Error( 'Unknown service name to point hashtag to: ', serviceName );\n\t\t}\n\t},\n\n\n\t/**\n\t * Returns the anchor text that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorText : function() {\n\t\treturn '#' + this.hashtag;\n\t}\n\n} );\n\n/*global Autolinker */\n/**\n * @class Autolinker.match.Phone\n * @extends Autolinker.match.Match\n *\n * Represents a Phone number match found in an input string which should be\n * Autolinked.\n *\n * See this class's superclass ({@link Autolinker.match.Match}) for more\n * details.\n */\nAutolinker.match.Phone = Autolinker.Util.extend( Autolinker.match.Match, {\n\n\t/**\n\t * @protected\n\t * @property {String} number (required)\n\t *\n\t * The phone number that was matched, without any delimiter characters.\n\t *\n\t * Note: This is a string to allow for prefixed 0's.\n\t */\n\n\t/**\n\t * @protected\n\t * @property  {Boolean} plusSign (required)\n\t *\n\t * `true` if the matched phone number started with a '+' sign. We'll include\n\t * it in the `tel:` URL if so, as this is needed for international numbers.\n\t *\n\t * Ex: '+1 (123) 456 7879'\n\t */\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match\n\t *   instance, specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.match.Match.prototype.constructor.call( this, cfg );\n\n\t\tif( !cfg.number ) throw new Error( '`number` cfg required' );\n\t\tif( cfg.plusSign == null ) throw new Error( '`plusSign` cfg required' );\n\n\t\tthis.number = cfg.number;\n\t\tthis.plusSign = cfg.plusSign;\n\t},\n\n\n\t/**\n\t * Returns a string name for the type of match that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'phone';\n\t},\n\n\n\t/**\n\t * Returns the phone number that was matched as a string, without any\n\t * delimiter characters.\n\t *\n\t * Note: This is a string to allow for prefixed 0's.\n\t *\n\t * @return {String}\n\t */\n\tgetNumber: function() {\n\t\treturn this.number;\n\t},\n\n\n\t/**\n\t * Returns the anchor href that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorHref : function() {\n\t\treturn 'tel:' + ( this.plusSign ? '+' : '' ) + this.number;\n\t},\n\n\n\t/**\n\t * Returns the anchor text that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorText : function() {\n\t\treturn this.matchedText;\n\t}\n\n} );\n\n/*global Autolinker */\n/**\n * @class Autolinker.match.Mention\n * @extends Autolinker.match.Match\n *\n * Represents a Mention match found in an input string which should be Autolinked.\n *\n * See this class's superclass ({@link Autolinker.match.Match}) for more details.\n */\nAutolinker.match.Mention = Autolinker.Util.extend( Autolinker.match.Match, {\n\n\t/**\n\t * @cfg {String} serviceName\n\t *\n\t * The service to point mention matches to. See {@link Autolinker#mention}\n\t * for available values.\n\t */\n\n\t/**\n\t * @cfg {String} mention (required)\n\t *\n\t * The Mention that was matched, without the '@' character.\n\t */\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match\n\t *   instance, specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.match.Match.prototype.constructor.call( this, cfg );\n\n\t\tif( !cfg.serviceName ) throw new Error( '`serviceName` cfg required' );\n\t\tif( !cfg.mention ) throw new Error( '`mention` cfg required' );\n\n\t\tthis.mention = cfg.mention;\n\t\tthis.serviceName = cfg.serviceName;\n\t},\n\n\n\t/**\n\t * Returns the type of match that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'mention';\n\t},\n\n\n\t/**\n\t * Returns the mention, without the '@' character.\n\t *\n\t * @return {String}\n\t */\n\tgetMention : function() {\n\t\treturn this.mention;\n\t},\n\n\n\t/**\n\t * Returns the configured {@link #serviceName} to point the mention to.\n\t * Ex: 'instagram', 'twitter', 'soundcloud'.\n\t *\n\t * @return {String}\n\t */\n\tgetServiceName : function() {\n\t\treturn this.serviceName;\n\t},\n\n\n\t/**\n\t * Returns the anchor href that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorHref : function() {\n\t\tswitch( this.serviceName ) {\n\t\t\tcase 'twitter' :\n\t\t\t\treturn 'https://twitter.com/' + this.mention;\n\t\t\tcase 'instagram' :\n\t\t\t\treturn 'https://instagram.com/' + this.mention;\n\t\t\tcase 'soundcloud' :\n\t\t\t\treturn 'https://soundcloud.com/' + this.mention;\n\n\t\t\tdefault :  // Shouldn't happen because Autolinker's constructor should block any invalid values, but just in case.\n\t\t\t\tthrow new Error( 'Unknown service name to point mention to: ', this.serviceName );\n\t\t}\n\t},\n\n\n\t/**\n\t * Returns the anchor text that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorText : function() {\n\t\treturn '@' + this.mention;\n\t},\n\n\n\t/**\n\t * Returns the CSS class suffixes that should be used on a tag built with\n\t * the match. See {@link Autolinker.match.Match#getCssClassSuffixes} for\n\t * details.\n\t *\n\t * @return {String[]}\n\t */\n\tgetCssClassSuffixes : function() {\n\t\tvar cssClassSuffixes = Autolinker.match.Match.prototype.getCssClassSuffixes.call( this ),\n\t\t    serviceName = this.getServiceName();\n\n\t\tif( serviceName ) {\n\t\t\tcssClassSuffixes.push( serviceName );\n\t\t}\n\t\treturn cssClassSuffixes;\n\t}\n\n} );\n\n/*global Autolinker */\n/**\n * @class Autolinker.match.Url\n * @extends Autolinker.match.Match\n *\n * Represents a Url match found in an input string which should be Autolinked.\n *\n * See this class's superclass ({@link Autolinker.match.Match}) for more details.\n */\nAutolinker.match.Url = Autolinker.Util.extend( Autolinker.match.Match, {\n\n\t/**\n\t * @cfg {String} url (required)\n\t *\n\t * The url that was matched.\n\t */\n\n\t/**\n\t * @cfg {\"scheme\"/\"www\"/\"tld\"} urlMatchType (required)\n\t *\n\t * The type of URL match that this class represents. This helps to determine\n\t * if the match was made in the original text with a prefixed scheme (ex:\n\t * 'http://www.google.com'), a prefixed 'www' (ex: 'www.google.com'), or\n\t * was matched by a known top-level domain (ex: 'google.com').\n\t */\n\n\t/**\n\t * @cfg {Boolean} protocolUrlMatch (required)\n\t *\n\t * `true` if the URL is a match which already has a protocol (i.e.\n\t * 'http://'), `false` if the match was from a 'www' or known TLD match.\n\t */\n\n\t/**\n\t * @cfg {Boolean} protocolRelativeMatch (required)\n\t *\n\t * `true` if the URL is a protocol-relative match. A protocol-relative match\n\t * is a URL that starts with '//', and will be either http:// or https://\n\t * based on the protocol that the site is loaded under.\n\t */\n\n\t/**\n\t * @cfg {Object} stripPrefix (required)\n\t *\n\t * The Object form of {@link Autolinker#cfg-stripPrefix}.\n\t */\n\n\t/**\n\t * @cfg {Boolean} stripTrailingSlash (required)\n\t * @inheritdoc Autolinker#cfg-stripTrailingSlash\n\t */\n\n\t/**\n\t * @cfg {Boolean} decodePercentEncoding (required)\n\t * @inheritdoc Autolinker#cfg-decodePercentEncoding\n\t */\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match\n\t *   instance, specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.match.Match.prototype.constructor.call( this, cfg );\n\n\t\tif( cfg.urlMatchType !== 'scheme' && cfg.urlMatchType !== 'www' && cfg.urlMatchType !== 'tld' ) throw new Error( '`urlMatchType` cfg must be one of: \"scheme\", \"www\", or \"tld\"' );\n\t\tif( !cfg.url ) throw new Error( '`url` cfg required' );\n\t\tif( cfg.protocolUrlMatch == null ) throw new Error( '`protocolUrlMatch` cfg required' );\n\t\tif( cfg.protocolRelativeMatch == null ) throw new Error( '`protocolRelativeMatch` cfg required' );\n\t\tif( cfg.stripPrefix == null ) throw new Error( '`stripPrefix` cfg required' );\n\t\tif( cfg.stripTrailingSlash == null ) throw new Error( '`stripTrailingSlash` cfg required' );\n\t\tif( cfg.decodePercentEncoding == null ) throw new Error( '`decodePercentEncoding` cfg required' );\n\n\t\tthis.urlMatchType = cfg.urlMatchType;\n\t\tthis.url = cfg.url;\n\t\tthis.protocolUrlMatch = cfg.protocolUrlMatch;\n\t\tthis.protocolRelativeMatch = cfg.protocolRelativeMatch;\n\t\tthis.stripPrefix = cfg.stripPrefix;\n\t\tthis.stripTrailingSlash = cfg.stripTrailingSlash;\n\t\tthis.decodePercentEncoding = cfg.decodePercentEncoding;\n\t},\n\n\n\t/**\n\t * @private\n\t * @property {RegExp} schemePrefixRegex\n\t *\n\t * A regular expression used to remove the 'http://' or 'https://' from\n\t * URLs.\n\t */\n\tschemePrefixRegex: /^(https?:\\/\\/)?/i,\n\n\t/**\n\t * @private\n\t * @property {RegExp} wwwPrefixRegex\n\t *\n\t * A regular expression used to remove the 'www.' from URLs.\n\t */\n\twwwPrefixRegex: /^(https?:\\/\\/)?(www\\.)?/i,\n\n\t/**\n\t * @private\n\t * @property {RegExp} protocolRelativeRegex\n\t *\n\t * The regular expression used to remove the protocol-relative '//' from the {@link #url} string, for purposes\n\t * of {@link #getAnchorText}. A protocol-relative URL is, for example, \"//yahoo.com\"\n\t */\n\tprotocolRelativeRegex : /^\\/\\//,\n\n\t/**\n\t * @private\n\t * @property {Boolean} protocolPrepended\n\t *\n\t * Will be set to `true` if the 'http://' protocol has been prepended to the {@link #url} (because the\n\t * {@link #url} did not have a protocol)\n\t */\n\tprotocolPrepended : false,\n\n\n\t/**\n\t * Returns a string name for the type of match that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'url';\n\t},\n\n\n\t/**\n\t * Returns a string name for the type of URL match that this class\n\t * represents.\n\t *\n\t * This helps to determine if the match was made in the original text with a\n\t * prefixed scheme (ex: 'http://www.google.com'), a prefixed 'www' (ex:\n\t * 'www.google.com'), or was matched by a known top-level domain (ex:\n\t * 'google.com').\n\t *\n\t * @return {\"scheme\"/\"www\"/\"tld\"}\n\t */\n\tgetUrlMatchType : function() {\n\t\treturn this.urlMatchType;\n\t},\n\n\n\t/**\n\t * Returns the url that was matched, assuming the protocol to be 'http://' if the original\n\t * match was missing a protocol.\n\t *\n\t * @return {String}\n\t */\n\tgetUrl : function() {\n\t\tvar url = this.url;\n\n\t\t// if the url string doesn't begin with a protocol, assume 'http://'\n\t\tif( !this.protocolRelativeMatch && !this.protocolUrlMatch && !this.protocolPrepended ) {\n\t\t\turl = this.url = 'http://' + url;\n\n\t\t\tthis.protocolPrepended = true;\n\t\t}\n\n\t\treturn url;\n\t},\n\n\n\t/**\n\t * Returns the anchor href that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorHref : function() {\n\t\tvar url = this.getUrl();\n\n\t\treturn url.replace( /&amp;/g, '&' );  // any &amp;'s in the URL should be converted back to '&' if they were displayed as &amp; in the source html\n\t},\n\n\n\t/**\n\t * Returns the anchor text that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorText : function() {\n\t\tvar anchorText = this.getMatchedText();\n\n\t\tif( this.protocolRelativeMatch ) {\n\t\t\t// Strip off any protocol-relative '//' from the anchor text\n\t\t\tanchorText = this.stripProtocolRelativePrefix( anchorText );\n\t\t}\n\t\tif( this.stripPrefix.scheme ) {\n\t\t\tanchorText = this.stripSchemePrefix( anchorText );\n\t\t}\n\t\tif( this.stripPrefix.www ) {\n\t\t\tanchorText = this.stripWwwPrefix( anchorText );\n\t\t}\n\t\tif( this.stripTrailingSlash ) {\n\t\t\tanchorText = this.removeTrailingSlash( anchorText );  // remove trailing slash, if there is one\n\t\t}\n\t\tif( this.decodePercentEncoding ) {\n\t\t\tanchorText = this.removePercentEncoding( anchorText);\n\t\t}\n\n\t\treturn anchorText;\n\t},\n\n\n\t// ---------------------------------------\n\n\t// Utility Functionality\n\n\t/**\n\t * Strips the scheme prefix (such as \"http://\" or \"https://\") from the given\n\t * `url`.\n\t *\n\t * @private\n\t * @param {String} url The text of the anchor that is being generated, for\n\t *   which to strip off the url scheme.\n\t * @return {String} The `url`, with the scheme stripped.\n\t */\n\tstripSchemePrefix : function( url ) {\n\t\treturn url.replace( this.schemePrefixRegex, '' );\n\t},\n\n\n\t/**\n\t * Strips the 'www' prefix from the given `url`.\n\t *\n\t * @private\n\t * @param {String} url The text of the anchor that is being generated, for\n\t *   which to strip off the 'www' if it exists.\n\t * @return {String} The `url`, with the 'www' stripped.\n\t */\n\tstripWwwPrefix : function( url ) {\n\t\treturn url.replace( this.wwwPrefixRegex, '$1' );  // leave any scheme ($1), it one exists\n\t},\n\n\n\t/**\n\t * Strips any protocol-relative '//' from the anchor text.\n\t *\n\t * @private\n\t * @param {String} text The text of the anchor that is being generated, for which to strip off the\n\t *   protocol-relative prefix (such as stripping off \"//\")\n\t * @return {String} The `anchorText`, with the protocol-relative prefix stripped.\n\t */\n\tstripProtocolRelativePrefix : function( text ) {\n\t\treturn text.replace( this.protocolRelativeRegex, '' );\n\t},\n\n\n\t/**\n\t * Removes any trailing slash from the given `anchorText`, in preparation for the text to be displayed.\n\t *\n\t * @private\n\t * @param {String} anchorText The text of the anchor that is being generated, for which to remove any trailing\n\t *   slash ('/') that may exist.\n\t * @return {String} The `anchorText`, with the trailing slash removed.\n\t */\n\tremoveTrailingSlash : function( anchorText ) {\n\t\tif( anchorText.charAt( anchorText.length - 1 ) === '/' ) {\n\t\t\tanchorText = anchorText.slice( 0, -1 );\n\t\t}\n\t\treturn anchorText;\n\t},\n\n\t/**\n\t * Decodes percent-encoded characters from the given `anchorText`, in preparation for the text to be displayed.\n\t *\n\t * @private\n\t * @param {String} anchorText The text of the anchor that is being generated, for which to decode any percent-encoded characters.\n\t * @return {String} The `anchorText`, with the percent-encoded characters decoded.\n\t */\n\tremovePercentEncoding : function( anchorText ) {\n\t\ttry {\n\t\t\treturn decodeURIComponent( anchorText\n\t\t\t\t.replace( /%22/gi, '&quot;' )\n\t\t\t\t.replace( /%26/gi, '&amp;' )\n\t\t\t\t.replace( /%27/gi, '&#39;')\n\t\t\t\t.replace( /%3C/gi, '&lt;' )\n\t\t\t\t.replace( /%3E/gi, '&gt;' )\n\t\t\t );\n\t\t} catch (e) {\n\t\t\t// Invalid escape sequence.\n\t\t\treturn anchorText;\n\t\t}\n\t}\n\n} );\n// NOTE: THIS IS A GENERATED FILE\n// To update with the latest TLD list, run `gulp update-tld-list`\n\n/*global Autolinker */\nAutolinker.tldRegex = /(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|northwesternmutual|travelersinsurance|vermögensberatung|xn--3oq18vl8pn36a|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermögensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbc0a9azcg|xn--nqv7fs00ema|afamilycompany|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--jlq61u9w7b|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|international|lifeinsurance|orientexpress|spreadbetting|travelchannel|wolterskluwer|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|pamperedchef|scholarships|versicherung|xn--3e0b707e|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|rightathome|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--3bst00m|xn--3ds443g|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--pbt977c|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b|சிங்கப்பூர்|accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nationwide|newholland|nextdirect|onyourside|properties|protection|prudential|realestate|republican|restaurant|schaeffler|swiftcover|tatamotors|technology|telefonica|university|vistaprint|vlaanderen|volkswagen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|fujixerox|furniture|goldpoint|goodhands|hisamitsu|homedepot|homegoods|homesense|honeywell|institute|insurance|kuokgroup|ladbrokes|lancaster|landrover|lifestyle|marketing|marshalls|mcdonalds|melbourne|microsoft|montblanc|panasonic|passagens|pramerica|richardli|scjohnson|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--nqv7f|xn--p1acf|xn--tckwe|xn--vhquv|yodobashi|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|budapest|builders|business|capetown|catering|catholic|chrysler|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|esurance|everbank|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|mortgage|movistar|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|symantec|telecity|training|uconnect|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama|السعودية|abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|cartier|channel|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|iselect|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lancome|lanxess|lasalle|latrobe|leclerc|liaison|limited|lincoln|markets|metlife|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|panerai|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|shriram|singles|spiegel|staples|starhub|statoil|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich|католик|الجزائر|العليان|پاکستان|كاثوليك|موبايلي|இந்தியா|abarth|abbott|abbvie|active|africa|agency|airbus|airtel|alipay|alsace|alstom|anquan|aramco|author|bayern|beauty|berlin|bharti|blanco|bostik|boston|broker|camera|career|caseih|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|mobily|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|piaget|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|warman|webcam|xihuan|xperia|yachts|yandex|zappos|москва|онлайн|ابوظبي|ارامكو|الاردن|المغرب|امارات|فلسطين|مليسيا|இலங்கை|ファッション|actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|boots|bosch|build|canon|cards|chase|cheap|chloe|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|dodge|drive|dubai|earth|edeka|email|epost|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glade|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|intel|irish|iveco|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|lixil|loans|locus|lotte|lotto|lupin|macys|mango|media|miami|money|mopar|movie|nadex|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vista|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|zippo|ایران|بازار|بھارت|سودان|سورية|همراه|संगठन|বাংলা|భారత్|嘉里大酒店|aarp|able|adac|aero|aigo|akdn|ally|amex|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|doha|duck|duns|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|mtpc|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|raid|read|reit|rent|rest|rich|rmit|room|rsvp|ruhr|safe|sale|sapo|sarl|save|saxo|scor|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone|дети|сайт|بيتك|تونس|شبكة|عراق|عمان|موقع|भारत|ভারত|ਭਾਰਤ|ભારત|ලංකා|グーグル|クラウド|ポイント|大众汽车|组织机构|電訊盈科|香格里拉|aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bnl|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceb|ceo|cfa|cfd|com|crs|csc|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|htc|ibm|ice|icu|ifm|ing|ink|int|ist|itv|iwc|jcb|jcp|jio|jlc|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|lol|lpl|ltd|man|mba|mcd|med|men|meo|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|off|one|ong|onl|ooo|org|ott|ovh|pay|pet|pid|pin|pnc|pro|pru|pub|pwc|qvc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|srl|srt|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|бел|ком|қаз|мкд|мон|орг|рус|срб|укр|հայ|קום|قطر|كوم|مصر|कॉम|नेट|คอม|ไทย|ストア|セール|みんな|中文网|天主教|我爱你|新加坡|淡马锡|诺基亚|飞利浦|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|ελ|бг|ею|рф|გე|닷넷|닷컴|삼성|한국|コム|世界|中信|中国|中國|企业|佛山|信息|健康|八卦|公司|公益|台湾|台灣|商城|商店|商标|嘉里|在线|大拿|娱乐|家電|工行|广东|微博|慈善|手机|手表|政务|政府|新闻|时尚|書籍|机构|游戏|澳門|点看|珠宝|移动|网址|网店|网站|网络|联通|谷歌|购物|通販|集团|食品|餐厅|香港)/;\n\n/*global Autolinker */\n/**\n * @abstract\n * @class Autolinker.matcher.Matcher\n *\n * An abstract class and interface for individual matchers to find matches in\n * an input string with linkified versions of them.\n *\n * Note that Matchers do not take HTML into account - they must be fed the text\n * nodes of any HTML string, which is handled by {@link Autolinker#parse}.\n */\nAutolinker.matcher.Matcher = Autolinker.Util.extend( Object, {\n\n\t/**\n\t * @cfg {Autolinker.AnchorTagBuilder} tagBuilder (required)\n\t *\n\t * Reference to the AnchorTagBuilder instance to use to generate HTML tags\n\t * for {@link Autolinker.match.Match Matches}.\n\t */\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Matcher\n\t *   instance, specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tif( !cfg.tagBuilder ) throw new Error( '`tagBuilder` cfg required' );\n\n\t\tthis.tagBuilder = cfg.tagBuilder;\n\t},\n\n\n\t/**\n\t * Parses the input `text` and returns the array of {@link Autolinker.match.Match Matches}\n\t * for the matcher.\n\t *\n\t * @abstract\n\t * @param {String} text The text to scan and replace matches in.\n\t * @return {Autolinker.match.Match[]}\n\t */\n\tparseMatches : Autolinker.Util.abstractMethod\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.matcher.Email\n * @extends Autolinker.matcher.Matcher\n *\n * Matcher to find email matches in an input string.\n *\n * See this class's superclass ({@link Autolinker.matcher.Matcher}) for more details.\n */\nAutolinker.matcher.Email = Autolinker.Util.extend( Autolinker.matcher.Matcher, {\n\n\t/**\n\t * The regular expression to match email addresses. Example match:\n\t *\n\t *     person@place.com\n\t *\n\t * @private\n\t * @property {RegExp} matcherRegex\n\t */\n\tmatcherRegex : (function() {\n\t\tvar alphaNumericChars = Autolinker.RegexLib.alphaNumericCharsStr,\n\t\t\tspecialCharacters = '!#$%&\\'*+\\\\-\\\\/=?^_`{|}~',\n\t\t\trestrictedSpecialCharacters = '\\\\s\"(),:;<>@\\\\[\\\\]',\n\t\t\tvalidCharacters = alphaNumericChars + specialCharacters,\n\t\t\tvalidRestrictedCharacters = validCharacters + restrictedSpecialCharacters,\n\t\t    emailRegex = new RegExp( '(?:[' + validCharacters + '](?:[' + validCharacters + ']|\\\\.(?!\\\\.|@))*|\\\\\"[' + validRestrictedCharacters + '.]+\\\\\")@'),\n\t\t\tgetDomainNameStr = Autolinker.RegexLib.getDomainNameStr,\n\t\t\ttldRegex = Autolinker.tldRegex;  // match our known top level domains (TLDs)\n\n\t\treturn new RegExp( [\n\t\t\temailRegex.source,\n\t\t\tgetDomainNameStr(1),\n\t\t\t'\\\\.', tldRegex.source   // '.com', '.net', etc\n\t\t].join( \"\" ), 'gi' );\n\t} )(),\n\n\n\t/**\n\t * @inheritdoc\n\t */\n\tparseMatches : function( text ) {\n\t\tvar matcherRegex = this.matcherRegex,\n\t\t    tagBuilder = this.tagBuilder,\n\t\t    matches = [],\n\t\t    match;\n\n\t\twhile( ( match = matcherRegex.exec( text ) ) !== null ) {\n\t\t\tvar matchedText = match[ 0 ];\n\n\t\t\tmatches.push( new Autolinker.match.Email( {\n\t\t\t\ttagBuilder  : tagBuilder,\n\t\t\t\tmatchedText : matchedText,\n\t\t\t\toffset      : match.index,\n\t\t\t\temail       : matchedText\n\t\t\t} ) );\n\t\t}\n\n\t\treturn matches;\n\t}\n\n} );\n\n/*global Autolinker */\n/**\n * @class Autolinker.matcher.Hashtag\n * @extends Autolinker.matcher.Matcher\n *\n * Matcher to find Hashtag matches in an input string.\n */\nAutolinker.matcher.Hashtag = Autolinker.Util.extend( Autolinker.matcher.Matcher, {\n\n\t/**\n\t * @cfg {String} serviceName\n\t *\n\t * The service to point hashtag matches to. See {@link Autolinker#hashtag}\n\t * for available values.\n\t */\n\n\n\t/**\n\t * The regular expression to match Hashtags. Example match:\n\t *\n\t *     #asdf\n\t *\n\t * @private\n\t * @property {RegExp} matcherRegex\n\t */\n\tmatcherRegex : new RegExp( '#[_' + Autolinker.RegexLib.alphaNumericCharsStr + ']{1,139}', 'g' ),\n\n\t/**\n\t * The regular expression to use to check the character before a username match to\n\t * make sure we didn't accidentally match an email address.\n\t *\n\t * For example, the string \"asdf@asdf.com\" should not match \"@asdf\" as a username.\n\t *\n\t * @private\n\t * @property {RegExp} nonWordCharRegex\n\t */\n\tnonWordCharRegex : new RegExp( '[^' + Autolinker.RegexLib.alphaNumericCharsStr + ']' ),\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match instance,\n\t *   specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.matcher.Matcher.prototype.constructor.call( this, cfg );\n\n\t\tthis.serviceName = cfg.serviceName;\n\t},\n\n\n\t/**\n\t * @inheritdoc\n\t */\n\tparseMatches : function( text ) {\n\t\tvar matcherRegex = this.matcherRegex,\n\t\t    nonWordCharRegex = this.nonWordCharRegex,\n\t\t    serviceName = this.serviceName,\n\t\t    tagBuilder = this.tagBuilder,\n\t\t    matches = [],\n\t\t    match;\n\n\t\twhile( ( match = matcherRegex.exec( text ) ) !== null ) {\n\t\t\tvar offset = match.index,\n\t\t\t    prevChar = text.charAt( offset - 1 );\n\n\t\t\t// If we found the match at the beginning of the string, or we found the match\n\t\t\t// and there is a whitespace char in front of it (meaning it is not a '#' char\n\t\t\t// in the middle of a word), then it is a hashtag match.\n\t\t\tif( offset === 0 || nonWordCharRegex.test( prevChar ) ) {\n\t\t\t\tvar matchedText = match[ 0 ],\n\t\t\t\t    hashtag = match[ 0 ].slice( 1 );  // strip off the '#' character at the beginning\n\n\t\t\t\tmatches.push( new Autolinker.match.Hashtag( {\n\t\t\t\t\ttagBuilder  : tagBuilder,\n\t\t\t\t\tmatchedText : matchedText,\n\t\t\t\t\toffset      : offset,\n\t\t\t\t\tserviceName : serviceName,\n\t\t\t\t\thashtag     : hashtag\n\t\t\t\t} ) );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.matcher.Phone\n * @extends Autolinker.matcher.Matcher\n *\n * Matcher to find Phone number matches in an input string.\n *\n * See this class's superclass ({@link Autolinker.matcher.Matcher}) for more\n * details.\n */\nAutolinker.matcher.Phone = Autolinker.Util.extend( Autolinker.matcher.Matcher, {\n\n\t/**\n\t * The regular expression to match Phone numbers. Example match:\n\t *\n\t *     (123) 456-7890\n\t *\n\t * This regular expression has the following capturing groups:\n\t *\n\t * 1 or 2. The prefixed '+' sign, if there is one.\n\t *\n\t * @private\n\t * @property {RegExp} matcherRegex\n\t */\n\tmatcherRegex : /(?:(?:(?:(\\+)?\\d{1,3}[-\\040.]?)?\\(?\\d{3}\\)?[-\\040.]?\\d{3}[-\\040.]?\\d{4})|(?:(\\+)(?:9[976]\\d|8[987530]\\d|6[987]\\d|5[90]\\d|42\\d|3[875]\\d|2[98654321]\\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)[-\\040.]?(?:\\d[-\\040.]?){6,12}\\d+))([,;]+[0-9]+#?)*/g,\n\n\t// ex: (123) 456-7890, 123 456 7890, 123-456-7890, +18004441234,,;,10226420346#,\n\t// +1 (800) 444 1234, 10226420346#, 1-800-444-1234,1022,64,20346#\n\n\t/**\n\t * @inheritdoc\n\t */\n\tparseMatches: function(text) {\n\t\tvar matcherRegex = this.matcherRegex,\n\t\t\ttagBuilder = this.tagBuilder,\n\t\t\tmatches = [],\n\t\t\tmatch;\n\n\t\twhile ((match = matcherRegex.exec(text)) !== null) {\n\t\t\t// Remove non-numeric values from phone number string\n\t\t\tvar matchedText = match[0],\n\t\t\t\tcleanNumber = matchedText.replace(/[^0-9,;#]/g, ''), // strip out non-digit characters exclude comma semicolon and #\n\t\t\t\tplusSign = !!(match[1] || match[2]), // match[ 1 ] or match[ 2 ] is the prefixed plus sign, if there is one\n\t\t\t\tbefore = match.index == 0 ? '' : text.substr(match.index - 1, 1),\n\t\t\t\tafter = text.substr(match.index + matchedText.length, 1),\n\t\t\t\tcontextClear = !before.match(/\\d/) && !after.match(/\\d/);\n\n\t\t\tif (this.testMatch(match[3]) && this.testMatch(matchedText) && contextClear) {\n\t\t\t\tmatches.push(new Autolinker.match.Phone({\n\t\t\t\t\ttagBuilder: tagBuilder,\n\t\t\t\t\tmatchedText: matchedText,\n\t\t\t\t\toffset: match.index,\n\t\t\t\t\tnumber: cleanNumber,\n\t\t\t\t\tplusSign: plusSign\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\ttestMatch: function(text) {\n\t\treturn /\\D/.test(text);\n\t}\n\n} );\n\n/*global Autolinker */\n/**\n * @class Autolinker.matcher.Mention\n * @extends Autolinker.matcher.Matcher\n *\n * Matcher to find/replace username matches in an input string.\n */\nAutolinker.matcher.Mention = Autolinker.Util.extend( Autolinker.matcher.Matcher, {\n\n\t/**\n\t * Hash of regular expression to match username handles. Example match:\n\t *\n\t *     @asdf\n\t *\n\t * @private\n\t * @property {Object} matcherRegexes\n\t */\n\tmatcherRegexes : {\n\t\t\"twitter\": new RegExp( '@[_' + Autolinker.RegexLib.alphaNumericCharsStr + ']{1,20}', 'g' ),\n\t\t\"instagram\": new RegExp( '@[_.' + Autolinker.RegexLib.alphaNumericCharsStr + ']{1,50}', 'g' ),\n\t\t\"soundcloud\": new RegExp( '@[_.' + Autolinker.RegexLib.alphaNumericCharsStr + \"\\-\" + ']{1,50}', 'g' )\n\t},\n\n\t/**\n\t * The regular expression to use to check the character before a username match to\n\t * make sure we didn't accidentally match an email address.\n\t *\n\t * For example, the string \"asdf@asdf.com\" should not match \"@asdf\" as a username.\n\t *\n\t * @private\n\t * @property {RegExp} nonWordCharRegex\n\t */\n\tnonWordCharRegex : new RegExp( '[^' + Autolinker.RegexLib.alphaNumericCharsStr + ']' ),\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match instance,\n\t *   specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.matcher.Matcher.prototype.constructor.call( this, cfg );\n\n\t\tthis.serviceName = cfg.serviceName;\n\t},\n\n\n\t/**\n\t * @inheritdoc\n\t */\n\tparseMatches : function( text ) {\n\t\tvar matcherRegex = this.matcherRegexes[this.serviceName],\n\t\t    nonWordCharRegex = this.nonWordCharRegex,\n\t\t    serviceName = this.serviceName,\n\t\t    tagBuilder = this.tagBuilder,\n\t\t    matches = [],\n\t\t    match;\n\n\t\tif (!matcherRegex) {\n\t\t\treturn matches;\n\t\t}\n\n\t\twhile( ( match = matcherRegex.exec( text ) ) !== null ) {\n\t\t\tvar offset = match.index,\n\t\t\t    prevChar = text.charAt( offset - 1 );\n\n\t\t\t// If we found the match at the beginning of the string, or we found the match\n\t\t\t// and there is a whitespace char in front of it (meaning it is not an email\n\t\t\t// address), then it is a username match.\n\t\t\tif( offset === 0 || nonWordCharRegex.test( prevChar ) ) {\n\t\t\t\tvar matchedText = match[ 0 ].replace(/\\.+$/g, ''), // strip off trailing .\n\t\t\t\t    mention = matchedText.slice( 1 );  // strip off the '@' character at the beginning\n\n\t\t\t\tmatches.push( new Autolinker.match.Mention( {\n\t\t\t\t\ttagBuilder    : tagBuilder,\n\t\t\t\t\tmatchedText   : matchedText,\n\t\t\t\t\toffset        : offset,\n\t\t\t\t\tserviceName   : serviceName,\n\t\t\t\t\tmention       : mention\n\t\t\t\t} ) );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t}\n\n} );\n\n/*global Autolinker */\n/**\n * @class Autolinker.matcher.Url\n * @extends Autolinker.matcher.Matcher\n *\n * Matcher to find URL matches in an input string.\n *\n * See this class's superclass ({@link Autolinker.matcher.Matcher}) for more details.\n */\nAutolinker.matcher.Url = Autolinker.Util.extend( Autolinker.matcher.Matcher, {\n\n\t/**\n\t * @cfg {Object} stripPrefix (required)\n\t *\n\t * The Object form of {@link Autolinker#cfg-stripPrefix}.\n\t */\n\n\t/**\n\t * @cfg {Boolean} stripTrailingSlash (required)\n\t * @inheritdoc Autolinker#stripTrailingSlash\n\t */\n\n\t/**\n\t * @cfg {Boolean} decodePercentEncoding (required)\n\t * @inheritdoc Autolinker#decodePercentEncoding\n\t */\n\n\n\t/**\n\t * @private\n\t * @property {RegExp} matcherRegex\n\t *\n\t * The regular expression to match URLs with an optional scheme, port\n\t * number, path, query string, and hash anchor.\n\t *\n\t * Example matches:\n\t *\n\t *     http://google.com\n\t *     www.google.com\n\t *     google.com/path/to/file?q1=1&q2=2#myAnchor\n\t *\n\t *\n\t * This regular expression will have the following capturing groups:\n\t *\n\t * 1.  Group that matches a scheme-prefixed URL (i.e. 'http://google.com').\n\t *     This is used to match scheme URLs with just a single word, such as\n\t *     'http://localhost', where we won't double check that the domain name\n\t *     has at least one dot ('.') in it.\n\t * 2.  Group that matches a 'www.' prefixed URL. This is only matched if the\n\t *     'www.' text was not prefixed by a scheme (i.e.: not prefixed by\n\t *     'http://', 'ftp:', etc.)\n\t * 3.  A protocol-relative ('//') match for the case of a 'www.' prefixed\n\t *     URL. Will be an empty string if it is not a protocol-relative match.\n\t *     We need to know the character before the '//' in order to determine\n\t *     if it is a valid match or the // was in a string we don't want to\n\t *     auto-link.\n\t * 4.  Group that matches a known TLD (top level domain), when a scheme\n\t *     or 'www.'-prefixed domain is not matched.\n\t * 5.  A protocol-relative ('//') match for the case of a known TLD prefixed\n\t *     URL. Will be an empty string if it is not a protocol-relative match.\n\t *     See #3 for more info.\n\t */\n\tmatcherRegex : (function() {\n\t\tvar schemeRegex = /(?:[A-Za-z][-.+A-Za-z0-9]{0,63}:(?![A-Za-z][-.+A-Za-z0-9]{0,63}:\\/\\/)(?!\\d+\\/?)(?:\\/\\/)?)/,  // match protocol, allow in format \"http://\" or \"mailto:\". However, do not match the first part of something like 'link:http://www.google.com' (i.e. don't match \"link:\"). Also, make sure we don't interpret 'google.com:8000' as if 'google.com' was a protocol here (i.e. ignore a trailing port number in this regex)\n\t\t    wwwRegex = /(?:www\\.)/,                  // starting with 'www.'\n\t\t    getDomainNameStr = Autolinker.RegexLib.getDomainNameStr,\n\t\t    tldRegex = Autolinker.tldRegex,  // match our known top level domains (TLDs)\n\t\t    alphaNumericCharsStr = Autolinker.RegexLib.alphaNumericCharsStr,\n\n\t\t    // Allow optional path, query string, and hash anchor, not ending in the following characters: \"?!:,.;\"\n\t\t    // http://blog.codinghorror.com/the-problem-with-urls/\n\t\t    urlSuffixRegex = new RegExp( '[/?#](?:[' + alphaNumericCharsStr + '\\\\-+&@#/%=~_()|\\'$*\\\\[\\\\]?!:,.;\\u2713]*[' + alphaNumericCharsStr + '\\\\-+&@#/%=~_()|\\'$*\\\\[\\\\]\\u2713])?' );\n\n\t\treturn new RegExp( [\n\t\t\t'(?:', // parens to cover match for scheme (optional), and domain\n\t\t\t\t'(',  // *** Capturing group $1, for a scheme-prefixed url (ex: http://google.com)\n\t\t\t\t\tschemeRegex.source,\n\t\t\t\t\tgetDomainNameStr(2),\n\t\t\t\t')',\n\n\t\t\t\t'|',\n\n\t\t\t\t'(',  // *** Capturing group $4 for a 'www.' prefixed url (ex: www.google.com)\n\t\t\t\t\t'(//)?',  // *** Capturing group $5 for an optional protocol-relative URL. Must be at the beginning of the string or start with a non-word character (handled later)\n\t\t\t\t\twwwRegex.source,\n\t\t\t\t\tgetDomainNameStr(6),\n\t\t\t\t')',\n\n\t\t\t\t'|',\n\n\t\t\t\t'(',  // *** Capturing group $8, for known a TLD url (ex: google.com)\n\t\t\t\t\t'(//)?',  // *** Capturing group $9 for an optional protocol-relative URL. Must be at the beginning of the string or start with a non-word character (handled later)\n\t\t\t\t\tgetDomainNameStr(10) + '\\\\.',\n\t\t\t\t\ttldRegex.source,\n\t\t\t\t\t'(?![-' + alphaNumericCharsStr + '])', // TLD not followed by a letter, behaves like unicode-aware \\b\n\t\t\t\t')',\n\t\t\t')',\n\n\t\t\t'(?::[0-9]+)?', // port\n\n\t\t\t'(?:' + urlSuffixRegex.source + ')?'  // match for path, query string, and/or hash anchor - optional\n\t\t].join( \"\" ), 'gi' );\n\t} )(),\n\n\n\t/**\n\t * A regular expression to use to check the character before a protocol-relative\n\t * URL match. We don't want to match a protocol-relative URL if it is part\n\t * of another word.\n\t *\n\t * For example, we want to match something like \"Go to: //google.com\",\n\t * but we don't want to match something like \"abc//google.com\"\n\t *\n\t * This regular expression is used to test the character before the '//'.\n\t *\n\t * @private\n\t * @type {RegExp} wordCharRegExp\n\t */\n\twordCharRegExp : new RegExp( '[' + Autolinker.RegexLib.alphaNumericCharsStr + ']' ),\n\n\n\t/**\n\t * The regular expression to match opening parenthesis in a URL match.\n\t *\n\t * This is to determine if we have unbalanced parenthesis in the URL, and to\n\t * drop the final parenthesis that was matched if so.\n\t *\n\t * Ex: The text \"(check out: wikipedia.com/something_(disambiguation))\"\n\t * should only autolink the inner \"wikipedia.com/something_(disambiguation)\"\n\t * part, so if we find that we have unbalanced parenthesis, we will drop the\n\t * last one for the match.\n\t *\n\t * @private\n\t * @property {RegExp}\n\t */\n\topenParensRe : /\\(/g,\n\n\t/**\n\t * The regular expression to match closing parenthesis in a URL match. See\n\t * {@link #openParensRe} for more information.\n\t *\n\t * @private\n\t * @property {RegExp}\n\t */\n\tcloseParensRe : /\\)/g,\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match instance,\n\t *   specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.matcher.Matcher.prototype.constructor.call( this, cfg );\n\n\t\tif( cfg.stripPrefix == null ) throw new Error( '`stripPrefix` cfg required' );\n\t\tif( cfg.stripTrailingSlash == null ) throw new Error( '`stripTrailingSlash` cfg required' );\n\n\t\tthis.stripPrefix = cfg.stripPrefix;\n\t\tthis.stripTrailingSlash = cfg.stripTrailingSlash;\n\t\tthis.decodePercentEncoding = cfg.decodePercentEncoding;\n\t},\n\n\n\t/**\n\t * @inheritdoc\n\t */\n\tparseMatches : function( text ) {\n\t\tvar matcherRegex = this.matcherRegex,\n\t\t    stripPrefix = this.stripPrefix,\n\t\t    stripTrailingSlash = this.stripTrailingSlash,\n\t\t    decodePercentEncoding = this.decodePercentEncoding,\n\t\t    tagBuilder = this.tagBuilder,\n\t\t    matches = [],\n\t\t    match;\n\n\t\twhile( ( match = matcherRegex.exec( text ) ) !== null ) {\n\t\t\tvar matchStr = match[ 0 ],\n\t\t\t    schemeUrlMatch = match[ 1 ],\n\t\t\t    wwwUrlMatch = match[ 4 ],\n\t\t\t    wwwProtocolRelativeMatch = match[ 5 ],\n\t\t\t    //tldUrlMatch = match[ 8 ],  -- not needed at the moment\n\t\t\t    tldProtocolRelativeMatch = match[ 9 ],\n\t\t\t    offset = match.index,\n\t\t\t    protocolRelativeMatch = wwwProtocolRelativeMatch || tldProtocolRelativeMatch,\n\t\t\t\tprevChar = text.charAt( offset - 1 );\n\n\t\t\tif( !Autolinker.matcher.UrlMatchValidator.isValid( matchStr, schemeUrlMatch ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If the match is preceded by an '@' character, then it is either\n\t\t\t// an email address or a username. Skip these types of matches.\n\t\t\tif( offset > 0 && prevChar === '@' ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If it's a protocol-relative '//' match, but the character before the '//'\n\t\t\t// was a word character (i.e. a letter/number), then we found the '//' in the\n\t\t\t// middle of another word (such as \"asdf//asdf.com\"). In this case, skip the\n\t\t\t// match.\n\t\t\tif( offset > 0 && protocolRelativeMatch && this.wordCharRegExp.test( prevChar ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif( /\\?$/.test(matchStr) ) {\n\t\t\t\tmatchStr = matchStr.substr(0, matchStr.length-1);\n\t\t\t}\n\n\t\t\t// Handle a closing parenthesis at the end of the match, and exclude\n\t\t\t// it if there is not a matching open parenthesis in the match\n\t\t\t// itself.\n\t\t\tif( this.matchHasUnbalancedClosingParen( matchStr ) ) {\n\t\t\t\tmatchStr = matchStr.substr( 0, matchStr.length - 1 );  // remove the trailing \")\"\n\t\t\t} else {\n\t\t\t\t// Handle an invalid character after the TLD\n\t\t\t\tvar pos = this.matchHasInvalidCharAfterTld( matchStr, schemeUrlMatch );\n\t\t\t\tif( pos > -1 ) {\n\t\t\t\t\tmatchStr = matchStr.substr( 0, pos ); // remove the trailing invalid chars\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar urlMatchType = schemeUrlMatch ? 'scheme' : ( wwwUrlMatch ? 'www' : 'tld' ),\n\t\t\t    protocolUrlMatch = !!schemeUrlMatch;\n\n\t\t\tmatches.push( new Autolinker.match.Url( {\n\t\t\t\ttagBuilder            : tagBuilder,\n\t\t\t\tmatchedText           : matchStr,\n\t\t\t\toffset                : offset,\n\t\t\t\turlMatchType          : urlMatchType,\n\t\t\t\turl                   : matchStr,\n\t\t\t\tprotocolUrlMatch      : protocolUrlMatch,\n\t\t\t\tprotocolRelativeMatch : !!protocolRelativeMatch,\n\t\t\t\tstripPrefix           : stripPrefix,\n\t\t\t\tstripTrailingSlash    : stripTrailingSlash,\n\t\t\t\tdecodePercentEncoding : decodePercentEncoding,\n\t\t\t} ) );\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\n\t/**\n\t * Determines if a match found has an unmatched closing parenthesis. If so,\n\t * this parenthesis will be removed from the match itself, and appended\n\t * after the generated anchor tag.\n\t *\n\t * A match may have an extra closing parenthesis at the end of the match\n\t * because the regular expression must include parenthesis for URLs such as\n\t * \"wikipedia.com/something_(disambiguation)\", which should be auto-linked.\n\t *\n\t * However, an extra parenthesis *will* be included when the URL itself is\n\t * wrapped in parenthesis, such as in the case of \"(wikipedia.com/something_(disambiguation))\".\n\t * In this case, the last closing parenthesis should *not* be part of the\n\t * URL itself, and this method will return `true`.\n\t *\n\t * @private\n\t * @param {String} matchStr The full match string from the {@link #matcherRegex}.\n\t * @return {Boolean} `true` if there is an unbalanced closing parenthesis at\n\t *   the end of the `matchStr`, `false` otherwise.\n\t */\n\tmatchHasUnbalancedClosingParen : function( matchStr ) {\n\t\tvar lastChar = matchStr.charAt( matchStr.length - 1 );\n\n\t\tif( lastChar === ')' ) {\n\t\t\tvar openParensMatch = matchStr.match( this.openParensRe ),\n\t\t\t    closeParensMatch = matchStr.match( this.closeParensRe ),\n\t\t\t    numOpenParens = ( openParensMatch && openParensMatch.length ) || 0,\n\t\t\t    numCloseParens = ( closeParensMatch && closeParensMatch.length ) || 0;\n\n\t\t\tif( numOpenParens < numCloseParens ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\n\t/**\n\t * Determine if there's an invalid character after the TLD in a URL. Valid\n\t * characters after TLD are ':/?#'. Exclude scheme matched URLs from this\n\t * check.\n\t *\n\t * @private\n\t * @param {String} urlMatch The matched URL, if there was one. Will be an\n\t *   empty string if the match is not a URL match.\n\t * @param {String} schemeUrlMatch The match URL string for a scheme\n\t *   match. Ex: 'http://yahoo.com'. This is used to match something like\n\t *   'http://localhost', where we won't double check that the domain name\n\t *   has at least one '.' in it.\n\t * @return {Number} the position where the invalid character was found. If\n\t *   no such character was found, returns -1\n\t */\n\tmatchHasInvalidCharAfterTld : function( urlMatch, schemeUrlMatch ) {\n\t\tif( !urlMatch ) {\n\t\t\treturn -1;\n\t\t}\n\n\t\tvar offset = 0;\n\t\tif ( schemeUrlMatch ) {\n\t\t\toffset = urlMatch.indexOf(':');\n\t\t\turlMatch = urlMatch.slice(offset);\n\t\t}\n\n\t\tvar alphaNumeric = Autolinker.RegexLib.alphaNumericCharsStr;\n\n\t\tvar re = new RegExp(\"^((.?\\/\\/)?[-.\" + alphaNumeric + \"]*[-\" + alphaNumeric + \"]\\\\.[-\" + alphaNumeric + \"]+)\");\n\t\tvar res = re.exec( urlMatch );\n\t\tif ( res === null ) {\n\t\t\treturn -1;\n\t\t}\n\n\t\toffset += res[1].length;\n\t\turlMatch = urlMatch.slice(res[1].length);\n\t\tif (/^[^-.A-Za-z0-9:\\/?#]/.test(urlMatch)) {\n\t\t\treturn offset;\n\t\t}\n\n\t\treturn -1;\n\t}\n\n} );\n\n/*global Autolinker */\n/*jshint scripturl:true */\n/**\n * @private\n * @class Autolinker.matcher.UrlMatchValidator\n * @singleton\n *\n * Used by Autolinker to filter out false URL positives from the\n * {@link Autolinker.matcher.Url UrlMatcher}.\n *\n * Due to the limitations of regular expressions (including the missing feature\n * of look-behinds in JS regular expressions), we cannot always determine the\n * validity of a given match. This class applies a bit of additional logic to\n * filter out any false positives that have been matched by the\n * {@link Autolinker.matcher.Url UrlMatcher}.\n */\nAutolinker.matcher.UrlMatchValidator = {\n\n\t/**\n\t * Regex to test for a full protocol, with the two trailing slashes. Ex: 'http://'\n\t *\n\t * @private\n\t * @property {RegExp} hasFullProtocolRegex\n\t */\n\thasFullProtocolRegex : /^[A-Za-z][-.+A-Za-z0-9]*:\\/\\//,\n\n\t/**\n\t * Regex to find the URI scheme, such as 'mailto:'.\n\t *\n\t * This is used to filter out 'javascript:' and 'vbscript:' schemes.\n\t *\n\t * @private\n\t * @property {RegExp} uriSchemeRegex\n\t */\n\turiSchemeRegex : /^[A-Za-z][-.+A-Za-z0-9]*:/,\n\n\t/**\n\t * Regex to determine if at least one word char exists after the protocol (i.e. after the ':')\n\t *\n\t * @private\n\t * @property {RegExp} hasWordCharAfterProtocolRegex\n\t */\n\thasWordCharAfterProtocolRegex : new RegExp(\":[^\\\\s]*?[\" + Autolinker.RegexLib.alphaCharsStr + \"]\"),\n\n\t/**\n\t * Regex to determine if the string is a valid IP address\n\t *\n\t * @private\n\t * @property {RegExp} ipRegex\n\t */\n\tipRegex: /[0-9][0-9]?[0-9]?\\.[0-9][0-9]?[0-9]?\\.[0-9][0-9]?[0-9]?\\.[0-9][0-9]?[0-9]?(:[0-9]*)?\\/?$/,\n\n\t/**\n\t * Determines if a given URL match found by the {@link Autolinker.matcher.Url UrlMatcher}\n\t * is valid. Will return `false` for:\n\t *\n\t * 1) URL matches which do not have at least have one period ('.') in the\n\t *    domain name (effectively skipping over matches like \"abc:def\").\n\t *    However, URL matches with a protocol will be allowed (ex: 'http://localhost')\n\t * 2) URL matches which do not have at least one word character in the\n\t *    domain name (effectively skipping over matches like \"git:1.0\").\n\t * 3) A protocol-relative url match (a URL beginning with '//') whose\n\t *    previous character is a word character (effectively skipping over\n\t *    strings like \"abc//google.com\")\n\t *\n\t * Otherwise, returns `true`.\n\t *\n\t * @param {String} urlMatch The matched URL, if there was one. Will be an\n\t *   empty string if the match is not a URL match.\n\t * @param {String} protocolUrlMatch The match URL string for a protocol\n\t *   match. Ex: 'http://yahoo.com'. This is used to match something like\n\t *   'http://localhost', where we won't double check that the domain name\n\t *   has at least one '.' in it.\n\t * @return {Boolean} `true` if the match given is valid and should be\n\t *   processed, or `false` if the match is invalid and/or should just not be\n\t *   processed.\n\t */\n\tisValid : function( urlMatch, protocolUrlMatch ) {\n\t\tif(\n\t\t\t( protocolUrlMatch && !this.isValidUriScheme( protocolUrlMatch ) ) ||\n\t\t\tthis.urlMatchDoesNotHaveProtocolOrDot( urlMatch, protocolUrlMatch ) ||    // At least one period ('.') must exist in the URL match for us to consider it an actual URL, *unless* it was a full protocol match (like 'http://localhost')\n\t\t\t(this.urlMatchDoesNotHaveAtLeastOneWordChar( urlMatch, protocolUrlMatch ) && // At least one letter character must exist in the domain name after a protocol match. Ex: skip over something like \"git:1.0\"\n\t\t\t   !this.isValidIpAddress( urlMatch )) || // Except if it's an IP address\n\t\t\tthis.containsMultipleDots( urlMatch )\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\n\tisValidIpAddress : function ( uriSchemeMatch ) {\n\t\tvar newRegex = new RegExp(this.hasFullProtocolRegex.source + this.ipRegex.source);\n\t\tvar uriScheme = uriSchemeMatch.match( newRegex );\n\n\t\treturn uriScheme !== null;\n\t},\n\n\tcontainsMultipleDots : function ( urlMatch ) {\n\t\tvar stringBeforeSlash = urlMatch;\n\t\tif (this.hasFullProtocolRegex.test(urlMatch)) {\n\t\t\tstringBeforeSlash = urlMatch.split('://')[1];\n\t\t}\n\t\treturn stringBeforeSlash.split('/')[0].indexOf(\"..\") > -1;\n\t},\n\n\t/**\n\t * Determines if the URI scheme is a valid scheme to be autolinked. Returns\n\t * `false` if the scheme is 'javascript:' or 'vbscript:'\n\t *\n\t * @private\n\t * @param {String} uriSchemeMatch The match URL string for a full URI scheme\n\t *   match. Ex: 'http://yahoo.com' or 'mailto:a@a.com'.\n\t * @return {Boolean} `true` if the scheme is a valid one, `false` otherwise.\n\t */\n\tisValidUriScheme : function( uriSchemeMatch ) {\n\t\tvar uriScheme = uriSchemeMatch.match( this.uriSchemeRegex )[ 0 ].toLowerCase();\n\n\t\treturn ( uriScheme !== 'javascript:' && uriScheme !== 'vbscript:' );\n\t},\n\n\n\t/**\n\t * Determines if a URL match does not have either:\n\t *\n\t * a) a full protocol (i.e. 'http://'), or\n\t * b) at least one dot ('.') in the domain name (for a non-full-protocol\n\t *    match).\n\t *\n\t * Either situation is considered an invalid URL (ex: 'git:d' does not have\n\t * either the '://' part, or at least one dot in the domain name. If the\n\t * match was 'git:abc.com', we would consider this valid.)\n\t *\n\t * @private\n\t * @param {String} urlMatch The matched URL, if there was one. Will be an\n\t *   empty string if the match is not a URL match.\n\t * @param {String} protocolUrlMatch The match URL string for a protocol\n\t *   match. Ex: 'http://yahoo.com'. This is used to match something like\n\t *   'http://localhost', where we won't double check that the domain name\n\t *   has at least one '.' in it.\n\t * @return {Boolean} `true` if the URL match does not have a full protocol,\n\t *   or at least one dot ('.') in a non-full-protocol match.\n\t */\n\turlMatchDoesNotHaveProtocolOrDot : function( urlMatch, protocolUrlMatch ) {\n\t\treturn ( !!urlMatch && ( !protocolUrlMatch || !this.hasFullProtocolRegex.test( protocolUrlMatch ) ) && urlMatch.indexOf( '.' ) === -1 );\n\t},\n\n\n\t/**\n\t * Determines if a URL match does not have at least one word character after\n\t * the protocol (i.e. in the domain name).\n\t *\n\t * At least one letter character must exist in the domain name after a\n\t * protocol match. Ex: skip over something like \"git:1.0\"\n\t *\n\t * @private\n\t * @param {String} urlMatch The matched URL, if there was one. Will be an\n\t *   empty string if the match is not a URL match.\n\t * @param {String} protocolUrlMatch The match URL string for a protocol\n\t *   match. Ex: 'http://yahoo.com'. This is used to know whether or not we\n\t *   have a protocol in the URL string, in order to check for a word\n\t *   character after the protocol separator (':').\n\t * @return {Boolean} `true` if the URL match does not have at least one word\n\t *   character in it after the protocol, `false` otherwise.\n\t */\n\turlMatchDoesNotHaveAtLeastOneWordChar : function( urlMatch, protocolUrlMatch ) {\n\t\tif( urlMatch && protocolUrlMatch ) {\n\t\t\treturn !this.hasWordCharAfterProtocolRegex.test( urlMatch );\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n};\n\n/*global Autolinker */\n/**\n * A truncation feature where the ellipsis will be placed at the end of the URL.\n *\n * @param {String} anchorText\n * @param {Number} truncateLen The maximum length of the truncated output URL string.\n * @param {String} ellipsisChars The characters to place within the url, e.g. \"..\".\n * @return {String} The truncated URL.\n */\nAutolinker.truncate.TruncateEnd = function(anchorText, truncateLen, ellipsisChars){\n\treturn Autolinker.Util.ellipsis( anchorText, truncateLen, ellipsisChars );\n};\n\n/*global Autolinker */\n/**\n * Date: 2015-10-05\n * Author: Kasper Søfren <soefritz@gmail.com> (https://github.com/kafoso)\n *\n * A truncation feature, where the ellipsis will be placed in the dead-center of the URL.\n *\n * @param {String} url             A URL.\n * @param {Number} truncateLen     The maximum length of the truncated output URL string.\n * @param {String} ellipsisChars   The characters to place within the url, e.g. \"..\".\n * @return {String} The truncated URL.\n */\nAutolinker.truncate.TruncateMiddle = function(url, truncateLen, ellipsisChars){\n  if (url.length <= truncateLen) {\n    return url;\n  }\n\n  var ellipsisLengthBeforeParsing;\n  var ellipsisLength;\n\n  if(ellipsisChars == null) {\n    ellipsisChars = '&hellip;';\n    ellipsisLengthBeforeParsing = 8;\n    ellipsisLength = 3;\n  } else {\n    ellipsisLengthBeforeParsing = ellipsisChars.length;\n    ellipsisLength = ellipsisChars.length;\n  }\n\n  var availableLength = truncateLen - ellipsisLength;\n  var end = \"\";\n  if (availableLength > 0) {\n    end = url.substr((-1)*Math.floor(availableLength/2));\n  }\n  return (url.substr(0, Math.ceil(availableLength/2)) + ellipsisChars + end).substr(0, availableLength + ellipsisLengthBeforeParsing);\n};\n\n/*global Autolinker */\n/**\n * Date: 2015-10-05\n * Author: Kasper Søfren <soefritz@gmail.com> (https://github.com/kafoso)\n *\n * A truncation feature, where the ellipsis will be placed at a section within\n * the URL making it still somewhat human readable.\n *\n * @param {String} url\t\t\t\t\t\t A URL.\n * @param {Number} truncateLen\t\t The maximum length of the truncated output URL string.\n * @param {String} ellipsisChars\t The characters to place within the url, e.g. \"...\".\n * @return {String} The truncated URL.\n */\nAutolinker.truncate.TruncateSmart = function(url, truncateLen, ellipsisChars){\n\n\tvar ellipsisLengthBeforeParsing;\n\tvar ellipsisLength;\n\n\tif(ellipsisChars == null) {\n\t\tellipsisChars = '&hellip;';\n\t\tellipsisLength = 3;\n\t\tellipsisLengthBeforeParsing = 8;\n\t} else {\n\t\tellipsisLength = ellipsisChars.length;\n\t\tellipsisLengthBeforeParsing = ellipsisChars.length;\n\t}\n\n\tvar parse_url = function(url){ // Functionality inspired by PHP function of same name\n\t\tvar urlObj = {};\n\t\tvar urlSub = url;\n\t\tvar match = urlSub.match(/^([a-z]+):\\/\\//i);\n\t\tif (match) {\n\t\t\turlObj.scheme = match[1];\n\t\t\turlSub = urlSub.substr(match[0].length);\n\t\t}\n\t\tmatch = urlSub.match(/^(.*?)(?=(\\?|#|\\/|$))/i);\n\t\tif (match) {\n\t\t\turlObj.host = match[1];\n\t\t\turlSub = urlSub.substr(match[0].length);\n\t\t}\n\t\tmatch = urlSub.match(/^\\/(.*?)(?=(\\?|#|$))/i);\n\t\tif (match) {\n\t\t\turlObj.path = match[1];\n\t\t\turlSub = urlSub.substr(match[0].length);\n\t\t}\n\t\tmatch = urlSub.match(/^\\?(.*?)(?=(#|$))/i);\n\t\tif (match) {\n\t\t\turlObj.query = match[1];\n\t\t\turlSub = urlSub.substr(match[0].length);\n\t\t}\n\t\tmatch = urlSub.match(/^#(.*?)$/i);\n\t\tif (match) {\n\t\t\turlObj.fragment = match[1];\n\t\t\t//urlSub = urlSub.substr(match[0].length);  -- not used. Uncomment if adding another block.\n\t\t}\n\t\treturn urlObj;\n\t};\n\n\tvar buildUrl = function(urlObj){\n\t\tvar url = \"\";\n\t\tif (urlObj.scheme && urlObj.host) {\n\t\t\turl += urlObj.scheme + \"://\";\n\t\t}\n\t\tif (urlObj.host) {\n\t\t\turl += urlObj.host;\n\t\t}\n\t\tif (urlObj.path) {\n\t\t\turl += \"/\" + urlObj.path;\n\t\t}\n\t\tif (urlObj.query) {\n\t\t\turl += \"?\" + urlObj.query;\n\t\t}\n\t\tif (urlObj.fragment) {\n\t\t\turl += \"#\" + urlObj.fragment;\n\t\t}\n\t\treturn url;\n\t};\n\n\tvar buildSegment = function(segment, remainingAvailableLength){\n\t\tvar remainingAvailableLengthHalf = remainingAvailableLength/ 2,\n\t\t\t\tstartOffset = Math.ceil(remainingAvailableLengthHalf),\n\t\t\t\tendOffset = (-1)*Math.floor(remainingAvailableLengthHalf),\n\t\t\t\tend = \"\";\n\t\tif (endOffset < 0) {\n\t\t\tend = segment.substr(endOffset);\n\t\t}\n\t\treturn segment.substr(0, startOffset) + ellipsisChars + end;\n\t};\n\tif (url.length <= truncateLen) {\n\t\treturn url;\n\t}\n\tvar availableLength = truncateLen - ellipsisLength;\n\tvar urlObj = parse_url(url);\n\t// Clean up the URL\n\tif (urlObj.query) {\n\t\tvar matchQuery = urlObj.query.match(/^(.*?)(?=(\\?|\\#))(.*?)$/i);\n\t\tif (matchQuery) {\n\t\t\t// Malformed URL; two or more \"?\". Removed any content behind the 2nd.\n\t\t\turlObj.query = urlObj.query.substr(0, matchQuery[1].length);\n\t\t\turl = buildUrl(urlObj);\n\t\t}\n\t}\n\tif (url.length <= truncateLen) {\n\t\treturn url;\n\t}\n\tif (urlObj.host) {\n\t\turlObj.host = urlObj.host.replace(/^www\\./, \"\");\n\t\turl = buildUrl(urlObj);\n\t}\n\tif (url.length <= truncateLen) {\n\t\treturn url;\n\t}\n\t// Process and build the URL\n\tvar str = \"\";\n\tif (urlObj.host) {\n\t\tstr += urlObj.host;\n\t}\n\tif (str.length >= availableLength) {\n\t\tif (urlObj.host.length == truncateLen) {\n\t\t\treturn (urlObj.host.substr(0, (truncateLen - ellipsisLength)) + ellipsisChars).substr(0, availableLength + ellipsisLengthBeforeParsing);\n\t\t}\n\t\treturn buildSegment(str, availableLength).substr(0, availableLength + ellipsisLengthBeforeParsing);\n\t}\n\tvar pathAndQuery = \"\";\n\tif (urlObj.path) {\n\t\tpathAndQuery += \"/\" + urlObj.path;\n\t}\n\tif (urlObj.query) {\n\t\tpathAndQuery += \"?\" + urlObj.query;\n\t}\n\tif (pathAndQuery) {\n\t\tif ((str+pathAndQuery).length >= availableLength) {\n\t\t\tif ((str+pathAndQuery).length == truncateLen) {\n\t\t\t\treturn (str + pathAndQuery).substr(0, truncateLen);\n\t\t\t}\n\t\t\tvar remainingAvailableLength = availableLength - str.length;\n\t\t\treturn (str + buildSegment(pathAndQuery, remainingAvailableLength)).substr(0, availableLength + ellipsisLengthBeforeParsing);\n\t\t} else {\n\t\t\tstr += pathAndQuery;\n\t\t}\n\t}\n\tif (urlObj.fragment) {\n\t\tvar fragment = \"#\"+urlObj.fragment;\n\t\tif ((str+fragment).length >= availableLength) {\n\t\t\tif ((str+fragment).length == truncateLen) {\n\t\t\t\treturn (str + fragment).substr(0, truncateLen);\n\t\t\t}\n\t\t\tvar remainingAvailableLength2 = availableLength - str.length;\n\t\t\treturn (str + buildSegment(fragment, remainingAvailableLength2)).substr(0, availableLength + ellipsisLengthBeforeParsing);\n\t\t} else {\n\t\t\tstr += fragment;\n\t\t}\n\t}\n\tif (urlObj.scheme && urlObj.host) {\n\t\tvar scheme = urlObj.scheme + \"://\";\n\t\tif ((str+scheme).length < availableLength) {\n\t\t\treturn (scheme + str).substr(0, truncateLen);\n\t\t}\n\t}\n\tif (str.length <= truncateLen) {\n\t\treturn str;\n\t}\n\tvar end = \"\";\n\tif (availableLength > 0) {\n\t\tend = str.substr((-1)*Math.floor(availableLength/2));\n\t}\n\treturn (str.substr(0, Math.ceil(availableLength/2)) + ellipsisChars + end).substr(0, availableLength + ellipsisLengthBeforeParsing);\n};\n\nreturn Autolinker;\n}));\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/autolinker/dist/Autolinker.js?")},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/ChatWindow.vue?vue&type=script&lang=js&":
/*!*******************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/ChatWindow.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Header_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Header.vue */ "./src/Header.vue");\n/* harmony import */ var _MessageList_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MessageList.vue */ "./src/MessageList.vue");\n/* harmony import */ var _UserInput_vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./UserInput.vue */ "./src/UserInput.vue");\n/* harmony import */ var _UserList_vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./UserList.vue */ "./src/UserList.vue");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ __webpack_exports__["default"] = ({\n  components: {\n    Header: _Header_vue__WEBPACK_IMPORTED_MODULE_0__["default"],\n    MessageList: _MessageList_vue__WEBPACK_IMPORTED_MODULE_1__["default"],\n    UserInput: _UserInput_vue__WEBPACK_IMPORTED_MODULE_2__["default"],\n    UserList: _UserList_vue__WEBPACK_IMPORTED_MODULE_3__["default"]\n  },\n  props: {\n    showEmoji: {\n      type: Boolean,\n      "default": false\n    },\n    showFile: {\n      type: Boolean,\n      "default": false\n    },\n    showHeader: {\n      type: Boolean,\n      "default": true\n    },\n    participants: {\n      type: Array,\n      required: true\n    },\n    title: {\n      type: String,\n      required: true\n    },\n    onUserInputSubmit: {\n      type: Function,\n      required: true\n    },\n    messageList: {\n      type: Array,\n      "default": function _default() {\n        return [];\n      }\n    },\n    isOpen: {\n      type: Boolean,\n      "default": function _default() {\n        return false;\n      }\n    },\n    placeholder: {\n      type: String,\n      required: true\n    },\n    showTypingIndicator: {\n      type: String,\n      required: true\n    },\n    colors: {\n      type: Object,\n      required: true\n    },\n    alwaysScrollToBottom: {\n      type: Boolean,\n      required: true\n    },\n    messageStyling: {\n      type: Boolean,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      showUserList: false\n    };\n  },\n  computed: {\n    messages: function messages() {\n      var messages = this.messageList;\n      return messages;\n    }\n  },\n  methods: {\n    handleUserListToggle: function handleUserListToggle(showUserList) {\n      this.showUserList = showUserList;\n    },\n    getSuggestions: function getSuggestions() {\n      return this.messages.length > 0 ? this.messages[this.messages.length - 1].suggestions : [];\n    }\n  }\n});\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/ChatWindow.vue?./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/EmojiPicker.vue?vue&type=script&lang=js&":
/*!********************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/EmojiPicker.vue?vue&type=script&lang=js& ***!
  \********************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var emoji_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! emoji-js */ "./node_modules/emoji-js/lib/emoji.js");\n/* harmony import */ var emoji_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(emoji_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _emojiData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./emojiData */ "./src/emojiData.js");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__["default"] = ({\n  props: {\n    onBlur: {\n      type: Function,\n      required: true\n    },\n    onEmojiPicked: {\n      type: Function,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      emojiData: _emojiData__WEBPACK_IMPORTED_MODULE_1__["default"],\n      emojiConvertor: new emoji_js__WEBPACK_IMPORTED_MODULE_0___default.a()\n    };\n  },\n  mounted: function mounted() {\n    var elem = this.$refs.domNode;\n    elem.style.opacity = 0;\n    window.requestAnimationFrame(function () {\n      elem.style.transition = \'opacity 350ms\';\n      elem.style.opacity = 1;\n    });\n    this.$refs.domNode.focus();\n    this.emojiConvertor.init_env();\n  },\n  methods: {\n    emojiClicked: function emojiClicked(emoji) {\n      this.onEmojiPicked(emoji);\n      this.$refs.domNode.blur();\n    }\n  }\n});\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/EmojiPicker.vue?./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Header.vue?vue&type=script&lang=js&":
/*!***************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/Header.vue?vue&type=script&lang=js& ***!
  \***************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Users_faissalelosman_code_tmp_vue_beautiful_chat_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/objectSpread2 */ "./node_modules/@babel/runtime/helpers/esm/objectSpread2.js");\n/* harmony import */ var _store___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./store/ */ "./src/store/index.js");\n/* harmony import */ var _assets_close_icon_big_png__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./assets/close-icon-big.png */ "./src/assets/close-icon-big.png");\n/* harmony import */ var _assets_close_icon_big_png__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_assets_close_icon_big_png__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _assets_phone_webp__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./assets/phone.webp */ "./src/assets/phone.webp");\n/* harmony import */ var _assets_phone_webp__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_assets_phone_webp__WEBPACK_IMPORTED_MODULE_3__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__["default"] = ({\n  props: {\n    icons: {\n      type: Object,\n      "default": function _default() {\n        return {\n          close: {\n            img: _assets_close_icon_big_png__WEBPACK_IMPORTED_MODULE_2___default.a,\n            name: \'default\'\n          },\n          phone: {\n            img: _assets_phone_webp__WEBPACK_IMPORTED_MODULE_3___default.a,\n            name: \'default\'\n          }\n        };\n      }\n    },\n    title: {\n      type: String,\n      required: true\n    },\n    colors: {\n      type: Object,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      inUserList: false\n    };\n  },\n  computed: Object(_Users_faissalelosman_code_tmp_vue_beautiful_chat_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, Object(_store___WEBPACK_IMPORTED_MODULE_1__["mapState"])([\'disableUserListToggle\', \'titleImageUrl\', \'showCloseButton\', \'showPhone\'])),\n  methods: {\n    toggleUserList: function toggleUserList() {\n      this.inUserList = !this.inUserList;\n      this.$emit(\'userList\', this.inUserList);\n    }\n  }\n});\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Header.vue?./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Launcher.vue?vue&type=script&lang=js&":
/*!*****************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/Launcher.vue?vue&type=script&lang=js& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.function.name */ \"./node_modules/core-js/modules/es.function.name.js\");\n/* harmony import */ var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.number.constructor */ \"./node_modules/core-js/modules/es.number.constructor.js\");\n/* harmony import */ var core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./store/ */ \"./src/store/index.js\");\n/* harmony import */ var _ChatWindow_vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ChatWindow.vue */ \"./src/ChatWindow.vue\");\n/* harmony import */ var _assets_close_icon_png__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./assets/close-icon.png */ \"./src/assets/close-icon.png\");\n/* harmony import */ var _assets_close_icon_png__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_assets_close_icon_png__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _assets_logo_no_bg_svg__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./assets/logo-no-bg.svg */ \"./src/assets/logo-no-bg.svg\");\n/* harmony import */ var _assets_logo_no_bg_svg__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_assets_logo_no_bg_svg__WEBPACK_IMPORTED_MODULE_5__);\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  components: {\n    ChatWindow: _ChatWindow_vue__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n  },\n  props: {\n    icons: {\n      type: Object,\n      \"default\": function _default() {\n        return {\n          open: {\n            img: _assets_logo_no_bg_svg__WEBPACK_IMPORTED_MODULE_5___default.a,\n            name: 'default'\n          },\n          close: {\n            img: _assets_close_icon_png__WEBPACK_IMPORTED_MODULE_4___default.a,\n            name: 'default'\n          }\n        };\n      }\n    },\n    showEmoji: {\n      type: Boolean,\n      \"default\": false\n    },\n    showEdition: {\n      type: Boolean,\n      \"default\": false\n    },\n    showDeletion: {\n      type: Boolean,\n      \"default\": false\n    },\n    showPhone: {\n      type: Boolean,\n      \"default\": false\n    },\n    isOpen: {\n      type: Boolean,\n      required: true\n    },\n    open: {\n      type: Function,\n      required: true\n    },\n    close: {\n      type: Function,\n      required: true\n    },\n    showFile: {\n      type: Boolean,\n      \"default\": false\n    },\n    showLauncher: {\n      type: Boolean,\n      \"default\": true\n    },\n    showCloseButton: {\n      type: Boolean,\n      \"default\": true\n    },\n    showHeader: {\n      type: Boolean,\n      \"default\": true\n    },\n    participants: {\n      type: Array,\n      required: true\n    },\n    title: {\n      type: String,\n      \"default\": function _default() {\n        return '';\n      }\n    },\n    titleImageUrl: {\n      type: String,\n      \"default\": function _default() {\n        return '';\n      }\n    },\n    onMessageWasSent: {\n      type: Function,\n      required: true\n    },\n    messageList: {\n      type: Array,\n      \"default\": function _default() {\n        return [];\n      }\n    },\n    newMessagesCount: {\n      type: Number,\n      \"default\": function _default() {\n        return 0;\n      }\n    },\n    placeholder: {\n      type: String,\n      \"default\": 'Write a message...'\n    },\n    showTypingIndicator: {\n      type: String,\n      \"default\": function _default() {\n        return '';\n      }\n    },\n    colors: {\n      type: Object,\n      validator: function validator(c) {\n        return 'header' in c && 'bg' in c.header && 'text' in c.header && 'launcher' in c && 'bg' in c.launcher && 'messageList' in c && 'bg' in c.messageList && 'sentMessage' in c && 'bg' in c.sentMessage && 'text' in c.sentMessage && 'receivedMessage' in c && 'bg' in c.receivedMessage && 'text' in c.receivedMessage && 'userInput' in c && 'bg' in c.userInput && 'text' in c.userInput;\n      },\n      \"default\": function _default() {\n        return {\n          header: {\n            bg: '#4e8cff',\n            text: '#ffffff'\n          },\n          launcher: {\n            bg: '#4e8cff'\n          },\n          messageList: {\n            bg: '#ffffff'\n          },\n          sentMessage: {\n            bg: '#4e8cff',\n            text: '#ffffff'\n          },\n          receivedMessage: {\n            bg: '#f4f7f9',\n            text: '#ffffff'\n          },\n          userInput: {\n            bg: '#f4f7f9',\n            text: '#565867'\n          }\n        };\n      }\n    },\n    alwaysScrollToBottom: {\n      type: Boolean,\n      \"default\": function _default() {\n        return false;\n      }\n    },\n    messageStyling: {\n      type: Boolean,\n      \"default\": function _default() {\n        return false;\n      }\n    },\n    disableUserListToggle: {\n      type: Boolean,\n      \"default\": false\n    }\n  },\n  computed: {\n    chatWindowTitle: function chatWindowTitle() {\n      if (this.title !== '') return this.title;\n      if (this.participants.length === 0) return 'You';\n      if (this.participants.length > 1) return 'You, ' + this.participants[0].name + ' & others';\n      return 'You & ' + this.participants[0].name;\n    }\n  },\n  watch: {\n    $props: {\n      deep: true,\n      immediate: true,\n      handler: function handler(props) {\n        for (var prop in props) {\n          _store___WEBPACK_IMPORTED_MODULE_2__[\"default\"].setState(prop, props[prop]);\n        }\n      }\n    }\n  },\n  methods: {\n    openAndFocus: function openAndFocus() {\n      this.open();\n      this.$root.$emit('focusUserInput');\n    }\n  }\n});\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Launcher.vue?./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options")},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Message.vue?vue&type=script&lang=js&":
/*!****************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/Message.vue?vue&type=script&lang=js& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.function.name */ "./node_modules/core-js/modules/es.function.name.js");\n/* harmony import */ var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _messages_TextMessage_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./messages/TextMessage.vue */ "./src/messages/TextMessage.vue");\n/* harmony import */ var _messages_FileMessage_vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./messages/FileMessage.vue */ "./src/messages/FileMessage.vue");\n/* harmony import */ var _messages_EmojiMessage_vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./messages/EmojiMessage.vue */ "./src/messages/EmojiMessage.vue");\n/* harmony import */ var _messages_TypingMessage_vue__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./messages/TypingMessage.vue */ "./src/messages/TypingMessage.vue");\n/* harmony import */ var _messages_SystemMessage_vue__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./messages/SystemMessage.vue */ "./src/messages/SystemMessage.vue");\n/* harmony import */ var _assets_chat_icon_svg__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./assets/chat-icon.svg */ "./src/assets/chat-icon.svg");\n/* harmony import */ var _assets_chat_icon_svg__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_assets_chat_icon_svg__WEBPACK_IMPORTED_MODULE_6__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__["default"] = ({\n  components: {\n    TextMessage: _messages_TextMessage_vue__WEBPACK_IMPORTED_MODULE_1__["default"],\n    FileMessage: _messages_FileMessage_vue__WEBPACK_IMPORTED_MODULE_2__["default"],\n    EmojiMessage: _messages_EmojiMessage_vue__WEBPACK_IMPORTED_MODULE_3__["default"],\n    TypingMessage: _messages_TypingMessage_vue__WEBPACK_IMPORTED_MODULE_4__["default"],\n    SystemMessage: _messages_SystemMessage_vue__WEBPACK_IMPORTED_MODULE_5__["default"]\n  },\n  props: {\n    message: {\n      type: Object,\n      required: true\n    },\n    colors: {\n      type: Object,\n      required: true\n    },\n    messageStyling: {\n      type: Boolean,\n      required: true\n    },\n    user: {\n      type: Object,\n      required: true\n    }\n  },\n  computed: {\n    authorName: function authorName() {\n      return this.user && this.user.name;\n    },\n    chatImageUrl: function chatImageUrl() {\n      return this.user && this.user.imageUrl || _assets_chat_icon_svg__WEBPACK_IMPORTED_MODULE_6___default.a;\n    },\n    messageColors: function messageColors() {\n      return this.message.author === \'me\' ? this.sentColorsStyle : this.receivedColorsStyle;\n    },\n    receivedColorsStyle: function receivedColorsStyle() {\n      return {\n        color: this.colors.receivedMessage.text,\n        backgroundColor: this.colors.receivedMessage.bg\n      };\n    },\n    sentColorsStyle: function sentColorsStyle() {\n      return {\n        color: this.colors.sentMessage.text,\n        backgroundColor: this.colors.sentMessage.bg\n      };\n    }\n  }\n});\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Message.vue?./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/MessageList.vue?vue&type=script&lang=js&":
/*!********************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/MessageList.vue?vue&type=script&lang=js& ***!
  \********************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.array.find */ "./node_modules/core-js/modules/es.array.find.js");\n/* harmony import */ var core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Message_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Message.vue */ "./src/Message.vue");\n/* harmony import */ var _assets_chat_icon_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./assets/chat-icon.svg */ "./src/assets/chat-icon.svg");\n/* harmony import */ var _assets_chat_icon_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_assets_chat_icon_svg__WEBPACK_IMPORTED_MODULE_2__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__["default"] = ({\n  components: {\n    Message: _Message_vue__WEBPACK_IMPORTED_MODULE_1__["default"]\n  },\n  props: {\n    participants: {\n      type: Array,\n      required: true\n    },\n    messages: {\n      type: Array,\n      required: true\n    },\n    showTypingIndicator: {\n      type: String,\n      required: true\n    },\n    colors: {\n      type: Object,\n      required: true\n    },\n    alwaysScrollToBottom: {\n      type: Boolean,\n      required: true\n    },\n    messageStyling: {\n      type: Boolean,\n      required: true\n    }\n  },\n  computed: {\n    defaultChatIcon: function defaultChatIcon() {\n      return _assets_chat_icon_svg__WEBPACK_IMPORTED_MODULE_2___default.a;\n    }\n  },\n  mounted: function mounted() {\n    this.$nextTick(this._scrollDown());\n  },\n  updated: function updated() {\n    if (this.shouldScrollToBottom()) this.$nextTick(this._scrollDown());\n  },\n  methods: {\n    _scrollDown: function _scrollDown() {\n      this.$refs.scrollList.scrollTop = this.$refs.scrollList.scrollHeight;\n    },\n    handleScroll: function handleScroll(e) {\n      if (e.target.scrollTop === 0) {\n        this.$emit(\'scrollToTop\');\n      }\n    },\n    shouldScrollToBottom: function shouldScrollToBottom() {\n      var scrollTop = this.$refs.scrollList.scrollTop;\n      var scrollable = scrollTop > this.$refs.scrollList.scrollHeight - 600;\n      return this.alwaysScrollToBottom || scrollable;\n    },\n    profile: function profile(author) {\n      var profile = this.participants.find(function (profile) {\n        return profile.id === author;\n      }); // A profile may not be found for system messages or messages by \'me\'\n\n      return profile || {\n        imageUrl: \'\',\n        name: \'\'\n      };\n    }\n  }\n});\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/MessageList.vue?./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Suggestions.vue?vue&type=script&lang=js&":
/*!********************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/Suggestions.vue?vue&type=script&lang=js& ***!
  \********************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ __webpack_exports__["default"] = ({\n  props: {\n    suggestions: {\n      type: Array,\n      "default": function _default() {\n        return [];\n      }\n    },\n    colors: {\n      type: Object,\n      required: true\n    }\n  },\n  data: function data() {\n    return {};\n  }\n});\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Suggestions.vue?./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/UserInput.vue?vue&type=script&lang=js&":
/*!******************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/UserInput.vue?vue&type=script&lang=js& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var core_js_modules_es_function_bind__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.function.bind */ "./node_modules/core-js/modules/es.function.bind.js");\n/* harmony import */ var core_js_modules_es_function_bind__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_bind__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.object.to-string */ "./node_modules/core-js/modules/es.object.to-string.js");\n/* harmony import */ var core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.promise */ "./node_modules/core-js/modules/es.promise.js");\n/* harmony import */ var core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _icons_EmojiIcon_vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./icons/EmojiIcon.vue */ "./src/icons/EmojiIcon.vue");\n/* harmony import */ var _icons_FileIcons_vue__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./icons/FileIcons.vue */ "./src/icons/FileIcons.vue");\n/* harmony import */ var _UserInputButton_vue__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./UserInputButton.vue */ "./src/UserInputButton.vue");\n/* harmony import */ var _Suggestions_vue__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Suggestions.vue */ "./src/Suggestions.vue");\n/* harmony import */ var _assets_file_svg__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./assets/file.svg */ "./src/assets/file.svg");\n/* harmony import */ var _assets_file_svg__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_assets_file_svg__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _assets_close_svg__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./assets/close.svg */ "./src/assets/close.svg");\n/* harmony import */ var _assets_close_svg__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_assets_close_svg__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _store___WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./store/ */ "./src/store/index.js");\n/* harmony import */ var _components_icons_IconCross_vue__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/icons/IconCross.vue */ "./src/components/icons/IconCross.vue");\n/* harmony import */ var _components_icons_IconOk_vue__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/icons/IconOk.vue */ "./src/components/icons/IconOk.vue");\n/* harmony import */ var _components_icons_IconSend_vue__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/icons/IconSend.vue */ "./src/components/icons/IconSend.vue");\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__["default"] = ({\n  components: {\n    EmojiIcon: _icons_EmojiIcon_vue__WEBPACK_IMPORTED_MODULE_3__["default"],\n    FileIcons: _icons_FileIcons_vue__WEBPACK_IMPORTED_MODULE_4__["default"],\n    UserInputButton: _UserInputButton_vue__WEBPACK_IMPORTED_MODULE_5__["default"],\n    Suggestions: _Suggestions_vue__WEBPACK_IMPORTED_MODULE_6__["default"],\n    IconCross: _components_icons_IconCross_vue__WEBPACK_IMPORTED_MODULE_10__["default"],\n    IconOk: _components_icons_IconOk_vue__WEBPACK_IMPORTED_MODULE_11__["default"],\n    IconSend: _components_icons_IconSend_vue__WEBPACK_IMPORTED_MODULE_12__["default"]\n  },\n  props: {\n    icons: {\n      type: Object,\n      "default": function _default() {\n        return {\n          file: {\n            img: _assets_file_svg__WEBPACK_IMPORTED_MODULE_7___default.a,\n            name: \'default\'\n          },\n          closeSvg: {\n            img: _assets_close_svg__WEBPACK_IMPORTED_MODULE_8___default.a,\n            name: \'default\'\n          }\n        };\n      }\n    },\n    showEmoji: {\n      type: Boolean,\n      "default": function _default() {\n        return false;\n      }\n    },\n    suggestions: {\n      type: Array,\n      "default": function _default() {\n        return [];\n      }\n    },\n    showFile: {\n      type: Boolean,\n      "default": function _default() {\n        return false;\n      }\n    },\n    onSubmit: {\n      type: Function,\n      required: true\n    },\n    placeholder: {\n      type: String,\n      "default": \'Write something...\'\n    },\n    colors: {\n      type: Object,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      file: null,\n      inputActive: false\n    };\n  },\n  computed: {\n    editMessageId: function editMessageId() {\n      return this.isEditing && _store___WEBPACK_IMPORTED_MODULE_9__["default"].state.editMessage.id;\n    },\n    isEditing: function isEditing() {\n      return _store___WEBPACK_IMPORTED_MODULE_9__["default"].state.editMessage && _store___WEBPACK_IMPORTED_MODULE_9__["default"].state.editMessage.id;\n    }\n  },\n  watch: {\n    editMessageId: function editMessageId(m) {\n      if (_store___WEBPACK_IMPORTED_MODULE_9__["default"].state.editMessage != null && _store___WEBPACK_IMPORTED_MODULE_9__["default"].state.editMessage != undefined) {\n        this.$refs.userInput.focus();\n        this.$refs.userInput.textContent = _store___WEBPACK_IMPORTED_MODULE_9__["default"].state.editMessage.data.text;\n      } else {\n        this.$refs.userInput.textContent = \'\';\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$root.$on(\'focusUserInput\', function () {\n      if (_this.$refs.userInput) {\n        _this.focusUserInput();\n      }\n    });\n  },\n  methods: {\n    cancelFile: function cancelFile() {\n      this.file = null;\n    },\n    setInputActive: function setInputActive(onoff) {\n      this.inputActive = onoff;\n    },\n    handleKey: function handleKey(event) {\n      if (event.keyCode === 13 && !event.shiftKey) {\n        if (!this.isEditing) {\n          this._submitText(event);\n        } else {\n          this._editText(event);\n        }\n\n        this._editFinish();\n\n        event.preventDefault();\n      } else if (event.keyCode === 27) {\n        this._editFinish();\n\n        event.preventDefault();\n      }\n\n      this.$emit(\'onType\');\n    },\n    focusUserInput: function focusUserInput() {\n      var _this2 = this;\n\n      this.$nextTick(function () {\n        _this2.$refs.userInput.focus();\n      });\n    },\n    _submitSuggestion: function _submitSuggestion(suggestion) {\n      this.onSubmit({\n        author: \'me\',\n        type: \'text\',\n        data: {\n          text: suggestion\n        }\n      });\n    },\n    _checkSubmitSuccess: function _checkSubmitSuccess(success) {\n      if (Promise !== undefined) {\n        Promise.resolve(success).then(function (wasSuccessful) {\n          if (wasSuccessful === undefined || wasSuccessful) {\n            this.file = null;\n            this.$refs.userInput.innerHTML = \'\';\n          }\n        }.bind(this));\n      } else {\n        this.file = null;\n        this.$refs.userInput.innerHTML = \'\';\n      }\n    },\n    _submitText: function _submitText(event) {\n      var text = this.$refs.userInput.textContent;\n      var file = this.file;\n\n      if (file) {\n        this._submitTextWhenFile(event, text, file);\n      } else {\n        if (text && text.length > 0) {\n          this._checkSubmitSuccess(this.onSubmit({\n            author: \'me\',\n            type: \'text\',\n            data: {\n              text: text\n            }\n          }));\n        }\n      }\n    },\n    _submitTextWhenFile: function _submitTextWhenFile(event, text, file) {\n      if (text && text.length > 0) {\n        this._checkSubmitSuccess(this.onSubmit({\n          author: \'me\',\n          type: \'file\',\n          data: {\n            text: text,\n            file: file\n          }\n        }));\n      } else {\n        this._checkSubmitSuccess(this.onSubmit({\n          author: \'me\',\n          type: \'file\',\n          data: {\n            file: file\n          }\n        }));\n      }\n    },\n    _editText: function _editText(event) {\n      var text = this.$refs.userInput.textContent;\n\n      if (text && text.length) {\n        this.$emit(\'edit\', {\n          author: \'me\',\n          type: \'text\',\n          id: _store___WEBPACK_IMPORTED_MODULE_9__["default"].state.editMessage.id,\n          data: {\n            text: text\n          }\n        });\n\n        this._editFinish();\n      }\n    },\n    _handleEmojiPicked: function _handleEmojiPicked(emoji) {\n      this._checkSubmitSuccess(this.onSubmit({\n        author: \'me\',\n        type: \'emoji\',\n        data: {\n          emoji: emoji\n        }\n      }));\n    },\n    _handleFileSubmit: function _handleFileSubmit(file) {\n      this.file = file;\n    },\n    _editFinish: function _editFinish() {\n      _store___WEBPACK_IMPORTED_MODULE_9__["default"].setState(\'editMessage\', null);\n    }\n  }\n});\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/UserInput.vue?./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/UserInputButton.vue?vue&type=script&lang=js&":
/*!************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/UserInputButton.vue?vue&type=script&lang=js& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _components_IconBase_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/IconBase.vue */ "./src/components/IconBase.vue");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__["default"] = ({\n  components: {\n    IconBase: _components_IconBase_vue__WEBPACK_IMPORTED_MODULE_0__["default"]\n  },\n  props: {\n    color: {\n      type: String,\n      required: true\n    },\n    tooltip: {\n      type: String,\n      "default": \'\'\n    }\n  }\n});\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/UserInputButton.vue?./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/UserList.vue?vue&type=script&lang=js&":
/*!*****************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/UserList.vue?vue&type=script&lang=js& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var core_js_modules_es_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.object.assign */ "./node_modules/core-js/modules/es.object.assign.js");\n/* harmony import */ var core_js_modules_es_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_assign__WEBPACK_IMPORTED_MODULE_0__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ __webpack_exports__["default"] = ({\n  props: {\n    participants: {\n      type: Array,\n      required: true\n    },\n    colors: {\n      type: Object,\n      "default": function _default() {\n        return {};\n      }\n    }\n  },\n  computed: {\n    userListColor: function userListColor() {\n      var defaultColors = {\n        userList: {\n          bg: \'#FFFFFF\',\n          text: \'#000000\'\n        }\n      };\n      return Object.assign(defaultColors, this.colors);\n    }\n  }\n});\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/UserList.vue?./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/IconBase.vue?vue&type=script&lang=js&":
/*!****************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/IconBase.vue?vue&type=script&lang=js& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.number.constructor */ "./node_modules/core-js/modules/es.number.constructor.js");\n/* harmony import */ var core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_0__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ __webpack_exports__["default"] = ({\n  props: {\n    iconName: {\n      type: String,\n      "default": \'box\'\n    },\n    width: {\n      type: [Number, String],\n      "default": 18\n    },\n    height: {\n      type: [Number, String],\n      "default": 18\n    },\n    viewBox: {\n      type: String,\n      "default": \'0 0 18 18\'\n    },\n    iconColor: {\n      type: String,\n      "default": \'currentColor\'\n    }\n  }\n});\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/components/IconBase.vue?./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/icons/EmojiIcon.vue?vue&type=script&lang=js&":
/*!************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/icons/EmojiIcon.vue?vue&type=script&lang=js& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _EmojiPicker_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../EmojiPicker.vue */ "./src/EmojiPicker.vue");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__["default"] = ({\n  components: {\n    EmojiPicker: _EmojiPicker_vue__WEBPACK_IMPORTED_MODULE_0__["default"]\n  },\n  props: {\n    onEmojiPicked: {\n      type: Function,\n      required: true\n    },\n    color: {\n      type: String,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      isActive: false\n    };\n  },\n  methods: {\n    _openPicker: function _openPicker(e) {\n      this.isActive = !this.isActive;\n    },\n    _handlePickerBlur: function _handlePickerBlur() {\n      this.isActive = false;\n    }\n  }\n});\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/icons/EmojiIcon.vue?./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/icons/FileIcons.vue?vue&type=script&lang=js&":
/*!************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/icons/FileIcons.vue?vue&type=script&lang=js& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ __webpack_exports__["default"] = ({\n  props: {\n    onChange: {\n      type: Function,\n      required: true\n    },\n    color: {\n      type: String,\n      required: true\n    }\n  },\n  methods: {\n    _handleChange: function _handleChange(e) {\n      this.onChange(e.target.files[0]);\n    }\n  }\n});\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/icons/FileIcons.vue?./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/EmojiMessage.vue?vue&type=script&lang=js&":
/*!******************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/messages/EmojiMessage.vue?vue&type=script&lang=js& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n//\n//\n//\n//\n/* harmony default export */ __webpack_exports__["default"] = ({\n  props: {\n    data: {\n      type: Object,\n      required: true\n    }\n  }\n});\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/EmojiMessage.vue?./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/FileMessage.vue?vue&type=script&lang=js&":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/messages/FileMessage.vue?vue&type=script&lang=js& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ __webpack_exports__["default"] = ({\n  props: {\n    data: {\n      type: Object,\n      required: true\n    },\n    messageColors: {\n      type: Object,\n      required: true\n    }\n  }\n});\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/FileMessage.vue?./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/SystemMessage.vue?vue&type=script&lang=js&":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/messages/SystemMessage.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ __webpack_exports__["default"] = ({\n  props: {\n    data: {\n      type: Object,\n      required: true\n    },\n    messageColors: {\n      type: Object,\n      required: true\n    }\n  }\n});\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/SystemMessage.vue?./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/TextMessage.vue?vue&type=script&lang=js&":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/messages/TextMessage.vue?vue&type=script&lang=js& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var core_js_modules_es_string_link__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.string.link */ "./node_modules/core-js/modules/es.string.link.js");\n/* harmony import */ var core_js_modules_es_string_link__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_link__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Users_faissalelosman_code_tmp_vue_beautiful_chat_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/objectSpread2 */ "./node_modules/@babel/runtime/helpers/esm/objectSpread2.js");\n/* harmony import */ var _store___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/ */ "./src/store/index.js");\n/* harmony import */ var _components_IconBase_vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../components/IconBase.vue */ "./src/components/IconBase.vue");\n/* harmony import */ var _components_icons_IconEdit_vue__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../components/icons/IconEdit.vue */ "./src/components/icons/IconEdit.vue");\n/* harmony import */ var _components_icons_IconCross_vue__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./../components/icons/IconCross.vue */ "./src/components/icons/IconCross.vue");\n/* harmony import */ var escape_goat__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! escape-goat */ "./node_modules/escape-goat/index.js");\n/* harmony import */ var escape_goat__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(escape_goat__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var autolinker__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! autolinker */ "./node_modules/autolinker/dist/Autolinker.js");\n/* harmony import */ var autolinker__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(autolinker__WEBPACK_IMPORTED_MODULE_7__);\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n\nvar fmt = __webpack_require__(/*! msgdown */ "./node_modules/msgdown/src/msgdown.js");\n\n/* harmony default export */ __webpack_exports__["default"] = ({\n  components: {\n    IconBase: _components_IconBase_vue__WEBPACK_IMPORTED_MODULE_3__["default"],\n    IconCross: _components_icons_IconCross_vue__WEBPACK_IMPORTED_MODULE_5__["default"],\n    IconEdit: _components_icons_IconEdit_vue__WEBPACK_IMPORTED_MODULE_4__["default"]\n  },\n  props: {\n    message: {\n      type: Object,\n      required: true\n    },\n    messageColors: {\n      type: Object,\n      required: true\n    },\n    messageStyling: {\n      type: Boolean,\n      required: true\n    }\n  },\n  computed: Object(_Users_faissalelosman_code_tmp_vue_beautiful_chat_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__["default"])({\n    messageText: function messageText() {\n      var escaped = escape_goat__WEBPACK_IMPORTED_MODULE_6___default.a.escape(this.message.data.text);\n      return autolinker__WEBPACK_IMPORTED_MODULE_7___default.a.link(this.messageStyling ? fmt(escaped) : escaped, {\n        className: \'chatLink\',\n        truncate: {\n          length: 50,\n          location: \'smart\'\n        }\n      });\n    },\n    me: function me() {\n      return this.message.author === \'me\';\n    },\n    isEditing: function isEditing() {\n      return (_store___WEBPACK_IMPORTED_MODULE_2__["default"].state.editMessage && _store___WEBPACK_IMPORTED_MODULE_2__["default"].state.editMessage.id) === this.message.id;\n    }\n  }, Object(_store___WEBPACK_IMPORTED_MODULE_2__["mapState"])([\'showDeletion\', \'showEdition\'])),\n  methods: {\n    edit: function edit() {\n      _store___WEBPACK_IMPORTED_MODULE_2__["default"].setState(\'editMessage\', this.message);\n    }\n  }\n});\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/TextMessage.vue?./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/TypingMessage.vue?vue&type=script&lang=js&":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/messages/TypingMessage.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ __webpack_exports__["default"] = ({\n  props: {\n    messageColors: {\n      type: Object,\n      required: true\n    }\n  }\n});\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/TypingMessage.vue?./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/ChatWindow.vue?vue&type=template&id=7e6303be&scoped=true&':
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/ChatWindow.vue?vue&type=template&id=7e6303be&scoped=true& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    "div",\n    {\n      staticClass: "sc-chat-window",\n      class: { opened: _vm.isOpen, closed: !_vm.isOpen }\n    },\n    [\n      _vm.showHeader\n        ? _c(\n            "Header",\n            {\n              attrs: { title: _vm.title, colors: _vm.colors },\n              on: {\n                close: function($event) {\n                  return _vm.$emit("close")\n                },\n                phoneCall: function($event) {\n                  return _vm.$emit("phoneCall")\n                },\n                userList: _vm.handleUserListToggle\n              }\n            },\n            [[_vm._t("header")]],\n            2\n          )\n        : _vm._e(),\n      _vm.showUserList\n        ? _c("UserList", {\n            attrs: { colors: _vm.colors, participants: _vm.participants }\n          })\n        : _vm._e(),\n      !_vm.showUserList\n        ? _c("MessageList", {\n            attrs: {\n              messages: _vm.messages,\n              participants: _vm.participants,\n              "show-typing-indicator": _vm.showTypingIndicator,\n              colors: _vm.colors,\n              "always-scroll-to-bottom": _vm.alwaysScrollToBottom,\n              "message-styling": _vm.messageStyling\n            },\n            on: {\n              scrollToTop: function($event) {\n                return _vm.$emit("scrollToTop")\n              },\n              remove: function($event) {\n                return _vm.$emit("remove", $event)\n              }\n            }\n          })\n        : _vm._e(),\n      !_vm.showUserList\n        ? _c("UserInput", {\n            attrs: {\n              "show-emoji": _vm.showEmoji,\n              "on-submit": _vm.onUserInputSubmit,\n              suggestions: _vm.getSuggestions(),\n              "show-file": _vm.showFile,\n              placeholder: _vm.placeholder,\n              colors: _vm.colors\n            },\n            on: {\n              onType: function($event) {\n                return _vm.$emit("onType")\n              },\n              edit: function($event) {\n                return _vm.$emit("edit", $event)\n              }\n            }\n          })\n        : _vm._e()\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/ChatWindow.vue?./node_modules/cache-loader/dist/cjs.js?%7B%22cacheDirectory%22:%22node_modules/.cache/vue-loader%22,%22cacheIdentifier%22:%22bef95c9c-vue-loader-template%22%7D!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/EmojiPicker.vue?vue&type=template&id=d57501ea&scoped=true&':
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/EmojiPicker.vue?vue&type=template&id=d57501ea&scoped=true& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    "div",\n    {\n      ref: "domNode",\n      staticClass: "sc-emoji-picker",\n      attrs: { tabIndex: "0" },\n      on: { blur: _vm.onBlur }\n    },\n    [\n      _c(\n        "div",\n        { staticClass: "sc-emoji-picker--content" },\n        _vm._l(_vm.emojiData, function(category) {\n          return _c(\n            "div",\n            { key: category.name, staticClass: "sc-emoji-picker--category" },\n            [\n              _c("div", { staticClass: "sc-emoji-picker--category-title" }, [\n                _vm._v(_vm._s(category.name))\n              ]),\n              _vm._l(category.emojis, function(emoji) {\n                return _c(\n                  "span",\n                  {\n                    key: emoji,\n                    staticClass: "sc-emoji-picker--emoji",\n                    on: {\n                      click: function($event) {\n                        return _vm.emojiClicked(emoji)\n                      }\n                    }\n                  },\n                  [_vm._v(" " + _vm._s(emoji) + " ")]\n                )\n              })\n            ],\n            2\n          )\n        }),\n        0\n      )\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/EmojiPicker.vue?./node_modules/cache-loader/dist/cjs.js?%7B%22cacheDirectory%22:%22node_modules/.cache/vue-loader%22,%22cacheIdentifier%22:%22bef95c9c-vue-loader-template%22%7D!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Header.vue?vue&type=template&id=740df574&scoped=true&':
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/Header.vue?vue&type=template&id=740df574&scoped=true& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    "div",\n    {\n      staticClass: "sc-header",\n      style: { background: _vm.colors.header.bg, color: _vm.colors.header.text }\n    },\n    [\n      _vm._t("default", function() {\n        return [\n          _vm.titleImageUrl\n            ? _c("img", {\n                staticClass: "sc-header--img",\n                attrs: { src: _vm.titleImageUrl, alt: "" }\n              })\n            : _vm._e(),\n          !_vm.disableUserListToggle\n            ? _c(\n                "div",\n                {\n                  staticClass: "sc-header--title enabled",\n                  on: { click: _vm.toggleUserList }\n                },\n                [_vm._v(" " + _vm._s(_vm.title) + " ")]\n              )\n            : _c("div", { staticClass: "sc-header--title" }, [\n                _vm._v(_vm._s(_vm.title))\n              ])\n        ]\n      }),\n      _vm.showPhone\n        ? _c(\n            "div",\n            {\n              staticClass: "sc-header--close-button",\n              on: {\n                click: function($event) {\n                  return _vm.$emit("phoneCall")\n                }\n              }\n            },\n            [\n              _c("img", {\n                attrs: { src: _vm.icons.phone.img, alt: _vm.icons.close.name }\n              })\n            ]\n          )\n        : _vm._e(),\n      _vm.showCloseButton\n        ? _c(\n            "div",\n            {\n              staticClass: "sc-header--close-button",\n              on: {\n                click: function($event) {\n                  return _vm.$emit("close")\n                }\n              }\n            },\n            [\n              _c("img", {\n                attrs: { src: _vm.icons.close.img, alt: _vm.icons.close.name }\n              })\n            ]\n          )\n        : _vm._e()\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Header.vue?./node_modules/cache-loader/dist/cjs.js?%7B%22cacheDirectory%22:%22node_modules/.cache/vue-loader%22,%22cacheIdentifier%22:%22bef95c9c-vue-loader-template%22%7D!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Launcher.vue?vue&type=template&id=542b4c99&scoped=true&':
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/Launcher.vue?vue&type=template&id=542b4c99&scoped=true& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    "div",\n    [\n      _vm.showLauncher\n        ? _c(\n            "div",\n            {\n              staticClass: "sc-launcher",\n              class: { opened: _vm.isOpen },\n              style: { backgroundColor: _vm.colors.launcher.bg },\n              on: {\n                click: function($event) {\n                  $event.preventDefault()\n                  _vm.isOpen ? _vm.close() : _vm.openAndFocus()\n                }\n              }\n            },\n            [\n              _vm.newMessagesCount > 0 && !_vm.isOpen\n                ? _c("div", { staticClass: "sc-new-messsages-count" }, [\n                    _vm._v(" " + _vm._s(_vm.newMessagesCount) + " ")\n                  ])\n                : _vm._e(),\n              _vm.isOpen\n                ? _c("img", {\n                    staticClass: "sc-closed-icon",\n                    attrs: {\n                      src: _vm.icons.close.img,\n                      alt: _vm.icons.close.name\n                    }\n                  })\n                : _c("img", {\n                    staticClass: "sc-open-icon",\n                    attrs: { src: _vm.icons.open.img, alt: _vm.icons.open.name }\n                  })\n            ]\n          )\n        : _vm._e(),\n      _c("ChatWindow", {\n        attrs: {\n          "message-list": _vm.messageList,\n          "on-user-input-submit": _vm.onMessageWasSent,\n          participants: _vm.participants,\n          title: _vm.chatWindowTitle,\n          "is-open": _vm.isOpen,\n          "show-emoji": _vm.showEmoji,\n          "show-file": _vm.showFile,\n          "show-header": _vm.showHeader,\n          placeholder: _vm.placeholder,\n          "show-typing-indicator": _vm.showTypingIndicator,\n          colors: _vm.colors,\n          "always-scroll-to-bottom": _vm.alwaysScrollToBottom,\n          "message-styling": _vm.messageStyling\n        },\n        on: {\n          close: _vm.close,\n          phoneCall: function($event) {\n            return _vm.$emit("phoneCall")\n          },\n          scrollToTop: function($event) {\n            return _vm.$emit("scrollToTop")\n          },\n          onType: function($event) {\n            return _vm.$emit("onType")\n          },\n          edit: function($event) {\n            return _vm.$emit("edit", $event)\n          },\n          remove: function($event) {\n            return _vm.$emit("remove", $event)\n          }\n        },\n        scopedSlots: _vm._u(\n          [\n            {\n              key: "header",\n              fn: function() {\n                return [_vm._t("header")]\n              },\n              proxy: true\n            },\n            {\n              key: "user-avatar",\n              fn: function(scopedProps) {\n                return [\n                  _vm._t("user-avatar", null, {\n                    user: scopedProps.user,\n                    message: scopedProps.message\n                  })\n                ]\n              }\n            },\n            {\n              key: "text-message-body",\n              fn: function(scopedProps) {\n                return [\n                  _vm._t("text-message-body", null, {\n                    message: scopedProps.message,\n                    messageText: scopedProps.messageText,\n                    messageColors: scopedProps.messageColors,\n                    me: scopedProps.me\n                  })\n                ]\n              }\n            },\n            {\n              key: "system-message-body",\n              fn: function(scopedProps) {\n                return [\n                  _vm._t("system-message-body", null, {\n                    message: scopedProps.message\n                  })\n                ]\n              }\n            },\n            {\n              key: "text-message-toolbox",\n              fn: function(scopedProps) {\n                return [\n                  _vm._t("text-message-toolbox", null, {\n                    message: scopedProps.message,\n                    me: scopedProps.me\n                  })\n                ]\n              }\n            }\n          ],\n          null,\n          true\n        )\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Launcher.vue?./node_modules/cache-loader/dist/cjs.js?%7B%22cacheDirectory%22:%22node_modules/.cache/vue-loader%22,%22cacheIdentifier%22:%22bef95c9c-vue-loader-template%22%7D!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Message.vue?vue&type=template&id=fdaea6c4&':
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/Message.vue?vue&type=template&id=fdaea6c4& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    "div",\n    { staticClass: "sc-message", attrs: { id: _vm.message.id } },\n    [\n      _c(\n        "div",\n        {\n          staticClass: "sc-message--content",\n          class: {\n            sent: _vm.message.author === "me",\n            received:\n              _vm.message.author !== "me" && _vm.message.type !== "system",\n            system: _vm.message.type === "system"\n          }\n        },\n        [\n          _vm._t(\n            "user-avatar",\n            function() {\n              return [\n                _vm.message.type !== "system" &&\n                _vm.authorName &&\n                _vm.authorName !== "me"\n                  ? _c("div", {\n                      directives: [\n                        {\n                          name: "tooltip",\n                          rawName: "v-tooltip",\n                          value: _vm.authorName,\n                          expression: "authorName"\n                        }\n                      ],\n                      staticClass: "sc-message--avatar",\n                      style: {\n                        backgroundImage: "url(" + _vm.chatImageUrl + ")"\n                      },\n                      attrs: { title: _vm.authorName }\n                    })\n                  : _vm._e()\n              ]\n            },\n            { message: _vm.message, user: _vm.user }\n          ),\n          _vm.message.type === "text"\n            ? _c("TextMessage", {\n                attrs: {\n                  message: _vm.message,\n                  "message-colors": _vm.messageColors,\n                  "message-styling": _vm.messageStyling\n                },\n                on: {\n                  remove: function($event) {\n                    return _vm.$emit("remove")\n                  }\n                }\n              })\n            : _vm.message.type === "emoji"\n            ? _c("EmojiMessage", { attrs: { data: _vm.message.data } })\n            : _vm.message.type === "file"\n            ? _c("FileMessage", {\n                attrs: {\n                  data: _vm.message.data,\n                  "message-colors": _vm.messageColors\n                }\n              })\n            : _vm.message.type === "typing"\n            ? _c("TypingMessage", {\n                attrs: { "message-colors": _vm.messageColors }\n              })\n            : _vm.message.type === "system"\n            ? _c(\n                "SystemMessage",\n                {\n                  attrs: {\n                    data: _vm.message.data,\n                    "message-colors": _vm.messageColors\n                  }\n                },\n                [\n                  _vm._t("system-message-body", null, {\n                    message: _vm.message.data\n                  })\n                ],\n                2\n              )\n            : _vm._e()\n        ],\n        2\n      )\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Message.vue?./node_modules/cache-loader/dist/cjs.js?%7B%22cacheDirectory%22:%22node_modules/.cache/vue-loader%22,%22cacheIdentifier%22:%22bef95c9c-vue-loader-template%22%7D!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/MessageList.vue?vue&type=template&id=b0506148&scoped=true&':
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/MessageList.vue?vue&type=template&id=b0506148&scoped=true& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    "div",\n    {\n      ref: "scrollList",\n      staticClass: "sc-message-list",\n      style: { backgroundColor: _vm.colors.messageList.bg },\n      on: { scroll: _vm.handleScroll }\n    },\n    [\n      _vm._l(_vm.messages, function(message, idx) {\n        return _c("Message", {\n          key: idx,\n          attrs: {\n            message: message,\n            user: _vm.profile(message.author),\n            colors: _vm.colors,\n            "message-styling": _vm.messageStyling\n          },\n          on: {\n            remove: function($event) {\n              return _vm.$emit("remove", message)\n            }\n          }\n        })\n      }),\n      _c("Message", {\n        directives: [\n          {\n            name: "show",\n            rawName: "v-show",\n            value: _vm.showTypingIndicator !== "",\n            expression: "showTypingIndicator !== \'\'"\n          }\n        ],\n        attrs: {\n          message: { author: _vm.showTypingIndicator, type: "typing" },\n          user: _vm.profile(_vm.showTypingIndicator),\n          colors: _vm.colors,\n          "message-styling": _vm.messageStyling\n        }\n      })\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/MessageList.vue?./node_modules/cache-loader/dist/cjs.js?%7B%22cacheDirectory%22:%22node_modules/.cache/vue-loader%22,%22cacheIdentifier%22:%22bef95c9c-vue-loader-template%22%7D!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Suggestions.vue?vue&type=template&id=728ecff4&':
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/Suggestions.vue?vue&type=template&id=728ecff4& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    "div",\n    {\n      staticClass: "sc-suggestions-row",\n      style: { background: _vm.colors.messageList.bg }\n    },\n    _vm._l(_vm.suggestions, function(suggestion, idx) {\n      return _c(\n        "button",\n        {\n          key: idx,\n          staticClass: "sc-suggestions-element",\n          style: {\n            borderColor: _vm.colors.sentMessage.bg,\n            color: _vm.colors.sentMessage.bg\n          },\n          on: {\n            click: function($event) {\n              return _vm.$emit("sendSuggestion", suggestion)\n            }\n          }\n        },\n        [_vm._v(" " + _vm._s(suggestion) + " ")]\n      )\n    }),\n    0\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Suggestions.vue?./node_modules/cache-loader/dist/cjs.js?%7B%22cacheDirectory%22:%22node_modules/.cache/vue-loader%22,%22cacheIdentifier%22:%22bef95c9c-vue-loader-template%22%7D!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/UserInput.vue?vue&type=template&id=50424f96&scoped=true&':
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/UserInput.vue?vue&type=template&id=50424f96&scoped=true& ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    "div",\n    [\n      _c("Suggestions", {\n        attrs: { suggestions: _vm.suggestions, colors: _vm.colors },\n        on: { sendSuggestion: _vm._submitSuggestion }\n      }),\n      _vm.file\n        ? _c(\n            "div",\n            {\n              staticClass: "file-container",\n              style: {\n                backgroundColor: _vm.colors.userInput.text,\n                color: _vm.colors.userInput.bg\n              }\n            },\n            [\n              _c("span", { staticClass: "icon-file-message" }, [\n                _c("img", {\n                  attrs: {\n                    src: _vm.icons.file.img,\n                    alt: _vm.icons.file.name,\n                    height: "15"\n                  }\n                })\n              ]),\n              _vm._v(" " + _vm._s(_vm.file.name) + " "),\n              _c(\n                "span",\n                {\n                  staticClass: "delete-file-message",\n                  on: {\n                    click: function($event) {\n                      return _vm.cancelFile()\n                    }\n                  }\n                },\n                [\n                  _c("img", {\n                    attrs: {\n                      src: _vm.icons.closeSvg.img,\n                      alt: _vm.icons.closeSvg.name,\n                      height: "10",\n                      title: "Remove the file"\n                    }\n                  })\n                ]\n              )\n            ]\n          )\n        : _vm._e(),\n      _c(\n        "form",\n        {\n          staticClass: "sc-user-input",\n          class: { active: _vm.inputActive },\n          style: { background: _vm.colors.userInput.bg }\n        },\n        [\n          _c("div", {\n            ref: "userInput",\n            staticClass: "sc-user-input--text",\n            style: { color: _vm.colors.userInput.text },\n            attrs: {\n              role: "button",\n              tabIndex: "0",\n              contentEditable: "true",\n              placeholder: _vm.placeholder\n            },\n            on: {\n              focus: function($event) {\n                return _vm.setInputActive(true)\n              },\n              blur: function($event) {\n                return _vm.setInputActive(false)\n              },\n              keydown: _vm.handleKey,\n              focusUserInput: function($event) {\n                return _vm.focusUserInput()\n              }\n            }\n          }),\n          _c("div", { staticClass: "sc-user-input--buttons" }, [\n            _vm.showEmoji && !_vm.isEditing\n              ? _c(\n                  "div",\n                  { staticClass: "sc-user-input--button" },\n                  [\n                    _c("EmojiIcon", {\n                      attrs: {\n                        "on-emoji-picked": _vm._handleEmojiPicked,\n                        color: _vm.colors.userInput.text\n                      }\n                    })\n                  ],\n                  1\n                )\n              : _vm._e(),\n            _vm.showFile && !_vm.isEditing\n              ? _c(\n                  "div",\n                  { staticClass: "sc-user-input--button" },\n                  [\n                    _c("FileIcons", {\n                      attrs: {\n                        "on-change": _vm._handleFileSubmit,\n                        color: _vm.colors.userInput.text\n                      }\n                    })\n                  ],\n                  1\n                )\n              : _vm._e(),\n            _vm.isEditing\n              ? _c(\n                  "div",\n                  { staticClass: "sc-user-input--button" },\n                  [\n                    _c(\n                      "UserInputButton",\n                      {\n                        attrs: {\n                          color: _vm.colors.userInput.text,\n                          tooltip: "Cancel"\n                        },\n                        nativeOn: {\n                          click: function($event) {\n                            $event.preventDefault()\n                            return _vm._editFinish.apply(null, arguments)\n                          }\n                        }\n                      },\n                      [_c("IconCross")],\n                      1\n                    )\n                  ],\n                  1\n                )\n              : _vm._e(),\n            _c(\n              "div",\n              { staticClass: "sc-user-input--button" },\n              [\n                _vm.isEditing\n                  ? _c(\n                      "UserInputButton",\n                      {\n                        attrs: {\n                          color: _vm.colors.userInput.text,\n                          tooltip: "Edit"\n                        },\n                        nativeOn: {\n                          click: function($event) {\n                            $event.preventDefault()\n                            return _vm._editText.apply(null, arguments)\n                          }\n                        }\n                      },\n                      [_c("IconOk")],\n                      1\n                    )\n                  : _c(\n                      "UserInputButton",\n                      {\n                        attrs: {\n                          color: _vm.colors.userInput.text,\n                          tooltip: "Send"\n                        },\n                        nativeOn: {\n                          click: function($event) {\n                            $event.preventDefault()\n                            return _vm._submitText.apply(null, arguments)\n                          }\n                        }\n                      },\n                      [_c("IconSend")],\n                      1\n                    )\n              ],\n              1\n            )\n          ])\n        ]\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/UserInput.vue?./node_modules/cache-loader/dist/cjs.js?%7B%22cacheDirectory%22:%22node_modules/.cache/vue-loader%22,%22cacheIdentifier%22:%22bef95c9c-vue-loader-template%22%7D!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/UserInputButton.vue?vue&type=template&id=ced59930&scoped=true&':
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/UserInputButton.vue?vue&type=template&id=ced59930&scoped=true& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    "button",\n    { staticClass: "sc-user-input--button-icon-wrapper" },\n    [\n      _c(\n        "IconBase",\n        {\n          attrs: {\n            color: _vm.color,\n            width: "20",\n            height: "20",\n            "view-box": "2.24 2.24 15.52 15.52",\n            "icon-name": _vm.tooltip\n          }\n        },\n        [_vm._t("default")],\n        2\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/UserInputButton.vue?./node_modules/cache-loader/dist/cjs.js?%7B%22cacheDirectory%22:%22node_modules/.cache/vue-loader%22,%22cacheIdentifier%22:%22bef95c9c-vue-loader-template%22%7D!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/UserList.vue?vue&type=template&id=15a49382&scoped=true&':
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/UserList.vue?vue&type=template&id=15a49382&scoped=true& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    "div",\n    {\n      staticClass: "user-list",\n      style: { background: _vm.userListColor.userList.bg }\n    },\n    [\n      _c("table", { staticStyle: { "padding-top": "5px" } }, [\n        _c(\n          "tbody",\n          _vm._l(_vm.participants, function(user) {\n            return _c("tr", { key: user.id }, [\n              _c("td", { staticStyle: { "text-align": "center" } }, [\n                _c("img", {\n                  staticClass: "img-msg",\n                  attrs: { src: user.imageUrl }\n                })\n              ]),\n              _c(\n                "td",\n                {\n                  staticClass: "user-element",\n                  style: { color: _vm.userListColor.userList.text }\n                },\n                [_vm._v(" " + _vm._s(user.name) + " ")]\n              )\n            ])\n          }),\n          0\n        )\n      ])\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/UserList.vue?./node_modules/cache-loader/dist/cjs.js?%7B%22cacheDirectory%22:%22node_modules/.cache/vue-loader%22,%22cacheIdentifier%22:%22bef95c9c-vue-loader-template%22%7D!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/IconBase.vue?vue&type=template&id=229c6e1a&scoped=true&':
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/IconBase.vue?vue&type=template&id=229c6e1a&scoped=true& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    "svg",\n    {\n      attrs: {\n        xmlns: "http://www.w3.org/2000/svg",\n        width: _vm.width,\n        height: _vm.height,\n        viewBox: _vm.viewBox,\n        "aria-labelledby": _vm.iconName,\n        role: "presentation"\n      }\n    },\n    [\n      _c("title", { attrs: { id: _vm.iconName, lang: "en" } }, [\n        _vm._v(_vm._s(_vm.iconName))\n      ]),\n      _c("g", { attrs: { fill: _vm.iconColor } }, [_vm._t("default")], 2)\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/components/IconBase.vue?./node_modules/cache-loader/dist/cjs.js?%7B%22cacheDirectory%22:%22node_modules/.cache/vue-loader%22,%22cacheIdentifier%22:%22bef95c9c-vue-loader-template%22%7D!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/icons/IconCross.vue?vue&type=template&id=1575e792&':
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/icons/IconCross.vue?vue&type=template&id=1575e792& ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c("path", {\n    attrs: {\n      d:\n        "M15.9 4.04a.7.7 0 00-.99 0l-4.7 4.72-4.72-4.71a.7.7 0 00-.98.98l4.7 4.71-4.7 4.71a.7.7 0 00.98.99l4.71-4.71 4.71 4.7a.7.7 0 00.99 0 .7.7 0 000-.98l-4.71-4.7 4.7-4.72a.7.7 0 000-.99z"\n    }\n  })\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/components/icons/IconCross.vue?./node_modules/cache-loader/dist/cjs.js?%7B%22cacheDirectory%22:%22node_modules/.cache/vue-loader%22,%22cacheIdentifier%22:%22bef95c9c-vue-loader-template%22%7D!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/icons/IconEdit.vue?vue&type=template&id=44a7cfa8&':
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/icons/IconEdit.vue?vue&type=template&id=44a7cfa8& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c("path", {\n    attrs: {\n      d:\n        "M19.404,6.65l-5.998-5.996c-0.292-0.292-0.765-0.292-1.056,0l-2.22,2.22l-8.311,8.313l-0.003,0.001v0.003l-0.161,0.161c-0.114,0.112-0.187,0.258-0.21,0.417l-1.059,7.051c-0.035,0.233,0.044,0.47,0.21,0.639c0.143,0.14,0.333,0.219,0.528,0.219c0.038,0,0.073-0.003,0.111-0.009l7.054-1.055c0.158-0.025,0.306-0.098,0.417-0.211l8.478-8.476l2.22-2.22C19.695,7.414,19.695,6.941,19.404,6.65z M8.341,16.656l-0.989-0.99l7.258-7.258l0.989,0.99L8.341,16.656z M2.332,15.919l0.411-2.748l4.143,4.143l-2.748,0.41L2.332,15.919z M13.554,7.351L6.296,14.61l-0.849-0.848l7.259-7.258l0.423,0.424L13.554,7.351zM10.658,4.457l0.992,0.99l-7.259,7.258L3.4,11.715L10.658,4.457z M16.656,8.342l-1.517-1.517V6.823h-0.003l-0.951-0.951l-2.471-2.471l1.164-1.164l4.942,4.94L16.656,8.342z"\n    }\n  })\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/components/icons/IconEdit.vue?./node_modules/cache-loader/dist/cjs.js?%7B%22cacheDirectory%22:%22node_modules/.cache/vue-loader%22,%22cacheIdentifier%22:%22bef95c9c-vue-loader-template%22%7D!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/icons/IconOk.vue?vue&type=template&id=56ad7ffa&':
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/icons/IconOk.vue?vue&type=template&id=56ad7ffa& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c("path", {\n    attrs: {\n      d:\n        "M7.63 14.57a.64.64 0 00.91 0l8.22-8.22a.64.64 0 10-.91-.92L8.08 13.2 4.15 9.27a.65.65 0 00-.9.9l4.38 4.4z"\n    }\n  })\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/components/icons/IconOk.vue?./node_modules/cache-loader/dist/cjs.js?%7B%22cacheDirectory%22:%22node_modules/.cache/vue-loader%22,%22cacheIdentifier%22:%22bef95c9c-vue-loader-template%22%7D!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/icons/IconSend.vue?vue&type=template&id=2f854226&':
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/icons/IconSend.vue?vue&type=template&id=2f854226& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c("path", {\n    attrs: {\n      d:\n        "M17.22 2.27L2.48 8.39c-.35.14-.32.66.06.74l6.79 1.54 1.53 6.79c.09.37.6.41.75.06l6.12-14.74a.4.4 0 00-.51-.51M3.92 8.64l11.77-4.89-6.15 6.16-5.62-1.27zm7.44 7.44l-1.27-5.61 6.16-6.16-4.9 11.77z"\n    }\n  })\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/components/icons/IconSend.vue?./node_modules/cache-loader/dist/cjs.js?%7B%22cacheDirectory%22:%22node_modules/.cache/vue-loader%22,%22cacheIdentifier%22:%22bef95c9c-vue-loader-template%22%7D!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/icons/EmojiIcon.vue?vue&type=template&id=35adf941&scoped=true&':
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/icons/EmojiIcon.vue?vue&type=template&id=35adf941&scoped=true& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    "div",\n    { staticClass: "sc-user-input--picker-wrapper" },\n    [\n      _vm.isActive\n        ? _c("EmojiPicker", {\n            attrs: {\n              "on-emoji-picked": _vm.onEmojiPicked,\n              "on-blur": _vm._handlePickerBlur\n            }\n          })\n        : _vm._e(),\n      _c(\n        "button",\n        {\n          staticClass: "sc-user-input--emoji-icon-wrapper",\n          on: {\n            click: function($event) {\n              $event.preventDefault()\n              return _vm._openPicker.apply(null, arguments)\n            }\n          }\n        },\n        [\n          _c(\n            "svg",\n            {\n              staticClass: "sc-user-input--emoji-icon",\n              class: { active: _vm.isActive },\n              attrs: {\n                xmlns: "http://www.w3.org/2000/svg",\n                width: "20",\n                height: "20",\n                viewBox: "0 0 37.4 37.4"\n              }\n            },\n            [\n              _c("path", {\n                style: { fill: _vm.color },\n                attrs: {\n                  d:\n                    "M18.7 37.4C8.39 37.4 0 29 0 18.7 0 8.39 8.39 0 18.7 0 29 0 37.4 8.39 37.4 18.7c0 10.3-8.4 18.7-18.7 18.7zm0-35.4C9.49 2 2 9.49 2 18.7c0 9.2 7.49 16.7 16.7 16.7 9.2 0 16.7-7.5 16.7-16.7C35.4 9.49 27.9 2 18.7 2z"\n                }\n              }),\n              _c("circle", {\n                style: { fill: _vm.color },\n                attrs: { cx: "12.38", cy: "14.36", r: "1.94" }\n              }),\n              _c("circle", {\n                style: { fill: _vm.color },\n                attrs: { cx: "24.37", cy: "14.41", r: "1.99" }\n              }),\n              _c("path", {\n                style: { fill: _vm.color },\n                attrs: {\n                  d:\n                    "M18.04 27.45a10 10 0 01-8.45-4.35 1 1 0 011.7-1.04c.1.15 2.17 3.4 6.75 3.4 4.7 0 7.51-3.47 7.54-3.5a1 1 0 011.57 1.24c-.14.17-3.45 4.25-9.11 4.25z"\n                }\n              })\n            ]\n          )\n        ]\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/icons/EmojiIcon.vue?./node_modules/cache-loader/dist/cjs.js?%7B%22cacheDirectory%22:%22node_modules/.cache/vue-loader%22,%22cacheIdentifier%22:%22bef95c9c-vue-loader-template%22%7D!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/icons/FileIcons.vue?vue&type=template&id=020ba240&scoped=true&':
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/icons/FileIcons.vue?vue&type=template&id=020ba240&scoped=true& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    "label",\n    {\n      staticClass: "sc-user-input--file-icon-wrapper",\n      attrs: { role: "button" }\n    },\n    [\n      _c(\n        "svg",\n        {\n          staticClass: "sc-user-input--file-icon",\n          attrs: {\n            xmlns: "http://www.w3.org/2000/svg",\n            width: "20",\n            height: "20",\n            viewBox: "0 0 31.4 34.4"\n          }\n        },\n        [\n          _c("path", {\n            style: { fill: _vm.color },\n            attrs: {\n              d:\n                "M20.8 10.22l-2.02-2.03L8.63 18.34a4.3 4.3 0 106.09 6.09L26.9 12.25A7.17 7.17 0 1016.75 2.1L3.96 14.9l-.03.02A10 10 0 1018.1 29.07l.02-.03 8.73-8.73-2.03-2.02L16.1 27l-.03.03a7.15 7.15 0 01-10.1-10.1l.03-.02L18.78 4.13a4.31 4.31 0 016.09 6.09L12.69 22.4a1.44 1.44 0 01-2.03-2.03l10.15-10.15z"\n            }\n          })\n        ]\n      ),\n      _c("input", {\n        attrs: { type: "file" },\n        on: { change: _vm._handleChange }\n      })\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/icons/FileIcons.vue?./node_modules/cache-loader/dist/cjs.js?%7B%22cacheDirectory%22:%22node_modules/.cache/vue-loader%22,%22cacheIdentifier%22:%22bef95c9c-vue-loader-template%22%7D!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/EmojiMessage.vue?vue&type=template&id=2b642e4a&scoped=true&':
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/messages/EmojiMessage.vue?vue&type=template&id=2b642e4a&scoped=true& ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c("div", { staticClass: "sc-message--emoji" }, [\n    _vm._v(_vm._s(_vm.data.emoji))\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/EmojiMessage.vue?./node_modules/cache-loader/dist/cjs.js?%7B%22cacheDirectory%22:%22node_modules/.cache/vue-loader%22,%22cacheIdentifier%22:%22bef95c9c-vue-loader-template%22%7D!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/FileMessage.vue?vue&type=template&id=cedde43e&scoped=true&':
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/messages/FileMessage.vue?vue&type=template&id=cedde43e&scoped=true& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    "div",\n    { staticClass: "sc-message--file", style: _vm.messageColors },\n    [\n      _c("div", { staticClass: "sc-message--file-icon" }, [\n        _c("img", {\n          staticClass: "sc-image",\n          attrs: { src: _vm.data.file.url }\n        })\n      ]),\n      _c(\n        "div",\n        { staticClass: "sc-message--file-name", style: _vm.messageColors },\n        [\n          _c(\n            "a",\n            {\n              attrs: {\n                href: _vm.data.file.url ? _vm.data.file.url : "#",\n                target: "_blank"\n              }\n            },\n            [_vm._v(_vm._s(_vm.data.file.name || ""))]\n          )\n        ]\n      ),\n      _c(\n        "div",\n        { staticClass: "sc-message--file-text", style: _vm.messageColors },\n        [\n          _vm._v(" " + _vm._s(_vm.data.text) + " "),\n          _vm.data.meta\n            ? _c(\n                "p",\n                { staticClass: "sc-message--meta", style: _vm.messageColors },\n                [_vm._v(" " + _vm._s(_vm.data.meta) + " ")]\n              )\n            : _vm._e()\n        ]\n      )\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/FileMessage.vue?./node_modules/cache-loader/dist/cjs.js?%7B%22cacheDirectory%22:%22node_modules/.cache/vue-loader%22,%22cacheIdentifier%22:%22bef95c9c-vue-loader-template%22%7D!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/SystemMessage.vue?vue&type=template&id=d1ca9864&scoped=true&':
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/messages/SystemMessage.vue?vue&type=template&id=d1ca9864&scoped=true& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    "div",\n    { staticClass: "sc-message--system", style: _vm.messageColors },\n    [\n      _vm._t(\n        "default",\n        function() {\n          return [\n            _vm._v(" " + _vm._s(_vm.data.text) + " "),\n            _vm.data.meta\n              ? _c(\n                  "p",\n                  {\n                    staticClass: "sc-message--meta",\n                    style: { color: _vm.messageColors.color }\n                  },\n                  [_vm._v(" " + _vm._s(_vm.data.meta) + " ")]\n                )\n              : _vm._e()\n          ]\n        },\n        { message: _vm.data }\n      )\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/SystemMessage.vue?./node_modules/cache-loader/dist/cjs.js?%7B%22cacheDirectory%22:%22node_modules/.cache/vue-loader%22,%22cacheIdentifier%22:%22bef95c9c-vue-loader-template%22%7D!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/TextMessage.vue?vue&type=template&id=c6b294e0&scoped=true&':
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/messages/TextMessage.vue?vue&type=template&id=c6b294e0&scoped=true& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    "div",\n    { staticClass: "sc-message--text", style: _vm.messageColors },\n    [\n      [\n        _c(\n          "div",\n          {\n            staticClass: "sc-message--toolbox",\n            style: { background: _vm.messageColors.backgroundColor }\n          },\n          [\n            _vm.showEdition && _vm.me && _vm.message.id\n              ? _c(\n                  "button",\n                  {\n                    attrs: { disabled: _vm.isEditing },\n                    on: { click: _vm.edit }\n                  },\n                  [\n                    _c(\n                      "IconBase",\n                      {\n                        attrs: {\n                          color: _vm.isEditing\n                            ? "black"\n                            : _vm.messageColors.color,\n                          width: "10",\n                          "icon-name": "edit"\n                        }\n                      },\n                      [_c("IconEdit")],\n                      1\n                    )\n                  ],\n                  1\n                )\n              : _vm._e(),\n            _vm.showDeletion && _vm.me && _vm.message.id\n              ? _c(\n                  "button",\n                  {\n                    on: {\n                      click: function($event) {\n                        return _vm.$emit("remove")\n                      }\n                    }\n                  },\n                  [\n                    _c(\n                      "IconBase",\n                      {\n                        attrs: {\n                          color: _vm.messageColors.color,\n                          width: "10",\n                          "icon-name": "remove"\n                        }\n                      },\n                      [_c("IconCross")],\n                      1\n                    )\n                  ],\n                  1\n                )\n              : _vm._e(),\n            _vm._t("text-message-toolbox", null, {\n              message: _vm.message,\n              me: _vm.me\n            })\n          ],\n          2\n        )\n      ],\n      _vm._t(\n        "default",\n        function() {\n          return [\n            _c("p", {\n              staticClass: "sc-message--text-content",\n              domProps: { innerHTML: _vm._s(_vm.messageText) }\n            }),\n            _vm.message.data.meta\n              ? _c(\n                  "p",\n                  {\n                    staticClass: "sc-message--meta",\n                    style: { color: _vm.messageColors.color }\n                  },\n                  [_vm._v(" " + _vm._s(_vm.message.data.meta) + " ")]\n                )\n              : _vm._e(),\n            _vm.message.isEdited\n              ? _c(\n                  "p",\n                  { staticClass: "sc-message--edited" },\n                  [\n                    _c(\n                      "IconBase",\n                      { attrs: { width: "10", "icon-name": "edited" } },\n                      [_c("IconEdit")],\n                      1\n                    ),\n                    _vm._v(" edited ")\n                  ],\n                  1\n                )\n              : _vm._e()\n          ]\n        },\n        {\n          message: _vm.message,\n          messageText: _vm.messageText,\n          messageColors: _vm.messageColors,\n          me: _vm.me\n        }\n      )\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/TextMessage.vue?./node_modules/cache-loader/dist/cjs.js?%7B%22cacheDirectory%22:%22node_modules/.cache/vue-loader%22,%22cacheIdentifier%22:%22bef95c9c-vue-loader-template%22%7D!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/TypingMessage.vue?vue&type=template&id=5a1c0386&scoped=true&':
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/messages/TypingMessage.vue?vue&type=template&id=5a1c0386&scoped=true& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    "div",\n    { staticClass: "sc-typing-indicator", style: _vm.messageColors },\n    [_c("span"), _c("span"), _c("span")]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/TypingMessage.vue?./node_modules/cache-loader/dist/cjs.js?%7B%22cacheDirectory%22:%22node_modules/.cache/vue-loader%22,%22cacheIdentifier%22:%22bef95c9c-vue-loader-template%22%7D!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/core-js/internals/a-function.js":
/*!******************************************************!*\
  !*** ./node_modules/core-js/internals/a-function.js ***!
  \******************************************************/
/*! no static exports found */function(module,exports){eval("module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/a-function.js?")},"./node_modules/core-js/internals/a-possible-prototype.js":
/*!****************************************************************!*\
  !*** ./node_modules/core-js/internals/a-possible-prototype.js ***!
  \****************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError("Can\'t set " + String(it) + \' as a prototype\');\n  } return it;\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/a-possible-prototype.js?')},"./node_modules/core-js/internals/add-to-unscopables.js":
/*!**************************************************************!*\
  !*** ./node_modules/core-js/internals/add-to-unscopables.js ***!
  \**************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\nvar create = __webpack_require__(/*! ../internals/object-create */ "./node_modules/core-js/internals/object-create.js");\nvar definePropertyModule = __webpack_require__(/*! ../internals/object-define-property */ "./node_modules/core-js/internals/object-define-property.js");\n\nvar UNSCOPABLES = wellKnownSymbol(\'unscopables\');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/add-to-unscopables.js?')},"./node_modules/core-js/internals/an-instance.js":
/*!*******************************************************!*\
  !*** ./node_modules/core-js/internals/an-instance.js ***!
  \*******************************************************/
/*! no static exports found */function(module,exports){eval("module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/an-instance.js?")},"./node_modules/core-js/internals/an-object.js":
/*!*****************************************************!*\
  !*** ./node_modules/core-js/internals/an-object.js ***!
  \*****************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("var isObject = __webpack_require__(/*! ../internals/is-object */ \"./node_modules/core-js/internals/is-object.js\");\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/an-object.js?")},"./node_modules/core-js/internals/array-for-each.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/internals/array-for-each.js ***!
  \**********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\nvar $forEach = __webpack_require__(/*! ../internals/array-iteration */ "./node_modules/core-js/internals/array-iteration.js").forEach;\nvar arrayMethodIsStrict = __webpack_require__(/*! ../internals/array-method-is-strict */ "./node_modules/core-js/internals/array-method-is-strict.js");\n\nvar STRICT_METHOD = arrayMethodIsStrict(\'forEach\');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n} : [].forEach;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/array-for-each.js?')},"./node_modules/core-js/internals/array-includes.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/internals/array-includes.js ***!
  \**********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "./node_modules/core-js/internals/to-indexed-object.js");\nvar toLength = __webpack_require__(/*! ../internals/to-length */ "./node_modules/core-js/internals/to-length.js");\nvar toAbsoluteIndex = __webpack_require__(/*! ../internals/to-absolute-index */ "./node_modules/core-js/internals/to-absolute-index.js");\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/array-includes.js?')},"./node_modules/core-js/internals/array-iteration.js":
/*!***********************************************************!*\
  !*** ./node_modules/core-js/internals/array-iteration.js ***!
  \***********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var bind = __webpack_require__(/*! ../internals/function-bind-context */ "./node_modules/core-js/internals/function-bind-context.js");\nvar IndexedObject = __webpack_require__(/*! ../internals/indexed-object */ "./node_modules/core-js/internals/indexed-object.js");\nvar toObject = __webpack_require__(/*! ../internals/to-object */ "./node_modules/core-js/internals/to-object.js");\nvar toLength = __webpack_require__(/*! ../internals/to-length */ "./node_modules/core-js/internals/to-length.js");\nvar arraySpeciesCreate = __webpack_require__(/*! ../internals/array-species-create */ "./node_modules/core-js/internals/array-species-create.js");\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterReject }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var IS_FILTER_REJECT = TYPE == 7;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_REJECT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push.call(target, value); // filterReject\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.es/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.es/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.es/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.es/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.es/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterReject` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterReject: createMethod(7)\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/array-iteration.js?')},"./node_modules/core-js/internals/array-method-has-species-support.js":
/*!****************************************************************************!*\
  !*** ./node_modules/core-js/internals/array-method-has-species-support.js ***!
  \****************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\nvar wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\nvar V8_VERSION = __webpack_require__(/*! ../internals/engine-v8-version */ "./node_modules/core-js/internals/engine-v8-version.js");\n\nvar SPECIES = wellKnownSymbol(\'species\');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can\'t use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/array-method-has-species-support.js?')},"./node_modules/core-js/internals/array-method-is-strict.js":
/*!******************************************************************!*\
  !*** ./node_modules/core-js/internals/array-method-is-strict.js ***!
  \******************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/array-method-is-strict.js?')},"./node_modules/core-js/internals/array-species-constructor.js":
/*!*********************************************************************!*\
  !*** ./node_modules/core-js/internals/array-species-constructor.js ***!
  \*********************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");\nvar isArray = __webpack_require__(/*! ../internals/is-array */ "./node_modules/core-js/internals/is-array.js");\nvar wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\n\nvar SPECIES = wellKnownSymbol(\'species\');\n\n// a part of `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == \'function\' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/array-species-constructor.js?')},"./node_modules/core-js/internals/array-species-create.js":
/*!****************************************************************!*\
  !*** ./node_modules/core-js/internals/array-species-create.js ***!
  \****************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var arraySpeciesConstructor = __webpack_require__(/*! ../internals/array-species-constructor */ "./node_modules/core-js/internals/array-species-constructor.js");\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  return new (arraySpeciesConstructor(originalArray))(length === 0 ? 0 : length);\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/array-species-create.js?')},"./node_modules/core-js/internals/check-correctness-of-iteration.js":
/*!**************************************************************************!*\
  !*** ./node_modules/core-js/internals/check-correctness-of-iteration.js ***!
  \**************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ \"./node_modules/core-js/internals/well-known-symbol.js\");\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line es/no-array-from, no-throw-literal -- required for testing\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/check-correctness-of-iteration.js?")},"./node_modules/core-js/internals/classof-raw.js":
/*!*******************************************************!*\
  !*** ./node_modules/core-js/internals/classof-raw.js ***!
  \*******************************************************/
/*! no static exports found */function(module,exports){eval("var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/classof-raw.js?")},"./node_modules/core-js/internals/classof.js":
/*!***************************************************!*\
  !*** ./node_modules/core-js/internals/classof.js ***!
  \***************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("var TO_STRING_TAG_SUPPORT = __webpack_require__(/*! ../internals/to-string-tag-support */ \"./node_modules/core-js/internals/to-string-tag-support.js\");\nvar classofRaw = __webpack_require__(/*! ../internals/classof-raw */ \"./node_modules/core-js/internals/classof-raw.js\");\nvar wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ \"./node_modules/core-js/internals/well-known-symbol.js\");\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/classof.js?")},"./node_modules/core-js/internals/copy-constructor-properties.js":
/*!***********************************************************************!*\
  !*** ./node_modules/core-js/internals/copy-constructor-properties.js ***!
  \***********************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var has = __webpack_require__(/*! ../internals/has */ "./node_modules/core-js/internals/has.js");\nvar ownKeys = __webpack_require__(/*! ../internals/own-keys */ "./node_modules/core-js/internals/own-keys.js");\nvar getOwnPropertyDescriptorModule = __webpack_require__(/*! ../internals/object-get-own-property-descriptor */ "./node_modules/core-js/internals/object-get-own-property-descriptor.js");\nvar definePropertyModule = __webpack_require__(/*! ../internals/object-define-property */ "./node_modules/core-js/internals/object-define-property.js");\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/copy-constructor-properties.js?')},"./node_modules/core-js/internals/create-html.js":
/*!*******************************************************!*\
  !*** ./node_modules/core-js/internals/create-html.js ***!
  \*******************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("var requireObjectCoercible = __webpack_require__(/*! ../internals/require-object-coercible */ \"./node_modules/core-js/internals/require-object-coercible.js\");\nvar toString = __webpack_require__(/*! ../internals/to-string */ \"./node_modules/core-js/internals/to-string.js\");\n\nvar quot = /\"/g;\n\n// `CreateHTML` abstract operation\n// https://tc39.es/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = toString(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + toString(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/create-html.js?")},"./node_modules/core-js/internals/create-non-enumerable-property.js":
/*!**************************************************************************!*\
  !*** ./node_modules/core-js/internals/create-non-enumerable-property.js ***!
  \**************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");\nvar definePropertyModule = __webpack_require__(/*! ../internals/object-define-property */ "./node_modules/core-js/internals/object-define-property.js");\nvar createPropertyDescriptor = __webpack_require__(/*! ../internals/create-property-descriptor */ "./node_modules/core-js/internals/create-property-descriptor.js");\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/create-non-enumerable-property.js?')},"./node_modules/core-js/internals/create-property-descriptor.js":
/*!**********************************************************************!*\
  !*** ./node_modules/core-js/internals/create-property-descriptor.js ***!
  \**********************************************************************/
/*! no static exports found */function(module,exports){eval("module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/create-property-descriptor.js?")},"./node_modules/core-js/internals/create-property.js":
/*!***********************************************************!*\
  !*** ./node_modules/core-js/internals/create-property.js ***!
  \***********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\nvar toPropertyKey = __webpack_require__(/*! ../internals/to-property-key */ "./node_modules/core-js/internals/to-property-key.js");\nvar definePropertyModule = __webpack_require__(/*! ../internals/object-define-property */ "./node_modules/core-js/internals/object-define-property.js");\nvar createPropertyDescriptor = __webpack_require__(/*! ../internals/create-property-descriptor */ "./node_modules/core-js/internals/create-property-descriptor.js");\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPropertyKey(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/create-property.js?')},"./node_modules/core-js/internals/define-well-known-symbol.js":
/*!********************************************************************!*\
  !*** ./node_modules/core-js/internals/define-well-known-symbol.js ***!
  \********************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var path = __webpack_require__(/*! ../internals/path */ "./node_modules/core-js/internals/path.js");\nvar has = __webpack_require__(/*! ../internals/has */ "./node_modules/core-js/internals/has.js");\nvar wrappedWellKnownSymbolModule = __webpack_require__(/*! ../internals/well-known-symbol-wrapped */ "./node_modules/core-js/internals/well-known-symbol-wrapped.js");\nvar defineProperty = __webpack_require__(/*! ../internals/object-define-property */ "./node_modules/core-js/internals/object-define-property.js").f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/define-well-known-symbol.js?')},"./node_modules/core-js/internals/descriptors.js":
/*!*******************************************************!*\
  !*** ./node_modules/core-js/internals/descriptors.js ***!
  \*******************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\n\n// Detect IE8\'s incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/descriptors.js?')},"./node_modules/core-js/internals/document-create-element.js":
/*!*******************************************************************!*\
  !*** ./node_modules/core-js/internals/document-create-element.js ***!
  \*******************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");\n\nvar document = global.document;\n// typeof document.createElement is \'object\' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/document-create-element.js?')},"./node_modules/core-js/internals/dom-iterables.js":
/*!*********************************************************!*\
  !*** ./node_modules/core-js/internals/dom-iterables.js ***!
  \*********************************************************/
/*! no static exports found */function(module,exports){eval("// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/dom-iterables.js?")},"./node_modules/core-js/internals/dom-token-list-prototype.js":
/*!********************************************************************!*\
  !*** ./node_modules/core-js/internals/dom-token-list-prototype.js ***!
  \********************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("// in old WebKit versions, `element.classList` is not an instance of global `DOMTokenList`\nvar documentCreateElement = __webpack_require__(/*! ../internals/document-create-element */ \"./node_modules/core-js/internals/document-create-element.js\");\n\nvar classList = documentCreateElement('span').classList;\nvar DOMTokenListPrototype = classList && classList.constructor && classList.constructor.prototype;\n\nmodule.exports = DOMTokenListPrototype === Object.prototype ? undefined : DOMTokenListPrototype;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/dom-token-list-prototype.js?")},"./node_modules/core-js/internals/engine-is-browser.js":
/*!*************************************************************!*\
  !*** ./node_modules/core-js/internals/engine-is-browser.js ***!
  \*************************************************************/
/*! no static exports found */function(module,exports){eval("module.exports = typeof window == 'object';\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/engine-is-browser.js?")},"./node_modules/core-js/internals/engine-is-ios-pebble.js":
/*!****************************************************************!*\
  !*** ./node_modules/core-js/internals/engine-is-ios-pebble.js ***!
  \****************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var userAgent = __webpack_require__(/*! ../internals/engine-user-agent */ "./node_modules/core-js/internals/engine-user-agent.js");\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\n\nmodule.exports = /ipad|iphone|ipod/i.test(userAgent) && global.Pebble !== undefined;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/engine-is-ios-pebble.js?')},"./node_modules/core-js/internals/engine-is-ios.js":
/*!*********************************************************!*\
  !*** ./node_modules/core-js/internals/engine-is-ios.js ***!
  \*********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var userAgent = __webpack_require__(/*! ../internals/engine-user-agent */ "./node_modules/core-js/internals/engine-user-agent.js");\n\nmodule.exports = /(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent);\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/engine-is-ios.js?')},"./node_modules/core-js/internals/engine-is-node.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/internals/engine-is-node.js ***!
  \**********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var classof = __webpack_require__(/*! ../internals/classof-raw */ "./node_modules/core-js/internals/classof-raw.js");\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\n\nmodule.exports = classof(global.process) == \'process\';\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/engine-is-node.js?')},"./node_modules/core-js/internals/engine-is-webos-webkit.js":
/*!******************************************************************!*\
  !*** ./node_modules/core-js/internals/engine-is-webos-webkit.js ***!
  \******************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var userAgent = __webpack_require__(/*! ../internals/engine-user-agent */ "./node_modules/core-js/internals/engine-user-agent.js");\n\nmodule.exports = /web0s(?!.*chrome)/i.test(userAgent);\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/engine-is-webos-webkit.js?')},"./node_modules/core-js/internals/engine-user-agent.js":
/*!*************************************************************!*\
  !*** ./node_modules/core-js/internals/engine-user-agent.js ***!
  \*************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("var getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ \"./node_modules/core-js/internals/get-built-in.js\");\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/engine-user-agent.js?")},"./node_modules/core-js/internals/engine-v8-version.js":
/*!*************************************************************!*\
  !*** ./node_modules/core-js/internals/engine-v8-version.js ***!
  \*************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar userAgent = __webpack_require__(/*! ../internals/engine-user-agent */ "./node_modules/core-js/internals/engine-user-agent.js");\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split(\'.\');\n  version = match[0] < 4 ? 1 : match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/engine-v8-version.js?')},"./node_modules/core-js/internals/enum-bug-keys.js":
/*!*********************************************************!*\
  !*** ./node_modules/core-js/internals/enum-bug-keys.js ***!
  \*********************************************************/
/*! no static exports found */function(module,exports){eval("// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/enum-bug-keys.js?")},"./node_modules/core-js/internals/export.js":
/*!**************************************************!*\
  !*** ./node_modules/core-js/internals/export.js ***!
  \**************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar getOwnPropertyDescriptor = __webpack_require__(/*! ../internals/object-get-own-property-descriptor */ "./node_modules/core-js/internals/object-get-own-property-descriptor.js").f;\nvar createNonEnumerableProperty = __webpack_require__(/*! ../internals/create-non-enumerable-property */ "./node_modules/core-js/internals/create-non-enumerable-property.js");\nvar redefine = __webpack_require__(/*! ../internals/redefine */ "./node_modules/core-js/internals/redefine.js");\nvar setGlobal = __webpack_require__(/*! ../internals/set-global */ "./node_modules/core-js/internals/set-global.js");\nvar copyConstructorProperties = __webpack_require__(/*! ../internals/copy-constructor-properties */ "./node_modules/core-js/internals/copy-constructor-properties.js");\nvar isForced = __webpack_require__(/*! ../internals/is-forced */ "./node_modules/core-js/internals/is-forced.js");\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? \'.\' : \'#\') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, \'sham\', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/export.js?')},"./node_modules/core-js/internals/fails.js":
/*!*************************************************!*\
  !*** ./node_modules/core-js/internals/fails.js ***!
  \*************************************************/
/*! no static exports found */function(module,exports){eval("module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/fails.js?")},"./node_modules/core-js/internals/function-bind-context.js":
/*!*****************************************************************!*\
  !*** ./node_modules/core-js/internals/function-bind-context.js ***!
  \*****************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var aFunction = __webpack_require__(/*! ../internals/a-function */ "./node_modules/core-js/internals/a-function.js");\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/function-bind-context.js?')},"./node_modules/core-js/internals/function-bind.js":
/*!*********************************************************!*\
  !*** ./node_modules/core-js/internals/function-bind.js ***!
  \*********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\nvar aFunction = __webpack_require__(/*! ../internals/a-function */ \"./node_modules/core-js/internals/a-function.js\");\nvar isObject = __webpack_require__(/*! ../internals/is-object */ \"./node_modules/core-js/internals/is-object.js\");\n\nvar slice = [].slice;\nvar factories = {};\n\nvar construct = function (C, argsLength, args) {\n  if (!(argsLength in factories)) {\n    for (var list = [], i = 0; i < argsLength; i++) list[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func -- we have no proper alternatives, IE8- only\n    factories[argsLength] = Function('C,a', 'return new C(' + list.join(',') + ')');\n  } return factories[argsLength](C, args);\n};\n\n// `Function.prototype.bind` method implementation\n// https://tc39.es/ecma262/#sec-function.prototype.bind\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = slice.call(arguments, 1);\n  var boundFunction = function bound(/* args... */) {\n    var args = partArgs.concat(slice.call(arguments));\n    return this instanceof boundFunction ? construct(fn, args.length, args) : fn.apply(that, args);\n  };\n  if (isObject(fn.prototype)) boundFunction.prototype = fn.prototype;\n  return boundFunction;\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/function-bind.js?")},"./node_modules/core-js/internals/get-built-in.js":
/*!********************************************************!*\
  !*** ./node_modules/core-js/internals/get-built-in.js ***!
  \********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("var global = __webpack_require__(/*! ../internals/global */ \"./node_modules/core-js/internals/global.js\");\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/get-built-in.js?")},"./node_modules/core-js/internals/get-iterator-method.js":
/*!***************************************************************!*\
  !*** ./node_modules/core-js/internals/get-iterator-method.js ***!
  \***************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var classof = __webpack_require__(/*! ../internals/classof */ "./node_modules/core-js/internals/classof.js");\nvar Iterators = __webpack_require__(/*! ../internals/iterators */ "./node_modules/core-js/internals/iterators.js");\nvar wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\n\nvar ITERATOR = wellKnownSymbol(\'iterator\');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it[\'@@iterator\']\n    || Iterators[classof(it)];\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/get-iterator-method.js?')},"./node_modules/core-js/internals/get-iterator.js":
/*!********************************************************!*\
  !*** ./node_modules/core-js/internals/get-iterator.js ***!
  \********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("var anObject = __webpack_require__(/*! ../internals/an-object */ \"./node_modules/core-js/internals/an-object.js\");\nvar getIteratorMethod = __webpack_require__(/*! ../internals/get-iterator-method */ \"./node_modules/core-js/internals/get-iterator-method.js\");\n\nmodule.exports = function (it, usingIterator) {\n  var iteratorMethod = arguments.length < 2 ? getIteratorMethod(it) : usingIterator;\n  if (typeof iteratorMethod != 'function') {\n    throw TypeError(String(it) + ' is not iterable');\n  } return anObject(iteratorMethod.call(it));\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/get-iterator.js?")},"./node_modules/core-js/internals/global.js":
/*!**************************************************!*\
  !*** ./node_modules/core-js/internals/global.js ***!
  \**************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("/* WEBPACK VAR INJECTION */(function(global) {var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/global.js?")},"./node_modules/core-js/internals/has.js":
/*!***********************************************!*\
  !*** ./node_modules/core-js/internals/has.js ***!
  \***********************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var toObject = __webpack_require__(/*! ../internals/to-object */ "./node_modules/core-js/internals/to-object.js");\n\nvar hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty.call(toObject(it), key);\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/has.js?')},"./node_modules/core-js/internals/hidden-keys.js":
/*!*******************************************************!*\
  !*** ./node_modules/core-js/internals/hidden-keys.js ***!
  \*******************************************************/
/*! no static exports found */function(module,exports){eval("module.exports = {};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/hidden-keys.js?")},"./node_modules/core-js/internals/host-report-errors.js":
/*!**************************************************************!*\
  !*** ./node_modules/core-js/internals/host-report-errors.js ***!
  \**************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/host-report-errors.js?')},"./node_modules/core-js/internals/html.js":
/*!************************************************!*\
  !*** ./node_modules/core-js/internals/html.js ***!
  \************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("var getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ \"./node_modules/core-js/internals/get-built-in.js\");\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/html.js?")},"./node_modules/core-js/internals/ie8-dom-define.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/internals/ie8-dom-define.js ***!
  \**********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\nvar createElement = __webpack_require__(/*! ../internals/document-create-element */ "./node_modules/core-js/internals/document-create-element.js");\n\n// Thank\'s IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- requied for testing\n  return Object.defineProperty(createElement(\'div\'), \'a\', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/ie8-dom-define.js?')},"./node_modules/core-js/internals/indexed-object.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/internals/indexed-object.js ***!
  \**********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("var fails = __webpack_require__(/*! ../internals/fails */ \"./node_modules/core-js/internals/fails.js\");\nvar classof = __webpack_require__(/*! ../internals/classof-raw */ \"./node_modules/core-js/internals/classof-raw.js\");\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/indexed-object.js?")},"./node_modules/core-js/internals/inherit-if-required.js":
/*!***************************************************************!*\
  !*** ./node_modules/core-js/internals/inherit-if-required.js ***!
  \***************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");\nvar setPrototypeOf = __webpack_require__(/*! ../internals/object-set-prototype-of */ "./node_modules/core-js/internals/object-set-prototype-of.js");\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven\'t completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == \'function\' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/inherit-if-required.js?')},"./node_modules/core-js/internals/inspect-source.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/internals/inspect-source.js ***!
  \**********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("var store = __webpack_require__(/*! ../internals/shared-store */ \"./node_modules/core-js/internals/shared-store.js\");\n\nvar functionToString = Function.toString;\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/inspect-source.js?")},"./node_modules/core-js/internals/internal-state.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/internals/internal-state.js ***!
  \**********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var NATIVE_WEAK_MAP = __webpack_require__(/*! ../internals/native-weak-map */ "./node_modules/core-js/internals/native-weak-map.js");\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");\nvar createNonEnumerableProperty = __webpack_require__(/*! ../internals/create-non-enumerable-property */ "./node_modules/core-js/internals/create-non-enumerable-property.js");\nvar objectHas = __webpack_require__(/*! ../internals/has */ "./node_modules/core-js/internals/has.js");\nvar shared = __webpack_require__(/*! ../internals/shared-store */ "./node_modules/core-js/internals/shared-store.js");\nvar sharedKey = __webpack_require__(/*! ../internals/shared-key */ "./node_modules/core-js/internals/shared-key.js");\nvar hiddenKeys = __webpack_require__(/*! ../internals/hidden-keys */ "./node_modules/core-js/internals/hidden-keys.js");\n\nvar OBJECT_ALREADY_INITIALIZED = \'Object already initialized\';\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError(\'Incompatible receiver, \' + TYPE + \' required\');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    if (wmhas.call(store, it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey(\'state\');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (objectHas(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/internal-state.js?')},"./node_modules/core-js/internals/is-array-iterator-method.js":
/*!********************************************************************!*\
  !*** ./node_modules/core-js/internals/is-array-iterator-method.js ***!
  \********************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\nvar Iterators = __webpack_require__(/*! ../internals/iterators */ "./node_modules/core-js/internals/iterators.js");\n\nvar ITERATOR = wellKnownSymbol(\'iterator\');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/is-array-iterator-method.js?')},"./node_modules/core-js/internals/is-array.js":
/*!****************************************************!*\
  !*** ./node_modules/core-js/internals/is-array.js ***!
  \****************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("var classof = __webpack_require__(/*! ../internals/classof-raw */ \"./node_modules/core-js/internals/classof-raw.js\");\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/is-array.js?")},"./node_modules/core-js/internals/is-forced.js":
/*!*****************************************************!*\
  !*** ./node_modules/core-js/internals/is-forced.js ***!
  \*****************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("var fails = __webpack_require__(/*! ../internals/fails */ \"./node_modules/core-js/internals/fails.js\");\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/is-forced.js?")},"./node_modules/core-js/internals/is-object.js":
/*!*****************************************************!*\
  !*** ./node_modules/core-js/internals/is-object.js ***!
  \*****************************************************/
/*! no static exports found */function(module,exports){eval("module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/is-object.js?")},"./node_modules/core-js/internals/is-pure.js":
/*!***************************************************!*\
  !*** ./node_modules/core-js/internals/is-pure.js ***!
  \***************************************************/
/*! no static exports found */function(module,exports){eval("module.exports = false;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/is-pure.js?")},"./node_modules/core-js/internals/is-symbol.js":
/*!*****************************************************!*\
  !*** ./node_modules/core-js/internals/is-symbol.js ***!
  \*****************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("var getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ \"./node_modules/core-js/internals/get-built-in.js\");\nvar USE_SYMBOL_AS_UID = __webpack_require__(/*! ../internals/use-symbol-as-uid */ \"./node_modules/core-js/internals/use-symbol-as-uid.js\");\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return typeof $Symbol == 'function' && Object(it) instanceof $Symbol;\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/is-symbol.js?")},"./node_modules/core-js/internals/iterate.js":
/*!***************************************************!*\
  !*** ./node_modules/core-js/internals/iterate.js ***!
  \***************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\nvar isArrayIteratorMethod = __webpack_require__(/*! ../internals/is-array-iterator-method */ "./node_modules/core-js/internals/is-array-iterator-method.js");\nvar toLength = __webpack_require__(/*! ../internals/to-length */ "./node_modules/core-js/internals/to-length.js");\nvar bind = __webpack_require__(/*! ../internals/function-bind-context */ "./node_modules/core-js/internals/function-bind-context.js");\nvar getIterator = __webpack_require__(/*! ../internals/get-iterator */ "./node_modules/core-js/internals/get-iterator.js");\nvar getIteratorMethod = __webpack_require__(/*! ../internals/get-iterator-method */ "./node_modules/core-js/internals/get-iterator-method.js");\nvar iteratorClose = __webpack_require__(/*! ../internals/iterator-close */ "./node_modules/core-js/internals/iterator-close.js");\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that, 1 + AS_ENTRIES + INTERRUPTED);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator, \'normal\', condition);\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != \'function\') throw TypeError(\'Target is not iterable\');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = getIterator(iterable, iterFn);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator, \'throw\', error);\n    }\n    if (typeof result == \'object\' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/iterate.js?')},"./node_modules/core-js/internals/iterator-close.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/internals/iterator-close.js ***!
  \**********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("var anObject = __webpack_require__(/*! ../internals/an-object */ \"./node_modules/core-js/internals/an-object.js\");\n\nmodule.exports = function (iterator, kind, value) {\n  var innerResult, innerError;\n  anObject(iterator);\n  try {\n    innerResult = iterator['return'];\n    if (innerResult === undefined) {\n      if (kind === 'throw') throw value;\n      return value;\n    }\n    innerResult = innerResult.call(iterator);\n  } catch (error) {\n    innerError = true;\n    innerResult = error;\n  }\n  if (kind === 'throw') throw value;\n  if (innerError) throw innerResult;\n  anObject(innerResult);\n  return value;\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/iterator-close.js?")},"./node_modules/core-js/internals/iterators.js":
/*!*****************************************************!*\
  !*** ./node_modules/core-js/internals/iterators.js ***!
  \*****************************************************/
/*! no static exports found */function(module,exports){eval("module.exports = {};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/iterators.js?")},"./node_modules/core-js/internals/microtask.js":
/*!*****************************************************!*\
  !*** ./node_modules/core-js/internals/microtask.js ***!
  \*****************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar getOwnPropertyDescriptor = __webpack_require__(/*! ../internals/object-get-own-property-descriptor */ "./node_modules/core-js/internals/object-get-own-property-descriptor.js").f;\nvar macrotask = __webpack_require__(/*! ../internals/task */ "./node_modules/core-js/internals/task.js").set;\nvar IS_IOS = __webpack_require__(/*! ../internals/engine-is-ios */ "./node_modules/core-js/internals/engine-is-ios.js");\nvar IS_IOS_PEBBLE = __webpack_require__(/*! ../internals/engine-is-ios-pebble */ "./node_modules/core-js/internals/engine-is-ios-pebble.js");\nvar IS_WEBOS_WEBKIT = __webpack_require__(/*! ../internals/engine-is-webos-webkit */ "./node_modules/core-js/internals/engine-is-webos-webkit.js");\nvar IS_NODE = __webpack_require__(/*! ../internals/engine-is-node */ "./node_modules/core-js/internals/engine-is-node.js");\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar document = global.document;\nvar process = global.process;\nvar Promise = global.Promise;\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, \'queueMicrotask\');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  // also except WebOS Webkit https://github.com/zloirock/core-js/issues/898\n  if (!IS_IOS && !IS_NODE && !IS_WEBOS_WEBKIT && MutationObserver && document) {\n    toggle = true;\n    node = document.createTextNode(\'\');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (!IS_IOS_PEBBLE && Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    // workaround of WebKit ~ iOS Safari 10.1 bug\n    promise.constructor = Promise;\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // Node.js without promises\n  } else if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/microtask.js?')},"./node_modules/core-js/internals/native-promise-constructor.js":
/*!**********************************************************************!*\
  !*** ./node_modules/core-js/internals/native-promise-constructor.js ***!
  \**********************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\n\nmodule.exports = global.Promise;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/native-promise-constructor.js?')},"./node_modules/core-js/internals/native-symbol.js":
/*!*********************************************************!*\
  !*** ./node_modules/core-js/internals/native-symbol.js ***!
  \*********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = __webpack_require__(/*! ../internals/engine-v8-version */ "./node_modules/core-js/internals/engine-v8-version.js");\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/native-symbol.js?')},"./node_modules/core-js/internals/native-weak-map.js":
/*!***********************************************************!*\
  !*** ./node_modules/core-js/internals/native-weak-map.js ***!
  \***********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar inspectSource = __webpack_require__(/*! ../internals/inspect-source */ "./node_modules/core-js/internals/inspect-source.js");\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === \'function\' && /native code/.test(inspectSource(WeakMap));\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/native-weak-map.js?')},"./node_modules/core-js/internals/new-promise-capability.js":
/*!******************************************************************!*\
  !*** ./node_modules/core-js/internals/new-promise-capability.js ***!
  \******************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\nvar aFunction = __webpack_require__(/*! ../internals/a-function */ \"./node_modules/core-js/internals/a-function.js\");\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// `NewPromiseCapability` abstract operation\n// https://tc39.es/ecma262/#sec-newpromisecapability\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/new-promise-capability.js?")},"./node_modules/core-js/internals/object-assign.js":
/*!*********************************************************!*\
  !*** ./node_modules/core-js/internals/object-assign.js ***!
  \*********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\nvar DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\nvar objectKeys = __webpack_require__(/*! ../internals/object-keys */ "./node_modules/core-js/internals/object-keys.js");\nvar getOwnPropertySymbolsModule = __webpack_require__(/*! ../internals/object-get-own-property-symbols */ "./node_modules/core-js/internals/object-get-own-property-symbols.js");\nvar propertyIsEnumerableModule = __webpack_require__(/*! ../internals/object-property-is-enumerable */ "./node_modules/core-js/internals/object-property-is-enumerable.js");\nvar toObject = __webpack_require__(/*! ../internals/to-object */ "./node_modules/core-js/internals/to-object.js");\nvar IndexedObject = __webpack_require__(/*! ../internals/indexed-object */ "./node_modules/core-js/internals/indexed-object.js");\n\n// eslint-disable-next-line es/no-object-assign -- safe\nvar $assign = Object.assign;\n// eslint-disable-next-line es/no-object-defineproperty -- required for testing\nvar defineProperty = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\nmodule.exports = !$assign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && $assign({ b: 1 }, $assign(defineProperty({}, \'a\', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, \'b\', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line es/no-symbol -- safe\n  var symbol = Symbol();\n  var alphabet = \'abcdefghijklmnopqrst\';\n  A[symbol] = 7;\n  alphabet.split(\'\').forEach(function (chr) { B[chr] = chr; });\n  return $assign({}, A)[symbol] != 7 || objectKeys($assign({}, B)).join(\'\') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars -- required for `.length`\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/object-assign.js?')},"./node_modules/core-js/internals/object-create.js":
/*!*********************************************************!*\
  !*** ./node_modules/core-js/internals/object-create.js ***!
  \*********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("/* global ActiveXObject -- old IE, WSH */\nvar anObject = __webpack_require__(/*! ../internals/an-object */ \"./node_modules/core-js/internals/an-object.js\");\nvar defineProperties = __webpack_require__(/*! ../internals/object-define-properties */ \"./node_modules/core-js/internals/object-define-properties.js\");\nvar enumBugKeys = __webpack_require__(/*! ../internals/enum-bug-keys */ \"./node_modules/core-js/internals/enum-bug-keys.js\");\nvar hiddenKeys = __webpack_require__(/*! ../internals/hidden-keys */ \"./node_modules/core-js/internals/hidden-keys.js\");\nvar html = __webpack_require__(/*! ../internals/html */ \"./node_modules/core-js/internals/html.js\");\nvar documentCreateElement = __webpack_require__(/*! ../internals/document-create-element */ \"./node_modules/core-js/internals/document-create-element.js\");\nvar sharedKey = __webpack_require__(/*! ../internals/shared-key */ \"./node_modules/core-js/internals/shared-key.js\");\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/object-create.js?")},"./node_modules/core-js/internals/object-define-properties.js":
/*!********************************************************************!*\
  !*** ./node_modules/core-js/internals/object-define-properties.js ***!
  \********************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");\nvar definePropertyModule = __webpack_require__(/*! ../internals/object-define-property */ "./node_modules/core-js/internals/object-define-property.js");\nvar anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\nvar objectKeys = __webpack_require__(/*! ../internals/object-keys */ "./node_modules/core-js/internals/object-keys.js");\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/object-define-properties.js?')},"./node_modules/core-js/internals/object-define-property.js":
/*!******************************************************************!*\
  !*** ./node_modules/core-js/internals/object-define-property.js ***!
  \******************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ \"./node_modules/core-js/internals/descriptors.js\");\nvar IE8_DOM_DEFINE = __webpack_require__(/*! ../internals/ie8-dom-define */ \"./node_modules/core-js/internals/ie8-dom-define.js\");\nvar anObject = __webpack_require__(/*! ../internals/an-object */ \"./node_modules/core-js/internals/an-object.js\");\nvar toPropertyKey = __webpack_require__(/*! ../internals/to-property-key */ \"./node_modules/core-js/internals/to-property-key.js\");\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/object-define-property.js?")},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":
/*!******************************************************************************!*\
  !*** ./node_modules/core-js/internals/object-get-own-property-descriptor.js ***!
  \******************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");\nvar propertyIsEnumerableModule = __webpack_require__(/*! ../internals/object-property-is-enumerable */ "./node_modules/core-js/internals/object-property-is-enumerable.js");\nvar createPropertyDescriptor = __webpack_require__(/*! ../internals/create-property-descriptor */ "./node_modules/core-js/internals/create-property-descriptor.js");\nvar toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "./node_modules/core-js/internals/to-indexed-object.js");\nvar toPropertyKey = __webpack_require__(/*! ../internals/to-property-key */ "./node_modules/core-js/internals/to-property-key.js");\nvar has = __webpack_require__(/*! ../internals/has */ "./node_modules/core-js/internals/has.js");\nvar IE8_DOM_DEFINE = __webpack_require__(/*! ../internals/ie8-dom-define */ "./node_modules/core-js/internals/ie8-dom-define.js");\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/object-get-own-property-descriptor.js?')},"./node_modules/core-js/internals/object-get-own-property-names-external.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/core-js/internals/object-get-own-property-names-external.js ***!
  \**********************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("/* eslint-disable es/no-object-getownpropertynames -- safe */\nvar toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ \"./node_modules/core-js/internals/to-indexed-object.js\");\nvar $getOwnPropertyNames = __webpack_require__(/*! ../internals/object-get-own-property-names */ \"./node_modules/core-js/internals/object-get-own-property-names.js\").f;\n\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return $getOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : $getOwnPropertyNames(toIndexedObject(it));\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/object-get-own-property-names-external.js?")},"./node_modules/core-js/internals/object-get-own-property-names.js":
/*!*************************************************************************!*\
  !*** ./node_modules/core-js/internals/object-get-own-property-names.js ***!
  \*************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("var internalObjectKeys = __webpack_require__(/*! ../internals/object-keys-internal */ \"./node_modules/core-js/internals/object-keys-internal.js\");\nvar enumBugKeys = __webpack_require__(/*! ../internals/enum-bug-keys */ \"./node_modules/core-js/internals/enum-bug-keys.js\");\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/object-get-own-property-names.js?")},"./node_modules/core-js/internals/object-get-own-property-symbols.js":
/*!***************************************************************************!*\
  !*** ./node_modules/core-js/internals/object-get-own-property-symbols.js ***!
  \***************************************************************************/
/*! no static exports found */function(module,exports){eval("// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/object-get-own-property-symbols.js?")},"./node_modules/core-js/internals/object-keys-internal.js":
/*!****************************************************************!*\
  !*** ./node_modules/core-js/internals/object-keys-internal.js ***!
  \****************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var has = __webpack_require__(/*! ../internals/has */ "./node_modules/core-js/internals/has.js");\nvar toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "./node_modules/core-js/internals/to-indexed-object.js");\nvar indexOf = __webpack_require__(/*! ../internals/array-includes */ "./node_modules/core-js/internals/array-includes.js").indexOf;\nvar hiddenKeys = __webpack_require__(/*! ../internals/hidden-keys */ "./node_modules/core-js/internals/hidden-keys.js");\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don\'t enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/object-keys-internal.js?')},"./node_modules/core-js/internals/object-keys.js":
/*!*******************************************************!*\
  !*** ./node_modules/core-js/internals/object-keys.js ***!
  \*******************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var internalObjectKeys = __webpack_require__(/*! ../internals/object-keys-internal */ "./node_modules/core-js/internals/object-keys-internal.js");\nvar enumBugKeys = __webpack_require__(/*! ../internals/enum-bug-keys */ "./node_modules/core-js/internals/enum-bug-keys.js");\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/object-keys.js?')},"./node_modules/core-js/internals/object-property-is-enumerable.js":
/*!*************************************************************************!*\
  !*** ./node_modules/core-js/internals/object-property-is-enumerable.js ***!
  \*************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/object-property-is-enumerable.js?")},"./node_modules/core-js/internals/object-set-prototype-of.js":
/*!*******************************************************************!*\
  !*** ./node_modules/core-js/internals/object-set-prototype-of.js ***!
  \*******************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("/* eslint-disable no-proto -- safe */\nvar anObject = __webpack_require__(/*! ../internals/an-object */ \"./node_modules/core-js/internals/an-object.js\");\nvar aPossiblePrototype = __webpack_require__(/*! ../internals/a-possible-prototype */ \"./node_modules/core-js/internals/a-possible-prototype.js\");\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/object-set-prototype-of.js?")},"./node_modules/core-js/internals/object-to-string.js":
/*!************************************************************!*\
  !*** ./node_modules/core-js/internals/object-to-string.js ***!
  \************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\nvar TO_STRING_TAG_SUPPORT = __webpack_require__(/*! ../internals/to-string-tag-support */ \"./node_modules/core-js/internals/to-string-tag-support.js\");\nvar classof = __webpack_require__(/*! ../internals/classof */ \"./node_modules/core-js/internals/classof.js\");\n\n// `Object.prototype.toString` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/object-to-string.js?")},"./node_modules/core-js/internals/ordinary-to-primitive.js":
/*!*****************************************************************!*\
  !*** ./node_modules/core-js/internals/ordinary-to-primitive.js ***!
  \*****************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("var isObject = __webpack_require__(/*! ../internals/is-object */ \"./node_modules/core-js/internals/is-object.js\");\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (pref !== 'string' && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/ordinary-to-primitive.js?")},"./node_modules/core-js/internals/own-keys.js":
/*!****************************************************!*\
  !*** ./node_modules/core-js/internals/own-keys.js ***!
  \****************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "./node_modules/core-js/internals/get-built-in.js");\nvar getOwnPropertyNamesModule = __webpack_require__(/*! ../internals/object-get-own-property-names */ "./node_modules/core-js/internals/object-get-own-property-names.js");\nvar getOwnPropertySymbolsModule = __webpack_require__(/*! ../internals/object-get-own-property-symbols */ "./node_modules/core-js/internals/object-get-own-property-symbols.js");\nvar anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn(\'Reflect\', \'ownKeys\') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/own-keys.js?')},"./node_modules/core-js/internals/path.js":
/*!************************************************!*\
  !*** ./node_modules/core-js/internals/path.js ***!
  \************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\n\nmodule.exports = global;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/path.js?')},"./node_modules/core-js/internals/perform.js":
/*!***************************************************!*\
  !*** ./node_modules/core-js/internals/perform.js ***!
  \***************************************************/
/*! no static exports found */function(module,exports){eval("module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/perform.js?")},"./node_modules/core-js/internals/promise-resolve.js":
/*!***********************************************************!*\
  !*** ./node_modules/core-js/internals/promise-resolve.js ***!
  \***********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\nvar isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");\nvar newPromiseCapability = __webpack_require__(/*! ../internals/new-promise-capability */ "./node_modules/core-js/internals/new-promise-capability.js");\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/promise-resolve.js?')},"./node_modules/core-js/internals/redefine-all.js":
/*!********************************************************!*\
  !*** ./node_modules/core-js/internals/redefine-all.js ***!
  \********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var redefine = __webpack_require__(/*! ../internals/redefine */ "./node_modules/core-js/internals/redefine.js");\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/redefine-all.js?')},"./node_modules/core-js/internals/redefine.js":
/*!****************************************************!*\
  !*** ./node_modules/core-js/internals/redefine.js ***!
  \****************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("var global = __webpack_require__(/*! ../internals/global */ \"./node_modules/core-js/internals/global.js\");\nvar createNonEnumerableProperty = __webpack_require__(/*! ../internals/create-non-enumerable-property */ \"./node_modules/core-js/internals/create-non-enumerable-property.js\");\nvar has = __webpack_require__(/*! ../internals/has */ \"./node_modules/core-js/internals/has.js\");\nvar setGlobal = __webpack_require__(/*! ../internals/set-global */ \"./node_modules/core-js/internals/set-global.js\");\nvar inspectSource = __webpack_require__(/*! ../internals/inspect-source */ \"./node_modules/core-js/internals/inspect-source.js\");\nvar InternalStateModule = __webpack_require__(/*! ../internals/internal-state */ \"./node_modules/core-js/internals/internal-state.js\");\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var state;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) {\n      createNonEnumerableProperty(value, 'name', key);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/redefine.js?")},"./node_modules/core-js/internals/require-object-coercible.js":
/*!********************************************************************!*\
  !*** ./node_modules/core-js/internals/require-object-coercible.js ***!
  \********************************************************************/
/*! no static exports found */function(module,exports){eval('// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError("Can\'t call method on " + it);\n  return it;\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/require-object-coercible.js?')},"./node_modules/core-js/internals/set-global.js":
/*!******************************************************!*\
  !*** ./node_modules/core-js/internals/set-global.js ***!
  \******************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\n\nmodule.exports = function (key, value) {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/set-global.js?')},"./node_modules/core-js/internals/set-species.js":
/*!*******************************************************!*\
  !*** ./node_modules/core-js/internals/set-species.js ***!
  \*******************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\nvar getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "./node_modules/core-js/internals/get-built-in.js");\nvar definePropertyModule = __webpack_require__(/*! ../internals/object-define-property */ "./node_modules/core-js/internals/object-define-property.js");\nvar wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\nvar DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");\n\nvar SPECIES = wellKnownSymbol(\'species\');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/set-species.js?')},"./node_modules/core-js/internals/set-to-string-tag.js":
/*!*************************************************************!*\
  !*** ./node_modules/core-js/internals/set-to-string-tag.js ***!
  \*************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var defineProperty = __webpack_require__(/*! ../internals/object-define-property */ "./node_modules/core-js/internals/object-define-property.js").f;\nvar has = __webpack_require__(/*! ../internals/has */ "./node_modules/core-js/internals/has.js");\nvar wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\n\nvar TO_STRING_TAG = wellKnownSymbol(\'toStringTag\');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/set-to-string-tag.js?')},"./node_modules/core-js/internals/shared-key.js":
/*!******************************************************!*\
  !*** ./node_modules/core-js/internals/shared-key.js ***!
  \******************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var shared = __webpack_require__(/*! ../internals/shared */ "./node_modules/core-js/internals/shared.js");\nvar uid = __webpack_require__(/*! ../internals/uid */ "./node_modules/core-js/internals/uid.js");\n\nvar keys = shared(\'keys\');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/shared-key.js?')},"./node_modules/core-js/internals/shared-store.js":
/*!********************************************************!*\
  !*** ./node_modules/core-js/internals/shared-store.js ***!
  \********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar setGlobal = __webpack_require__(/*! ../internals/set-global */ "./node_modules/core-js/internals/set-global.js");\n\nvar SHARED = \'__core-js_shared__\';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/shared-store.js?')},"./node_modules/core-js/internals/shared.js":
/*!**************************************************!*\
  !*** ./node_modules/core-js/internals/shared.js ***!
  \**************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("var IS_PURE = __webpack_require__(/*! ../internals/is-pure */ \"./node_modules/core-js/internals/is-pure.js\");\nvar store = __webpack_require__(/*! ../internals/shared-store */ \"./node_modules/core-js/internals/shared-store.js\");\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.17.3',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2021 Denis Pushkarev (zloirock.ru)'\n});\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/shared.js?")},"./node_modules/core-js/internals/species-constructor.js":
/*!***************************************************************!*\
  !*** ./node_modules/core-js/internals/species-constructor.js ***!
  \***************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\nvar aFunction = __webpack_require__(/*! ../internals/a-function */ "./node_modules/core-js/internals/a-function.js");\nvar wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\n\nvar SPECIES = wellKnownSymbol(\'species\');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/species-constructor.js?')},"./node_modules/core-js/internals/string-html-forced.js":
/*!**************************************************************!*\
  !*** ./node_modules/core-js/internals/string-html-forced.js ***!
  \**************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("var fails = __webpack_require__(/*! ../internals/fails */ \"./node_modules/core-js/internals/fails.js\");\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/string-html-forced.js?")},"./node_modules/core-js/internals/string-trim.js":
/*!*******************************************************!*\
  !*** ./node_modules/core-js/internals/string-trim.js ***!
  \*******************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("var requireObjectCoercible = __webpack_require__(/*! ../internals/require-object-coercible */ \"./node_modules/core-js/internals/require-object-coercible.js\");\nvar toString = __webpack_require__(/*! ../internals/to-string */ \"./node_modules/core-js/internals/to-string.js\");\nvar whitespaces = __webpack_require__(/*! ../internals/whitespaces */ \"./node_modules/core-js/internals/whitespaces.js\");\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = toString(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/string-trim.js?")},"./node_modules/core-js/internals/task.js":
/*!************************************************!*\
  !*** ./node_modules/core-js/internals/task.js ***!
  \************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("var global = __webpack_require__(/*! ../internals/global */ \"./node_modules/core-js/internals/global.js\");\nvar fails = __webpack_require__(/*! ../internals/fails */ \"./node_modules/core-js/internals/fails.js\");\nvar bind = __webpack_require__(/*! ../internals/function-bind-context */ \"./node_modules/core-js/internals/function-bind-context.js\");\nvar html = __webpack_require__(/*! ../internals/html */ \"./node_modules/core-js/internals/html.js\");\nvar createElement = __webpack_require__(/*! ../internals/document-create-element */ \"./node_modules/core-js/internals/document-create-element.js\");\nvar IS_IOS = __webpack_require__(/*! ../internals/engine-is-ios */ \"./node_modules/core-js/internals/engine-is-ios.js\");\nvar IS_NODE = __webpack_require__(/*! ../internals/engine-is-node */ \"./node_modules/core-js/internals/engine-is-node.js\");\n\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar location, defer, channel, port;\n\ntry {\n  // Deno throws a ReferenceError on `location` access without `--location` flag\n  location = global.location;\n} catch (error) { /* empty */ }\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(String(id), location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var argumentsLength = arguments.length;\n    var i = 1;\n    while (argumentsLength > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func -- spec requirement\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (IS_NODE) {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    typeof postMessage == 'function' &&\n    !global.importScripts &&\n    location && location.protocol !== 'file:' &&\n    !fails(post)\n  ) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/task.js?")},"./node_modules/core-js/internals/to-absolute-index.js":
/*!*************************************************************!*\
  !*** ./node_modules/core-js/internals/to-absolute-index.js ***!
  \*************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var toInteger = __webpack_require__(/*! ../internals/to-integer */ "./node_modules/core-js/internals/to-integer.js");\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/to-absolute-index.js?')},"./node_modules/core-js/internals/to-indexed-object.js":
/*!*************************************************************!*\
  !*** ./node_modules/core-js/internals/to-indexed-object.js ***!
  \*************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = __webpack_require__(/*! ../internals/indexed-object */ "./node_modules/core-js/internals/indexed-object.js");\nvar requireObjectCoercible = __webpack_require__(/*! ../internals/require-object-coercible */ "./node_modules/core-js/internals/require-object-coercible.js");\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/to-indexed-object.js?')},"./node_modules/core-js/internals/to-integer.js":
/*!******************************************************!*\
  !*** ./node_modules/core-js/internals/to-integer.js ***!
  \******************************************************/
/*! no static exports found */function(module,exports){eval("var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.es/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/to-integer.js?")},"./node_modules/core-js/internals/to-length.js":
/*!*****************************************************!*\
  !*** ./node_modules/core-js/internals/to-length.js ***!
  \*****************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var toInteger = __webpack_require__(/*! ../internals/to-integer */ "./node_modules/core-js/internals/to-integer.js");\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/to-length.js?')},"./node_modules/core-js/internals/to-object.js":
/*!*****************************************************!*\
  !*** ./node_modules/core-js/internals/to-object.js ***!
  \*****************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var requireObjectCoercible = __webpack_require__(/*! ../internals/require-object-coercible */ "./node_modules/core-js/internals/require-object-coercible.js");\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/to-object.js?')},"./node_modules/core-js/internals/to-primitive.js":
/*!********************************************************!*\
  !*** ./node_modules/core-js/internals/to-primitive.js ***!
  \********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");\nvar isSymbol = __webpack_require__(/*! ../internals/is-symbol */ "./node_modules/core-js/internals/is-symbol.js");\nvar ordinaryToPrimitive = __webpack_require__(/*! ../internals/ordinary-to-primitive */ "./node_modules/core-js/internals/ordinary-to-primitive.js");\nvar wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\n\nvar TO_PRIMITIVE = wellKnownSymbol(\'toPrimitive\');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = input[TO_PRIMITIVE];\n  var result;\n  if (exoticToPrim !== undefined) {\n    if (pref === undefined) pref = \'default\';\n    result = exoticToPrim.call(input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw TypeError("Can\'t convert object to primitive value");\n  }\n  if (pref === undefined) pref = \'number\';\n  return ordinaryToPrimitive(input, pref);\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/to-primitive.js?')},"./node_modules/core-js/internals/to-property-key.js":
/*!***********************************************************!*\
  !*** ./node_modules/core-js/internals/to-property-key.js ***!
  \***********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var toPrimitive = __webpack_require__(/*! ../internals/to-primitive */ "./node_modules/core-js/internals/to-primitive.js");\nvar isSymbol = __webpack_require__(/*! ../internals/is-symbol */ "./node_modules/core-js/internals/is-symbol.js");\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, \'string\');\n  return isSymbol(key) ? key : String(key);\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/to-property-key.js?')},"./node_modules/core-js/internals/to-string-tag-support.js":
/*!*****************************************************************!*\
  !*** ./node_modules/core-js/internals/to-string-tag-support.js ***!
  \*****************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ \"./node_modules/core-js/internals/well-known-symbol.js\");\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/to-string-tag-support.js?")},"./node_modules/core-js/internals/to-string.js":
/*!*****************************************************!*\
  !*** ./node_modules/core-js/internals/to-string.js ***!
  \*****************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("var isSymbol = __webpack_require__(/*! ../internals/is-symbol */ \"./node_modules/core-js/internals/is-symbol.js\");\n\nmodule.exports = function (argument) {\n  if (isSymbol(argument)) throw TypeError('Cannot convert a Symbol value to a string');\n  return String(argument);\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/to-string.js?")},"./node_modules/core-js/internals/uid.js":
/*!***********************************************!*\
  !*** ./node_modules/core-js/internals/uid.js ***!
  \***********************************************/
/*! no static exports found */function(module,exports){eval("var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/uid.js?")},"./node_modules/core-js/internals/use-symbol-as-uid.js":
/*!*************************************************************!*\
  !*** ./node_modules/core-js/internals/use-symbol-as-uid.js ***!
  \*************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = __webpack_require__(/*! ../internals/native-symbol */ \"./node_modules/core-js/internals/native-symbol.js\");\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/use-symbol-as-uid.js?")},"./node_modules/core-js/internals/well-known-symbol-wrapped.js":
/*!*********************************************************************!*\
  !*** ./node_modules/core-js/internals/well-known-symbol-wrapped.js ***!
  \*********************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\n\nexports.f = wellKnownSymbol;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/well-known-symbol-wrapped.js?')},"./node_modules/core-js/internals/well-known-symbol.js":
/*!*************************************************************!*\
  !*** ./node_modules/core-js/internals/well-known-symbol.js ***!
  \*************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar shared = __webpack_require__(/*! ../internals/shared */ "./node_modules/core-js/internals/shared.js");\nvar has = __webpack_require__(/*! ../internals/has */ "./node_modules/core-js/internals/has.js");\nvar uid = __webpack_require__(/*! ../internals/uid */ "./node_modules/core-js/internals/uid.js");\nvar NATIVE_SYMBOL = __webpack_require__(/*! ../internals/native-symbol */ "./node_modules/core-js/internals/native-symbol.js");\nvar USE_SYMBOL_AS_UID = __webpack_require__(/*! ../internals/use-symbol-as-uid */ "./node_modules/core-js/internals/use-symbol-as-uid.js");\n\nvar WellKnownSymbolsStore = shared(\'wks\');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == \'string\')) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol(\'Symbol.\' + name);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/well-known-symbol.js?')},"./node_modules/core-js/internals/whitespaces.js":
/*!*******************************************************!*\
  !*** ./node_modules/core-js/internals/whitespaces.js ***!
  \*******************************************************/
/*! no static exports found */function(module,exports){eval("// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/internals/whitespaces.js?")},"./node_modules/core-js/modules/es.array.filter.js":
/*!*********************************************************!*\
  !*** ./node_modules/core-js/modules/es.array.filter.js ***!
  \*********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar $filter = __webpack_require__(/*! ../internals/array-iteration */ "./node_modules/core-js/internals/array-iteration.js").filter;\nvar arrayMethodHasSpeciesSupport = __webpack_require__(/*! ../internals/array-method-has-species-support */ "./node_modules/core-js/internals/array-method-has-species-support.js");\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport(\'filter\');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: \'Array\', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/modules/es.array.filter.js?')},"./node_modules/core-js/modules/es.array.find.js":
/*!*******************************************************!*\
  !*** ./node_modules/core-js/modules/es.array.find.js ***!
  \*******************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar $find = __webpack_require__(/*! ../internals/array-iteration */ "./node_modules/core-js/internals/array-iteration.js").find;\nvar addToUnscopables = __webpack_require__(/*! ../internals/add-to-unscopables */ "./node_modules/core-js/internals/add-to-unscopables.js");\n\nvar FIND = \'find\';\nvar SKIPS_HOLES = true;\n\n// Shouldn\'t skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: \'Array\', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/modules/es.array.find.js?')},"./node_modules/core-js/modules/es.array.for-each.js":
/*!***********************************************************!*\
  !*** ./node_modules/core-js/modules/es.array.for-each.js ***!
  \***********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar forEach = __webpack_require__(/*! ../internals/array-for-each */ "./node_modules/core-js/internals/array-for-each.js");\n\n// `Array.prototype.forEach` method\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n$({ target: \'Array\', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/modules/es.array.for-each.js?')},"./node_modules/core-js/modules/es.function.bind.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/modules/es.function.bind.js ***!
  \**********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar bind = __webpack_require__(/*! ../internals/function-bind */ "./node_modules/core-js/internals/function-bind.js");\n\n// `Function.prototype.bind` method\n// https://tc39.es/ecma262/#sec-function.prototype.bind\n$({ target: \'Function\', proto: true }, {\n  bind: bind\n});\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/modules/es.function.bind.js?')},"./node_modules/core-js/modules/es.function.name.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/modules/es.function.name.js ***!
  \**********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ \"./node_modules/core-js/internals/descriptors.js\");\nvar defineProperty = __webpack_require__(/*! ../internals/object-define-property */ \"./node_modules/core-js/internals/object-define-property.js\").f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/modules/es.function.name.js?")},"./node_modules/core-js/modules/es.number.constructor.js":
/*!***************************************************************!*\
  !*** ./node_modules/core-js/modules/es.number.constructor.js ***!
  \***************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\nvar DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar isForced = __webpack_require__(/*! ../internals/is-forced */ "./node_modules/core-js/internals/is-forced.js");\nvar redefine = __webpack_require__(/*! ../internals/redefine */ "./node_modules/core-js/internals/redefine.js");\nvar has = __webpack_require__(/*! ../internals/has */ "./node_modules/core-js/internals/has.js");\nvar classof = __webpack_require__(/*! ../internals/classof-raw */ "./node_modules/core-js/internals/classof-raw.js");\nvar inheritIfRequired = __webpack_require__(/*! ../internals/inherit-if-required */ "./node_modules/core-js/internals/inherit-if-required.js");\nvar isSymbol = __webpack_require__(/*! ../internals/is-symbol */ "./node_modules/core-js/internals/is-symbol.js");\nvar toPrimitive = __webpack_require__(/*! ../internals/to-primitive */ "./node_modules/core-js/internals/to-primitive.js");\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\nvar create = __webpack_require__(/*! ../internals/object-create */ "./node_modules/core-js/internals/object-create.js");\nvar getOwnPropertyNames = __webpack_require__(/*! ../internals/object-get-own-property-names */ "./node_modules/core-js/internals/object-get-own-property-names.js").f;\nvar getOwnPropertyDescriptor = __webpack_require__(/*! ../internals/object-get-own-property-descriptor */ "./node_modules/core-js/internals/object-get-own-property-descriptor.js").f;\nvar defineProperty = __webpack_require__(/*! ../internals/object-define-property */ "./node_modules/core-js/internals/object-define-property.js").f;\nvar trim = __webpack_require__(/*! ../internals/string-trim */ "./node_modules/core-js/internals/string-trim.js").trim;\n\nvar NUMBER = \'Number\';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.es/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  if (isSymbol(argument)) throw TypeError(\'Cannot convert a Symbol value to a number\');\n  var it = toPrimitive(argument, \'number\');\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == \'string\' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number(\'+0x1\') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.es/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(\' 0o1\') || !NativeNumber(\'0b1\') || NativeNumber(\'+0x1\'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    \'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,\' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    \'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,\' +\n    \'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,\' +\n    // ESNext\n    \'fromString,range\'\n  ).split(\',\'), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/modules/es.number.constructor.js?')},"./node_modules/core-js/modules/es.object.assign.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/modules/es.object.assign.js ***!
  \**********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar assign = __webpack_require__(/*! ../internals/object-assign */ "./node_modules/core-js/internals/object-assign.js");\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\n// eslint-disable-next-line es/no-object-assign -- required for testing\n$({ target: \'Object\', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/modules/es.object.assign.js?')},"./node_modules/core-js/modules/es.object.define-properties.js":
/*!*********************************************************************!*\
  !*** ./node_modules/core-js/modules/es.object.define-properties.js ***!
  \*********************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");\nvar defineProperties = __webpack_require__(/*! ../internals/object-define-properties */ "./node_modules/core-js/internals/object-define-properties.js");\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n$({ target: \'Object\', stat: true, forced: !DESCRIPTORS, sham: !DESCRIPTORS }, {\n  defineProperties: defineProperties\n});\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/modules/es.object.define-properties.js?')},"./node_modules/core-js/modules/es.object.define-property.js":
/*!*******************************************************************!*\
  !*** ./node_modules/core-js/modules/es.object.define-property.js ***!
  \*******************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");\nvar objectDefinePropertyModile = __webpack_require__(/*! ../internals/object-define-property */ "./node_modules/core-js/internals/object-define-property.js");\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\n$({ target: \'Object\', stat: true, forced: !DESCRIPTORS, sham: !DESCRIPTORS }, {\n  defineProperty: objectDefinePropertyModile.f\n});\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/modules/es.object.define-property.js?')},"./node_modules/core-js/modules/es.object.get-own-property-descriptor.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/core-js/modules/es.object.get-own-property-descriptor.js ***!
  \*******************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\nvar toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "./node_modules/core-js/internals/to-indexed-object.js");\nvar nativeGetOwnPropertyDescriptor = __webpack_require__(/*! ../internals/object-get-own-property-descriptor */ "./node_modules/core-js/internals/object-get-own-property-descriptor.js").f;\nvar DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\n$({ target: \'Object\', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/modules/es.object.get-own-property-descriptor.js?')},"./node_modules/core-js/modules/es.object.get-own-property-descriptors.js":
/*!********************************************************************************!*\
  !*** ./node_modules/core-js/modules/es.object.get-own-property-descriptors.js ***!
  \********************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");\nvar ownKeys = __webpack_require__(/*! ../internals/own-keys */ "./node_modules/core-js/internals/own-keys.js");\nvar toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "./node_modules/core-js/internals/to-indexed-object.js");\nvar getOwnPropertyDescriptorModule = __webpack_require__(/*! ../internals/object-get-own-property-descriptor */ "./node_modules/core-js/internals/object-get-own-property-descriptor.js");\nvar createProperty = __webpack_require__(/*! ../internals/create-property */ "./node_modules/core-js/internals/create-property.js");\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n$({ target: \'Object\', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/modules/es.object.get-own-property-descriptors.js?')},"./node_modules/core-js/modules/es.object.keys.js":
/*!********************************************************!*\
  !*** ./node_modules/core-js/modules/es.object.keys.js ***!
  \********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar toObject = __webpack_require__(/*! ../internals/to-object */ "./node_modules/core-js/internals/to-object.js");\nvar nativeKeys = __webpack_require__(/*! ../internals/object-keys */ "./node_modules/core-js/internals/object-keys.js");\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n$({ target: \'Object\', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/modules/es.object.keys.js?')},"./node_modules/core-js/modules/es.object.to-string.js":
/*!*************************************************************!*\
  !*** ./node_modules/core-js/modules/es.object.to-string.js ***!
  \*************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var TO_STRING_TAG_SUPPORT = __webpack_require__(/*! ../internals/to-string-tag-support */ "./node_modules/core-js/internals/to-string-tag-support.js");\nvar redefine = __webpack_require__(/*! ../internals/redefine */ "./node_modules/core-js/internals/redefine.js");\nvar toString = __webpack_require__(/*! ../internals/object-to-string */ "./node_modules/core-js/internals/object-to-string.js");\n\n// `Object.prototype.toString` method\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, \'toString\', toString, { unsafe: true });\n}\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/modules/es.object.to-string.js?')},"./node_modules/core-js/modules/es.promise.js":
/*!****************************************************!*\
  !*** ./node_modules/core-js/modules/es.promise.js ***!
  \****************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar IS_PURE = __webpack_require__(/*! ../internals/is-pure */ "./node_modules/core-js/internals/is-pure.js");\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "./node_modules/core-js/internals/get-built-in.js");\nvar NativePromise = __webpack_require__(/*! ../internals/native-promise-constructor */ "./node_modules/core-js/internals/native-promise-constructor.js");\nvar redefine = __webpack_require__(/*! ../internals/redefine */ "./node_modules/core-js/internals/redefine.js");\nvar redefineAll = __webpack_require__(/*! ../internals/redefine-all */ "./node_modules/core-js/internals/redefine-all.js");\nvar setPrototypeOf = __webpack_require__(/*! ../internals/object-set-prototype-of */ "./node_modules/core-js/internals/object-set-prototype-of.js");\nvar setToStringTag = __webpack_require__(/*! ../internals/set-to-string-tag */ "./node_modules/core-js/internals/set-to-string-tag.js");\nvar setSpecies = __webpack_require__(/*! ../internals/set-species */ "./node_modules/core-js/internals/set-species.js");\nvar isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");\nvar aFunction = __webpack_require__(/*! ../internals/a-function */ "./node_modules/core-js/internals/a-function.js");\nvar anInstance = __webpack_require__(/*! ../internals/an-instance */ "./node_modules/core-js/internals/an-instance.js");\nvar inspectSource = __webpack_require__(/*! ../internals/inspect-source */ "./node_modules/core-js/internals/inspect-source.js");\nvar iterate = __webpack_require__(/*! ../internals/iterate */ "./node_modules/core-js/internals/iterate.js");\nvar checkCorrectnessOfIteration = __webpack_require__(/*! ../internals/check-correctness-of-iteration */ "./node_modules/core-js/internals/check-correctness-of-iteration.js");\nvar speciesConstructor = __webpack_require__(/*! ../internals/species-constructor */ "./node_modules/core-js/internals/species-constructor.js");\nvar task = __webpack_require__(/*! ../internals/task */ "./node_modules/core-js/internals/task.js").set;\nvar microtask = __webpack_require__(/*! ../internals/microtask */ "./node_modules/core-js/internals/microtask.js");\nvar promiseResolve = __webpack_require__(/*! ../internals/promise-resolve */ "./node_modules/core-js/internals/promise-resolve.js");\nvar hostReportErrors = __webpack_require__(/*! ../internals/host-report-errors */ "./node_modules/core-js/internals/host-report-errors.js");\nvar newPromiseCapabilityModule = __webpack_require__(/*! ../internals/new-promise-capability */ "./node_modules/core-js/internals/new-promise-capability.js");\nvar perform = __webpack_require__(/*! ../internals/perform */ "./node_modules/core-js/internals/perform.js");\nvar InternalStateModule = __webpack_require__(/*! ../internals/internal-state */ "./node_modules/core-js/internals/internal-state.js");\nvar isForced = __webpack_require__(/*! ../internals/is-forced */ "./node_modules/core-js/internals/is-forced.js");\nvar wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\nvar IS_BROWSER = __webpack_require__(/*! ../internals/engine-is-browser */ "./node_modules/core-js/internals/engine-is-browser.js");\nvar IS_NODE = __webpack_require__(/*! ../internals/engine-is-node */ "./node_modules/core-js/internals/engine-is-node.js");\nvar V8_VERSION = __webpack_require__(/*! ../internals/engine-v8-version */ "./node_modules/core-js/internals/engine-v8-version.js");\n\nvar SPECIES = wellKnownSymbol(\'species\');\nvar PROMISE = \'Promise\';\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar NativePromisePrototype = NativePromise && NativePromise.prototype;\nvar PromiseConstructor = NativePromise;\nvar PromiseConstructorPrototype = NativePromisePrototype;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar NATIVE_REJECTION_EVENT = typeof PromiseRejectionEvent == \'function\';\nvar UNHANDLED_REJECTION = \'unhandledrejection\';\nvar REJECTION_HANDLED = \'rejectionhandled\';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar SUBCLASSING = false;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var PROMISE_CONSTRUCTOR_SOURCE = inspectSource(PromiseConstructor);\n  var GLOBAL_CORE_JS_PROMISE = PROMISE_CONSTRUCTOR_SOURCE !== String(PromiseConstructor);\n  // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n  // We can\'t detect it synchronously, so just check versions\n  if (!GLOBAL_CORE_JS_PROMISE && V8_VERSION === 66) return true;\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromiseConstructorPrototype[\'finally\']) return true;\n  // We can\'t use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PROMISE_CONSTRUCTOR_SOURCE)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = new PromiseConstructor(function (resolve) { resolve(1); });\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  SUBCLASSING = promise.then(function () { /* empty */ }) instanceof FakePromise;\n  if (!SUBCLASSING) return true;\n  // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n  return !GLOBAL_CORE_JS_PROMISE && IS_BROWSER && !NATIVE_REJECTION_EVENT;\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)[\'catch\'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == \'function\' ? then : false;\n};\n\nvar notify = function (state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can\'t use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError(\'Promise-chain cycle\'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent(\'Event\');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (!NATIVE_REJECTION_EVENT && (handler = global[\'on\' + name])) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors(\'Unhandled promise rejection\', reason);\n};\n\nvar onUnhandled = function (state) {\n  task.call(global, function () {\n    var promise = state.facade;\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit(\'unhandledRejection\', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (state) {\n  task.call(global, function () {\n    var promise = state.facade;\n    if (IS_NODE) {\n      process.emit(\'rejectionHandled\', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, state, unwrap) {\n  return function (value) {\n    fn(state, value, unwrap);\n  };\n};\n\nvar internalReject = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(state, true);\n};\n\nvar internalResolve = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (state.facade === value) throw TypeError("Promise can\'t be resolved itself");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, wrapper, state),\n            bind(internalReject, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(state, false);\n    }\n  } catch (error) {\n    internalReject({ done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, state), bind(internalReject, state));\n    } catch (error) {\n      internalReject(state, error);\n    }\n  };\n  PromiseConstructorPrototype = PromiseConstructor.prototype;\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructorPrototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == \'function\' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == \'function\' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.catch\n    \'catch\': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, state);\n    this.reject = bind(internalReject, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && typeof NativePromise == \'function\' && NativePromisePrototype !== Object.prototype) {\n    nativeThen = NativePromisePrototype.then;\n\n    if (!SUBCLASSING) {\n      // make `Promise#then` return a polyfilled `Promise` for native promise-based APIs\n      redefine(NativePromisePrototype, \'then\', function then(onFulfilled, onRejected) {\n        var that = this;\n        return new PromiseConstructor(function (resolve, reject) {\n          nativeThen.call(that, resolve, reject);\n        }).then(onFulfilled, onRejected);\n      // https://github.com/zloirock/core-js/issues/640\n      }, { unsafe: true });\n\n      // makes sure that native promise-based APIs `Promise#catch` properly works with patched `Promise#then`\n      redefine(NativePromisePrototype, \'catch\', PromiseConstructorPrototype[\'catch\'], { unsafe: true });\n    }\n\n    // make `.constructor === Promise` work for native promise-based APIs\n    try {\n      delete NativePromisePrototype.constructor;\n    } catch (error) { /* empty */ }\n\n    // make `instanceof Promise` work for native promise-based APIs\n    if (setPrototypeOf) {\n      setPrototypeOf(NativePromisePrototype, PromiseConstructorPrototype);\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.es/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.es/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.es/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.es/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      iterate(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/modules/es.promise.js?')},"./node_modules/core-js/modules/es.string.link.js":
/*!********************************************************!*\
  !*** ./node_modules/core-js/modules/es.string.link.js ***!
  \********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\nvar $ = __webpack_require__(/*! ../internals/export */ \"./node_modules/core-js/internals/export.js\");\nvar createHTML = __webpack_require__(/*! ../internals/create-html */ \"./node_modules/core-js/internals/create-html.js\");\nvar forcedStringHTMLMethod = __webpack_require__(/*! ../internals/string-html-forced */ \"./node_modules/core-js/internals/string-html-forced.js\");\n\n// `String.prototype.link` method\n// https://tc39.es/ecma262/#sec-string.prototype.link\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('link') }, {\n  link: function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  }\n});\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/modules/es.string.link.js?")},"./node_modules/core-js/modules/es.symbol.js":
/*!***************************************************!*\
  !*** ./node_modules/core-js/modules/es.symbol.js ***!
  \***************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\nvar $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");\nvar global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "./node_modules/core-js/internals/get-built-in.js");\nvar IS_PURE = __webpack_require__(/*! ../internals/is-pure */ "./node_modules/core-js/internals/is-pure.js");\nvar DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "./node_modules/core-js/internals/descriptors.js");\nvar NATIVE_SYMBOL = __webpack_require__(/*! ../internals/native-symbol */ "./node_modules/core-js/internals/native-symbol.js");\nvar fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");\nvar has = __webpack_require__(/*! ../internals/has */ "./node_modules/core-js/internals/has.js");\nvar isArray = __webpack_require__(/*! ../internals/is-array */ "./node_modules/core-js/internals/is-array.js");\nvar isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");\nvar isSymbol = __webpack_require__(/*! ../internals/is-symbol */ "./node_modules/core-js/internals/is-symbol.js");\nvar anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");\nvar toObject = __webpack_require__(/*! ../internals/to-object */ "./node_modules/core-js/internals/to-object.js");\nvar toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "./node_modules/core-js/internals/to-indexed-object.js");\nvar toPropertyKey = __webpack_require__(/*! ../internals/to-property-key */ "./node_modules/core-js/internals/to-property-key.js");\nvar $toString = __webpack_require__(/*! ../internals/to-string */ "./node_modules/core-js/internals/to-string.js");\nvar createPropertyDescriptor = __webpack_require__(/*! ../internals/create-property-descriptor */ "./node_modules/core-js/internals/create-property-descriptor.js");\nvar nativeObjectCreate = __webpack_require__(/*! ../internals/object-create */ "./node_modules/core-js/internals/object-create.js");\nvar objectKeys = __webpack_require__(/*! ../internals/object-keys */ "./node_modules/core-js/internals/object-keys.js");\nvar getOwnPropertyNamesModule = __webpack_require__(/*! ../internals/object-get-own-property-names */ "./node_modules/core-js/internals/object-get-own-property-names.js");\nvar getOwnPropertyNamesExternal = __webpack_require__(/*! ../internals/object-get-own-property-names-external */ "./node_modules/core-js/internals/object-get-own-property-names-external.js");\nvar getOwnPropertySymbolsModule = __webpack_require__(/*! ../internals/object-get-own-property-symbols */ "./node_modules/core-js/internals/object-get-own-property-symbols.js");\nvar getOwnPropertyDescriptorModule = __webpack_require__(/*! ../internals/object-get-own-property-descriptor */ "./node_modules/core-js/internals/object-get-own-property-descriptor.js");\nvar definePropertyModule = __webpack_require__(/*! ../internals/object-define-property */ "./node_modules/core-js/internals/object-define-property.js");\nvar propertyIsEnumerableModule = __webpack_require__(/*! ../internals/object-property-is-enumerable */ "./node_modules/core-js/internals/object-property-is-enumerable.js");\nvar createNonEnumerableProperty = __webpack_require__(/*! ../internals/create-non-enumerable-property */ "./node_modules/core-js/internals/create-non-enumerable-property.js");\nvar redefine = __webpack_require__(/*! ../internals/redefine */ "./node_modules/core-js/internals/redefine.js");\nvar shared = __webpack_require__(/*! ../internals/shared */ "./node_modules/core-js/internals/shared.js");\nvar sharedKey = __webpack_require__(/*! ../internals/shared-key */ "./node_modules/core-js/internals/shared-key.js");\nvar hiddenKeys = __webpack_require__(/*! ../internals/hidden-keys */ "./node_modules/core-js/internals/hidden-keys.js");\nvar uid = __webpack_require__(/*! ../internals/uid */ "./node_modules/core-js/internals/uid.js");\nvar wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "./node_modules/core-js/internals/well-known-symbol.js");\nvar wrappedWellKnownSymbolModule = __webpack_require__(/*! ../internals/well-known-symbol-wrapped */ "./node_modules/core-js/internals/well-known-symbol-wrapped.js");\nvar defineWellKnownSymbol = __webpack_require__(/*! ../internals/define-well-known-symbol */ "./node_modules/core-js/internals/define-well-known-symbol.js");\nvar setToStringTag = __webpack_require__(/*! ../internals/set-to-string-tag */ "./node_modules/core-js/internals/set-to-string-tag.js");\nvar InternalStateModule = __webpack_require__(/*! ../internals/internal-state */ "./node_modules/core-js/internals/internal-state.js");\nvar $forEach = __webpack_require__(/*! ../internals/array-iteration */ "./node_modules/core-js/internals/array-iteration.js").forEach;\n\nvar HIDDEN = sharedKey(\'hidden\');\nvar SYMBOL = \'Symbol\';\nvar PROTOTYPE = \'prototype\';\nvar TO_PRIMITIVE = wellKnownSymbol(\'toPrimitive\');\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar $stringify = getBuiltIn(\'JSON\', \'stringify\');\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar AllSymbols = shared(\'symbols\');\nvar ObjectPrototypeSymbols = shared(\'op-symbols\');\nvar StringToSymbolRegistry = shared(\'string-to-symbol-registry\');\nvar SymbolToStringRegistry = shared(\'symbol-to-string-registry\');\nvar WellKnownSymbolsStore = shared(\'wks\');\nvar QObject = global.QObject;\n// Don\'t use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, \'a\', {\n    get: function () { return nativeDefineProperty(this, \'a\', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPropertyKey(P);\n  anObject(Attributes);\n  if (has(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!has(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPropertyKey(V);\n  var enumerable = nativePropertyIsEnumerable.call(this, P);\n  if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPropertyKey(P);\n  if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n      result.push(AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.es/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError(\'Symbol is not a constructor\');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : $toString(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  redefine($Symbol[PROTOTYPE], \'toString\', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  redefine($Symbol, \'withoutSetter\', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty($Symbol[PROTOTYPE], \'description\', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      redefine(ObjectPrototype, \'propertyIsEnumerable\', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Symbol.for` method\n  // https://tc39.es/ecma262/#sec-symbol.for\n  \'for\': function (key) {\n    var string = $toString(key);\n    if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.es/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + \' is not a symbol\');\n    if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: \'Object\', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.es/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.es/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.es/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: \'Object\', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n$({ target: \'Object\', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return getOwnPropertySymbolsModule.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.es/ecma262/#sec-json.stringify\nif ($stringify) {\n  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function () {\n    var symbol = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    return $stringify([symbol]) != \'[null]\'\n      // WebKit converts symbol values to JSON as null\n      || $stringify({ a: symbol }) != \'{}\'\n      // V8 throws on boxed symbols\n      || $stringify(Object(symbol)) != \'{}\';\n  });\n\n  $({ target: \'JSON\', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      var args = [it];\n      var index = 1;\n      var $replacer;\n      while (arguments.length > index) args.push(arguments[index++]);\n      $replacer = replacer;\n      if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      if (!isArray(replacer)) replacer = function (key, value) {\n        if (typeof $replacer == \'function\') value = $replacer.call(this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return $stringify.apply(null, args);\n    }\n  });\n}\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {\n  createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/modules/es.symbol.js?')},"./node_modules/core-js/modules/web.dom-collections.for-each.js":
/*!**********************************************************************!*\
  !*** ./node_modules/core-js/modules/web.dom-collections.for-each.js ***!
  \**********************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('var global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");\nvar DOMIterables = __webpack_require__(/*! ../internals/dom-iterables */ "./node_modules/core-js/internals/dom-iterables.js");\nvar DOMTokenListPrototype = __webpack_require__(/*! ../internals/dom-token-list-prototype */ "./node_modules/core-js/internals/dom-token-list-prototype.js");\nvar forEach = __webpack_require__(/*! ../internals/array-for-each */ "./node_modules/core-js/internals/array-for-each.js");\nvar createNonEnumerableProperty = __webpack_require__(/*! ../internals/create-non-enumerable-property */ "./node_modules/core-js/internals/create-non-enumerable-property.js");\n\nvar handlePrototype = function (CollectionPrototype) {\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, \'forEach\', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n};\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  handlePrototype(global[COLLECTION_NAME] && global[COLLECTION_NAME].prototype);\n}\n\nhandlePrototype(DOMTokenListPrototype);\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/core-js/modules/web.dom-collections.for-each.js?')},"./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/ChatWindow.vue?vue&type=style&index=0&id=7e6303be&scoped=true&lang=css&":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/ChatWindow.vue?vue&type=style&index=0&id=7e6303be&scoped=true&lang=css& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, "\\n.sc-chat-window[data-v-7e6303be] {\\n  width: 370px;\\n  height: calc(100% - 120px);\\n  max-height: 590px;\\n  position: fixed;\\n  right: 25px;\\n  bottom: 100px;\\n  box-sizing: border-box;\\n  box-shadow: 0px 7px 40px 2px rgba(148, 149, 150, 0.1);\\n  background: white;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  border-radius: 10px;\\n  font-family: \'Helvetica Neue\', Helvetica, Arial, sans-serif;\\n  -webkit-animation: fadeIn-data-v-7e6303be;\\n          animation: fadeIn-data-v-7e6303be;\\n  -webkit-animation-duration: 0.3s;\\n          animation-duration: 0.3s;\\n  -webkit-animation-timing-function: ease-in-out;\\n          animation-timing-function: ease-in-out;\\n}\\n.sc-chat-window.closed[data-v-7e6303be] {\\n  opacity: 0;\\n  display: none;\\n  bottom: 90px;\\n}\\n@-webkit-keyframes fadeIn-data-v-7e6303be {\\n0% {\\n    display: none;\\n    opacity: 0;\\n}\\n100% {\\n    display: flex;\\n    opacity: 1;\\n}\\n}\\n@keyframes fadeIn-data-v-7e6303be {\\n0% {\\n    display: none;\\n    opacity: 0;\\n}\\n100% {\\n    display: flex;\\n    opacity: 1;\\n}\\n}\\n.sc-message--me[data-v-7e6303be] {\\n  text-align: right;\\n}\\n.sc-message--them[data-v-7e6303be] {\\n  text-align: left;\\n}\\n@media (max-width: 450px) {\\n.sc-chat-window[data-v-7e6303be] {\\n    width: 100%;\\n    height: 100%;\\n    max-height: 100%;\\n    right: 0px;\\n    bottom: 0px;\\n    border-radius: 0px;\\n}\\n.sc-chat-window[data-v-7e6303be] {\\n    transition: 0.1s ease-in-out;\\n}\\n.sc-chat-window.closed[data-v-7e6303be] {\\n    bottom: 0px;\\n}\\n}\\n", ""]);\n// Exports\nmodule.exports = exports;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/ChatWindow.vue?./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/EmojiPicker.vue?vue&type=style&index=0&id=d57501ea&scoped=true&lang=css&":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/EmojiPicker.vue?vue&type=style&index=0&id=d57501ea&scoped=true&lang=css& ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, "\\n.sc-emoji-picker[data-v-d57501ea] {\\n  position: absolute;\\n  bottom: 50px;\\n  right: 12px;\\n  width: 330px;\\n  max-height: 215px;\\n  box-shadow: 0px 7px 40px 2px rgba(148, 149, 150, 0.3);\\n  background: white;\\n  border-radius: 10px;\\n  outline: none;\\n}\\n.sc-emoji-picker[data-v-d57501ea]:after {\\n  content: \'\';\\n  width: 14px;\\n  height: 14px;\\n  background: white;\\n  position: absolute;\\n  bottom: -6px;\\n  right: 55px;\\n  transform: rotate(45deg);\\n  border-radius: 2px;\\n}\\n.sc-emoji-picker--content[data-v-d57501ea] {\\n  padding: 10px;\\n  overflow: auto;\\n  width: 100%;\\n  max-height: 195px;\\n  margin-top: 7px;\\n  box-sizing: border-box;\\n}\\n.sc-emoji-picker--category[data-v-d57501ea] {\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n}\\n.sc-emoji-picker--category-title[data-v-d57501ea] {\\n  min-width: 100%;\\n  color: #b8c3ca;\\n  font-size: 13px;\\n  margin: 5px;\\n  letter-spacing: 1px;\\n}\\n.sc-emoji-picker--emoji[data-v-d57501ea] {\\n  margin: 5px;\\n  width: 30px;\\n  line-height: 30px;\\n  text-align: center;\\n  cursor: pointer;\\n  vertical-align: middle;\\n  font-size: 28px;\\n  transition: transform 60ms ease-out;\\n}\\n.sc-emoji-picker--emoji[data-v-d57501ea]:hover {\\n  transform: scale(1.4);\\n}\\n", ""]);\n// Exports\nmodule.exports = exports;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/EmojiPicker.vue?./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Header.vue?vue&type=style&index=0&id=740df574&scoped=true&lang=css&":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/Header.vue?vue&type=style&index=0&id=740df574&scoped=true&lang=css& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, "\\n.sc-header[data-v-740df574] {\\n  min-height: 75px;\\n  border-top-left-radius: 9px;\\n  border-top-right-radius: 9px;\\n  padding: 10px;\\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);\\n  position: relative;\\n  box-sizing: border-box;\\n  display: flex;\\n}\\n.sc-header--img[data-v-740df574] {\\n  border-radius: 50%;\\n  align-self: center;\\n  padding: 10px;\\n}\\n.sc-header--title[data-v-740df574] {\\n  align-self: center;\\n  padding: 10px;\\n  flex: 1;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  font-size: 20px;\\n}\\n.sc-header--title.enabled[data-v-740df574] {\\n  cursor: pointer;\\n  border-radius: 5px;\\n}\\n.sc-header--title.enabled[data-v-740df574]:hover {\\n  box-shadow: 0px 2px 5px rgba(0.2, 0.2, 0.5, 0.1);\\n}\\n.sc-header--close-button[data-v-740df574] {\\n  width: 40px;\\n  align-self: center;\\n  height: 40px;\\n  margin-right: 10px;\\n  box-sizing: border-box;\\n  cursor: pointer;\\n  border-radius: 5px;\\n  margin-left: auto;\\n}\\n.sc-header--close-button[data-v-740df574]:hover {\\n  box-shadow: 0px 2px 5px rgba(0.2, 0.2, 0.5, 0.1);\\n}\\n.sc-header--close-button img[data-v-740df574] {\\n  width: 100%;\\n  height: 100%;\\n  padding: 13px;\\n  box-sizing: border-box;\\n}\\n@media (max-width: 450px) {\\n.sc-header[data-v-740df574] {\\n    border-radius: 0px;\\n}\\n}\\n", ""]);\n// Exports\nmodule.exports = exports;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Header.vue?./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Launcher.vue?vue&type=style&index=0&id=542b4c99&scoped=true&lang=css&":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/Launcher.vue?vue&type=style&index=0&id=542b4c99&scoped=true&lang=css& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, "\\n.sc-launcher[data-v-542b4c99] {\\n  width: 60px;\\n  height: 60px;\\n  background-position: center;\\n  background-repeat: no-repeat;\\n  position: fixed;\\n  right: 25px;\\n  bottom: 25px;\\n  border-radius: 50%;\\n  box-shadow: none;\\n  transition: box-shadow 0.2s ease-in-out;\\n  cursor: pointer;\\n}\\n.sc-launcher[data-v-542b4c99]:before {\\n  content: \'\';\\n  position: relative;\\n  display: block;\\n  width: 60px;\\n  height: 60px;\\n  border-radius: 50%;\\n  transition: box-shadow 0.2s ease-in-out;\\n}\\n.sc-launcher .sc-open-icon[data-v-542b4c99],\\n.sc-launcher .sc-closed-icon[data-v-542b4c99] {\\n  width: 60px;\\n  height: 60px;\\n  position: fixed;\\n  right: 25px;\\n  bottom: 25px;\\n  transition: opacity 100ms ease-in-out, transform 100ms ease-in-out;\\n}\\n.sc-launcher .sc-closed-icon[data-v-542b4c99] {\\n  transition: opacity 100ms ease-in-out, transform 100ms ease-in-out;\\n  width: 60px;\\n  height: 60px;\\n}\\n.sc-launcher .sc-open-icon[data-v-542b4c99] {\\n  padding: 20px;\\n  box-sizing: border-box;\\n  opacity: 1;\\n}\\n.sc-launcher.opened .sc-open-icon[data-v-542b4c99] {\\n  transform: rotate(-90deg);\\n  opacity: 1;\\n}\\n.sc-launcher.opened .sc-closed-icon[data-v-542b4c99] {\\n  transform: rotate(-90deg);\\n  opacity: 1;\\n}\\n.sc-launcher.opened[data-v-542b4c99]:before {\\n  box-shadow: 0px 0px 400px 250px rgba(148, 149, 150, 0.2);\\n}\\n.sc-launcher[data-v-542b4c99]:hover {\\n  box-shadow: 0 0px 27px 1.5px rgba(0, 0, 0, 0.2);\\n}\\n.sc-new-messsages-count[data-v-542b4c99] {\\n  position: absolute;\\n  top: -3px;\\n  left: 41px;\\n  display: flex;\\n  justify-content: center;\\n  flex-direction: column;\\n  border-radius: 50%;\\n  width: 22px;\\n  height: 22px;\\n  background: #ff4646;\\n  color: white;\\n  text-align: center;\\n  margin: auto;\\n  font-size: 12px;\\n  font-weight: 500;\\n}\\n", ""]);\n// Exports\nmodule.exports = exports;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Launcher.vue?./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/MessageList.vue?vue&type=style&index=0&id=b0506148&scoped=true&lang=css&":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/MessageList.vue?vue&type=style&index=0&id=b0506148&scoped=true&lang=css& ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, "\\n.sc-message-list[data-v-b0506148] {\\n  height: 80%;\\n  overflow-y: auto;\\n  background-size: 100%;\\n  padding: 40px 20px;\\n}\\n", ""]);\n// Exports\nmodule.exports = exports;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/MessageList.vue?./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Suggestions.vue?vue&type=style&index=0&lang=css&":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/Suggestions.vue?vue&type=style&index=0&lang=css& ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, "\\n.sc-suggestions-row {\\n  text-align: center;\\n  background: inherit;\\n}\\n.sc-suggestions-element {\\n  margin: 3px;\\n  padding: 5px 10px 5px 10px;\\n  border: 1px solid;\\n  border-radius: 15px;\\n  font-size: 14px;\\n  background: inherit;\\n  cursor: pointer;\\n}\\n", ""]);\n// Exports\nmodule.exports = exports;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Suggestions.vue?./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/UserInput.vue?vue&type=style&index=0&id=50424f96&scoped=true&lang=css&":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/UserInput.vue?vue&type=style&index=0&id=50424f96&scoped=true&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, "\\n.sc-user-input[data-v-50424f96] {\\n  min-height: 55px;\\n  margin: 0px;\\n  position: relative;\\n  bottom: 0;\\n  display: flex;\\n  background-color: #f4f7f9;\\n  border-bottom-left-radius: 10px;\\n  border-bottom-right-radius: 10px;\\n  transition: background-color 0.2s ease, box-shadow 0.2s ease;\\n}\\n.sc-user-input--text[data-v-50424f96] {\\n  flex-grow: 1;\\n  outline: none;\\n  border-bottom-left-radius: 10px;\\n  box-sizing: border-box;\\n  padding: 18px;\\n  font-size: 15px;\\n  line-height: 1.33;\\n  white-space: pre-wrap;\\n  word-wrap: break-word;\\n  color: #565867;\\n  -webkit-font-smoothing: antialiased;\\n  max-height: 200px;\\n  overflow-x: hidden;\\n  overflow-y: auto;\\n}\\n.sc-user-input--text[data-v-50424f96]:empty:before {\\n  content: attr(placeholder);\\n  display: block; /* For Firefox */\\n  -webkit-filter: contrast(15%);\\n          filter: contrast(15%);\\n  outline: none;\\n  cursor: text;\\n}\\n.sc-user-input--buttons[data-v-50424f96] {\\n  display: flex;\\n  align-items: center;\\n  padding: 0 4px;\\n}\\n.sc-user-input--button[data-v-50424f96] {\\n  margin: 0 4px;\\n}\\n.sc-user-input.active[data-v-50424f96] {\\n  box-shadow: none;\\n  background-color: white;\\n  box-shadow: 0px -5px 20px 0px rgba(150, 165, 190, 0.2);\\n}\\n.file-container[data-v-50424f96] {\\n  background-color: #f4f7f9;\\n  border-top-left-radius: 10px;\\n  padding: 5px 20px;\\n  color: #565867;\\n}\\n.delete-file-message[data-v-50424f96] {\\n  font-style: normal;\\n  float: right;\\n  cursor: pointer;\\n  color: #c8cad0;\\n}\\n.delete-file-message[data-v-50424f96]:hover {\\n  color: #5d5e6d;\\n}\\n.icon-file-message[data-v-50424f96] {\\n  margin-right: 5px;\\n}\\n", ""]);\n// Exports\nmodule.exports = exports;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/UserInput.vue?./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/UserInputButton.vue?vue&type=style&index=0&id=ced59930&scoped=true&lang=css&":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/UserInputButton.vue?vue&type=style&index=0&id=ced59930&scoped=true&lang=css& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, "\\n.sc-user-input--button-icon-wrapper[data-v-ced59930] {\\n  display: block;\\n  background: none;\\n  border: none;\\n  padding: 0px;\\n  margin: 0px;\\n  outline: none;\\n  cursor: pointer;\\n}\\n", ""]);\n// Exports\nmodule.exports = exports;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/UserInputButton.vue?./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/UserList.vue?vue&type=style&index=0&id=15a49382&scoped=true&lang=css&":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/UserList.vue?vue&type=style&index=0&id=15a49382&scoped=true&lang=css& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, "\\n.user-list[data-v-15a49382] {\\n  height: 100%;\\n  overflow: auto;\\n  padding-left: 5px;\\n  padding-top: 8px;\\n}\\n.img-msg[data-v-15a49382] {\\n  border-radius: 50%;\\n  width: 50px;\\n  margin-right: 5px;\\n}\\n.user-element[data-v-15a49382] {\\n  font-size: 20px;\\n  vertical-align: middle;\\n}\\n", ""]);\n// Exports\nmodule.exports = exports;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/UserList.vue?./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/IconBase.vue?vue&type=style&index=0&id=229c6e1a&scoped=true&lang=css&":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/IconBase.vue?vue&type=style&index=0&id=229c6e1a&scoped=true&lang=css& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, "\\nsvg[data-v-229c6e1a] {\\n  display: block;\\n}\\n", ""]);\n// Exports\nmodule.exports = exports;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/components/IconBase.vue?./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/icons/EmojiIcon.vue?vue&type=style&index=0&id=35adf941&scoped=true&lang=css&":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/icons/EmojiIcon.vue?vue&type=style&index=0&id=35adf941&scoped=true&lang=css& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, "\\n.sc-user-input--emoji-icon-wrapper[data-v-35adf941] {\\n  display: block;\\n  background: none;\\n  border: none;\\n  padding: 0px;\\n  margin: 0px;\\n  outline: none;\\n}\\n.sc-user-input--emoji-icon-wrapper[data-v-35adf941]:focus {\\n  outline: none;\\n}\\n.sc-user-input--emoji-icon[data-v-35adf941] {\\n  display: block;\\n  cursor: pointer;\\n}\\n", ""]);\n// Exports\nmodule.exports = exports;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/icons/EmojiIcon.vue?./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/icons/FileIcons.vue?vue&type=style&index=0&id=020ba240&scoped=true&lang=css&":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/icons/FileIcons.vue?vue&type=style&index=0&id=020ba240&scoped=true&lang=css& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, "\\ninput[type=\'file\'][data-v-020ba240] {\\n  display: none;\\n}\\n.sc-user-input--file-icon-wrapper[data-v-020ba240] {\\n  display: block;\\n  cursor: pointer;\\n}\\n.sc-user-input--file-icon[data-v-020ba240] {\\n  display: block;\\n}\\n", ""]);\n// Exports\nmodule.exports = exports;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/icons/FileIcons.vue?./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/EmojiMessage.vue?vue&type=style&index=0&id=2b642e4a&scoped=true&lang=css&":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/messages/EmojiMessage.vue?vue&type=style&index=0&id=2b642e4a&scoped=true&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, "\\n.sc-message--emoji[data-v-2b642e4a] {\\n  font-size: 40px;\\n}\\n", ""]);\n// Exports\nmodule.exports = exports;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/EmojiMessage.vue?./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/FileMessage.vue?vue&type=style&index=0&id=cedde43e&scoped=true&lang=css&":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/messages/FileMessage.vue?vue&type=style&index=0&id=cedde43e&scoped=true&lang=css& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, "\\n.sc-message--file[data-v-cedde43e] {\\n  border-radius: 6px;\\n  font-weight: 300;\\n  font-size: 14px;\\n  line-height: 1.4;\\n  -webkit-font-smoothing: subpixel-antialiased;\\n}\\n.sc-message--content.sent .sc-message--file[data-v-cedde43e] {\\n  word-wrap: break-word;\\n}\\n.sc-message--file-icon[data-v-cedde43e] {\\n  text-align: center;\\n  margin-left: auto;\\n  margin-right: auto;\\n  margin-top: 15px;\\n  margin-bottom: 0px;\\n}\\n.sc-image[data-v-cedde43e] {\\n  max-width: 100%;\\n  min-width: 100%;\\n}\\n.sc-message--file-text[data-v-cedde43e] {\\n  padding: 17px 20px;\\n  border-radius: 6px;\\n  font-weight: 300;\\n  font-size: 14px;\\n  line-height: 1.4;\\n  white-space: pre-wrap;\\n  -webkit-font-smoothing: subpixel-antialiased;\\n}\\n.sc-message--file-name[data-v-cedde43e] {\\n  color: white;\\n  padding-left: 15px;\\n  padding-right: 15px;\\n  padding-top: 0;\\n  font-size: x-small;\\n  text-align: center;\\n}\\n.sc-message--file-name a[data-v-cedde43e] {\\n  text-decoration: none;\\n  color: #ece7e7;\\n}\\n.sc-message--file-name a[data-v-cedde43e]:hover {\\n  color: white;\\n}\\n.sc-message--content.sent .sc-message--file-text[data-v-cedde43e] {\\n  color: white;\\n  background-color: #4e8cff;\\n  word-wrap: break-word;\\n}\\n.sc-message--content.received .sc-message--file[data-v-cedde43e] {\\n  color: #263238;\\n  background-color: #f4f7f9;\\n  margin-right: 40px;\\n}\\n.sc-message--content.received .sc-message--file-name[data-v-cedde43e] {\\n  color: #000;\\n}\\n.sc-message--content.received .sc-message--file a[data-v-cedde43e] {\\n  color: rgba(43, 40, 40, 0.7);\\n}\\n.sc-message--content.received .sc-message--file a[data-v-cedde43e]:hover {\\n  color: #0c0c0c;\\n}\\n", ""]);\n// Exports\nmodule.exports = exports;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/FileMessage.vue?./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/SystemMessage.vue?vue&type=style&index=0&id=d1ca9864&scoped=true&lang=css&":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/messages/SystemMessage.vue?vue&type=style&index=0&id=d1ca9864&scoped=true&lang=css& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, "\\n.sc-message--system[data-v-d1ca9864] {\\n  padding: 8px 20px;\\n  border-radius: 6px;\\n  font-weight: 300;\\n  font-size: 12px;\\n  line-height: 1.2;\\n  white-space: pre-wrap;\\n  -webkit-font-smoothing: subpixel-antialiased;\\n  font-style: italic;\\n  opacity: 0.55;\\n}\\n.sc-message--meta[data-v-d1ca9864] {\\n  font-size: xx-small;\\n  margin-bottom: 0px;\\n  margin-top: 5px;\\n  opacity: 0.5;\\n  text-align: center;\\n}\\n", ""]);\n// Exports\nmodule.exports = exports;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/SystemMessage.vue?./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/TypingMessage.vue?vue&type=style&index=0&id=5a1c0386&scoped=true&lang=css&":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/messages/TypingMessage.vue?vue&type=style&index=0&id=5a1c0386&scoped=true&lang=css& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, "\\n.sc-typing-indicator[data-v-5a1c0386] {\\n  text-align: center;\\n  padding: 17px 20px;\\n  border-radius: 6px;\\n}\\n.sc-typing-indicator span[data-v-5a1c0386] {\\n  display: inline-block;\\n  background-color: #b6b5ba;\\n  width: 10px;\\n  height: 10px;\\n  border-radius: 100%;\\n  margin-right: 3px;\\n  -webkit-animation: bob-data-v-5a1c0386 2s infinite;\\n          animation: bob-data-v-5a1c0386 2s infinite;\\n}\\n\\n/* SAFARI GLITCH */\\n.sc-typing-indicator span[data-v-5a1c0386]:nth-child(1) {\\n  -webkit-animation-delay: -1s;\\n          animation-delay: -1s;\\n}\\n.sc-typing-indicator span[data-v-5a1c0386]:nth-child(2) {\\n  -webkit-animation-delay: -0.85s;\\n          animation-delay: -0.85s;\\n}\\n.sc-typing-indicator span[data-v-5a1c0386]:nth-child(3) {\\n  -webkit-animation-delay: -0.7s;\\n          animation-delay: -0.7s;\\n}\\n@-webkit-keyframes bob-data-v-5a1c0386 {\\n10% {\\n    transform: translateY(-10px);\\n    background-color: #9e9da2;\\n}\\n50% {\\n    transform: translateY(0);\\n    background-color: #b6b5ba;\\n}\\n}\\n@keyframes bob-data-v-5a1c0386 {\\n10% {\\n    transform: translateY(-10px);\\n    background-color: #9e9da2;\\n}\\n50% {\\n    transform: translateY(0);\\n    background-color: #b6b5ba;\\n}\\n}\\n", ""]);\n// Exports\nmodule.exports = exports;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/TypingMessage.vue?./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Message.vue?vue&type=style&index=0&lang=scss&":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--8-oneOf-1-2!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/Message.vue?vue&type=style&index=0&lang=scss& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, \"/* TODO: re-org and scope this style block */\\n.sc-message {\\n  margin-bottom: 10px;\\n  display: flex;\\n}\\n.sc-message .sc-message--edited {\\n    opacity: 0.7;\\n    word-wrap: normal;\\n    font-size: xx-small;\\n    text-align: center;\\n}\\n.sc-message--content {\\n  width: 100%;\\n  display: flex;\\n}\\n.sc-message--content.sent {\\n  justify-content: flex-end;\\n}\\n.sc-message--content.system {\\n  justify-content: center;\\n}\\n.sc-message--content.sent .sc-message--avatar {\\n  display: none;\\n}\\n.sc-message--avatar {\\n  background-repeat: no-repeat;\\n  background-size: 100%;\\n  background-position: center;\\n  min-width: 30px;\\n  min-height: 30px;\\n  border-radius: 50%;\\n  align-self: center;\\n  margin-right: 15px;\\n}\\n.sc-message--meta {\\n  font-size: xx-small;\\n  margin-bottom: 0px;\\n  color: white;\\n  text-align: center;\\n}\\n@media (max-width: 450px) {\\n.sc-message {\\n    width: 80%;\\n}\\n}\\n.tooltip {\\n  display: block !important;\\n  z-index: 10000;\\n}\\n.tooltip .tooltip-inner {\\n    background: black;\\n    color: white;\\n    border-radius: 16px;\\n    padding: 5px 10px 4px;\\n}\\n.tooltip .tooltip-arrow {\\n    width: 0;\\n    height: 0;\\n    border-style: solid;\\n    position: absolute;\\n    margin: 5px;\\n    border-color: black;\\n    z-index: 1;\\n}\\n.tooltip[x-placement^='top'] {\\n    margin-bottom: 5px;\\n}\\n.tooltip[x-placement^='top'] .tooltip-arrow {\\n      border-width: 5px 5px 0 5px;\\n      border-left-color: transparent !important;\\n      border-right-color: transparent !important;\\n      border-bottom-color: transparent !important;\\n      bottom: -5px;\\n      left: calc(50% - 5px);\\n      margin-top: 0;\\n      margin-bottom: 0;\\n}\\n.tooltip[x-placement^='bottom'] {\\n    margin-top: 5px;\\n}\\n.tooltip[x-placement^='bottom'] .tooltip-arrow {\\n      border-width: 0 5px 5px 5px;\\n      border-left-color: transparent !important;\\n      border-right-color: transparent !important;\\n      border-top-color: transparent !important;\\n      top: -5px;\\n      left: calc(50% - 5px);\\n      margin-top: 0;\\n      margin-bottom: 0;\\n}\\n.tooltip[x-placement^='right'] {\\n    margin-left: 5px;\\n}\\n.tooltip[x-placement^='right'] .tooltip-arrow {\\n      border-width: 5px 5px 5px 0;\\n      border-left-color: transparent !important;\\n      border-top-color: transparent !important;\\n      border-bottom-color: transparent !important;\\n      left: -5px;\\n      top: calc(50% - 5px);\\n      margin-left: 0;\\n      margin-right: 0;\\n}\\n.tooltip[x-placement^='left'] {\\n    margin-right: 5px;\\n}\\n.tooltip[x-placement^='left'] .tooltip-arrow {\\n      border-width: 5px 0 5px 5px;\\n      border-top-color: transparent !important;\\n      border-right-color: transparent !important;\\n      border-bottom-color: transparent !important;\\n      right: -5px;\\n      top: calc(50% - 5px);\\n      margin-left: 0;\\n      margin-right: 0;\\n}\\n.tooltip[aria-hidden='true'] {\\n    visibility: hidden;\\n    opacity: 0;\\n    transition: opacity 0.15s, visibility 0.15s;\\n}\\n.tooltip[aria-hidden='false'] {\\n    visibility: visible;\\n    opacity: 1;\\n    transition: opacity 0.15s;\\n}\\n.tooltip.info .tooltip-inner {\\n    background: rgba(0, 68, 153, 0.9);\\n    color: white;\\n    padding: 24px;\\n    border-radius: 5px;\\n    box-shadow: 0 5px 30px rgba(0, 0, 0, 0.1);\\n}\\n.tooltip.info .tooltip-arrow {\\n    border-color: rgba(0, 68, 153, 0.9);\\n}\\n.tooltip.popover .popover-inner {\\n    background: #f9f9f9;\\n    color: black;\\n    padding: 24px;\\n    border-radius: 5px;\\n    box-shadow: 0 5px 30px rgba(0, 0, 0, 0.1);\\n}\\n.tooltip.popover .popover-arrow {\\n    border-color: #f9f9f9;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Message.vue?./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--8-oneOf-1-2!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options")},"./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/TextMessage.vue?vue&type=style&index=0&id=c6b294e0&scoped=true&lang=scss&":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--8-oneOf-1-2!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/messages/TextMessage.vue?vue&type=style&index=0&id=c6b294e0&scoped=true&lang=scss& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, ".sc-message--text[data-v-c6b294e0] {\\n  padding: 5px 20px;\\n  border-radius: 6px;\\n  font-weight: 300;\\n  font-size: 14px;\\n  line-height: 1.4;\\n  position: relative;\\n  -webkit-font-smoothing: subpixel-antialiased;\\n}\\n.sc-message--text .sc-message--text-content[data-v-c6b294e0] {\\n    white-space: pre-wrap;\\n}\\n.sc-message--text:hover .sc-message--toolbox[data-v-c6b294e0] {\\n    left: -20px;\\n    opacity: 1;\\n}\\n.sc-message--text .sc-message--toolbox[data-v-c6b294e0] {\\n    transition: left 0.2s ease-out 0s;\\n    white-space: normal;\\n    opacity: 0;\\n    position: absolute;\\n    left: 0px;\\n    width: 25px;\\n    top: 0;\\n}\\n.sc-message--text .sc-message--toolbox button[data-v-c6b294e0] {\\n      background: none;\\n      border: none;\\n      padding: 0px;\\n      margin: 0px;\\n      outline: none;\\n      width: 100%;\\n      text-align: center;\\n      cursor: pointer;\\n}\\n.sc-message--text .sc-message--toolbox button[data-v-c6b294e0]:focus {\\n        outline: none;\\n}\\n.sc-message--text .sc-message--toolbox[data-v-c6b294e0] svg {\\n      margin-left: 5px;\\n}\\n.sc-message--text code[data-v-c6b294e0] {\\n    font-family: \'Courier New\', Courier, monospace !important;\\n}\\n.sc-message--content.sent .sc-message--text[data-v-c6b294e0] {\\n  color: white;\\n  background-color: #4e8cff;\\n  max-width: calc(100% - 120px);\\n  word-wrap: break-word;\\n}\\n.sc-message--content.received .sc-message--text[data-v-c6b294e0] {\\n  color: #263238;\\n  background-color: #f4f7f9;\\n  margin-right: 40px;\\n}\\na.chatLink[data-v-c6b294e0] {\\n  color: inherit !important;\\n}\\n", ""]);\n// Exports\nmodule.exports = exports;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/TextMessage.vue?./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--8-oneOf-1-2!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return "@media ".concat(item[2], " {").concat(content, "}");\n      }\n\n      return content;\n    }).join(\'\');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === \'string\') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, \'\']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = "".concat(mediaQuery, " and ").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || \'\'; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === \'function\') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return "/*# sourceURL=".concat(cssMapping.sourceRoot || \'\').concat(source, " */");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\'\\n\');\n  }\n\n  return [content].join(\'\\n\');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);\n  return "/*# ".concat(data, " */");\n}\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/css-loader/dist/runtime/api.js?')},"./node_modules/current-script-polyfill/currentScript.js":
/*!***************************************************************!*\
  !*** ./node_modules/current-script-polyfill/currentScript.js ***!
  \***************************************************************/
/*! no static exports found */function(module,exports){eval('// document.currentScript polyfill by Adam Miller\n\n// MIT license\n\n(function(document){\n  var currentScript = "currentScript",\n      scripts = document.getElementsByTagName(\'script\'); // Live NodeList collection\n\n  // If browser needs currentScript polyfill, add get currentScript() to the document object\n  if (!(currentScript in document)) {\n    Object.defineProperty(document, currentScript, {\n      get: function(){\n\n        // IE 6-10 supports script readyState\n        // IE 10+ support stack trace\n        try { throw new Error(); }\n        catch (err) {\n\n          // Find the second match for the "at" string to get file src url from stack.\n          // Specifically works with the format of stack traces in IE.\n          var i, res = ((/.*at [^\\(]*\\((.*):.+:.+\\)$/ig).exec(err.stack) || [false])[1];\n\n          // For all scripts on the page, if src matches or if ready state is interactive, return the script tag\n          for(i in scripts){\n            if(scripts[i].src == res || scripts[i].readyState == "interactive"){\n              return scripts[i];\n            }\n          }\n\n          // If no match, return null\n          return null;\n        }\n      }\n    });\n  }\n})(document);\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/current-script-polyfill/currentScript.js?')},"./node_modules/emoji-js/lib/emoji.js":
/*!********************************************!*\
  !*** ./node_modules/emoji-js/lib/emoji.js ***!
  \********************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('/* WEBPACK VAR INJECTION */(function(global) {\n\n;(function() {\n\n\tvar root = this;\n\tvar previous_emoji = root.EmojiConvertor;\n\n\n\t/**\n\t * @global\n\t * @namespace\n\t */\n\n\tvar emoji = function(){\n\n\t\tvar self = this;\n\n\t\t/**\n\t\t * The set of images to use for graphical emoji.\n\t\t *\n\t\t * @memberof emoji\n\t\t * @type {string}\n\t\t */\n\t\tself.img_set = \'apple\';\n\n\t\t/**\n\t\t * Configuration details for different image sets. This includes a path to a directory containing the\n\t\t * individual images (`path`) and a URL to sprite sheets (`sheet`). All of these images can be found\n\t\t * in the [emoji-data repository]{@link https://github.com/iamcal/emoji-data}. Using a CDN for these\n\t\t * is not a bad idea.\n\t\t *\n\t\t * @memberof emoji\n\t\t * @type {object}\n\t\t */\n\t\tself.img_sets = {\n\t\t\t\'apple\' : {\'path\' : \'/emoji-data/img-apple-64/\', \'sheet\' : \'/emoji-data/sheet_apple_64.png\', \'sheet_size\' : 64, \'mask\' : 1},\n\t\t\t\'google\' : {\'path\' : \'/emoji-data/img-google-64/\', \'sheet\' : \'/emoji-data/sheet_google_64.png\', \'sheet_size\' : 64, \'mask\' : 2},\n\t\t\t\'twitter\' : {\'path\' : \'/emoji-data/img-twitter-64/\', \'sheet\' : \'/emoji-data/sheet_twitter_64.png\', \'sheet_size\' : 64, \'mask\' : 4},\n\t\t\t\'facebook\' : {\'path\' : \'/emoji-data/img-facebook-64/\', \'sheet\' : \'/emoji-data/sheet_facebook_64.png\', \'sheet_size\' : 64, \'mask\' : 8},\n\t\t\t\'messenger\' : {\'path\' : \'/emoji-data/img-messenger-64/\', \'sheet\' : \'/emoji-data/sheet_messenger_64.png\', \'sheet_size\' : 64, \'mask\' : 16},\n\t\t};\n\n\t\t/**\n\t\t * Use a CSS class instead of specifying a sprite or background image for\n\t\t * the span representing the emoticon. This requires a CSS sheet with\n\t\t * emoticon data-uris.\n\t\t *\n\t\t * @memberof emoji\n\t\t * @type bool\n\t\t * @todo document how to build the CSS stylesheet self requires.\n\t\t */\n\t\tself.use_css_imgs = false;\n\n\t\t/**\n\t\t * Instead of replacing emoticons with the appropriate representations,\n\t\t * replace them with their colon string representation.\n\t\t * @memberof emoji\n\t\t * @type bool\n\t\t */\n\t\tself.colons_mode = false;\n\t\tself.text_mode = false;\n\n\t\t/**\n\t\t * If true, sets the "title" property on the span or image that gets\n\t\t * inserted for the emoticon.\n\t\t * @memberof emoji\n\t\t * @type bool\n\t\t */\n\t\tself.include_title = false;\n\n\t\t/**\n\t\t * If true, sets the text of the span or image that gets inserted for the\n\t\t * emoticon.\n\t\t * @memberof emoji\n\t\t * @type bool\n\t\t */\n\t\tself.include_text = false;\n\n\t\t/**\n\t\t * If the platform supports native emoticons, use those instead\n\t\t * of the fallbacks.\n\t\t * @memberof emoji\n\t\t * @type bool\n\t\t */\n\t\tself.allow_native = true;\n\n\t\t/**\n\t\t * Wrap native with a <span class="emoji-native"></span> to allow styling\n\t\t * @memberof emoji\n\t\t * @type bool\n\t\t */\n\t\tself.wrap_native = false;\n\n\t\t/**\n\t\t * Set to true to use CSS sprites instead of individual images on\n\t\t * platforms that support it.\n\t\t *\n\t\t * @memberof emoji\n\t\t * @type bool\n\t\t */\n\t\tself.use_sheet = false;\n\n\t\t/**\n\t\t *\n\t\t * Set to true to avoid black & white native Windows emoji being used.\n\t\t *\n\t\t * @memberof emoji\n\t\t * @type bool\n\t\t */\n\t\tself.avoid_ms_emoji = true;\n\n\t\t/**\n\t\t *\n\t\t * Set to true to allow :CAPITALIZATION:\n\t\t *\n\t\t * @memberof emoji\n\t\t * @type bool\n\t\t */\n\t\tself.allow_caps = false;\n\n\n\t\t/**\n\t\t *\n\t\t * Suffix to allow for individual image cache busting\n\t\t *\n\t\t * @memberof emoji\n\t\t * @type string\n\t\t */\n\t\tself.img_suffix = \'\';\n\n\n\t\t// Keeps track of what has been initialized.\n\t\t/** @private */\n\t\tself.inits = {};\n\t\tself.map = {};\n\n\t\t// discover the environment settings\n\t\tself.init_env();\n\n\t\treturn self;\n\t}\n\n\temoji.prototype.noConflict = function(){\n\t\troot.EmojiConvertor = previous_emoji;\n\t\treturn emoji;\n\t}\n\n\n\t/**\n\t * @memberof emoji\n\t * @param {string} str A string potentially containing ascii emoticons\n\t * (ie. `:)`)\n\t *\n\t * @returns {string} A new string with all emoticons in `str`\n\t * replaced by a representatation that\'s supported by the current\n\t * environtment.\n\t */\n\temoji.prototype.replace_emoticons = function(str){\n\t\tvar self = this;\n\t\tvar colonized = self.replace_emoticons_with_colons(str);\n\t\treturn self.replace_colons(colonized);\n\t};\n\n\t/**\n\t * @memberof emoji\n\t * @param {string} str A string potentially containing ascii emoticons\n\t * (ie. `:)`)\n\t *\n\t * @returns {string} A new string with all emoticons in `str`\n\t * replaced by their colon string representations (ie. `:smile:`)\n\t */\n\temoji.prototype.replace_emoticons_with_colons = function(str){\n\t\tvar self = this;\n\t\tself.init_emoticons();\n\t\tvar _prev_offset = 0;\n\t\tvar emoticons_with_parens = [];\n\t\tvar str_replaced = str.replace(self.rx_emoticons, function(m, $1, emoticon, offset){\n\t\t\tvar prev_offset = _prev_offset;\n\t\t\t_prev_offset = offset + m.length;\n\n\t\t\tvar has_open_paren = emoticon.indexOf(\'(\') !== -1;\n\t\t\tvar has_close_paren = emoticon.indexOf(\')\') !== -1;\n\n\t\t\t/*\n\t\t\t * Track paren-having emoticons for fixing later\n\t\t\t */\n\t\t\tif ((has_open_paren || has_close_paren) && emoticons_with_parens.indexOf(emoticon) == -1) {\n\t\t\t\temoticons_with_parens.push(emoticon);\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * Look for preceding open paren for emoticons that contain a close paren\n\t\t\t * This prevents matching "8)" inside "(around 7 - 8)"\n\t\t\t */\n\t\t\tif (has_close_paren && !has_open_paren) {\n\t\t\t\tvar piece = str.substring(prev_offset, offset);\n\t\t\t\tif (piece.indexOf(\'(\') !== -1 && piece.indexOf(\')\') === -1) return m;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * See if we\'re in a numbered list\n\t\t\t * This prevents matching "8)" inside "7) foo\\n8) bar"\n\t\t\t */\n\t\t\tif (m === \'\\n8)\') {\n\t\t\t\tvar before_match = str.substring(0, offset);\n\t\t\t\tif (/\\n?(6\\)|7\\))/.test(before_match)) return m;\n\t\t\t}\n\n\t\t\tvar val = self.data[self.map.emoticons[emoticon]][3][0];\n\t\t\treturn val ? $1+\':\'+val+\':\' : m;\n\t\t});\n\n\t\t/*\n\t\t * Come back and fix emoticons we ignored because they were inside parens.\n\t\t * It\'s useful to do self at the end so we don\'t get tripped up by other,\n\t\t * normal emoticons\n\t\t */\n\t\tif (emoticons_with_parens.length) {\n\t\t\tvar escaped_emoticons = emoticons_with_parens.map(self.escape_rx);\n\t\t\tvar parenthetical_rx = new RegExp(\'(\\\\(.+)(\'+escaped_emoticons.join(\'|\')+\')(.+\\\\))\', \'g\');\n\n\t\t\tstr_replaced = str_replaced.replace(parenthetical_rx, function(m, $1, emoticon, $2) {\n\t\t\t\tvar val = self.data[self.map.emoticons[emoticon]][3][0];\n\t\t\t\treturn val ? $1+\':\'+val+\':\'+$2 : m;\n\t\t\t});\n\t\t}\n\n\t\treturn str_replaced;\n\t};\n\n\t/**\n\t * @memberof emoji\n\t * @param {string} str A string potentially containing colon string\n\t * representations of emoticons (ie. `:smile:`)\n\t *\n\t * @returns {string} A new string with all colon string emoticons replaced\n\t * with the appropriate representation.\n\t */\n\temoji.prototype.replace_colons = function(str){\n\t\tvar self = this;\n\t\tself.init_colons();\n\n\t\treturn str.replace(self.rx_colons, function(m){\n\t\t\tvar idx = m.substr(1, m.length-2);\n\t\t\tif (self.allow_caps) idx = idx.toLowerCase();\n\n\t\t\t// special case - an emoji with a skintone modified\n\t\t\tif (idx.indexOf(\'::skin-tone-\') > -1){\n\n\t\t\t\tvar skin_tone = idx.substr(-1, 1);\n\t\t\t\tvar skin_idx = \'skin-tone-\'+skin_tone;\n\t\t\t\tvar skin_val = self.map.colons[skin_idx];\n\n\t\t\t\tidx = idx.substr(0, idx.length - 13);\n\n\t\t\t\tvar val = self.map.colons[idx];\n\t\t\t\tif (val){\n\t\t\t\t\treturn self.replacement(val, idx, \':\', {\n\t\t\t\t\t\t\'idx\'\t\t: skin_val,\n\t\t\t\t\t\t\'actual\'\t: skin_idx,\n\t\t\t\t\t\t\'wrapper\'\t: \':\'\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\treturn \':\' + idx + \':\' + self.replacement(skin_val, skin_idx, \':\');\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tvar val = self.map.colons[idx];\n\t\t\t\treturn val ? self.replacement(val, idx, \':\') : m;\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * @memberof emoji\n\t * @param {string} str A string potentially containing unified unicode\n\t * emoticons. (ie. 😄)\n\t *\n\t * @returns {string} A new string with all unicode emoticons replaced with\n\t * the appropriate representation for the current environment.\n\t */\n\temoji.prototype.replace_unified = function(str){\n\t\tvar self = this;\n\t\tself.init_unified();\n\t\treturn str.replace(self.rx_unified, function(m, p1, p2){\n\n\t\t\tvar val = self.map.unified[p1];\n\t\t\tif (val){\n\t\t\t\tvar idx = null;\n\t\t\t\tif (p2 == \'\\uD83C\\uDFFB\') idx = \'1f3fb\';\n\t\t\t\tif (p2 == \'\\uD83C\\uDFFC\') idx = \'1f3fc\';\n\t\t\t\tif (p2 == \'\\uD83C\\uDFFD\') idx = \'1f3fd\';\n\t\t\t\tif (p2 == \'\\uD83C\\uDFFE\') idx = \'1f3fe\';\n\t\t\t\tif (p2 == \'\\uD83C\\uDFFF\') idx = \'1f3ff\';\n\t\t\t\tif (idx){\n\t\t\t\t\treturn self.replacement(val, null, null, {\n\t\t\t\t\t\tidx\t: idx,\n\t\t\t\t\t\tactual\t: p2,\n\t\t\t\t\t\twrapper\t: \'\'\n\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\treturn self.replacement(val);\n\t\t\t}\n\n\t\t\tval = self.map.unified_vars[p1];\n\t\t\tif (val){\n\t\t\t\treturn self.replacement(val[0], null, null, {\n\t\t\t\t\t\'idx\'\t\t: val[1],\n\t\t\t\t\t\'actual\'\t: \'\',\n\t\t\t\t\t\'wrapper\'\t: \'\',\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn m;\n\t\t});\n\t};\n\n\temoji.prototype.addAliases = function(map){\n\t\tvar self = this;\n\n\t\tself.init_colons();\n\t\tfor (var i in map){\n\t\t\tself.map.colons[i] = map[i];\n\t\t}\n\t};\n\n\temoji.prototype.removeAliases = function(list){\n\t\tvar self = this;\n\n\t\tfor (var i=0; i<list.length; i++){\n\t\t\tvar alias = list[i];\n\n\t\t\t// first, delete the alias mapping\n\t\t\tdelete self.map.colons[alias];\n\n\t\t\t// now reset it to the default, if one exists\n\t\t\tfinder_block: {\n\t\t\t\tfor (var j in self.data){\n\t\t\t\t\tfor (var k=0; k<self.data[j][3].length; k++){\n\t\t\t\t\t\tif (alias == self.data[j][3][k]){\n\t\t\t\t\t\t\tself.map.colons[alias] = j;\n\t\t\t\t\t\t\tbreak finder_block;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\n\t// Does the actual replacement of a character with the appropriate\n\t/** @private */\n\temoji.prototype.replacement = function(idx, actual, wrapper, variation, is_extra){\n\t\tvar self = this;\n\n\t\tvar full_idx = idx;\n\n\t\t// for emoji with variation modifiers, set `extra` to the standalone output for the\n\t\t// modifier (used if we can\'t combine the glyph) and set variation_idx to key of the\n\t\t// variation modifier (used below)\n\t\tvar extra = \'\';\n\t\tvar var_idx = null;\n\t\tif (typeof variation === \'object\'){\n\t\t\textra = self.replacement(variation.idx, variation.actual, variation.wrapper, undefined, true);\n\t\t\tvar_idx = variation.idx;\n\t\t}\n\n\t\t// deal with simple modes (colons and text) first\n\t\twrapper = wrapper || \'\';\n\t\tif (self.colons_mode) return \':\'+self.data[idx][3][0]+\':\'+extra;\n\t\tvar text_name = (actual) ? wrapper+actual+wrapper : self.data[idx][8] || wrapper+self.data[idx][3][0]+wrapper;\n\t\tif (self.text_mode) return text_name + extra;\n\n\t\t// figure out which images and code points to use, based on the skin variations. this information is also used for\n\t\t// unified native output mode\n\t\tvar img = self.find_image(idx, var_idx);\n\n\t\t// native modes next.\n\t\t// for variations selectors, we just need to output them raw, which `extra` will contain. since softbank and google don\'t\n\t\t// support skin variations, we\'ll keep `extra` around, every if we have a valid variation selector\n\t\tself.init_env();\n\t\tif (self.replace_mode == \'softbank\' && self.allow_native && self.data[idx][1]) return self.format_native(self.data[idx][1] + extra, !is_extra);\n\t\tif (self.replace_mode == \'google\'   && self.allow_native && self.data[idx][2]) return self.format_native(self.data[idx][2] + extra, !is_extra);\n\n\t\t// for unified (and images, below), we can use the variation info and throw away the `extra` contents\n\t\tif (img.is_var){\n\t\t\textra = \'\';\n\t\t}\n\t\tif (self.replace_mode == \'unified\' && self.allow_native) return self.format_native(img.unified + extra, !is_extra);\n\n\n\t\t// finally deal with image modes.\n\t\t// the call to .find_image() earlier checked if the image set and particular emoji supports variations,\n\t\t// otherwise we can return it as a separate image (already calculated in `extra`).\n\t\t// first we set up the params we\'ll use if we can\'t use a variation.\n\t\tvar title = self.include_title ? \' title="\'+(actual || self.data[idx][3][0])+\'"\' : \'\';\n\t\tvar text  = self.include_text  ? wrapper+(actual || self.data[idx][3][0])+wrapper : \'\';\n\n\t\t// custom image for this glyph?\n\t\tif (self.data[idx][7]){\n\t\t\timg.path = self.data[idx][7];\n\t\t\timg.px = null;\n\t\t\timg.py = null;\n\t\t\timg.is_var = false;\n\t\t}\n\n\t\t// if we\'re displaying a variation, include it in the text\n\t\tif (img.is_var && self.include_text && variation && variation.actual && variation.wrapper) {\n\t\t\ttext += variation.wrapper+variation.actual+variation.wrapper;\n\t\t}\n\n\t\t// output\n\t\tif (self.supports_css) {\n\t\t\tif (self.use_sheet && img.px != null && img.py != null){\n\t\t\t\tvar sheet_size = self.sheet_size * (img.sheet_size+2); // size of image in pixels\n\t\t\t\tvar sheet_x = 100 * (((img.px * (img.sheet_size+2)) + 1) / (sheet_size - img.sheet_size));\n\t\t\t\tvar sheet_y = 100 * (((img.py * (img.sheet_size+2)) + 1) / (sheet_size - img.sheet_size));\n\t\t\t\tvar sheet_sz = 100 * (sheet_size / img.sheet_size);\n\n\t\t\t\tvar style = \'background: url(\'+img.sheet+\');background-position:\'+(sheet_x)+\'% \'+(sheet_y)+\'%;background-size:\'+sheet_sz+\'% \'+sheet_sz+\'%\';\n\t\t\t\treturn \'<span class="emoji-outer emoji-sizer"><span class="emoji-inner" style="\'+style+\'"\'+title+\' data-codepoints="\'+img.full_idx+\'">\'+text+\'</span></span>\'+extra;\n\t\t\t}else if (self.use_css_imgs){\n\t\t\t\treturn \'<span class="emoji emoji-\'+idx+\'"\'+title+\' data-codepoints="\'+img.full_idx+\'">\'+text+\'</span>\'+extra;\n\t\t\t}else{\n\t\t\t\treturn \'<span class="emoji emoji-sizer" style="background-image:url(\'+img.path+\')"\'+title+\' data-codepoints="\'+img.full_idx+\'">\'+text+\'</span>\'+extra;\n\t\t\t}\n\t\t}\n\t\treturn \'<img src="\'+img.path+\'" class="emoji" data-codepoints="\'+img.full_idx+\'" \'+title+\'/>\'+extra;\n\t};\n\n\t// Wraps the output of a native endpoint, if configured\n\t/** @private */\n\temoji.prototype.format_native = function(native, allow_wrap){\n\t\tvar self = this;\n\n\t\tif (self.wrap_native && allow_wrap){\n\t\t\treturn \'<span class="emoji-native">\'+ native + \'</span>\';\n\t\t}\n\t\treturn native;\n\t};\n\n\t// Finds the best image to display, taking into account image set precedence and obsoletes\n\t/** @private */\n\temoji.prototype.find_image = function(idx, var_idx){\n\t\tvar self = this;\n\n\t\t// set up some initial state\n\t\tvar out = {\n\t\t\t\'path\'\t\t: \'\',\n\t\t\t\'sheet\'\t\t: \'\',\n\t\t\t\'sheet_size\'\t: 0,\n\t\t\t\'px\'\t\t: self.data[idx][4],\n\t\t\t\'py\'\t\t: self.data[idx][5],\n\t\t\t\'full_idx\'\t: idx,\n\t\t\t\'is_var\'\t: false,\n\t\t\t\'unified\'\t: self.data[idx][0][0]\n\t\t};\n\t\tvar use_mask = self.data[idx][6];\n\n\t\t// can we use a variation?\n\t\tif (var_idx && self.variations_data[idx] && self.variations_data[idx][var_idx]){\n\t\t\tvar var_data = self.variations_data[idx][var_idx];\n\n\t\t\tout.px = var_data[1];\n\t\t\tout.py = var_data[2];\n\t\t\tout.full_idx = var_data[0];\n\t\t\tout.is_var = true;\n\t\t\tout.unified = var_data[4];\n\t\t\tuse_mask = var_data[3];\n\t\t}\n\n\t\t// this matches `build/build_image.php` `in emoji-data`, so that sheet and images modes always\n\t\t// agree about the image to use.\n\t\tvar try_order = [self.img_set, \'apple\', \'google\', \'twitter\', \'facebook\', \'messenger\'];\n\n\t\t// for each image set, see if we have the image we need. otherwise check for an obsolete in\n\t\t// that image set\n\t\tfor (var j=0; j<try_order.length; j++){\n\t\t\tif (use_mask & self.img_sets[try_order[j]].mask){\n\t\t\t\tout.path = self.img_sets[try_order[j]].path+out.full_idx+\'.png\' + self.img_suffix;\n\t\t\t\t// if we\'re not changing glyph, use our base set for sheets - it has every glyph\n\t\t\t\tout.sheet = self.img_sets[self.img_set].sheet;\n\t\t\t\tout.sheet_size = self.img_sets[self.img_set].sheet_size;\n\t\t\t\treturn out;\n\t\t\t}\n\t\t\tif (self.obsoletes_data[out.full_idx]){\n\t\t\t\tvar ob_data = self.obsoletes_data[out.full_idx];\n\n\t\t\t\tif (ob_data[3] & self.img_sets[try_order[j]].mask){\n\t\t\t\t\tout.path = self.img_sets[try_order[j]].path+ob_data[0]+\'.png\' + self.img_suffix;\n\t\t\t\t\tout.sheet = self.img_sets[try_order[j]].sheet;\n\t\t\t\t\tout.sheet_size = self.img_sets[try_order[j]].sheet_size;\n\t\t\t\t\tout.px = ob_data[1];\n\t\t\t\t\tout.py = ob_data[2];\n\t\t\t\t\treturn out;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn out;\n\t};\n\n\t// Initializes the text emoticon data\n\t/** @private */\n\temoji.prototype.init_emoticons = function(){\n\t\tvar self = this;\n\t\tif (self.inits.emoticons) return;\n\t\tself.init_colons(); // we require this for the emoticons map\n\t\tself.inits.emoticons = 1;\n\n\t\tvar a = [];\n\t\tself.map.emoticons = {};\n\t\tfor (var i in self.emoticons_data){\n\t\t\t// because we never see some characters in our text except as entities, we must do some replacing\n\t\t\tvar emoticon = i.replace(/\\&/g, \'&amp;\').replace(/\\</g, \'&lt;\').replace(/\\>/g, \'&gt;\');\n\n\t\t\tif (!self.map.colons[self.emoticons_data[i]]) continue;\n\n\t\t\tself.map.emoticons[emoticon] = self.map.colons[self.emoticons_data[i]];\n\t\t\ta.push(self.escape_rx(emoticon));\n\t\t}\n\t\tself.rx_emoticons = new RegExp((\'(^|\\\\s)(\'+a.join(\'|\')+\')(?=$|[\\\\s|\\\\?\\\\.,!])\'), \'g\');\n\t};\n\n\t// Initializes the colon string data\n\t/** @private */\n\temoji.prototype.init_colons = function(){\n\t\tvar self = this;\n\t\tif (self.inits.colons) return;\n\t\tself.inits.colons = 1;\n\t\tself.rx_colons = new RegExp(\'\\:[a-zA-Z0-9-_+]+\\:(\\:skin-tone-[2-6]\\:)?\', \'g\');\n\t\tself.map.colons = {};\n\t\tfor (var i in self.data){\n\t\t\tfor (var j=0; j<self.data[i][3].length; j++){\n\t\t\t\tself.map.colons[self.data[i][3][j]] = i;\n\t\t\t}\n\t\t}\n\t};\n\n\t// initializes the unified unicode emoticon data\n\t/** @private */\n\temoji.prototype.init_unified = function(){\n\t\tvar self = this;\n\t\tif (self.inits.unified) return;\n\t\tself.inits.unified = 1;\n\n\t\tvar a = [];\n\t\tself.map.unified = {};\n\t\tself.map.unified_vars = {};\n\n\t\tfor (var i in self.data){\n\t\t\tfor (var j=0; j<self.data[i][0].length; j++){\n\t\t\t\ta.push(self.data[i][0][j].replace(\'*\', \'\\\\*\'));\n\t\t\t\tself.map.unified[self.data[i][0][j]] = i;\n\t\t\t}\n\t\t}\n\t\tfor (var i in self.variations_data){\n\t\t\t// skip simple append-style skin tones\n\t\t\tif (self.variations_data[i][\'1f3fb\'][0] == i+\'-1f3fb\') continue;\n\n\t\t\tfor (var k in self.variations_data[i]){\n\t\t\t\tfor (var j=0; j<self.variations_data[i][k][4].length; j++){\n\t\t\t\t\ta.push(self.variations_data[i][k][4][j].replace(\'*\', \'\\\\*\'));\n\t\t\t\t\tself.map.unified_vars[self.variations_data[i][k][4][j]] = [i, k];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\ta = a.sort(function(a,b){\n\t\t\t return b.length - a.length;\n\t\t});\n\n\t\tself.rx_unified = new RegExp(\'(\'+a.join(\'|\')+\')(\\uD83C[\\uDFFB-\\uDFFF])?\', "g");\n\t};\n\n\t// initializes the environment, figuring out what representation\n\t// of emoticons is best.\n\t/** @private */\n\temoji.prototype.init_env = function(){\n\t\tvar self = this;\n\t\tif (self.inits.env) return;\n\t\tself.inits.env = 1;\n\t\tself.replace_mode = \'img\';\n\t\tself.supports_css = false;\n\t\tif (typeof(navigator) !== \'undefined\') {\n\t\t\tvar ua = navigator.userAgent;\n\t\t\tif (typeof window !== \'undefined\' && window.getComputedStyle){\n\t\t\t\ttry {\n\t\t\t\t\tvar st = window.getComputedStyle(document.body);\n\t\t\t\t\tif (st[\'background-size\'] || st[\'backgroundSize\']){\n\t\t\t\t\t\tself.supports_css = true;\n\t\t\t\t\t}\n\t\t\t\t} catch(e){\n\t\t\t\t\t// Swallow an exception caused by hidden iFrames on Firefox\n\t\t\t\t\t// https://github.com/iamcal/js-emoji/issues/73\n\t\t\t\t\tif (ua.match(/Firefox/i)){\n\t\t\t\t\t\tself.supports_css = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (navigator.product.match(/ReactNative/i)){\n\t\t\t\tself.replace_mode = \'unified\';\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (ua.match(/(iPhone|iPod|iPad|iPhone\\s+Simulator)/i)){\n\t\t\t\tif (ua.match(/OS\\s+[12345]/i)){\n\t\t\t\t\tself.replace_mode = \'softbank\';\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (ua.match(/OS\\s+[6789]/i)){\n\t\t\t\t\tself.replace_mode = \'unified\';\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ua.match(/Mac OS X 10[._ ](?:[789]|1\\d)/i)){\n\t\t\t\tself.replace_mode = \'unified\';\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!self.avoid_ms_emoji){\n\t\t\t\tif (ua.match(/Windows NT 6.[1-9]/i) || ua.match(/Windows NT 10.[0-9]/i)){\n\t\t\t\t\tif (!ua.match(/Chrome/i) && !ua.match(/MSIE 8/i)){\n\t\t\t\t\t\tself.replace_mode = \'unified\';\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Need a better way to detect android devices that actually\n\t\t// support emoji.\n\t\tif (false){}\n\t\tif (self.supports_css){\n\t\t\tself.replace_mode = \'css\';\n\t\t}\n\t\t// nothing fancy detected - use images\n\t};\n\t/** @private */\n\temoji.prototype.escape_rx = function(text){\n\t\treturn text.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, "\\\\$&");\n\t};\n\temoji.prototype.sheet_size = 52;\n\t/** @private */\n\temoji.prototype.data = {\n\t\t"0023-fe0f-20e3":[["\\u0023\\uFE0F\\u20E3","\\u0023\\u20E3"],"\\uE210","\\uDBBA\\uDC2C",["hash"],0,0,7,0],\n\t\t"002a-fe0f-20e3":[["\\u002A\\uFE0F\\u20E3","\\u002A\\u20E3"],"","",["keycap_star"],0,1,7,0],\n\t\t"0030-fe0f-20e3":[["\\u0030\\uFE0F\\u20E3","\\u0030\\u20E3"],"\\uE225","\\uDBBA\\uDC37",["zero"],0,2,7,0],\n\t\t"0031-fe0f-20e3":[["\\u0031\\uFE0F\\u20E3","\\u0031\\u20E3"],"\\uE21C","\\uDBBA\\uDC2E",["one"],0,3,7,0],\n\t\t"0032-fe0f-20e3":[["\\u0032\\uFE0F\\u20E3","\\u0032\\u20E3"],"\\uE21D","\\uDBBA\\uDC2F",["two"],0,4,7,0],\n\t\t"0033-fe0f-20e3":[["\\u0033\\uFE0F\\u20E3","\\u0033\\u20E3"],"\\uE21E","\\uDBBA\\uDC30",["three"],0,5,7,0],\n\t\t"0034-fe0f-20e3":[["\\u0034\\uFE0F\\u20E3","\\u0034\\u20E3"],"\\uE21F","\\uDBBA\\uDC31",["four"],0,6,7,0],\n\t\t"0035-fe0f-20e3":[["\\u0035\\uFE0F\\u20E3","\\u0035\\u20E3"],"\\uE220","\\uDBBA\\uDC32",["five"],0,7,7,0],\n\t\t"0036-fe0f-20e3":[["\\u0036\\uFE0F\\u20E3","\\u0036\\u20E3"],"\\uE221","\\uDBBA\\uDC33",["six"],0,8,7,0],\n\t\t"0037-fe0f-20e3":[["\\u0037\\uFE0F\\u20E3","\\u0037\\u20E3"],"\\uE222","\\uDBBA\\uDC34",["seven"],0,9,7,0],\n\t\t"0038-fe0f-20e3":[["\\u0038\\uFE0F\\u20E3","\\u0038\\u20E3"],"\\uE223","\\uDBBA\\uDC35",["eight"],0,10,7,0],\n\t\t"0039-fe0f-20e3":[["\\u0039\\uFE0F\\u20E3","\\u0039\\u20E3"],"\\uE224","\\uDBBA\\uDC36",["nine"],0,11,7,0],\n\t\t"00a9-fe0f":[["\\u00A9\\uFE0F","\\u00A9"],"\\uE24E","\\uDBBA\\uDF29",["copyright"],0,12,3,0],\n\t\t"00ae-fe0f":[["\\u00AE\\uFE0F","\\u00AE"],"\\uE24F","\\uDBBA\\uDF2D",["registered"],0,13,3,0],\n\t\t"1f004":[["\\uD83C\\uDC04"],"\\uE12D","\\uDBBA\\uDC0B",["mahjong"],0,14,31,0],\n\t\t"1f0cf":[["\\uD83C\\uDCCF"],"","\\uDBBA\\uDC12",["black_joker"],0,15,31,0],\n\t\t"1f170-fe0f":[["\\uD83C\\uDD70\\uFE0F","\\uD83C\\uDD70"],"\\uE532","\\uDBB9\\uDD0B",["a"],0,16,31,0],\n\t\t"1f171-fe0f":[["\\uD83C\\uDD71\\uFE0F","\\uD83C\\uDD71"],"\\uE533","\\uDBB9\\uDD0C",["b"],0,17,31,0],\n\t\t"1f17e-fe0f":[["\\uD83C\\uDD7E\\uFE0F","\\uD83C\\uDD7E"],"\\uE535","\\uDBB9\\uDD0E",["o2"],0,18,31,0],\n\t\t"1f17f-fe0f":[["\\uD83C\\uDD7F\\uFE0F","\\uD83C\\uDD7F"],"\\uE14F","\\uDBB9\\uDFF6",["parking"],0,19,31,0],\n\t\t"1f18e":[["\\uD83C\\uDD8E"],"\\uE534","\\uDBB9\\uDD0D",["ab"],0,20,31,0],\n\t\t"1f191":[["\\uD83C\\uDD91"],"","\\uDBBA\\uDF84",["cl"],0,21,31,0],\n\t\t"1f192":[["\\uD83C\\uDD92"],"\\uE214","\\uDBBA\\uDF38",["cool"],0,22,31,0],\n\t\t"1f193":[["\\uD83C\\uDD93"],"","\\uDBBA\\uDF21",["free"],0,23,31,0],\n\t\t"1f194":[["\\uD83C\\uDD94"],"\\uE229","\\uDBBA\\uDF81",["id"],0,24,31,0],\n\t\t"1f195":[["\\uD83C\\uDD95"],"\\uE212","\\uDBBA\\uDF36",["new"],0,25,31,0],\n\t\t"1f196":[["\\uD83C\\uDD96"],"","\\uDBBA\\uDF28",["ng"],0,26,31,0],\n\t\t"1f197":[["\\uD83C\\uDD97"],"\\uE24D","\\uDBBA\\uDF27",["ok"],0,27,31,0],\n\t\t"1f198":[["\\uD83C\\uDD98"],"","\\uDBBA\\uDF4F",["sos"],0,28,31,0],\n\t\t"1f199":[["\\uD83C\\uDD99"],"\\uE213","\\uDBBA\\uDF37",["up"],0,29,31,0],\n\t\t"1f19a":[["\\uD83C\\uDD9A"],"\\uE12E","\\uDBBA\\uDF32",["vs"],0,30,31,0],\n\t\t"1f1e6-1f1e8":[["\\uD83C\\uDDE6\\uD83C\\uDDE8"],"","",["flag-ac"],0,31,31,0],\n\t\t"1f1e6-1f1e9":[["\\uD83C\\uDDE6\\uD83C\\uDDE9"],"","",["flag-ad"],0,32,31,0],\n\t\t"1f1e6-1f1ea":[["\\uD83C\\uDDE6\\uD83C\\uDDEA"],"","",["flag-ae"],0,33,31,0],\n\t\t"1f1e6-1f1eb":[["\\uD83C\\uDDE6\\uD83C\\uDDEB"],"","",["flag-af"],0,34,31,0],\n\t\t"1f1e6-1f1ec":[["\\uD83C\\uDDE6\\uD83C\\uDDEC"],"","",["flag-ag"],0,35,31,0],\n\t\t"1f1e6-1f1ee":[["\\uD83C\\uDDE6\\uD83C\\uDDEE"],"","",["flag-ai"],0,36,31,0],\n\t\t"1f1e6-1f1f1":[["\\uD83C\\uDDE6\\uD83C\\uDDF1"],"","",["flag-al"],0,37,31,0],\n\t\t"1f1e6-1f1f2":[["\\uD83C\\uDDE6\\uD83C\\uDDF2"],"","",["flag-am"],0,38,31,0],\n\t\t"1f1e6-1f1f4":[["\\uD83C\\uDDE6\\uD83C\\uDDF4"],"","",["flag-ao"],0,39,31,0],\n\t\t"1f1e6-1f1f6":[["\\uD83C\\uDDE6\\uD83C\\uDDF6"],"","",["flag-aq"],0,40,31,0],\n\t\t"1f1e6-1f1f7":[["\\uD83C\\uDDE6\\uD83C\\uDDF7"],"","",["flag-ar"],0,41,31,0],\n\t\t"1f1e6-1f1f8":[["\\uD83C\\uDDE6\\uD83C\\uDDF8"],"","",["flag-as"],0,42,31,0],\n\t\t"1f1e6-1f1f9":[["\\uD83C\\uDDE6\\uD83C\\uDDF9"],"","",["flag-at"],0,43,31,0],\n\t\t"1f1e6-1f1fa":[["\\uD83C\\uDDE6\\uD83C\\uDDFA"],"","",["flag-au"],0,44,31,0],\n\t\t"1f1e6-1f1fc":[["\\uD83C\\uDDE6\\uD83C\\uDDFC"],"","",["flag-aw"],0,45,31,0],\n\t\t"1f1e6-1f1fd":[["\\uD83C\\uDDE6\\uD83C\\uDDFD"],"","",["flag-ax"],0,46,31,0],\n\t\t"1f1e6-1f1ff":[["\\uD83C\\uDDE6\\uD83C\\uDDFF"],"","",["flag-az"],0,47,31,0],\n\t\t"1f1e7-1f1e6":[["\\uD83C\\uDDE7\\uD83C\\uDDE6"],"","",["flag-ba"],0,48,15,0],\n\t\t"1f1e7-1f1e7":[["\\uD83C\\uDDE7\\uD83C\\uDDE7"],"","",["flag-bb"],0,49,31,0],\n\t\t"1f1e7-1f1e9":[["\\uD83C\\uDDE7\\uD83C\\uDDE9"],"","",["flag-bd"],0,50,31,0],\n\t\t"1f1e7-1f1ea":[["\\uD83C\\uDDE7\\uD83C\\uDDEA"],"","",["flag-be"],0,51,31,0],\n\t\t"1f1e7-1f1eb":[["\\uD83C\\uDDE7\\uD83C\\uDDEB"],"","",["flag-bf"],1,0,31,0],\n\t\t"1f1e7-1f1ec":[["\\uD83C\\uDDE7\\uD83C\\uDDEC"],"","",["flag-bg"],1,1,31,0],\n\t\t"1f1e7-1f1ed":[["\\uD83C\\uDDE7\\uD83C\\uDDED"],"","",["flag-bh"],1,2,31,0],\n\t\t"1f1e7-1f1ee":[["\\uD83C\\uDDE7\\uD83C\\uDDEE"],"","",["flag-bi"],1,3,31,0],\n\t\t"1f1e7-1f1ef":[["\\uD83C\\uDDE7\\uD83C\\uDDEF"],"","",["flag-bj"],1,4,31,0],\n\t\t"1f1e7-1f1f1":[["\\uD83C\\uDDE7\\uD83C\\uDDF1"],"","",["flag-bl"],1,5,29,0],\n\t\t"1f1e7-1f1f2":[["\\uD83C\\uDDE7\\uD83C\\uDDF2"],"","",["flag-bm"],1,6,31,0],\n\t\t"1f1e7-1f1f3":[["\\uD83C\\uDDE7\\uD83C\\uDDF3"],"","",["flag-bn"],1,7,15,0],\n\t\t"1f1e7-1f1f4":[["\\uD83C\\uDDE7\\uD83C\\uDDF4"],"","",["flag-bo"],1,8,31,0],\n\t\t"1f1e7-1f1f6":[["\\uD83C\\uDDE7\\uD83C\\uDDF6"],"","",["flag-bq"],1,9,29,0],\n\t\t"1f1e7-1f1f7":[["\\uD83C\\uDDE7\\uD83C\\uDDF7"],"","",["flag-br"],1,10,31,0],\n\t\t"1f1e7-1f1f8":[["\\uD83C\\uDDE7\\uD83C\\uDDF8"],"","",["flag-bs"],1,11,31,0],\n\t\t"1f1e7-1f1f9":[["\\uD83C\\uDDE7\\uD83C\\uDDF9"],"","",["flag-bt"],1,12,31,0],\n\t\t"1f1e7-1f1fb":[["\\uD83C\\uDDE7\\uD83C\\uDDFB"],"","",["flag-bv"],1,13,31,0],\n\t\t"1f1e7-1f1fc":[["\\uD83C\\uDDE7\\uD83C\\uDDFC"],"","",["flag-bw"],1,14,31,0],\n\t\t"1f1e7-1f1fe":[["\\uD83C\\uDDE7\\uD83C\\uDDFE"],"","",["flag-by"],1,15,31,0],\n\t\t"1f1e7-1f1ff":[["\\uD83C\\uDDE7\\uD83C\\uDDFF"],"","",["flag-bz"],1,16,31,0],\n\t\t"1f1e8-1f1e6":[["\\uD83C\\uDDE8\\uD83C\\uDDE6"],"","",["flag-ca"],1,17,31,0],\n\t\t"1f1e8-1f1e8":[["\\uD83C\\uDDE8\\uD83C\\uDDE8"],"","",["flag-cc"],1,18,31,0],\n\t\t"1f1e8-1f1e9":[["\\uD83C\\uDDE8\\uD83C\\uDDE9"],"","",["flag-cd"],1,19,31,0],\n\t\t"1f1e8-1f1eb":[["\\uD83C\\uDDE8\\uD83C\\uDDEB"],"","",["flag-cf"],1,20,31,0],\n\t\t"1f1e8-1f1ec":[["\\uD83C\\uDDE8\\uD83C\\uDDEC"],"","",["flag-cg"],1,21,31,0],\n\t\t"1f1e8-1f1ed":[["\\uD83C\\uDDE8\\uD83C\\uDDED"],"","",["flag-ch"],1,22,31,0],\n\t\t"1f1e8-1f1ee":[["\\uD83C\\uDDE8\\uD83C\\uDDEE"],"","",["flag-ci"],1,23,31,0],\n\t\t"1f1e8-1f1f0":[["\\uD83C\\uDDE8\\uD83C\\uDDF0"],"","",["flag-ck"],1,24,31,0],\n\t\t"1f1e8-1f1f1":[["\\uD83C\\uDDE8\\uD83C\\uDDF1"],"","",["flag-cl"],1,25,31,0],\n\t\t"1f1e8-1f1f2":[["\\uD83C\\uDDE8\\uD83C\\uDDF2"],"","",["flag-cm"],1,26,31,0],\n\t\t"1f1e8-1f1f3":[["\\uD83C\\uDDE8\\uD83C\\uDDF3"],"\\uE513","\\uDBB9\\uDCED",["cn","flag-cn"],1,27,31,0],\n\t\t"1f1e8-1f1f4":[["\\uD83C\\uDDE8\\uD83C\\uDDF4"],"","",["flag-co"],1,28,31,0],\n\t\t"1f1e8-1f1f5":[["\\uD83C\\uDDE8\\uD83C\\uDDF5"],"","",["flag-cp"],1,29,15,0],\n\t\t"1f1e8-1f1f7":[["\\uD83C\\uDDE8\\uD83C\\uDDF7"],"","",["flag-cr"],1,30,31,0],\n\t\t"1f1e8-1f1fa":[["\\uD83C\\uDDE8\\uD83C\\uDDFA"],"","",["flag-cu"],1,31,31,0],\n\t\t"1f1e8-1f1fb":[["\\uD83C\\uDDE8\\uD83C\\uDDFB"],"","",["flag-cv"],1,32,31,0],\n\t\t"1f1e8-1f1fc":[["\\uD83C\\uDDE8\\uD83C\\uDDFC"],"","",["flag-cw"],1,33,31,0],\n\t\t"1f1e8-1f1fd":[["\\uD83C\\uDDE8\\uD83C\\uDDFD"],"","",["flag-cx"],1,34,31,0],\n\t\t"1f1e8-1f1fe":[["\\uD83C\\uDDE8\\uD83C\\uDDFE"],"","",["flag-cy"],1,35,31,0],\n\t\t"1f1e8-1f1ff":[["\\uD83C\\uDDE8\\uD83C\\uDDFF"],"","",["flag-cz"],1,36,31,0],\n\t\t"1f1e9-1f1ea":[["\\uD83C\\uDDE9\\uD83C\\uDDEA"],"\\uE50E","\\uDBB9\\uDCE8",["de","flag-de"],1,37,31,0],\n\t\t"1f1e9-1f1ec":[["\\uD83C\\uDDE9\\uD83C\\uDDEC"],"","",["flag-dg"],1,38,29,0],\n\t\t"1f1e9-1f1ef":[["\\uD83C\\uDDE9\\uD83C\\uDDEF"],"","",["flag-dj"],1,39,31,0],\n\t\t"1f1e9-1f1f0":[["\\uD83C\\uDDE9\\uD83C\\uDDF0"],"","",["flag-dk"],1,40,31,0],\n\t\t"1f1e9-1f1f2":[["\\uD83C\\uDDE9\\uD83C\\uDDF2"],"","",["flag-dm"],1,41,31,0],\n\t\t"1f1e9-1f1f4":[["\\uD83C\\uDDE9\\uD83C\\uDDF4"],"","",["flag-do"],1,42,31,0],\n\t\t"1f1e9-1f1ff":[["\\uD83C\\uDDE9\\uD83C\\uDDFF"],"","",["flag-dz"],1,43,31,0],\n\t\t"1f1ea-1f1e6":[["\\uD83C\\uDDEA\\uD83C\\uDDE6"],"","",["flag-ea"],1,44,29,0],\n\t\t"1f1ea-1f1e8":[["\\uD83C\\uDDEA\\uD83C\\uDDE8"],"","",["flag-ec"],1,45,31,0],\n\t\t"1f1ea-1f1ea":[["\\uD83C\\uDDEA\\uD83C\\uDDEA"],"","",["flag-ee"],1,46,31,0],\n\t\t"1f1ea-1f1ec":[["\\uD83C\\uDDEA\\uD83C\\uDDEC"],"","",["flag-eg"],1,47,31,0],\n\t\t"1f1ea-1f1ed":[["\\uD83C\\uDDEA\\uD83C\\uDDED"],"","",["flag-eh"],1,48,29,0],\n\t\t"1f1ea-1f1f7":[["\\uD83C\\uDDEA\\uD83C\\uDDF7"],"","",["flag-er"],1,49,31,0],\n\t\t"1f1ea-1f1f8":[["\\uD83C\\uDDEA\\uD83C\\uDDF8"],"\\uE511","\\uDBB9\\uDCEB",["es","flag-es"],1,50,31,0],\n\t\t"1f1ea-1f1f9":[["\\uD83C\\uDDEA\\uD83C\\uDDF9"],"","",["flag-et"],1,51,31,0],\n\t\t"1f1ea-1f1fa":[["\\uD83C\\uDDEA\\uD83C\\uDDFA"],"","",["flag-eu"],2,0,31,0],\n\t\t"1f1eb-1f1ee":[["\\uD83C\\uDDEB\\uD83C\\uDDEE"],"","",["flag-fi"],2,1,31,0],\n\t\t"1f1eb-1f1ef":[["\\uD83C\\uDDEB\\uD83C\\uDDEF"],"","",["flag-fj"],2,2,31,0],\n\t\t"1f1eb-1f1f0":[["\\uD83C\\uDDEB\\uD83C\\uDDF0"],"","",["flag-fk"],2,3,29,0],\n\t\t"1f1eb-1f1f2":[["\\uD83C\\uDDEB\\uD83C\\uDDF2"],"","",["flag-fm"],2,4,31,0],\n\t\t"1f1eb-1f1f4":[["\\uD83C\\uDDEB\\uD83C\\uDDF4"],"","",["flag-fo"],2,5,31,0],\n\t\t"1f1eb-1f1f7":[["\\uD83C\\uDDEB\\uD83C\\uDDF7"],"\\uE50D","\\uDBB9\\uDCE7",["fr","flag-fr"],2,6,31,0],\n\t\t"1f1ec-1f1e6":[["\\uD83C\\uDDEC\\uD83C\\uDDE6"],"","",["flag-ga"],2,7,31,0],\n\t\t"1f1ec-1f1e7":[["\\uD83C\\uDDEC\\uD83C\\uDDE7"],"\\uE510","\\uDBB9\\uDCEA",["gb","uk","flag-gb"],2,8,31,0],\n\t\t"1f1ec-1f1e9":[["\\uD83C\\uDDEC\\uD83C\\uDDE9"],"","",["flag-gd"],2,9,31,0],\n\t\t"1f1ec-1f1ea":[["\\uD83C\\uDDEC\\uD83C\\uDDEA"],"","",["flag-ge"],2,10,31,0],\n\t\t"1f1ec-1f1eb":[["\\uD83C\\uDDEC\\uD83C\\uDDEB"],"","",["flag-gf"],2,11,29,0],\n\t\t"1f1ec-1f1ec":[["\\uD83C\\uDDEC\\uD83C\\uDDEC"],"","",["flag-gg"],2,12,31,0],\n\t\t"1f1ec-1f1ed":[["\\uD83C\\uDDEC\\uD83C\\uDDED"],"","",["flag-gh"],2,13,31,0],\n\t\t"1f1ec-1f1ee":[["\\uD83C\\uDDEC\\uD83C\\uDDEE"],"","",["flag-gi"],2,14,31,0],\n\t\t"1f1ec-1f1f1":[["\\uD83C\\uDDEC\\uD83C\\uDDF1"],"","",["flag-gl"],2,15,31,0],\n\t\t"1f1ec-1f1f2":[["\\uD83C\\uDDEC\\uD83C\\uDDF2"],"","",["flag-gm"],2,16,31,0],\n\t\t"1f1ec-1f1f3":[["\\uD83C\\uDDEC\\uD83C\\uDDF3"],"","",["flag-gn"],2,17,31,0],\n\t\t"1f1ec-1f1f5":[["\\uD83C\\uDDEC\\uD83C\\uDDF5"],"","",["flag-gp"],2,18,29,0],\n\t\t"1f1ec-1f1f6":[["\\uD83C\\uDDEC\\uD83C\\uDDF6"],"","",["flag-gq"],2,19,31,0],\n\t\t"1f1ec-1f1f7":[["\\uD83C\\uDDEC\\uD83C\\uDDF7"],"","",["flag-gr"],2,20,31,0],\n\t\t"1f1ec-1f1f8":[["\\uD83C\\uDDEC\\uD83C\\uDDF8"],"","",["flag-gs"],2,21,29,0],\n\t\t"1f1ec-1f1f9":[["\\uD83C\\uDDEC\\uD83C\\uDDF9"],"","",["flag-gt"],2,22,31,0],\n\t\t"1f1ec-1f1fa":[["\\uD83C\\uDDEC\\uD83C\\uDDFA"],"","",["flag-gu"],2,23,31,0],\n\t\t"1f1ec-1f1fc":[["\\uD83C\\uDDEC\\uD83C\\uDDFC"],"","",["flag-gw"],2,24,31,0],\n\t\t"1f1ec-1f1fe":[["\\uD83C\\uDDEC\\uD83C\\uDDFE"],"","",["flag-gy"],2,25,31,0],\n\t\t"1f1ed-1f1f0":[["\\uD83C\\uDDED\\uD83C\\uDDF0"],"","",["flag-hk"],2,26,31,0],\n\t\t"1f1ed-1f1f2":[["\\uD83C\\uDDED\\uD83C\\uDDF2"],"","",["flag-hm"],2,27,31,0],\n\t\t"1f1ed-1f1f3":[["\\uD83C\\uDDED\\uD83C\\uDDF3"],"","",["flag-hn"],2,28,31,0],\n\t\t"1f1ed-1f1f7":[["\\uD83C\\uDDED\\uD83C\\uDDF7"],"","",["flag-hr"],2,29,31,0],\n\t\t"1f1ed-1f1f9":[["\\uD83C\\uDDED\\uD83C\\uDDF9"],"","",["flag-ht"],2,30,31,0],\n\t\t"1f1ed-1f1fa":[["\\uD83C\\uDDED\\uD83C\\uDDFA"],"","",["flag-hu"],2,31,31,0],\n\t\t"1f1ee-1f1e8":[["\\uD83C\\uDDEE\\uD83C\\uDDE8"],"","",["flag-ic"],2,32,31,0],\n\t\t"1f1ee-1f1e9":[["\\uD83C\\uDDEE\\uD83C\\uDDE9"],"","",["flag-id"],2,33,31,0],\n\t\t"1f1ee-1f1ea":[["\\uD83C\\uDDEE\\uD83C\\uDDEA"],"","",["flag-ie"],2,34,31,0],\n\t\t"1f1ee-1f1f1":[["\\uD83C\\uDDEE\\uD83C\\uDDF1"],"","",["flag-il"],2,35,31,0],\n\t\t"1f1ee-1f1f2":[["\\uD83C\\uDDEE\\uD83C\\uDDF2"],"","",["flag-im"],2,36,31,0],\n\t\t"1f1ee-1f1f3":[["\\uD83C\\uDDEE\\uD83C\\uDDF3"],"","",["flag-in"],2,37,31,0],\n\t\t"1f1ee-1f1f4":[["\\uD83C\\uDDEE\\uD83C\\uDDF4"],"","",["flag-io"],2,38,31,0],\n\t\t"1f1ee-1f1f6":[["\\uD83C\\uDDEE\\uD83C\\uDDF6"],"","",["flag-iq"],2,39,31,0],\n\t\t"1f1ee-1f1f7":[["\\uD83C\\uDDEE\\uD83C\\uDDF7"],"","",["flag-ir"],2,40,31,0],\n\t\t"1f1ee-1f1f8":[["\\uD83C\\uDDEE\\uD83C\\uDDF8"],"","",["flag-is"],2,41,31,0],\n\t\t"1f1ee-1f1f9":[["\\uD83C\\uDDEE\\uD83C\\uDDF9"],"\\uE50F","\\uDBB9\\uDCE9",["it","flag-it"],2,42,31,0],\n\t\t"1f1ef-1f1ea":[["\\uD83C\\uDDEF\\uD83C\\uDDEA"],"","",["flag-je"],2,43,31,0],\n\t\t"1f1ef-1f1f2":[["\\uD83C\\uDDEF\\uD83C\\uDDF2"],"","",["flag-jm"],2,44,31,0],\n\t\t"1f1ef-1f1f4":[["\\uD83C\\uDDEF\\uD83C\\uDDF4"],"","",["flag-jo"],2,45,31,0],\n\t\t"1f1ef-1f1f5":[["\\uD83C\\uDDEF\\uD83C\\uDDF5"],"\\uE50B","\\uDBB9\\uDCE5",["jp","flag-jp"],2,46,31,0],\n\t\t"1f1f0-1f1ea":[["\\uD83C\\uDDF0\\uD83C\\uDDEA"],"","",["flag-ke"],2,47,31,0],\n\t\t"1f1f0-1f1ec":[["\\uD83C\\uDDF0\\uD83C\\uDDEC"],"","",["flag-kg"],2,48,31,0],\n\t\t"1f1f0-1f1ed":[["\\uD83C\\uDDF0\\uD83C\\uDDED"],"","",["flag-kh"],2,49,31,0],\n\t\t"1f1f0-1f1ee":[["\\uD83C\\uDDF0\\uD83C\\uDDEE"],"","",["flag-ki"],2,50,31,0],\n\t\t"1f1f0-1f1f2":[["\\uD83C\\uDDF0\\uD83C\\uDDF2"],"","",["flag-km"],2,51,31,0],\n\t\t"1f1f0-1f1f3":[["\\uD83C\\uDDF0\\uD83C\\uDDF3"],"","",["flag-kn"],3,0,31,0],\n\t\t"1f1f0-1f1f5":[["\\uD83C\\uDDF0\\uD83C\\uDDF5"],"","",["flag-kp"],3,1,31,0],\n\t\t"1f1f0-1f1f7":[["\\uD83C\\uDDF0\\uD83C\\uDDF7"],"\\uE514","\\uDBB9\\uDCEE",["kr","flag-kr"],3,2,31,0],\n\t\t"1f1f0-1f1fc":[["\\uD83C\\uDDF0\\uD83C\\uDDFC"],"","",["flag-kw"],3,3,31,0],\n\t\t"1f1f0-1f1fe":[["\\uD83C\\uDDF0\\uD83C\\uDDFE"],"","",["flag-ky"],3,4,31,0],\n\t\t"1f1f0-1f1ff":[["\\uD83C\\uDDF0\\uD83C\\uDDFF"],"","",["flag-kz"],3,5,31,0],\n\t\t"1f1f1-1f1e6":[["\\uD83C\\uDDF1\\uD83C\\uDDE6"],"","",["flag-la"],3,6,31,0],\n\t\t"1f1f1-1f1e7":[["\\uD83C\\uDDF1\\uD83C\\uDDE7"],"","",["flag-lb"],3,7,31,0],\n\t\t"1f1f1-1f1e8":[["\\uD83C\\uDDF1\\uD83C\\uDDE8"],"","",["flag-lc"],3,8,31,0],\n\t\t"1f1f1-1f1ee":[["\\uD83C\\uDDF1\\uD83C\\uDDEE"],"","",["flag-li"],3,9,31,0],\n\t\t"1f1f1-1f1f0":[["\\uD83C\\uDDF1\\uD83C\\uDDF0"],"","",["flag-lk"],3,10,31,0],\n\t\t"1f1f1-1f1f7":[["\\uD83C\\uDDF1\\uD83C\\uDDF7"],"","",["flag-lr"],3,11,31,0],\n\t\t"1f1f1-1f1f8":[["\\uD83C\\uDDF1\\uD83C\\uDDF8"],"","",["flag-ls"],3,12,31,0],\n\t\t"1f1f1-1f1f9":[["\\uD83C\\uDDF1\\uD83C\\uDDF9"],"","",["flag-lt"],3,13,31,0],\n\t\t"1f1f1-1f1fa":[["\\uD83C\\uDDF1\\uD83C\\uDDFA"],"","",["flag-lu"],3,14,31,0],\n\t\t"1f1f1-1f1fb":[["\\uD83C\\uDDF1\\uD83C\\uDDFB"],"","",["flag-lv"],3,15,31,0],\n\t\t"1f1f1-1f1fe":[["\\uD83C\\uDDF1\\uD83C\\uDDFE"],"","",["flag-ly"],3,16,31,0],\n\t\t"1f1f2-1f1e6":[["\\uD83C\\uDDF2\\uD83C\\uDDE6"],"","",["flag-ma"],3,17,31,0],\n\t\t"1f1f2-1f1e8":[["\\uD83C\\uDDF2\\uD83C\\uDDE8"],"","",["flag-mc"],3,18,31,0],\n\t\t"1f1f2-1f1e9":[["\\uD83C\\uDDF2\\uD83C\\uDDE9"],"","",["flag-md"],3,19,31,0],\n\t\t"1f1f2-1f1ea":[["\\uD83C\\uDDF2\\uD83C\\uDDEA"],"","",["flag-me"],3,20,31,0],\n\t\t"1f1f2-1f1eb":[["\\uD83C\\uDDF2\\uD83C\\uDDEB"],"","",["flag-mf"],3,21,29,0],\n\t\t"1f1f2-1f1ec":[["\\uD83C\\uDDF2\\uD83C\\uDDEC"],"","",["flag-mg"],3,22,31,0],\n\t\t"1f1f2-1f1ed":[["\\uD83C\\uDDF2\\uD83C\\uDDED"],"","",["flag-mh"],3,23,31,0],\n\t\t"1f1f2-1f1f0":[["\\uD83C\\uDDF2\\uD83C\\uDDF0"],"","",["flag-mk"],3,24,31,0],\n\t\t"1f1f2-1f1f1":[["\\uD83C\\uDDF2\\uD83C\\uDDF1"],"","",["flag-ml"],3,25,31,0],\n\t\t"1f1f2-1f1f2":[["\\uD83C\\uDDF2\\uD83C\\uDDF2"],"","",["flag-mm"],3,26,31,0],\n\t\t"1f1f2-1f1f3":[["\\uD83C\\uDDF2\\uD83C\\uDDF3"],"","",["flag-mn"],3,27,31,0],\n\t\t"1f1f2-1f1f4":[["\\uD83C\\uDDF2\\uD83C\\uDDF4"],"","",["flag-mo"],3,28,31,0],\n\t\t"1f1f2-1f1f5":[["\\uD83C\\uDDF2\\uD83C\\uDDF5"],"","",["flag-mp"],3,29,31,0],\n\t\t"1f1f2-1f1f6":[["\\uD83C\\uDDF2\\uD83C\\uDDF6"],"","",["flag-mq"],3,30,29,0],\n\t\t"1f1f2-1f1f7":[["\\uD83C\\uDDF2\\uD83C\\uDDF7"],"","",["flag-mr"],3,31,31,0],\n\t\t"1f1f2-1f1f8":[["\\uD83C\\uDDF2\\uD83C\\uDDF8"],"","",["flag-ms"],3,32,31,0],\n\t\t"1f1f2-1f1f9":[["\\uD83C\\uDDF2\\uD83C\\uDDF9"],"","",["flag-mt"],3,33,31,0],\n\t\t"1f1f2-1f1fa":[["\\uD83C\\uDDF2\\uD83C\\uDDFA"],"","",["flag-mu"],3,34,31,0],\n\t\t"1f1f2-1f1fb":[["\\uD83C\\uDDF2\\uD83C\\uDDFB"],"","",["flag-mv"],3,35,31,0],\n\t\t"1f1f2-1f1fc":[["\\uD83C\\uDDF2\\uD83C\\uDDFC"],"","",["flag-mw"],3,36,31,0],\n\t\t"1f1f2-1f1fd":[["\\uD83C\\uDDF2\\uD83C\\uDDFD"],"","",["flag-mx"],3,37,31,0],\n\t\t"1f1f2-1f1fe":[["\\uD83C\\uDDF2\\uD83C\\uDDFE"],"","",["flag-my"],3,38,31,0],\n\t\t"1f1f2-1f1ff":[["\\uD83C\\uDDF2\\uD83C\\uDDFF"],"","",["flag-mz"],3,39,31,0],\n\t\t"1f1f3-1f1e6":[["\\uD83C\\uDDF3\\uD83C\\uDDE6"],"","",["flag-na"],3,40,31,0],\n\t\t"1f1f3-1f1e8":[["\\uD83C\\uDDF3\\uD83C\\uDDE8"],"","",["flag-nc"],3,41,29,0],\n\t\t"1f1f3-1f1ea":[["\\uD83C\\uDDF3\\uD83C\\uDDEA"],"","",["flag-ne"],3,42,31,0],\n\t\t"1f1f3-1f1eb":[["\\uD83C\\uDDF3\\uD83C\\uDDEB"],"","",["flag-nf"],3,43,31,0],\n\t\t"1f1f3-1f1ec":[["\\uD83C\\uDDF3\\uD83C\\uDDEC"],"","",["flag-ng"],3,44,31,0],\n\t\t"1f1f3-1f1ee":[["\\uD83C\\uDDF3\\uD83C\\uDDEE"],"","",["flag-ni"],3,45,31,0],\n\t\t"1f1f3-1f1f1":[["\\uD83C\\uDDF3\\uD83C\\uDDF1"],"","",["flag-nl"],3,46,31,0],\n\t\t"1f1f3-1f1f4":[["\\uD83C\\uDDF3\\uD83C\\uDDF4"],"","",["flag-no"],3,47,31,0],\n\t\t"1f1f3-1f1f5":[["\\uD83C\\uDDF3\\uD83C\\uDDF5"],"","",["flag-np"],3,48,31,0],\n\t\t"1f1f3-1f1f7":[["\\uD83C\\uDDF3\\uD83C\\uDDF7"],"","",["flag-nr"],3,49,31,0],\n\t\t"1f1f3-1f1fa":[["\\uD83C\\uDDF3\\uD83C\\uDDFA"],"","",["flag-nu"],3,50,31,0],\n\t\t"1f1f3-1f1ff":[["\\uD83C\\uDDF3\\uD83C\\uDDFF"],"","",["flag-nz"],3,51,31,0],\n\t\t"1f1f4-1f1f2":[["\\uD83C\\uDDF4\\uD83C\\uDDF2"],"","",["flag-om"],4,0,31,0],\n\t\t"1f1f5-1f1e6":[["\\uD83C\\uDDF5\\uD83C\\uDDE6"],"","",["flag-pa"],4,1,31,0],\n\t\t"1f1f5-1f1ea":[["\\uD83C\\uDDF5\\uD83C\\uDDEA"],"","",["flag-pe"],4,2,31,0],\n\t\t"1f1f5-1f1eb":[["\\uD83C\\uDDF5\\uD83C\\uDDEB"],"","",["flag-pf"],4,3,31,0],\n\t\t"1f1f5-1f1ec":[["\\uD83C\\uDDF5\\uD83C\\uDDEC"],"","",["flag-pg"],4,4,31,0],\n\t\t"1f1f5-1f1ed":[["\\uD83C\\uDDF5\\uD83C\\uDDED"],"","",["flag-ph"],4,5,31,0],\n\t\t"1f1f5-1f1f0":[["\\uD83C\\uDDF5\\uD83C\\uDDF0"],"","",["flag-pk"],4,6,31,0],\n\t\t"1f1f5-1f1f1":[["\\uD83C\\uDDF5\\uD83C\\uDDF1"],"","",["flag-pl"],4,7,31,0],\n\t\t"1f1f5-1f1f2":[["\\uD83C\\uDDF5\\uD83C\\uDDF2"],"","",["flag-pm"],4,8,29,0],\n\t\t"1f1f5-1f1f3":[["\\uD83C\\uDDF5\\uD83C\\uDDF3"],"","",["flag-pn"],4,9,31,0],\n\t\t"1f1f5-1f1f7":[["\\uD83C\\uDDF5\\uD83C\\uDDF7"],"","",["flag-pr"],4,10,31,0],\n\t\t"1f1f5-1f1f8":[["\\uD83C\\uDDF5\\uD83C\\uDDF8"],"","",["flag-ps"],4,11,31,0],\n\t\t"1f1f5-1f1f9":[["\\uD83C\\uDDF5\\uD83C\\uDDF9"],"","",["flag-pt"],4,12,31,0],\n\t\t"1f1f5-1f1fc":[["\\uD83C\\uDDF5\\uD83C\\uDDFC"],"","",["flag-pw"],4,13,31,0],\n\t\t"1f1f5-1f1fe":[["\\uD83C\\uDDF5\\uD83C\\uDDFE"],"","",["flag-py"],4,14,31,0],\n\t\t"1f1f6-1f1e6":[["\\uD83C\\uDDF6\\uD83C\\uDDE6"],"","",["flag-qa"],4,15,31,0],\n\t\t"1f1f7-1f1ea":[["\\uD83C\\uDDF7\\uD83C\\uDDEA"],"","",["flag-re"],4,16,29,0],\n\t\t"1f1f7-1f1f4":[["\\uD83C\\uDDF7\\uD83C\\uDDF4"],"","",["flag-ro"],4,17,31,0],\n\t\t"1f1f7-1f1f8":[["\\uD83C\\uDDF7\\uD83C\\uDDF8"],"","",["flag-rs"],4,18,31,0],\n\t\t"1f1f7-1f1fa":[["\\uD83C\\uDDF7\\uD83C\\uDDFA"],"\\uE512","\\uDBB9\\uDCEC",["ru","flag-ru"],4,19,31,0],\n\t\t"1f1f7-1f1fc":[["\\uD83C\\uDDF7\\uD83C\\uDDFC"],"","",["flag-rw"],4,20,31,0],\n\t\t"1f1f8-1f1e6":[["\\uD83C\\uDDF8\\uD83C\\uDDE6"],"","",["flag-sa"],4,21,31,0],\n\t\t"1f1f8-1f1e7":[["\\uD83C\\uDDF8\\uD83C\\uDDE7"],"","",["flag-sb"],4,22,31,0],\n\t\t"1f1f8-1f1e8":[["\\uD83C\\uDDF8\\uD83C\\uDDE8"],"","",["flag-sc"],4,23,31,0],\n\t\t"1f1f8-1f1e9":[["\\uD83C\\uDDF8\\uD83C\\uDDE9"],"","",["flag-sd"],4,24,31,0],\n\t\t"1f1f8-1f1ea":[["\\uD83C\\uDDF8\\uD83C\\uDDEA"],"","",["flag-se"],4,25,31,0],\n\t\t"1f1f8-1f1ec":[["\\uD83C\\uDDF8\\uD83C\\uDDEC"],"","",["flag-sg"],4,26,31,0],\n\t\t"1f1f8-1f1ed":[["\\uD83C\\uDDF8\\uD83C\\uDDED"],"","",["flag-sh"],4,27,31,0],\n\t\t"1f1f8-1f1ee":[["\\uD83C\\uDDF8\\uD83C\\uDDEE"],"","",["flag-si"],4,28,31,0],\n\t\t"1f1f8-1f1ef":[["\\uD83C\\uDDF8\\uD83C\\uDDEF"],"","",["flag-sj"],4,29,31,0],\n\t\t"1f1f8-1f1f0":[["\\uD83C\\uDDF8\\uD83C\\uDDF0"],"","",["flag-sk"],4,30,31,0],\n\t\t"1f1f8-1f1f1":[["\\uD83C\\uDDF8\\uD83C\\uDDF1"],"","",["flag-sl"],4,31,31,0],\n\t\t"1f1f8-1f1f2":[["\\uD83C\\uDDF8\\uD83C\\uDDF2"],"","",["flag-sm"],4,32,31,0],\n\t\t"1f1f8-1f1f3":[["\\uD83C\\uDDF8\\uD83C\\uDDF3"],"","",["flag-sn"],4,33,31,0],\n\t\t"1f1f8-1f1f4":[["\\uD83C\\uDDF8\\uD83C\\uDDF4"],"","",["flag-so"],4,34,31,0],\n\t\t"1f1f8-1f1f7":[["\\uD83C\\uDDF8\\uD83C\\uDDF7"],"","",["flag-sr"],4,35,31,0],\n\t\t"1f1f8-1f1f8":[["\\uD83C\\uDDF8\\uD83C\\uDDF8"],"","",["flag-ss"],4,36,31,0],\n\t\t"1f1f8-1f1f9":[["\\uD83C\\uDDF8\\uD83C\\uDDF9"],"","",["flag-st"],4,37,31,0],\n\t\t"1f1f8-1f1fb":[["\\uD83C\\uDDF8\\uD83C\\uDDFB"],"","",["flag-sv"],4,38,31,0],\n\t\t"1f1f8-1f1fd":[["\\uD83C\\uDDF8\\uD83C\\uDDFD"],"","",["flag-sx"],4,39,31,0],\n\t\t"1f1f8-1f1fe":[["\\uD83C\\uDDF8\\uD83C\\uDDFE"],"","",["flag-sy"],4,40,31,0],\n\t\t"1f1f8-1f1ff":[["\\uD83C\\uDDF8\\uD83C\\uDDFF"],"","",["flag-sz"],4,41,31,0],\n\t\t"1f1f9-1f1e6":[["\\uD83C\\uDDF9\\uD83C\\uDDE6"],"","",["flag-ta"],4,42,31,0],\n\t\t"1f1f9-1f1e8":[["\\uD83C\\uDDF9\\uD83C\\uDDE8"],"","",["flag-tc"],4,43,31,0],\n\t\t"1f1f9-1f1e9":[["\\uD83C\\uDDF9\\uD83C\\uDDE9"],"","",["flag-td"],4,44,31,0],\n\t\t"1f1f9-1f1eb":[["\\uD83C\\uDDF9\\uD83C\\uDDEB"],"","",["flag-tf"],4,45,29,0],\n\t\t"1f1f9-1f1ec":[["\\uD83C\\uDDF9\\uD83C\\uDDEC"],"","",["flag-tg"],4,46,31,0],\n\t\t"1f1f9-1f1ed":[["\\uD83C\\uDDF9\\uD83C\\uDDED"],"","",["flag-th"],4,47,31,0],\n\t\t"1f1f9-1f1ef":[["\\uD83C\\uDDF9\\uD83C\\uDDEF"],"","",["flag-tj"],4,48,31,0],\n\t\t"1f1f9-1f1f0":[["\\uD83C\\uDDF9\\uD83C\\uDDF0"],"","",["flag-tk"],4,49,31,0],\n\t\t"1f1f9-1f1f1":[["\\uD83C\\uDDF9\\uD83C\\uDDF1"],"","",["flag-tl"],4,50,31,0],\n\t\t"1f1f9-1f1f2":[["\\uD83C\\uDDF9\\uD83C\\uDDF2"],"","",["flag-tm"],4,51,31,0],\n\t\t"1f1f9-1f1f3":[["\\uD83C\\uDDF9\\uD83C\\uDDF3"],"","",["flag-tn"],5,0,31,0],\n\t\t"1f1f9-1f1f4":[["\\uD83C\\uDDF9\\uD83C\\uDDF4"],"","",["flag-to"],5,1,31,0],\n\t\t"1f1f9-1f1f7":[["\\uD83C\\uDDF9\\uD83C\\uDDF7"],"","",["flag-tr"],5,2,31,0],\n\t\t"1f1f9-1f1f9":[["\\uD83C\\uDDF9\\uD83C\\uDDF9"],"","",["flag-tt"],5,3,31,0],\n\t\t"1f1f9-1f1fb":[["\\uD83C\\uDDF9\\uD83C\\uDDFB"],"","",["flag-tv"],5,4,31,0],\n\t\t"1f1f9-1f1fc":[["\\uD83C\\uDDF9\\uD83C\\uDDFC"],"","",["flag-tw"],5,5,31,0],\n\t\t"1f1f9-1f1ff":[["\\uD83C\\uDDF9\\uD83C\\uDDFF"],"","",["flag-tz"],5,6,31,0],\n\t\t"1f1fa-1f1e6":[["\\uD83C\\uDDFA\\uD83C\\uDDE6"],"","",["flag-ua"],5,7,31,0],\n\t\t"1f1fa-1f1ec":[["\\uD83C\\uDDFA\\uD83C\\uDDEC"],"","",["flag-ug"],5,8,31,0],\n\t\t"1f1fa-1f1f2":[["\\uD83C\\uDDFA\\uD83C\\uDDF2"],"","",["flag-um"],5,9,31,0],\n\t\t"1f1fa-1f1f3":[["\\uD83C\\uDDFA\\uD83C\\uDDF3"],"","",["flag-un"],5,10,14,0],\n\t\t"1f1fa-1f1f8":[["\\uD83C\\uDDFA\\uD83C\\uDDF8"],"\\uE50C","\\uDBB9\\uDCE6",["us","flag-us"],5,11,31,0],\n\t\t"1f1fa-1f1fe":[["\\uD83C\\uDDFA\\uD83C\\uDDFE"],"","",["flag-uy"],5,12,31,0],\n\t\t"1f1fa-1f1ff":[["\\uD83C\\uDDFA\\uD83C\\uDDFF"],"","",["flag-uz"],5,13,31,0],\n\t\t"1f1fb-1f1e6":[["\\uD83C\\uDDFB\\uD83C\\uDDE6"],"","",["flag-va"],5,14,31,0],\n\t\t"1f1fb-1f1e8":[["\\uD83C\\uDDFB\\uD83C\\uDDE8"],"","",["flag-vc"],5,15,31,0],\n\t\t"1f1fb-1f1ea":[["\\uD83C\\uDDFB\\uD83C\\uDDEA"],"","",["flag-ve"],5,16,31,0],\n\t\t"1f1fb-1f1ec":[["\\uD83C\\uDDFB\\uD83C\\uDDEC"],"","",["flag-vg"],5,17,31,0],\n\t\t"1f1fb-1f1ee":[["\\uD83C\\uDDFB\\uD83C\\uDDEE"],"","",["flag-vi"],5,18,31,0],\n\t\t"1f1fb-1f1f3":[["\\uD83C\\uDDFB\\uD83C\\uDDF3"],"","",["flag-vn"],5,19,31,0],\n\t\t"1f1fb-1f1fa":[["\\uD83C\\uDDFB\\uD83C\\uDDFA"],"","",["flag-vu"],5,20,31,0],\n\t\t"1f1fc-1f1eb":[["\\uD83C\\uDDFC\\uD83C\\uDDEB"],"","",["flag-wf"],5,21,29,0],\n\t\t"1f1fc-1f1f8":[["\\uD83C\\uDDFC\\uD83C\\uDDF8"],"","",["flag-ws"],5,22,31,0],\n\t\t"1f1fd-1f1f0":[["\\uD83C\\uDDFD\\uD83C\\uDDF0"],"","",["flag-xk"],5,23,29,0],\n\t\t"1f1fe-1f1ea":[["\\uD83C\\uDDFE\\uD83C\\uDDEA"],"","",["flag-ye"],5,24,31,0],\n\t\t"1f1fe-1f1f9":[["\\uD83C\\uDDFE\\uD83C\\uDDF9"],"","",["flag-yt"],5,25,29,0],\n\t\t"1f1ff-1f1e6":[["\\uD83C\\uDDFF\\uD83C\\uDDE6"],"","",["flag-za"],5,26,31,0],\n\t\t"1f1ff-1f1f2":[["\\uD83C\\uDDFF\\uD83C\\uDDF2"],"","",["flag-zm"],5,27,31,0],\n\t\t"1f1ff-1f1fc":[["\\uD83C\\uDDFF\\uD83C\\uDDFC"],"","",["flag-zw"],5,28,31,0],\n\t\t"1f201":[["\\uD83C\\uDE01"],"\\uE203","\\uDBBA\\uDF24",["koko"],5,29,31,0],\n\t\t"1f202-fe0f":[["\\uD83C\\uDE02\\uFE0F","\\uD83C\\uDE02"],"\\uE228","\\uDBBA\\uDF3F",["sa"],5,30,31,0],\n\t\t"1f21a":[["\\uD83C\\uDE1A"],"\\uE216","\\uDBBA\\uDF3A",["u7121"],5,31,31,0],\n\t\t"1f22f":[["\\uD83C\\uDE2F"],"\\uE22C","\\uDBBA\\uDF40",["u6307"],5,32,31,0],\n\t\t"1f232":[["\\uD83C\\uDE32"],"","\\uDBBA\\uDF2E",["u7981"],5,33,31,0],\n\t\t"1f233":[["\\uD83C\\uDE33"],"\\uE22B","\\uDBBA\\uDF2F",["u7a7a"],5,34,31,0],\n\t\t"1f234":[["\\uD83C\\uDE34"],"","\\uDBBA\\uDF30",["u5408"],5,35,31,0],\n\t\t"1f235":[["\\uD83C\\uDE35"],"\\uE22A","\\uDBBA\\uDF31",["u6e80"],5,36,31,0],\n\t\t"1f236":[["\\uD83C\\uDE36"],"\\uE215","\\uDBBA\\uDF39",["u6709"],5,37,31,0],\n\t\t"1f237-fe0f":[["\\uD83C\\uDE37\\uFE0F","\\uD83C\\uDE37"],"\\uE217","\\uDBBA\\uDF3B",["u6708"],5,38,31,0],\n\t\t"1f238":[["\\uD83C\\uDE38"],"\\uE218","\\uDBBA\\uDF3C",["u7533"],5,39,31,0],\n\t\t"1f239":[["\\uD83C\\uDE39"],"\\uE227","\\uDBBA\\uDF3E",["u5272"],5,40,31,0],\n\t\t"1f23a":[["\\uD83C\\uDE3A"],"\\uE22D","\\uDBBA\\uDF41",["u55b6"],5,41,31,0],\n\t\t"1f250":[["\\uD83C\\uDE50"],"\\uE226","\\uDBBA\\uDF3D",["ideograph_advantage"],5,42,31,0],\n\t\t"1f251":[["\\uD83C\\uDE51"],"","\\uDBBA\\uDF50",["accept"],5,43,31,0],\n\t\t"1f300":[["\\uD83C\\uDF00"],"\\uE443","\\uDBB8\\uDC05",["cyclone"],5,44,31,0],\n\t\t"1f301":[["\\uD83C\\uDF01"],"","\\uDBB8\\uDC06",["foggy"],5,45,31,0],\n\t\t"1f302":[["\\uD83C\\uDF02"],"\\uE43C","\\uDBB8\\uDC07",["closed_umbrella"],5,46,31,0],\n\t\t"1f303":[["\\uD83C\\uDF03"],"\\uE44B","\\uDBB8\\uDC08",["night_with_stars"],5,47,31,0],\n\t\t"1f304":[["\\uD83C\\uDF04"],"\\uE04D","\\uDBB8\\uDC09",["sunrise_over_mountains"],5,48,31,0],\n\t\t"1f305":[["\\uD83C\\uDF05"],"\\uE449","\\uDBB8\\uDC0A",["sunrise"],5,49,31,0],\n\t\t"1f306":[["\\uD83C\\uDF06"],"\\uE146","\\uDBB8\\uDC0B",["city_sunset"],5,50,31,0],\n\t\t"1f307":[["\\uD83C\\uDF07"],"\\uE44A","\\uDBB8\\uDC0C",["city_sunrise"],5,51,31,0],\n\t\t"1f308":[["\\uD83C\\uDF08"],"\\uE44C","\\uDBB8\\uDC0D",["rainbow"],6,0,31,0],\n\t\t"1f309":[["\\uD83C\\uDF09"],"","\\uDBB8\\uDC10",["bridge_at_night"],6,1,31,0],\n\t\t"1f30a":[["\\uD83C\\uDF0A"],"\\uE43E","\\uDBB8\\uDC38",["ocean"],6,2,31,0],\n\t\t"1f30b":[["\\uD83C\\uDF0B"],"","\\uDBB8\\uDC3A",["volcano"],6,3,31,0],\n\t\t"1f30c":[["\\uD83C\\uDF0C"],"","\\uDBB8\\uDC3B",["milky_way"],6,4,31,0],\n\t\t"1f30d":[["\\uD83C\\uDF0D"],"","",["earth_africa"],6,5,31,0],\n\t\t"1f30e":[["\\uD83C\\uDF0E"],"","",["earth_americas"],6,6,31,0],\n\t\t"1f30f":[["\\uD83C\\uDF0F"],"","\\uDBB8\\uDC39",["earth_asia"],6,7,31,0],\n\t\t"1f310":[["\\uD83C\\uDF10"],"","",["globe_with_meridians"],6,8,31,0],\n\t\t"1f311":[["\\uD83C\\uDF11"],"","\\uDBB8\\uDC11",["new_moon"],6,9,31,0],\n\t\t"1f312":[["\\uD83C\\uDF12"],"","",["waxing_crescent_moon"],6,10,31,0],\n\t\t"1f313":[["\\uD83C\\uDF13"],"","\\uDBB8\\uDC13",["first_quarter_moon"],6,11,31,0],\n\t\t"1f314":[["\\uD83C\\uDF14"],"","\\uDBB8\\uDC12",["moon","waxing_gibbous_moon"],6,12,31,0],\n\t\t"1f315":[["\\uD83C\\uDF15"],"","\\uDBB8\\uDC15",["full_moon"],6,13,31,0],\n\t\t"1f316":[["\\uD83C\\uDF16"],"","",["waning_gibbous_moon"],6,14,31,0],\n\t\t"1f317":[["\\uD83C\\uDF17"],"","",["last_quarter_moon"],6,15,31,0],\n\t\t"1f318":[["\\uD83C\\uDF18"],"","",["waning_crescent_moon"],6,16,31,0],\n\t\t"1f319":[["\\uD83C\\uDF19"],"\\uE04C","\\uDBB8\\uDC14",["crescent_moon"],6,17,31,0],\n\t\t"1f31a":[["\\uD83C\\uDF1A"],"","",["new_moon_with_face"],6,18,31,0],\n\t\t"1f31b":[["\\uD83C\\uDF1B"],"","\\uDBB8\\uDC16",["first_quarter_moon_with_face"],6,19,31,0],\n\t\t"1f31c":[["\\uD83C\\uDF1C"],"","",["last_quarter_moon_with_face"],6,20,31,0],\n\t\t"1f31d":[["\\uD83C\\uDF1D"],"","",["full_moon_with_face"],6,21,31,0],\n\t\t"1f31e":[["\\uD83C\\uDF1E"],"","",["sun_with_face"],6,22,31,0],\n\t\t"1f31f":[["\\uD83C\\uDF1F"],"\\uE335","\\uDBBA\\uDF69",["star2"],6,23,31,0],\n\t\t"1f320":[["\\uD83C\\uDF20"],"","\\uDBBA\\uDF6A",["stars"],6,24,31,0],\n\t\t"1f321-fe0f":[["\\uD83C\\uDF21\\uFE0F","\\uD83C\\uDF21"],"","",["thermometer"],6,25,15,0],\n\t\t"1f324-fe0f":[["\\uD83C\\uDF24\\uFE0F","\\uD83C\\uDF24"],"","",["mostly_sunny","sun_small_cloud"],6,26,15,0],\n\t\t"1f325-fe0f":[["\\uD83C\\uDF25\\uFE0F","\\uD83C\\uDF25"],"","",["barely_sunny","sun_behind_cloud"],6,27,15,0],\n\t\t"1f326-fe0f":[["\\uD83C\\uDF26\\uFE0F","\\uD83C\\uDF26"],"","",["partly_sunny_rain","sun_behind_rain_cloud"],6,28,15,0],\n\t\t"1f327-fe0f":[["\\uD83C\\uDF27\\uFE0F","\\uD83C\\uDF27"],"","",["rain_cloud"],6,29,15,0],\n\t\t"1f328-fe0f":[["\\uD83C\\uDF28\\uFE0F","\\uD83C\\uDF28"],"","",["snow_cloud"],6,30,15,0],\n\t\t"1f329-fe0f":[["\\uD83C\\uDF29\\uFE0F","\\uD83C\\uDF29"],"","",["lightning","lightning_cloud"],6,31,15,0],\n\t\t"1f32a-fe0f":[["\\uD83C\\uDF2A\\uFE0F","\\uD83C\\uDF2A"],"","",["tornado","tornado_cloud"],6,32,15,0],\n\t\t"1f32b-fe0f":[["\\uD83C\\uDF2B\\uFE0F","\\uD83C\\uDF2B"],"","",["fog"],6,33,15,0],\n\t\t"1f32c-fe0f":[["\\uD83C\\uDF2C\\uFE0F","\\uD83C\\uDF2C"],"","",["wind_blowing_face"],6,34,15,0],\n\t\t"1f32d":[["\\uD83C\\uDF2D"],"","",["hotdog"],6,35,15,0],\n\t\t"1f32e":[["\\uD83C\\uDF2E"],"","",["taco"],6,36,15,0],\n\t\t"1f32f":[["\\uD83C\\uDF2F"],"","",["burrito"],6,37,15,0],\n\t\t"1f330":[["\\uD83C\\uDF30"],"","\\uDBB8\\uDC4C",["chestnut"],6,38,31,0],\n\t\t"1f331":[["\\uD83C\\uDF31"],"","\\uDBB8\\uDC3E",["seedling"],6,39,31,0],\n\t\t"1f332":[["\\uD83C\\uDF32"],"","",["evergreen_tree"],6,40,31,0],\n\t\t"1f333":[["\\uD83C\\uDF33"],"","",["deciduous_tree"],6,41,31,0],\n\t\t"1f334":[["\\uD83C\\uDF34"],"\\uE307","\\uDBB8\\uDC47",["palm_tree"],6,42,31,0],\n\t\t"1f335":[["\\uD83C\\uDF35"],"\\uE308","\\uDBB8\\uDC48",["cactus"],6,43,31,0],\n\t\t"1f336-fe0f":[["\\uD83C\\uDF36\\uFE0F","\\uD83C\\uDF36"],"","",["hot_pepper"],6,44,15,0],\n\t\t"1f337":[["\\uD83C\\uDF37"],"\\uE304","\\uDBB8\\uDC3D",["tulip"],6,45,31,0],\n\t\t"1f338":[["\\uD83C\\uDF38"],"\\uE030","\\uDBB8\\uDC40",["cherry_blossom"],6,46,31,0],\n\t\t"1f339":[["\\uD83C\\uDF39"],"\\uE032","\\uDBB8\\uDC41",["rose"],6,47,31,0],\n\t\t"1f33a":[["\\uD83C\\uDF3A"],"\\uE303","\\uDBB8\\uDC45",["hibiscus"],6,48,31,0],\n\t\t"1f33b":[["\\uD83C\\uDF3B"],"\\uE305","\\uDBB8\\uDC46",["sunflower"],6,49,31,0],\n\t\t"1f33c":[["\\uD83C\\uDF3C"],"","\\uDBB8\\uDC4D",["blossom"],6,50,31,0],\n\t\t"1f33d":[["\\uD83C\\uDF3D"],"","\\uDBB8\\uDC4A",["corn"],6,51,31,0],\n\t\t"1f33e":[["\\uD83C\\uDF3E"],"\\uE444","\\uDBB8\\uDC49",["ear_of_rice"],7,0,31,0],\n\t\t"1f33f":[["\\uD83C\\uDF3F"],"","\\uDBB8\\uDC4E",["herb"],7,1,31,0],\n\t\t"1f340":[["\\uD83C\\uDF40"],"\\uE110","\\uDBB8\\uDC3C",["four_leaf_clover"],7,2,31,0],\n\t\t"1f341":[["\\uD83C\\uDF41"],"\\uE118","\\uDBB8\\uDC3F",["maple_leaf"],7,3,31,0],\n\t\t"1f342":[["\\uD83C\\uDF42"],"\\uE119","\\uDBB8\\uDC42",["fallen_leaf"],7,4,31,0],\n\t\t"1f343":[["\\uD83C\\uDF43"],"\\uE447","\\uDBB8\\uDC43",["leaves"],7,5,31,0],\n\t\t"1f344":[["\\uD83C\\uDF44"],"","\\uDBB8\\uDC4B",["mushroom"],7,6,31,0],\n\t\t"1f345":[["\\uD83C\\uDF45"],"\\uE349","\\uDBB8\\uDC55",["tomato"],7,7,31,0],\n\t\t"1f346":[["\\uD83C\\uDF46"],"\\uE34A","\\uDBB8\\uDC56",["eggplant"],7,8,31,0],\n\t\t"1f347":[["\\uD83C\\uDF47"],"","\\uDBB8\\uDC59",["grapes"],7,9,31,0],\n\t\t"1f348":[["\\uD83C\\uDF48"],"","\\uDBB8\\uDC57",["melon"],7,10,31,0],\n\t\t"1f349":[["\\uD83C\\uDF49"],"\\uE348","\\uDBB8\\uDC54",["watermelon"],7,11,31,0],\n\t\t"1f34a":[["\\uD83C\\uDF4A"],"\\uE346","\\uDBB8\\uDC52",["tangerine"],7,12,31,0],\n\t\t"1f34b":[["\\uD83C\\uDF4B"],"","",["lemon"],7,13,31,0],\n\t\t"1f34c":[["\\uD83C\\uDF4C"],"","\\uDBB8\\uDC50",["banana"],7,14,31,0],\n\t\t"1f34d":[["\\uD83C\\uDF4D"],"","\\uDBB8\\uDC58",["pineapple"],7,15,31,0],\n\t\t"1f34e":[["\\uD83C\\uDF4E"],"\\uE345","\\uDBB8\\uDC51",["apple"],7,16,31,0],\n\t\t"1f34f":[["\\uD83C\\uDF4F"],"","\\uDBB8\\uDC5B",["green_apple"],7,17,31,0],\n\t\t"1f350":[["\\uD83C\\uDF50"],"","",["pear"],7,18,31,0],\n\t\t"1f351":[["\\uD83C\\uDF51"],"","\\uDBB8\\uDC5A",["peach"],7,19,31,0],\n\t\t"1f352":[["\\uD83C\\uDF52"],"","\\uDBB8\\uDC4F",["cherries"],7,20,31,0],\n\t\t"1f353":[["\\uD83C\\uDF53"],"\\uE347","\\uDBB8\\uDC53",["strawberry"],7,21,31,0],\n\t\t"1f354":[["\\uD83C\\uDF54"],"\\uE120","\\uDBBA\\uDD60",["hamburger"],7,22,31,0],\n\t\t"1f355":[["\\uD83C\\uDF55"],"","\\uDBBA\\uDD75",["pizza"],7,23,31,0],\n\t\t"1f356":[["\\uD83C\\uDF56"],"","\\uDBBA\\uDD72",["meat_on_bone"],7,24,31,0],\n\t\t"1f357":[["\\uD83C\\uDF57"],"","\\uDBBA\\uDD76",["poultry_leg"],7,25,31,0],\n\t\t"1f358":[["\\uD83C\\uDF58"],"\\uE33D","\\uDBBA\\uDD69",["rice_cracker"],7,26,31,0],\n\t\t"1f359":[["\\uD83C\\uDF59"],"\\uE342","\\uDBBA\\uDD61",["rice_ball"],7,27,31,0],\n\t\t"1f35a":[["\\uD83C\\uDF5A"],"\\uE33E","\\uDBBA\\uDD6A",["rice"],7,28,31,0],\n\t\t"1f35b":[["\\uD83C\\uDF5B"],"\\uE341","\\uDBBA\\uDD6C",["curry"],7,29,31,0],\n\t\t"1f35c":[["\\uD83C\\uDF5C"],"\\uE340","\\uDBBA\\uDD63",["ramen"],7,30,31,0],\n\t\t"1f35d":[["\\uD83C\\uDF5D"],"\\uE33F","\\uDBBA\\uDD6B",["spaghetti"],7,31,31,0],\n\t\t"1f35e":[["\\uD83C\\uDF5E"],"\\uE339","\\uDBBA\\uDD64",["bread"],7,32,31,0],\n\t\t"1f35f":[["\\uD83C\\uDF5F"],"\\uE33B","\\uDBBA\\uDD67",["fries"],7,33,31,0],\n\t\t"1f360":[["\\uD83C\\uDF60"],"","\\uDBBA\\uDD74",["sweet_potato"],7,34,31,0],\n\t\t"1f361":[["\\uD83C\\uDF61"],"\\uE33C","\\uDBBA\\uDD68",["dango"],7,35,31,0],\n\t\t"1f362":[["\\uD83C\\uDF62"],"\\uE343","\\uDBBA\\uDD6D",["oden"],7,36,31,0],\n\t\t"1f363":[["\\uD83C\\uDF63"],"\\uE344","\\uDBBA\\uDD6E",["sushi"],7,37,31,0],\n\t\t"1f364":[["\\uD83C\\uDF64"],"","\\uDBBA\\uDD7F",["fried_shrimp"],7,38,31,0],\n\t\t"1f365":[["\\uD83C\\uDF65"],"","\\uDBBA\\uDD73",["fish_cake"],7,39,31,0],\n\t\t"1f366":[["\\uD83C\\uDF66"],"\\uE33A","\\uDBBA\\uDD66",["icecream"],7,40,31,0],\n\t\t"1f367":[["\\uD83C\\uDF67"],"\\uE43F","\\uDBBA\\uDD71",["shaved_ice"],7,41,31,0],\n\t\t"1f368":[["\\uD83C\\uDF68"],"","\\uDBBA\\uDD77",["ice_cream"],7,42,31,0],\n\t\t"1f369":[["\\uD83C\\uDF69"],"","\\uDBBA\\uDD78",["doughnut"],7,43,31,0],\n\t\t"1f36a":[["\\uD83C\\uDF6A"],"","\\uDBBA\\uDD79",["cookie"],7,44,31,0],\n\t\t"1f36b":[["\\uD83C\\uDF6B"],"","\\uDBBA\\uDD7A",["chocolate_bar"],7,45,31,0],\n\t\t"1f36c":[["\\uD83C\\uDF6C"],"","\\uDBBA\\uDD7B",["candy"],7,46,31,0],\n\t\t"1f36d":[["\\uD83C\\uDF6D"],"","\\uDBBA\\uDD7C",["lollipop"],7,47,31,0],\n\t\t"1f36e":[["\\uD83C\\uDF6E"],"","\\uDBBA\\uDD7D",["custard"],7,48,31,0],\n\t\t"1f36f":[["\\uD83C\\uDF6F"],"","\\uDBBA\\uDD7E",["honey_pot"],7,49,31,0],\n\t\t"1f370":[["\\uD83C\\uDF70"],"\\uE046","\\uDBBA\\uDD62",["cake"],7,50,31,0],\n\t\t"1f371":[["\\uD83C\\uDF71"],"\\uE34C","\\uDBBA\\uDD6F",["bento"],7,51,31,0],\n\t\t"1f372":[["\\uD83C\\uDF72"],"\\uE34D","\\uDBBA\\uDD70",["stew"],8,0,31,0],\n\t\t"1f373":[["\\uD83C\\uDF73"],"\\uE147","\\uDBBA\\uDD65",["fried_egg","cooking"],8,1,31,0],\n\t\t"1f374":[["\\uD83C\\uDF74"],"\\uE043","\\uDBBA\\uDD80",["fork_and_knife"],8,2,31,0],\n\t\t"1f375":[["\\uD83C\\uDF75"],"\\uE338","\\uDBBA\\uDD84",["tea"],8,3,31,0],\n\t\t"1f376":[["\\uD83C\\uDF76"],"\\uE30B","\\uDBBA\\uDD85",["sake"],8,4,31,0],\n\t\t"1f377":[["\\uD83C\\uDF77"],"","\\uDBBA\\uDD86",["wine_glass"],8,5,31,0],\n\t\t"1f378":[["\\uD83C\\uDF78"],"\\uE044","\\uDBBA\\uDD82",["cocktail"],8,6,31,0],\n\t\t"1f379":[["\\uD83C\\uDF79"],"","\\uDBBA\\uDD88",["tropical_drink"],8,7,31,0],\n\t\t"1f37a":[["\\uD83C\\uDF7A"],"\\uE047","\\uDBBA\\uDD83",["beer"],8,8,31,0],\n\t\t"1f37b":[["\\uD83C\\uDF7B"],"\\uE30C","\\uDBBA\\uDD87",["beers"],8,9,31,0],\n\t\t"1f37c":[["\\uD83C\\uDF7C"],"","",["baby_bottle"],8,10,31,0],\n\t\t"1f37d-fe0f":[["\\uD83C\\uDF7D\\uFE0F","\\uD83C\\uDF7D"],"","",["knife_fork_plate"],8,11,15,0],\n\t\t"1f37e":[["\\uD83C\\uDF7E"],"","",["champagne"],8,12,15,0],\n\t\t"1f37f":[["\\uD83C\\uDF7F"],"","",["popcorn"],8,13,15,0],\n\t\t"1f380":[["\\uD83C\\uDF80"],"\\uE314","\\uDBB9\\uDD0F",["ribbon"],8,14,31,0],\n\t\t"1f381":[["\\uD83C\\uDF81"],"\\uE112","\\uDBB9\\uDD10",["gift"],8,15,31,0],\n\t\t"1f382":[["\\uD83C\\uDF82"],"\\uE34B","\\uDBB9\\uDD11",["birthday"],8,16,31,0],\n\t\t"1f383":[["\\uD83C\\uDF83"],"\\uE445","\\uDBB9\\uDD1F",["jack_o_lantern"],8,17,31,0],\n\t\t"1f384":[["\\uD83C\\uDF84"],"\\uE033","\\uDBB9\\uDD12",["christmas_tree"],8,18,31,0],\n\t\t"1f385":[["\\uD83C\\uDF85"],"\\uE448","\\uDBB9\\uDD13",["santa"],8,19,31,0],\n\t\t"1f386":[["\\uD83C\\uDF86"],"\\uE117","\\uDBB9\\uDD15",["fireworks"],8,25,31,0],\n\t\t"1f387":[["\\uD83C\\uDF87"],"\\uE440","\\uDBB9\\uDD1D",["sparkler"],8,26,31,0],\n\t\t"1f388":[["\\uD83C\\uDF88"],"\\uE310","\\uDBB9\\uDD16",["balloon"],8,27,31,0],\n\t\t"1f389":[["\\uD83C\\uDF89"],"\\uE312","\\uDBB9\\uDD17",["tada"],8,28,31,0],\n\t\t"1f38a":[["\\uD83C\\uDF8A"],"","\\uDBB9\\uDD20",["confetti_ball"],8,29,31,0],\n\t\t"1f38b":[["\\uD83C\\uDF8B"],"","\\uDBB9\\uDD21",["tanabata_tree"],8,30,31,0],\n\t\t"1f38c":[["\\uD83C\\uDF8C"],"\\uE143","\\uDBB9\\uDD14",["crossed_flags"],8,31,31,0],\n\t\t"1f38d":[["\\uD83C\\uDF8D"],"\\uE436","\\uDBB9\\uDD18",["bamboo"],8,32,31,0],\n\t\t"1f38e":[["\\uD83C\\uDF8E"],"\\uE438","\\uDBB9\\uDD19",["dolls"],8,33,31,0],\n\t\t"1f38f":[["\\uD83C\\uDF8F"],"\\uE43B","\\uDBB9\\uDD1C",["flags"],8,34,31,0],\n\t\t"1f390":[["\\uD83C\\uDF90"],"\\uE442","\\uDBB9\\uDD1E",["wind_chime"],8,35,31,0],\n\t\t"1f391":[["\\uD83C\\uDF91"],"\\uE446","\\uDBB8\\uDC17",["rice_scene"],8,36,31,0],\n\t\t"1f392":[["\\uD83C\\uDF92"],"\\uE43A","\\uDBB9\\uDD1B",["school_satchel"],8,37,31,0],\n\t\t"1f393":[["\\uD83C\\uDF93"],"\\uE439","\\uDBB9\\uDD1A",["mortar_board"],8,38,31,0],\n\t\t"1f396-fe0f":[["\\uD83C\\uDF96\\uFE0F","\\uD83C\\uDF96"],"","",["medal"],8,39,15,0],\n\t\t"1f397-fe0f":[["\\uD83C\\uDF97\\uFE0F","\\uD83C\\uDF97"],"","",["reminder_ribbon"],8,40,15,0],\n\t\t"1f399-fe0f":[["\\uD83C\\uDF99\\uFE0F","\\uD83C\\uDF99"],"","",["studio_microphone"],8,41,15,0],\n\t\t"1f39a-fe0f":[["\\uD83C\\uDF9A\\uFE0F","\\uD83C\\uDF9A"],"","",["level_slider"],8,42,15,0],\n\t\t"1f39b-fe0f":[["\\uD83C\\uDF9B\\uFE0F","\\uD83C\\uDF9B"],"","",["control_knobs"],8,43,15,0],\n\t\t"1f39e-fe0f":[["\\uD83C\\uDF9E\\uFE0F","\\uD83C\\uDF9E"],"","",["film_frames"],8,44,15,0],\n\t\t"1f39f-fe0f":[["\\uD83C\\uDF9F\\uFE0F","\\uD83C\\uDF9F"],"","",["admission_tickets"],8,45,15,0],\n\t\t"1f3a0":[["\\uD83C\\uDFA0"],"","\\uDBB9\\uDFFC",["carousel_horse"],8,46,31,0],\n\t\t"1f3a1":[["\\uD83C\\uDFA1"],"\\uE124","\\uDBB9\\uDFFD",["ferris_wheel"],8,47,31,0],\n\t\t"1f3a2":[["\\uD83C\\uDFA2"],"\\uE433","\\uDBB9\\uDFFE",["roller_coaster"],8,48,31,0],\n\t\t"1f3a3":[["\\uD83C\\uDFA3"],"","\\uDBB9\\uDFFF",["fishing_pole_and_fish"],8,49,31,0],\n\t\t"1f3a4":[["\\uD83C\\uDFA4"],"\\uE03C","\\uDBBA\\uDC00",["microphone"],8,50,31,0],\n\t\t"1f3a5":[["\\uD83C\\uDFA5"],"\\uE03D","\\uDBBA\\uDC01",["movie_camera"],8,51,31,0],\n\t\t"1f3a6":[["\\uD83C\\uDFA6"],"\\uE507","\\uDBBA\\uDC02",["cinema"],9,0,31,0],\n\t\t"1f3a7":[["\\uD83C\\uDFA7"],"\\uE30A","\\uDBBA\\uDC03",["headphones"],9,1,31,0],\n\t\t"1f3a8":[["\\uD83C\\uDFA8"],"\\uE502","\\uDBBA\\uDC04",["art"],9,2,31,0],\n\t\t"1f3a9":[["\\uD83C\\uDFA9"],"\\uE503","\\uDBBA\\uDC05",["tophat"],9,3,31,0],\n\t\t"1f3aa":[["\\uD83C\\uDFAA"],"","\\uDBBA\\uDC06",["circus_tent"],9,4,31,0],\n\t\t"1f3ab":[["\\uD83C\\uDFAB"],"\\uE125","\\uDBBA\\uDC07",["ticket"],9,5,31,0],\n\t\t"1f3ac":[["\\uD83C\\uDFAC"],"\\uE324","\\uDBBA\\uDC08",["clapper"],9,6,31,0],\n\t\t"1f3ad":[["\\uD83C\\uDFAD"],"","\\uDBBA\\uDC09",["performing_arts"],9,7,31,0],\n\t\t"1f3ae":[["\\uD83C\\uDFAE"],"","\\uDBBA\\uDC0A",["video_game"],9,8,31,0],\n\t\t"1f3af":[["\\uD83C\\uDFAF"],"\\uE130","\\uDBBA\\uDC0C",["dart"],9,9,31,0],\n\t\t"1f3b0":[["\\uD83C\\uDFB0"],"\\uE133","\\uDBBA\\uDC0D",["slot_machine"],9,10,31,0],\n\t\t"1f3b1":[["\\uD83C\\uDFB1"],"\\uE42C","\\uDBBA\\uDC0E",["8ball"],9,11,31,0],\n\t\t"1f3b2":[["\\uD83C\\uDFB2"],"","\\uDBBA\\uDC0F",["game_die"],9,12,31,0],\n\t\t"1f3b3":[["\\uD83C\\uDFB3"],"","\\uDBBA\\uDC10",["bowling"],9,13,31,0],\n\t\t"1f3b4":[["\\uD83C\\uDFB4"],"","\\uDBBA\\uDC11",["flower_playing_cards"],9,14,31,0],\n\t\t"1f3b5":[["\\uD83C\\uDFB5"],"\\uE03E","\\uDBBA\\uDC13",["musical_note"],9,15,31,0],\n\t\t"1f3b6":[["\\uD83C\\uDFB6"],"\\uE326","\\uDBBA\\uDC14",["notes"],9,16,31,0],\n\t\t"1f3b7":[["\\uD83C\\uDFB7"],"\\uE040","\\uDBBA\\uDC15",["saxophone"],9,17,31,0],\n\t\t"1f3b8":[["\\uD83C\\uDFB8"],"\\uE041","\\uDBBA\\uDC16",["guitar"],9,18,31,0],\n\t\t"1f3b9":[["\\uD83C\\uDFB9"],"","\\uDBBA\\uDC17",["musical_keyboard"],9,19,31,0],\n\t\t"1f3ba":[["\\uD83C\\uDFBA"],"\\uE042","\\uDBBA\\uDC18",["trumpet"],9,20,31,0],\n\t\t"1f3bb":[["\\uD83C\\uDFBB"],"","\\uDBBA\\uDC19",["violin"],9,21,31,0],\n\t\t"1f3bc":[["\\uD83C\\uDFBC"],"","\\uDBBA\\uDC1A",["musical_score"],9,22,31,0],\n\t\t"1f3bd":[["\\uD83C\\uDFBD"],"","\\uDBB9\\uDFD0",["running_shirt_with_sash"],9,23,31,0],\n\t\t"1f3be":[["\\uD83C\\uDFBE"],"\\uE015","\\uDBB9\\uDFD3",["tennis"],9,24,31,0],\n\t\t"1f3bf":[["\\uD83C\\uDFBF"],"\\uE013","\\uDBB9\\uDFD5",["ski"],9,25,31,0],\n\t\t"1f3c0":[["\\uD83C\\uDFC0"],"\\uE42A","\\uDBB9\\uDFD6",["basketball"],9,26,31,0],\n\t\t"1f3c1":[["\\uD83C\\uDFC1"],"\\uE132","\\uDBB9\\uDFD7",["checkered_flag"],9,27,31,0],\n\t\t"1f3c2":[["\\uD83C\\uDFC2"],"","\\uDBB9\\uDFD8",["snowboarder"],9,28,31,0],\n\t\t"1f3c3-200d-2640-fe0f":[["\\uD83C\\uDFC3\\u200D\\u2640\\uFE0F","\\uD83C\\uDFC3\\u200D\\u2640"],"","",["woman-running"],9,34,15,0],\n\t\t"1f3c3-200d-2642-fe0f":[["\\uD83C\\uDFC3\\u200D\\u2642\\uFE0F","\\uD83C\\uDFC3\\u200D\\u2642","\\uD83C\\uDFC3"],"","",["man-running","runner","running"],9,40,15,0],\n\t\t"1f3c4-200d-2640-fe0f":[["\\uD83C\\uDFC4\\u200D\\u2640\\uFE0F","\\uD83C\\uDFC4\\u200D\\u2640"],"","",["woman-surfing"],10,0,15,0],\n\t\t"1f3c4-200d-2642-fe0f":[["\\uD83C\\uDFC4\\u200D\\u2642\\uFE0F","\\uD83C\\uDFC4\\u200D\\u2642","\\uD83C\\uDFC4"],"","",["man-surfing","surfer"],10,6,15,0],\n\t\t"1f3c5":[["\\uD83C\\uDFC5"],"","",["sports_medal"],10,18,15,0],\n\t\t"1f3c6":[["\\uD83C\\uDFC6"],"\\uE131","\\uDBB9\\uDFDB",["trophy"],10,19,31,0],\n\t\t"1f3c7":[["\\uD83C\\uDFC7"],"","",["horse_racing"],10,20,31,0],\n\t\t"1f3c8":[["\\uD83C\\uDFC8"],"\\uE42B","\\uDBB9\\uDFDD",["football"],10,26,31,0],\n\t\t"1f3c9":[["\\uD83C\\uDFC9"],"","",["rugby_football"],10,27,31,0],\n\t\t"1f3ca-200d-2640-fe0f":[["\\uD83C\\uDFCA\\u200D\\u2640\\uFE0F","\\uD83C\\uDFCA\\u200D\\u2640"],"","",["woman-swimming"],10,28,15,0],\n\t\t"1f3ca-200d-2642-fe0f":[["\\uD83C\\uDFCA\\u200D\\u2642\\uFE0F","\\uD83C\\uDFCA\\u200D\\u2642","\\uD83C\\uDFCA"],"","",["man-swimming","swimmer"],10,34,15,0],\n\t\t"1f3cb-fe0f-200d-2640-fe0f":[["\\uD83C\\uDFCB\\uFE0F\\u200D\\u2640\\uFE0F"],"","",["woman-lifting-weights"],10,46,7,0],\n\t\t"1f3cb-fe0f-200d-2642-fe0f":[["\\uD83C\\uDFCB\\uFE0F\\u200D\\u2642\\uFE0F","\\uD83C\\uDFCB\\uFE0F","\\uD83C\\uDFCB"],"","",["man-lifting-weights","weight_lifter"],11,0,7,0],\n\t\t"1f3cc-fe0f-200d-2640-fe0f":[["\\uD83C\\uDFCC\\uFE0F\\u200D\\u2640\\uFE0F"],"","",["woman-golfing"],11,12,7,0],\n\t\t"1f3cc-fe0f-200d-2642-fe0f":[["\\uD83C\\uDFCC\\uFE0F\\u200D\\u2642\\uFE0F","\\uD83C\\uDFCC\\uFE0F","\\uD83C\\uDFCC"],"","",["man-golfing","golfer"],11,18,7,0],\n\t\t"1f3cd-fe0f":[["\\uD83C\\uDFCD\\uFE0F","\\uD83C\\uDFCD"],"","",["racing_motorcycle"],11,30,15,0],\n\t\t"1f3ce-fe0f":[["\\uD83C\\uDFCE\\uFE0F","\\uD83C\\uDFCE"],"","",["racing_car"],11,31,15,0],\n\t\t"1f3cf":[["\\uD83C\\uDFCF"],"","",["cricket_bat_and_ball"],11,32,15,0],\n\t\t"1f3d0":[["\\uD83C\\uDFD0"],"","",["volleyball"],11,33,15,0],\n\t\t"1f3d1":[["\\uD83C\\uDFD1"],"","",["field_hockey_stick_and_ball"],11,34,15,0],\n\t\t"1f3d2":[["\\uD83C\\uDFD2"],"","",["ice_hockey_stick_and_puck"],11,35,15,0],\n\t\t"1f3d3":[["\\uD83C\\uDFD3"],"","",["table_tennis_paddle_and_ball"],11,36,15,0],\n\t\t"1f3d4-fe0f":[["\\uD83C\\uDFD4\\uFE0F","\\uD83C\\uDFD4"],"","",["snow_capped_mountain"],11,37,15,0],\n\t\t"1f3d5-fe0f":[["\\uD83C\\uDFD5\\uFE0F","\\uD83C\\uDFD5"],"","",["camping"],11,38,15,0],\n\t\t"1f3d6-fe0f":[["\\uD83C\\uDFD6\\uFE0F","\\uD83C\\uDFD6"],"","",["beach_with_umbrella"],11,39,15,0],\n\t\t"1f3d7-fe0f":[["\\uD83C\\uDFD7\\uFE0F","\\uD83C\\uDFD7"],"","",["building_construction"],11,40,15,0],\n\t\t"1f3d8-fe0f":[["\\uD83C\\uDFD8\\uFE0F","\\uD83C\\uDFD8"],"","",["house_buildings"],11,41,15,0],\n\t\t"1f3d9-fe0f":[["\\uD83C\\uDFD9\\uFE0F","\\uD83C\\uDFD9"],"","",["cityscape"],11,42,15,0],\n\t\t"1f3da-fe0f":[["\\uD83C\\uDFDA\\uFE0F","\\uD83C\\uDFDA"],"","",["derelict_house_building"],11,43,15,0],\n\t\t"1f3db-fe0f":[["\\uD83C\\uDFDB\\uFE0F","\\uD83C\\uDFDB"],"","",["classical_building"],11,44,15,0],\n\t\t"1f3dc-fe0f":[["\\uD83C\\uDFDC\\uFE0F","\\uD83C\\uDFDC"],"","",["desert"],11,45,15,0],\n\t\t"1f3dd-fe0f":[["\\uD83C\\uDFDD\\uFE0F","\\uD83C\\uDFDD"],"","",["desert_island"],11,46,15,0],\n\t\t"1f3de-fe0f":[["\\uD83C\\uDFDE\\uFE0F","\\uD83C\\uDFDE"],"","",["national_park"],11,47,15,0],\n\t\t"1f3df-fe0f":[["\\uD83C\\uDFDF\\uFE0F","\\uD83C\\uDFDF"],"","",["stadium"],11,48,15,0],\n\t\t"1f3e0":[["\\uD83C\\uDFE0"],"\\uE036","\\uDBB9\\uDCB0",["house"],11,49,31,0],\n\t\t"1f3e1":[["\\uD83C\\uDFE1"],"","\\uDBB9\\uDCB1",["house_with_garden"],11,50,31,0],\n\t\t"1f3e2":[["\\uD83C\\uDFE2"],"\\uE038","\\uDBB9\\uDCB2",["office"],11,51,31,0],\n\t\t"1f3e3":[["\\uD83C\\uDFE3"],"\\uE153","\\uDBB9\\uDCB3",["post_office"],12,0,31,0],\n\t\t"1f3e4":[["\\uD83C\\uDFE4"],"","",["european_post_office"],12,1,31,0],\n\t\t"1f3e5":[["\\uD83C\\uDFE5"],"\\uE155","\\uDBB9\\uDCB4",["hospital"],12,2,31,0],\n\t\t"1f3e6":[["\\uD83C\\uDFE6"],"\\uE14D","\\uDBB9\\uDCB5",["bank"],12,3,31,0],\n\t\t"1f3e7":[["\\uD83C\\uDFE7"],"\\uE154","\\uDBB9\\uDCB6",["atm"],12,4,31,0],\n\t\t"1f3e8":[["\\uD83C\\uDFE8"],"\\uE158","\\uDBB9\\uDCB7",["hotel"],12,5,31,0],\n\t\t"1f3e9":[["\\uD83C\\uDFE9"],"\\uE501","\\uDBB9\\uDCB8",["love_hotel"],12,6,31,0],\n\t\t"1f3ea":[["\\uD83C\\uDFEA"],"\\uE156","\\uDBB9\\uDCB9",["convenience_store"],12,7,31,0],\n\t\t"1f3eb":[["\\uD83C\\uDFEB"],"\\uE157","\\uDBB9\\uDCBA",["school"],12,8,31,0],\n\t\t"1f3ec":[["\\uD83C\\uDFEC"],"\\uE504","\\uDBB9\\uDCBD",["department_store"],12,9,31,0],\n\t\t"1f3ed":[["\\uD83C\\uDFED"],"\\uE508","\\uDBB9\\uDCC0",["factory"],12,10,31,0],\n\t\t"1f3ee":[["\\uD83C\\uDFEE"],"","\\uDBB9\\uDCC2",["izakaya_lantern","lantern"],12,11,31,0],\n\t\t"1f3ef":[["\\uD83C\\uDFEF"],"\\uE505","\\uDBB9\\uDCBE",["japanese_castle"],12,12,31,0],\n\t\t"1f3f0":[["\\uD83C\\uDFF0"],"\\uE506","\\uDBB9\\uDCBF",["european_castle"],12,13,31,0],\n\t\t"1f3f3-fe0f-200d-1f308":[["\\uD83C\\uDFF3\\uFE0F\\u200D\\uD83C\\uDF08","\\uD83C\\uDFF3\\u200D\\uD83C\\uDF08"],"","",["rainbow-flag"],12,14,31,0],\n\t\t"1f3f3-fe0f":[["\\uD83C\\uDFF3\\uFE0F","\\uD83C\\uDFF3"],"","",["waving_white_flag"],12,15,15,0],\n\t\t"1f3f4-e0067-e0062-e0065-e006e-e0067-e007f":[["\\uD83C\\uDFF4\\uDB40\\uDC67\\uDB40\\uDC62\\uDB40\\uDC65\\uDB40\\uDC6E\\uDB40\\uDC67\\uDB40\\uDC7F"],"","",["flag-england"],12,16,15,0],\n\t\t"1f3f4-e0067-e0062-e0073-e0063-e0074-e007f":[["\\uD83C\\uDFF4\\uDB40\\uDC67\\uDB40\\uDC62\\uDB40\\uDC73\\uDB40\\uDC63\\uDB40\\uDC74\\uDB40\\uDC7F"],"","",["flag-scotland"],12,17,15,0],\n\t\t"1f3f4-e0067-e0062-e0077-e006c-e0073-e007f":[["\\uD83C\\uDFF4\\uDB40\\uDC67\\uDB40\\uDC62\\uDB40\\uDC77\\uDB40\\uDC6C\\uDB40\\uDC73\\uDB40\\uDC7F"],"","",["flag-wales"],12,18,15,0],\n\t\t"1f3f4":[["\\uD83C\\uDFF4"],"","",["waving_black_flag"],12,19,15,0],\n\t\t"1f3f5-fe0f":[["\\uD83C\\uDFF5\\uFE0F","\\uD83C\\uDFF5"],"","",["rosette"],12,20,15,0],\n\t\t"1f3f7-fe0f":[["\\uD83C\\uDFF7\\uFE0F","\\uD83C\\uDFF7"],"","",["label"],12,21,15,0],\n\t\t"1f3f8":[["\\uD83C\\uDFF8"],"","",["badminton_racquet_and_shuttlecock"],12,22,15,0],\n\t\t"1f3f9":[["\\uD83C\\uDFF9"],"","",["bow_and_arrow"],12,23,15,0],\n\t\t"1f3fa":[["\\uD83C\\uDFFA"],"","",["amphora"],12,24,15,0],\n\t\t"1f3fb":[["\\uD83C\\uDFFB"],"","",["skin-tone-2"],12,25,15,0],\n\t\t"1f3fc":[["\\uD83C\\uDFFC"],"","",["skin-tone-3"],12,26,15,0],\n\t\t"1f3fd":[["\\uD83C\\uDFFD"],"","",["skin-tone-4"],12,27,15,0],\n\t\t"1f3fe":[["\\uD83C\\uDFFE"],"","",["skin-tone-5"],12,28,15,0],\n\t\t"1f3ff":[["\\uD83C\\uDFFF"],"","",["skin-tone-6"],12,29,15,0],\n\t\t"1f400":[["\\uD83D\\uDC00"],"","",["rat"],12,30,31,0],\n\t\t"1f401":[["\\uD83D\\uDC01"],"","",["mouse2"],12,31,31,0],\n\t\t"1f402":[["\\uD83D\\uDC02"],"","",["ox"],12,32,31,0],\n\t\t"1f403":[["\\uD83D\\uDC03"],"","",["water_buffalo"],12,33,31,0],\n\t\t"1f404":[["\\uD83D\\uDC04"],"","",["cow2"],12,34,31,0],\n\t\t"1f405":[["\\uD83D\\uDC05"],"","",["tiger2"],12,35,31,0],\n\t\t"1f406":[["\\uD83D\\uDC06"],"","",["leopard"],12,36,31,0],\n\t\t"1f407":[["\\uD83D\\uDC07"],"","",["rabbit2"],12,37,31,0],\n\t\t"1f408":[["\\uD83D\\uDC08"],"","",["cat2"],12,38,31,0],\n\t\t"1f409":[["\\uD83D\\uDC09"],"","",["dragon"],12,39,31,0],\n\t\t"1f40a":[["\\uD83D\\uDC0A"],"","",["crocodile"],12,40,31,0],\n\t\t"1f40b":[["\\uD83D\\uDC0B"],"","",["whale2"],12,41,31,0],\n\t\t"1f40c":[["\\uD83D\\uDC0C"],"","\\uDBB8\\uDDB9",["snail"],12,42,31,0],\n\t\t"1f40d":[["\\uD83D\\uDC0D"],"\\uE52D","\\uDBB8\\uDDD3",["snake"],12,43,31,0],\n\t\t"1f40e":[["\\uD83D\\uDC0E"],"\\uE134","\\uDBB9\\uDFDC",["racehorse"],12,44,31,0],\n\t\t"1f40f":[["\\uD83D\\uDC0F"],"","",["ram"],12,45,31,0],\n\t\t"1f410":[["\\uD83D\\uDC10"],"","",["goat"],12,46,31,0],\n\t\t"1f411":[["\\uD83D\\uDC11"],"\\uE529","\\uDBB8\\uDDCF",["sheep"],12,47,31,0],\n\t\t"1f412":[["\\uD83D\\uDC12"],"\\uE528","\\uDBB8\\uDDCE",["monkey"],12,48,31,0],\n\t\t"1f413":[["\\uD83D\\uDC13"],"","",["rooster"],12,49,31,0],\n\t\t"1f414":[["\\uD83D\\uDC14"],"\\uE52E","\\uDBB8\\uDDD4",["chicken"],12,50,31,0],\n\t\t"1f415":[["\\uD83D\\uDC15"],"","",["dog2"],12,51,31,0],\n\t\t"1f416":[["\\uD83D\\uDC16"],"","",["pig2"],13,0,31,0],\n\t\t"1f417":[["\\uD83D\\uDC17"],"\\uE52F","\\uDBB8\\uDDD5",["boar"],13,1,31,0],\n\t\t"1f418":[["\\uD83D\\uDC18"],"\\uE526","\\uDBB8\\uDDCC",["elephant"],13,2,31,0],\n\t\t"1f419":[["\\uD83D\\uDC19"],"\\uE10A","\\uDBB8\\uDDC5",["octopus"],13,3,31,0],\n\t\t"1f41a":[["\\uD83D\\uDC1A"],"\\uE441","\\uDBB8\\uDDC6",["shell"],13,4,31,0],\n\t\t"1f41b":[["\\uD83D\\uDC1B"],"\\uE525","\\uDBB8\\uDDCB",["bug"],13,5,31,0],\n\t\t"1f41c":[["\\uD83D\\uDC1C"],"","\\uDBB8\\uDDDA",["ant"],13,6,31,0],\n\t\t"1f41d":[["\\uD83D\\uDC1D"],"","\\uDBB8\\uDDE1",["bee","honeybee"],13,7,31,0],\n\t\t"1f41e":[["\\uD83D\\uDC1E"],"","\\uDBB8\\uDDE2",["beetle"],13,8,31,0],\n\t\t"1f41f":[["\\uD83D\\uDC1F"],"\\uE019","\\uDBB8\\uDDBD",["fish"],13,9,31,0],\n\t\t"1f420":[["\\uD83D\\uDC20"],"\\uE522","\\uDBB8\\uDDC9",["tropical_fish"],13,10,31,0],\n\t\t"1f421":[["\\uD83D\\uDC21"],"","\\uDBB8\\uDDD9",["blowfish"],13,11,31,0],\n\t\t"1f422":[["\\uD83D\\uDC22"],"","\\uDBB8\\uDDDC",["turtle"],13,12,31,0],\n\t\t"1f423":[["\\uD83D\\uDC23"],"","\\uDBB8\\uDDDD",["hatching_chick"],13,13,31,0],\n\t\t"1f424":[["\\uD83D\\uDC24"],"\\uE523","\\uDBB8\\uDDBA",["baby_chick"],13,14,31,0],\n\t\t"1f425":[["\\uD83D\\uDC25"],"","\\uDBB8\\uDDBB",["hatched_chick"],13,15,31,0],\n\t\t"1f426":[["\\uD83D\\uDC26"],"\\uE521","\\uDBB8\\uDDC8",["bird"],13,16,31,0],\n\t\t"1f427":[["\\uD83D\\uDC27"],"\\uE055","\\uDBB8\\uDDBC",["penguin"],13,17,31,0],\n\t\t"1f428":[["\\uD83D\\uDC28"],"\\uE527","\\uDBB8\\uDDCD",["koala"],13,18,31,0],\n\t\t"1f429":[["\\uD83D\\uDC29"],"","\\uDBB8\\uDDD8",["poodle"],13,19,31,0],\n\t\t"1f42a":[["\\uD83D\\uDC2A"],"","",["dromedary_camel"],13,20,31,0],\n\t\t"1f42b":[["\\uD83D\\uDC2B"],"\\uE530","\\uDBB8\\uDDD6",["camel"],13,21,31,0],\n\t\t"1f42c":[["\\uD83D\\uDC2C"],"\\uE520","\\uDBB8\\uDDC7",["dolphin","flipper"],13,22,31,0],\n\t\t"1f42d":[["\\uD83D\\uDC2D"],"\\uE053","\\uDBB8\\uDDC2",["mouse"],13,23,31,0],\n\t\t"1f42e":[["\\uD83D\\uDC2E"],"\\uE52B","\\uDBB8\\uDDD1",["cow"],13,24,31,0],\n\t\t"1f42f":[["\\uD83D\\uDC2F"],"\\uE050","\\uDBB8\\uDDC0",["tiger"],13,25,31,0],\n\t\t"1f430":[["\\uD83D\\uDC30"],"\\uE52C","\\uDBB8\\uDDD2",["rabbit"],13,26,31,0],\n\t\t"1f431":[["\\uD83D\\uDC31"],"\\uE04F","\\uDBB8\\uDDB8",["cat"],13,27,31,0],\n\t\t"1f432":[["\\uD83D\\uDC32"],"","\\uDBB8\\uDDDE",["dragon_face"],13,28,31,0],\n\t\t"1f433":[["\\uD83D\\uDC33"],"\\uE054","\\uDBB8\\uDDC3",["whale"],13,29,31,0],\n\t\t"1f434":[["\\uD83D\\uDC34"],"\\uE01A","\\uDBB8\\uDDBE",["horse"],13,30,31,0],\n\t\t"1f435":[["\\uD83D\\uDC35"],"\\uE109","\\uDBB8\\uDDC4",["monkey_face"],13,31,31,0],\n\t\t"1f436":[["\\uD83D\\uDC36"],"\\uE052","\\uDBB8\\uDDB7",["dog"],13,32,31,0],\n\t\t"1f437":[["\\uD83D\\uDC37"],"\\uE10B","\\uDBB8\\uDDBF",["pig"],13,33,31,0],\n\t\t"1f438":[["\\uD83D\\uDC38"],"\\uE531","\\uDBB8\\uDDD7",["frog"],13,34,31,0],\n\t\t"1f439":[["\\uD83D\\uDC39"],"\\uE524","\\uDBB8\\uDDCA",["hamster"],13,35,31,0],\n\t\t"1f43a":[["\\uD83D\\uDC3A"],"\\uE52A","\\uDBB8\\uDDD0",["wolf"],13,36,31,0],\n\t\t"1f43b":[["\\uD83D\\uDC3B"],"\\uE051","\\uDBB8\\uDDC1",["bear"],13,37,31,0],\n\t\t"1f43c":[["\\uD83D\\uDC3C"],"","\\uDBB8\\uDDDF",["panda_face"],13,38,31,0],\n\t\t"1f43d":[["\\uD83D\\uDC3D"],"","\\uDBB8\\uDDE0",["pig_nose"],13,39,31,0],\n\t\t"1f43e":[["\\uD83D\\uDC3E"],"","\\uDBB8\\uDDDB",["feet","paw_prints"],13,40,31,0],\n\t\t"1f43f-fe0f":[["\\uD83D\\uDC3F\\uFE0F","\\uD83D\\uDC3F"],"","",["chipmunk"],13,41,15,0],\n\t\t"1f440":[["\\uD83D\\uDC40"],"\\uE419","\\uDBB8\\uDD90",["eyes"],13,42,31,0],\n\t\t"1f441-fe0f-200d-1f5e8-fe0f":[["\\uD83D\\uDC41\\uFE0F\\u200D\\uD83D\\uDDE8\\uFE0F"],"","",["eye-in-speech-bubble"],13,43,3,0],\n\t\t"1f441-fe0f":[["\\uD83D\\uDC41\\uFE0F","\\uD83D\\uDC41"],"","",["eye"],13,44,15,0],\n\t\t"1f442":[["\\uD83D\\uDC42"],"\\uE41B","\\uDBB8\\uDD91",["ear"],13,45,31,0],\n\t\t"1f443":[["\\uD83D\\uDC43"],"\\uE41A","\\uDBB8\\uDD92",["nose"],13,51,31,0],\n\t\t"1f444":[["\\uD83D\\uDC44"],"\\uE41C","\\uDBB8\\uDD93",["lips"],14,5,31,0],\n\t\t"1f445":[["\\uD83D\\uDC45"],"","\\uDBB8\\uDD94",["tongue"],14,6,31,0],\n\t\t"1f446":[["\\uD83D\\uDC46"],"\\uE22E","\\uDBBA\\uDF99",["point_up_2"],14,7,31,0],\n\t\t"1f447":[["\\uD83D\\uDC47"],"\\uE22F","\\uDBBA\\uDF9A",["point_down"],14,13,31,0],\n\t\t"1f448":[["\\uD83D\\uDC48"],"\\uE230","\\uDBBA\\uDF9B",["point_left"],14,19,31,0],\n\t\t"1f449":[["\\uD83D\\uDC49"],"\\uE231","\\uDBBA\\uDF9C",["point_right"],14,25,31,0],\n\t\t"1f44a":[["\\uD83D\\uDC4A"],"\\uE00D","\\uDBBA\\uDF96",["facepunch","punch"],14,31,31,0],\n\t\t"1f44b":[["\\uD83D\\uDC4B"],"\\uE41E","\\uDBBA\\uDF9D",["wave"],14,37,31,0],\n\t\t"1f44c":[["\\uD83D\\uDC4C"],"\\uE420","\\uDBBA\\uDF9F",["ok_hand"],14,43,31,0],\n\t\t"1f44d":[["\\uD83D\\uDC4D"],"\\uE00E","\\uDBBA\\uDF97",["+1","thumbsup"],14,49,31,0],\n\t\t"1f44e":[["\\uD83D\\uDC4E"],"\\uE421","\\uDBBA\\uDFA0",["-1","thumbsdown"],15,3,31,0],\n\t\t"1f44f":[["\\uD83D\\uDC4F"],"\\uE41F","\\uDBBA\\uDF9E",["clap"],15,9,31,0],\n\t\t"1f450":[["\\uD83D\\uDC50"],"\\uE422","\\uDBBA\\uDFA1",["open_hands"],15,15,31,0],\n\t\t"1f451":[["\\uD83D\\uDC51"],"\\uE10E","\\uDBB9\\uDCD1",["crown"],15,21,31,0],\n\t\t"1f452":[["\\uD83D\\uDC52"],"\\uE318","\\uDBB9\\uDCD4",["womans_hat"],15,22,31,0],\n\t\t"1f453":[["\\uD83D\\uDC53"],"","\\uDBB9\\uDCCE",["eyeglasses"],15,23,31,0],\n\t\t"1f454":[["\\uD83D\\uDC54"],"\\uE302","\\uDBB9\\uDCD3",["necktie"],15,24,31,0],\n\t\t"1f455":[["\\uD83D\\uDC55"],"\\uE006","\\uDBB9\\uDCCF",["shirt","tshirt"],15,25,31,0],\n\t\t"1f456":[["\\uD83D\\uDC56"],"","\\uDBB9\\uDCD0",["jeans"],15,26,31,0],\n\t\t"1f457":[["\\uD83D\\uDC57"],"\\uE319","\\uDBB9\\uDCD5",["dress"],15,27,31,0],\n\t\t"1f458":[["\\uD83D\\uDC58"],"\\uE321","\\uDBB9\\uDCD9",["kimono"],15,28,31,0],\n\t\t"1f459":[["\\uD83D\\uDC59"],"\\uE322","\\uDBB9\\uDCDA",["bikini"],15,29,31,0],\n\t\t"1f45a":[["\\uD83D\\uDC5A"],"","\\uDBB9\\uDCDB",["womans_clothes"],15,30,31,0],\n\t\t"1f45b":[["\\uD83D\\uDC5B"],"","\\uDBB9\\uDCDC",["purse"],15,31,31,0],\n\t\t"1f45c":[["\\uD83D\\uDC5C"],"\\uE323","\\uDBB9\\uDCF0",["handbag"],15,32,31,0],\n\t\t"1f45d":[["\\uD83D\\uDC5D"],"","\\uDBB9\\uDCF1",["pouch"],15,33,31,0],\n\t\t"1f45e":[["\\uD83D\\uDC5E"],"","\\uDBB9\\uDCCC",["mans_shoe","shoe"],15,34,31,0],\n\t\t"1f45f":[["\\uD83D\\uDC5F"],"\\uE007","\\uDBB9\\uDCCD",["athletic_shoe"],15,35,31,0],\n\t\t"1f460":[["\\uD83D\\uDC60"],"\\uE13E","\\uDBB9\\uDCD6",["high_heel"],15,36,31,0],\n\t\t"1f461":[["\\uD83D\\uDC61"],"\\uE31A","\\uDBB9\\uDCD7",["sandal"],15,37,31,0],\n\t\t"1f462":[["\\uD83D\\uDC62"],"\\uE31B","\\uDBB9\\uDCD8",["boot"],15,38,31,0],\n\t\t"1f463":[["\\uD83D\\uDC63"],"\\uE536","\\uDBB9\\uDD53",["footprints"],15,39,31,0],\n\t\t"1f464":[["\\uD83D\\uDC64"],"","\\uDBB8\\uDD9A",["bust_in_silhouette"],15,40,31,0],\n\t\t"1f465":[["\\uD83D\\uDC65"],"","",["busts_in_silhouette"],15,41,31,0],\n\t\t"1f466":[["\\uD83D\\uDC66"],"\\uE001","\\uDBB8\\uDD9B",["boy"],15,42,31,0],\n\t\t"1f467":[["\\uD83D\\uDC67"],"\\uE002","\\uDBB8\\uDD9C",["girl"],15,48,31,0],\n\t\t"1f468-200d-1f33e":[["\\uD83D\\uDC68\\u200D\\uD83C\\uDF3E"],"","",["male-farmer"],16,2,15,0],\n\t\t"1f468-200d-1f373":[["\\uD83D\\uDC68\\u200D\\uD83C\\uDF73"],"","",["male-cook"],16,8,15,0],\n\t\t"1f468-200d-1f393":[["\\uD83D\\uDC68\\u200D\\uD83C\\uDF93"],"","",["male-student"],16,14,15,0],\n\t\t"1f468-200d-1f3a4":[["\\uD83D\\uDC68\\u200D\\uD83C\\uDFA4"],"","",["male-singer"],16,20,15,0],\n\t\t"1f468-200d-1f3a8":[["\\uD83D\\uDC68\\u200D\\uD83C\\uDFA8"],"","",["male-artist"],16,26,15,0],\n\t\t"1f468-200d-1f3eb":[["\\uD83D\\uDC68\\u200D\\uD83C\\uDFEB"],"","",["male-teacher"],16,32,15,0],\n\t\t"1f468-200d-1f3ed":[["\\uD83D\\uDC68\\u200D\\uD83C\\uDFED"],"","",["male-factory-worker"],16,38,15,0],\n\t\t"1f468-200d-1f466-200d-1f466":[["\\uD83D\\uDC68\\u200D\\uD83D\\uDC66\\u200D\\uD83D\\uDC66"],"","",["man-boy-boy"],16,44,15,0],\n\t\t"1f468-200d-1f466":[["\\uD83D\\uDC68\\u200D\\uD83D\\uDC66"],"","",["man-boy"],16,45,15,0],\n\t\t"1f468-200d-1f467-200d-1f466":[["\\uD83D\\uDC68\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC66"],"","",["man-girl-boy"],16,46,15,0],\n\t\t"1f468-200d-1f467-200d-1f467":[["\\uD83D\\uDC68\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC67"],"","",["man-girl-girl"],16,47,15,0],\n\t\t"1f468-200d-1f467":[["\\uD83D\\uDC68\\u200D\\uD83D\\uDC67"],"","",["man-girl"],16,48,15,0],\n\t\t"1f468-200d-1f468-200d-1f466":[["\\uD83D\\uDC68\\u200D\\uD83D\\uDC68\\u200D\\uD83D\\uDC66"],"","",["man-man-boy"],16,49,31,0],\n\t\t"1f468-200d-1f468-200d-1f466-200d-1f466":[["\\uD83D\\uDC68\\u200D\\uD83D\\uDC68\\u200D\\uD83D\\uDC66\\u200D\\uD83D\\uDC66"],"","",["man-man-boy-boy"],16,50,31,0],\n\t\t"1f468-200d-1f468-200d-1f467":[["\\uD83D\\uDC68\\u200D\\uD83D\\uDC68\\u200D\\uD83D\\uDC67"],"","",["man-man-girl"],16,51,31,0],\n\t\t"1f468-200d-1f468-200d-1f467-200d-1f466":[["\\uD83D\\uDC68\\u200D\\uD83D\\uDC68\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC66"],"","",["man-man-girl-boy"],17,0,31,0],\n\t\t"1f468-200d-1f468-200d-1f467-200d-1f467":[["\\uD83D\\uDC68\\u200D\\uD83D\\uDC68\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC67"],"","",["man-man-girl-girl"],17,1,31,0],\n\t\t"1f468-200d-1f469-200d-1f466":[["\\uD83D\\uDC68\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC66","\\uD83D\\uDC6A"],"","",["man-woman-boy","family"],17,2,31,0],\n\t\t"1f468-200d-1f469-200d-1f466-200d-1f466":[["\\uD83D\\uDC68\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC66\\u200D\\uD83D\\uDC66"],"","",["man-woman-boy-boy"],17,3,31,0],\n\t\t"1f468-200d-1f469-200d-1f467":[["\\uD83D\\uDC68\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC67"],"","",["man-woman-girl"],17,4,31,0],\n\t\t"1f468-200d-1f469-200d-1f467-200d-1f466":[["\\uD83D\\uDC68\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC66"],"","",["man-woman-girl-boy"],17,5,31,0],\n\t\t"1f468-200d-1f469-200d-1f467-200d-1f467":[["\\uD83D\\uDC68\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC67"],"","",["man-woman-girl-girl"],17,6,31,0],\n\t\t"1f468-200d-1f4bb":[["\\uD83D\\uDC68\\u200D\\uD83D\\uDCBB"],"","",["male-technologist"],17,7,15,0],\n\t\t"1f468-200d-1f4bc":[["\\uD83D\\uDC68\\u200D\\uD83D\\uDCBC"],"","",["male-office-worker"],17,13,15,0],\n\t\t"1f468-200d-1f527":[["\\uD83D\\uDC68\\u200D\\uD83D\\uDD27"],"","",["male-mechanic"],17,19,15,0],\n\t\t"1f468-200d-1f52c":[["\\uD83D\\uDC68\\u200D\\uD83D\\uDD2C"],"","",["male-scientist"],17,25,15,0],\n\t\t"1f468-200d-1f680":[["\\uD83D\\uDC68\\u200D\\uD83D\\uDE80"],"","",["male-astronaut"],17,31,15,0],\n\t\t"1f468-200d-1f692":[["\\uD83D\\uDC68\\u200D\\uD83D\\uDE92"],"","",["male-firefighter"],17,37,15,0],\n\t\t"1f468-200d-2695-fe0f":[["\\uD83D\\uDC68\\u200D\\u2695\\uFE0F","\\uD83D\\uDC68\\u200D\\u2695"],"","",["male-doctor"],17,43,15,0],\n\t\t"1f468-200d-2696-fe0f":[["\\uD83D\\uDC68\\u200D\\u2696\\uFE0F","\\uD83D\\uDC68\\u200D\\u2696"],"","",["male-judge"],17,49,15,0],\n\t\t"1f468-200d-2708-fe0f":[["\\uD83D\\uDC68\\u200D\\u2708\\uFE0F","\\uD83D\\uDC68\\u200D\\u2708"],"","",["male-pilot"],18,3,15,0],\n\t\t"1f468-200d-2764-fe0f-200d-1f468":[["\\uD83D\\uDC68\\u200D\\u2764\\uFE0F\\u200D\\uD83D\\uDC68","\\uD83D\\uDC68\\u200D\\u2764\\u200D\\uD83D\\uDC68"],"","",["man-heart-man"],18,9,31,0],\n\t\t"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468":[["\\uD83D\\uDC68\\u200D\\u2764\\uFE0F\\u200D\\uD83D\\uDC8B\\u200D\\uD83D\\uDC68","\\uD83D\\uDC68\\u200D\\u2764\\u200D\\uD83D\\uDC8B\\u200D\\uD83D\\uDC68"],"","",["man-kiss-man"],18,10,31,0],\n\t\t"1f468":[["\\uD83D\\uDC68"],"\\uE004","\\uDBB8\\uDD9D",["man"],18,11,31,0],\n\t\t"1f469-200d-1f33e":[["\\uD83D\\uDC69\\u200D\\uD83C\\uDF3E"],"","",["female-farmer"],18,17,15,0],\n\t\t"1f469-200d-1f373":[["\\uD83D\\uDC69\\u200D\\uD83C\\uDF73"],"","",["female-cook"],18,23,15,0],\n\t\t"1f469-200d-1f393":[["\\uD83D\\uDC69\\u200D\\uD83C\\uDF93"],"","",["female-student"],18,29,15,0],\n\t\t"1f469-200d-1f3a4":[["\\uD83D\\uDC69\\u200D\\uD83C\\uDFA4"],"","",["female-singer"],18,35,15,0],\n\t\t"1f469-200d-1f3a8":[["\\uD83D\\uDC69\\u200D\\uD83C\\uDFA8"],"","",["female-artist"],18,41,15,0],\n\t\t"1f469-200d-1f3eb":[["\\uD83D\\uDC69\\u200D\\uD83C\\uDFEB"],"","",["female-teacher"],18,47,15,0],\n\t\t"1f469-200d-1f3ed":[["\\uD83D\\uDC69\\u200D\\uD83C\\uDFED"],"","",["female-factory-worker"],19,1,15,0],\n\t\t"1f469-200d-1f466-200d-1f466":[["\\uD83D\\uDC69\\u200D\\uD83D\\uDC66\\u200D\\uD83D\\uDC66"],"","",["woman-boy-boy"],19,7,15,0],\n\t\t"1f469-200d-1f466":[["\\uD83D\\uDC69\\u200D\\uD83D\\uDC66"],"","",["woman-boy"],19,8,15,0],\n\t\t"1f469-200d-1f467-200d-1f466":[["\\uD83D\\uDC69\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC66"],"","",["woman-girl-boy"],19,9,15,0],\n\t\t"1f469-200d-1f467-200d-1f467":[["\\uD83D\\uDC69\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC67"],"","",["woman-girl-girl"],19,10,15,0],\n\t\t"1f469-200d-1f467":[["\\uD83D\\uDC69\\u200D\\uD83D\\uDC67"],"","",["woman-girl"],19,11,15,0],\n\t\t"1f469-200d-1f469-200d-1f466":[["\\uD83D\\uDC69\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC66"],"","",["woman-woman-boy"],19,12,31,0],\n\t\t"1f469-200d-1f469-200d-1f466-200d-1f466":[["\\uD83D\\uDC69\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC66\\u200D\\uD83D\\uDC66"],"","",["woman-woman-boy-boy"],19,13,31,0],\n\t\t"1f469-200d-1f469-200d-1f467":[["\\uD83D\\uDC69\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC67"],"","",["woman-woman-girl"],19,14,31,0],\n\t\t"1f469-200d-1f469-200d-1f467-200d-1f466":[["\\uD83D\\uDC69\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC66"],"","",["woman-woman-girl-boy"],19,15,31,0],\n\t\t"1f469-200d-1f469-200d-1f467-200d-1f467":[["\\uD83D\\uDC69\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC67"],"","",["woman-woman-girl-girl"],19,16,31,0],\n\t\t"1f469-200d-1f4bb":[["\\uD83D\\uDC69\\u200D\\uD83D\\uDCBB"],"","",["female-technologist"],19,17,15,0],\n\t\t"1f469-200d-1f4bc":[["\\uD83D\\uDC69\\u200D\\uD83D\\uDCBC"],"","",["female-office-worker"],19,23,15,0],\n\t\t"1f469-200d-1f527":[["\\uD83D\\uDC69\\u200D\\uD83D\\uDD27"],"","",["female-mechanic"],19,29,15,0],\n\t\t"1f469-200d-1f52c":[["\\uD83D\\uDC69\\u200D\\uD83D\\uDD2C"],"","",["female-scientist"],19,35,15,0],\n\t\t"1f469-200d-1f680":[["\\uD83D\\uDC69\\u200D\\uD83D\\uDE80"],"","",["female-astronaut"],19,41,15,0],\n\t\t"1f469-200d-1f692":[["\\uD83D\\uDC69\\u200D\\uD83D\\uDE92"],"","",["female-firefighter"],19,47,15,0],\n\t\t"1f469-200d-2695-fe0f":[["\\uD83D\\uDC69\\u200D\\u2695\\uFE0F","\\uD83D\\uDC69\\u200D\\u2695"],"","",["female-doctor"],20,1,15,0],\n\t\t"1f469-200d-2696-fe0f":[["\\uD83D\\uDC69\\u200D\\u2696\\uFE0F","\\uD83D\\uDC69\\u200D\\u2696"],"","",["female-judge"],20,7,15,0],\n\t\t"1f469-200d-2708-fe0f":[["\\uD83D\\uDC69\\u200D\\u2708\\uFE0F","\\uD83D\\uDC69\\u200D\\u2708"],"","",["female-pilot"],20,13,15,0],\n\t\t"1f469-200d-2764-fe0f-200d-1f468":[["\\uD83D\\uDC69\\u200D\\u2764\\uFE0F\\u200D\\uD83D\\uDC68","\\uD83D\\uDC69\\u200D\\u2764\\u200D\\uD83D\\uDC68","\\uD83D\\uDC91"],"","",["woman-heart-man","couple_with_heart"],20,19,15,0],\n\t\t"1f469-200d-2764-fe0f-200d-1f469":[["\\uD83D\\uDC69\\u200D\\u2764\\uFE0F\\u200D\\uD83D\\uDC69","\\uD83D\\uDC69\\u200D\\u2764\\u200D\\uD83D\\uDC69"],"","",["woman-heart-woman"],20,20,31,0],\n\t\t"1f469-200d-2764-fe0f-200d-1f48b-200d-1f468":[["\\uD83D\\uDC69\\u200D\\u2764\\uFE0F\\u200D\\uD83D\\uDC8B\\u200D\\uD83D\\uDC68","\\uD83D\\uDC69\\u200D\\u2764\\u200D\\uD83D\\uDC8B\\u200D\\uD83D\\uDC68","\\uD83D\\uDC8F"],"","",["woman-kiss-man","couplekiss"],20,21,15,0],\n\t\t"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469":[["\\uD83D\\uDC69\\u200D\\u2764\\uFE0F\\u200D\\uD83D\\uDC8B\\u200D\\uD83D\\uDC69","\\uD83D\\uDC69\\u200D\\u2764\\u200D\\uD83D\\uDC8B\\u200D\\uD83D\\uDC69"],"","",["woman-kiss-woman"],20,22,31,0],\n\t\t"1f469":[["\\uD83D\\uDC69"],"\\uE005","\\uDBB8\\uDD9E",["woman"],20,23,31,0],\n\t\t"1f46b":[["\\uD83D\\uDC6B"],"\\uE428","\\uDBB8\\uDDA0",["couple","man_and_woman_holding_hands"],20,30,31,0],\n\t\t"1f46c":[["\\uD83D\\uDC6C"],"","",["two_men_holding_hands"],20,31,31,0],\n\t\t"1f46d":[["\\uD83D\\uDC6D"],"","",["two_women_holding_hands"],20,32,31,0],\n\t\t"1f46e-200d-2640-fe0f":[["\\uD83D\\uDC6E\\u200D\\u2640\\uFE0F","\\uD83D\\uDC6E\\u200D\\u2640"],"","",["female-police-officer"],20,33,15,0],\n\t\t"1f46e-200d-2642-fe0f":[["\\uD83D\\uDC6E\\u200D\\u2642\\uFE0F","\\uD83D\\uDC6E\\u200D\\u2642","\\uD83D\\uDC6E"],"","",["male-police-officer","cop"],20,39,15,0],\n\t\t"1f46f-200d-2640-fe0f":[["\\uD83D\\uDC6F\\u200D\\u2640\\uFE0F","\\uD83D\\uDC6F\\u200D\\u2640","\\uD83D\\uDC6F"],"","",["woman-with-bunny-ears-partying","dancers"],20,51,15,0],\n\t\t"1f46f-200d-2642-fe0f":[["\\uD83D\\uDC6F\\u200D\\u2642\\uFE0F","\\uD83D\\uDC6F\\u200D\\u2642"],"","",["man-with-bunny-ears-partying"],21,0,15,0],\n\t\t"1f470":[["\\uD83D\\uDC70"],"","\\uDBB8\\uDDA3",["bride_with_veil"],21,2,31,0],\n\t\t"1f471-200d-2640-fe0f":[["\\uD83D\\uDC71\\u200D\\u2640\\uFE0F","\\uD83D\\uDC71\\u200D\\u2640"],"","",["blond-haired-woman"],21,8,15,0],\n\t\t"1f471-200d-2642-fe0f":[["\\uD83D\\uDC71\\u200D\\u2642\\uFE0F","\\uD83D\\uDC71\\u200D\\u2642","\\uD83D\\uDC71"],"","",["blond-haired-man","person_with_blond_hair"],21,14,15,0],\n\t\t"1f472":[["\\uD83D\\uDC72"],"\\uE516","\\uDBB8\\uDDA5",["man_with_gua_pi_mao"],21,26,31,0],\n\t\t"1f473-200d-2640-fe0f":[["\\uD83D\\uDC73\\u200D\\u2640\\uFE0F","\\uD83D\\uDC73\\u200D\\u2640"],"","",["woman-wearing-turban"],21,32,15,0],\n\t\t"1f473-200d-2642-fe0f":[["\\uD83D\\uDC73\\u200D\\u2642\\uFE0F","\\uD83D\\uDC73\\u200D\\u2642","\\uD83D\\uDC73"],"","",["man-wearing-turban","man_with_turban"],21,38,15,0],\n\t\t"1f474":[["\\uD83D\\uDC74"],"\\uE518","\\uDBB8\\uDDA7",["older_man"],21,50,31,0],\n\t\t"1f475":[["\\uD83D\\uDC75"],"\\uE519","\\uDBB8\\uDDA8",["older_woman"],22,4,31,0],\n\t\t"1f476":[["\\uD83D\\uDC76"],"\\uE51A","\\uDBB8\\uDDA9",["baby"],22,10,31,0],\n\t\t"1f477-200d-2640-fe0f":[["\\uD83D\\uDC77\\u200D\\u2640\\uFE0F","\\uD83D\\uDC77\\u200D\\u2640"],"","",["female-construction-worker"],22,16,15,0],\n\t\t"1f477-200d-2642-fe0f":[["\\uD83D\\uDC77\\u200D\\u2642\\uFE0F","\\uD83D\\uDC77\\u200D\\u2642","\\uD83D\\uDC77"],"","",["male-construction-worker","construction_worker"],22,22,15,0],\n\t\t"1f478":[["\\uD83D\\uDC78"],"\\uE51C","\\uDBB8\\uDDAB",["princess"],22,34,31,0],\n\t\t"1f479":[["\\uD83D\\uDC79"],"","\\uDBB8\\uDDAC",["japanese_ogre"],22,40,31,0],\n\t\t"1f47a":[["\\uD83D\\uDC7A"],"","\\uDBB8\\uDDAD",["japanese_goblin"],22,41,31,0],\n\t\t"1f47b":[["\\uD83D\\uDC7B"],"\\uE11B","\\uDBB8\\uDDAE",["ghost"],22,42,31,0],\n\t\t"1f47c":[["\\uD83D\\uDC7C"],"\\uE04E","\\uDBB8\\uDDAF",["angel"],22,43,31,0],\n\t\t"1f47d":[["\\uD83D\\uDC7D"],"\\uE10C","\\uDBB8\\uDDB0",["alien"],22,49,31,0],\n\t\t"1f47e":[["\\uD83D\\uDC7E"],"\\uE12B","\\uDBB8\\uDDB1",["space_invader"],22,50,31,0],\n\t\t"1f47f":[["\\uD83D\\uDC7F"],"\\uE11A","\\uDBB8\\uDDB2",["imp"],22,51,31,0],\n\t\t"1f480":[["\\uD83D\\uDC80"],"\\uE11C","\\uDBB8\\uDDB3",["skull"],23,0,31,0],\n\t\t"1f481-200d-2640-fe0f":[["\\uD83D\\uDC81\\u200D\\u2640\\uFE0F","\\uD83D\\uDC81\\u200D\\u2640","\\uD83D\\uDC81"],"","",["woman-tipping-hand","information_desk_person"],23,1,15,0],\n\t\t"1f481-200d-2642-fe0f":[["\\uD83D\\uDC81\\u200D\\u2642\\uFE0F","\\uD83D\\uDC81\\u200D\\u2642"],"","",["man-tipping-hand"],23,7,15,0],\n\t\t"1f482-200d-2640-fe0f":[["\\uD83D\\uDC82\\u200D\\u2640\\uFE0F","\\uD83D\\uDC82\\u200D\\u2640"],"","",["female-guard"],23,19,15,0],\n\t\t"1f482-200d-2642-fe0f":[["\\uD83D\\uDC82\\u200D\\u2642\\uFE0F","\\uD83D\\uDC82\\u200D\\u2642","\\uD83D\\uDC82"],"","",["male-guard","guardsman"],23,25,15,0],\n\t\t"1f483":[["\\uD83D\\uDC83"],"\\uE51F","\\uDBB8\\uDDB6",["dancer"],23,37,31,0],\n\t\t"1f484":[["\\uD83D\\uDC84"],"\\uE31C","\\uDBB8\\uDD95",["lipstick"],23,43,31,0],\n\t\t"1f485":[["\\uD83D\\uDC85"],"\\uE31D","\\uDBB8\\uDD96",["nail_care"],23,44,31,0],\n\t\t"1f486-200d-2640-fe0f":[["\\uD83D\\uDC86\\u200D\\u2640\\uFE0F","\\uD83D\\uDC86\\u200D\\u2640","\\uD83D\\uDC86"],"","",["woman-getting-massage","massage"],23,50,15,0],\n\t\t"1f486-200d-2642-fe0f":[["\\uD83D\\uDC86\\u200D\\u2642\\uFE0F","\\uD83D\\uDC86\\u200D\\u2642"],"","",["man-getting-massage"],24,4,15,0],\n\t\t"1f487-200d-2640-fe0f":[["\\uD83D\\uDC87\\u200D\\u2640\\uFE0F","\\uD83D\\uDC87\\u200D\\u2640","\\uD83D\\uDC87"],"","",["woman-getting-haircut","haircut"],24,16,15,0],\n\t\t"1f487-200d-2642-fe0f":[["\\uD83D\\uDC87\\u200D\\u2642\\uFE0F","\\uD83D\\uDC87\\u200D\\u2642"],"","",["man-getting-haircut"],24,22,15,0],\n\t\t"1f488":[["\\uD83D\\uDC88"],"\\uE320","\\uDBB8\\uDD99",["barber"],24,34,31,0],\n\t\t"1f489":[["\\uD83D\\uDC89"],"\\uE13B","\\uDBB9\\uDD09",["syringe"],24,35,31,0],\n\t\t"1f48a":[["\\uD83D\\uDC8A"],"\\uE30F","\\uDBB9\\uDD0A",["pill"],24,36,31,0],\n\t\t"1f48b":[["\\uD83D\\uDC8B"],"\\uE003","\\uDBBA\\uDC23",["kiss"],24,37,31,0],\n\t\t"1f48c":[["\\uD83D\\uDC8C"],"","\\uDBBA\\uDC24",["love_letter"],24,38,31,0],\n\t\t"1f48d":[["\\uD83D\\uDC8D"],"\\uE034","\\uDBBA\\uDC25",["ring"],24,39,31,0],\n\t\t"1f48e":[["\\uD83D\\uDC8E"],"\\uE035","\\uDBBA\\uDC26",["gem"],24,40,31,0],\n\t\t"1f490":[["\\uD83D\\uDC90"],"\\uE306","\\uDBBA\\uDC28",["bouquet"],24,42,31,0],\n\t\t"1f492":[["\\uD83D\\uDC92"],"\\uE43D","\\uDBBA\\uDC2A",["wedding"],24,44,31,0],\n\t\t"1f493":[["\\uD83D\\uDC93"],"\\uE327","\\uDBBA\\uDF0D",["heartbeat"],24,45,31,0],\n\t\t"1f494":[["\\uD83D\\uDC94"],"\\uE023","\\uDBBA\\uDF0E",["broken_heart"],24,46,31,0,"<\\/3"],\n\t\t"1f495":[["\\uD83D\\uDC95"],"","\\uDBBA\\uDF0F",["two_hearts"],24,47,31,0],\n\t\t"1f496":[["\\uD83D\\uDC96"],"","\\uDBBA\\uDF10",["sparkling_heart"],24,48,31,0],\n\t\t"1f497":[["\\uD83D\\uDC97"],"\\uE328","\\uDBBA\\uDF11",["heartpulse"],24,49,31,0],\n\t\t"1f498":[["\\uD83D\\uDC98"],"\\uE329","\\uDBBA\\uDF12",["cupid"],24,50,31,0],\n\t\t"1f499":[["\\uD83D\\uDC99"],"\\uE32A","\\uDBBA\\uDF13",["blue_heart"],24,51,31,0,"<3"],\n\t\t"1f49a":[["\\uD83D\\uDC9A"],"\\uE32B","\\uDBBA\\uDF14",["green_heart"],25,0,31,0,"<3"],\n\t\t"1f49b":[["\\uD83D\\uDC9B"],"\\uE32C","\\uDBBA\\uDF15",["yellow_heart"],25,1,31,0,"<3"],\n\t\t"1f49c":[["\\uD83D\\uDC9C"],"\\uE32D","\\uDBBA\\uDF16",["purple_heart"],25,2,31,0,"<3"],\n\t\t"1f49d":[["\\uD83D\\uDC9D"],"\\uE437","\\uDBBA\\uDF17",["gift_heart"],25,3,31,0],\n\t\t"1f49e":[["\\uD83D\\uDC9E"],"","\\uDBBA\\uDF18",["revolving_hearts"],25,4,31,0],\n\t\t"1f49f":[["\\uD83D\\uDC9F"],"\\uE204","\\uDBBA\\uDF19",["heart_decoration"],25,5,31,0],\n\t\t"1f4a0":[["\\uD83D\\uDCA0"],"","\\uDBBA\\uDF55",["diamond_shape_with_a_dot_inside"],25,6,31,0],\n\t\t"1f4a1":[["\\uD83D\\uDCA1"],"\\uE10F","\\uDBBA\\uDF56",["bulb"],25,7,31,0],\n\t\t"1f4a2":[["\\uD83D\\uDCA2"],"\\uE334","\\uDBBA\\uDF57",["anger"],25,8,31,0],\n\t\t"1f4a3":[["\\uD83D\\uDCA3"],"\\uE311","\\uDBBA\\uDF58",["bomb"],25,9,31,0],\n\t\t"1f4a4":[["\\uD83D\\uDCA4"],"\\uE13C","\\uDBBA\\uDF59",["zzz"],25,10,31,0],\n\t\t"1f4a5":[["\\uD83D\\uDCA5"],"","\\uDBBA\\uDF5A",["boom","collision"],25,11,31,0],\n\t\t"1f4a6":[["\\uD83D\\uDCA6"],"\\uE331","\\uDBBA\\uDF5B",["sweat_drops"],25,12,31,0],\n\t\t"1f4a7":[["\\uD83D\\uDCA7"],"","\\uDBBA\\uDF5C",["droplet"],25,13,31,0],\n\t\t"1f4a8":[["\\uD83D\\uDCA8"],"\\uE330","\\uDBBA\\uDF5D",["dash"],25,14,31,0],\n\t\t"1f4a9":[["\\uD83D\\uDCA9"],"\\uE05A","\\uDBB9\\uDCF4",["hankey","poop","shit"],25,15,31,0],\n\t\t"1f4aa":[["\\uD83D\\uDCAA"],"\\uE14C","\\uDBBA\\uDF5E",["muscle"],25,16,31,0],\n\t\t"1f4ab":[["\\uD83D\\uDCAB"],"","\\uDBBA\\uDF5F",["dizzy"],25,22,31,0],\n\t\t"1f4ac":[["\\uD83D\\uDCAC"],"","\\uDBB9\\uDD32",["speech_balloon"],25,23,31,0],\n\t\t"1f4ad":[["\\uD83D\\uDCAD"],"","",["thought_balloon"],25,24,31,0],\n\t\t"1f4ae":[["\\uD83D\\uDCAE"],"","\\uDBBA\\uDF7A",["white_flower"],25,25,31,0],\n\t\t"1f4af":[["\\uD83D\\uDCAF"],"","\\uDBBA\\uDF7B",["100"],25,26,31,0],\n\t\t"1f4b0":[["\\uD83D\\uDCB0"],"\\uE12F","\\uDBB9\\uDCDD",["moneybag"],25,27,31,0],\n\t\t"1f4b1":[["\\uD83D\\uDCB1"],"\\uE149","\\uDBB9\\uDCDE",["currency_exchange"],25,28,31,0],\n\t\t"1f4b2":[["\\uD83D\\uDCB2"],"","\\uDBB9\\uDCE0",["heavy_dollar_sign"],25,29,31,0],\n\t\t"1f4b3":[["\\uD83D\\uDCB3"],"","\\uDBB9\\uDCE1",["credit_card"],25,30,31,0],\n\t\t"1f4b4":[["\\uD83D\\uDCB4"],"","\\uDBB9\\uDCE2",["yen"],25,31,31,0],\n\t\t"1f4b5":[["\\uD83D\\uDCB5"],"","\\uDBB9\\uDCE3",["dollar"],25,32,31,0],\n\t\t"1f4b6":[["\\uD83D\\uDCB6"],"","",["euro"],25,33,31,0],\n\t\t"1f4b7":[["\\uD83D\\uDCB7"],"","",["pound"],25,34,31,0],\n\t\t"1f4b8":[["\\uD83D\\uDCB8"],"","\\uDBB9\\uDCE4",["money_with_wings"],25,35,31,0],\n\t\t"1f4b9":[["\\uD83D\\uDCB9"],"\\uE14A","\\uDBB9\\uDCDF",["chart"],25,36,31,0],\n\t\t"1f4ba":[["\\uD83D\\uDCBA"],"\\uE11F","\\uDBB9\\uDD37",["seat"],25,37,31,0],\n\t\t"1f4bb":[["\\uD83D\\uDCBB"],"\\uE00C","\\uDBB9\\uDD38",["computer"],25,38,31,0],\n\t\t"1f4bc":[["\\uD83D\\uDCBC"],"\\uE11E","\\uDBB9\\uDD3B",["briefcase"],25,39,31,0],\n\t\t"1f4bd":[["\\uD83D\\uDCBD"],"\\uE316","\\uDBB9\\uDD3C",["minidisc"],25,40,31,0],\n\t\t"1f4be":[["\\uD83D\\uDCBE"],"","\\uDBB9\\uDD3D",["floppy_disk"],25,41,31,0],\n\t\t"1f4bf":[["\\uD83D\\uDCBF"],"\\uE126","\\uDBBA\\uDC1D",["cd"],25,42,31,0],\n\t\t"1f4c0":[["\\uD83D\\uDCC0"],"\\uE127","\\uDBBA\\uDC1E",["dvd"],25,43,31,0],\n\t\t"1f4c1":[["\\uD83D\\uDCC1"],"","\\uDBB9\\uDD43",["file_folder"],25,44,31,0],\n\t\t"1f4c2":[["\\uD83D\\uDCC2"],"","\\uDBB9\\uDD44",["open_file_folder"],25,45,31,0],\n\t\t"1f4c3":[["\\uD83D\\uDCC3"],"","\\uDBB9\\uDD40",["page_with_curl"],25,46,31,0],\n\t\t"1f4c4":[["\\uD83D\\uDCC4"],"","\\uDBB9\\uDD41",["page_facing_up"],25,47,31,0],\n\t\t"1f4c5":[["\\uD83D\\uDCC5"],"","\\uDBB9\\uDD42",["date"],25,48,31,0],\n\t\t"1f4c6":[["\\uD83D\\uDCC6"],"","\\uDBB9\\uDD49",["calendar"],25,49,31,0],\n\t\t"1f4c7":[["\\uD83D\\uDCC7"],"","\\uDBB9\\uDD4D",["card_index"],25,50,31,0],\n\t\t"1f4c8":[["\\uD83D\\uDCC8"],"","\\uDBB9\\uDD4B",["chart_with_upwards_trend"],25,51,31,0],\n\t\t"1f4c9":[["\\uD83D\\uDCC9"],"","\\uDBB9\\uDD4C",["chart_with_downwards_trend"],26,0,31,0],\n\t\t"1f4ca":[["\\uD83D\\uDCCA"],"","\\uDBB9\\uDD4A",["bar_chart"],26,1,31,0],\n\t\t"1f4cb":[["\\uD83D\\uDCCB"],"","\\uDBB9\\uDD48",["clipboard"],26,2,31,0],\n\t\t"1f4cc":[["\\uD83D\\uDCCC"],"","\\uDBB9\\uDD4E",["pushpin"],26,3,31,0],\n\t\t"1f4cd":[["\\uD83D\\uDCCD"],"","\\uDBB9\\uDD3F",["round_pushpin"],26,4,31,0],\n\t\t"1f4ce":[["\\uD83D\\uDCCE"],"","\\uDBB9\\uDD3A",["paperclip"],26,5,31,0],\n\t\t"1f4cf":[["\\uD83D\\uDCCF"],"","\\uDBB9\\uDD50",["straight_ruler"],26,6,31,0],\n\t\t"1f4d0":[["\\uD83D\\uDCD0"],"","\\uDBB9\\uDD51",["triangular_ruler"],26,7,31,0],\n\t\t"1f4d1":[["\\uD83D\\uDCD1"],"","\\uDBB9\\uDD52",["bookmark_tabs"],26,8,31,0],\n\t\t"1f4d2":[["\\uD83D\\uDCD2"],"","\\uDBB9\\uDD4F",["ledger"],26,9,31,0],\n\t\t"1f4d3":[["\\uD83D\\uDCD3"],"","\\uDBB9\\uDD45",["notebook"],26,10,31,0],\n\t\t"1f4d4":[["\\uD83D\\uDCD4"],"","\\uDBB9\\uDD47",["notebook_with_decorative_cover"],26,11,31,0],\n\t\t"1f4d5":[["\\uD83D\\uDCD5"],"","\\uDBB9\\uDD02",["closed_book"],26,12,31,0],\n\t\t"1f4d6":[["\\uD83D\\uDCD6"],"\\uE148","\\uDBB9\\uDD46",["book","open_book"],26,13,31,0],\n\t\t"1f4d7":[["\\uD83D\\uDCD7"],"","\\uDBB9\\uDCFF",["green_book"],26,14,31,0],\n\t\t"1f4d8":[["\\uD83D\\uDCD8"],"","\\uDBB9\\uDD00",["blue_book"],26,15,31,0],\n\t\t"1f4d9":[["\\uD83D\\uDCD9"],"","\\uDBB9\\uDD01",["orange_book"],26,16,31,0],\n\t\t"1f4da":[["\\uD83D\\uDCDA"],"","\\uDBB9\\uDD03",["books"],26,17,31,0],\n\t\t"1f4db":[["\\uD83D\\uDCDB"],"","\\uDBB9\\uDD04",["name_badge"],26,18,31,0],\n\t\t"1f4dc":[["\\uD83D\\uDCDC"],"","\\uDBB9\\uDCFD",["scroll"],26,19,31,0],\n\t\t"1f4dd":[["\\uD83D\\uDCDD"],"\\uE301","\\uDBB9\\uDD27",["memo","pencil"],26,20,31,0],\n\t\t"1f4de":[["\\uD83D\\uDCDE"],"","\\uDBB9\\uDD24",["telephone_receiver"],26,21,31,0],\n\t\t"1f4df":[["\\uD83D\\uDCDF"],"","\\uDBB9\\uDD22",["pager"],26,22,31,0],\n\t\t"1f4e0":[["\\uD83D\\uDCE0"],"\\uE00B","\\uDBB9\\uDD28",["fax"],26,23,31,0],\n\t\t"1f4e1":[["\\uD83D\\uDCE1"],"\\uE14B","\\uDBB9\\uDD31",["satellite_antenna"],26,24,31,0],\n\t\t"1f4e2":[["\\uD83D\\uDCE2"],"\\uE142","\\uDBB9\\uDD2F",["loudspeaker"],26,25,31,0],\n\t\t"1f4e3":[["\\uD83D\\uDCE3"],"\\uE317","\\uDBB9\\uDD30",["mega"],26,26,31,0],\n\t\t"1f4e4":[["\\uD83D\\uDCE4"],"","\\uDBB9\\uDD33",["outbox_tray"],26,27,31,0],\n\t\t"1f4e5":[["\\uD83D\\uDCE5"],"","\\uDBB9\\uDD34",["inbox_tray"],26,28,31,0],\n\t\t"1f4e6":[["\\uD83D\\uDCE6"],"","\\uDBB9\\uDD35",["package"],26,29,31,0],\n\t\t"1f4e7":[["\\uD83D\\uDCE7"],"","\\uDBBA\\uDF92",["e-mail"],26,30,31,0],\n\t\t"1f4e8":[["\\uD83D\\uDCE8"],"","\\uDBB9\\uDD2A",["incoming_envelope"],26,31,31,0],\n\t\t"1f4e9":[["\\uD83D\\uDCE9"],"\\uE103","\\uDBB9\\uDD2B",["envelope_with_arrow"],26,32,31,0],\n\t\t"1f4ea":[["\\uD83D\\uDCEA"],"","\\uDBB9\\uDD2C",["mailbox_closed"],26,33,31,0],\n\t\t"1f4eb":[["\\uD83D\\uDCEB"],"\\uE101","\\uDBB9\\uDD2D",["mailbox"],26,34,31,0],\n\t\t"1f4ec":[["\\uD83D\\uDCEC"],"","",["mailbox_with_mail"],26,35,31,0],\n\t\t"1f4ed":[["\\uD83D\\uDCED"],"","",["mailbox_with_no_mail"],26,36,31,0],\n\t\t"1f4ee":[["\\uD83D\\uDCEE"],"\\uE102","\\uDBB9\\uDD2E",["postbox"],26,37,31,0],\n\t\t"1f4ef":[["\\uD83D\\uDCEF"],"","",["postal_horn"],26,38,31,0],\n\t\t"1f4f0":[["\\uD83D\\uDCF0"],"","\\uDBBA\\uDC22",["newspaper"],26,39,31,0],\n\t\t"1f4f1":[["\\uD83D\\uDCF1"],"\\uE00A","\\uDBB9\\uDD25",["iphone"],26,40,31,0],\n\t\t"1f4f2":[["\\uD83D\\uDCF2"],"\\uE104","\\uDBB9\\uDD26",["calling"],26,41,31,0],\n\t\t"1f4f3":[["\\uD83D\\uDCF3"],"\\uE250","\\uDBBA\\uDC39",["vibration_mode"],26,42,31,0],\n\t\t"1f4f4":[["\\uD83D\\uDCF4"],"\\uE251","\\uDBBA\\uDC3A",["mobile_phone_off"],26,43,31,0],\n\t\t"1f4f5":[["\\uD83D\\uDCF5"],"","",["no_mobile_phones"],26,44,31,0],\n\t\t"1f4f6":[["\\uD83D\\uDCF6"],"\\uE20B","\\uDBBA\\uDC38",["signal_strength"],26,45,31,0],\n\t\t"1f4f7":[["\\uD83D\\uDCF7"],"\\uE008","\\uDBB9\\uDCEF",["camera"],26,46,31,0],\n\t\t"1f4f8":[["\\uD83D\\uDCF8"],"","",["camera_with_flash"],26,47,15,0],\n\t\t"1f4f9":[["\\uD83D\\uDCF9"],"","\\uDBB9\\uDCF9",["video_camera"],26,48,31,0],\n\t\t"1f4fa":[["\\uD83D\\uDCFA"],"\\uE12A","\\uDBBA\\uDC1C",["tv"],26,49,31,0],\n\t\t"1f4fb":[["\\uD83D\\uDCFB"],"\\uE128","\\uDBBA\\uDC1F",["radio"],26,50,31,0],\n\t\t"1f4fc":[["\\uD83D\\uDCFC"],"\\uE129","\\uDBBA\\uDC20",["vhs"],26,51,31,0],\n\t\t"1f4fd-fe0f":[["\\uD83D\\uDCFD\\uFE0F","\\uD83D\\uDCFD"],"","",["film_projector"],27,0,15,0],\n\t\t"1f4ff":[["\\uD83D\\uDCFF"],"","",["prayer_beads"],27,1,15,0],\n\t\t"1f500":[["\\uD83D\\uDD00"],"","",["twisted_rightwards_arrows"],27,2,31,0],\n\t\t"1f501":[["\\uD83D\\uDD01"],"","",["repeat"],27,3,31,0],\n\t\t"1f502":[["\\uD83D\\uDD02"],"","",["repeat_one"],27,4,31,0],\n\t\t"1f503":[["\\uD83D\\uDD03"],"","\\uDBBA\\uDF91",["arrows_clockwise"],27,5,31,0],\n\t\t"1f504":[["\\uD83D\\uDD04"],"","",["arrows_counterclockwise"],27,6,31,0],\n\t\t"1f505":[["\\uD83D\\uDD05"],"","",["low_brightness"],27,7,31,0],\n\t\t"1f506":[["\\uD83D\\uDD06"],"","",["high_brightness"],27,8,31,0],\n\t\t"1f507":[["\\uD83D\\uDD07"],"","",["mute"],27,9,31,0],\n\t\t"1f508":[["\\uD83D\\uDD08"],"","",["speaker"],27,10,31,0],\n\t\t"1f509":[["\\uD83D\\uDD09"],"","",["sound"],27,11,31,0],\n\t\t"1f50a":[["\\uD83D\\uDD0A"],"\\uE141","\\uDBBA\\uDC21",["loud_sound"],27,12,31,0],\n\t\t"1f50b":[["\\uD83D\\uDD0B"],"","\\uDBB9\\uDCFC",["battery"],27,13,31,0],\n\t\t"1f50c":[["\\uD83D\\uDD0C"],"","\\uDBB9\\uDCFE",["electric_plug"],27,14,31,0],\n\t\t"1f50d":[["\\uD83D\\uDD0D"],"\\uE114","\\uDBBA\\uDF85",["mag"],27,15,31,0],\n\t\t"1f50e":[["\\uD83D\\uDD0E"],"","\\uDBBA\\uDF8D",["mag_right"],27,16,31,0],\n\t\t"1f50f":[["\\uD83D\\uDD0F"],"","\\uDBBA\\uDF90",["lock_with_ink_pen"],27,17,31,0],\n\t\t"1f510":[["\\uD83D\\uDD10"],"","\\uDBBA\\uDF8A",["closed_lock_with_key"],27,18,31,0],\n\t\t"1f511":[["\\uD83D\\uDD11"],"\\uE03F","\\uDBBA\\uDF82",["key"],27,19,31,0],\n\t\t"1f512":[["\\uD83D\\uDD12"],"\\uE144","\\uDBBA\\uDF86",["lock"],27,20,31,0],\n\t\t"1f513":[["\\uD83D\\uDD13"],"\\uE145","\\uDBBA\\uDF87",["unlock"],27,21,31,0],\n\t\t"1f514":[["\\uD83D\\uDD14"],"\\uE325","\\uDBB9\\uDCF2",["bell"],27,22,31,0],\n\t\t"1f515":[["\\uD83D\\uDD15"],"","",["no_bell"],27,23,31,0],\n\t\t"1f516":[["\\uD83D\\uDD16"],"","\\uDBBA\\uDF8F",["bookmark"],27,24,31,0],\n\t\t"1f517":[["\\uD83D\\uDD17"],"","\\uDBBA\\uDF4B",["link"],27,25,31,0],\n\t\t"1f518":[["\\uD83D\\uDD18"],"","\\uDBBA\\uDF8C",["radio_button"],27,26,31,0],\n\t\t"1f519":[["\\uD83D\\uDD19"],"","\\uDBBA\\uDF8E",["back"],27,27,31,0],\n\t\t"1f51a":[["\\uD83D\\uDD1A"],"","\\uDBB8\\uDC1A",["end"],27,28,31,0],\n\t\t"1f51b":[["\\uD83D\\uDD1B"],"","\\uDBB8\\uDC19",["on"],27,29,31,0],\n\t\t"1f51c":[["\\uD83D\\uDD1C"],"","\\uDBB8\\uDC18",["soon"],27,30,31,0],\n\t\t"1f51d":[["\\uD83D\\uDD1D"],"\\uE24C","\\uDBBA\\uDF42",["top"],27,31,31,0],\n\t\t"1f51e":[["\\uD83D\\uDD1E"],"\\uE207","\\uDBBA\\uDF25",["underage"],27,32,31,0],\n\t\t"1f51f":[["\\uD83D\\uDD1F"],"","\\uDBBA\\uDC3B",["keycap_ten"],27,33,31,0],\n\t\t"1f520":[["\\uD83D\\uDD20"],"","\\uDBBA\\uDF7C",["capital_abcd"],27,34,31,0],\n\t\t"1f521":[["\\uD83D\\uDD21"],"","\\uDBBA\\uDF7D",["abcd"],27,35,31,0],\n\t\t"1f522":[["\\uD83D\\uDD22"],"","\\uDBBA\\uDF7E",["1234"],27,36,31,0],\n\t\t"1f523":[["\\uD83D\\uDD23"],"","\\uDBBA\\uDF7F",["symbols"],27,37,31,0],\n\t\t"1f524":[["\\uD83D\\uDD24"],"","\\uDBBA\\uDF80",["abc"],27,38,31,0],\n\t\t"1f525":[["\\uD83D\\uDD25"],"\\uE11D","\\uDBB9\\uDCF6",["fire"],27,39,31,0],\n\t\t"1f526":[["\\uD83D\\uDD26"],"","\\uDBB9\\uDCFB",["flashlight"],27,40,31,0],\n\t\t"1f527":[["\\uD83D\\uDD27"],"","\\uDBB9\\uDCC9",["wrench"],27,41,31,0],\n\t\t"1f528":[["\\uD83D\\uDD28"],"\\uE116","\\uDBB9\\uDCCA",["hammer"],27,42,31,0],\n\t\t"1f529":[["\\uD83D\\uDD29"],"","\\uDBB9\\uDCCB",["nut_and_bolt"],27,43,31,0],\n\t\t"1f52a":[["\\uD83D\\uDD2A"],"","\\uDBB9\\uDCFA",["hocho","knife"],27,44,31,0],\n\t\t"1f52b":[["\\uD83D\\uDD2B"],"\\uE113","\\uDBB9\\uDCF5",["gun"],27,45,31,0],\n\t\t"1f52c":[["\\uD83D\\uDD2C"],"","",["microscope"],27,46,31,0],\n\t\t"1f52d":[["\\uD83D\\uDD2D"],"","",["telescope"],27,47,31,0],\n\t\t"1f52e":[["\\uD83D\\uDD2E"],"","\\uDBB9\\uDCF7",["crystal_ball"],27,48,31,0],\n\t\t"1f52f":[["\\uD83D\\uDD2F"],"\\uE23E","\\uDBB9\\uDCF8",["six_pointed_star"],27,49,31,0],\n\t\t"1f530":[["\\uD83D\\uDD30"],"\\uE209","\\uDBB8\\uDC44",["beginner"],27,50,31,0],\n\t\t"1f531":[["\\uD83D\\uDD31"],"\\uE031","\\uDBB9\\uDCD2",["trident"],27,51,31,0],\n\t\t"1f532":[["\\uD83D\\uDD32"],"\\uE21A","\\uDBBA\\uDF64",["black_square_button"],28,0,31,0],\n\t\t"1f533":[["\\uD83D\\uDD33"],"\\uE21B","\\uDBBA\\uDF67",["white_square_button"],28,1,31,0],\n\t\t"1f534":[["\\uD83D\\uDD34"],"\\uE219","\\uDBBA\\uDF63",["red_circle"],28,2,31,0],\n\t\t"1f535":[["\\uD83D\\uDD35"],"","\\uDBBA\\uDF64",["large_blue_circle"],28,3,31,0],\n\t\t"1f536":[["\\uD83D\\uDD36"],"","\\uDBBA\\uDF73",["large_orange_diamond"],28,4,31,0],\n\t\t"1f537":[["\\uD83D\\uDD37"],"","\\uDBBA\\uDF74",["large_blue_diamond"],28,5,31,0],\n\t\t"1f538":[["\\uD83D\\uDD38"],"","\\uDBBA\\uDF75",["small_orange_diamond"],28,6,31,0],\n\t\t"1f539":[["\\uD83D\\uDD39"],"","\\uDBBA\\uDF76",["small_blue_diamond"],28,7,31,0],\n\t\t"1f53a":[["\\uD83D\\uDD3A"],"","\\uDBBA\\uDF78",["small_red_triangle"],28,8,31,0],\n\t\t"1f53b":[["\\uD83D\\uDD3B"],"","\\uDBBA\\uDF79",["small_red_triangle_down"],28,9,31,0],\n\t\t"1f53c":[["\\uD83D\\uDD3C"],"","\\uDBBA\\uDF01",["arrow_up_small"],28,10,31,0],\n\t\t"1f53d":[["\\uD83D\\uDD3D"],"","\\uDBBA\\uDF00",["arrow_down_small"],28,11,31,0],\n\t\t"1f549-fe0f":[["\\uD83D\\uDD49\\uFE0F","\\uD83D\\uDD49"],"","",["om_symbol"],28,12,15,0],\n\t\t"1f54a-fe0f":[["\\uD83D\\uDD4A\\uFE0F","\\uD83D\\uDD4A"],"","",["dove_of_peace"],28,13,15,0],\n\t\t"1f54b":[["\\uD83D\\uDD4B"],"","",["kaaba"],28,14,15,0],\n\t\t"1f54c":[["\\uD83D\\uDD4C"],"","",["mosque"],28,15,15,0],\n\t\t"1f54d":[["\\uD83D\\uDD4D"],"","",["synagogue"],28,16,15,0],\n\t\t"1f54e":[["\\uD83D\\uDD4E"],"","",["menorah_with_nine_branches"],28,17,15,0],\n\t\t"1f550":[["\\uD83D\\uDD50"],"\\uE024","\\uDBB8\\uDC1E",["clock1"],28,18,31,0],\n\t\t"1f551":[["\\uD83D\\uDD51"],"\\uE025","\\uDBB8\\uDC1F",["clock2"],28,19,31,0],\n\t\t"1f552":[["\\uD83D\\uDD52"],"\\uE026","\\uDBB8\\uDC20",["clock3"],28,20,31,0],\n\t\t"1f553":[["\\uD83D\\uDD53"],"\\uE027","\\uDBB8\\uDC21",["clock4"],28,21,31,0],\n\t\t"1f554":[["\\uD83D\\uDD54"],"\\uE028","\\uDBB8\\uDC22",["clock5"],28,22,31,0],\n\t\t"1f555":[["\\uD83D\\uDD55"],"\\uE029","\\uDBB8\\uDC23",["clock6"],28,23,31,0],\n\t\t"1f556":[["\\uD83D\\uDD56"],"\\uE02A","\\uDBB8\\uDC24",["clock7"],28,24,31,0],\n\t\t"1f557":[["\\uD83D\\uDD57"],"\\uE02B","\\uDBB8\\uDC25",["clock8"],28,25,31,0],\n\t\t"1f558":[["\\uD83D\\uDD58"],"\\uE02C","\\uDBB8\\uDC26",["clock9"],28,26,31,0],\n\t\t"1f559":[["\\uD83D\\uDD59"],"\\uE02D","\\uDBB8\\uDC27",["clock10"],28,27,31,0],\n\t\t"1f55a":[["\\uD83D\\uDD5A"],"\\uE02E","\\uDBB8\\uDC28",["clock11"],28,28,31,0],\n\t\t"1f55b":[["\\uD83D\\uDD5B"],"\\uE02F","\\uDBB8\\uDC29",["clock12"],28,29,31,0],\n\t\t"1f55c":[["\\uD83D\\uDD5C"],"","",["clock130"],28,30,31,0],\n\t\t"1f55d":[["\\uD83D\\uDD5D"],"","",["clock230"],28,31,31,0],\n\t\t"1f55e":[["\\uD83D\\uDD5E"],"","",["clock330"],28,32,31,0],\n\t\t"1f55f":[["\\uD83D\\uDD5F"],"","",["clock430"],28,33,31,0],\n\t\t"1f560":[["\\uD83D\\uDD60"],"","",["clock530"],28,34,31,0],\n\t\t"1f561":[["\\uD83D\\uDD61"],"","",["clock630"],28,35,31,0],\n\t\t"1f562":[["\\uD83D\\uDD62"],"","",["clock730"],28,36,31,0],\n\t\t"1f563":[["\\uD83D\\uDD63"],"","",["clock830"],28,37,31,0],\n\t\t"1f564":[["\\uD83D\\uDD64"],"","",["clock930"],28,38,31,0],\n\t\t"1f565":[["\\uD83D\\uDD65"],"","",["clock1030"],28,39,31,0],\n\t\t"1f566":[["\\uD83D\\uDD66"],"","",["clock1130"],28,40,31,0],\n\t\t"1f567":[["\\uD83D\\uDD67"],"","",["clock1230"],28,41,31,0],\n\t\t"1f56f-fe0f":[["\\uD83D\\uDD6F\\uFE0F","\\uD83D\\uDD6F"],"","",["candle"],28,42,15,0],\n\t\t"1f570-fe0f":[["\\uD83D\\uDD70\\uFE0F","\\uD83D\\uDD70"],"","",["mantelpiece_clock"],28,43,15,0],\n\t\t"1f573-fe0f":[["\\uD83D\\uDD73\\uFE0F","\\uD83D\\uDD73"],"","",["hole"],28,44,15,0],\n\t\t"1f574-fe0f":[["\\uD83D\\uDD74\\uFE0F","\\uD83D\\uDD74"],"","",["man_in_business_suit_levitating"],28,45,15,0],\n\t\t"1f575-fe0f-200d-2640-fe0f":[["\\uD83D\\uDD75\\uFE0F\\u200D\\u2640\\uFE0F"],"","",["female-detective"],28,51,7,0],\n\t\t"1f575-fe0f-200d-2642-fe0f":[["\\uD83D\\uDD75\\uFE0F\\u200D\\u2642\\uFE0F","\\uD83D\\uDD75\\uFE0F","\\uD83D\\uDD75"],"","",["male-detective","sleuth_or_spy"],29,5,7,0],\n\t\t"1f576-fe0f":[["\\uD83D\\uDD76\\uFE0F","\\uD83D\\uDD76"],"","",["dark_sunglasses"],29,17,15,0],\n\t\t"1f577-fe0f":[["\\uD83D\\uDD77\\uFE0F","\\uD83D\\uDD77"],"","",["spider"],29,18,15,0],\n\t\t"1f578-fe0f":[["\\uD83D\\uDD78\\uFE0F","\\uD83D\\uDD78"],"","",["spider_web"],29,19,15,0],\n\t\t"1f579-fe0f":[["\\uD83D\\uDD79\\uFE0F","\\uD83D\\uDD79"],"","",["joystick"],29,20,15,0],\n\t\t"1f57a":[["\\uD83D\\uDD7A"],"","",["man_dancing"],29,21,15,0],\n\t\t"1f587-fe0f":[["\\uD83D\\uDD87\\uFE0F","\\uD83D\\uDD87"],"","",["linked_paperclips"],29,27,15,0],\n\t\t"1f58a-fe0f":[["\\uD83D\\uDD8A\\uFE0F","\\uD83D\\uDD8A"],"","",["lower_left_ballpoint_pen"],29,28,15,0],\n\t\t"1f58b-fe0f":[["\\uD83D\\uDD8B\\uFE0F","\\uD83D\\uDD8B"],"","",["lower_left_fountain_pen"],29,29,15,0],\n\t\t"1f58c-fe0f":[["\\uD83D\\uDD8C\\uFE0F","\\uD83D\\uDD8C"],"","",["lower_left_paintbrush"],29,30,15,0],\n\t\t"1f58d-fe0f":[["\\uD83D\\uDD8D\\uFE0F","\\uD83D\\uDD8D"],"","",["lower_left_crayon"],29,31,15,0],\n\t\t"1f590-fe0f":[["\\uD83D\\uDD90\\uFE0F","\\uD83D\\uDD90"],"","",["raised_hand_with_fingers_splayed"],29,32,15,0],\n\t\t"1f595":[["\\uD83D\\uDD95"],"","",["middle_finger","reversed_hand_with_middle_finger_extended"],29,38,15,0],\n\t\t"1f596":[["\\uD83D\\uDD96"],"","",["spock-hand"],29,44,15,0],\n\t\t"1f5a4":[["\\uD83D\\uDDA4"],"","",["black_heart"],29,50,15,0],\n\t\t"1f5a5-fe0f":[["\\uD83D\\uDDA5\\uFE0F","\\uD83D\\uDDA5"],"","",["desktop_computer"],29,51,15,0],\n\t\t"1f5a8-fe0f":[["\\uD83D\\uDDA8\\uFE0F","\\uD83D\\uDDA8"],"","",["printer"],30,0,15,0],\n\t\t"1f5b1-fe0f":[["\\uD83D\\uDDB1\\uFE0F","\\uD83D\\uDDB1"],"","",["three_button_mouse"],30,1,15,0],\n\t\t"1f5b2-fe0f":[["\\uD83D\\uDDB2\\uFE0F","\\uD83D\\uDDB2"],"","",["trackball"],30,2,15,0],\n\t\t"1f5bc-fe0f":[["\\uD83D\\uDDBC\\uFE0F","\\uD83D\\uDDBC"],"","",["frame_with_picture"],30,3,15,0],\n\t\t"1f5c2-fe0f":[["\\uD83D\\uDDC2\\uFE0F","\\uD83D\\uDDC2"],"","",["card_index_dividers"],30,4,15,0],\n\t\t"1f5c3-fe0f":[["\\uD83D\\uDDC3\\uFE0F","\\uD83D\\uDDC3"],"","",["card_file_box"],30,5,15,0],\n\t\t"1f5c4-fe0f":[["\\uD83D\\uDDC4\\uFE0F","\\uD83D\\uDDC4"],"","",["file_cabinet"],30,6,15,0],\n\t\t"1f5d1-fe0f":[["\\uD83D\\uDDD1\\uFE0F","\\uD83D\\uDDD1"],"","",["wastebasket"],30,7,15,0],\n\t\t"1f5d2-fe0f":[["\\uD83D\\uDDD2\\uFE0F","\\uD83D\\uDDD2"],"","",["spiral_note_pad"],30,8,15,0],\n\t\t"1f5d3-fe0f":[["\\uD83D\\uDDD3\\uFE0F","\\uD83D\\uDDD3"],"","",["spiral_calendar_pad"],30,9,15,0],\n\t\t"1f5dc-fe0f":[["\\uD83D\\uDDDC\\uFE0F","\\uD83D\\uDDDC"],"","",["compression"],30,10,15,0],\n\t\t"1f5dd-fe0f":[["\\uD83D\\uDDDD\\uFE0F","\\uD83D\\uDDDD"],"","",["old_key"],30,11,15,0],\n\t\t"1f5de-fe0f":[["\\uD83D\\uDDDE\\uFE0F","\\uD83D\\uDDDE"],"","",["rolled_up_newspaper"],30,12,15,0],\n\t\t"1f5e1-fe0f":[["\\uD83D\\uDDE1\\uFE0F","\\uD83D\\uDDE1"],"","",["dagger_knife"],30,13,15,0],\n\t\t"1f5e3-fe0f":[["\\uD83D\\uDDE3\\uFE0F","\\uD83D\\uDDE3"],"","",["speaking_head_in_silhouette"],30,14,15,0],\n\t\t"1f5e8-fe0f":[["\\uD83D\\uDDE8\\uFE0F","\\uD83D\\uDDE8"],"","",["left_speech_bubble"],30,15,15,0],\n\t\t"1f5ef-fe0f":[["\\uD83D\\uDDEF\\uFE0F","\\uD83D\\uDDEF"],"","",["right_anger_bubble"],30,16,15,0],\n\t\t"1f5f3-fe0f":[["\\uD83D\\uDDF3\\uFE0F","\\uD83D\\uDDF3"],"","",["ballot_box_with_ballot"],30,17,15,0],\n\t\t"1f5fa-fe0f":[["\\uD83D\\uDDFA\\uFE0F","\\uD83D\\uDDFA"],"","",["world_map"],30,18,15,0],\n\t\t"1f5fb":[["\\uD83D\\uDDFB"],"\\uE03B","\\uDBB9\\uDCC3",["mount_fuji"],30,19,31,0],\n\t\t"1f5fc":[["\\uD83D\\uDDFC"],"\\uE509","\\uDBB9\\uDCC4",["tokyo_tower"],30,20,31,0],\n\t\t"1f5fd":[["\\uD83D\\uDDFD"],"\\uE51D","\\uDBB9\\uDCC6",["statue_of_liberty"],30,21,31,0],\n\t\t"1f5fe":[["\\uD83D\\uDDFE"],"","\\uDBB9\\uDCC7",["japan"],30,22,31,0],\n\t\t"1f5ff":[["\\uD83D\\uDDFF"],"","\\uDBB9\\uDCC8",["moyai"],30,23,31,0],\n\t\t"1f600":[["\\uD83D\\uDE00"],"","",["grinning"],30,24,31,0,":D"],\n\t\t"1f601":[["\\uD83D\\uDE01"],"\\uE404","\\uDBB8\\uDF33",["grin"],30,25,31,0],\n\t\t"1f602":[["\\uD83D\\uDE02"],"\\uE412","\\uDBB8\\uDF34",["joy"],30,26,31,0],\n\t\t"1f603":[["\\uD83D\\uDE03"],"\\uE057","\\uDBB8\\uDF30",["smiley"],30,27,31,0,":)"],\n\t\t"1f604":[["\\uD83D\\uDE04"],"\\uE415","\\uDBB8\\uDF38",["smile"],30,28,31,0,":)"],\n\t\t"1f605":[["\\uD83D\\uDE05"],"","\\uDBB8\\uDF31",["sweat_smile"],30,29,31,0],\n\t\t"1f606":[["\\uD83D\\uDE06"],"","\\uDBB8\\uDF32",["laughing","satisfied"],30,30,31,0],\n\t\t"1f607":[["\\uD83D\\uDE07"],"","",["innocent"],30,31,31,0],\n\t\t"1f608":[["\\uD83D\\uDE08"],"","",["smiling_imp"],30,32,31,0],\n\t\t"1f609":[["\\uD83D\\uDE09"],"\\uE405","\\uDBB8\\uDF47",["wink"],30,33,31,0,";)"],\n\t\t"1f60a":[["\\uD83D\\uDE0A"],"\\uE056","\\uDBB8\\uDF35",["blush"],30,34,31,0,":)"],\n\t\t"1f60b":[["\\uD83D\\uDE0B"],"","\\uDBB8\\uDF2B",["yum"],30,35,31,0],\n\t\t"1f60c":[["\\uD83D\\uDE0C"],"\\uE40A","\\uDBB8\\uDF3E",["relieved"],30,36,31,0],\n\t\t"1f60d":[["\\uD83D\\uDE0D"],"\\uE106","\\uDBB8\\uDF27",["heart_eyes"],30,37,31,0],\n\t\t"1f60e":[["\\uD83D\\uDE0E"],"","",["sunglasses"],30,38,31,0],\n\t\t"1f60f":[["\\uD83D\\uDE0F"],"\\uE402","\\uDBB8\\uDF43",["smirk"],30,39,31,0],\n\t\t"1f610":[["\\uD83D\\uDE10"],"","",["neutral_face"],30,40,31,0],\n\t\t"1f611":[["\\uD83D\\uDE11"],"","",["expressionless"],30,41,31,0],\n\t\t"1f612":[["\\uD83D\\uDE12"],"\\uE40E","\\uDBB8\\uDF26",["unamused"],30,42,31,0,":("],\n\t\t"1f613":[["\\uD83D\\uDE13"],"\\uE108","\\uDBB8\\uDF44",["sweat"],30,43,31,0],\n\t\t"1f614":[["\\uD83D\\uDE14"],"\\uE403","\\uDBB8\\uDF40",["pensive"],30,44,31,0],\n\t\t"1f615":[["\\uD83D\\uDE15"],"","",["confused"],30,45,31,0],\n\t\t"1f616":[["\\uD83D\\uDE16"],"\\uE407","\\uDBB8\\uDF3F",["confounded"],30,46,31,0],\n\t\t"1f617":[["\\uD83D\\uDE17"],"","",["kissing"],30,47,31,0],\n\t\t"1f618":[["\\uD83D\\uDE18"],"\\uE418","\\uDBB8\\uDF2C",["kissing_heart"],30,48,31,0],\n\t\t"1f619":[["\\uD83D\\uDE19"],"","",["kissing_smiling_eyes"],30,49,31,0],\n\t\t"1f61a":[["\\uD83D\\uDE1A"],"\\uE417","\\uDBB8\\uDF2D",["kissing_closed_eyes"],30,50,31,0],\n\t\t"1f61b":[["\\uD83D\\uDE1B"],"","",["stuck_out_tongue"],30,51,31,0,":p"],\n\t\t"1f61c":[["\\uD83D\\uDE1C"],"\\uE105","\\uDBB8\\uDF29",["stuck_out_tongue_winking_eye"],31,0,31,0,";p"],\n\t\t"1f61d":[["\\uD83D\\uDE1D"],"\\uE409","\\uDBB8\\uDF2A",["stuck_out_tongue_closed_eyes"],31,1,31,0],\n\t\t"1f61e":[["\\uD83D\\uDE1E"],"\\uE058","\\uDBB8\\uDF23",["disappointed"],31,2,31,0,":("],\n\t\t"1f61f":[["\\uD83D\\uDE1F"],"","",["worried"],31,3,31,0],\n\t\t"1f620":[["\\uD83D\\uDE20"],"\\uE059","\\uDBB8\\uDF20",["angry"],31,4,31,0],\n\t\t"1f621":[["\\uD83D\\uDE21"],"\\uE416","\\uDBB8\\uDF3D",["rage"],31,5,31,0],\n\t\t"1f622":[["\\uD83D\\uDE22"],"\\uE413","\\uDBB8\\uDF39",["cry"],31,6,31,0,":\'("],\n\t\t"1f623":[["\\uD83D\\uDE23"],"\\uE406","\\uDBB8\\uDF3C",["persevere"],31,7,31,0],\n\t\t"1f624":[["\\uD83D\\uDE24"],"","\\uDBB8\\uDF28",["triumph"],31,8,31,0],\n\t\t"1f625":[["\\uD83D\\uDE25"],"\\uE401","\\uDBB8\\uDF45",["disappointed_relieved"],31,9,31,0],\n\t\t"1f626":[["\\uD83D\\uDE26"],"","",["frowning"],31,10,31,0],\n\t\t"1f627":[["\\uD83D\\uDE27"],"","",["anguished"],31,11,31,0],\n\t\t"1f628":[["\\uD83D\\uDE28"],"\\uE40B","\\uDBB8\\uDF3B",["fearful"],31,12,31,0],\n\t\t"1f629":[["\\uD83D\\uDE29"],"","\\uDBB8\\uDF21",["weary"],31,13,31,0],\n\t\t"1f62a":[["\\uD83D\\uDE2A"],"\\uE408","\\uDBB8\\uDF42",["sleepy"],31,14,31,0],\n\t\t"1f62b":[["\\uD83D\\uDE2B"],"","\\uDBB8\\uDF46",["tired_face"],31,15,31,0],\n\t\t"1f62c":[["\\uD83D\\uDE2C"],"","",["grimacing"],31,16,31,0],\n\t\t"1f62d":[["\\uD83D\\uDE2D"],"\\uE411","\\uDBB8\\uDF3A",["sob"],31,17,31,0,":\'("],\n\t\t"1f62e":[["\\uD83D\\uDE2E"],"","",["open_mouth"],31,18,31,0],\n\t\t"1f62f":[["\\uD83D\\uDE2F"],"","",["hushed"],31,19,31,0],\n\t\t"1f630":[["\\uD83D\\uDE30"],"\\uE40F","\\uDBB8\\uDF25",["cold_sweat"],31,20,31,0],\n\t\t"1f631":[["\\uD83D\\uDE31"],"\\uE107","\\uDBB8\\uDF41",["scream"],31,21,31,0],\n\t\t"1f632":[["\\uD83D\\uDE32"],"\\uE410","\\uDBB8\\uDF22",["astonished"],31,22,31,0],\n\t\t"1f633":[["\\uD83D\\uDE33"],"\\uE40D","\\uDBB8\\uDF2F",["flushed"],31,23,31,0],\n\t\t"1f634":[["\\uD83D\\uDE34"],"","",["sleeping"],31,24,31,0],\n\t\t"1f635":[["\\uD83D\\uDE35"],"","\\uDBB8\\uDF24",["dizzy_face"],31,25,31,0],\n\t\t"1f636":[["\\uD83D\\uDE36"],"","",["no_mouth"],31,26,31,0],\n\t\t"1f637":[["\\uD83D\\uDE37"],"\\uE40C","\\uDBB8\\uDF2E",["mask"],31,27,31,0],\n\t\t"1f638":[["\\uD83D\\uDE38"],"","\\uDBB8\\uDF49",["smile_cat"],31,28,31,0],\n\t\t"1f639":[["\\uD83D\\uDE39"],"","\\uDBB8\\uDF4A",["joy_cat"],31,29,31,0],\n\t\t"1f63a":[["\\uD83D\\uDE3A"],"","\\uDBB8\\uDF48",["smiley_cat"],31,30,31,0],\n\t\t"1f63b":[["\\uD83D\\uDE3B"],"","\\uDBB8\\uDF4C",["heart_eyes_cat"],31,31,31,0],\n\t\t"1f63c":[["\\uD83D\\uDE3C"],"","\\uDBB8\\uDF4F",["smirk_cat"],31,32,31,0],\n\t\t"1f63d":[["\\uD83D\\uDE3D"],"","\\uDBB8\\uDF4B",["kissing_cat"],31,33,31,0],\n\t\t"1f63e":[["\\uD83D\\uDE3E"],"","\\uDBB8\\uDF4E",["pouting_cat"],31,34,31,0],\n\t\t"1f63f":[["\\uD83D\\uDE3F"],"","\\uDBB8\\uDF4D",["crying_cat_face"],31,35,31,0],\n\t\t"1f640":[["\\uD83D\\uDE40"],"","\\uDBB8\\uDF50",["scream_cat"],31,36,31,0],\n\t\t"1f641":[["\\uD83D\\uDE41"],"","",["slightly_frowning_face"],31,37,15,0],\n\t\t"1f642":[["\\uD83D\\uDE42"],"","",["slightly_smiling_face"],31,38,31,0],\n\t\t"1f643":[["\\uD83D\\uDE43"],"","",["upside_down_face"],31,39,15,0],\n\t\t"1f644":[["\\uD83D\\uDE44"],"","",["face_with_rolling_eyes"],31,40,15,0],\n\t\t"1f645-200d-2640-fe0f":[["\\uD83D\\uDE45\\u200D\\u2640\\uFE0F","\\uD83D\\uDE45\\u200D\\u2640","\\uD83D\\uDE45"],"","",["woman-gesturing-no","no_good"],31,41,15,0],\n\t\t"1f645-200d-2642-fe0f":[["\\uD83D\\uDE45\\u200D\\u2642\\uFE0F","\\uD83D\\uDE45\\u200D\\u2642"],"","",["man-gesturing-no"],31,47,15,0],\n\t\t"1f646-200d-2640-fe0f":[["\\uD83D\\uDE46\\u200D\\u2640\\uFE0F","\\uD83D\\uDE46\\u200D\\u2640","\\uD83D\\uDE46"],"","",["woman-gesturing-ok","ok_woman"],32,7,15,0],\n\t\t"1f646-200d-2642-fe0f":[["\\uD83D\\uDE46\\u200D\\u2642\\uFE0F","\\uD83D\\uDE46\\u200D\\u2642"],"","",["man-gesturing-ok"],32,13,15,0],\n\t\t"1f647-200d-2640-fe0f":[["\\uD83D\\uDE47\\u200D\\u2640\\uFE0F","\\uD83D\\uDE47\\u200D\\u2640"],"","",["woman-bowing"],32,25,15,0],\n\t\t"1f647-200d-2642-fe0f":[["\\uD83D\\uDE47\\u200D\\u2642\\uFE0F","\\uD83D\\uDE47\\u200D\\u2642","\\uD83D\\uDE47"],"","",["man-bowing","bow"],32,31,15,0],\n\t\t"1f648":[["\\uD83D\\uDE48"],"","\\uDBB8\\uDF54",["see_no_evil"],32,43,31,0],\n\t\t"1f649":[["\\uD83D\\uDE49"],"","\\uDBB8\\uDF56",["hear_no_evil"],32,44,31,0],\n\t\t"1f64a":[["\\uD83D\\uDE4A"],"","\\uDBB8\\uDF55",["speak_no_evil"],32,45,31,0],\n\t\t"1f64b-200d-2640-fe0f":[["\\uD83D\\uDE4B\\u200D\\u2640\\uFE0F","\\uD83D\\uDE4B\\u200D\\u2640","\\uD83D\\uDE4B"],"","",["woman-raising-hand","raising_hand"],32,46,15,0],\n\t\t"1f64b-200d-2642-fe0f":[["\\uD83D\\uDE4B\\u200D\\u2642\\uFE0F","\\uD83D\\uDE4B\\u200D\\u2642"],"","",["man-raising-hand"],33,0,15,0],\n\t\t"1f64c":[["\\uD83D\\uDE4C"],"\\uE427","\\uDBB8\\uDF58",["raised_hands"],33,12,31,0],\n\t\t"1f64d-200d-2640-fe0f":[["\\uD83D\\uDE4D\\u200D\\u2640\\uFE0F","\\uD83D\\uDE4D\\u200D\\u2640","\\uD83D\\uDE4D"],"","",["woman-frowning","person_frowning"],33,18,15,0],\n\t\t"1f64d-200d-2642-fe0f":[["\\uD83D\\uDE4D\\u200D\\u2642\\uFE0F","\\uD83D\\uDE4D\\u200D\\u2642"],"","",["man-frowning"],33,24,15,0],\n\t\t"1f64e-200d-2640-fe0f":[["\\uD83D\\uDE4E\\u200D\\u2640\\uFE0F","\\uD83D\\uDE4E\\u200D\\u2640","\\uD83D\\uDE4E"],"","",["woman-pouting","person_with_pouting_face"],33,36,15,0],\n\t\t"1f64e-200d-2642-fe0f":[["\\uD83D\\uDE4E\\u200D\\u2642\\uFE0F","\\uD83D\\uDE4E\\u200D\\u2642"],"","",["man-pouting"],33,42,15,0],\n\t\t"1f64f":[["\\uD83D\\uDE4F"],"\\uE41D","\\uDBB8\\uDF5B",["pray"],34,2,31,0],\n\t\t"1f680":[["\\uD83D\\uDE80"],"\\uE10D","\\uDBB9\\uDFED",["rocket"],34,8,31,0],\n\t\t"1f681":[["\\uD83D\\uDE81"],"","",["helicopter"],34,9,31,0],\n\t\t"1f682":[["\\uD83D\\uDE82"],"","",["steam_locomotive"],34,10,31,0],\n\t\t"1f683":[["\\uD83D\\uDE83"],"\\uE01E","\\uDBB9\\uDFDF",["railway_car"],34,11,31,0],\n\t\t"1f684":[["\\uD83D\\uDE84"],"\\uE435","\\uDBB9\\uDFE2",["bullettrain_side"],34,12,31,0],\n\t\t"1f685":[["\\uD83D\\uDE85"],"\\uE01F","\\uDBB9\\uDFE3",["bullettrain_front"],34,13,31,0],\n\t\t"1f686":[["\\uD83D\\uDE86"],"","",["train2"],34,14,31,0],\n\t\t"1f687":[["\\uD83D\\uDE87"],"\\uE434","\\uDBB9\\uDFE0",["metro"],34,15,31,0],\n\t\t"1f688":[["\\uD83D\\uDE88"],"","",["light_rail"],34,16,31,0],\n\t\t"1f689":[["\\uD83D\\uDE89"],"\\uE039","\\uDBB9\\uDFEC",["station"],34,17,31,0],\n\t\t"1f68a":[["\\uD83D\\uDE8A"],"","",["tram"],34,18,31,0],\n\t\t"1f68b":[["\\uD83D\\uDE8B"],"","",["train"],34,19,31,0],\n\t\t"1f68c":[["\\uD83D\\uDE8C"],"\\uE159","\\uDBB9\\uDFE6",["bus"],34,20,31,0],\n\t\t"1f68d":[["\\uD83D\\uDE8D"],"","",["oncoming_bus"],34,21,31,0],\n\t\t"1f68e":[["\\uD83D\\uDE8E"],"","",["trolleybus"],34,22,31,0],\n\t\t"1f68f":[["\\uD83D\\uDE8F"],"\\uE150","\\uDBB9\\uDFE7",["busstop"],34,23,31,0],\n\t\t"1f690":[["\\uD83D\\uDE90"],"","",["minibus"],34,24,31,0],\n\t\t"1f691":[["\\uD83D\\uDE91"],"\\uE431","\\uDBB9\\uDFF3",["ambulance"],34,25,31,0],\n\t\t"1f692":[["\\uD83D\\uDE92"],"\\uE430","\\uDBB9\\uDFF2",["fire_engine"],34,26,31,0],\n\t\t"1f693":[["\\uD83D\\uDE93"],"\\uE432","\\uDBB9\\uDFF4",["police_car"],34,27,31,0],\n\t\t"1f694":[["\\uD83D\\uDE94"],"","",["oncoming_police_car"],34,28,31,0],\n\t\t"1f695":[["\\uD83D\\uDE95"],"\\uE15A","\\uDBB9\\uDFEF",["taxi"],34,29,31,0],\n\t\t"1f696":[["\\uD83D\\uDE96"],"","",["oncoming_taxi"],34,30,31,0],\n\t\t"1f697":[["\\uD83D\\uDE97"],"\\uE01B","\\uDBB9\\uDFE4",["car","red_car"],34,31,31,0],\n\t\t"1f698":[["\\uD83D\\uDE98"],"","",["oncoming_automobile"],34,32,31,0],\n\t\t"1f699":[["\\uD83D\\uDE99"],"\\uE42E","\\uDBB9\\uDFE5",["blue_car"],34,33,31,0],\n\t\t"1f69a":[["\\uD83D\\uDE9A"],"\\uE42F","\\uDBB9\\uDFF1",["truck"],34,34,31,0],\n\t\t"1f69b":[["\\uD83D\\uDE9B"],"","",["articulated_lorry"],34,35,31,0],\n\t\t"1f69c":[["\\uD83D\\uDE9C"],"","",["tractor"],34,36,31,0],\n\t\t"1f69d":[["\\uD83D\\uDE9D"],"","",["monorail"],34,37,31,0],\n\t\t"1f69e":[["\\uD83D\\uDE9E"],"","",["mountain_railway"],34,38,31,0],\n\t\t"1f69f":[["\\uD83D\\uDE9F"],"","",["suspension_railway"],34,39,31,0],\n\t\t"1f6a0":[["\\uD83D\\uDEA0"],"","",["mountain_cableway"],34,40,31,0],\n\t\t"1f6a1":[["\\uD83D\\uDEA1"],"","",["aerial_tramway"],34,41,31,0],\n\t\t"1f6a2":[["\\uD83D\\uDEA2"],"\\uE202","\\uDBB9\\uDFE8",["ship"],34,42,31,0],\n\t\t"1f6a3-200d-2640-fe0f":[["\\uD83D\\uDEA3\\u200D\\u2640\\uFE0F","\\uD83D\\uDEA3\\u200D\\u2640"],"","",["woman-rowing-boat"],34,43,15,0],\n\t\t"1f6a3-200d-2642-fe0f":[["\\uD83D\\uDEA3\\u200D\\u2642\\uFE0F","\\uD83D\\uDEA3\\u200D\\u2642","\\uD83D\\uDEA3"],"","",["man-rowing-boat","rowboat"],34,49,15,0],\n\t\t"1f6a4":[["\\uD83D\\uDEA4"],"\\uE135","\\uDBB9\\uDFEE",["speedboat"],35,9,31,0],\n\t\t"1f6a5":[["\\uD83D\\uDEA5"],"\\uE14E","\\uDBB9\\uDFF7",["traffic_light"],35,10,31,0],\n\t\t"1f6a6":[["\\uD83D\\uDEA6"],"","",["vertical_traffic_light"],35,11,31,0],\n\t\t"1f6a7":[["\\uD83D\\uDEA7"],"\\uE137","\\uDBB9\\uDFF8",["construction"],35,12,31,0],\n\t\t"1f6a8":[["\\uD83D\\uDEA8"],"","\\uDBB9\\uDFF9",["rotating_light"],35,13,31,0],\n\t\t"1f6a9":[["\\uD83D\\uDEA9"],"","\\uDBBA\\uDF22",["triangular_flag_on_post"],35,14,31,0],\n\t\t"1f6aa":[["\\uD83D\\uDEAA"],"","\\uDBB9\\uDCF3",["door"],35,15,31,0],\n\t\t"1f6ab":[["\\uD83D\\uDEAB"],"","\\uDBBA\\uDF48",["no_entry_sign"],35,16,31,0],\n\t\t"1f6ac":[["\\uD83D\\uDEAC"],"\\uE30E","\\uDBBA\\uDF1E",["smoking"],35,17,31,0],\n\t\t"1f6ad":[["\\uD83D\\uDEAD"],"\\uE208","\\uDBBA\\uDF1F",["no_smoking"],35,18,31,0],\n\t\t"1f6ae":[["\\uD83D\\uDEAE"],"","",["put_litter_in_its_place"],35,19,31,0],\n\t\t"1f6af":[["\\uD83D\\uDEAF"],"","",["do_not_litter"],35,20,31,0],\n\t\t"1f6b0":[["\\uD83D\\uDEB0"],"","",["potable_water"],35,21,31,0],\n\t\t"1f6b1":[["\\uD83D\\uDEB1"],"","",["non-potable_water"],35,22,31,0],\n\t\t"1f6b2":[["\\uD83D\\uDEB2"],"\\uE136","\\uDBB9\\uDFEB",["bike"],35,23,31,0],\n\t\t"1f6b3":[["\\uD83D\\uDEB3"],"","",["no_bicycles"],35,24,31,0],\n\t\t"1f6b4-200d-2640-fe0f":[["\\uD83D\\uDEB4\\u200D\\u2640\\uFE0F","\\uD83D\\uDEB4\\u200D\\u2640"],"","",["woman-biking"],35,25,15,0],\n\t\t"1f6b4-200d-2642-fe0f":[["\\uD83D\\uDEB4\\u200D\\u2642\\uFE0F","\\uD83D\\uDEB4\\u200D\\u2642","\\uD83D\\uDEB4"],"","",["man-biking","bicyclist"],35,31,15,0],\n\t\t"1f6b5-200d-2640-fe0f":[["\\uD83D\\uDEB5\\u200D\\u2640\\uFE0F","\\uD83D\\uDEB5\\u200D\\u2640"],"","",["woman-mountain-biking"],35,43,15,0],\n\t\t"1f6b5-200d-2642-fe0f":[["\\uD83D\\uDEB5\\u200D\\u2642\\uFE0F","\\uD83D\\uDEB5\\u200D\\u2642","\\uD83D\\uDEB5"],"","",["man-mountain-biking","mountain_bicyclist"],35,49,15,0],\n\t\t"1f6b6-200d-2640-fe0f":[["\\uD83D\\uDEB6\\u200D\\u2640\\uFE0F","\\uD83D\\uDEB6\\u200D\\u2640"],"","",["woman-walking"],36,9,15,0],\n\t\t"1f6b6-200d-2642-fe0f":[["\\uD83D\\uDEB6\\u200D\\u2642\\uFE0F","\\uD83D\\uDEB6\\u200D\\u2642","\\uD83D\\uDEB6"],"","",["man-walking","walking"],36,15,15,0],\n\t\t"1f6b7":[["\\uD83D\\uDEB7"],"","",["no_pedestrians"],36,27,31,0],\n\t\t"1f6b8":[["\\uD83D\\uDEB8"],"","",["children_crossing"],36,28,31,0],\n\t\t"1f6b9":[["\\uD83D\\uDEB9"],"\\uE138","\\uDBBA\\uDF33",["mens"],36,29,31,0],\n\t\t"1f6ba":[["\\uD83D\\uDEBA"],"\\uE139","\\uDBBA\\uDF34",["womens"],36,30,31,0],\n\t\t"1f6bb":[["\\uD83D\\uDEBB"],"\\uE151","\\uDBB9\\uDD06",["restroom"],36,31,31,0],\n\t\t"1f6bc":[["\\uD83D\\uDEBC"],"\\uE13A","\\uDBBA\\uDF35",["baby_symbol"],36,32,31,0],\n\t\t"1f6bd":[["\\uD83D\\uDEBD"],"\\uE140","\\uDBB9\\uDD07",["toilet"],36,33,31,0],\n\t\t"1f6be":[["\\uD83D\\uDEBE"],"\\uE309","\\uDBB9\\uDD08",["wc"],36,34,31,0],\n\t\t"1f6bf":[["\\uD83D\\uDEBF"],"","",["shower"],36,35,31,0],\n\t\t"1f6c0":[["\\uD83D\\uDEC0"],"\\uE13F","\\uDBB9\\uDD05",["bath"],36,36,31,0],\n\t\t"1f6c1":[["\\uD83D\\uDEC1"],"","",["bathtub"],36,42,31,0],\n\t\t"1f6c2":[["\\uD83D\\uDEC2"],"","",["passport_control"],36,43,31,0],\n\t\t"1f6c3":[["\\uD83D\\uDEC3"],"","",["customs"],36,44,31,0],\n\t\t"1f6c4":[["\\uD83D\\uDEC4"],"","",["baggage_claim"],36,45,31,0],\n\t\t"1f6c5":[["\\uD83D\\uDEC5"],"","",["left_luggage"],36,46,31,0],\n\t\t"1f6cb-fe0f":[["\\uD83D\\uDECB\\uFE0F","\\uD83D\\uDECB"],"","",["couch_and_lamp"],36,47,15,0],\n\t\t"1f6cc":[["\\uD83D\\uDECC"],"","",["sleeping_accommodation"],36,48,15,0],\n\t\t"1f6cd-fe0f":[["\\uD83D\\uDECD\\uFE0F","\\uD83D\\uDECD"],"","",["shopping_bags"],37,2,15,0],\n\t\t"1f6ce-fe0f":[["\\uD83D\\uDECE\\uFE0F","\\uD83D\\uDECE"],"","",["bellhop_bell"],37,3,15,0],\n\t\t"1f6cf-fe0f":[["\\uD83D\\uDECF\\uFE0F","\\uD83D\\uDECF"],"","",["bed"],37,4,15,0],\n\t\t"1f6d0":[["\\uD83D\\uDED0"],"","",["place_of_worship"],37,5,15,0],\n\t\t"1f6d1":[["\\uD83D\\uDED1"],"","",["octagonal_sign"],37,6,15,0],\n\t\t"1f6d2":[["\\uD83D\\uDED2"],"","",["shopping_trolley"],37,7,15,0],\n\t\t"1f6e0-fe0f":[["\\uD83D\\uDEE0\\uFE0F","\\uD83D\\uDEE0"],"","",["hammer_and_wrench"],37,8,15,0],\n\t\t"1f6e1-fe0f":[["\\uD83D\\uDEE1\\uFE0F","\\uD83D\\uDEE1"],"","",["shield"],37,9,15,0],\n\t\t"1f6e2-fe0f":[["\\uD83D\\uDEE2\\uFE0F","\\uD83D\\uDEE2"],"","",["oil_drum"],37,10,15,0],\n\t\t"1f6e3-fe0f":[["\\uD83D\\uDEE3\\uFE0F","\\uD83D\\uDEE3"],"","",["motorway"],37,11,15,0],\n\t\t"1f6e4-fe0f":[["\\uD83D\\uDEE4\\uFE0F","\\uD83D\\uDEE4"],"","",["railway_track"],37,12,15,0],\n\t\t"1f6e5-fe0f":[["\\uD83D\\uDEE5\\uFE0F","\\uD83D\\uDEE5"],"","",["motor_boat"],37,13,15,0],\n\t\t"1f6e9-fe0f":[["\\uD83D\\uDEE9\\uFE0F","\\uD83D\\uDEE9"],"","",["small_airplane"],37,14,15,0],\n\t\t"1f6eb":[["\\uD83D\\uDEEB"],"","",["airplane_departure"],37,15,15,0],\n\t\t"1f6ec":[["\\uD83D\\uDEEC"],"","",["airplane_arriving"],37,16,15,0],\n\t\t"1f6f0-fe0f":[["\\uD83D\\uDEF0\\uFE0F","\\uD83D\\uDEF0"],"","",["satellite"],37,17,15,0],\n\t\t"1f6f3-fe0f":[["\\uD83D\\uDEF3\\uFE0F","\\uD83D\\uDEF3"],"","",["passenger_ship"],37,18,15,0],\n\t\t"1f6f4":[["\\uD83D\\uDEF4"],"","",["scooter"],37,19,15,0],\n\t\t"1f6f5":[["\\uD83D\\uDEF5"],"","",["motor_scooter"],37,20,15,0],\n\t\t"1f6f6":[["\\uD83D\\uDEF6"],"","",["canoe"],37,21,15,0],\n\t\t"1f6f7":[["\\uD83D\\uDEF7"],"","",["sled"],37,22,15,0],\n\t\t"1f6f8":[["\\uD83D\\uDEF8"],"","",["flying_saucer"],37,23,15,0],\n\t\t"1f910":[["\\uD83E\\uDD10"],"","",["zipper_mouth_face"],37,24,15,0],\n\t\t"1f911":[["\\uD83E\\uDD11"],"","",["money_mouth_face"],37,25,15,0],\n\t\t"1f912":[["\\uD83E\\uDD12"],"","",["face_with_thermometer"],37,26,15,0],\n\t\t"1f913":[["\\uD83E\\uDD13"],"","",["nerd_face"],37,27,15,0],\n\t\t"1f914":[["\\uD83E\\uDD14"],"","",["thinking_face"],37,28,15,0],\n\t\t"1f915":[["\\uD83E\\uDD15"],"","",["face_with_head_bandage"],37,29,15,0],\n\t\t"1f916":[["\\uD83E\\uDD16"],"","",["robot_face"],37,30,15,0],\n\t\t"1f917":[["\\uD83E\\uDD17"],"","",["hugging_face"],37,31,15,0],\n\t\t"1f918":[["\\uD83E\\uDD18"],"","",["the_horns","sign_of_the_horns"],37,32,15,0],\n\t\t"1f919":[["\\uD83E\\uDD19"],"","",["call_me_hand"],37,38,15,0],\n\t\t"1f91a":[["\\uD83E\\uDD1A"],"","",["raised_back_of_hand"],37,44,15,0],\n\t\t"1f91b":[["\\uD83E\\uDD1B"],"","",["left-facing_fist"],37,50,15,0],\n\t\t"1f91c":[["\\uD83E\\uDD1C"],"","",["right-facing_fist"],38,4,15,0],\n\t\t"1f91d":[["\\uD83E\\uDD1D"],"","",["handshake"],38,10,15,0],\n\t\t"1f91e":[["\\uD83E\\uDD1E"],"","",["crossed_fingers","hand_with_index_and_middle_fingers_crossed"],38,11,15,0],\n\t\t"1f91f":[["\\uD83E\\uDD1F"],"","",["i_love_you_hand_sign"],38,17,15,0],\n\t\t"1f920":[["\\uD83E\\uDD20"],"","",["face_with_cowboy_hat"],38,23,15,0],\n\t\t"1f921":[["\\uD83E\\uDD21"],"","",["clown_face"],38,24,15,0],\n\t\t"1f922":[["\\uD83E\\uDD22"],"","",["nauseated_face"],38,25,15,0],\n\t\t"1f923":[["\\uD83E\\uDD23"],"","",["rolling_on_the_floor_laughing"],38,26,15,0],\n\t\t"1f924":[["\\uD83E\\uDD24"],"","",["drooling_face"],38,27,15,0],\n\t\t"1f925":[["\\uD83E\\uDD25"],"","",["lying_face"],38,28,15,0],\n\t\t"1f926-200d-2640-fe0f":[["\\uD83E\\uDD26\\u200D\\u2640\\uFE0F","\\uD83E\\uDD26\\u200D\\u2640"],"","",["woman-facepalming"],38,29,15,0],\n\t\t"1f926-200d-2642-fe0f":[["\\uD83E\\uDD26\\u200D\\u2642\\uFE0F","\\uD83E\\uDD26\\u200D\\u2642"],"","",["man-facepalming"],38,35,15,0],\n\t\t"1f926":[["\\uD83E\\uDD26"],"","",["face_palm"],38,41,7,0],\n\t\t"1f927":[["\\uD83E\\uDD27"],"","",["sneezing_face"],38,47,15,0],\n\t\t"1f928":[["\\uD83E\\uDD28"],"","",["face_with_raised_eyebrow","face_with_one_eyebrow_raised"],38,48,15,0],\n\t\t"1f929":[["\\uD83E\\uDD29"],"","",["star-struck","grinning_face_with_star_eyes"],38,49,15,0],\n\t\t"1f92a":[["\\uD83E\\uDD2A"],"","",["zany_face","grinning_face_with_one_large_and_one_small_eye"],38,50,15,0],\n\t\t"1f92b":[["\\uD83E\\uDD2B"],"","",["shushing_face","face_with_finger_covering_closed_lips"],38,51,15,0],\n\t\t"1f92c":[["\\uD83E\\uDD2C"],"","",["face_with_symbols_on_mouth","serious_face_with_symbols_covering_mouth"],39,0,15,0],\n\t\t"1f92d":[["\\uD83E\\uDD2D"],"","",["face_with_hand_over_mouth","smiling_face_with_smiling_eyes_and_hand_covering_mouth"],39,1,15,0],\n\t\t"1f92e":[["\\uD83E\\uDD2E"],"","",["face_vomiting","face_with_open_mouth_vomiting"],39,2,15,0],\n\t\t"1f92f":[["\\uD83E\\uDD2F"],"","",["exploding_head","shocked_face_with_exploding_head"],39,3,15,0],\n\t\t"1f930":[["\\uD83E\\uDD30"],"","",["pregnant_woman"],39,4,15,0],\n\t\t"1f931":[["\\uD83E\\uDD31"],"","",["breast-feeding"],39,10,15,0],\n\t\t"1f932":[["\\uD83E\\uDD32"],"","",["palms_up_together"],39,16,15,0],\n\t\t"1f933":[["\\uD83E\\uDD33"],"","",["selfie"],39,22,15,0],\n\t\t"1f934":[["\\uD83E\\uDD34"],"","",["prince"],39,28,15,0],\n\t\t"1f935":[["\\uD83E\\uDD35"],"","",["man_in_tuxedo"],39,34,15,0],\n\t\t"1f936":[["\\uD83E\\uDD36"],"","",["mrs_claus","mother_christmas"],39,40,15,0],\n\t\t"1f937-200d-2640-fe0f":[["\\uD83E\\uDD37\\u200D\\u2640\\uFE0F","\\uD83E\\uDD37\\u200D\\u2640"],"","",["woman-shrugging"],39,46,15,0],\n\t\t"1f937-200d-2642-fe0f":[["\\uD83E\\uDD37\\u200D\\u2642\\uFE0F","\\uD83E\\uDD37\\u200D\\u2642"],"","",["man-shrugging"],40,0,15,0],\n\t\t"1f937":[["\\uD83E\\uDD37"],"","",["shrug"],40,6,7,0],\n\t\t"1f938-200d-2640-fe0f":[["\\uD83E\\uDD38\\u200D\\u2640\\uFE0F","\\uD83E\\uDD38\\u200D\\u2640"],"","",["woman-cartwheeling"],40,12,15,0],\n\t\t"1f938-200d-2642-fe0f":[["\\uD83E\\uDD38\\u200D\\u2642\\uFE0F","\\uD83E\\uDD38\\u200D\\u2642"],"","",["man-cartwheeling"],40,18,15,0],\n\t\t"1f938":[["\\uD83E\\uDD38"],"","",["person_doing_cartwheel"],40,24,7,0],\n\t\t"1f939-200d-2640-fe0f":[["\\uD83E\\uDD39\\u200D\\u2640\\uFE0F","\\uD83E\\uDD39\\u200D\\u2640"],"","",["woman-juggling"],40,30,7,0],\n\t\t"1f939-200d-2642-fe0f":[["\\uD83E\\uDD39\\u200D\\u2642\\uFE0F","\\uD83E\\uDD39\\u200D\\u2642"],"","",["man-juggling"],40,36,7,0],\n\t\t"1f939":[["\\uD83E\\uDD39"],"","",["juggling"],40,42,15,0],\n\t\t"1f93a":[["\\uD83E\\uDD3A"],"","",["fencer"],40,48,15,0],\n\t\t"1f93c-200d-2640-fe0f":[["\\uD83E\\uDD3C\\u200D\\u2640\\uFE0F","\\uD83E\\uDD3C\\u200D\\u2640"],"","",["woman-wrestling"],40,49,15,0],\n\t\t"1f93c-200d-2642-fe0f":[["\\uD83E\\uDD3C\\u200D\\u2642\\uFE0F","\\uD83E\\uDD3C\\u200D\\u2642"],"","",["man-wrestling"],40,50,15,0],\n\t\t"1f93c":[["\\uD83E\\uDD3C"],"","",["wrestlers"],40,51,7,0],\n\t\t"1f93d-200d-2640-fe0f":[["\\uD83E\\uDD3D\\u200D\\u2640\\uFE0F","\\uD83E\\uDD3D\\u200D\\u2640"],"","",["woman-playing-water-polo"],41,0,15,0],\n\t\t"1f93d-200d-2642-fe0f":[["\\uD83E\\uDD3D\\u200D\\u2642\\uFE0F","\\uD83E\\uDD3D\\u200D\\u2642"],"","",["man-playing-water-polo"],41,6,15,0],\n\t\t"1f93d":[["\\uD83E\\uDD3D"],"","",["water_polo"],41,12,7,0],\n\t\t"1f93e-200d-2640-fe0f":[["\\uD83E\\uDD3E\\u200D\\u2640\\uFE0F","\\uD83E\\uDD3E\\u200D\\u2640"],"","",["woman-playing-handball"],41,18,15,0],\n\t\t"1f93e-200d-2642-fe0f":[["\\uD83E\\uDD3E\\u200D\\u2642\\uFE0F","\\uD83E\\uDD3E\\u200D\\u2642"],"","",["man-playing-handball"],41,24,15,0],\n\t\t"1f93e":[["\\uD83E\\uDD3E"],"","",["handball"],41,30,7,0],\n\t\t"1f940":[["\\uD83E\\uDD40"],"","",["wilted_flower"],41,36,15,0],\n\t\t"1f941":[["\\uD83E\\uDD41"],"","",["drum_with_drumsticks"],41,37,15,0],\n\t\t"1f942":[["\\uD83E\\uDD42"],"","",["clinking_glasses"],41,38,15,0],\n\t\t"1f943":[["\\uD83E\\uDD43"],"","",["tumbler_glass"],41,39,15,0],\n\t\t"1f944":[["\\uD83E\\uDD44"],"","",["spoon"],41,40,15,0],\n\t\t"1f945":[["\\uD83E\\uDD45"],"","",["goal_net"],41,41,15,0],\n\t\t"1f947":[["\\uD83E\\uDD47"],"","",["first_place_medal"],41,42,15,0],\n\t\t"1f948":[["\\uD83E\\uDD48"],"","",["second_place_medal"],41,43,15,0],\n\t\t"1f949":[["\\uD83E\\uDD49"],"","",["third_place_medal"],41,44,15,0],\n\t\t"1f94a":[["\\uD83E\\uDD4A"],"","",["boxing_glove"],41,45,15,0],\n\t\t"1f94b":[["\\uD83E\\uDD4B"],"","",["martial_arts_uniform"],41,46,15,0],\n\t\t"1f94c":[["\\uD83E\\uDD4C"],"","",["curling_stone"],41,47,15,0],\n\t\t"1f950":[["\\uD83E\\uDD50"],"","",["croissant"],41,48,15,0],\n\t\t"1f951":[["\\uD83E\\uDD51"],"","",["avocado"],41,49,15,0],\n\t\t"1f952":[["\\uD83E\\uDD52"],"","",["cucumber"],41,50,15,0],\n\t\t"1f953":[["\\uD83E\\uDD53"],"","",["bacon"],41,51,15,0],\n\t\t"1f954":[["\\uD83E\\uDD54"],"","",["potato"],42,0,15,0],\n\t\t"1f955":[["\\uD83E\\uDD55"],"","",["carrot"],42,1,15,0],\n\t\t"1f956":[["\\uD83E\\uDD56"],"","",["baguette_bread"],42,2,15,0],\n\t\t"1f957":[["\\uD83E\\uDD57"],"","",["green_salad"],42,3,15,0],\n\t\t"1f958":[["\\uD83E\\uDD58"],"","",["shallow_pan_of_food"],42,4,15,0],\n\t\t"1f959":[["\\uD83E\\uDD59"],"","",["stuffed_flatbread"],42,5,15,0],\n\t\t"1f95a":[["\\uD83E\\uDD5A"],"","",["egg"],42,6,15,0],\n\t\t"1f95b":[["\\uD83E\\uDD5B"],"","",["glass_of_milk"],42,7,15,0],\n\t\t"1f95c":[["\\uD83E\\uDD5C"],"","",["peanuts"],42,8,15,0],\n\t\t"1f95d":[["\\uD83E\\uDD5D"],"","",["kiwifruit"],42,9,15,0],\n\t\t"1f95e":[["\\uD83E\\uDD5E"],"","",["pancakes"],42,10,15,0],\n\t\t"1f95f":[["\\uD83E\\uDD5F"],"","",["dumpling"],42,11,15,0],\n\t\t"1f960":[["\\uD83E\\uDD60"],"","",["fortune_cookie"],42,12,15,0],\n\t\t"1f961":[["\\uD83E\\uDD61"],"","",["takeout_box"],42,13,15,0],\n\t\t"1f962":[["\\uD83E\\uDD62"],"","",["chopsticks"],42,14,15,0],\n\t\t"1f963":[["\\uD83E\\uDD63"],"","",["bowl_with_spoon"],42,15,15,0],\n\t\t"1f964":[["\\uD83E\\uDD64"],"","",["cup_with_straw"],42,16,15,0],\n\t\t"1f965":[["\\uD83E\\uDD65"],"","",["coconut"],42,17,15,0],\n\t\t"1f966":[["\\uD83E\\uDD66"],"","",["broccoli"],42,18,15,0],\n\t\t"1f967":[["\\uD83E\\uDD67"],"","",["pie"],42,19,15,0],\n\t\t"1f968":[["\\uD83E\\uDD68"],"","",["pretzel"],42,20,15,0],\n\t\t"1f969":[["\\uD83E\\uDD69"],"","",["cut_of_meat"],42,21,15,0],\n\t\t"1f96a":[["\\uD83E\\uDD6A"],"","",["sandwich"],42,22,15,0],\n\t\t"1f96b":[["\\uD83E\\uDD6B"],"","",["canned_food"],42,23,15,0],\n\t\t"1f980":[["\\uD83E\\uDD80"],"","",["crab"],42,24,15,0],\n\t\t"1f981":[["\\uD83E\\uDD81"],"","",["lion_face"],42,25,15,0],\n\t\t"1f982":[["\\uD83E\\uDD82"],"","",["scorpion"],42,26,15,0],\n\t\t"1f983":[["\\uD83E\\uDD83"],"","",["turkey"],42,27,15,0],\n\t\t"1f984":[["\\uD83E\\uDD84"],"","",["unicorn_face"],42,28,15,0],\n\t\t"1f985":[["\\uD83E\\uDD85"],"","",["eagle"],42,29,15,0],\n\t\t"1f986":[["\\uD83E\\uDD86"],"","",["duck"],42,30,15,0],\n\t\t"1f987":[["\\uD83E\\uDD87"],"","",["bat"],42,31,15,0],\n\t\t"1f988":[["\\uD83E\\uDD88"],"","",["shark"],42,32,15,0],\n\t\t"1f989":[["\\uD83E\\uDD89"],"","",["owl"],42,33,15,0],\n\t\t"1f98a":[["\\uD83E\\uDD8A"],"","",["fox_face"],42,34,15,0],\n\t\t"1f98b":[["\\uD83E\\uDD8B"],"","",["butterfly"],42,35,15,0],\n\t\t"1f98c":[["\\uD83E\\uDD8C"],"","",["deer"],42,36,15,0],\n\t\t"1f98d":[["\\uD83E\\uDD8D"],"","",["gorilla"],42,37,15,0],\n\t\t"1f98e":[["\\uD83E\\uDD8E"],"","",["lizard"],42,38,15,0],\n\t\t"1f98f":[["\\uD83E\\uDD8F"],"","",["rhinoceros"],42,39,15,0],\n\t\t"1f990":[["\\uD83E\\uDD90"],"","",["shrimp"],42,40,15,0],\n\t\t"1f991":[["\\uD83E\\uDD91"],"","",["squid"],42,41,15,0],\n\t\t"1f992":[["\\uD83E\\uDD92"],"","",["giraffe_face"],42,42,15,0],\n\t\t"1f993":[["\\uD83E\\uDD93"],"","",["zebra_face"],42,43,15,0],\n\t\t"1f994":[["\\uD83E\\uDD94"],"","",["hedgehog"],42,44,15,0],\n\t\t"1f995":[["\\uD83E\\uDD95"],"","",["sauropod"],42,45,15,0],\n\t\t"1f996":[["\\uD83E\\uDD96"],"","",["t-rex"],42,46,15,0],\n\t\t"1f997":[["\\uD83E\\uDD97"],"","",["cricket"],42,47,15,0],\n\t\t"1f9c0":[["\\uD83E\\uDDC0"],"","",["cheese_wedge"],42,48,15,0],\n\t\t"1f9d0":[["\\uD83E\\uDDD0"],"","",["face_with_monocle"],42,49,15,0],\n\t\t"1f9d1":[["\\uD83E\\uDDD1"],"","",["adult"],42,50,15,0],\n\t\t"1f9d2":[["\\uD83E\\uDDD2"],"","",["child"],43,4,15,0],\n\t\t"1f9d3":[["\\uD83E\\uDDD3"],"","",["older_adult"],43,10,15,0],\n\t\t"1f9d4":[["\\uD83E\\uDDD4"],"","",["bearded_person"],43,16,15,0],\n\t\t"1f9d5":[["\\uD83E\\uDDD5"],"","",["person_with_headscarf"],43,22,15,0],\n\t\t"1f9d6-200d-2640-fe0f":[["\\uD83E\\uDDD6\\u200D\\u2640\\uFE0F","\\uD83E\\uDDD6\\u200D\\u2640"],"","",["woman_in_steamy_room"],43,28,15,0],\n\t\t"1f9d6-200d-2642-fe0f":[["\\uD83E\\uDDD6\\u200D\\u2642\\uFE0F","\\uD83E\\uDDD6\\u200D\\u2642","\\uD83E\\uDDD6"],"","",["man_in_steamy_room","person_in_steamy_room"],43,34,15,0],\n\t\t"1f9d7-200d-2640-fe0f":[["\\uD83E\\uDDD7\\u200D\\u2640\\uFE0F","\\uD83E\\uDDD7\\u200D\\u2640","\\uD83E\\uDDD7"],"","",["woman_climbing","person_climbing"],43,46,15,0],\n\t\t"1f9d7-200d-2642-fe0f":[["\\uD83E\\uDDD7\\u200D\\u2642\\uFE0F","\\uD83E\\uDDD7\\u200D\\u2642"],"","",["man_climbing"],44,0,15,0],\n\t\t"1f9d8-200d-2640-fe0f":[["\\uD83E\\uDDD8\\u200D\\u2640\\uFE0F","\\uD83E\\uDDD8\\u200D\\u2640","\\uD83E\\uDDD8"],"","",["woman_in_lotus_position","person_in_lotus_position"],44,12,15,0],\n\t\t"1f9d8-200d-2642-fe0f":[["\\uD83E\\uDDD8\\u200D\\u2642\\uFE0F","\\uD83E\\uDDD8\\u200D\\u2642"],"","",["man_in_lotus_position"],44,18,15,0],\n\t\t"1f9d9-200d-2640-fe0f":[["\\uD83E\\uDDD9\\u200D\\u2640\\uFE0F","\\uD83E\\uDDD9\\u200D\\u2640","\\uD83E\\uDDD9"],"","",["female_mage","mage"],44,30,15,0],\n\t\t"1f9d9-200d-2642-fe0f":[["\\uD83E\\uDDD9\\u200D\\u2642\\uFE0F","\\uD83E\\uDDD9\\u200D\\u2642"],"","",["male_mage"],44,36,15,0],\n\t\t"1f9da-200d-2640-fe0f":[["\\uD83E\\uDDDA\\u200D\\u2640\\uFE0F","\\uD83E\\uDDDA\\u200D\\u2640","\\uD83E\\uDDDA"],"","",["female_fairy","fairy"],44,48,15,0],\n\t\t"1f9da-200d-2642-fe0f":[["\\uD83E\\uDDDA\\u200D\\u2642\\uFE0F","\\uD83E\\uDDDA\\u200D\\u2642"],"","",["male_fairy"],45,2,15,0],\n\t\t"1f9db-200d-2640-fe0f":[["\\uD83E\\uDDDB\\u200D\\u2640\\uFE0F","\\uD83E\\uDDDB\\u200D\\u2640","\\uD83E\\uDDDB"],"","",["female_vampire","vampire"],45,14,15,0],\n\t\t"1f9db-200d-2642-fe0f":[["\\uD83E\\uDDDB\\u200D\\u2642\\uFE0F","\\uD83E\\uDDDB\\u200D\\u2642"],"","",["male_vampire"],45,20,15,0],\n\t\t"1f9dc-200d-2640-fe0f":[["\\uD83E\\uDDDC\\u200D\\u2640\\uFE0F","\\uD83E\\uDDDC\\u200D\\u2640"],"","",["mermaid"],45,32,15,0],\n\t\t"1f9dc-200d-2642-fe0f":[["\\uD83E\\uDDDC\\u200D\\u2642\\uFE0F","\\uD83E\\uDDDC\\u200D\\u2642","\\uD83E\\uDDDC"],"","",["merman","merperson"],45,38,15,0],\n\t\t"1f9dd-200d-2640-fe0f":[["\\uD83E\\uDDDD\\u200D\\u2640\\uFE0F","\\uD83E\\uDDDD\\u200D\\u2640"],"","",["female_elf"],45,50,15,0],\n\t\t"1f9dd-200d-2642-fe0f":[["\\uD83E\\uDDDD\\u200D\\u2642\\uFE0F","\\uD83E\\uDDDD\\u200D\\u2642","\\uD83E\\uDDDD"],"","",["male_elf","elf"],46,4,15,0],\n\t\t"1f9de-200d-2640-fe0f":[["\\uD83E\\uDDDE\\u200D\\u2640\\uFE0F","\\uD83E\\uDDDE\\u200D\\u2640"],"","",["female_genie"],46,16,15,0],\n\t\t"1f9de-200d-2642-fe0f":[["\\uD83E\\uDDDE\\u200D\\u2642\\uFE0F","\\uD83E\\uDDDE\\u200D\\u2642","\\uD83E\\uDDDE"],"","",["male_genie","genie"],46,17,15,0],\n\t\t"1f9df-200d-2640-fe0f":[["\\uD83E\\uDDDF\\u200D\\u2640\\uFE0F","\\uD83E\\uDDDF\\u200D\\u2640"],"","",["female_zombie"],46,19,15,0],\n\t\t"1f9df-200d-2642-fe0f":[["\\uD83E\\uDDDF\\u200D\\u2642\\uFE0F","\\uD83E\\uDDDF\\u200D\\u2642","\\uD83E\\uDDDF"],"","",["male_zombie","zombie"],46,20,15,0],\n\t\t"1f9e0":[["\\uD83E\\uDDE0"],"","",["brain"],46,22,15,0],\n\t\t"1f9e1":[["\\uD83E\\uDDE1"],"","",["orange_heart"],46,23,15,0],\n\t\t"1f9e2":[["\\uD83E\\uDDE2"],"","",["billed_cap"],46,24,15,0],\n\t\t"1f9e3":[["\\uD83E\\uDDE3"],"","",["scarf"],46,25,15,0],\n\t\t"1f9e4":[["\\uD83E\\uDDE4"],"","",["gloves"],46,26,15,0],\n\t\t"1f9e5":[["\\uD83E\\uDDE5"],"","",["coat"],46,27,15,0],\n\t\t"1f9e6":[["\\uD83E\\uDDE6"],"","",["socks"],46,28,15,0],\n\t\t"203c-fe0f":[["\\u203C\\uFE0F","\\u203C"],"","\\uDBBA\\uDF06",["bangbang"],46,29,31,0],\n\t\t"2049-fe0f":[["\\u2049\\uFE0F","\\u2049"],"","\\uDBBA\\uDF05",["interrobang"],46,30,31,0],\n\t\t"2122-fe0f":[["\\u2122\\uFE0F","\\u2122"],"\\uE537","\\uDBBA\\uDF2A",["tm"],46,31,31,0],\n\t\t"2139-fe0f":[["\\u2139\\uFE0F","\\u2139"],"","\\uDBBA\\uDF47",["information_source"],46,32,31,0],\n\t\t"2194-fe0f":[["\\u2194\\uFE0F","\\u2194"],"","\\uDBBA\\uDEF6",["left_right_arrow"],46,33,31,0],\n\t\t"2195-fe0f":[["\\u2195\\uFE0F","\\u2195"],"","\\uDBBA\\uDEF7",["arrow_up_down"],46,34,31,0],\n\t\t"2196-fe0f":[["\\u2196\\uFE0F","\\u2196"],"\\uE237","\\uDBBA\\uDEF2",["arrow_upper_left"],46,35,31,0],\n\t\t"2197-fe0f":[["\\u2197\\uFE0F","\\u2197"],"\\uE236","\\uDBBA\\uDEF0",["arrow_upper_right"],46,36,31,0],\n\t\t"2198-fe0f":[["\\u2198\\uFE0F","\\u2198"],"\\uE238","\\uDBBA\\uDEF1",["arrow_lower_right"],46,37,31,0],\n\t\t"2199-fe0f":[["\\u2199\\uFE0F","\\u2199"],"\\uE239","\\uDBBA\\uDEF3",["arrow_lower_left"],46,38,31,0],\n\t\t"21a9-fe0f":[["\\u21A9\\uFE0F","\\u21A9"],"","\\uDBBA\\uDF83",["leftwards_arrow_with_hook"],46,39,31,0],\n\t\t"21aa-fe0f":[["\\u21AA\\uFE0F","\\u21AA"],"","\\uDBBA\\uDF88",["arrow_right_hook"],46,40,31,0],\n\t\t"231a":[["\\u231A"],"","\\uDBB8\\uDC1D",["watch"],46,41,31,0],\n\t\t"231b":[["\\u231B"],"","\\uDBB8\\uDC1C",["hourglass"],46,42,31,0],\n\t\t"2328-fe0f":[["\\u2328\\uFE0F","\\u2328"],"","",["keyboard"],46,43,15,0],\n\t\t"23cf-fe0f":[["\\u23CF\\uFE0F","\\u23CF"],"","",["eject"],46,44,15,0],\n\t\t"23e9":[["\\u23E9"],"\\uE23C","\\uDBBA\\uDEFE",["fast_forward"],46,45,31,0],\n\t\t"23ea":[["\\u23EA"],"\\uE23D","\\uDBBA\\uDEFF",["rewind"],46,46,31,0],\n\t\t"23eb":[["\\u23EB"],"","\\uDBBA\\uDF03",["arrow_double_up"],46,47,31,0],\n\t\t"23ec":[["\\u23EC"],"","\\uDBBA\\uDF02",["arrow_double_down"],46,48,31,0],\n\t\t"23ed-fe0f":[["\\u23ED\\uFE0F","\\u23ED"],"","",["black_right_pointing_double_triangle_with_vertical_bar"],46,49,15,0],\n\t\t"23ee-fe0f":[["\\u23EE\\uFE0F","\\u23EE"],"","",["black_left_pointing_double_triangle_with_vertical_bar"],46,50,15,0],\n\t\t"23ef-fe0f":[["\\u23EF\\uFE0F","\\u23EF"],"","",["black_right_pointing_triangle_with_double_vertical_bar"],46,51,15,0],\n\t\t"23f0":[["\\u23F0"],"","\\uDBB8\\uDC2A",["alarm_clock"],47,0,31,0],\n\t\t"23f1-fe0f":[["\\u23F1\\uFE0F","\\u23F1"],"","",["stopwatch"],47,1,15,0],\n\t\t"23f2-fe0f":[["\\u23F2\\uFE0F","\\u23F2"],"","",["timer_clock"],47,2,15,0],\n\t\t"23f3":[["\\u23F3"],"","\\uDBB8\\uDC1B",["hourglass_flowing_sand"],47,3,31,0],\n\t\t"23f8-fe0f":[["\\u23F8\\uFE0F","\\u23F8"],"","",["double_vertical_bar"],47,4,15,0],\n\t\t"23f9-fe0f":[["\\u23F9\\uFE0F","\\u23F9"],"","",["black_square_for_stop"],47,5,15,0],\n\t\t"23fa-fe0f":[["\\u23FA\\uFE0F","\\u23FA"],"","",["black_circle_for_record"],47,6,15,0],\n\t\t"24c2-fe0f":[["\\u24C2\\uFE0F","\\u24C2"],"","\\uDBB9\\uDFE1",["m"],47,7,31,0],\n\t\t"25aa-fe0f":[["\\u25AA\\uFE0F","\\u25AA"],"","\\uDBBA\\uDF6E",["black_small_square"],47,8,31,0],\n\t\t"25ab-fe0f":[["\\u25AB\\uFE0F","\\u25AB"],"","\\uDBBA\\uDF6D",["white_small_square"],47,9,31,0],\n\t\t"25b6-fe0f":[["\\u25B6\\uFE0F","\\u25B6"],"\\uE23A","\\uDBBA\\uDEFC",["arrow_forward"],47,10,31,0],\n\t\t"25c0-fe0f":[["\\u25C0\\uFE0F","\\u25C0"],"\\uE23B","\\uDBBA\\uDEFD",["arrow_backward"],47,11,31,0],\n\t\t"25fb-fe0f":[["\\u25FB\\uFE0F","\\u25FB"],"","\\uDBBA\\uDF71",["white_medium_square"],47,12,31,0],\n\t\t"25fc-fe0f":[["\\u25FC\\uFE0F","\\u25FC"],"","\\uDBBA\\uDF72",["black_medium_square"],47,13,31,0],\n\t\t"25fd":[["\\u25FD"],"","\\uDBBA\\uDF6F",["white_medium_small_square"],47,14,31,0],\n\t\t"25fe":[["\\u25FE"],"","\\uDBBA\\uDF70",["black_medium_small_square"],47,15,31,0],\n\t\t"2600-fe0f":[["\\u2600\\uFE0F","\\u2600"],"\\uE04A","\\uDBB8\\uDC00",["sunny"],47,16,31,0],\n\t\t"2601-fe0f":[["\\u2601\\uFE0F","\\u2601"],"\\uE049","\\uDBB8\\uDC01",["cloud"],47,17,31,0],\n\t\t"2602-fe0f":[["\\u2602\\uFE0F","\\u2602"],"","",["umbrella"],47,18,15,0],\n\t\t"2603-fe0f":[["\\u2603\\uFE0F","\\u2603"],"","",["snowman"],47,19,15,0],\n\t\t"2604-fe0f":[["\\u2604\\uFE0F","\\u2604"],"","",["comet"],47,20,15,0],\n\t\t"260e-fe0f":[["\\u260E\\uFE0F","\\u260E"],"\\uE009","\\uDBB9\\uDD23",["phone","telephone"],47,21,31,0],\n\t\t"2611-fe0f":[["\\u2611\\uFE0F","\\u2611"],"","\\uDBBA\\uDF8B",["ballot_box_with_check"],47,22,31,0],\n\t\t"2614":[["\\u2614"],"\\uE04B","\\uDBB8\\uDC02",["umbrella_with_rain_drops"],47,23,31,0],\n\t\t"2615":[["\\u2615"],"\\uE045","\\uDBBA\\uDD81",["coffee"],47,24,31,0],\n\t\t"2618-fe0f":[["\\u2618\\uFE0F","\\u2618"],"","",["shamrock"],47,25,15,0],\n\t\t"261d-fe0f":[["\\u261D\\uFE0F","\\u261D"],"\\uE00F","\\uDBBA\\uDF98",["point_up"],47,26,31,0],\n\t\t"2620-fe0f":[["\\u2620\\uFE0F","\\u2620"],"","",["skull_and_crossbones"],47,32,15,0],\n\t\t"2622-fe0f":[["\\u2622\\uFE0F","\\u2622"],"","",["radioactive_sign"],47,33,15,0],\n\t\t"2623-fe0f":[["\\u2623\\uFE0F","\\u2623"],"","",["biohazard_sign"],47,34,15,0],\n\t\t"2626-fe0f":[["\\u2626\\uFE0F","\\u2626"],"","",["orthodox_cross"],47,35,15,0],\n\t\t"262a-fe0f":[["\\u262A\\uFE0F","\\u262A"],"","",["star_and_crescent"],47,36,15,0],\n\t\t"262e-fe0f":[["\\u262E\\uFE0F","\\u262E"],"","",["peace_symbol"],47,37,15,0],\n\t\t"262f-fe0f":[["\\u262F\\uFE0F","\\u262F"],"","",["yin_yang"],47,38,15,0],\n\t\t"2638-fe0f":[["\\u2638\\uFE0F","\\u2638"],"","",["wheel_of_dharma"],47,39,15,0],\n\t\t"2639-fe0f":[["\\u2639\\uFE0F","\\u2639"],"","",["white_frowning_face"],47,40,15,0],\n\t\t"263a-fe0f":[["\\u263A\\uFE0F","\\u263A"],"\\uE414","\\uDBB8\\uDF36",["relaxed"],47,41,31,0],\n\t\t"2640-fe0f":[["\\u2640\\uFE0F","\\u2640"],"","",["female_sign"],47,42,14,0],\n\t\t"2642-fe0f":[["\\u2642\\uFE0F","\\u2642"],"","",["male_sign"],47,43,14,0],\n\t\t"2648":[["\\u2648"],"\\uE23F","\\uDBB8\\uDC2B",["aries"],47,44,31,0],\n\t\t"2649":[["\\u2649"],"\\uE240","\\uDBB8\\uDC2C",["taurus"],47,45,31,0],\n\t\t"264a":[["\\u264A"],"\\uE241","\\uDBB8\\uDC2D",["gemini"],47,46,31,0],\n\t\t"264b":[["\\u264B"],"\\uE242","\\uDBB8\\uDC2E",["cancer"],47,47,31,0],\n\t\t"264c":[["\\u264C"],"\\uE243","\\uDBB8\\uDC2F",["leo"],47,48,31,0],\n\t\t"264d":[["\\u264D"],"\\uE244","\\uDBB8\\uDC30",["virgo"],47,49,31,0],\n\t\t"264e":[["\\u264E"],"\\uE245","\\uDBB8\\uDC31",["libra"],47,50,31,0],\n\t\t"264f":[["\\u264F"],"\\uE246","\\uDBB8\\uDC32",["scorpius"],47,51,31,0],\n\t\t"2650":[["\\u2650"],"\\uE247","\\uDBB8\\uDC33",["sagittarius"],48,0,31,0],\n\t\t"2651":[["\\u2651"],"\\uE248","\\uDBB8\\uDC34",["capricorn"],48,1,31,0],\n\t\t"2652":[["\\u2652"],"\\uE249","\\uDBB8\\uDC35",["aquarius"],48,2,31,0],\n\t\t"2653":[["\\u2653"],"\\uE24A","\\uDBB8\\uDC36",["pisces"],48,3,31,0],\n\t\t"2660-fe0f":[["\\u2660\\uFE0F","\\u2660"],"\\uE20E","\\uDBBA\\uDF1B",["spades"],48,4,31,0],\n\t\t"2663-fe0f":[["\\u2663\\uFE0F","\\u2663"],"\\uE20F","\\uDBBA\\uDF1D",["clubs"],48,5,31,0],\n\t\t"2665-fe0f":[["\\u2665\\uFE0F","\\u2665"],"\\uE20C","\\uDBBA\\uDF1A",["hearts"],48,6,31,0],\n\t\t"2666-fe0f":[["\\u2666\\uFE0F","\\u2666"],"\\uE20D","\\uDBBA\\uDF1C",["diamonds"],48,7,31,0],\n\t\t"2668-fe0f":[["\\u2668\\uFE0F","\\u2668"],"\\uE123","\\uDBB9\\uDFFA",["hotsprings"],48,8,31,0],\n\t\t"267b-fe0f":[["\\u267B\\uFE0F","\\u267B"],"","\\uDBBA\\uDF2C",["recycle"],48,9,31,0],\n\t\t"267f":[["\\u267F"],"\\uE20A","\\uDBBA\\uDF20",["wheelchair"],48,10,31,0],\n\t\t"2692-fe0f":[["\\u2692\\uFE0F","\\u2692"],"","",["hammer_and_pick"],48,11,15,0],\n\t\t"2693":[["\\u2693"],"","\\uDBB9\\uDCC1",["anchor"],48,12,31,0],\n\t\t"2694-fe0f":[["\\u2694\\uFE0F","\\u2694"],"","",["crossed_swords"],48,13,15,0],\n\t\t"2695-fe0f":[["\\u2695\\uFE0F","\\u2695"],"","",["medical_symbol","staff_of_aesculapius"],48,14,14,0],\n\t\t"2696-fe0f":[["\\u2696\\uFE0F","\\u2696"],"","",["scales"],48,15,15,0],\n\t\t"2697-fe0f":[["\\u2697\\uFE0F","\\u2697"],"","",["alembic"],48,16,15,0],\n\t\t"2699-fe0f":[["\\u2699\\uFE0F","\\u2699"],"","",["gear"],48,17,15,0],\n\t\t"269b-fe0f":[["\\u269B\\uFE0F","\\u269B"],"","",["atom_symbol"],48,18,15,0],\n\t\t"269c-fe0f":[["\\u269C\\uFE0F","\\u269C"],"","",["fleur_de_lis"],48,19,15,0],\n\t\t"26a0-fe0f":[["\\u26A0\\uFE0F","\\u26A0"],"\\uE252","\\uDBBA\\uDF23",["warning"],48,20,31,0],\n\t\t"26a1":[["\\u26A1"],"\\uE13D","\\uDBB8\\uDC04",["zap"],48,21,31,0],\n\t\t"26aa":[["\\u26AA"],"","\\uDBBA\\uDF65",["white_circle"],48,22,31,0],\n\t\t"26ab":[["\\u26AB"],"","\\uDBBA\\uDF66",["black_circle"],48,23,31,0],\n\t\t"26b0-fe0f":[["\\u26B0\\uFE0F","\\u26B0"],"","",["coffin"],48,24,15,0],\n\t\t"26b1-fe0f":[["\\u26B1\\uFE0F","\\u26B1"],"","",["funeral_urn"],48,25,15,0],\n\t\t"26bd":[["\\u26BD"],"\\uE018","\\uDBB9\\uDFD4",["soccer"],48,26,31,0],\n\t\t"26be":[["\\u26BE"],"\\uE016","\\uDBB9\\uDFD1",["baseball"],48,27,31,0],\n\t\t"26c4":[["\\u26C4"],"\\uE048","\\uDBB8\\uDC03",["snowman_without_snow"],48,28,31,0],\n\t\t"26c5":[["\\u26C5"],"","\\uDBB8\\uDC0F",["partly_sunny"],48,29,31,0],\n\t\t"26c8-fe0f":[["\\u26C8\\uFE0F","\\u26C8"],"","",["thunder_cloud_and_rain"],48,30,15,0],\n\t\t"26ce":[["\\u26CE"],"\\uE24B","\\uDBB8\\uDC37",["ophiuchus"],48,31,31,0],\n\t\t"26cf-fe0f":[["\\u26CF\\uFE0F","\\u26CF"],"","",["pick"],48,32,15,0],\n\t\t"26d1-fe0f":[["\\u26D1\\uFE0F","\\u26D1"],"","",["helmet_with_white_cross"],48,33,15,0],\n\t\t"26d3-fe0f":[["\\u26D3\\uFE0F","\\u26D3"],"","",["chains"],48,34,15,0],\n\t\t"26d4":[["\\u26D4"],"","\\uDBBA\\uDF26",["no_entry"],48,35,31,0],\n\t\t"26e9-fe0f":[["\\u26E9\\uFE0F","\\u26E9"],"","",["shinto_shrine"],48,36,15,0],\n\t\t"26ea":[["\\u26EA"],"\\uE037","\\uDBB9\\uDCBB",["church"],48,37,31,0],\n\t\t"26f0-fe0f":[["\\u26F0\\uFE0F","\\u26F0"],"","",["mountain"],48,38,15,0],\n\t\t"26f1-fe0f":[["\\u26F1\\uFE0F","\\u26F1"],"","",["umbrella_on_ground"],48,39,15,0],\n\t\t"26f2":[["\\u26F2"],"\\uE121","\\uDBB9\\uDCBC",["fountain"],48,40,31,0],\n\t\t"26f3":[["\\u26F3"],"\\uE014","\\uDBB9\\uDFD2",["golf"],48,41,31,0],\n\t\t"26f4-fe0f":[["\\u26F4\\uFE0F","\\u26F4"],"","",["ferry"],48,42,15,0],\n\t\t"26f5":[["\\u26F5"],"\\uE01C","\\uDBB9\\uDFEA",["boat","sailboat"],48,43,31,0],\n\t\t"26f7-fe0f":[["\\u26F7\\uFE0F","\\u26F7"],"","",["skier"],48,44,15,0],\n\t\t"26f8-fe0f":[["\\u26F8\\uFE0F","\\u26F8"],"","",["ice_skate"],48,45,15,0],\n\t\t"26f9-fe0f-200d-2640-fe0f":[["\\u26F9\\uFE0F\\u200D\\u2640\\uFE0F"],"","",["woman-bouncing-ball"],48,46,7,0],\n\t\t"26f9-fe0f-200d-2642-fe0f":[["\\u26F9\\uFE0F\\u200D\\u2642\\uFE0F","\\u26F9\\uFE0F","\\u26F9"],"","",["man-bouncing-ball","person_with_ball"],49,0,7,0],\n\t\t"26fa":[["\\u26FA"],"\\uE122","\\uDBB9\\uDFFB",["tent"],49,12,31,0],\n\t\t"26fd":[["\\u26FD"],"\\uE03A","\\uDBB9\\uDFF5",["fuelpump"],49,13,31,0],\n\t\t"2702-fe0f":[["\\u2702\\uFE0F","\\u2702"],"\\uE313","\\uDBB9\\uDD3E",["scissors"],49,14,31,0],\n\t\t"2705":[["\\u2705"],"","\\uDBBA\\uDF4A",["white_check_mark"],49,15,31,0],\n\t\t"2708-fe0f":[["\\u2708\\uFE0F","\\u2708"],"\\uE01D","\\uDBB9\\uDFE9",["airplane"],49,16,31,0],\n\t\t"2709-fe0f":[["\\u2709\\uFE0F","\\u2709"],"","\\uDBB9\\uDD29",["email","envelope"],49,17,31,0],\n\t\t"270a":[["\\u270A"],"\\uE010","\\uDBBA\\uDF93",["fist"],49,18,31,0],\n\t\t"270b":[["\\u270B"],"\\uE012","\\uDBBA\\uDF95",["hand","raised_hand"],49,24,31,0],\n\t\t"270c-fe0f":[["\\u270C\\uFE0F","\\u270C"],"\\uE011","\\uDBBA\\uDF94",["v"],49,30,31,0],\n\t\t"270d-fe0f":[["\\u270D\\uFE0F","\\u270D"],"","",["writing_hand"],49,36,15,0],\n\t\t"270f-fe0f":[["\\u270F\\uFE0F","\\u270F"],"","\\uDBB9\\uDD39",["pencil2"],49,42,31,0],\n\t\t"2712-fe0f":[["\\u2712\\uFE0F","\\u2712"],"","\\uDBB9\\uDD36",["black_nib"],49,43,31,0],\n\t\t"2714-fe0f":[["\\u2714\\uFE0F","\\u2714"],"","\\uDBBA\\uDF49",["heavy_check_mark"],49,44,31,0],\n\t\t"2716-fe0f":[["\\u2716\\uFE0F","\\u2716"],"","\\uDBBA\\uDF53",["heavy_multiplication_x"],49,45,31,0],\n\t\t"271d-fe0f":[["\\u271D\\uFE0F","\\u271D"],"","",["latin_cross"],49,46,15,0],\n\t\t"2721-fe0f":[["\\u2721\\uFE0F","\\u2721"],"","",["star_of_david"],49,47,15,0],\n\t\t"2728":[["\\u2728"],"\\uE32E","\\uDBBA\\uDF60",["sparkles"],49,48,31,0],\n\t\t"2733-fe0f":[["\\u2733\\uFE0F","\\u2733"],"\\uE206","\\uDBBA\\uDF62",["eight_spoked_asterisk"],49,49,31,0],\n\t\t"2734-fe0f":[["\\u2734\\uFE0F","\\u2734"],"\\uE205","\\uDBBA\\uDF61",["eight_pointed_black_star"],49,50,31,0],\n\t\t"2744-fe0f":[["\\u2744\\uFE0F","\\u2744"],"","\\uDBB8\\uDC0E",["snowflake"],49,51,31,0],\n\t\t"2747-fe0f":[["\\u2747\\uFE0F","\\u2747"],"","\\uDBBA\\uDF77",["sparkle"],50,0,31,0],\n\t\t"274c":[["\\u274C"],"\\uE333","\\uDBBA\\uDF45",["x"],50,1,31,0],\n\t\t"274e":[["\\u274E"],"","\\uDBBA\\uDF46",["negative_squared_cross_mark"],50,2,31,0],\n\t\t"2753":[["\\u2753"],"\\uE020","\\uDBBA\\uDF09",["question"],50,3,31,0],\n\t\t"2754":[["\\u2754"],"\\uE336","\\uDBBA\\uDF0A",["grey_question"],50,4,31,0],\n\t\t"2755":[["\\u2755"],"\\uE337","\\uDBBA\\uDF0B",["grey_exclamation"],50,5,31,0],\n\t\t"2757":[["\\u2757"],"\\uE021","\\uDBBA\\uDF04",["exclamation","heavy_exclamation_mark"],50,6,31,0],\n\t\t"2763-fe0f":[["\\u2763\\uFE0F","\\u2763"],"","",["heavy_heart_exclamation_mark_ornament"],50,7,15,0],\n\t\t"2764-fe0f":[["\\u2764\\uFE0F","\\u2764"],"\\uE022","\\uDBBA\\uDF0C",["heart"],50,8,31,0,"<3"],\n\t\t"2795":[["\\u2795"],"","\\uDBBA\\uDF51",["heavy_plus_sign"],50,9,31,0],\n\t\t"2796":[["\\u2796"],"","\\uDBBA\\uDF52",["heavy_minus_sign"],50,10,31,0],\n\t\t"2797":[["\\u2797"],"","\\uDBBA\\uDF54",["heavy_division_sign"],50,11,31,0],\n\t\t"27a1-fe0f":[["\\u27A1\\uFE0F","\\u27A1"],"\\uE234","\\uDBBA\\uDEFA",["arrow_right"],50,12,31,0],\n\t\t"27b0":[["\\u27B0"],"","\\uDBBA\\uDF08",["curly_loop"],50,13,31,0],\n\t\t"27bf":[["\\u27BF"],"\\uE211","\\uDBBA\\uDC2B",["loop"],50,14,31,0],\n\t\t"2934-fe0f":[["\\u2934\\uFE0F","\\u2934"],"","\\uDBBA\\uDEF4",["arrow_heading_up"],50,15,31,0],\n\t\t"2935-fe0f":[["\\u2935\\uFE0F","\\u2935"],"","\\uDBBA\\uDEF5",["arrow_heading_down"],50,16,31,0],\n\t\t"2b05-fe0f":[["\\u2B05\\uFE0F","\\u2B05"],"\\uE235","\\uDBBA\\uDEFB",["arrow_left"],50,17,31,0],\n\t\t"2b06-fe0f":[["\\u2B06\\uFE0F","\\u2B06"],"\\uE232","\\uDBBA\\uDEF8",["arrow_up"],50,18,31,0],\n\t\t"2b07-fe0f":[["\\u2B07\\uFE0F","\\u2B07"],"\\uE233","\\uDBBA\\uDEF9",["arrow_down"],50,19,31,0],\n\t\t"2b1b":[["\\u2B1B"],"","\\uDBBA\\uDF6C",["black_large_square"],50,20,31,0],\n\t\t"2b1c":[["\\u2B1C"],"","\\uDBBA\\uDF6B",["white_large_square"],50,21,31,0],\n\t\t"2b50":[["\\u2B50"],"\\uE32F","\\uDBBA\\uDF68",["star"],50,22,31,0],\n\t\t"2b55":[["\\u2B55"],"\\uE332","\\uDBBA\\uDF44",["o"],50,23,31,0],\n\t\t"3030-fe0f":[["\\u3030\\uFE0F","\\u3030"],"","\\uDBBA\\uDF07",["wavy_dash"],50,24,31,0],\n\t\t"303d-fe0f":[["\\u303D\\uFE0F","\\u303D"],"\\uE12C","\\uDBBA\\uDC1B",["part_alternation_mark"],50,25,31,0],\n\t\t"3297-fe0f":[["\\u3297\\uFE0F","\\u3297"],"\\uE30D","\\uDBBA\\uDF43",["congratulations"],50,26,31,0],\n\t\t"3299-fe0f":[["\\u3299\\uFE0F","\\u3299"],"\\uE315","\\uDBBA\\uDF2B",["secret"],50,27,31,0]\n\t};\n\t/** @private */\n\temoji.prototype.emoticons_data = {\n\t\t":o)":"monkey_face",\n\t\t"<\\/3":"broken_heart",\n\t\t"=)":"smiley",\n\t\t"=-)":"smiley",\n\t\t"C:":"smile",\n\t\t"c:":"smile",\n\t\t":D":"smile",\n\t\t":-D":"smile",\n\t\t":>":"laughing",\n\t\t":->":"laughing",\n\t\t";)":"wink",\n\t\t";-)":"wink",\n\t\t"8)":"sunglasses",\n\t\t":|":"neutral_face",\n\t\t":-|":"neutral_face",\n\t\t":\\\\":"confused",\n\t\t":-\\\\":"confused",\n\t\t":\\/":"confused",\n\t\t":-\\/":"confused",\n\t\t":*":"kissing_heart",\n\t\t":-*":"kissing_heart",\n\t\t":p":"stuck_out_tongue",\n\t\t":-p":"stuck_out_tongue",\n\t\t":P":"stuck_out_tongue",\n\t\t":-P":"stuck_out_tongue",\n\t\t":b":"stuck_out_tongue",\n\t\t":-b":"stuck_out_tongue",\n\t\t";p":"stuck_out_tongue_winking_eye",\n\t\t";-p":"stuck_out_tongue_winking_eye",\n\t\t";b":"stuck_out_tongue_winking_eye",\n\t\t";-b":"stuck_out_tongue_winking_eye",\n\t\t";P":"stuck_out_tongue_winking_eye",\n\t\t";-P":"stuck_out_tongue_winking_eye",\n\t\t"):":"disappointed",\n\t\t":(":"disappointed",\n\t\t":-(":"disappointed",\n\t\t">:(":"angry",\n\t\t">:-(":"angry",\n\t\t":\'(":"cry",\n\t\t"D:":"anguished",\n\t\t":o":"open_mouth",\n\t\t":-o":"open_mouth",\n\t\t":O":"open_mouth",\n\t\t":-O":"open_mouth",\n\t\t":)":"slightly_smiling_face",\n\t\t"(:":"slightly_smiling_face",\n\t\t":-)":"slightly_smiling_face",\n\t\t"<3":"heart"\n\t};\n\t/** @private */\n\temoji.prototype.variations_data = {\n\t\t"1f385":{"1f3fb":["1f385-1f3fb",8,20,31,["\\uD83C\\uDF85\\uD83C\\uDFFB"]],"1f3fc":["1f385-1f3fc",8,21,31,["\\uD83C\\uDF85\\uD83C\\uDFFC"]],"1f3fd":["1f385-1f3fd",8,22,31,["\\uD83C\\uDF85\\uD83C\\uDFFD"]],"1f3fe":["1f385-1f3fe",8,23,31,["\\uD83C\\uDF85\\uD83C\\uDFFE"]],"1f3ff":["1f385-1f3ff",8,24,31,["\\uD83C\\uDF85\\uD83C\\uDFFF"]]},\n\t\t"1f3c2":{"1f3fb":["1f3c2-1f3fb",9,29,31,["\\uD83C\\uDFC2\\uD83C\\uDFFB"]],"1f3fc":["1f3c2-1f3fc",9,30,31,["\\uD83C\\uDFC2\\uD83C\\uDFFC"]],"1f3fd":["1f3c2-1f3fd",9,31,31,["\\uD83C\\uDFC2\\uD83C\\uDFFD"]],"1f3fe":["1f3c2-1f3fe",9,32,31,["\\uD83C\\uDFC2\\uD83C\\uDFFE"]],"1f3ff":["1f3c2-1f3ff",9,33,31,["\\uD83C\\uDFC2\\uD83C\\uDFFF"]]},\n\t\t"1f3c3-200d-2640-fe0f":{"1f3fb":["1f3c3-1f3fb-200d-2640-fe0f",9,35,7,["\\uD83C\\uDFC3\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F"]],"1f3fc":["1f3c3-1f3fc-200d-2640-fe0f",9,36,7,["\\uD83C\\uDFC3\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F"]],"1f3fd":["1f3c3-1f3fd-200d-2640-fe0f",9,37,7,["\\uD83C\\uDFC3\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F"]],"1f3fe":["1f3c3-1f3fe-200d-2640-fe0f",9,38,7,["\\uD83C\\uDFC3\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F"]],"1f3ff":["1f3c3-1f3ff-200d-2640-fe0f",9,39,7,["\\uD83C\\uDFC3\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F"]]},\n\t\t"1f3c3-200d-2642-fe0f":{"1f3fb":["1f3c3-1f3fb-200d-2642-fe0f",9,41,7,["\\uD83C\\uDFC3\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F","\\uD83C\\uDFC3\\uD83C\\uDFFB"]],"1f3fc":["1f3c3-1f3fc-200d-2642-fe0f",9,42,7,["\\uD83C\\uDFC3\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F","\\uD83C\\uDFC3\\uD83C\\uDFFC"]],"1f3fd":["1f3c3-1f3fd-200d-2642-fe0f",9,43,7,["\\uD83C\\uDFC3\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F","\\uD83C\\uDFC3\\uD83C\\uDFFD"]],"1f3fe":["1f3c3-1f3fe-200d-2642-fe0f",9,44,7,["\\uD83C\\uDFC3\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F","\\uD83C\\uDFC3\\uD83C\\uDFFE"]],"1f3ff":["1f3c3-1f3ff-200d-2642-fe0f",9,45,7,["\\uD83C\\uDFC3\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F","\\uD83C\\uDFC3\\uD83C\\uDFFF"]]},\n\t\t"1f3c4-200d-2640-fe0f":{"1f3fb":["1f3c4-1f3fb-200d-2640-fe0f",10,1,7,["\\uD83C\\uDFC4\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F"]],"1f3fc":["1f3c4-1f3fc-200d-2640-fe0f",10,2,7,["\\uD83C\\uDFC4\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F"]],"1f3fd":["1f3c4-1f3fd-200d-2640-fe0f",10,3,7,["\\uD83C\\uDFC4\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F"]],"1f3fe":["1f3c4-1f3fe-200d-2640-fe0f",10,4,7,["\\uD83C\\uDFC4\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F"]],"1f3ff":["1f3c4-1f3ff-200d-2640-fe0f",10,5,7,["\\uD83C\\uDFC4\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F"]]},\n\t\t"1f3c4-200d-2642-fe0f":{"1f3fb":["1f3c4-1f3fb-200d-2642-fe0f",10,7,7,["\\uD83C\\uDFC4\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F","\\uD83C\\uDFC4\\uD83C\\uDFFB"]],"1f3fc":["1f3c4-1f3fc-200d-2642-fe0f",10,8,7,["\\uD83C\\uDFC4\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F","\\uD83C\\uDFC4\\uD83C\\uDFFC"]],"1f3fd":["1f3c4-1f3fd-200d-2642-fe0f",10,9,7,["\\uD83C\\uDFC4\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F","\\uD83C\\uDFC4\\uD83C\\uDFFD"]],"1f3fe":["1f3c4-1f3fe-200d-2642-fe0f",10,10,7,["\\uD83C\\uDFC4\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F","\\uD83C\\uDFC4\\uD83C\\uDFFE"]],"1f3ff":["1f3c4-1f3ff-200d-2642-fe0f",10,11,7,["\\uD83C\\uDFC4\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F","\\uD83C\\uDFC4\\uD83C\\uDFFF"]]},\n\t\t"1f3c7":{"1f3fb":["1f3c7-1f3fb",10,21,31,["\\uD83C\\uDFC7\\uD83C\\uDFFB"]],"1f3fc":["1f3c7-1f3fc",10,22,31,["\\uD83C\\uDFC7\\uD83C\\uDFFC"]],"1f3fd":["1f3c7-1f3fd",10,23,31,["\\uD83C\\uDFC7\\uD83C\\uDFFD"]],"1f3fe":["1f3c7-1f3fe",10,24,31,["\\uD83C\\uDFC7\\uD83C\\uDFFE"]],"1f3ff":["1f3c7-1f3ff",10,25,31,["\\uD83C\\uDFC7\\uD83C\\uDFFF"]]},\n\t\t"1f3ca-200d-2640-fe0f":{"1f3fb":["1f3ca-1f3fb-200d-2640-fe0f",10,29,7,["\\uD83C\\uDFCA\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F"]],"1f3fc":["1f3ca-1f3fc-200d-2640-fe0f",10,30,7,["\\uD83C\\uDFCA\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F"]],"1f3fd":["1f3ca-1f3fd-200d-2640-fe0f",10,31,7,["\\uD83C\\uDFCA\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F"]],"1f3fe":["1f3ca-1f3fe-200d-2640-fe0f",10,32,7,["\\uD83C\\uDFCA\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F"]],"1f3ff":["1f3ca-1f3ff-200d-2640-fe0f",10,33,7,["\\uD83C\\uDFCA\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F"]]},\n\t\t"1f3ca-200d-2642-fe0f":{"1f3fb":["1f3ca-1f3fb-200d-2642-fe0f",10,35,7,["\\uD83C\\uDFCA\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F","\\uD83C\\uDFCA\\uD83C\\uDFFB"]],"1f3fc":["1f3ca-1f3fc-200d-2642-fe0f",10,36,7,["\\uD83C\\uDFCA\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F","\\uD83C\\uDFCA\\uD83C\\uDFFC"]],"1f3fd":["1f3ca-1f3fd-200d-2642-fe0f",10,37,7,["\\uD83C\\uDFCA\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F","\\uD83C\\uDFCA\\uD83C\\uDFFD"]],"1f3fe":["1f3ca-1f3fe-200d-2642-fe0f",10,38,7,["\\uD83C\\uDFCA\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F","\\uD83C\\uDFCA\\uD83C\\uDFFE"]],"1f3ff":["1f3ca-1f3ff-200d-2642-fe0f",10,39,7,["\\uD83C\\uDFCA\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F","\\uD83C\\uDFCA\\uD83C\\uDFFF"]]},\n\t\t"1f3cb-fe0f-200d-2640-fe0f":{"1f3fb":["1f3cb-1f3fb-200d-2640-fe0f",10,47,7,["\\uD83C\\uDFCB\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F"]],"1f3fc":["1f3cb-1f3fc-200d-2640-fe0f",10,48,7,["\\uD83C\\uDFCB\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F"]],"1f3fd":["1f3cb-1f3fd-200d-2640-fe0f",10,49,7,["\\uD83C\\uDFCB\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F"]],"1f3fe":["1f3cb-1f3fe-200d-2640-fe0f",10,50,7,["\\uD83C\\uDFCB\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F"]],"1f3ff":["1f3cb-1f3ff-200d-2640-fe0f",10,51,7,["\\uD83C\\uDFCB\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F"]]},\n\t\t"1f3cb-fe0f-200d-2642-fe0f":{"1f3fb":["1f3cb-1f3fb-200d-2642-fe0f",11,1,7,["\\uD83C\\uDFCB\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F","\\uD83C\\uDFCB\\uD83C\\uDFFB"]],"1f3fc":["1f3cb-1f3fc-200d-2642-fe0f",11,2,7,["\\uD83C\\uDFCB\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F","\\uD83C\\uDFCB\\uD83C\\uDFFC"]],"1f3fd":["1f3cb-1f3fd-200d-2642-fe0f",11,3,7,["\\uD83C\\uDFCB\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F","\\uD83C\\uDFCB\\uD83C\\uDFFD"]],"1f3fe":["1f3cb-1f3fe-200d-2642-fe0f",11,4,7,["\\uD83C\\uDFCB\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F","\\uD83C\\uDFCB\\uD83C\\uDFFE"]],"1f3ff":["1f3cb-1f3ff-200d-2642-fe0f",11,5,7,["\\uD83C\\uDFCB\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F","\\uD83C\\uDFCB\\uD83C\\uDFFF"]]},\n\t\t"1f3cc-fe0f-200d-2640-fe0f":{"1f3fb":["1f3cc-1f3fb-200d-2640-fe0f",11,13,7,["\\uD83C\\uDFCC\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F"]],"1f3fc":["1f3cc-1f3fc-200d-2640-fe0f",11,14,7,["\\uD83C\\uDFCC\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F"]],"1f3fd":["1f3cc-1f3fd-200d-2640-fe0f",11,15,7,["\\uD83C\\uDFCC\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F"]],"1f3fe":["1f3cc-1f3fe-200d-2640-fe0f",11,16,7,["\\uD83C\\uDFCC\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F"]],"1f3ff":["1f3cc-1f3ff-200d-2640-fe0f",11,17,7,["\\uD83C\\uDFCC\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F"]]},\n\t\t"1f3cc-fe0f-200d-2642-fe0f":{"1f3fb":["1f3cc-1f3fb-200d-2642-fe0f",11,19,7,["\\uD83C\\uDFCC\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F","\\uD83C\\uDFCC\\uD83C\\uDFFB"]],"1f3fc":["1f3cc-1f3fc-200d-2642-fe0f",11,20,7,["\\uD83C\\uDFCC\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F","\\uD83C\\uDFCC\\uD83C\\uDFFC"]],"1f3fd":["1f3cc-1f3fd-200d-2642-fe0f",11,21,7,["\\uD83C\\uDFCC\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F","\\uD83C\\uDFCC\\uD83C\\uDFFD"]],"1f3fe":["1f3cc-1f3fe-200d-2642-fe0f",11,22,7,["\\uD83C\\uDFCC\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F","\\uD83C\\uDFCC\\uD83C\\uDFFE"]],"1f3ff":["1f3cc-1f3ff-200d-2642-fe0f",11,23,7,["\\uD83C\\uDFCC\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F","\\uD83C\\uDFCC\\uD83C\\uDFFF"]]},\n\t\t"1f442":{"1f3fb":["1f442-1f3fb",13,46,31,["\\uD83D\\uDC42\\uD83C\\uDFFB"]],"1f3fc":["1f442-1f3fc",13,47,31,["\\uD83D\\uDC42\\uD83C\\uDFFC"]],"1f3fd":["1f442-1f3fd",13,48,31,["\\uD83D\\uDC42\\uD83C\\uDFFD"]],"1f3fe":["1f442-1f3fe",13,49,31,["\\uD83D\\uDC42\\uD83C\\uDFFE"]],"1f3ff":["1f442-1f3ff",13,50,31,["\\uD83D\\uDC42\\uD83C\\uDFFF"]]},\n\t\t"1f443":{"1f3fb":["1f443-1f3fb",14,0,31,["\\uD83D\\uDC43\\uD83C\\uDFFB"]],"1f3fc":["1f443-1f3fc",14,1,31,["\\uD83D\\uDC43\\uD83C\\uDFFC"]],"1f3fd":["1f443-1f3fd",14,2,31,["\\uD83D\\uDC43\\uD83C\\uDFFD"]],"1f3fe":["1f443-1f3fe",14,3,31,["\\uD83D\\uDC43\\uD83C\\uDFFE"]],"1f3ff":["1f443-1f3ff",14,4,31,["\\uD83D\\uDC43\\uD83C\\uDFFF"]]},\n\t\t"1f446":{"1f3fb":["1f446-1f3fb",14,8,31,["\\uD83D\\uDC46\\uD83C\\uDFFB"]],"1f3fc":["1f446-1f3fc",14,9,31,["\\uD83D\\uDC46\\uD83C\\uDFFC"]],"1f3fd":["1f446-1f3fd",14,10,31,["\\uD83D\\uDC46\\uD83C\\uDFFD"]],"1f3fe":["1f446-1f3fe",14,11,31,["\\uD83D\\uDC46\\uD83C\\uDFFE"]],"1f3ff":["1f446-1f3ff",14,12,31,["\\uD83D\\uDC46\\uD83C\\uDFFF"]]},\n\t\t"1f447":{"1f3fb":["1f447-1f3fb",14,14,31,["\\uD83D\\uDC47\\uD83C\\uDFFB"]],"1f3fc":["1f447-1f3fc",14,15,31,["\\uD83D\\uDC47\\uD83C\\uDFFC"]],"1f3fd":["1f447-1f3fd",14,16,31,["\\uD83D\\uDC47\\uD83C\\uDFFD"]],"1f3fe":["1f447-1f3fe",14,17,31,["\\uD83D\\uDC47\\uD83C\\uDFFE"]],"1f3ff":["1f447-1f3ff",14,18,31,["\\uD83D\\uDC47\\uD83C\\uDFFF"]]},\n\t\t"1f448":{"1f3fb":["1f448-1f3fb",14,20,31,["\\uD83D\\uDC48\\uD83C\\uDFFB"]],"1f3fc":["1f448-1f3fc",14,21,31,["\\uD83D\\uDC48\\uD83C\\uDFFC"]],"1f3fd":["1f448-1f3fd",14,22,31,["\\uD83D\\uDC48\\uD83C\\uDFFD"]],"1f3fe":["1f448-1f3fe",14,23,31,["\\uD83D\\uDC48\\uD83C\\uDFFE"]],"1f3ff":["1f448-1f3ff",14,24,31,["\\uD83D\\uDC48\\uD83C\\uDFFF"]]},\n\t\t"1f449":{"1f3fb":["1f449-1f3fb",14,26,31,["\\uD83D\\uDC49\\uD83C\\uDFFB"]],"1f3fc":["1f449-1f3fc",14,27,31,["\\uD83D\\uDC49\\uD83C\\uDFFC"]],"1f3fd":["1f449-1f3fd",14,28,31,["\\uD83D\\uDC49\\uD83C\\uDFFD"]],"1f3fe":["1f449-1f3fe",14,29,31,["\\uD83D\\uDC49\\uD83C\\uDFFE"]],"1f3ff":["1f449-1f3ff",14,30,31,["\\uD83D\\uDC49\\uD83C\\uDFFF"]]},\n\t\t"1f44a":{"1f3fb":["1f44a-1f3fb",14,32,31,["\\uD83D\\uDC4A\\uD83C\\uDFFB"]],"1f3fc":["1f44a-1f3fc",14,33,31,["\\uD83D\\uDC4A\\uD83C\\uDFFC"]],"1f3fd":["1f44a-1f3fd",14,34,31,["\\uD83D\\uDC4A\\uD83C\\uDFFD"]],"1f3fe":["1f44a-1f3fe",14,35,31,["\\uD83D\\uDC4A\\uD83C\\uDFFE"]],"1f3ff":["1f44a-1f3ff",14,36,31,["\\uD83D\\uDC4A\\uD83C\\uDFFF"]]},\n\t\t"1f44b":{"1f3fb":["1f44b-1f3fb",14,38,31,["\\uD83D\\uDC4B\\uD83C\\uDFFB"]],"1f3fc":["1f44b-1f3fc",14,39,31,["\\uD83D\\uDC4B\\uD83C\\uDFFC"]],"1f3fd":["1f44b-1f3fd",14,40,31,["\\uD83D\\uDC4B\\uD83C\\uDFFD"]],"1f3fe":["1f44b-1f3fe",14,41,31,["\\uD83D\\uDC4B\\uD83C\\uDFFE"]],"1f3ff":["1f44b-1f3ff",14,42,31,["\\uD83D\\uDC4B\\uD83C\\uDFFF"]]},\n\t\t"1f44c":{"1f3fb":["1f44c-1f3fb",14,44,31,["\\uD83D\\uDC4C\\uD83C\\uDFFB"]],"1f3fc":["1f44c-1f3fc",14,45,31,["\\uD83D\\uDC4C\\uD83C\\uDFFC"]],"1f3fd":["1f44c-1f3fd",14,46,31,["\\uD83D\\uDC4C\\uD83C\\uDFFD"]],"1f3fe":["1f44c-1f3fe",14,47,31,["\\uD83D\\uDC4C\\uD83C\\uDFFE"]],"1f3ff":["1f44c-1f3ff",14,48,31,["\\uD83D\\uDC4C\\uD83C\\uDFFF"]]},\n\t\t"1f44d":{"1f3fb":["1f44d-1f3fb",14,50,31,["\\uD83D\\uDC4D\\uD83C\\uDFFB"]],"1f3fc":["1f44d-1f3fc",14,51,31,["\\uD83D\\uDC4D\\uD83C\\uDFFC"]],"1f3fd":["1f44d-1f3fd",15,0,31,["\\uD83D\\uDC4D\\uD83C\\uDFFD"]],"1f3fe":["1f44d-1f3fe",15,1,31,["\\uD83D\\uDC4D\\uD83C\\uDFFE"]],"1f3ff":["1f44d-1f3ff",15,2,31,["\\uD83D\\uDC4D\\uD83C\\uDFFF"]]},\n\t\t"1f44e":{"1f3fb":["1f44e-1f3fb",15,4,31,["\\uD83D\\uDC4E\\uD83C\\uDFFB"]],"1f3fc":["1f44e-1f3fc",15,5,31,["\\uD83D\\uDC4E\\uD83C\\uDFFC"]],"1f3fd":["1f44e-1f3fd",15,6,31,["\\uD83D\\uDC4E\\uD83C\\uDFFD"]],"1f3fe":["1f44e-1f3fe",15,7,31,["\\uD83D\\uDC4E\\uD83C\\uDFFE"]],"1f3ff":["1f44e-1f3ff",15,8,31,["\\uD83D\\uDC4E\\uD83C\\uDFFF"]]},\n\t\t"1f44f":{"1f3fb":["1f44f-1f3fb",15,10,31,["\\uD83D\\uDC4F\\uD83C\\uDFFB"]],"1f3fc":["1f44f-1f3fc",15,11,31,["\\uD83D\\uDC4F\\uD83C\\uDFFC"]],"1f3fd":["1f44f-1f3fd",15,12,31,["\\uD83D\\uDC4F\\uD83C\\uDFFD"]],"1f3fe":["1f44f-1f3fe",15,13,31,["\\uD83D\\uDC4F\\uD83C\\uDFFE"]],"1f3ff":["1f44f-1f3ff",15,14,31,["\\uD83D\\uDC4F\\uD83C\\uDFFF"]]},\n\t\t"1f450":{"1f3fb":["1f450-1f3fb",15,16,31,["\\uD83D\\uDC50\\uD83C\\uDFFB"]],"1f3fc":["1f450-1f3fc",15,17,31,["\\uD83D\\uDC50\\uD83C\\uDFFC"]],"1f3fd":["1f450-1f3fd",15,18,31,["\\uD83D\\uDC50\\uD83C\\uDFFD"]],"1f3fe":["1f450-1f3fe",15,19,31,["\\uD83D\\uDC50\\uD83C\\uDFFE"]],"1f3ff":["1f450-1f3ff",15,20,31,["\\uD83D\\uDC50\\uD83C\\uDFFF"]]},\n\t\t"1f466":{"1f3fb":["1f466-1f3fb",15,43,31,["\\uD83D\\uDC66\\uD83C\\uDFFB"]],"1f3fc":["1f466-1f3fc",15,44,31,["\\uD83D\\uDC66\\uD83C\\uDFFC"]],"1f3fd":["1f466-1f3fd",15,45,31,["\\uD83D\\uDC66\\uD83C\\uDFFD"]],"1f3fe":["1f466-1f3fe",15,46,31,["\\uD83D\\uDC66\\uD83C\\uDFFE"]],"1f3ff":["1f466-1f3ff",15,47,31,["\\uD83D\\uDC66\\uD83C\\uDFFF"]]},\n\t\t"1f467":{"1f3fb":["1f467-1f3fb",15,49,31,["\\uD83D\\uDC67\\uD83C\\uDFFB"]],"1f3fc":["1f467-1f3fc",15,50,31,["\\uD83D\\uDC67\\uD83C\\uDFFC"]],"1f3fd":["1f467-1f3fd",15,51,31,["\\uD83D\\uDC67\\uD83C\\uDFFD"]],"1f3fe":["1f467-1f3fe",16,0,31,["\\uD83D\\uDC67\\uD83C\\uDFFE"]],"1f3ff":["1f467-1f3ff",16,1,31,["\\uD83D\\uDC67\\uD83C\\uDFFF"]]},\n\t\t"1f468-200d-1f33e":{"1f3fb":["1f468-1f3fb-200d-1f33e",16,3,15,["\\uD83D\\uDC68\\uD83C\\uDFFB\\u200D\\uD83C\\uDF3E"]],"1f3fc":["1f468-1f3fc-200d-1f33e",16,4,15,["\\uD83D\\uDC68\\uD83C\\uDFFC\\u200D\\uD83C\\uDF3E"]],"1f3fd":["1f468-1f3fd-200d-1f33e",16,5,15,["\\uD83D\\uDC68\\uD83C\\uDFFD\\u200D\\uD83C\\uDF3E"]],"1f3fe":["1f468-1f3fe-200d-1f33e",16,6,15,["\\uD83D\\uDC68\\uD83C\\uDFFE\\u200D\\uD83C\\uDF3E"]],"1f3ff":["1f468-1f3ff-200d-1f33e",16,7,15,["\\uD83D\\uDC68\\uD83C\\uDFFF\\u200D\\uD83C\\uDF3E"]]},\n\t\t"1f468-200d-1f373":{"1f3fb":["1f468-1f3fb-200d-1f373",16,9,15,["\\uD83D\\uDC68\\uD83C\\uDFFB\\u200D\\uD83C\\uDF73"]],"1f3fc":["1f468-1f3fc-200d-1f373",16,10,15,["\\uD83D\\uDC68\\uD83C\\uDFFC\\u200D\\uD83C\\uDF73"]],"1f3fd":["1f468-1f3fd-200d-1f373",16,11,15,["\\uD83D\\uDC68\\uD83C\\uDFFD\\u200D\\uD83C\\uDF73"]],"1f3fe":["1f468-1f3fe-200d-1f373",16,12,15,["\\uD83D\\uDC68\\uD83C\\uDFFE\\u200D\\uD83C\\uDF73"]],"1f3ff":["1f468-1f3ff-200d-1f373",16,13,15,["\\uD83D\\uDC68\\uD83C\\uDFFF\\u200D\\uD83C\\uDF73"]]},\n\t\t"1f468-200d-1f393":{"1f3fb":["1f468-1f3fb-200d-1f393",16,15,15,["\\uD83D\\uDC68\\uD83C\\uDFFB\\u200D\\uD83C\\uDF93"]],"1f3fc":["1f468-1f3fc-200d-1f393",16,16,15,["\\uD83D\\uDC68\\uD83C\\uDFFC\\u200D\\uD83C\\uDF93"]],"1f3fd":["1f468-1f3fd-200d-1f393",16,17,15,["\\uD83D\\uDC68\\uD83C\\uDFFD\\u200D\\uD83C\\uDF93"]],"1f3fe":["1f468-1f3fe-200d-1f393",16,18,15,["\\uD83D\\uDC68\\uD83C\\uDFFE\\u200D\\uD83C\\uDF93"]],"1f3ff":["1f468-1f3ff-200d-1f393",16,19,15,["\\uD83D\\uDC68\\uD83C\\uDFFF\\u200D\\uD83C\\uDF93"]]},\n\t\t"1f468-200d-1f3a4":{"1f3fb":["1f468-1f3fb-200d-1f3a4",16,21,15,["\\uD83D\\uDC68\\uD83C\\uDFFB\\u200D\\uD83C\\uDFA4"]],"1f3fc":["1f468-1f3fc-200d-1f3a4",16,22,15,["\\uD83D\\uDC68\\uD83C\\uDFFC\\u200D\\uD83C\\uDFA4"]],"1f3fd":["1f468-1f3fd-200d-1f3a4",16,23,15,["\\uD83D\\uDC68\\uD83C\\uDFFD\\u200D\\uD83C\\uDFA4"]],"1f3fe":["1f468-1f3fe-200d-1f3a4",16,24,15,["\\uD83D\\uDC68\\uD83C\\uDFFE\\u200D\\uD83C\\uDFA4"]],"1f3ff":["1f468-1f3ff-200d-1f3a4",16,25,15,["\\uD83D\\uDC68\\uD83C\\uDFFF\\u200D\\uD83C\\uDFA4"]]},\n\t\t"1f468-200d-1f3a8":{"1f3fb":["1f468-1f3fb-200d-1f3a8",16,27,15,["\\uD83D\\uDC68\\uD83C\\uDFFB\\u200D\\uD83C\\uDFA8"]],"1f3fc":["1f468-1f3fc-200d-1f3a8",16,28,15,["\\uD83D\\uDC68\\uD83C\\uDFFC\\u200D\\uD83C\\uDFA8"]],"1f3fd":["1f468-1f3fd-200d-1f3a8",16,29,15,["\\uD83D\\uDC68\\uD83C\\uDFFD\\u200D\\uD83C\\uDFA8"]],"1f3fe":["1f468-1f3fe-200d-1f3a8",16,30,15,["\\uD83D\\uDC68\\uD83C\\uDFFE\\u200D\\uD83C\\uDFA8"]],"1f3ff":["1f468-1f3ff-200d-1f3a8",16,31,15,["\\uD83D\\uDC68\\uD83C\\uDFFF\\u200D\\uD83C\\uDFA8"]]},\n\t\t"1f468-200d-1f3eb":{"1f3fb":["1f468-1f3fb-200d-1f3eb",16,33,15,["\\uD83D\\uDC68\\uD83C\\uDFFB\\u200D\\uD83C\\uDFEB"]],"1f3fc":["1f468-1f3fc-200d-1f3eb",16,34,15,["\\uD83D\\uDC68\\uD83C\\uDFFC\\u200D\\uD83C\\uDFEB"]],"1f3fd":["1f468-1f3fd-200d-1f3eb",16,35,15,["\\uD83D\\uDC68\\uD83C\\uDFFD\\u200D\\uD83C\\uDFEB"]],"1f3fe":["1f468-1f3fe-200d-1f3eb",16,36,15,["\\uD83D\\uDC68\\uD83C\\uDFFE\\u200D\\uD83C\\uDFEB"]],"1f3ff":["1f468-1f3ff-200d-1f3eb",16,37,15,["\\uD83D\\uDC68\\uD83C\\uDFFF\\u200D\\uD83C\\uDFEB"]]},\n\t\t"1f468-200d-1f3ed":{"1f3fb":["1f468-1f3fb-200d-1f3ed",16,39,15,["\\uD83D\\uDC68\\uD83C\\uDFFB\\u200D\\uD83C\\uDFED"]],"1f3fc":["1f468-1f3fc-200d-1f3ed",16,40,15,["\\uD83D\\uDC68\\uD83C\\uDFFC\\u200D\\uD83C\\uDFED"]],"1f3fd":["1f468-1f3fd-200d-1f3ed",16,41,15,["\\uD83D\\uDC68\\uD83C\\uDFFD\\u200D\\uD83C\\uDFED"]],"1f3fe":["1f468-1f3fe-200d-1f3ed",16,42,15,["\\uD83D\\uDC68\\uD83C\\uDFFE\\u200D\\uD83C\\uDFED"]],"1f3ff":["1f468-1f3ff-200d-1f3ed",16,43,15,["\\uD83D\\uDC68\\uD83C\\uDFFF\\u200D\\uD83C\\uDFED"]]},\n\t\t"1f468-200d-1f4bb":{"1f3fb":["1f468-1f3fb-200d-1f4bb",17,8,15,["\\uD83D\\uDC68\\uD83C\\uDFFB\\u200D\\uD83D\\uDCBB"]],"1f3fc":["1f468-1f3fc-200d-1f4bb",17,9,15,["\\uD83D\\uDC68\\uD83C\\uDFFC\\u200D\\uD83D\\uDCBB"]],"1f3fd":["1f468-1f3fd-200d-1f4bb",17,10,15,["\\uD83D\\uDC68\\uD83C\\uDFFD\\u200D\\uD83D\\uDCBB"]],"1f3fe":["1f468-1f3fe-200d-1f4bb",17,11,15,["\\uD83D\\uDC68\\uD83C\\uDFFE\\u200D\\uD83D\\uDCBB"]],"1f3ff":["1f468-1f3ff-200d-1f4bb",17,12,15,["\\uD83D\\uDC68\\uD83C\\uDFFF\\u200D\\uD83D\\uDCBB"]]},\n\t\t"1f468-200d-1f4bc":{"1f3fb":["1f468-1f3fb-200d-1f4bc",17,14,15,["\\uD83D\\uDC68\\uD83C\\uDFFB\\u200D\\uD83D\\uDCBC"]],"1f3fc":["1f468-1f3fc-200d-1f4bc",17,15,15,["\\uD83D\\uDC68\\uD83C\\uDFFC\\u200D\\uD83D\\uDCBC"]],"1f3fd":["1f468-1f3fd-200d-1f4bc",17,16,15,["\\uD83D\\uDC68\\uD83C\\uDFFD\\u200D\\uD83D\\uDCBC"]],"1f3fe":["1f468-1f3fe-200d-1f4bc",17,17,15,["\\uD83D\\uDC68\\uD83C\\uDFFE\\u200D\\uD83D\\uDCBC"]],"1f3ff":["1f468-1f3ff-200d-1f4bc",17,18,15,["\\uD83D\\uDC68\\uD83C\\uDFFF\\u200D\\uD83D\\uDCBC"]]},\n\t\t"1f468-200d-1f527":{"1f3fb":["1f468-1f3fb-200d-1f527",17,20,15,["\\uD83D\\uDC68\\uD83C\\uDFFB\\u200D\\uD83D\\uDD27"]],"1f3fc":["1f468-1f3fc-200d-1f527",17,21,15,["\\uD83D\\uDC68\\uD83C\\uDFFC\\u200D\\uD83D\\uDD27"]],"1f3fd":["1f468-1f3fd-200d-1f527",17,22,15,["\\uD83D\\uDC68\\uD83C\\uDFFD\\u200D\\uD83D\\uDD27"]],"1f3fe":["1f468-1f3fe-200d-1f527",17,23,15,["\\uD83D\\uDC68\\uD83C\\uDFFE\\u200D\\uD83D\\uDD27"]],"1f3ff":["1f468-1f3ff-200d-1f527",17,24,15,["\\uD83D\\uDC68\\uD83C\\uDFFF\\u200D\\uD83D\\uDD27"]]},\n\t\t"1f468-200d-1f52c":{"1f3fb":["1f468-1f3fb-200d-1f52c",17,26,15,["\\uD83D\\uDC68\\uD83C\\uDFFB\\u200D\\uD83D\\uDD2C"]],"1f3fc":["1f468-1f3fc-200d-1f52c",17,27,15,["\\uD83D\\uDC68\\uD83C\\uDFFC\\u200D\\uD83D\\uDD2C"]],"1f3fd":["1f468-1f3fd-200d-1f52c",17,28,15,["\\uD83D\\uDC68\\uD83C\\uDFFD\\u200D\\uD83D\\uDD2C"]],"1f3fe":["1f468-1f3fe-200d-1f52c",17,29,15,["\\uD83D\\uDC68\\uD83C\\uDFFE\\u200D\\uD83D\\uDD2C"]],"1f3ff":["1f468-1f3ff-200d-1f52c",17,30,15,["\\uD83D\\uDC68\\uD83C\\uDFFF\\u200D\\uD83D\\uDD2C"]]},\n\t\t"1f468-200d-1f680":{"1f3fb":["1f468-1f3fb-200d-1f680",17,32,15,["\\uD83D\\uDC68\\uD83C\\uDFFB\\u200D\\uD83D\\uDE80"]],"1f3fc":["1f468-1f3fc-200d-1f680",17,33,15,["\\uD83D\\uDC68\\uD83C\\uDFFC\\u200D\\uD83D\\uDE80"]],"1f3fd":["1f468-1f3fd-200d-1f680",17,34,15,["\\uD83D\\uDC68\\uD83C\\uDFFD\\u200D\\uD83D\\uDE80"]],"1f3fe":["1f468-1f3fe-200d-1f680",17,35,15,["\\uD83D\\uDC68\\uD83C\\uDFFE\\u200D\\uD83D\\uDE80"]],"1f3ff":["1f468-1f3ff-200d-1f680",17,36,15,["\\uD83D\\uDC68\\uD83C\\uDFFF\\u200D\\uD83D\\uDE80"]]},\n\t\t"1f468-200d-1f692":{"1f3fb":["1f468-1f3fb-200d-1f692",17,38,15,["\\uD83D\\uDC68\\uD83C\\uDFFB\\u200D\\uD83D\\uDE92"]],"1f3fc":["1f468-1f3fc-200d-1f692",17,39,15,["\\uD83D\\uDC68\\uD83C\\uDFFC\\u200D\\uD83D\\uDE92"]],"1f3fd":["1f468-1f3fd-200d-1f692",17,40,15,["\\uD83D\\uDC68\\uD83C\\uDFFD\\u200D\\uD83D\\uDE92"]],"1f3fe":["1f468-1f3fe-200d-1f692",17,41,15,["\\uD83D\\uDC68\\uD83C\\uDFFE\\u200D\\uD83D\\uDE92"]],"1f3ff":["1f468-1f3ff-200d-1f692",17,42,15,["\\uD83D\\uDC68\\uD83C\\uDFFF\\u200D\\uD83D\\uDE92"]]},\n\t\t"1f468-200d-2695-fe0f":{"1f3fb":["1f468-1f3fb-200d-2695-fe0f",17,44,7,["\\uD83D\\uDC68\\uD83C\\uDFFB\\u200D\\u2695\\uFE0F"]],"1f3fc":["1f468-1f3fc-200d-2695-fe0f",17,45,7,["\\uD83D\\uDC68\\uD83C\\uDFFC\\u200D\\u2695\\uFE0F"]],"1f3fd":["1f468-1f3fd-200d-2695-fe0f",17,46,7,["\\uD83D\\uDC68\\uD83C\\uDFFD\\u200D\\u2695\\uFE0F"]],"1f3fe":["1f468-1f3fe-200d-2695-fe0f",17,47,7,["\\uD83D\\uDC68\\uD83C\\uDFFE\\u200D\\u2695\\uFE0F"]],"1f3ff":["1f468-1f3ff-200d-2695-fe0f",17,48,7,["\\uD83D\\uDC68\\uD83C\\uDFFF\\u200D\\u2695\\uFE0F"]]},\n\t\t"1f468-200d-2696-fe0f":{"1f3fb":["1f468-1f3fb-200d-2696-fe0f",17,50,7,["\\uD83D\\uDC68\\uD83C\\uDFFB\\u200D\\u2696\\uFE0F"]],"1f3fc":["1f468-1f3fc-200d-2696-fe0f",17,51,7,["\\uD83D\\uDC68\\uD83C\\uDFFC\\u200D\\u2696\\uFE0F"]],"1f3fd":["1f468-1f3fd-200d-2696-fe0f",18,0,7,["\\uD83D\\uDC68\\uD83C\\uDFFD\\u200D\\u2696\\uFE0F"]],"1f3fe":["1f468-1f3fe-200d-2696-fe0f",18,1,7,["\\uD83D\\uDC68\\uD83C\\uDFFE\\u200D\\u2696\\uFE0F"]],"1f3ff":["1f468-1f3ff-200d-2696-fe0f",18,2,7,["\\uD83D\\uDC68\\uD83C\\uDFFF\\u200D\\u2696\\uFE0F"]]},\n\t\t"1f468-200d-2708-fe0f":{"1f3fb":["1f468-1f3fb-200d-2708-fe0f",18,4,7,["\\uD83D\\uDC68\\uD83C\\uDFFB\\u200D\\u2708\\uFE0F"]],"1f3fc":["1f468-1f3fc-200d-2708-fe0f",18,5,7,["\\uD83D\\uDC68\\uD83C\\uDFFC\\u200D\\u2708\\uFE0F"]],"1f3fd":["1f468-1f3fd-200d-2708-fe0f",18,6,7,["\\uD83D\\uDC68\\uD83C\\uDFFD\\u200D\\u2708\\uFE0F"]],"1f3fe":["1f468-1f3fe-200d-2708-fe0f",18,7,7,["\\uD83D\\uDC68\\uD83C\\uDFFE\\u200D\\u2708\\uFE0F"]],"1f3ff":["1f468-1f3ff-200d-2708-fe0f",18,8,7,["\\uD83D\\uDC68\\uD83C\\uDFFF\\u200D\\u2708\\uFE0F"]]},\n\t\t"1f468":{"1f3fb":["1f468-1f3fb",18,12,31,["\\uD83D\\uDC68\\uD83C\\uDFFB"]],"1f3fc":["1f468-1f3fc",18,13,31,["\\uD83D\\uDC68\\uD83C\\uDFFC"]],"1f3fd":["1f468-1f3fd",18,14,31,["\\uD83D\\uDC68\\uD83C\\uDFFD"]],"1f3fe":["1f468-1f3fe",18,15,31,["\\uD83D\\uDC68\\uD83C\\uDFFE"]],"1f3ff":["1f468-1f3ff",18,16,31,["\\uD83D\\uDC68\\uD83C\\uDFFF"]]},\n\t\t"1f469-200d-1f33e":{"1f3fb":["1f469-1f3fb-200d-1f33e",18,18,15,["\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83C\\uDF3E"]],"1f3fc":["1f469-1f3fc-200d-1f33e",18,19,15,["\\uD83D\\uDC69\\uD83C\\uDFFC\\u200D\\uD83C\\uDF3E"]],"1f3fd":["1f469-1f3fd-200d-1f33e",18,20,15,["\\uD83D\\uDC69\\uD83C\\uDFFD\\u200D\\uD83C\\uDF3E"]],"1f3fe":["1f469-1f3fe-200d-1f33e",18,21,15,["\\uD83D\\uDC69\\uD83C\\uDFFE\\u200D\\uD83C\\uDF3E"]],"1f3ff":["1f469-1f3ff-200d-1f33e",18,22,15,["\\uD83D\\uDC69\\uD83C\\uDFFF\\u200D\\uD83C\\uDF3E"]]},\n\t\t"1f469-200d-1f373":{"1f3fb":["1f469-1f3fb-200d-1f373",18,24,15,["\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83C\\uDF73"]],"1f3fc":["1f469-1f3fc-200d-1f373",18,25,15,["\\uD83D\\uDC69\\uD83C\\uDFFC\\u200D\\uD83C\\uDF73"]],"1f3fd":["1f469-1f3fd-200d-1f373",18,26,15,["\\uD83D\\uDC69\\uD83C\\uDFFD\\u200D\\uD83C\\uDF73"]],"1f3fe":["1f469-1f3fe-200d-1f373",18,27,15,["\\uD83D\\uDC69\\uD83C\\uDFFE\\u200D\\uD83C\\uDF73"]],"1f3ff":["1f469-1f3ff-200d-1f373",18,28,15,["\\uD83D\\uDC69\\uD83C\\uDFFF\\u200D\\uD83C\\uDF73"]]},\n\t\t"1f469-200d-1f393":{"1f3fb":["1f469-1f3fb-200d-1f393",18,30,15,["\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83C\\uDF93"]],"1f3fc":["1f469-1f3fc-200d-1f393",18,31,15,["\\uD83D\\uDC69\\uD83C\\uDFFC\\u200D\\uD83C\\uDF93"]],"1f3fd":["1f469-1f3fd-200d-1f393",18,32,15,["\\uD83D\\uDC69\\uD83C\\uDFFD\\u200D\\uD83C\\uDF93"]],"1f3fe":["1f469-1f3fe-200d-1f393",18,33,15,["\\uD83D\\uDC69\\uD83C\\uDFFE\\u200D\\uD83C\\uDF93"]],"1f3ff":["1f469-1f3ff-200d-1f393",18,34,15,["\\uD83D\\uDC69\\uD83C\\uDFFF\\u200D\\uD83C\\uDF93"]]},\n\t\t"1f469-200d-1f3a4":{"1f3fb":["1f469-1f3fb-200d-1f3a4",18,36,15,["\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83C\\uDFA4"]],"1f3fc":["1f469-1f3fc-200d-1f3a4",18,37,15,["\\uD83D\\uDC69\\uD83C\\uDFFC\\u200D\\uD83C\\uDFA4"]],"1f3fd":["1f469-1f3fd-200d-1f3a4",18,38,15,["\\uD83D\\uDC69\\uD83C\\uDFFD\\u200D\\uD83C\\uDFA4"]],"1f3fe":["1f469-1f3fe-200d-1f3a4",18,39,15,["\\uD83D\\uDC69\\uD83C\\uDFFE\\u200D\\uD83C\\uDFA4"]],"1f3ff":["1f469-1f3ff-200d-1f3a4",18,40,15,["\\uD83D\\uDC69\\uD83C\\uDFFF\\u200D\\uD83C\\uDFA4"]]},\n\t\t"1f469-200d-1f3a8":{"1f3fb":["1f469-1f3fb-200d-1f3a8",18,42,15,["\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83C\\uDFA8"]],"1f3fc":["1f469-1f3fc-200d-1f3a8",18,43,15,["\\uD83D\\uDC69\\uD83C\\uDFFC\\u200D\\uD83C\\uDFA8"]],"1f3fd":["1f469-1f3fd-200d-1f3a8",18,44,15,["\\uD83D\\uDC69\\uD83C\\uDFFD\\u200D\\uD83C\\uDFA8"]],"1f3fe":["1f469-1f3fe-200d-1f3a8",18,45,15,["\\uD83D\\uDC69\\uD83C\\uDFFE\\u200D\\uD83C\\uDFA8"]],"1f3ff":["1f469-1f3ff-200d-1f3a8",18,46,15,["\\uD83D\\uDC69\\uD83C\\uDFFF\\u200D\\uD83C\\uDFA8"]]},\n\t\t"1f469-200d-1f3eb":{"1f3fb":["1f469-1f3fb-200d-1f3eb",18,48,15,["\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83C\\uDFEB"]],"1f3fc":["1f469-1f3fc-200d-1f3eb",18,49,15,["\\uD83D\\uDC69\\uD83C\\uDFFC\\u200D\\uD83C\\uDFEB"]],"1f3fd":["1f469-1f3fd-200d-1f3eb",18,50,15,["\\uD83D\\uDC69\\uD83C\\uDFFD\\u200D\\uD83C\\uDFEB"]],"1f3fe":["1f469-1f3fe-200d-1f3eb",18,51,15,["\\uD83D\\uDC69\\uD83C\\uDFFE\\u200D\\uD83C\\uDFEB"]],"1f3ff":["1f469-1f3ff-200d-1f3eb",19,0,15,["\\uD83D\\uDC69\\uD83C\\uDFFF\\u200D\\uD83C\\uDFEB"]]},\n\t\t"1f469-200d-1f3ed":{"1f3fb":["1f469-1f3fb-200d-1f3ed",19,2,15,["\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83C\\uDFED"]],"1f3fc":["1f469-1f3fc-200d-1f3ed",19,3,15,["\\uD83D\\uDC69\\uD83C\\uDFFC\\u200D\\uD83C\\uDFED"]],"1f3fd":["1f469-1f3fd-200d-1f3ed",19,4,15,["\\uD83D\\uDC69\\uD83C\\uDFFD\\u200D\\uD83C\\uDFED"]],"1f3fe":["1f469-1f3fe-200d-1f3ed",19,5,15,["\\uD83D\\uDC69\\uD83C\\uDFFE\\u200D\\uD83C\\uDFED"]],"1f3ff":["1f469-1f3ff-200d-1f3ed",19,6,15,["\\uD83D\\uDC69\\uD83C\\uDFFF\\u200D\\uD83C\\uDFED"]]},\n\t\t"1f469-200d-1f4bb":{"1f3fb":["1f469-1f3fb-200d-1f4bb",19,18,15,["\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83D\\uDCBB"]],"1f3fc":["1f469-1f3fc-200d-1f4bb",19,19,15,["\\uD83D\\uDC69\\uD83C\\uDFFC\\u200D\\uD83D\\uDCBB"]],"1f3fd":["1f469-1f3fd-200d-1f4bb",19,20,15,["\\uD83D\\uDC69\\uD83C\\uDFFD\\u200D\\uD83D\\uDCBB"]],"1f3fe":["1f469-1f3fe-200d-1f4bb",19,21,15,["\\uD83D\\uDC69\\uD83C\\uDFFE\\u200D\\uD83D\\uDCBB"]],"1f3ff":["1f469-1f3ff-200d-1f4bb",19,22,15,["\\uD83D\\uDC69\\uD83C\\uDFFF\\u200D\\uD83D\\uDCBB"]]},\n\t\t"1f469-200d-1f4bc":{"1f3fb":["1f469-1f3fb-200d-1f4bc",19,24,15,["\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83D\\uDCBC"]],"1f3fc":["1f469-1f3fc-200d-1f4bc",19,25,15,["\\uD83D\\uDC69\\uD83C\\uDFFC\\u200D\\uD83D\\uDCBC"]],"1f3fd":["1f469-1f3fd-200d-1f4bc",19,26,15,["\\uD83D\\uDC69\\uD83C\\uDFFD\\u200D\\uD83D\\uDCBC"]],"1f3fe":["1f469-1f3fe-200d-1f4bc",19,27,15,["\\uD83D\\uDC69\\uD83C\\uDFFE\\u200D\\uD83D\\uDCBC"]],"1f3ff":["1f469-1f3ff-200d-1f4bc",19,28,15,["\\uD83D\\uDC69\\uD83C\\uDFFF\\u200D\\uD83D\\uDCBC"]]},\n\t\t"1f469-200d-1f527":{"1f3fb":["1f469-1f3fb-200d-1f527",19,30,15,["\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83D\\uDD27"]],"1f3fc":["1f469-1f3fc-200d-1f527",19,31,15,["\\uD83D\\uDC69\\uD83C\\uDFFC\\u200D\\uD83D\\uDD27"]],"1f3fd":["1f469-1f3fd-200d-1f527",19,32,15,["\\uD83D\\uDC69\\uD83C\\uDFFD\\u200D\\uD83D\\uDD27"]],"1f3fe":["1f469-1f3fe-200d-1f527",19,33,15,["\\uD83D\\uDC69\\uD83C\\uDFFE\\u200D\\uD83D\\uDD27"]],"1f3ff":["1f469-1f3ff-200d-1f527",19,34,15,["\\uD83D\\uDC69\\uD83C\\uDFFF\\u200D\\uD83D\\uDD27"]]},\n\t\t"1f469-200d-1f52c":{"1f3fb":["1f469-1f3fb-200d-1f52c",19,36,15,["\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83D\\uDD2C"]],"1f3fc":["1f469-1f3fc-200d-1f52c",19,37,15,["\\uD83D\\uDC69\\uD83C\\uDFFC\\u200D\\uD83D\\uDD2C"]],"1f3fd":["1f469-1f3fd-200d-1f52c",19,38,15,["\\uD83D\\uDC69\\uD83C\\uDFFD\\u200D\\uD83D\\uDD2C"]],"1f3fe":["1f469-1f3fe-200d-1f52c",19,39,15,["\\uD83D\\uDC69\\uD83C\\uDFFE\\u200D\\uD83D\\uDD2C"]],"1f3ff":["1f469-1f3ff-200d-1f52c",19,40,15,["\\uD83D\\uDC69\\uD83C\\uDFFF\\u200D\\uD83D\\uDD2C"]]},\n\t\t"1f469-200d-1f680":{"1f3fb":["1f469-1f3fb-200d-1f680",19,42,15,["\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83D\\uDE80"]],"1f3fc":["1f469-1f3fc-200d-1f680",19,43,15,["\\uD83D\\uDC69\\uD83C\\uDFFC\\u200D\\uD83D\\uDE80"]],"1f3fd":["1f469-1f3fd-200d-1f680",19,44,15,["\\uD83D\\uDC69\\uD83C\\uDFFD\\u200D\\uD83D\\uDE80"]],"1f3fe":["1f469-1f3fe-200d-1f680",19,45,15,["\\uD83D\\uDC69\\uD83C\\uDFFE\\u200D\\uD83D\\uDE80"]],"1f3ff":["1f469-1f3ff-200d-1f680",19,46,15,["\\uD83D\\uDC69\\uD83C\\uDFFF\\u200D\\uD83D\\uDE80"]]},\n\t\t"1f469-200d-1f692":{"1f3fb":["1f469-1f3fb-200d-1f692",19,48,15,["\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83D\\uDE92"]],"1f3fc":["1f469-1f3fc-200d-1f692",19,49,15,["\\uD83D\\uDC69\\uD83C\\uDFFC\\u200D\\uD83D\\uDE92"]],"1f3fd":["1f469-1f3fd-200d-1f692",19,50,15,["\\uD83D\\uDC69\\uD83C\\uDFFD\\u200D\\uD83D\\uDE92"]],"1f3fe":["1f469-1f3fe-200d-1f692",19,51,15,["\\uD83D\\uDC69\\uD83C\\uDFFE\\u200D\\uD83D\\uDE92"]],"1f3ff":["1f469-1f3ff-200d-1f692",20,0,15,["\\uD83D\\uDC69\\uD83C\\uDFFF\\u200D\\uD83D\\uDE92"]]},\n\t\t"1f469-200d-2695-fe0f":{"1f3fb":["1f469-1f3fb-200d-2695-fe0f",20,2,7,["\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\u2695\\uFE0F"]],"1f3fc":["1f469-1f3fc-200d-2695-fe0f",20,3,7,["\\uD83D\\uDC69\\uD83C\\uDFFC\\u200D\\u2695\\uFE0F"]],"1f3fd":["1f469-1f3fd-200d-2695-fe0f",20,4,7,["\\uD83D\\uDC69\\uD83C\\uDFFD\\u200D\\u2695\\uFE0F"]],"1f3fe":["1f469-1f3fe-200d-2695-fe0f",20,5,7,["\\uD83D\\uDC69\\uD83C\\uDFFE\\u200D\\u2695\\uFE0F"]],"1f3ff":["1f469-1f3ff-200d-2695-fe0f",20,6,7,["\\uD83D\\uDC69\\uD83C\\uDFFF\\u200D\\u2695\\uFE0F"]]},\n\t\t"1f469-200d-2696-fe0f":{"1f3fb":["1f469-1f3fb-200d-2696-fe0f",20,8,7,["\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\u2696\\uFE0F"]],"1f3fc":["1f469-1f3fc-200d-2696-fe0f",20,9,7,["\\uD83D\\uDC69\\uD83C\\uDFFC\\u200D\\u2696\\uFE0F"]],"1f3fd":["1f469-1f3fd-200d-2696-fe0f",20,10,7,["\\uD83D\\uDC69\\uD83C\\uDFFD\\u200D\\u2696\\uFE0F"]],"1f3fe":["1f469-1f3fe-200d-2696-fe0f",20,11,7,["\\uD83D\\uDC69\\uD83C\\uDFFE\\u200D\\u2696\\uFE0F"]],"1f3ff":["1f469-1f3ff-200d-2696-fe0f",20,12,7,["\\uD83D\\uDC69\\uD83C\\uDFFF\\u200D\\u2696\\uFE0F"]]},\n\t\t"1f469-200d-2708-fe0f":{"1f3fb":["1f469-1f3fb-200d-2708-fe0f",20,14,7,["\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\u2708\\uFE0F"]],"1f3fc":["1f469-1f3fc-200d-2708-fe0f",20,15,7,["\\uD83D\\uDC69\\uD83C\\uDFFC\\u200D\\u2708\\uFE0F"]],"1f3fd":["1f469-1f3fd-200d-2708-fe0f",20,16,7,["\\uD83D\\uDC69\\uD83C\\uDFFD\\u200D\\u2708\\uFE0F"]],"1f3fe":["1f469-1f3fe-200d-2708-fe0f",20,17,7,["\\uD83D\\uDC69\\uD83C\\uDFFE\\u200D\\u2708\\uFE0F"]],"1f3ff":["1f469-1f3ff-200d-2708-fe0f",20,18,7,["\\uD83D\\uDC69\\uD83C\\uDFFF\\u200D\\u2708\\uFE0F"]]},\n\t\t"1f469":{"1f3fb":["1f469-1f3fb",20,24,31,["\\uD83D\\uDC69\\uD83C\\uDFFB"]],"1f3fc":["1f469-1f3fc",20,25,31,["\\uD83D\\uDC69\\uD83C\\uDFFC"]],"1f3fd":["1f469-1f3fd",20,26,31,["\\uD83D\\uDC69\\uD83C\\uDFFD"]],"1f3fe":["1f469-1f3fe",20,27,31,["\\uD83D\\uDC69\\uD83C\\uDFFE"]],"1f3ff":["1f469-1f3ff",20,28,31,["\\uD83D\\uDC69\\uD83C\\uDFFF"]]},\n\t\t"1f46e-200d-2640-fe0f":{"1f3fb":["1f46e-1f3fb-200d-2640-fe0f",20,34,7,["\\uD83D\\uDC6E\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F"]],"1f3fc":["1f46e-1f3fc-200d-2640-fe0f",20,35,7,["\\uD83D\\uDC6E\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F"]],"1f3fd":["1f46e-1f3fd-200d-2640-fe0f",20,36,7,["\\uD83D\\uDC6E\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F"]],"1f3fe":["1f46e-1f3fe-200d-2640-fe0f",20,37,7,["\\uD83D\\uDC6E\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F"]],"1f3ff":["1f46e-1f3ff-200d-2640-fe0f",20,38,7,["\\uD83D\\uDC6E\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F"]]},\n\t\t"1f46e-200d-2642-fe0f":{"1f3fb":["1f46e-1f3fb-200d-2642-fe0f",20,40,7,["\\uD83D\\uDC6E\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F","\\uD83D\\uDC6E\\uD83C\\uDFFB"]],"1f3fc":["1f46e-1f3fc-200d-2642-fe0f",20,41,7,["\\uD83D\\uDC6E\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F","\\uD83D\\uDC6E\\uD83C\\uDFFC"]],"1f3fd":["1f46e-1f3fd-200d-2642-fe0f",20,42,7,["\\uD83D\\uDC6E\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F","\\uD83D\\uDC6E\\uD83C\\uDFFD"]],"1f3fe":["1f46e-1f3fe-200d-2642-fe0f",20,43,7,["\\uD83D\\uDC6E\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F","\\uD83D\\uDC6E\\uD83C\\uDFFE"]],"1f3ff":["1f46e-1f3ff-200d-2642-fe0f",20,44,7,["\\uD83D\\uDC6E\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F","\\uD83D\\uDC6E\\uD83C\\uDFFF"]]},\n\t\t"1f470":{"1f3fb":["1f470-1f3fb",21,3,31,["\\uD83D\\uDC70\\uD83C\\uDFFB"]],"1f3fc":["1f470-1f3fc",21,4,31,["\\uD83D\\uDC70\\uD83C\\uDFFC"]],"1f3fd":["1f470-1f3fd",21,5,31,["\\uD83D\\uDC70\\uD83C\\uDFFD"]],"1f3fe":["1f470-1f3fe",21,6,31,["\\uD83D\\uDC70\\uD83C\\uDFFE"]],"1f3ff":["1f470-1f3ff",21,7,31,["\\uD83D\\uDC70\\uD83C\\uDFFF"]]},\n\t\t"1f471-200d-2640-fe0f":{"1f3fb":["1f471-1f3fb-200d-2640-fe0f",21,9,7,["\\uD83D\\uDC71\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F"]],"1f3fc":["1f471-1f3fc-200d-2640-fe0f",21,10,7,["\\uD83D\\uDC71\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F"]],"1f3fd":["1f471-1f3fd-200d-2640-fe0f",21,11,7,["\\uD83D\\uDC71\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F"]],"1f3fe":["1f471-1f3fe-200d-2640-fe0f",21,12,7,["\\uD83D\\uDC71\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F"]],"1f3ff":["1f471-1f3ff-200d-2640-fe0f",21,13,7,["\\uD83D\\uDC71\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F"]]},\n\t\t"1f471-200d-2642-fe0f":{"1f3fb":["1f471-1f3fb-200d-2642-fe0f",21,15,7,["\\uD83D\\uDC71\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F","\\uD83D\\uDC71\\uD83C\\uDFFB"]],"1f3fc":["1f471-1f3fc-200d-2642-fe0f",21,16,7,["\\uD83D\\uDC71\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F","\\uD83D\\uDC71\\uD83C\\uDFFC"]],"1f3fd":["1f471-1f3fd-200d-2642-fe0f",21,17,7,["\\uD83D\\uDC71\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F","\\uD83D\\uDC71\\uD83C\\uDFFD"]],"1f3fe":["1f471-1f3fe-200d-2642-fe0f",21,18,7,["\\uD83D\\uDC71\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F","\\uD83D\\uDC71\\uD83C\\uDFFE"]],"1f3ff":["1f471-1f3ff-200d-2642-fe0f",21,19,7,["\\uD83D\\uDC71\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F","\\uD83D\\uDC71\\uD83C\\uDFFF"]]},\n\t\t"1f472":{"1f3fb":["1f472-1f3fb",21,27,31,["\\uD83D\\uDC72\\uD83C\\uDFFB"]],"1f3fc":["1f472-1f3fc",21,28,31,["\\uD83D\\uDC72\\uD83C\\uDFFC"]],"1f3fd":["1f472-1f3fd",21,29,31,["\\uD83D\\uDC72\\uD83C\\uDFFD"]],"1f3fe":["1f472-1f3fe",21,30,31,["\\uD83D\\uDC72\\uD83C\\uDFFE"]],"1f3ff":["1f472-1f3ff",21,31,31,["\\uD83D\\uDC72\\uD83C\\uDFFF"]]},\n\t\t"1f473-200d-2640-fe0f":{"1f3fb":["1f473-1f3fb-200d-2640-fe0f",21,33,7,["\\uD83D\\uDC73\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F"]],"1f3fc":["1f473-1f3fc-200d-2640-fe0f",21,34,7,["\\uD83D\\uDC73\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F"]],"1f3fd":["1f473-1f3fd-200d-2640-fe0f",21,35,7,["\\uD83D\\uDC73\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F"]],"1f3fe":["1f473-1f3fe-200d-2640-fe0f",21,36,7,["\\uD83D\\uDC73\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F"]],"1f3ff":["1f473-1f3ff-200d-2640-fe0f",21,37,7,["\\uD83D\\uDC73\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F"]]},\n\t\t"1f473-200d-2642-fe0f":{"1f3fb":["1f473-1f3fb-200d-2642-fe0f",21,39,7,["\\uD83D\\uDC73\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F","\\uD83D\\uDC73\\uD83C\\uDFFB"]],"1f3fc":["1f473-1f3fc-200d-2642-fe0f",21,40,7,["\\uD83D\\uDC73\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F","\\uD83D\\uDC73\\uD83C\\uDFFC"]],"1f3fd":["1f473-1f3fd-200d-2642-fe0f",21,41,7,["\\uD83D\\uDC73\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F","\\uD83D\\uDC73\\uD83C\\uDFFD"]],"1f3fe":["1f473-1f3fe-200d-2642-fe0f",21,42,7,["\\uD83D\\uDC73\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F","\\uD83D\\uDC73\\uD83C\\uDFFE"]],"1f3ff":["1f473-1f3ff-200d-2642-fe0f",21,43,7,["\\uD83D\\uDC73\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F","\\uD83D\\uDC73\\uD83C\\uDFFF"]]},\n\t\t"1f474":{"1f3fb":["1f474-1f3fb",21,51,31,["\\uD83D\\uDC74\\uD83C\\uDFFB"]],"1f3fc":["1f474-1f3fc",22,0,31,["\\uD83D\\uDC74\\uD83C\\uDFFC"]],"1f3fd":["1f474-1f3fd",22,1,31,["\\uD83D\\uDC74\\uD83C\\uDFFD"]],"1f3fe":["1f474-1f3fe",22,2,31,["\\uD83D\\uDC74\\uD83C\\uDFFE"]],"1f3ff":["1f474-1f3ff",22,3,31,["\\uD83D\\uDC74\\uD83C\\uDFFF"]]},\n\t\t"1f475":{"1f3fb":["1f475-1f3fb",22,5,31,["\\uD83D\\uDC75\\uD83C\\uDFFB"]],"1f3fc":["1f475-1f3fc",22,6,31,["\\uD83D\\uDC75\\uD83C\\uDFFC"]],"1f3fd":["1f475-1f3fd",22,7,31,["\\uD83D\\uDC75\\uD83C\\uDFFD"]],"1f3fe":["1f475-1f3fe",22,8,31,["\\uD83D\\uDC75\\uD83C\\uDFFE"]],"1f3ff":["1f475-1f3ff",22,9,31,["\\uD83D\\uDC75\\uD83C\\uDFFF"]]},\n\t\t"1f476":{"1f3fb":["1f476-1f3fb",22,11,31,["\\uD83D\\uDC76\\uD83C\\uDFFB"]],"1f3fc":["1f476-1f3fc",22,12,31,["\\uD83D\\uDC76\\uD83C\\uDFFC"]],"1f3fd":["1f476-1f3fd",22,13,31,["\\uD83D\\uDC76\\uD83C\\uDFFD"]],"1f3fe":["1f476-1f3fe",22,14,31,["\\uD83D\\uDC76\\uD83C\\uDFFE"]],"1f3ff":["1f476-1f3ff",22,15,31,["\\uD83D\\uDC76\\uD83C\\uDFFF"]]},\n\t\t"1f477-200d-2640-fe0f":{"1f3fb":["1f477-1f3fb-200d-2640-fe0f",22,17,7,["\\uD83D\\uDC77\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F"]],"1f3fc":["1f477-1f3fc-200d-2640-fe0f",22,18,7,["\\uD83D\\uDC77\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F"]],"1f3fd":["1f477-1f3fd-200d-2640-fe0f",22,19,7,["\\uD83D\\uDC77\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F"]],"1f3fe":["1f477-1f3fe-200d-2640-fe0f",22,20,7,["\\uD83D\\uDC77\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F"]],"1f3ff":["1f477-1f3ff-200d-2640-fe0f",22,21,7,["\\uD83D\\uDC77\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F"]]},\n\t\t"1f477-200d-2642-fe0f":{"1f3fb":["1f477-1f3fb-200d-2642-fe0f",22,23,7,["\\uD83D\\uDC77\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F","\\uD83D\\uDC77\\uD83C\\uDFFB"]],"1f3fc":["1f477-1f3fc-200d-2642-fe0f",22,24,7,["\\uD83D\\uDC77\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F","\\uD83D\\uDC77\\uD83C\\uDFFC"]],"1f3fd":["1f477-1f3fd-200d-2642-fe0f",22,25,7,["\\uD83D\\uDC77\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F","\\uD83D\\uDC77\\uD83C\\uDFFD"]],"1f3fe":["1f477-1f3fe-200d-2642-fe0f",22,26,7,["\\uD83D\\uDC77\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F","\\uD83D\\uDC77\\uD83C\\uDFFE"]],"1f3ff":["1f477-1f3ff-200d-2642-fe0f",22,27,7,["\\uD83D\\uDC77\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F","\\uD83D\\uDC77\\uD83C\\uDFFF"]]},\n\t\t"1f478":{"1f3fb":["1f478-1f3fb",22,35,31,["\\uD83D\\uDC78\\uD83C\\uDFFB"]],"1f3fc":["1f478-1f3fc",22,36,31,["\\uD83D\\uDC78\\uD83C\\uDFFC"]],"1f3fd":["1f478-1f3fd",22,37,31,["\\uD83D\\uDC78\\uD83C\\uDFFD"]],"1f3fe":["1f478-1f3fe",22,38,31,["\\uD83D\\uDC78\\uD83C\\uDFFE"]],"1f3ff":["1f478-1f3ff",22,39,31,["\\uD83D\\uDC78\\uD83C\\uDFFF"]]},\n\t\t"1f47c":{"1f3fb":["1f47c-1f3fb",22,44,31,["\\uD83D\\uDC7C\\uD83C\\uDFFB"]],"1f3fc":["1f47c-1f3fc",22,45,31,["\\uD83D\\uDC7C\\uD83C\\uDFFC"]],"1f3fd":["1f47c-1f3fd",22,46,31,["\\uD83D\\uDC7C\\uD83C\\uDFFD"]],"1f3fe":["1f47c-1f3fe",22,47,31,["\\uD83D\\uDC7C\\uD83C\\uDFFE"]],"1f3ff":["1f47c-1f3ff",22,48,31,["\\uD83D\\uDC7C\\uD83C\\uDFFF"]]},\n\t\t"1f481-200d-2640-fe0f":{"1f3fb":["1f481-1f3fb-200d-2640-fe0f",23,2,7,["\\uD83D\\uDC81\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F","\\uD83D\\uDC81\\uD83C\\uDFFB"]],"1f3fc":["1f481-1f3fc-200d-2640-fe0f",23,3,7,["\\uD83D\\uDC81\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F","\\uD83D\\uDC81\\uD83C\\uDFFC"]],"1f3fd":["1f481-1f3fd-200d-2640-fe0f",23,4,7,["\\uD83D\\uDC81\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F","\\uD83D\\uDC81\\uD83C\\uDFFD"]],"1f3fe":["1f481-1f3fe-200d-2640-fe0f",23,5,7,["\\uD83D\\uDC81\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F","\\uD83D\\uDC81\\uD83C\\uDFFE"]],"1f3ff":["1f481-1f3ff-200d-2640-fe0f",23,6,7,["\\uD83D\\uDC81\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F","\\uD83D\\uDC81\\uD83C\\uDFFF"]]},\n\t\t"1f481-200d-2642-fe0f":{"1f3fb":["1f481-1f3fb-200d-2642-fe0f",23,8,7,["\\uD83D\\uDC81\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F"]],"1f3fc":["1f481-1f3fc-200d-2642-fe0f",23,9,7,["\\uD83D\\uDC81\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F"]],"1f3fd":["1f481-1f3fd-200d-2642-fe0f",23,10,7,["\\uD83D\\uDC81\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F"]],"1f3fe":["1f481-1f3fe-200d-2642-fe0f",23,11,7,["\\uD83D\\uDC81\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F"]],"1f3ff":["1f481-1f3ff-200d-2642-fe0f",23,12,7,["\\uD83D\\uDC81\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F"]]},\n\t\t"1f482-200d-2640-fe0f":{"1f3fb":["1f482-1f3fb-200d-2640-fe0f",23,20,7,["\\uD83D\\uDC82\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F"]],"1f3fc":["1f482-1f3fc-200d-2640-fe0f",23,21,7,["\\uD83D\\uDC82\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F"]],"1f3fd":["1f482-1f3fd-200d-2640-fe0f",23,22,7,["\\uD83D\\uDC82\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F"]],"1f3fe":["1f482-1f3fe-200d-2640-fe0f",23,23,7,["\\uD83D\\uDC82\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F"]],"1f3ff":["1f482-1f3ff-200d-2640-fe0f",23,24,7,["\\uD83D\\uDC82\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F"]]},\n\t\t"1f482-200d-2642-fe0f":{"1f3fb":["1f482-1f3fb-200d-2642-fe0f",23,26,7,["\\uD83D\\uDC82\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F","\\uD83D\\uDC82\\uD83C\\uDFFB"]],"1f3fc":["1f482-1f3fc-200d-2642-fe0f",23,27,7,["\\uD83D\\uDC82\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F","\\uD83D\\uDC82\\uD83C\\uDFFC"]],"1f3fd":["1f482-1f3fd-200d-2642-fe0f",23,28,7,["\\uD83D\\uDC82\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F","\\uD83D\\uDC82\\uD83C\\uDFFD"]],"1f3fe":["1f482-1f3fe-200d-2642-fe0f",23,29,7,["\\uD83D\\uDC82\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F","\\uD83D\\uDC82\\uD83C\\uDFFE"]],"1f3ff":["1f482-1f3ff-200d-2642-fe0f",23,30,7,["\\uD83D\\uDC82\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F","\\uD83D\\uDC82\\uD83C\\uDFFF"]]},\n\t\t"1f483":{"1f3fb":["1f483-1f3fb",23,38,31,["\\uD83D\\uDC83\\uD83C\\uDFFB"]],"1f3fc":["1f483-1f3fc",23,39,31,["\\uD83D\\uDC83\\uD83C\\uDFFC"]],"1f3fd":["1f483-1f3fd",23,40,31,["\\uD83D\\uDC83\\uD83C\\uDFFD"]],"1f3fe":["1f483-1f3fe",23,41,31,["\\uD83D\\uDC83\\uD83C\\uDFFE"]],"1f3ff":["1f483-1f3ff",23,42,31,["\\uD83D\\uDC83\\uD83C\\uDFFF"]]},\n\t\t"1f485":{"1f3fb":["1f485-1f3fb",23,45,31,["\\uD83D\\uDC85\\uD83C\\uDFFB"]],"1f3fc":["1f485-1f3fc",23,46,31,["\\uD83D\\uDC85\\uD83C\\uDFFC"]],"1f3fd":["1f485-1f3fd",23,47,31,["\\uD83D\\uDC85\\uD83C\\uDFFD"]],"1f3fe":["1f485-1f3fe",23,48,31,["\\uD83D\\uDC85\\uD83C\\uDFFE"]],"1f3ff":["1f485-1f3ff",23,49,31,["\\uD83D\\uDC85\\uD83C\\uDFFF"]]},\n\t\t"1f486-200d-2640-fe0f":{"1f3fb":["1f486-1f3fb-200d-2640-fe0f",23,51,7,["\\uD83D\\uDC86\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F","\\uD83D\\uDC86\\uD83C\\uDFFB"]],"1f3fc":["1f486-1f3fc-200d-2640-fe0f",24,0,7,["\\uD83D\\uDC86\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F","\\uD83D\\uDC86\\uD83C\\uDFFC"]],"1f3fd":["1f486-1f3fd-200d-2640-fe0f",24,1,7,["\\uD83D\\uDC86\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F","\\uD83D\\uDC86\\uD83C\\uDFFD"]],"1f3fe":["1f486-1f3fe-200d-2640-fe0f",24,2,7,["\\uD83D\\uDC86\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F","\\uD83D\\uDC86\\uD83C\\uDFFE"]],"1f3ff":["1f486-1f3ff-200d-2640-fe0f",24,3,7,["\\uD83D\\uDC86\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F","\\uD83D\\uDC86\\uD83C\\uDFFF"]]},\n\t\t"1f486-200d-2642-fe0f":{"1f3fb":["1f486-1f3fb-200d-2642-fe0f",24,5,7,["\\uD83D\\uDC86\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F"]],"1f3fc":["1f486-1f3fc-200d-2642-fe0f",24,6,7,["\\uD83D\\uDC86\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F"]],"1f3fd":["1f486-1f3fd-200d-2642-fe0f",24,7,7,["\\uD83D\\uDC86\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F"]],"1f3fe":["1f486-1f3fe-200d-2642-fe0f",24,8,7,["\\uD83D\\uDC86\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F"]],"1f3ff":["1f486-1f3ff-200d-2642-fe0f",24,9,7,["\\uD83D\\uDC86\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F"]]},\n\t\t"1f487-200d-2640-fe0f":{"1f3fb":["1f487-1f3fb-200d-2640-fe0f",24,17,7,["\\uD83D\\uDC87\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F","\\uD83D\\uDC87\\uD83C\\uDFFB"]],"1f3fc":["1f487-1f3fc-200d-2640-fe0f",24,18,7,["\\uD83D\\uDC87\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F","\\uD83D\\uDC87\\uD83C\\uDFFC"]],"1f3fd":["1f487-1f3fd-200d-2640-fe0f",24,19,7,["\\uD83D\\uDC87\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F","\\uD83D\\uDC87\\uD83C\\uDFFD"]],"1f3fe":["1f487-1f3fe-200d-2640-fe0f",24,20,7,["\\uD83D\\uDC87\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F","\\uD83D\\uDC87\\uD83C\\uDFFE"]],"1f3ff":["1f487-1f3ff-200d-2640-fe0f",24,21,7,["\\uD83D\\uDC87\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F","\\uD83D\\uDC87\\uD83C\\uDFFF"]]},\n\t\t"1f487-200d-2642-fe0f":{"1f3fb":["1f487-1f3fb-200d-2642-fe0f",24,23,7,["\\uD83D\\uDC87\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F"]],"1f3fc":["1f487-1f3fc-200d-2642-fe0f",24,24,7,["\\uD83D\\uDC87\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F"]],"1f3fd":["1f487-1f3fd-200d-2642-fe0f",24,25,7,["\\uD83D\\uDC87\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F"]],"1f3fe":["1f487-1f3fe-200d-2642-fe0f",24,26,7,["\\uD83D\\uDC87\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F"]],"1f3ff":["1f487-1f3ff-200d-2642-fe0f",24,27,7,["\\uD83D\\uDC87\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F"]]},\n\t\t"1f4aa":{"1f3fb":["1f4aa-1f3fb",25,17,31,["\\uD83D\\uDCAA\\uD83C\\uDFFB"]],"1f3fc":["1f4aa-1f3fc",25,18,31,["\\uD83D\\uDCAA\\uD83C\\uDFFC"]],"1f3fd":["1f4aa-1f3fd",25,19,31,["\\uD83D\\uDCAA\\uD83C\\uDFFD"]],"1f3fe":["1f4aa-1f3fe",25,20,31,["\\uD83D\\uDCAA\\uD83C\\uDFFE"]],"1f3ff":["1f4aa-1f3ff",25,21,31,["\\uD83D\\uDCAA\\uD83C\\uDFFF"]]},\n\t\t"1f574-fe0f":{"1f3fb":["1f574-1f3fb",28,46,15,["\\uD83D\\uDD74\\uD83C\\uDFFB"]],"1f3fc":["1f574-1f3fc",28,47,15,["\\uD83D\\uDD74\\uD83C\\uDFFC"]],"1f3fd":["1f574-1f3fd",28,48,15,["\\uD83D\\uDD74\\uD83C\\uDFFD"]],"1f3fe":["1f574-1f3fe",28,49,15,["\\uD83D\\uDD74\\uD83C\\uDFFE"]],"1f3ff":["1f574-1f3ff",28,50,15,["\\uD83D\\uDD74\\uD83C\\uDFFF"]]},\n\t\t"1f575-fe0f-200d-2640-fe0f":{"1f3fb":["1f575-1f3fb-200d-2640-fe0f",29,0,7,["\\uD83D\\uDD75\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F"]],"1f3fc":["1f575-1f3fc-200d-2640-fe0f",29,1,7,["\\uD83D\\uDD75\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F"]],"1f3fd":["1f575-1f3fd-200d-2640-fe0f",29,2,7,["\\uD83D\\uDD75\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F"]],"1f3fe":["1f575-1f3fe-200d-2640-fe0f",29,3,7,["\\uD83D\\uDD75\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F"]],"1f3ff":["1f575-1f3ff-200d-2640-fe0f",29,4,7,["\\uD83D\\uDD75\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F"]]},\n\t\t"1f575-fe0f-200d-2642-fe0f":{"1f3fb":["1f575-1f3fb-200d-2642-fe0f",29,6,7,["\\uD83D\\uDD75\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F","\\uD83D\\uDD75\\uD83C\\uDFFB"]],"1f3fc":["1f575-1f3fc-200d-2642-fe0f",29,7,7,["\\uD83D\\uDD75\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F","\\uD83D\\uDD75\\uD83C\\uDFFC"]],"1f3fd":["1f575-1f3fd-200d-2642-fe0f",29,8,7,["\\uD83D\\uDD75\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F","\\uD83D\\uDD75\\uD83C\\uDFFD"]],"1f3fe":["1f575-1f3fe-200d-2642-fe0f",29,9,7,["\\uD83D\\uDD75\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F","\\uD83D\\uDD75\\uD83C\\uDFFE"]],"1f3ff":["1f575-1f3ff-200d-2642-fe0f",29,10,7,["\\uD83D\\uDD75\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F","\\uD83D\\uDD75\\uD83C\\uDFFF"]]},\n\t\t"1f57a":{"1f3fb":["1f57a-1f3fb",29,22,15,["\\uD83D\\uDD7A\\uD83C\\uDFFB"]],"1f3fc":["1f57a-1f3fc",29,23,15,["\\uD83D\\uDD7A\\uD83C\\uDFFC"]],"1f3fd":["1f57a-1f3fd",29,24,15,["\\uD83D\\uDD7A\\uD83C\\uDFFD"]],"1f3fe":["1f57a-1f3fe",29,25,15,["\\uD83D\\uDD7A\\uD83C\\uDFFE"]],"1f3ff":["1f57a-1f3ff",29,26,15,["\\uD83D\\uDD7A\\uD83C\\uDFFF"]]},\n\t\t"1f590-fe0f":{"1f3fb":["1f590-1f3fb",29,33,15,["\\uD83D\\uDD90\\uD83C\\uDFFB"]],"1f3fc":["1f590-1f3fc",29,34,15,["\\uD83D\\uDD90\\uD83C\\uDFFC"]],"1f3fd":["1f590-1f3fd",29,35,15,["\\uD83D\\uDD90\\uD83C\\uDFFD"]],"1f3fe":["1f590-1f3fe",29,36,15,["\\uD83D\\uDD90\\uD83C\\uDFFE"]],"1f3ff":["1f590-1f3ff",29,37,15,["\\uD83D\\uDD90\\uD83C\\uDFFF"]]},\n\t\t"1f595":{"1f3fb":["1f595-1f3fb",29,39,15,["\\uD83D\\uDD95\\uD83C\\uDFFB"]],"1f3fc":["1f595-1f3fc",29,40,15,["\\uD83D\\uDD95\\uD83C\\uDFFC"]],"1f3fd":["1f595-1f3fd",29,41,15,["\\uD83D\\uDD95\\uD83C\\uDFFD"]],"1f3fe":["1f595-1f3fe",29,42,15,["\\uD83D\\uDD95\\uD83C\\uDFFE"]],"1f3ff":["1f595-1f3ff",29,43,15,["\\uD83D\\uDD95\\uD83C\\uDFFF"]]},\n\t\t"1f596":{"1f3fb":["1f596-1f3fb",29,45,15,["\\uD83D\\uDD96\\uD83C\\uDFFB"]],"1f3fc":["1f596-1f3fc",29,46,15,["\\uD83D\\uDD96\\uD83C\\uDFFC"]],"1f3fd":["1f596-1f3fd",29,47,15,["\\uD83D\\uDD96\\uD83C\\uDFFD"]],"1f3fe":["1f596-1f3fe",29,48,15,["\\uD83D\\uDD96\\uD83C\\uDFFE"]],"1f3ff":["1f596-1f3ff",29,49,15,["\\uD83D\\uDD96\\uD83C\\uDFFF"]]},\n\t\t"1f645-200d-2640-fe0f":{"1f3fb":["1f645-1f3fb-200d-2640-fe0f",31,42,7,["\\uD83D\\uDE45\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F","\\uD83D\\uDE45\\uD83C\\uDFFB"]],"1f3fc":["1f645-1f3fc-200d-2640-fe0f",31,43,7,["\\uD83D\\uDE45\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F","\\uD83D\\uDE45\\uD83C\\uDFFC"]],"1f3fd":["1f645-1f3fd-200d-2640-fe0f",31,44,7,["\\uD83D\\uDE45\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F","\\uD83D\\uDE45\\uD83C\\uDFFD"]],"1f3fe":["1f645-1f3fe-200d-2640-fe0f",31,45,7,["\\uD83D\\uDE45\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F","\\uD83D\\uDE45\\uD83C\\uDFFE"]],"1f3ff":["1f645-1f3ff-200d-2640-fe0f",31,46,7,["\\uD83D\\uDE45\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F","\\uD83D\\uDE45\\uD83C\\uDFFF"]]},\n\t\t"1f645-200d-2642-fe0f":{"1f3fb":["1f645-1f3fb-200d-2642-fe0f",31,48,7,["\\uD83D\\uDE45\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F"]],"1f3fc":["1f645-1f3fc-200d-2642-fe0f",31,49,7,["\\uD83D\\uDE45\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F"]],"1f3fd":["1f645-1f3fd-200d-2642-fe0f",31,50,7,["\\uD83D\\uDE45\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F"]],"1f3fe":["1f645-1f3fe-200d-2642-fe0f",31,51,7,["\\uD83D\\uDE45\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F"]],"1f3ff":["1f645-1f3ff-200d-2642-fe0f",32,0,7,["\\uD83D\\uDE45\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F"]]},\n\t\t"1f646-200d-2640-fe0f":{"1f3fb":["1f646-1f3fb-200d-2640-fe0f",32,8,7,["\\uD83D\\uDE46\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F","\\uD83D\\uDE46\\uD83C\\uDFFB"]],"1f3fc":["1f646-1f3fc-200d-2640-fe0f",32,9,7,["\\uD83D\\uDE46\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F","\\uD83D\\uDE46\\uD83C\\uDFFC"]],"1f3fd":["1f646-1f3fd-200d-2640-fe0f",32,10,7,["\\uD83D\\uDE46\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F","\\uD83D\\uDE46\\uD83C\\uDFFD"]],"1f3fe":["1f646-1f3fe-200d-2640-fe0f",32,11,7,["\\uD83D\\uDE46\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F","\\uD83D\\uDE46\\uD83C\\uDFFE"]],"1f3ff":["1f646-1f3ff-200d-2640-fe0f",32,12,7,["\\uD83D\\uDE46\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F","\\uD83D\\uDE46\\uD83C\\uDFFF"]]},\n\t\t"1f646-200d-2642-fe0f":{"1f3fb":["1f646-1f3fb-200d-2642-fe0f",32,14,7,["\\uD83D\\uDE46\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F"]],"1f3fc":["1f646-1f3fc-200d-2642-fe0f",32,15,7,["\\uD83D\\uDE46\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F"]],"1f3fd":["1f646-1f3fd-200d-2642-fe0f",32,16,7,["\\uD83D\\uDE46\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F"]],"1f3fe":["1f646-1f3fe-200d-2642-fe0f",32,17,7,["\\uD83D\\uDE46\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F"]],"1f3ff":["1f646-1f3ff-200d-2642-fe0f",32,18,7,["\\uD83D\\uDE46\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F"]]},\n\t\t"1f647-200d-2640-fe0f":{"1f3fb":["1f647-1f3fb-200d-2640-fe0f",32,26,7,["\\uD83D\\uDE47\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F"]],"1f3fc":["1f647-1f3fc-200d-2640-fe0f",32,27,7,["\\uD83D\\uDE47\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F"]],"1f3fd":["1f647-1f3fd-200d-2640-fe0f",32,28,7,["\\uD83D\\uDE47\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F"]],"1f3fe":["1f647-1f3fe-200d-2640-fe0f",32,29,7,["\\uD83D\\uDE47\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F"]],"1f3ff":["1f647-1f3ff-200d-2640-fe0f",32,30,7,["\\uD83D\\uDE47\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F"]]},\n\t\t"1f647-200d-2642-fe0f":{"1f3fb":["1f647-1f3fb-200d-2642-fe0f",32,32,7,["\\uD83D\\uDE47\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F","\\uD83D\\uDE47\\uD83C\\uDFFB"]],"1f3fc":["1f647-1f3fc-200d-2642-fe0f",32,33,7,["\\uD83D\\uDE47\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F","\\uD83D\\uDE47\\uD83C\\uDFFC"]],"1f3fd":["1f647-1f3fd-200d-2642-fe0f",32,34,7,["\\uD83D\\uDE47\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F","\\uD83D\\uDE47\\uD83C\\uDFFD"]],"1f3fe":["1f647-1f3fe-200d-2642-fe0f",32,35,7,["\\uD83D\\uDE47\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F","\\uD83D\\uDE47\\uD83C\\uDFFE"]],"1f3ff":["1f647-1f3ff-200d-2642-fe0f",32,36,7,["\\uD83D\\uDE47\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F","\\uD83D\\uDE47\\uD83C\\uDFFF"]]},\n\t\t"1f64b-200d-2640-fe0f":{"1f3fb":["1f64b-1f3fb-200d-2640-fe0f",32,47,7,["\\uD83D\\uDE4B\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F","\\uD83D\\uDE4B\\uD83C\\uDFFB"]],"1f3fc":["1f64b-1f3fc-200d-2640-fe0f",32,48,7,["\\uD83D\\uDE4B\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F","\\uD83D\\uDE4B\\uD83C\\uDFFC"]],"1f3fd":["1f64b-1f3fd-200d-2640-fe0f",32,49,7,["\\uD83D\\uDE4B\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F","\\uD83D\\uDE4B\\uD83C\\uDFFD"]],"1f3fe":["1f64b-1f3fe-200d-2640-fe0f",32,50,7,["\\uD83D\\uDE4B\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F","\\uD83D\\uDE4B\\uD83C\\uDFFE"]],"1f3ff":["1f64b-1f3ff-200d-2640-fe0f",32,51,7,["\\uD83D\\uDE4B\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F","\\uD83D\\uDE4B\\uD83C\\uDFFF"]]},\n\t\t"1f64b-200d-2642-fe0f":{"1f3fb":["1f64b-1f3fb-200d-2642-fe0f",33,1,7,["\\uD83D\\uDE4B\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F"]],"1f3fc":["1f64b-1f3fc-200d-2642-fe0f",33,2,7,["\\uD83D\\uDE4B\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F"]],"1f3fd":["1f64b-1f3fd-200d-2642-fe0f",33,3,7,["\\uD83D\\uDE4B\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F"]],"1f3fe":["1f64b-1f3fe-200d-2642-fe0f",33,4,7,["\\uD83D\\uDE4B\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F"]],"1f3ff":["1f64b-1f3ff-200d-2642-fe0f",33,5,7,["\\uD83D\\uDE4B\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F"]]},\n\t\t"1f64c":{"1f3fb":["1f64c-1f3fb",33,13,31,["\\uD83D\\uDE4C\\uD83C\\uDFFB"]],"1f3fc":["1f64c-1f3fc",33,14,31,["\\uD83D\\uDE4C\\uD83C\\uDFFC"]],"1f3fd":["1f64c-1f3fd",33,15,31,["\\uD83D\\uDE4C\\uD83C\\uDFFD"]],"1f3fe":["1f64c-1f3fe",33,16,31,["\\uD83D\\uDE4C\\uD83C\\uDFFE"]],"1f3ff":["1f64c-1f3ff",33,17,31,["\\uD83D\\uDE4C\\uD83C\\uDFFF"]]},\n\t\t"1f64d-200d-2640-fe0f":{"1f3fb":["1f64d-1f3fb-200d-2640-fe0f",33,19,7,["\\uD83D\\uDE4D\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F","\\uD83D\\uDE4D\\uD83C\\uDFFB"]],"1f3fc":["1f64d-1f3fc-200d-2640-fe0f",33,20,7,["\\uD83D\\uDE4D\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F","\\uD83D\\uDE4D\\uD83C\\uDFFC"]],"1f3fd":["1f64d-1f3fd-200d-2640-fe0f",33,21,7,["\\uD83D\\uDE4D\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F","\\uD83D\\uDE4D\\uD83C\\uDFFD"]],"1f3fe":["1f64d-1f3fe-200d-2640-fe0f",33,22,7,["\\uD83D\\uDE4D\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F","\\uD83D\\uDE4D\\uD83C\\uDFFE"]],"1f3ff":["1f64d-1f3ff-200d-2640-fe0f",33,23,7,["\\uD83D\\uDE4D\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F","\\uD83D\\uDE4D\\uD83C\\uDFFF"]]},\n\t\t"1f64d-200d-2642-fe0f":{"1f3fb":["1f64d-1f3fb-200d-2642-fe0f",33,25,7,["\\uD83D\\uDE4D\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F"]],"1f3fc":["1f64d-1f3fc-200d-2642-fe0f",33,26,7,["\\uD83D\\uDE4D\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F"]],"1f3fd":["1f64d-1f3fd-200d-2642-fe0f",33,27,7,["\\uD83D\\uDE4D\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F"]],"1f3fe":["1f64d-1f3fe-200d-2642-fe0f",33,28,7,["\\uD83D\\uDE4D\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F"]],"1f3ff":["1f64d-1f3ff-200d-2642-fe0f",33,29,7,["\\uD83D\\uDE4D\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F"]]},\n\t\t"1f64e-200d-2640-fe0f":{"1f3fb":["1f64e-1f3fb-200d-2640-fe0f",33,37,7,["\\uD83D\\uDE4E\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F","\\uD83D\\uDE4E\\uD83C\\uDFFB"]],"1f3fc":["1f64e-1f3fc-200d-2640-fe0f",33,38,7,["\\uD83D\\uDE4E\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F","\\uD83D\\uDE4E\\uD83C\\uDFFC"]],"1f3fd":["1f64e-1f3fd-200d-2640-fe0f",33,39,7,["\\uD83D\\uDE4E\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F","\\uD83D\\uDE4E\\uD83C\\uDFFD"]],"1f3fe":["1f64e-1f3fe-200d-2640-fe0f",33,40,7,["\\uD83D\\uDE4E\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F","\\uD83D\\uDE4E\\uD83C\\uDFFE"]],"1f3ff":["1f64e-1f3ff-200d-2640-fe0f",33,41,7,["\\uD83D\\uDE4E\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F","\\uD83D\\uDE4E\\uD83C\\uDFFF"]]},\n\t\t"1f64e-200d-2642-fe0f":{"1f3fb":["1f64e-1f3fb-200d-2642-fe0f",33,43,7,["\\uD83D\\uDE4E\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F"]],"1f3fc":["1f64e-1f3fc-200d-2642-fe0f",33,44,7,["\\uD83D\\uDE4E\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F"]],"1f3fd":["1f64e-1f3fd-200d-2642-fe0f",33,45,7,["\\uD83D\\uDE4E\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F"]],"1f3fe":["1f64e-1f3fe-200d-2642-fe0f",33,46,7,["\\uD83D\\uDE4E\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F"]],"1f3ff":["1f64e-1f3ff-200d-2642-fe0f",33,47,7,["\\uD83D\\uDE4E\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F"]]},\n\t\t"1f64f":{"1f3fb":["1f64f-1f3fb",34,3,31,["\\uD83D\\uDE4F\\uD83C\\uDFFB"]],"1f3fc":["1f64f-1f3fc",34,4,31,["\\uD83D\\uDE4F\\uD83C\\uDFFC"]],"1f3fd":["1f64f-1f3fd",34,5,31,["\\uD83D\\uDE4F\\uD83C\\uDFFD"]],"1f3fe":["1f64f-1f3fe",34,6,31,["\\uD83D\\uDE4F\\uD83C\\uDFFE"]],"1f3ff":["1f64f-1f3ff",34,7,31,["\\uD83D\\uDE4F\\uD83C\\uDFFF"]]},\n\t\t"1f6a3-200d-2640-fe0f":{"1f3fb":["1f6a3-1f3fb-200d-2640-fe0f",34,44,7,["\\uD83D\\uDEA3\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F"]],"1f3fc":["1f6a3-1f3fc-200d-2640-fe0f",34,45,7,["\\uD83D\\uDEA3\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F"]],"1f3fd":["1f6a3-1f3fd-200d-2640-fe0f",34,46,7,["\\uD83D\\uDEA3\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F"]],"1f3fe":["1f6a3-1f3fe-200d-2640-fe0f",34,47,7,["\\uD83D\\uDEA3\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F"]],"1f3ff":["1f6a3-1f3ff-200d-2640-fe0f",34,48,7,["\\uD83D\\uDEA3\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F"]]},\n\t\t"1f6a3-200d-2642-fe0f":{"1f3fb":["1f6a3-1f3fb-200d-2642-fe0f",34,50,7,["\\uD83D\\uDEA3\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F","\\uD83D\\uDEA3\\uD83C\\uDFFB"]],"1f3fc":["1f6a3-1f3fc-200d-2642-fe0f",34,51,7,["\\uD83D\\uDEA3\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F","\\uD83D\\uDEA3\\uD83C\\uDFFC"]],"1f3fd":["1f6a3-1f3fd-200d-2642-fe0f",35,0,7,["\\uD83D\\uDEA3\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F","\\uD83D\\uDEA3\\uD83C\\uDFFD"]],"1f3fe":["1f6a3-1f3fe-200d-2642-fe0f",35,1,7,["\\uD83D\\uDEA3\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F","\\uD83D\\uDEA3\\uD83C\\uDFFE"]],"1f3ff":["1f6a3-1f3ff-200d-2642-fe0f",35,2,7,["\\uD83D\\uDEA3\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F","\\uD83D\\uDEA3\\uD83C\\uDFFF"]]},\n\t\t"1f6b4-200d-2640-fe0f":{"1f3fb":["1f6b4-1f3fb-200d-2640-fe0f",35,26,7,["\\uD83D\\uDEB4\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F"]],"1f3fc":["1f6b4-1f3fc-200d-2640-fe0f",35,27,7,["\\uD83D\\uDEB4\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F"]],"1f3fd":["1f6b4-1f3fd-200d-2640-fe0f",35,28,7,["\\uD83D\\uDEB4\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F"]],"1f3fe":["1f6b4-1f3fe-200d-2640-fe0f",35,29,7,["\\uD83D\\uDEB4\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F"]],"1f3ff":["1f6b4-1f3ff-200d-2640-fe0f",35,30,7,["\\uD83D\\uDEB4\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F"]]},\n\t\t"1f6b4-200d-2642-fe0f":{"1f3fb":["1f6b4-1f3fb-200d-2642-fe0f",35,32,7,["\\uD83D\\uDEB4\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F","\\uD83D\\uDEB4\\uD83C\\uDFFB"]],"1f3fc":["1f6b4-1f3fc-200d-2642-fe0f",35,33,7,["\\uD83D\\uDEB4\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F","\\uD83D\\uDEB4\\uD83C\\uDFFC"]],"1f3fd":["1f6b4-1f3fd-200d-2642-fe0f",35,34,7,["\\uD83D\\uDEB4\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F","\\uD83D\\uDEB4\\uD83C\\uDFFD"]],"1f3fe":["1f6b4-1f3fe-200d-2642-fe0f",35,35,7,["\\uD83D\\uDEB4\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F","\\uD83D\\uDEB4\\uD83C\\uDFFE"]],"1f3ff":["1f6b4-1f3ff-200d-2642-fe0f",35,36,7,["\\uD83D\\uDEB4\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F","\\uD83D\\uDEB4\\uD83C\\uDFFF"]]},\n\t\t"1f6b5-200d-2640-fe0f":{"1f3fb":["1f6b5-1f3fb-200d-2640-fe0f",35,44,7,["\\uD83D\\uDEB5\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F"]],"1f3fc":["1f6b5-1f3fc-200d-2640-fe0f",35,45,7,["\\uD83D\\uDEB5\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F"]],"1f3fd":["1f6b5-1f3fd-200d-2640-fe0f",35,46,7,["\\uD83D\\uDEB5\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F"]],"1f3fe":["1f6b5-1f3fe-200d-2640-fe0f",35,47,7,["\\uD83D\\uDEB5\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F"]],"1f3ff":["1f6b5-1f3ff-200d-2640-fe0f",35,48,7,["\\uD83D\\uDEB5\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F"]]},\n\t\t"1f6b5-200d-2642-fe0f":{"1f3fb":["1f6b5-1f3fb-200d-2642-fe0f",35,50,7,["\\uD83D\\uDEB5\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F","\\uD83D\\uDEB5\\uD83C\\uDFFB"]],"1f3fc":["1f6b5-1f3fc-200d-2642-fe0f",35,51,7,["\\uD83D\\uDEB5\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F","\\uD83D\\uDEB5\\uD83C\\uDFFC"]],"1f3fd":["1f6b5-1f3fd-200d-2642-fe0f",36,0,7,["\\uD83D\\uDEB5\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F","\\uD83D\\uDEB5\\uD83C\\uDFFD"]],"1f3fe":["1f6b5-1f3fe-200d-2642-fe0f",36,1,7,["\\uD83D\\uDEB5\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F","\\uD83D\\uDEB5\\uD83C\\uDFFE"]],"1f3ff":["1f6b5-1f3ff-200d-2642-fe0f",36,2,7,["\\uD83D\\uDEB5\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F","\\uD83D\\uDEB5\\uD83C\\uDFFF"]]},\n\t\t"1f6b6-200d-2640-fe0f":{"1f3fb":["1f6b6-1f3fb-200d-2640-fe0f",36,10,7,["\\uD83D\\uDEB6\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F"]],"1f3fc":["1f6b6-1f3fc-200d-2640-fe0f",36,11,7,["\\uD83D\\uDEB6\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F"]],"1f3fd":["1f6b6-1f3fd-200d-2640-fe0f",36,12,7,["\\uD83D\\uDEB6\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F"]],"1f3fe":["1f6b6-1f3fe-200d-2640-fe0f",36,13,7,["\\uD83D\\uDEB6\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F"]],"1f3ff":["1f6b6-1f3ff-200d-2640-fe0f",36,14,7,["\\uD83D\\uDEB6\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F"]]},\n\t\t"1f6b6-200d-2642-fe0f":{"1f3fb":["1f6b6-1f3fb-200d-2642-fe0f",36,16,7,["\\uD83D\\uDEB6\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F","\\uD83D\\uDEB6\\uD83C\\uDFFB"]],"1f3fc":["1f6b6-1f3fc-200d-2642-fe0f",36,17,7,["\\uD83D\\uDEB6\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F","\\uD83D\\uDEB6\\uD83C\\uDFFC"]],"1f3fd":["1f6b6-1f3fd-200d-2642-fe0f",36,18,7,["\\uD83D\\uDEB6\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F","\\uD83D\\uDEB6\\uD83C\\uDFFD"]],"1f3fe":["1f6b6-1f3fe-200d-2642-fe0f",36,19,7,["\\uD83D\\uDEB6\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F","\\uD83D\\uDEB6\\uD83C\\uDFFE"]],"1f3ff":["1f6b6-1f3ff-200d-2642-fe0f",36,20,7,["\\uD83D\\uDEB6\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F","\\uD83D\\uDEB6\\uD83C\\uDFFF"]]},\n\t\t"1f6c0":{"1f3fb":["1f6c0-1f3fb",36,37,31,["\\uD83D\\uDEC0\\uD83C\\uDFFB"]],"1f3fc":["1f6c0-1f3fc",36,38,31,["\\uD83D\\uDEC0\\uD83C\\uDFFC"]],"1f3fd":["1f6c0-1f3fd",36,39,31,["\\uD83D\\uDEC0\\uD83C\\uDFFD"]],"1f3fe":["1f6c0-1f3fe",36,40,31,["\\uD83D\\uDEC0\\uD83C\\uDFFE"]],"1f3ff":["1f6c0-1f3ff",36,41,31,["\\uD83D\\uDEC0\\uD83C\\uDFFF"]]},\n\t\t"1f6cc":{"1f3fb":["1f6cc-1f3fb",36,49,15,["\\uD83D\\uDECC\\uD83C\\uDFFB"]],"1f3fc":["1f6cc-1f3fc",36,50,15,["\\uD83D\\uDECC\\uD83C\\uDFFC"]],"1f3fd":["1f6cc-1f3fd",36,51,15,["\\uD83D\\uDECC\\uD83C\\uDFFD"]],"1f3fe":["1f6cc-1f3fe",37,0,15,["\\uD83D\\uDECC\\uD83C\\uDFFE"]],"1f3ff":["1f6cc-1f3ff",37,1,15,["\\uD83D\\uDECC\\uD83C\\uDFFF"]]},\n\t\t"1f918":{"1f3fb":["1f918-1f3fb",37,33,15,["\\uD83E\\uDD18\\uD83C\\uDFFB"]],"1f3fc":["1f918-1f3fc",37,34,15,["\\uD83E\\uDD18\\uD83C\\uDFFC"]],"1f3fd":["1f918-1f3fd",37,35,15,["\\uD83E\\uDD18\\uD83C\\uDFFD"]],"1f3fe":["1f918-1f3fe",37,36,15,["\\uD83E\\uDD18\\uD83C\\uDFFE"]],"1f3ff":["1f918-1f3ff",37,37,15,["\\uD83E\\uDD18\\uD83C\\uDFFF"]]},\n\t\t"1f919":{"1f3fb":["1f919-1f3fb",37,39,15,["\\uD83E\\uDD19\\uD83C\\uDFFB"]],"1f3fc":["1f919-1f3fc",37,40,15,["\\uD83E\\uDD19\\uD83C\\uDFFC"]],"1f3fd":["1f919-1f3fd",37,41,15,["\\uD83E\\uDD19\\uD83C\\uDFFD"]],"1f3fe":["1f919-1f3fe",37,42,15,["\\uD83E\\uDD19\\uD83C\\uDFFE"]],"1f3ff":["1f919-1f3ff",37,43,15,["\\uD83E\\uDD19\\uD83C\\uDFFF"]]},\n\t\t"1f91a":{"1f3fb":["1f91a-1f3fb",37,45,15,["\\uD83E\\uDD1A\\uD83C\\uDFFB"]],"1f3fc":["1f91a-1f3fc",37,46,15,["\\uD83E\\uDD1A\\uD83C\\uDFFC"]],"1f3fd":["1f91a-1f3fd",37,47,15,["\\uD83E\\uDD1A\\uD83C\\uDFFD"]],"1f3fe":["1f91a-1f3fe",37,48,15,["\\uD83E\\uDD1A\\uD83C\\uDFFE"]],"1f3ff":["1f91a-1f3ff",37,49,15,["\\uD83E\\uDD1A\\uD83C\\uDFFF"]]},\n\t\t"1f91b":{"1f3fb":["1f91b-1f3fb",37,51,15,["\\uD83E\\uDD1B\\uD83C\\uDFFB"]],"1f3fc":["1f91b-1f3fc",38,0,15,["\\uD83E\\uDD1B\\uD83C\\uDFFC"]],"1f3fd":["1f91b-1f3fd",38,1,15,["\\uD83E\\uDD1B\\uD83C\\uDFFD"]],"1f3fe":["1f91b-1f3fe",38,2,15,["\\uD83E\\uDD1B\\uD83C\\uDFFE"]],"1f3ff":["1f91b-1f3ff",38,3,15,["\\uD83E\\uDD1B\\uD83C\\uDFFF"]]},\n\t\t"1f91c":{"1f3fb":["1f91c-1f3fb",38,5,15,["\\uD83E\\uDD1C\\uD83C\\uDFFB"]],"1f3fc":["1f91c-1f3fc",38,6,15,["\\uD83E\\uDD1C\\uD83C\\uDFFC"]],"1f3fd":["1f91c-1f3fd",38,7,15,["\\uD83E\\uDD1C\\uD83C\\uDFFD"]],"1f3fe":["1f91c-1f3fe",38,8,15,["\\uD83E\\uDD1C\\uD83C\\uDFFE"]],"1f3ff":["1f91c-1f3ff",38,9,15,["\\uD83E\\uDD1C\\uD83C\\uDFFF"]]},\n\t\t"1f91e":{"1f3fb":["1f91e-1f3fb",38,12,15,["\\uD83E\\uDD1E\\uD83C\\uDFFB"]],"1f3fc":["1f91e-1f3fc",38,13,15,["\\uD83E\\uDD1E\\uD83C\\uDFFC"]],"1f3fd":["1f91e-1f3fd",38,14,15,["\\uD83E\\uDD1E\\uD83C\\uDFFD"]],"1f3fe":["1f91e-1f3fe",38,15,15,["\\uD83E\\uDD1E\\uD83C\\uDFFE"]],"1f3ff":["1f91e-1f3ff",38,16,15,["\\uD83E\\uDD1E\\uD83C\\uDFFF"]]},\n\t\t"1f91f":{"1f3fb":["1f91f-1f3fb",38,18,15,["\\uD83E\\uDD1F\\uD83C\\uDFFB"]],"1f3fc":["1f91f-1f3fc",38,19,15,["\\uD83E\\uDD1F\\uD83C\\uDFFC"]],"1f3fd":["1f91f-1f3fd",38,20,15,["\\uD83E\\uDD1F\\uD83C\\uDFFD"]],"1f3fe":["1f91f-1f3fe",38,21,15,["\\uD83E\\uDD1F\\uD83C\\uDFFE"]],"1f3ff":["1f91f-1f3ff",38,22,15,["\\uD83E\\uDD1F\\uD83C\\uDFFF"]]},\n\t\t"1f926-200d-2640-fe0f":{"1f3fb":["1f926-1f3fb-200d-2640-fe0f",38,30,7,["\\uD83E\\uDD26\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F"]],"1f3fc":["1f926-1f3fc-200d-2640-fe0f",38,31,7,["\\uD83E\\uDD26\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F"]],"1f3fd":["1f926-1f3fd-200d-2640-fe0f",38,32,7,["\\uD83E\\uDD26\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F"]],"1f3fe":["1f926-1f3fe-200d-2640-fe0f",38,33,7,["\\uD83E\\uDD26\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F"]],"1f3ff":["1f926-1f3ff-200d-2640-fe0f",38,34,7,["\\uD83E\\uDD26\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F"]]},\n\t\t"1f926-200d-2642-fe0f":{"1f3fb":["1f926-1f3fb-200d-2642-fe0f",38,36,7,["\\uD83E\\uDD26\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F"]],"1f3fc":["1f926-1f3fc-200d-2642-fe0f",38,37,7,["\\uD83E\\uDD26\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F"]],"1f3fd":["1f926-1f3fd-200d-2642-fe0f",38,38,7,["\\uD83E\\uDD26\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F"]],"1f3fe":["1f926-1f3fe-200d-2642-fe0f",38,39,7,["\\uD83E\\uDD26\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F"]],"1f3ff":["1f926-1f3ff-200d-2642-fe0f",38,40,7,["\\uD83E\\uDD26\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F"]]},\n\t\t"1f926":{"1f3fb":["1f926-1f3fb",38,42,7,["\\uD83E\\uDD26\\uD83C\\uDFFB"]],"1f3fc":["1f926-1f3fc",38,43,7,["\\uD83E\\uDD26\\uD83C\\uDFFC"]],"1f3fd":["1f926-1f3fd",38,44,7,["\\uD83E\\uDD26\\uD83C\\uDFFD"]],"1f3fe":["1f926-1f3fe",38,45,7,["\\uD83E\\uDD26\\uD83C\\uDFFE"]],"1f3ff":["1f926-1f3ff",38,46,7,["\\uD83E\\uDD26\\uD83C\\uDFFF"]]},\n\t\t"1f930":{"1f3fb":["1f930-1f3fb",39,5,15,["\\uD83E\\uDD30\\uD83C\\uDFFB"]],"1f3fc":["1f930-1f3fc",39,6,15,["\\uD83E\\uDD30\\uD83C\\uDFFC"]],"1f3fd":["1f930-1f3fd",39,7,15,["\\uD83E\\uDD30\\uD83C\\uDFFD"]],"1f3fe":["1f930-1f3fe",39,8,15,["\\uD83E\\uDD30\\uD83C\\uDFFE"]],"1f3ff":["1f930-1f3ff",39,9,15,["\\uD83E\\uDD30\\uD83C\\uDFFF"]]},\n\t\t"1f931":{"1f3fb":["1f931-1f3fb",39,11,15,["\\uD83E\\uDD31\\uD83C\\uDFFB"]],"1f3fc":["1f931-1f3fc",39,12,15,["\\uD83E\\uDD31\\uD83C\\uDFFC"]],"1f3fd":["1f931-1f3fd",39,13,15,["\\uD83E\\uDD31\\uD83C\\uDFFD"]],"1f3fe":["1f931-1f3fe",39,14,15,["\\uD83E\\uDD31\\uD83C\\uDFFE"]],"1f3ff":["1f931-1f3ff",39,15,15,["\\uD83E\\uDD31\\uD83C\\uDFFF"]]},\n\t\t"1f932":{"1f3fb":["1f932-1f3fb",39,17,15,["\\uD83E\\uDD32\\uD83C\\uDFFB"]],"1f3fc":["1f932-1f3fc",39,18,15,["\\uD83E\\uDD32\\uD83C\\uDFFC"]],"1f3fd":["1f932-1f3fd",39,19,15,["\\uD83E\\uDD32\\uD83C\\uDFFD"]],"1f3fe":["1f932-1f3fe",39,20,15,["\\uD83E\\uDD32\\uD83C\\uDFFE"]],"1f3ff":["1f932-1f3ff",39,21,15,["\\uD83E\\uDD32\\uD83C\\uDFFF"]]},\n\t\t"1f933":{"1f3fb":["1f933-1f3fb",39,23,15,["\\uD83E\\uDD33\\uD83C\\uDFFB"]],"1f3fc":["1f933-1f3fc",39,24,15,["\\uD83E\\uDD33\\uD83C\\uDFFC"]],"1f3fd":["1f933-1f3fd",39,25,15,["\\uD83E\\uDD33\\uD83C\\uDFFD"]],"1f3fe":["1f933-1f3fe",39,26,15,["\\uD83E\\uDD33\\uD83C\\uDFFE"]],"1f3ff":["1f933-1f3ff",39,27,15,["\\uD83E\\uDD33\\uD83C\\uDFFF"]]},\n\t\t"1f934":{"1f3fb":["1f934-1f3fb",39,29,15,["\\uD83E\\uDD34\\uD83C\\uDFFB"]],"1f3fc":["1f934-1f3fc",39,30,15,["\\uD83E\\uDD34\\uD83C\\uDFFC"]],"1f3fd":["1f934-1f3fd",39,31,15,["\\uD83E\\uDD34\\uD83C\\uDFFD"]],"1f3fe":["1f934-1f3fe",39,32,15,["\\uD83E\\uDD34\\uD83C\\uDFFE"]],"1f3ff":["1f934-1f3ff",39,33,15,["\\uD83E\\uDD34\\uD83C\\uDFFF"]]},\n\t\t"1f935":{"1f3fb":["1f935-1f3fb",39,35,15,["\\uD83E\\uDD35\\uD83C\\uDFFB"]],"1f3fc":["1f935-1f3fc",39,36,15,["\\uD83E\\uDD35\\uD83C\\uDFFC"]],"1f3fd":["1f935-1f3fd",39,37,15,["\\uD83E\\uDD35\\uD83C\\uDFFD"]],"1f3fe":["1f935-1f3fe",39,38,15,["\\uD83E\\uDD35\\uD83C\\uDFFE"]],"1f3ff":["1f935-1f3ff",39,39,15,["\\uD83E\\uDD35\\uD83C\\uDFFF"]]},\n\t\t"1f936":{"1f3fb":["1f936-1f3fb",39,41,15,["\\uD83E\\uDD36\\uD83C\\uDFFB"]],"1f3fc":["1f936-1f3fc",39,42,15,["\\uD83E\\uDD36\\uD83C\\uDFFC"]],"1f3fd":["1f936-1f3fd",39,43,15,["\\uD83E\\uDD36\\uD83C\\uDFFD"]],"1f3fe":["1f936-1f3fe",39,44,15,["\\uD83E\\uDD36\\uD83C\\uDFFE"]],"1f3ff":["1f936-1f3ff",39,45,15,["\\uD83E\\uDD36\\uD83C\\uDFFF"]]},\n\t\t"1f937-200d-2640-fe0f":{"1f3fb":["1f937-1f3fb-200d-2640-fe0f",39,47,7,["\\uD83E\\uDD37\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F"]],"1f3fc":["1f937-1f3fc-200d-2640-fe0f",39,48,7,["\\uD83E\\uDD37\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F"]],"1f3fd":["1f937-1f3fd-200d-2640-fe0f",39,49,7,["\\uD83E\\uDD37\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F"]],"1f3fe":["1f937-1f3fe-200d-2640-fe0f",39,50,7,["\\uD83E\\uDD37\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F"]],"1f3ff":["1f937-1f3ff-200d-2640-fe0f",39,51,7,["\\uD83E\\uDD37\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F"]]},\n\t\t"1f937-200d-2642-fe0f":{"1f3fb":["1f937-1f3fb-200d-2642-fe0f",40,1,7,["\\uD83E\\uDD37\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F"]],"1f3fc":["1f937-1f3fc-200d-2642-fe0f",40,2,7,["\\uD83E\\uDD37\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F"]],"1f3fd":["1f937-1f3fd-200d-2642-fe0f",40,3,7,["\\uD83E\\uDD37\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F"]],"1f3fe":["1f937-1f3fe-200d-2642-fe0f",40,4,7,["\\uD83E\\uDD37\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F"]],"1f3ff":["1f937-1f3ff-200d-2642-fe0f",40,5,7,["\\uD83E\\uDD37\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F"]]},\n\t\t"1f937":{"1f3fb":["1f937-1f3fb",40,7,7,["\\uD83E\\uDD37\\uD83C\\uDFFB"]],"1f3fc":["1f937-1f3fc",40,8,7,["\\uD83E\\uDD37\\uD83C\\uDFFC"]],"1f3fd":["1f937-1f3fd",40,9,7,["\\uD83E\\uDD37\\uD83C\\uDFFD"]],"1f3fe":["1f937-1f3fe",40,10,7,["\\uD83E\\uDD37\\uD83C\\uDFFE"]],"1f3ff":["1f937-1f3ff",40,11,7,["\\uD83E\\uDD37\\uD83C\\uDFFF"]]},\n\t\t"1f938-200d-2640-fe0f":{"1f3fb":["1f938-1f3fb-200d-2640-fe0f",40,13,7,["\\uD83E\\uDD38\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F"]],"1f3fc":["1f938-1f3fc-200d-2640-fe0f",40,14,7,["\\uD83E\\uDD38\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F"]],"1f3fd":["1f938-1f3fd-200d-2640-fe0f",40,15,7,["\\uD83E\\uDD38\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F"]],"1f3fe":["1f938-1f3fe-200d-2640-fe0f",40,16,7,["\\uD83E\\uDD38\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F"]],"1f3ff":["1f938-1f3ff-200d-2640-fe0f",40,17,7,["\\uD83E\\uDD38\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F"]]},\n\t\t"1f938-200d-2642-fe0f":{"1f3fb":["1f938-1f3fb-200d-2642-fe0f",40,19,7,["\\uD83E\\uDD38\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F"]],"1f3fc":["1f938-1f3fc-200d-2642-fe0f",40,20,7,["\\uD83E\\uDD38\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F"]],"1f3fd":["1f938-1f3fd-200d-2642-fe0f",40,21,7,["\\uD83E\\uDD38\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F"]],"1f3fe":["1f938-1f3fe-200d-2642-fe0f",40,22,7,["\\uD83E\\uDD38\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F"]],"1f3ff":["1f938-1f3ff-200d-2642-fe0f",40,23,7,["\\uD83E\\uDD38\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F"]]},\n\t\t"1f938":{"1f3fb":["1f938-1f3fb",40,25,7,["\\uD83E\\uDD38\\uD83C\\uDFFB"]],"1f3fc":["1f938-1f3fc",40,26,7,["\\uD83E\\uDD38\\uD83C\\uDFFC"]],"1f3fd":["1f938-1f3fd",40,27,7,["\\uD83E\\uDD38\\uD83C\\uDFFD"]],"1f3fe":["1f938-1f3fe",40,28,7,["\\uD83E\\uDD38\\uD83C\\uDFFE"]],"1f3ff":["1f938-1f3ff",40,29,7,["\\uD83E\\uDD38\\uD83C\\uDFFF"]]},\n\t\t"1f939-200d-2640-fe0f":{"1f3fb":["1f939-1f3fb-200d-2640-fe0f",40,31,7,["\\uD83E\\uDD39\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F"]],"1f3fc":["1f939-1f3fc-200d-2640-fe0f",40,32,7,["\\uD83E\\uDD39\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F"]],"1f3fd":["1f939-1f3fd-200d-2640-fe0f",40,33,7,["\\uD83E\\uDD39\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F"]],"1f3fe":["1f939-1f3fe-200d-2640-fe0f",40,34,7,["\\uD83E\\uDD39\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F"]],"1f3ff":["1f939-1f3ff-200d-2640-fe0f",40,35,7,["\\uD83E\\uDD39\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F"]]},\n\t\t"1f939-200d-2642-fe0f":{"1f3fb":["1f939-1f3fb-200d-2642-fe0f",40,37,7,["\\uD83E\\uDD39\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F"]],"1f3fc":["1f939-1f3fc-200d-2642-fe0f",40,38,7,["\\uD83E\\uDD39\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F"]],"1f3fd":["1f939-1f3fd-200d-2642-fe0f",40,39,7,["\\uD83E\\uDD39\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F"]],"1f3fe":["1f939-1f3fe-200d-2642-fe0f",40,40,7,["\\uD83E\\uDD39\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F"]],"1f3ff":["1f939-1f3ff-200d-2642-fe0f",40,41,7,["\\uD83E\\uDD39\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F"]]},\n\t\t"1f939":{"1f3fb":["1f939-1f3fb",40,43,15,["\\uD83E\\uDD39\\uD83C\\uDFFB"]],"1f3fc":["1f939-1f3fc",40,44,15,["\\uD83E\\uDD39\\uD83C\\uDFFC"]],"1f3fd":["1f939-1f3fd",40,45,15,["\\uD83E\\uDD39\\uD83C\\uDFFD"]],"1f3fe":["1f939-1f3fe",40,46,15,["\\uD83E\\uDD39\\uD83C\\uDFFE"]],"1f3ff":["1f939-1f3ff",40,47,15,["\\uD83E\\uDD39\\uD83C\\uDFFF"]]},\n\t\t"1f93d-200d-2640-fe0f":{"1f3fb":["1f93d-1f3fb-200d-2640-fe0f",41,1,7,["\\uD83E\\uDD3D\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F"]],"1f3fc":["1f93d-1f3fc-200d-2640-fe0f",41,2,7,["\\uD83E\\uDD3D\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F"]],"1f3fd":["1f93d-1f3fd-200d-2640-fe0f",41,3,7,["\\uD83E\\uDD3D\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F"]],"1f3fe":["1f93d-1f3fe-200d-2640-fe0f",41,4,7,["\\uD83E\\uDD3D\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F"]],"1f3ff":["1f93d-1f3ff-200d-2640-fe0f",41,5,7,["\\uD83E\\uDD3D\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F"]]},\n\t\t"1f93d-200d-2642-fe0f":{"1f3fb":["1f93d-1f3fb-200d-2642-fe0f",41,7,7,["\\uD83E\\uDD3D\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F"]],"1f3fc":["1f93d-1f3fc-200d-2642-fe0f",41,8,7,["\\uD83E\\uDD3D\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F"]],"1f3fd":["1f93d-1f3fd-200d-2642-fe0f",41,9,7,["\\uD83E\\uDD3D\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F"]],"1f3fe":["1f93d-1f3fe-200d-2642-fe0f",41,10,7,["\\uD83E\\uDD3D\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F"]],"1f3ff":["1f93d-1f3ff-200d-2642-fe0f",41,11,7,["\\uD83E\\uDD3D\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F"]]},\n\t\t"1f93d":{"1f3fb":["1f93d-1f3fb",41,13,7,["\\uD83E\\uDD3D\\uD83C\\uDFFB"]],"1f3fc":["1f93d-1f3fc",41,14,7,["\\uD83E\\uDD3D\\uD83C\\uDFFC"]],"1f3fd":["1f93d-1f3fd",41,15,7,["\\uD83E\\uDD3D\\uD83C\\uDFFD"]],"1f3fe":["1f93d-1f3fe",41,16,7,["\\uD83E\\uDD3D\\uD83C\\uDFFE"]],"1f3ff":["1f93d-1f3ff",41,17,7,["\\uD83E\\uDD3D\\uD83C\\uDFFF"]]},\n\t\t"1f93e-200d-2640-fe0f":{"1f3fb":["1f93e-1f3fb-200d-2640-fe0f",41,19,7,["\\uD83E\\uDD3E\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F"]],"1f3fc":["1f93e-1f3fc-200d-2640-fe0f",41,20,7,["\\uD83E\\uDD3E\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F"]],"1f3fd":["1f93e-1f3fd-200d-2640-fe0f",41,21,7,["\\uD83E\\uDD3E\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F"]],"1f3fe":["1f93e-1f3fe-200d-2640-fe0f",41,22,7,["\\uD83E\\uDD3E\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F"]],"1f3ff":["1f93e-1f3ff-200d-2640-fe0f",41,23,7,["\\uD83E\\uDD3E\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F"]]},\n\t\t"1f93e-200d-2642-fe0f":{"1f3fb":["1f93e-1f3fb-200d-2642-fe0f",41,25,7,["\\uD83E\\uDD3E\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F"]],"1f3fc":["1f93e-1f3fc-200d-2642-fe0f",41,26,7,["\\uD83E\\uDD3E\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F"]],"1f3fd":["1f93e-1f3fd-200d-2642-fe0f",41,27,7,["\\uD83E\\uDD3E\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F"]],"1f3fe":["1f93e-1f3fe-200d-2642-fe0f",41,28,7,["\\uD83E\\uDD3E\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F"]],"1f3ff":["1f93e-1f3ff-200d-2642-fe0f",41,29,7,["\\uD83E\\uDD3E\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F"]]},\n\t\t"1f93e":{"1f3fb":["1f93e-1f3fb",41,31,7,["\\uD83E\\uDD3E\\uD83C\\uDFFB"]],"1f3fc":["1f93e-1f3fc",41,32,7,["\\uD83E\\uDD3E\\uD83C\\uDFFC"]],"1f3fd":["1f93e-1f3fd",41,33,7,["\\uD83E\\uDD3E\\uD83C\\uDFFD"]],"1f3fe":["1f93e-1f3fe",41,34,7,["\\uD83E\\uDD3E\\uD83C\\uDFFE"]],"1f3ff":["1f93e-1f3ff",41,35,7,["\\uD83E\\uDD3E\\uD83C\\uDFFF"]]},\n\t\t"1f9d1":{"1f3fb":["1f9d1-1f3fb",42,51,15,["\\uD83E\\uDDD1\\uD83C\\uDFFB"]],"1f3fc":["1f9d1-1f3fc",43,0,15,["\\uD83E\\uDDD1\\uD83C\\uDFFC"]],"1f3fd":["1f9d1-1f3fd",43,1,15,["\\uD83E\\uDDD1\\uD83C\\uDFFD"]],"1f3fe":["1f9d1-1f3fe",43,2,15,["\\uD83E\\uDDD1\\uD83C\\uDFFE"]],"1f3ff":["1f9d1-1f3ff",43,3,15,["\\uD83E\\uDDD1\\uD83C\\uDFFF"]]},\n\t\t"1f9d2":{"1f3fb":["1f9d2-1f3fb",43,5,15,["\\uD83E\\uDDD2\\uD83C\\uDFFB"]],"1f3fc":["1f9d2-1f3fc",43,6,15,["\\uD83E\\uDDD2\\uD83C\\uDFFC"]],"1f3fd":["1f9d2-1f3fd",43,7,15,["\\uD83E\\uDDD2\\uD83C\\uDFFD"]],"1f3fe":["1f9d2-1f3fe",43,8,15,["\\uD83E\\uDDD2\\uD83C\\uDFFE"]],"1f3ff":["1f9d2-1f3ff",43,9,15,["\\uD83E\\uDDD2\\uD83C\\uDFFF"]]},\n\t\t"1f9d3":{"1f3fb":["1f9d3-1f3fb",43,11,15,["\\uD83E\\uDDD3\\uD83C\\uDFFB"]],"1f3fc":["1f9d3-1f3fc",43,12,15,["\\uD83E\\uDDD3\\uD83C\\uDFFC"]],"1f3fd":["1f9d3-1f3fd",43,13,15,["\\uD83E\\uDDD3\\uD83C\\uDFFD"]],"1f3fe":["1f9d3-1f3fe",43,14,15,["\\uD83E\\uDDD3\\uD83C\\uDFFE"]],"1f3ff":["1f9d3-1f3ff",43,15,15,["\\uD83E\\uDDD3\\uD83C\\uDFFF"]]},\n\t\t"1f9d4":{"1f3fb":["1f9d4-1f3fb",43,17,15,["\\uD83E\\uDDD4\\uD83C\\uDFFB"]],"1f3fc":["1f9d4-1f3fc",43,18,15,["\\uD83E\\uDDD4\\uD83C\\uDFFC"]],"1f3fd":["1f9d4-1f3fd",43,19,15,["\\uD83E\\uDDD4\\uD83C\\uDFFD"]],"1f3fe":["1f9d4-1f3fe",43,20,15,["\\uD83E\\uDDD4\\uD83C\\uDFFE"]],"1f3ff":["1f9d4-1f3ff",43,21,15,["\\uD83E\\uDDD4\\uD83C\\uDFFF"]]},\n\t\t"1f9d5":{"1f3fb":["1f9d5-1f3fb",43,23,15,["\\uD83E\\uDDD5\\uD83C\\uDFFB"]],"1f3fc":["1f9d5-1f3fc",43,24,15,["\\uD83E\\uDDD5\\uD83C\\uDFFC"]],"1f3fd":["1f9d5-1f3fd",43,25,15,["\\uD83E\\uDDD5\\uD83C\\uDFFD"]],"1f3fe":["1f9d5-1f3fe",43,26,15,["\\uD83E\\uDDD5\\uD83C\\uDFFE"]],"1f3ff":["1f9d5-1f3ff",43,27,15,["\\uD83E\\uDDD5\\uD83C\\uDFFF"]]},\n\t\t"1f9d6-200d-2640-fe0f":{"1f3fb":["1f9d6-1f3fb-200d-2640-fe0f",43,29,7,["\\uD83E\\uDDD6\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F"]],"1f3fc":["1f9d6-1f3fc-200d-2640-fe0f",43,30,7,["\\uD83E\\uDDD6\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F"]],"1f3fd":["1f9d6-1f3fd-200d-2640-fe0f",43,31,7,["\\uD83E\\uDDD6\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F"]],"1f3fe":["1f9d6-1f3fe-200d-2640-fe0f",43,32,7,["\\uD83E\\uDDD6\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F"]],"1f3ff":["1f9d6-1f3ff-200d-2640-fe0f",43,33,7,["\\uD83E\\uDDD6\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F"]]},\n\t\t"1f9d6-200d-2642-fe0f":{"1f3fb":["1f9d6-1f3fb-200d-2642-fe0f",43,35,7,["\\uD83E\\uDDD6\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F","\\uD83E\\uDDD6\\uD83C\\uDFFB"]],"1f3fc":["1f9d6-1f3fc-200d-2642-fe0f",43,36,7,["\\uD83E\\uDDD6\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F","\\uD83E\\uDDD6\\uD83C\\uDFFC"]],"1f3fd":["1f9d6-1f3fd-200d-2642-fe0f",43,37,7,["\\uD83E\\uDDD6\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F","\\uD83E\\uDDD6\\uD83C\\uDFFD"]],"1f3fe":["1f9d6-1f3fe-200d-2642-fe0f",43,38,7,["\\uD83E\\uDDD6\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F","\\uD83E\\uDDD6\\uD83C\\uDFFE"]],"1f3ff":["1f9d6-1f3ff-200d-2642-fe0f",43,39,7,["\\uD83E\\uDDD6\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F","\\uD83E\\uDDD6\\uD83C\\uDFFF"]]},\n\t\t"1f9d7-200d-2640-fe0f":{"1f3fb":["1f9d7-1f3fb-200d-2640-fe0f",43,47,7,["\\uD83E\\uDDD7\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F","\\uD83E\\uDDD7\\uD83C\\uDFFB"]],"1f3fc":["1f9d7-1f3fc-200d-2640-fe0f",43,48,7,["\\uD83E\\uDDD7\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F","\\uD83E\\uDDD7\\uD83C\\uDFFC"]],"1f3fd":["1f9d7-1f3fd-200d-2640-fe0f",43,49,7,["\\uD83E\\uDDD7\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F","\\uD83E\\uDDD7\\uD83C\\uDFFD"]],"1f3fe":["1f9d7-1f3fe-200d-2640-fe0f",43,50,7,["\\uD83E\\uDDD7\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F","\\uD83E\\uDDD7\\uD83C\\uDFFE"]],"1f3ff":["1f9d7-1f3ff-200d-2640-fe0f",43,51,7,["\\uD83E\\uDDD7\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F","\\uD83E\\uDDD7\\uD83C\\uDFFF"]]},\n\t\t"1f9d7-200d-2642-fe0f":{"1f3fb":["1f9d7-1f3fb-200d-2642-fe0f",44,1,7,["\\uD83E\\uDDD7\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F"]],"1f3fc":["1f9d7-1f3fc-200d-2642-fe0f",44,2,7,["\\uD83E\\uDDD7\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F"]],"1f3fd":["1f9d7-1f3fd-200d-2642-fe0f",44,3,7,["\\uD83E\\uDDD7\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F"]],"1f3fe":["1f9d7-1f3fe-200d-2642-fe0f",44,4,7,["\\uD83E\\uDDD7\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F"]],"1f3ff":["1f9d7-1f3ff-200d-2642-fe0f",44,5,7,["\\uD83E\\uDDD7\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F"]]},\n\t\t"1f9d8-200d-2640-fe0f":{"1f3fb":["1f9d8-1f3fb-200d-2640-fe0f",44,13,7,["\\uD83E\\uDDD8\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F","\\uD83E\\uDDD8\\uD83C\\uDFFB"]],"1f3fc":["1f9d8-1f3fc-200d-2640-fe0f",44,14,7,["\\uD83E\\uDDD8\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F","\\uD83E\\uDDD8\\uD83C\\uDFFC"]],"1f3fd":["1f9d8-1f3fd-200d-2640-fe0f",44,15,7,["\\uD83E\\uDDD8\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F","\\uD83E\\uDDD8\\uD83C\\uDFFD"]],"1f3fe":["1f9d8-1f3fe-200d-2640-fe0f",44,16,7,["\\uD83E\\uDDD8\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F","\\uD83E\\uDDD8\\uD83C\\uDFFE"]],"1f3ff":["1f9d8-1f3ff-200d-2640-fe0f",44,17,7,["\\uD83E\\uDDD8\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F","\\uD83E\\uDDD8\\uD83C\\uDFFF"]]},\n\t\t"1f9d8-200d-2642-fe0f":{"1f3fb":["1f9d8-1f3fb-200d-2642-fe0f",44,19,7,["\\uD83E\\uDDD8\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F"]],"1f3fc":["1f9d8-1f3fc-200d-2642-fe0f",44,20,7,["\\uD83E\\uDDD8\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F"]],"1f3fd":["1f9d8-1f3fd-200d-2642-fe0f",44,21,7,["\\uD83E\\uDDD8\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F"]],"1f3fe":["1f9d8-1f3fe-200d-2642-fe0f",44,22,7,["\\uD83E\\uDDD8\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F"]],"1f3ff":["1f9d8-1f3ff-200d-2642-fe0f",44,23,7,["\\uD83E\\uDDD8\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F"]]},\n\t\t"1f9d9-200d-2640-fe0f":{"1f3fb":["1f9d9-1f3fb-200d-2640-fe0f",44,31,7,["\\uD83E\\uDDD9\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F","\\uD83E\\uDDD9\\uD83C\\uDFFB"]],"1f3fc":["1f9d9-1f3fc-200d-2640-fe0f",44,32,7,["\\uD83E\\uDDD9\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F","\\uD83E\\uDDD9\\uD83C\\uDFFC"]],"1f3fd":["1f9d9-1f3fd-200d-2640-fe0f",44,33,7,["\\uD83E\\uDDD9\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F","\\uD83E\\uDDD9\\uD83C\\uDFFD"]],"1f3fe":["1f9d9-1f3fe-200d-2640-fe0f",44,34,7,["\\uD83E\\uDDD9\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F","\\uD83E\\uDDD9\\uD83C\\uDFFE"]],"1f3ff":["1f9d9-1f3ff-200d-2640-fe0f",44,35,7,["\\uD83E\\uDDD9\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F","\\uD83E\\uDDD9\\uD83C\\uDFFF"]]},\n\t\t"1f9d9-200d-2642-fe0f":{"1f3fb":["1f9d9-1f3fb-200d-2642-fe0f",44,37,7,["\\uD83E\\uDDD9\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F"]],"1f3fc":["1f9d9-1f3fc-200d-2642-fe0f",44,38,7,["\\uD83E\\uDDD9\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F"]],"1f3fd":["1f9d9-1f3fd-200d-2642-fe0f",44,39,7,["\\uD83E\\uDDD9\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F"]],"1f3fe":["1f9d9-1f3fe-200d-2642-fe0f",44,40,7,["\\uD83E\\uDDD9\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F"]],"1f3ff":["1f9d9-1f3ff-200d-2642-fe0f",44,41,7,["\\uD83E\\uDDD9\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F"]]},\n\t\t"1f9da-200d-2640-fe0f":{"1f3fb":["1f9da-1f3fb-200d-2640-fe0f",44,49,7,["\\uD83E\\uDDDA\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F","\\uD83E\\uDDDA\\uD83C\\uDFFB"]],"1f3fc":["1f9da-1f3fc-200d-2640-fe0f",44,50,7,["\\uD83E\\uDDDA\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F","\\uD83E\\uDDDA\\uD83C\\uDFFC"]],"1f3fd":["1f9da-1f3fd-200d-2640-fe0f",44,51,7,["\\uD83E\\uDDDA\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F","\\uD83E\\uDDDA\\uD83C\\uDFFD"]],"1f3fe":["1f9da-1f3fe-200d-2640-fe0f",45,0,7,["\\uD83E\\uDDDA\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F","\\uD83E\\uDDDA\\uD83C\\uDFFE"]],"1f3ff":["1f9da-1f3ff-200d-2640-fe0f",45,1,7,["\\uD83E\\uDDDA\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F","\\uD83E\\uDDDA\\uD83C\\uDFFF"]]},\n\t\t"1f9da-200d-2642-fe0f":{"1f3fb":["1f9da-1f3fb-200d-2642-fe0f",45,3,7,["\\uD83E\\uDDDA\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F"]],"1f3fc":["1f9da-1f3fc-200d-2642-fe0f",45,4,7,["\\uD83E\\uDDDA\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F"]],"1f3fd":["1f9da-1f3fd-200d-2642-fe0f",45,5,7,["\\uD83E\\uDDDA\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F"]],"1f3fe":["1f9da-1f3fe-200d-2642-fe0f",45,6,7,["\\uD83E\\uDDDA\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F"]],"1f3ff":["1f9da-1f3ff-200d-2642-fe0f",45,7,7,["\\uD83E\\uDDDA\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F"]]},\n\t\t"1f9db-200d-2640-fe0f":{"1f3fb":["1f9db-1f3fb-200d-2640-fe0f",45,15,7,["\\uD83E\\uDDDB\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F","\\uD83E\\uDDDB\\uD83C\\uDFFB"]],"1f3fc":["1f9db-1f3fc-200d-2640-fe0f",45,16,7,["\\uD83E\\uDDDB\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F","\\uD83E\\uDDDB\\uD83C\\uDFFC"]],"1f3fd":["1f9db-1f3fd-200d-2640-fe0f",45,17,7,["\\uD83E\\uDDDB\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F","\\uD83E\\uDDDB\\uD83C\\uDFFD"]],"1f3fe":["1f9db-1f3fe-200d-2640-fe0f",45,18,7,["\\uD83E\\uDDDB\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F","\\uD83E\\uDDDB\\uD83C\\uDFFE"]],"1f3ff":["1f9db-1f3ff-200d-2640-fe0f",45,19,7,["\\uD83E\\uDDDB\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F","\\uD83E\\uDDDB\\uD83C\\uDFFF"]]},\n\t\t"1f9db-200d-2642-fe0f":{"1f3fb":["1f9db-1f3fb-200d-2642-fe0f",45,21,7,["\\uD83E\\uDDDB\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F"]],"1f3fc":["1f9db-1f3fc-200d-2642-fe0f",45,22,7,["\\uD83E\\uDDDB\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F"]],"1f3fd":["1f9db-1f3fd-200d-2642-fe0f",45,23,7,["\\uD83E\\uDDDB\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F"]],"1f3fe":["1f9db-1f3fe-200d-2642-fe0f",45,24,7,["\\uD83E\\uDDDB\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F"]],"1f3ff":["1f9db-1f3ff-200d-2642-fe0f",45,25,7,["\\uD83E\\uDDDB\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F"]]},\n\t\t"1f9dc-200d-2640-fe0f":{"1f3fb":["1f9dc-1f3fb-200d-2640-fe0f",45,33,7,["\\uD83E\\uDDDC\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F"]],"1f3fc":["1f9dc-1f3fc-200d-2640-fe0f",45,34,7,["\\uD83E\\uDDDC\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F"]],"1f3fd":["1f9dc-1f3fd-200d-2640-fe0f",45,35,7,["\\uD83E\\uDDDC\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F"]],"1f3fe":["1f9dc-1f3fe-200d-2640-fe0f",45,36,7,["\\uD83E\\uDDDC\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F"]],"1f3ff":["1f9dc-1f3ff-200d-2640-fe0f",45,37,7,["\\uD83E\\uDDDC\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F"]]},\n\t\t"1f9dc-200d-2642-fe0f":{"1f3fb":["1f9dc-1f3fb-200d-2642-fe0f",45,39,7,["\\uD83E\\uDDDC\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F","\\uD83E\\uDDDC\\uD83C\\uDFFB"]],"1f3fc":["1f9dc-1f3fc-200d-2642-fe0f",45,40,7,["\\uD83E\\uDDDC\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F","\\uD83E\\uDDDC\\uD83C\\uDFFC"]],"1f3fd":["1f9dc-1f3fd-200d-2642-fe0f",45,41,7,["\\uD83E\\uDDDC\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F","\\uD83E\\uDDDC\\uD83C\\uDFFD"]],"1f3fe":["1f9dc-1f3fe-200d-2642-fe0f",45,42,7,["\\uD83E\\uDDDC\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F","\\uD83E\\uDDDC\\uD83C\\uDFFE"]],"1f3ff":["1f9dc-1f3ff-200d-2642-fe0f",45,43,7,["\\uD83E\\uDDDC\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F","\\uD83E\\uDDDC\\uD83C\\uDFFF"]]},\n\t\t"1f9dd-200d-2640-fe0f":{"1f3fb":["1f9dd-1f3fb-200d-2640-fe0f",45,51,7,["\\uD83E\\uDDDD\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F"]],"1f3fc":["1f9dd-1f3fc-200d-2640-fe0f",46,0,7,["\\uD83E\\uDDDD\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F"]],"1f3fd":["1f9dd-1f3fd-200d-2640-fe0f",46,1,7,["\\uD83E\\uDDDD\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F"]],"1f3fe":["1f9dd-1f3fe-200d-2640-fe0f",46,2,7,["\\uD83E\\uDDDD\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F"]],"1f3ff":["1f9dd-1f3ff-200d-2640-fe0f",46,3,7,["\\uD83E\\uDDDD\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F"]]},\n\t\t"1f9dd-200d-2642-fe0f":{"1f3fb":["1f9dd-1f3fb-200d-2642-fe0f",46,5,7,["\\uD83E\\uDDDD\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F","\\uD83E\\uDDDD\\uD83C\\uDFFB"]],"1f3fc":["1f9dd-1f3fc-200d-2642-fe0f",46,6,7,["\\uD83E\\uDDDD\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F","\\uD83E\\uDDDD\\uD83C\\uDFFC"]],"1f3fd":["1f9dd-1f3fd-200d-2642-fe0f",46,7,7,["\\uD83E\\uDDDD\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F","\\uD83E\\uDDDD\\uD83C\\uDFFD"]],"1f3fe":["1f9dd-1f3fe-200d-2642-fe0f",46,8,7,["\\uD83E\\uDDDD\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F","\\uD83E\\uDDDD\\uD83C\\uDFFE"]],"1f3ff":["1f9dd-1f3ff-200d-2642-fe0f",46,9,7,["\\uD83E\\uDDDD\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F","\\uD83E\\uDDDD\\uD83C\\uDFFF"]]},\n\t\t"261d-fe0f":{"1f3fb":["261d-1f3fb",47,27,31,["\\u261D\\uD83C\\uDFFB"]],"1f3fc":["261d-1f3fc",47,28,31,["\\u261D\\uD83C\\uDFFC"]],"1f3fd":["261d-1f3fd",47,29,31,["\\u261D\\uD83C\\uDFFD"]],"1f3fe":["261d-1f3fe",47,30,31,["\\u261D\\uD83C\\uDFFE"]],"1f3ff":["261d-1f3ff",47,31,31,["\\u261D\\uD83C\\uDFFF"]]},\n\t\t"26f9-fe0f-200d-2640-fe0f":{"1f3fb":["26f9-1f3fb-200d-2640-fe0f",48,47,7,["\\u26F9\\uD83C\\uDFFB\\u200D\\u2640\\uFE0F"]],"1f3fc":["26f9-1f3fc-200d-2640-fe0f",48,48,7,["\\u26F9\\uD83C\\uDFFC\\u200D\\u2640\\uFE0F"]],"1f3fd":["26f9-1f3fd-200d-2640-fe0f",48,49,7,["\\u26F9\\uD83C\\uDFFD\\u200D\\u2640\\uFE0F"]],"1f3fe":["26f9-1f3fe-200d-2640-fe0f",48,50,7,["\\u26F9\\uD83C\\uDFFE\\u200D\\u2640\\uFE0F"]],"1f3ff":["26f9-1f3ff-200d-2640-fe0f",48,51,7,["\\u26F9\\uD83C\\uDFFF\\u200D\\u2640\\uFE0F"]]},\n\t\t"26f9-fe0f-200d-2642-fe0f":{"1f3fb":["26f9-1f3fb-200d-2642-fe0f",49,1,7,["\\u26F9\\uD83C\\uDFFB\\u200D\\u2642\\uFE0F","\\u26F9\\uD83C\\uDFFB"]],"1f3fc":["26f9-1f3fc-200d-2642-fe0f",49,2,7,["\\u26F9\\uD83C\\uDFFC\\u200D\\u2642\\uFE0F","\\u26F9\\uD83C\\uDFFC"]],"1f3fd":["26f9-1f3fd-200d-2642-fe0f",49,3,7,["\\u26F9\\uD83C\\uDFFD\\u200D\\u2642\\uFE0F","\\u26F9\\uD83C\\uDFFD"]],"1f3fe":["26f9-1f3fe-200d-2642-fe0f",49,4,7,["\\u26F9\\uD83C\\uDFFE\\u200D\\u2642\\uFE0F","\\u26F9\\uD83C\\uDFFE"]],"1f3ff":["26f9-1f3ff-200d-2642-fe0f",49,5,7,["\\u26F9\\uD83C\\uDFFF\\u200D\\u2642\\uFE0F","\\u26F9\\uD83C\\uDFFF"]]},\n\t\t"270a":{"1f3fb":["270a-1f3fb",49,19,31,["\\u270A\\uD83C\\uDFFB"]],"1f3fc":["270a-1f3fc",49,20,31,["\\u270A\\uD83C\\uDFFC"]],"1f3fd":["270a-1f3fd",49,21,31,["\\u270A\\uD83C\\uDFFD"]],"1f3fe":["270a-1f3fe",49,22,31,["\\u270A\\uD83C\\uDFFE"]],"1f3ff":["270a-1f3ff",49,23,31,["\\u270A\\uD83C\\uDFFF"]]},\n\t\t"270b":{"1f3fb":["270b-1f3fb",49,25,31,["\\u270B\\uD83C\\uDFFB"]],"1f3fc":["270b-1f3fc",49,26,31,["\\u270B\\uD83C\\uDFFC"]],"1f3fd":["270b-1f3fd",49,27,31,["\\u270B\\uD83C\\uDFFD"]],"1f3fe":["270b-1f3fe",49,28,31,["\\u270B\\uD83C\\uDFFE"]],"1f3ff":["270b-1f3ff",49,29,31,["\\u270B\\uD83C\\uDFFF"]]},\n\t\t"270c-fe0f":{"1f3fb":["270c-1f3fb",49,31,31,["\\u270C\\uD83C\\uDFFB"]],"1f3fc":["270c-1f3fc",49,32,31,["\\u270C\\uD83C\\uDFFC"]],"1f3fd":["270c-1f3fd",49,33,31,["\\u270C\\uD83C\\uDFFD"]],"1f3fe":["270c-1f3fe",49,34,31,["\\u270C\\uD83C\\uDFFE"]],"1f3ff":["270c-1f3ff",49,35,31,["\\u270C\\uD83C\\uDFFF"]]},\n\t\t"270d-fe0f":{"1f3fb":["270d-1f3fb",49,37,15,["\\u270D\\uD83C\\uDFFB"]],"1f3fc":["270d-1f3fc",49,38,15,["\\u270D\\uD83C\\uDFFC"]],"1f3fd":["270d-1f3fd",49,39,15,["\\u270D\\uD83C\\uDFFD"]],"1f3fe":["270d-1f3fe",49,40,15,["\\u270D\\uD83C\\uDFFE"]],"1f3ff":["270d-1f3ff",49,41,15,["\\u270D\\uD83C\\uDFFF"]]}\n\t};\n\t/** @private */\n\temoji.prototype.obsoletes_data = {\n\t\t"1f3c3-200d-2642-fe0f":["1f3c3",9,46,23],\n\t\t"1f3c3-1f3fb-200d-2642-fe0f":["1f3c3-1f3fb",9,47,23],\n\t\t"1f3c3-1f3fc-200d-2642-fe0f":["1f3c3-1f3fc",9,48,23],\n\t\t"1f3c3-1f3fd-200d-2642-fe0f":["1f3c3-1f3fd",9,49,23],\n\t\t"1f3c3-1f3fe-200d-2642-fe0f":["1f3c3-1f3fe",9,50,23],\n\t\t"1f3c3-1f3ff-200d-2642-fe0f":["1f3c3-1f3ff",9,51,23],\n\t\t"1f3c4-200d-2642-fe0f":["1f3c4",10,12,23],\n\t\t"1f3c4-1f3fb-200d-2642-fe0f":["1f3c4-1f3fb",10,13,23],\n\t\t"1f3c4-1f3fc-200d-2642-fe0f":["1f3c4-1f3fc",10,14,23],\n\t\t"1f3c4-1f3fd-200d-2642-fe0f":["1f3c4-1f3fd",10,15,23],\n\t\t"1f3c4-1f3fe-200d-2642-fe0f":["1f3c4-1f3fe",10,16,23],\n\t\t"1f3c4-1f3ff-200d-2642-fe0f":["1f3c4-1f3ff",10,17,23],\n\t\t"1f3ca-200d-2642-fe0f":["1f3ca",10,40,23],\n\t\t"1f3ca-1f3fb-200d-2642-fe0f":["1f3ca-1f3fb",10,41,23],\n\t\t"1f3ca-1f3fc-200d-2642-fe0f":["1f3ca-1f3fc",10,42,23],\n\t\t"1f3ca-1f3fd-200d-2642-fe0f":["1f3ca-1f3fd",10,43,23],\n\t\t"1f3ca-1f3fe-200d-2642-fe0f":["1f3ca-1f3fe",10,44,23],\n\t\t"1f3ca-1f3ff-200d-2642-fe0f":["1f3ca-1f3ff",10,45,23],\n\t\t"1f3cb-fe0f-200d-2642-fe0f":["1f3cb-fe0f",11,6,7],\n\t\t"1f3cb-1f3fb-200d-2642-fe0f":["1f3cb-1f3fb",11,7,7],\n\t\t"1f3cb-1f3fc-200d-2642-fe0f":["1f3cb-1f3fc",11,8,7],\n\t\t"1f3cb-1f3fd-200d-2642-fe0f":["1f3cb-1f3fd",11,9,7],\n\t\t"1f3cb-1f3fe-200d-2642-fe0f":["1f3cb-1f3fe",11,10,7],\n\t\t"1f3cb-1f3ff-200d-2642-fe0f":["1f3cb-1f3ff",11,11,7],\n\t\t"1f3cc-fe0f-200d-2642-fe0f":["1f3cc-fe0f",11,24,7],\n\t\t"1f3cc-1f3fb-200d-2642-fe0f":["1f3cc-1f3fb",11,25,7],\n\t\t"1f3cc-1f3fc-200d-2642-fe0f":["1f3cc-1f3fc",11,26,7],\n\t\t"1f3cc-1f3fd-200d-2642-fe0f":["1f3cc-1f3fd",11,27,7],\n\t\t"1f3cc-1f3fe-200d-2642-fe0f":["1f3cc-1f3fe",11,28,7],\n\t\t"1f3cc-1f3ff-200d-2642-fe0f":["1f3cc-1f3ff",11,29,7],\n\t\t"1f468-200d-1f469-200d-1f466":["1f46a",20,29,23],\n\t\t"1f46e-200d-2642-fe0f":["1f46e",20,45,23],\n\t\t"1f46e-1f3fb-200d-2642-fe0f":["1f46e-1f3fb",20,46,23],\n\t\t"1f46e-1f3fc-200d-2642-fe0f":["1f46e-1f3fc",20,47,23],\n\t\t"1f46e-1f3fd-200d-2642-fe0f":["1f46e-1f3fd",20,48,23],\n\t\t"1f46e-1f3fe-200d-2642-fe0f":["1f46e-1f3fe",20,49,23],\n\t\t"1f46e-1f3ff-200d-2642-fe0f":["1f46e-1f3ff",20,50,23],\n\t\t"1f46f-200d-2640-fe0f":["1f46f",21,1,23],\n\t\t"1f471-200d-2642-fe0f":["1f471",21,20,23],\n\t\t"1f471-1f3fb-200d-2642-fe0f":["1f471-1f3fb",21,21,23],\n\t\t"1f471-1f3fc-200d-2642-fe0f":["1f471-1f3fc",21,22,23],\n\t\t"1f471-1f3fd-200d-2642-fe0f":["1f471-1f3fd",21,23,23],\n\t\t"1f471-1f3fe-200d-2642-fe0f":["1f471-1f3fe",21,24,23],\n\t\t"1f471-1f3ff-200d-2642-fe0f":["1f471-1f3ff",21,25,23],\n\t\t"1f473-200d-2642-fe0f":["1f473",21,44,23],\n\t\t"1f473-1f3fb-200d-2642-fe0f":["1f473-1f3fb",21,45,23],\n\t\t"1f473-1f3fc-200d-2642-fe0f":["1f473-1f3fc",21,46,23],\n\t\t"1f473-1f3fd-200d-2642-fe0f":["1f473-1f3fd",21,47,23],\n\t\t"1f473-1f3fe-200d-2642-fe0f":["1f473-1f3fe",21,48,23],\n\t\t"1f473-1f3ff-200d-2642-fe0f":["1f473-1f3ff",21,49,23],\n\t\t"1f477-200d-2642-fe0f":["1f477",22,28,23],\n\t\t"1f477-1f3fb-200d-2642-fe0f":["1f477-1f3fb",22,29,23],\n\t\t"1f477-1f3fc-200d-2642-fe0f":["1f477-1f3fc",22,30,23],\n\t\t"1f477-1f3fd-200d-2642-fe0f":["1f477-1f3fd",22,31,23],\n\t\t"1f477-1f3fe-200d-2642-fe0f":["1f477-1f3fe",22,32,23],\n\t\t"1f477-1f3ff-200d-2642-fe0f":["1f477-1f3ff",22,33,23],\n\t\t"1f481-200d-2640-fe0f":["1f481",23,13,23],\n\t\t"1f481-1f3fb-200d-2640-fe0f":["1f481-1f3fb",23,14,23],\n\t\t"1f481-1f3fc-200d-2640-fe0f":["1f481-1f3fc",23,15,23],\n\t\t"1f481-1f3fd-200d-2640-fe0f":["1f481-1f3fd",23,16,23],\n\t\t"1f481-1f3fe-200d-2640-fe0f":["1f481-1f3fe",23,17,23],\n\t\t"1f481-1f3ff-200d-2640-fe0f":["1f481-1f3ff",23,18,23],\n\t\t"1f482-200d-2642-fe0f":["1f482",23,31,23],\n\t\t"1f482-1f3fb-200d-2642-fe0f":["1f482-1f3fb",23,32,23],\n\t\t"1f482-1f3fc-200d-2642-fe0f":["1f482-1f3fc",23,33,23],\n\t\t"1f482-1f3fd-200d-2642-fe0f":["1f482-1f3fd",23,34,23],\n\t\t"1f482-1f3fe-200d-2642-fe0f":["1f482-1f3fe",23,35,23],\n\t\t"1f482-1f3ff-200d-2642-fe0f":["1f482-1f3ff",23,36,23],\n\t\t"1f486-200d-2640-fe0f":["1f486",24,10,23],\n\t\t"1f486-1f3fb-200d-2640-fe0f":["1f486-1f3fb",24,11,23],\n\t\t"1f486-1f3fc-200d-2640-fe0f":["1f486-1f3fc",24,12,23],\n\t\t"1f486-1f3fd-200d-2640-fe0f":["1f486-1f3fd",24,13,23],\n\t\t"1f486-1f3fe-200d-2640-fe0f":["1f486-1f3fe",24,14,23],\n\t\t"1f486-1f3ff-200d-2640-fe0f":["1f486-1f3ff",24,15,23],\n\t\t"1f487-200d-2640-fe0f":["1f487",24,28,23],\n\t\t"1f487-1f3fb-200d-2640-fe0f":["1f487-1f3fb",24,29,23],\n\t\t"1f487-1f3fc-200d-2640-fe0f":["1f487-1f3fc",24,30,23],\n\t\t"1f487-1f3fd-200d-2640-fe0f":["1f487-1f3fd",24,31,23],\n\t\t"1f487-1f3fe-200d-2640-fe0f":["1f487-1f3fe",24,32,23],\n\t\t"1f487-1f3ff-200d-2640-fe0f":["1f487-1f3ff",24,33,23],\n\t\t"1f469-200d-2764-fe0f-200d-1f48b-200d-1f468":["1f48f",24,41,23],\n\t\t"1f469-200d-2764-fe0f-200d-1f468":["1f491",24,43,23],\n\t\t"1f575-fe0f-200d-2642-fe0f":["1f575-fe0f",29,11,7],\n\t\t"1f575-1f3fb-200d-2642-fe0f":["1f575-1f3fb",29,12,7],\n\t\t"1f575-1f3fc-200d-2642-fe0f":["1f575-1f3fc",29,13,7],\n\t\t"1f575-1f3fd-200d-2642-fe0f":["1f575-1f3fd",29,14,7],\n\t\t"1f575-1f3fe-200d-2642-fe0f":["1f575-1f3fe",29,15,7],\n\t\t"1f575-1f3ff-200d-2642-fe0f":["1f575-1f3ff",29,16,7],\n\t\t"1f645-200d-2640-fe0f":["1f645",32,1,23],\n\t\t"1f645-1f3fb-200d-2640-fe0f":["1f645-1f3fb",32,2,23],\n\t\t"1f645-1f3fc-200d-2640-fe0f":["1f645-1f3fc",32,3,23],\n\t\t"1f645-1f3fd-200d-2640-fe0f":["1f645-1f3fd",32,4,23],\n\t\t"1f645-1f3fe-200d-2640-fe0f":["1f645-1f3fe",32,5,23],\n\t\t"1f645-1f3ff-200d-2640-fe0f":["1f645-1f3ff",32,6,23],\n\t\t"1f646-200d-2640-fe0f":["1f646",32,19,23],\n\t\t"1f646-1f3fb-200d-2640-fe0f":["1f646-1f3fb",32,20,23],\n\t\t"1f646-1f3fc-200d-2640-fe0f":["1f646-1f3fc",32,21,23],\n\t\t"1f646-1f3fd-200d-2640-fe0f":["1f646-1f3fd",32,22,23],\n\t\t"1f646-1f3fe-200d-2640-fe0f":["1f646-1f3fe",32,23,23],\n\t\t"1f646-1f3ff-200d-2640-fe0f":["1f646-1f3ff",32,24,23],\n\t\t"1f647-200d-2642-fe0f":["1f647",32,37,23],\n\t\t"1f647-1f3fb-200d-2642-fe0f":["1f647-1f3fb",32,38,23],\n\t\t"1f647-1f3fc-200d-2642-fe0f":["1f647-1f3fc",32,39,23],\n\t\t"1f647-1f3fd-200d-2642-fe0f":["1f647-1f3fd",32,40,23],\n\t\t"1f647-1f3fe-200d-2642-fe0f":["1f647-1f3fe",32,41,23],\n\t\t"1f647-1f3ff-200d-2642-fe0f":["1f647-1f3ff",32,42,23],\n\t\t"1f64b-200d-2640-fe0f":["1f64b",33,6,23],\n\t\t"1f64b-1f3fb-200d-2640-fe0f":["1f64b-1f3fb",33,7,23],\n\t\t"1f64b-1f3fc-200d-2640-fe0f":["1f64b-1f3fc",33,8,23],\n\t\t"1f64b-1f3fd-200d-2640-fe0f":["1f64b-1f3fd",33,9,23],\n\t\t"1f64b-1f3fe-200d-2640-fe0f":["1f64b-1f3fe",33,10,23],\n\t\t"1f64b-1f3ff-200d-2640-fe0f":["1f64b-1f3ff",33,11,23],\n\t\t"1f64d-200d-2640-fe0f":["1f64d",33,30,23],\n\t\t"1f64d-1f3fb-200d-2640-fe0f":["1f64d-1f3fb",33,31,23],\n\t\t"1f64d-1f3fc-200d-2640-fe0f":["1f64d-1f3fc",33,32,23],\n\t\t"1f64d-1f3fd-200d-2640-fe0f":["1f64d-1f3fd",33,33,23],\n\t\t"1f64d-1f3fe-200d-2640-fe0f":["1f64d-1f3fe",33,34,23],\n\t\t"1f64d-1f3ff-200d-2640-fe0f":["1f64d-1f3ff",33,35,23],\n\t\t"1f64e-200d-2640-fe0f":["1f64e",33,48,23],\n\t\t"1f64e-1f3fb-200d-2640-fe0f":["1f64e-1f3fb",33,49,23],\n\t\t"1f64e-1f3fc-200d-2640-fe0f":["1f64e-1f3fc",33,50,23],\n\t\t"1f64e-1f3fd-200d-2640-fe0f":["1f64e-1f3fd",33,51,23],\n\t\t"1f64e-1f3fe-200d-2640-fe0f":["1f64e-1f3fe",34,0,23],\n\t\t"1f64e-1f3ff-200d-2640-fe0f":["1f64e-1f3ff",34,1,23],\n\t\t"1f6a3-200d-2642-fe0f":["1f6a3",35,3,23],\n\t\t"1f6a3-1f3fb-200d-2642-fe0f":["1f6a3-1f3fb",35,4,7],\n\t\t"1f6a3-1f3fc-200d-2642-fe0f":["1f6a3-1f3fc",35,5,7],\n\t\t"1f6a3-1f3fd-200d-2642-fe0f":["1f6a3-1f3fd",35,6,7],\n\t\t"1f6a3-1f3fe-200d-2642-fe0f":["1f6a3-1f3fe",35,7,7],\n\t\t"1f6a3-1f3ff-200d-2642-fe0f":["1f6a3-1f3ff",35,8,7],\n\t\t"1f6b4-200d-2642-fe0f":["1f6b4",35,37,23],\n\t\t"1f6b4-1f3fb-200d-2642-fe0f":["1f6b4-1f3fb",35,38,23],\n\t\t"1f6b4-1f3fc-200d-2642-fe0f":["1f6b4-1f3fc",35,39,23],\n\t\t"1f6b4-1f3fd-200d-2642-fe0f":["1f6b4-1f3fd",35,40,23],\n\t\t"1f6b4-1f3fe-200d-2642-fe0f":["1f6b4-1f3fe",35,41,23],\n\t\t"1f6b4-1f3ff-200d-2642-fe0f":["1f6b4-1f3ff",35,42,23],\n\t\t"1f6b5-200d-2642-fe0f":["1f6b5",36,3,23],\n\t\t"1f6b5-1f3fb-200d-2642-fe0f":["1f6b5-1f3fb",36,4,23],\n\t\t"1f6b5-1f3fc-200d-2642-fe0f":["1f6b5-1f3fc",36,5,23],\n\t\t"1f6b5-1f3fd-200d-2642-fe0f":["1f6b5-1f3fd",36,6,23],\n\t\t"1f6b5-1f3fe-200d-2642-fe0f":["1f6b5-1f3fe",36,7,23],\n\t\t"1f6b5-1f3ff-200d-2642-fe0f":["1f6b5-1f3ff",36,8,23],\n\t\t"1f6b6-200d-2642-fe0f":["1f6b6",36,21,23],\n\t\t"1f6b6-1f3fb-200d-2642-fe0f":["1f6b6-1f3fb",36,22,23],\n\t\t"1f6b6-1f3fc-200d-2642-fe0f":["1f6b6-1f3fc",36,23,23],\n\t\t"1f6b6-1f3fd-200d-2642-fe0f":["1f6b6-1f3fd",36,24,23],\n\t\t"1f6b6-1f3fe-200d-2642-fe0f":["1f6b6-1f3fe",36,25,23],\n\t\t"1f6b6-1f3ff-200d-2642-fe0f":["1f6b6-1f3ff",36,26,23],\n\t\t"1f9d6-200d-2642-fe0f":["1f9d6",43,40,15],\n\t\t"1f9d6-1f3fb-200d-2642-fe0f":["1f9d6-1f3fb",43,41,15],\n\t\t"1f9d6-1f3fc-200d-2642-fe0f":["1f9d6-1f3fc",43,42,15],\n\t\t"1f9d6-1f3fd-200d-2642-fe0f":["1f9d6-1f3fd",43,43,15],\n\t\t"1f9d6-1f3fe-200d-2642-fe0f":["1f9d6-1f3fe",43,44,15],\n\t\t"1f9d6-1f3ff-200d-2642-fe0f":["1f9d6-1f3ff",43,45,15],\n\t\t"1f9d7-200d-2640-fe0f":["1f9d7",44,6,15],\n\t\t"1f9d7-1f3fb-200d-2640-fe0f":["1f9d7-1f3fb",44,7,15],\n\t\t"1f9d7-1f3fc-200d-2640-fe0f":["1f9d7-1f3fc",44,8,15],\n\t\t"1f9d7-1f3fd-200d-2640-fe0f":["1f9d7-1f3fd",44,9,15],\n\t\t"1f9d7-1f3fe-200d-2640-fe0f":["1f9d7-1f3fe",44,10,15],\n\t\t"1f9d7-1f3ff-200d-2640-fe0f":["1f9d7-1f3ff",44,11,15],\n\t\t"1f9d8-200d-2640-fe0f":["1f9d8",44,24,15],\n\t\t"1f9d8-1f3fb-200d-2640-fe0f":["1f9d8-1f3fb",44,25,15],\n\t\t"1f9d8-1f3fc-200d-2640-fe0f":["1f9d8-1f3fc",44,26,15],\n\t\t"1f9d8-1f3fd-200d-2640-fe0f":["1f9d8-1f3fd",44,27,15],\n\t\t"1f9d8-1f3fe-200d-2640-fe0f":["1f9d8-1f3fe",44,28,15],\n\t\t"1f9d8-1f3ff-200d-2640-fe0f":["1f9d8-1f3ff",44,29,15],\n\t\t"1f9d9-200d-2640-fe0f":["1f9d9",44,42,15],\n\t\t"1f9d9-1f3fb-200d-2640-fe0f":["1f9d9-1f3fb",44,43,15],\n\t\t"1f9d9-1f3fc-200d-2640-fe0f":["1f9d9-1f3fc",44,44,15],\n\t\t"1f9d9-1f3fd-200d-2640-fe0f":["1f9d9-1f3fd",44,45,15],\n\t\t"1f9d9-1f3fe-200d-2640-fe0f":["1f9d9-1f3fe",44,46,15],\n\t\t"1f9d9-1f3ff-200d-2640-fe0f":["1f9d9-1f3ff",44,47,15],\n\t\t"1f9da-200d-2640-fe0f":["1f9da",45,8,15],\n\t\t"1f9da-1f3fb-200d-2640-fe0f":["1f9da-1f3fb",45,9,7],\n\t\t"1f9da-1f3fc-200d-2640-fe0f":["1f9da-1f3fc",45,10,7],\n\t\t"1f9da-1f3fd-200d-2640-fe0f":["1f9da-1f3fd",45,11,7],\n\t\t"1f9da-1f3fe-200d-2640-fe0f":["1f9da-1f3fe",45,12,7],\n\t\t"1f9da-1f3ff-200d-2640-fe0f":["1f9da-1f3ff",45,13,7],\n\t\t"1f9db-200d-2640-fe0f":["1f9db",45,26,15],\n\t\t"1f9db-1f3fb-200d-2640-fe0f":["1f9db-1f3fb",45,27,7],\n\t\t"1f9db-1f3fc-200d-2640-fe0f":["1f9db-1f3fc",45,28,7],\n\t\t"1f9db-1f3fd-200d-2640-fe0f":["1f9db-1f3fd",45,29,7],\n\t\t"1f9db-1f3fe-200d-2640-fe0f":["1f9db-1f3fe",45,30,7],\n\t\t"1f9db-1f3ff-200d-2640-fe0f":["1f9db-1f3ff",45,31,7],\n\t\t"1f9dc-200d-2642-fe0f":["1f9dc",45,44,15],\n\t\t"1f9dc-1f3fb-200d-2642-fe0f":["1f9dc-1f3fb",45,45,15],\n\t\t"1f9dc-1f3fc-200d-2642-fe0f":["1f9dc-1f3fc",45,46,15],\n\t\t"1f9dc-1f3fd-200d-2642-fe0f":["1f9dc-1f3fd",45,47,15],\n\t\t"1f9dc-1f3fe-200d-2642-fe0f":["1f9dc-1f3fe",45,48,15],\n\t\t"1f9dc-1f3ff-200d-2642-fe0f":["1f9dc-1f3ff",45,49,15],\n\t\t"1f9dd-200d-2642-fe0f":["1f9dd",46,10,15],\n\t\t"1f9dd-1f3fb-200d-2642-fe0f":["1f9dd-1f3fb",46,11,15],\n\t\t"1f9dd-1f3fc-200d-2642-fe0f":["1f9dd-1f3fc",46,12,15],\n\t\t"1f9dd-1f3fd-200d-2642-fe0f":["1f9dd-1f3fd",46,13,15],\n\t\t"1f9dd-1f3fe-200d-2642-fe0f":["1f9dd-1f3fe",46,14,15],\n\t\t"1f9dd-1f3ff-200d-2642-fe0f":["1f9dd-1f3ff",46,15,15],\n\t\t"1f9de-200d-2642-fe0f":["1f9de",46,18,15],\n\t\t"1f9df-200d-2642-fe0f":["1f9df",46,21,15],\n\t\t"26f9-fe0f-200d-2642-fe0f":["26f9-fe0f",49,6,7],\n\t\t"26f9-1f3fb-200d-2642-fe0f":["26f9-1f3fb",49,7,7],\n\t\t"26f9-1f3fc-200d-2642-fe0f":["26f9-1f3fc",49,8,7],\n\t\t"26f9-1f3fd-200d-2642-fe0f":["26f9-1f3fd",49,9,7],\n\t\t"26f9-1f3fe-200d-2642-fe0f":["26f9-1f3fe",49,10,7],\n\t\t"26f9-1f3ff-200d-2642-fe0f":["26f9-1f3ff",49,11,7]\n\t};\n\n\n\t// export\n\tif (true){\n\t\tif ( true && module.exports){\n\t\t\texports = module.exports = emoji;\n\t\t}\n\t\texports.EmojiConvertor = emoji;\n\t}else {}\n\n}).call(function(){\n\treturn this || (typeof window !== \'undefined\' ? window : global);\n}());\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/emoji-js/lib/emoji.js?')},"./node_modules/escape-goat/index.js":
/*!*******************************************!*\
  !*** ./node_modules/escape-goat/index.js ***!
  \*******************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nexports.escape = input => input\n\t.replace(/&/g, '&amp;')\n\t.replace(/\"/g, '&quot;')\n\t.replace(/'/g, '&#39;')\n\t.replace(/</g, '&lt;')\n\t.replace(/>/g, '&gt;');\n\nexports.unescape = input => input\n\t.replace(/&gt;/g, '>')\n\t.replace(/&lt;/g, '<')\n\t.replace(/&#39;/g, '\\'')\n\t.replace(/&quot;/g, '\"')\n\t.replace(/&amp;/g, '&');\n\nexports.escapeTag = function (input) {\n\tlet output = input[0];\n\tfor (let i = 1; i < arguments.length; i++) {\n\t\toutput = output + exports.escape(arguments[i]) + input[i];\n\t}\n\treturn output;\n};\n\nexports.unescapeTag = function (input) {\n\tlet output = input[0];\n\tfor (let i = 1; i < arguments.length; i++) {\n\t\toutput = output + exports.unescape(arguments[i]) + input[i];\n\t}\n\treturn output;\n};\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/escape-goat/index.js?")},"./node_modules/msgdown/src/msgdown.js":
/*!*********************************************!*\
  !*** ./node_modules/msgdown/src/msgdown.js ***!
  \*********************************************/
/*! no static exports found */function(module,exports){eval("const defaultTokens = {\n  bold: { delimiter: '*', tag: 'strong' },\n  italic: { delimiter: '/', tag: 'em' },\n  underline: { delimiter: '_', tag: 'u' },\n  strike: { delimiter: '~', tag: 'del' },\n  code: { delimiter: '`', tag: 'code' },\n  sup: { delimiter: '^', tag: 'sup' },\n  sub: { delimiter: '¡', tag: 'sub' }\n}\n\nconst openTag = tag => `<${tag}>`\nconst closeTag = tag => `</${tag}>`\nconst encloseTag = (text, tag) => `${openTag(tag)}${text}${closeTag(tag)}`\nconst parseToken = (text, stopDelimiter) => {\n  let index = 0\n  let content = ''\n  while (index < text.length && text[index] !== stopDelimiter) {\n    content += text[index]\n    index++\n  }\n  if (index === text.length) {\n    return ''\n  } else {\n    return content\n  }\n}\n\nmodule.exports = (text, tokens = defaultTokens) => {\n  tokens = Object.assign({}, defaultTokens, tokens)\n  let html = ''\n  let index = 0\n\n  const consumeChar = () => {\n    html += text[index]\n    index++\n  }\n  const consumeAll = (textRemaining, delimiter) => {\n    html += delimiter + textRemaining\n    index += textRemaining.length\n  }\n  const consumeToken = token => {\n    index++\n    if (text[index] === ' ') {\n      html += token.delimiter\n      consumeChar()\n    } else {\n      const textRemaining = text.substr(index)\n      const tokenContent = parseToken(textRemaining, token.delimiter)\n      if (tokenContent.length === 0) {\n        consumeAll(textRemaining, token.delimiter)\n      } else {\n        html += encloseTag(tokenContent, token.tag)\n        index += tokenContent.length + 1\n      }\n    }\n  }\n\n  while (index < text.length) {\n    const charCurrent = text[index]\n    if (charCurrent === tokens.bold.delimiter) {\n      consumeToken(tokens.bold)\n    } else if (charCurrent === tokens.italic.delimiter) {\n      consumeToken(tokens.italic)\n    } else if (charCurrent === tokens.underline.delimiter) {\n      consumeToken(tokens.underline)\n    } else if (charCurrent === tokens.strike.delimiter) {\n      consumeToken(tokens.strike)\n    } else if (charCurrent === tokens.code.delimiter) {\n      consumeToken(tokens.code)\n    } else if (charCurrent === tokens.sup.delimiter) {\n      consumeToken(tokens.sup)\n    } else if (charCurrent === tokens.sub.delimiter) {\n      consumeToken(tokens.sub)\n    } else {\n      consumeChar()\n    }\n  }\n\n  return html\n}\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/msgdown/src/msgdown.js?")},"./node_modules/popper.js/dist/esm/popper.js":
/*!***************************************************!*\
  !*** ./node_modules/popper.js/dist/esm/popper.js ***!
  \***************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(global) {/**!\n * @fileOverview Kickass library to create and place poppers near their reference elements.\n * @version 1.16.1\n * @license\n * Copyright (c) 2016 Federico Zivolo and contributors\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && typeof navigator !== 'undefined';\n\nvar timeoutDuration = function () {\n  var longerTimeoutBrowsers = ['Edge', 'Trident', 'Firefox'];\n  for (var i = 0; i < longerTimeoutBrowsers.length; i += 1) {\n    if (isBrowser && navigator.userAgent.indexOf(longerTimeoutBrowsers[i]) >= 0) {\n      return 1;\n    }\n  }\n  return 0;\n}();\n\nfunction microtaskDebounce(fn) {\n  var called = false;\n  return function () {\n    if (called) {\n      return;\n    }\n    called = true;\n    window.Promise.resolve().then(function () {\n      called = false;\n      fn();\n    });\n  };\n}\n\nfunction taskDebounce(fn) {\n  var scheduled = false;\n  return function () {\n    if (!scheduled) {\n      scheduled = true;\n      setTimeout(function () {\n        scheduled = false;\n        fn();\n      }, timeoutDuration);\n    }\n  };\n}\n\nvar supportsMicroTasks = isBrowser && window.Promise;\n\n/**\n* Create a debounced version of a method, that's asynchronously deferred\n* but called in the minimum time possible.\n*\n* @method\n* @memberof Popper.Utils\n* @argument {Function} fn\n* @returns {Function}\n*/\nvar debounce = supportsMicroTasks ? microtaskDebounce : taskDebounce;\n\n/**\n * Check if the given variable is a function\n * @method\n * @memberof Popper.Utils\n * @argument {Any} functionToCheck - variable to check\n * @returns {Boolean} answer to: is a function?\n */\nfunction isFunction(functionToCheck) {\n  var getType = {};\n  return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\n}\n\n/**\n * Get CSS computed property of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Eement} element\n * @argument {String} property\n */\nfunction getStyleComputedProperty(element, property) {\n  if (element.nodeType !== 1) {\n    return [];\n  }\n  // NOTE: 1 DOM access here\n  var window = element.ownerDocument.defaultView;\n  var css = window.getComputedStyle(element, null);\n  return property ? css[property] : css;\n}\n\n/**\n * Returns the parentNode or the host of the element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} parent\n */\nfunction getParentNode(element) {\n  if (element.nodeName === 'HTML') {\n    return element;\n  }\n  return element.parentNode || element.host;\n}\n\n/**\n * Returns the scrolling parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} scroll parent\n */\nfunction getScrollParent(element) {\n  // Return body, `getScroll` will take care to get the correct `scrollTop` from it\n  if (!element) {\n    return document.body;\n  }\n\n  switch (element.nodeName) {\n    case 'HTML':\n    case 'BODY':\n      return element.ownerDocument.body;\n    case '#document':\n      return element.body;\n  }\n\n  // Firefox want us to check `-x` and `-y` variations as well\n\n  var _getStyleComputedProp = getStyleComputedProperty(element),\n      overflow = _getStyleComputedProp.overflow,\n      overflowX = _getStyleComputedProp.overflowX,\n      overflowY = _getStyleComputedProp.overflowY;\n\n  if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\n    return element;\n  }\n\n  return getScrollParent(getParentNode(element));\n}\n\n/**\n * Returns the reference node of the reference object, or the reference object itself.\n * @method\n * @memberof Popper.Utils\n * @param {Element|Object} reference - the reference element (the popper will be relative to this)\n * @returns {Element} parent\n */\nfunction getReferenceNode(reference) {\n  return reference && reference.referenceNode ? reference.referenceNode : reference;\n}\n\nvar isIE11 = isBrowser && !!(window.MSInputMethodContext && document.documentMode);\nvar isIE10 = isBrowser && /MSIE 10/.test(navigator.userAgent);\n\n/**\n * Determines if the browser is Internet Explorer\n * @method\n * @memberof Popper.Utils\n * @param {Number} version to check\n * @returns {Boolean} isIE\n */\nfunction isIE(version) {\n  if (version === 11) {\n    return isIE11;\n  }\n  if (version === 10) {\n    return isIE10;\n  }\n  return isIE11 || isIE10;\n}\n\n/**\n * Returns the offset parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} offset parent\n */\nfunction getOffsetParent(element) {\n  if (!element) {\n    return document.documentElement;\n  }\n\n  var noOffsetParent = isIE(10) ? document.body : null;\n\n  // NOTE: 1 DOM access here\n  var offsetParent = element.offsetParent || null;\n  // Skip hidden elements which don't have an offsetParent\n  while (offsetParent === noOffsetParent && element.nextElementSibling) {\n    offsetParent = (element = element.nextElementSibling).offsetParent;\n  }\n\n  var nodeName = offsetParent && offsetParent.nodeName;\n\n  if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {\n    return element ? element.ownerDocument.documentElement : document.documentElement;\n  }\n\n  // .offsetParent will return the closest TH, TD or TABLE in case\n  // no offsetParent is present, I hate this job...\n  if (['TH', 'TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 && getStyleComputedProperty(offsetParent, 'position') === 'static') {\n    return getOffsetParent(offsetParent);\n  }\n\n  return offsetParent;\n}\n\nfunction isOffsetContainer(element) {\n  var nodeName = element.nodeName;\n\n  if (nodeName === 'BODY') {\n    return false;\n  }\n  return nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element;\n}\n\n/**\n * Finds the root node (document, shadowDOM root) of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} node\n * @returns {Element} root node\n */\nfunction getRoot(node) {\n  if (node.parentNode !== null) {\n    return getRoot(node.parentNode);\n  }\n\n  return node;\n}\n\n/**\n * Finds the offset parent common to the two provided nodes\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element1\n * @argument {Element} element2\n * @returns {Element} common offset parent\n */\nfunction findCommonOffsetParent(element1, element2) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {\n    return document.documentElement;\n  }\n\n  // Here we make sure to give as \"start\" the element that comes first in the DOM\n  var order = element1.compareDocumentPosition(element2) & Node.DOCUMENT_POSITION_FOLLOWING;\n  var start = order ? element1 : element2;\n  var end = order ? element2 : element1;\n\n  // Get common ancestor container\n  var range = document.createRange();\n  range.setStart(start, 0);\n  range.setEnd(end, 0);\n  var commonAncestorContainer = range.commonAncestorContainer;\n\n  // Both nodes are inside #document\n\n  if (element1 !== commonAncestorContainer && element2 !== commonAncestorContainer || start.contains(end)) {\n    if (isOffsetContainer(commonAncestorContainer)) {\n      return commonAncestorContainer;\n    }\n\n    return getOffsetParent(commonAncestorContainer);\n  }\n\n  // one of the nodes is inside shadowDOM, find which one\n  var element1root = getRoot(element1);\n  if (element1root.host) {\n    return findCommonOffsetParent(element1root.host, element2);\n  } else {\n    return findCommonOffsetParent(element1, getRoot(element2).host);\n  }\n}\n\n/**\n * Gets the scroll value of the given element in the given side (top and left)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {String} side `top` or `left`\n * @returns {number} amount of scrolled pixels\n */\nfunction getScroll(element) {\n  var side = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'top';\n\n  var upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';\n  var nodeName = element.nodeName;\n\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    var html = element.ownerDocument.documentElement;\n    var scrollingElement = element.ownerDocument.scrollingElement || html;\n    return scrollingElement[upperSide];\n  }\n\n  return element[upperSide];\n}\n\n/*\n * Sum or subtract the element scroll values (left and top) from a given rect object\n * @method\n * @memberof Popper.Utils\n * @param {Object} rect - Rect object you want to change\n * @param {HTMLElement} element - The element from the function reads the scroll values\n * @param {Boolean} subtract - set to true if you want to subtract the scroll values\n * @return {Object} rect - The modifier rect object\n */\nfunction includeScroll(rect, element) {\n  var subtract = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var scrollTop = getScroll(element, 'top');\n  var scrollLeft = getScroll(element, 'left');\n  var modifier = subtract ? -1 : 1;\n  rect.top += scrollTop * modifier;\n  rect.bottom += scrollTop * modifier;\n  rect.left += scrollLeft * modifier;\n  rect.right += scrollLeft * modifier;\n  return rect;\n}\n\n/*\n * Helper to detect borders of a given element\n * @method\n * @memberof Popper.Utils\n * @param {CSSStyleDeclaration} styles\n * Result of `getStyleComputedProperty` on the given element\n * @param {String} axis - `x` or `y`\n * @return {number} borders - The borders size of the given axis\n */\n\nfunction getBordersSize(styles, axis) {\n  var sideA = axis === 'x' ? 'Left' : 'Top';\n  var sideB = sideA === 'Left' ? 'Right' : 'Bottom';\n\n  return parseFloat(styles['border' + sideA + 'Width']) + parseFloat(styles['border' + sideB + 'Width']);\n}\n\nfunction getSize(axis, body, html, computedStyle) {\n  return Math.max(body['offset' + axis], body['scroll' + axis], html['client' + axis], html['offset' + axis], html['scroll' + axis], isIE(10) ? parseInt(html['offset' + axis]) + parseInt(computedStyle['margin' + (axis === 'Height' ? 'Top' : 'Left')]) + parseInt(computedStyle['margin' + (axis === 'Height' ? 'Bottom' : 'Right')]) : 0);\n}\n\nfunction getWindowSizes(document) {\n  var body = document.body;\n  var html = document.documentElement;\n  var computedStyle = isIE(10) && getComputedStyle(html);\n\n  return {\n    height: getSize('Height', body, html, computedStyle),\n    width: getSize('Width', body, html, computedStyle)\n  };\n}\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\nvar defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n/**\n * Given element offsets, generate an output similar to getBoundingClientRect\n * @method\n * @memberof Popper.Utils\n * @argument {Object} offsets\n * @returns {Object} ClientRect like output\n */\nfunction getClientRect(offsets) {\n  return _extends({}, offsets, {\n    right: offsets.left + offsets.width,\n    bottom: offsets.top + offsets.height\n  });\n}\n\n/**\n * Get bounding client rect of given element\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} element\n * @return {Object} client rect\n */\nfunction getBoundingClientRect(element) {\n  var rect = {};\n\n  // IE10 10 FIX: Please, don't ask, the element isn't\n  // considered in DOM in some circumstances...\n  // This isn't reproducible in IE10 compatibility mode of IE11\n  try {\n    if (isIE(10)) {\n      rect = element.getBoundingClientRect();\n      var scrollTop = getScroll(element, 'top');\n      var scrollLeft = getScroll(element, 'left');\n      rect.top += scrollTop;\n      rect.left += scrollLeft;\n      rect.bottom += scrollTop;\n      rect.right += scrollLeft;\n    } else {\n      rect = element.getBoundingClientRect();\n    }\n  } catch (e) {}\n\n  var result = {\n    left: rect.left,\n    top: rect.top,\n    width: rect.right - rect.left,\n    height: rect.bottom - rect.top\n  };\n\n  // subtract scrollbar size from sizes\n  var sizes = element.nodeName === 'HTML' ? getWindowSizes(element.ownerDocument) : {};\n  var width = sizes.width || element.clientWidth || result.width;\n  var height = sizes.height || element.clientHeight || result.height;\n\n  var horizScrollbar = element.offsetWidth - width;\n  var vertScrollbar = element.offsetHeight - height;\n\n  // if an hypothetical scrollbar is detected, we must be sure it's not a `border`\n  // we make this check conditional for performance reasons\n  if (horizScrollbar || vertScrollbar) {\n    var styles = getStyleComputedProperty(element);\n    horizScrollbar -= getBordersSize(styles, 'x');\n    vertScrollbar -= getBordersSize(styles, 'y');\n\n    result.width -= horizScrollbar;\n    result.height -= vertScrollbar;\n  }\n\n  return getClientRect(result);\n}\n\nfunction getOffsetRectRelativeToArbitraryNode(children, parent) {\n  var fixedPosition = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var isIE10 = isIE(10);\n  var isHTML = parent.nodeName === 'HTML';\n  var childrenRect = getBoundingClientRect(children);\n  var parentRect = getBoundingClientRect(parent);\n  var scrollParent = getScrollParent(children);\n\n  var styles = getStyleComputedProperty(parent);\n  var borderTopWidth = parseFloat(styles.borderTopWidth);\n  var borderLeftWidth = parseFloat(styles.borderLeftWidth);\n\n  // In cases where the parent is fixed, we must ignore negative scroll in offset calc\n  if (fixedPosition && isHTML) {\n    parentRect.top = Math.max(parentRect.top, 0);\n    parentRect.left = Math.max(parentRect.left, 0);\n  }\n  var offsets = getClientRect({\n    top: childrenRect.top - parentRect.top - borderTopWidth,\n    left: childrenRect.left - parentRect.left - borderLeftWidth,\n    width: childrenRect.width,\n    height: childrenRect.height\n  });\n  offsets.marginTop = 0;\n  offsets.marginLeft = 0;\n\n  // Subtract margins of documentElement in case it's being used as parent\n  // we do this only on HTML because it's the only element that behaves\n  // differently when margins are applied to it. The margins are included in\n  // the box of the documentElement, in the other cases not.\n  if (!isIE10 && isHTML) {\n    var marginTop = parseFloat(styles.marginTop);\n    var marginLeft = parseFloat(styles.marginLeft);\n\n    offsets.top -= borderTopWidth - marginTop;\n    offsets.bottom -= borderTopWidth - marginTop;\n    offsets.left -= borderLeftWidth - marginLeft;\n    offsets.right -= borderLeftWidth - marginLeft;\n\n    // Attach marginTop and marginLeft because in some circumstances we may need them\n    offsets.marginTop = marginTop;\n    offsets.marginLeft = marginLeft;\n  }\n\n  if (isIE10 && !fixedPosition ? parent.contains(scrollParent) : parent === scrollParent && scrollParent.nodeName !== 'BODY') {\n    offsets = includeScroll(offsets, parent);\n  }\n\n  return offsets;\n}\n\nfunction getViewportOffsetRectRelativeToArtbitraryNode(element) {\n  var excludeScroll = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var html = element.ownerDocument.documentElement;\n  var relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);\n  var width = Math.max(html.clientWidth, window.innerWidth || 0);\n  var height = Math.max(html.clientHeight, window.innerHeight || 0);\n\n  var scrollTop = !excludeScroll ? getScroll(html) : 0;\n  var scrollLeft = !excludeScroll ? getScroll(html, 'left') : 0;\n\n  var offset = {\n    top: scrollTop - relativeOffset.top + relativeOffset.marginTop,\n    left: scrollLeft - relativeOffset.left + relativeOffset.marginLeft,\n    width: width,\n    height: height\n  };\n\n  return getClientRect(offset);\n}\n\n/**\n * Check if the given element is fixed or is inside a fixed parent\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {Element} customContainer\n * @returns {Boolean} answer to \"isFixed?\"\n */\nfunction isFixed(element) {\n  var nodeName = element.nodeName;\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    return false;\n  }\n  if (getStyleComputedProperty(element, 'position') === 'fixed') {\n    return true;\n  }\n  var parentNode = getParentNode(element);\n  if (!parentNode) {\n    return false;\n  }\n  return isFixed(parentNode);\n}\n\n/**\n * Finds the first parent of an element that has a transformed property defined\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} first transformed parent or documentElement\n */\n\nfunction getFixedPositionOffsetParent(element) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element || !element.parentElement || isIE()) {\n    return document.documentElement;\n  }\n  var el = element.parentElement;\n  while (el && getStyleComputedProperty(el, 'transform') === 'none') {\n    el = el.parentElement;\n  }\n  return el || document.documentElement;\n}\n\n/**\n * Computed the boundaries limits and return them\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} popper\n * @param {HTMLElement} reference\n * @param {number} padding\n * @param {HTMLElement} boundariesElement - Element used to define the boundaries\n * @param {Boolean} fixedPosition - Is in fixed position mode\n * @returns {Object} Coordinates of the boundaries\n */\nfunction getBoundaries(popper, reference, padding, boundariesElement) {\n  var fixedPosition = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n  // NOTE: 1 DOM access here\n\n  var boundaries = { top: 0, left: 0 };\n  var offsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, getReferenceNode(reference));\n\n  // Handle viewport case\n  if (boundariesElement === 'viewport') {\n    boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent, fixedPosition);\n  } else {\n    // Handle other cases based on DOM element used as boundaries\n    var boundariesNode = void 0;\n    if (boundariesElement === 'scrollParent') {\n      boundariesNode = getScrollParent(getParentNode(reference));\n      if (boundariesNode.nodeName === 'BODY') {\n        boundariesNode = popper.ownerDocument.documentElement;\n      }\n    } else if (boundariesElement === 'window') {\n      boundariesNode = popper.ownerDocument.documentElement;\n    } else {\n      boundariesNode = boundariesElement;\n    }\n\n    var offsets = getOffsetRectRelativeToArbitraryNode(boundariesNode, offsetParent, fixedPosition);\n\n    // In case of HTML, we need a different computation\n    if (boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {\n      var _getWindowSizes = getWindowSizes(popper.ownerDocument),\n          height = _getWindowSizes.height,\n          width = _getWindowSizes.width;\n\n      boundaries.top += offsets.top - offsets.marginTop;\n      boundaries.bottom = height + offsets.top;\n      boundaries.left += offsets.left - offsets.marginLeft;\n      boundaries.right = width + offsets.left;\n    } else {\n      // for all the other DOM elements, this one is good\n      boundaries = offsets;\n    }\n  }\n\n  // Add paddings\n  padding = padding || 0;\n  var isPaddingNumber = typeof padding === 'number';\n  boundaries.left += isPaddingNumber ? padding : padding.left || 0;\n  boundaries.top += isPaddingNumber ? padding : padding.top || 0;\n  boundaries.right -= isPaddingNumber ? padding : padding.right || 0;\n  boundaries.bottom -= isPaddingNumber ? padding : padding.bottom || 0;\n\n  return boundaries;\n}\n\nfunction getArea(_ref) {\n  var width = _ref.width,\n      height = _ref.height;\n\n  return width * height;\n}\n\n/**\n * Utility used to transform the `auto` placement to the placement with more\n * available space.\n * @method\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction computeAutoPlacement(placement, refRect, popper, reference, boundariesElement) {\n  var padding = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n\n  if (placement.indexOf('auto') === -1) {\n    return placement;\n  }\n\n  var boundaries = getBoundaries(popper, reference, padding, boundariesElement);\n\n  var rects = {\n    top: {\n      width: boundaries.width,\n      height: refRect.top - boundaries.top\n    },\n    right: {\n      width: boundaries.right - refRect.right,\n      height: boundaries.height\n    },\n    bottom: {\n      width: boundaries.width,\n      height: boundaries.bottom - refRect.bottom\n    },\n    left: {\n      width: refRect.left - boundaries.left,\n      height: boundaries.height\n    }\n  };\n\n  var sortedAreas = Object.keys(rects).map(function (key) {\n    return _extends({\n      key: key\n    }, rects[key], {\n      area: getArea(rects[key])\n    });\n  }).sort(function (a, b) {\n    return b.area - a.area;\n  });\n\n  var filteredAreas = sortedAreas.filter(function (_ref2) {\n    var width = _ref2.width,\n        height = _ref2.height;\n    return width >= popper.clientWidth && height >= popper.clientHeight;\n  });\n\n  var computedPlacement = filteredAreas.length > 0 ? filteredAreas[0].key : sortedAreas[0].key;\n\n  var variation = placement.split('-')[1];\n\n  return computedPlacement + (variation ? '-' + variation : '');\n}\n\n/**\n * Get offsets to the reference element\n * @method\n * @memberof Popper.Utils\n * @param {Object} state\n * @param {Element} popper - the popper element\n * @param {Element} reference - the reference element (the popper will be relative to this)\n * @param {Element} fixedPosition - is in fixed position mode\n * @returns {Object} An object containing the offsets which will be applied to the popper\n */\nfunction getReferenceOffsets(state, popper, reference) {\n  var fixedPosition = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n  var commonOffsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, getReferenceNode(reference));\n  return getOffsetRectRelativeToArbitraryNode(reference, commonOffsetParent, fixedPosition);\n}\n\n/**\n * Get the outer sizes of the given element (offset size + margins)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Object} object containing width and height properties\n */\nfunction getOuterSizes(element) {\n  var window = element.ownerDocument.defaultView;\n  var styles = window.getComputedStyle(element);\n  var x = parseFloat(styles.marginTop || 0) + parseFloat(styles.marginBottom || 0);\n  var y = parseFloat(styles.marginLeft || 0) + parseFloat(styles.marginRight || 0);\n  var result = {\n    width: element.offsetWidth + y,\n    height: element.offsetHeight + x\n  };\n  return result;\n}\n\n/**\n * Get the opposite placement of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement\n * @returns {String} flipped placement\n */\nfunction getOppositePlacement(placement) {\n  var hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}\n\n/**\n * Get offsets to the popper\n * @method\n * @memberof Popper.Utils\n * @param {Object} position - CSS position the Popper will get applied\n * @param {HTMLElement} popper - the popper element\n * @param {Object} referenceOffsets - the reference offsets (the popper will be relative to this)\n * @param {String} placement - one of the valid placement options\n * @returns {Object} popperOffsets - An object containing the offsets which will be applied to the popper\n */\nfunction getPopperOffsets(popper, referenceOffsets, placement) {\n  placement = placement.split('-')[0];\n\n  // Get popper node sizes\n  var popperRect = getOuterSizes(popper);\n\n  // Add position, width and height to our offsets object\n  var popperOffsets = {\n    width: popperRect.width,\n    height: popperRect.height\n  };\n\n  // depending by the popper placement we have to compute its offsets slightly differently\n  var isHoriz = ['right', 'left'].indexOf(placement) !== -1;\n  var mainSide = isHoriz ? 'top' : 'left';\n  var secondarySide = isHoriz ? 'left' : 'top';\n  var measurement = isHoriz ? 'height' : 'width';\n  var secondaryMeasurement = !isHoriz ? 'height' : 'width';\n\n  popperOffsets[mainSide] = referenceOffsets[mainSide] + referenceOffsets[measurement] / 2 - popperRect[measurement] / 2;\n  if (placement === secondarySide) {\n    popperOffsets[secondarySide] = referenceOffsets[secondarySide] - popperRect[secondaryMeasurement];\n  } else {\n    popperOffsets[secondarySide] = referenceOffsets[getOppositePlacement(secondarySide)];\n  }\n\n  return popperOffsets;\n}\n\n/**\n * Mimics the `find` method of Array\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nfunction find(arr, check) {\n  // use native find if supported\n  if (Array.prototype.find) {\n    return arr.find(check);\n  }\n\n  // use `filter` to obtain the same behavior of `find`\n  return arr.filter(check)[0];\n}\n\n/**\n * Return the index of the matching object\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nfunction findIndex(arr, prop, value) {\n  // use native findIndex if supported\n  if (Array.prototype.findIndex) {\n    return arr.findIndex(function (cur) {\n      return cur[prop] === value;\n    });\n  }\n\n  // use `find` + `indexOf` if `findIndex` isn't supported\n  var match = find(arr, function (obj) {\n    return obj[prop] === value;\n  });\n  return arr.indexOf(match);\n}\n\n/**\n * Loop trough the list of modifiers and run them in order,\n * each of them will then edit the data object.\n * @method\n * @memberof Popper.Utils\n * @param {dataObject} data\n * @param {Array} modifiers\n * @param {String} ends - Optional modifier name used as stopper\n * @returns {dataObject}\n */\nfunction runModifiers(modifiers, data, ends) {\n  var modifiersToRun = ends === undefined ? modifiers : modifiers.slice(0, findIndex(modifiers, 'name', ends));\n\n  modifiersToRun.forEach(function (modifier) {\n    if (modifier['function']) {\n      // eslint-disable-line dot-notation\n      console.warn('`modifier.function` is deprecated, use `modifier.fn`!');\n    }\n    var fn = modifier['function'] || modifier.fn; // eslint-disable-line dot-notation\n    if (modifier.enabled && isFunction(fn)) {\n      // Add properties to offsets to make them a complete clientRect object\n      // we do this before each modifier to make sure the previous one doesn't\n      // mess with these values\n      data.offsets.popper = getClientRect(data.offsets.popper);\n      data.offsets.reference = getClientRect(data.offsets.reference);\n\n      data = fn(data, modifier);\n    }\n  });\n\n  return data;\n}\n\n/**\n * Updates the position of the popper, computing the new offsets and applying\n * the new style.<br />\n * Prefer `scheduleUpdate` over `update` because of performance reasons.\n * @method\n * @memberof Popper\n */\nfunction update() {\n  // if popper is destroyed, don't perform any further update\n  if (this.state.isDestroyed) {\n    return;\n  }\n\n  var data = {\n    instance: this,\n    styles: {},\n    arrowStyles: {},\n    attributes: {},\n    flipped: false,\n    offsets: {}\n  };\n\n  // compute reference element offsets\n  data.offsets.reference = getReferenceOffsets(this.state, this.popper, this.reference, this.options.positionFixed);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  data.placement = computeAutoPlacement(this.options.placement, data.offsets.reference, this.popper, this.reference, this.options.modifiers.flip.boundariesElement, this.options.modifiers.flip.padding);\n\n  // store the computed placement inside `originalPlacement`\n  data.originalPlacement = data.placement;\n\n  data.positionFixed = this.options.positionFixed;\n\n  // compute the popper offsets\n  data.offsets.popper = getPopperOffsets(this.popper, data.offsets.reference, data.placement);\n\n  data.offsets.popper.position = this.options.positionFixed ? 'fixed' : 'absolute';\n\n  // run the modifiers\n  data = runModifiers(this.modifiers, data);\n\n  // the first `update` will call `onCreate` callback\n  // the other ones will call `onUpdate` callback\n  if (!this.state.isCreated) {\n    this.state.isCreated = true;\n    this.options.onCreate(data);\n  } else {\n    this.options.onUpdate(data);\n  }\n}\n\n/**\n * Helper used to know if the given modifier is enabled.\n * @method\n * @memberof Popper.Utils\n * @returns {Boolean}\n */\nfunction isModifierEnabled(modifiers, modifierName) {\n  return modifiers.some(function (_ref) {\n    var name = _ref.name,\n        enabled = _ref.enabled;\n    return enabled && name === modifierName;\n  });\n}\n\n/**\n * Get the prefixed supported property name\n * @method\n * @memberof Popper.Utils\n * @argument {String} property (camelCase)\n * @returns {String} prefixed property (camelCase or PascalCase, depending on the vendor prefix)\n */\nfunction getSupportedPropertyName(property) {\n  var prefixes = [false, 'ms', 'Webkit', 'Moz', 'O'];\n  var upperProp = property.charAt(0).toUpperCase() + property.slice(1);\n\n  for (var i = 0; i < prefixes.length; i++) {\n    var prefix = prefixes[i];\n    var toCheck = prefix ? '' + prefix + upperProp : property;\n    if (typeof document.body.style[toCheck] !== 'undefined') {\n      return toCheck;\n    }\n  }\n  return null;\n}\n\n/**\n * Destroys the popper.\n * @method\n * @memberof Popper\n */\nfunction destroy() {\n  this.state.isDestroyed = true;\n\n  // touch DOM only if `applyStyle` modifier is enabled\n  if (isModifierEnabled(this.modifiers, 'applyStyle')) {\n    this.popper.removeAttribute('x-placement');\n    this.popper.style.position = '';\n    this.popper.style.top = '';\n    this.popper.style.left = '';\n    this.popper.style.right = '';\n    this.popper.style.bottom = '';\n    this.popper.style.willChange = '';\n    this.popper.style[getSupportedPropertyName('transform')] = '';\n  }\n\n  this.disableEventListeners();\n\n  // remove the popper if user explicitly asked for the deletion on destroy\n  // do not use `remove` because IE11 doesn't support it\n  if (this.options.removeOnDestroy) {\n    this.popper.parentNode.removeChild(this.popper);\n  }\n  return this;\n}\n\n/**\n * Get the window associated with the element\n * @argument {Element} element\n * @returns {Window}\n */\nfunction getWindow(element) {\n  var ownerDocument = element.ownerDocument;\n  return ownerDocument ? ownerDocument.defaultView : window;\n}\n\nfunction attachToScrollParents(scrollParent, event, callback, scrollParents) {\n  var isBody = scrollParent.nodeName === 'BODY';\n  var target = isBody ? scrollParent.ownerDocument.defaultView : scrollParent;\n  target.addEventListener(event, callback, { passive: true });\n\n  if (!isBody) {\n    attachToScrollParents(getScrollParent(target.parentNode), event, callback, scrollParents);\n  }\n  scrollParents.push(target);\n}\n\n/**\n * Setup needed event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nfunction setupEventListeners(reference, options, state, updateBound) {\n  // Resize event listener on window\n  state.updateBound = updateBound;\n  getWindow(reference).addEventListener('resize', state.updateBound, { passive: true });\n\n  // Scroll event listener on scroll parents\n  var scrollElement = getScrollParent(reference);\n  attachToScrollParents(scrollElement, 'scroll', state.updateBound, state.scrollParents);\n  state.scrollElement = scrollElement;\n  state.eventsEnabled = true;\n\n  return state;\n}\n\n/**\n * It will add resize/scroll events and start recalculating\n * position of the popper element when they are triggered.\n * @method\n * @memberof Popper\n */\nfunction enableEventListeners() {\n  if (!this.state.eventsEnabled) {\n    this.state = setupEventListeners(this.reference, this.options, this.state, this.scheduleUpdate);\n  }\n}\n\n/**\n * Remove event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nfunction removeEventListeners(reference, state) {\n  // Remove resize event listener on window\n  getWindow(reference).removeEventListener('resize', state.updateBound);\n\n  // Remove scroll event listener on scroll parents\n  state.scrollParents.forEach(function (target) {\n    target.removeEventListener('scroll', state.updateBound);\n  });\n\n  // Reset state\n  state.updateBound = null;\n  state.scrollParents = [];\n  state.scrollElement = null;\n  state.eventsEnabled = false;\n  return state;\n}\n\n/**\n * It will remove resize/scroll events and won't recalculate popper position\n * when they are triggered. It also won't trigger `onUpdate` callback anymore,\n * unless you call `update` method manually.\n * @method\n * @memberof Popper\n */\nfunction disableEventListeners() {\n  if (this.state.eventsEnabled) {\n    cancelAnimationFrame(this.scheduleUpdate);\n    this.state = removeEventListeners(this.reference, this.state);\n  }\n}\n\n/**\n * Tells if a given input is a number\n * @method\n * @memberof Popper.Utils\n * @param {*} input to check\n * @return {Boolean}\n */\nfunction isNumeric(n) {\n  return n !== '' && !isNaN(parseFloat(n)) && isFinite(n);\n}\n\n/**\n * Set the style to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the style to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nfunction setStyles(element, styles) {\n  Object.keys(styles).forEach(function (prop) {\n    var unit = '';\n    // add unit if the value is numeric and is one of the following\n    if (['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !== -1 && isNumeric(styles[prop])) {\n      unit = 'px';\n    }\n    element.style[prop] = styles[prop] + unit;\n  });\n}\n\n/**\n * Set the attributes to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the attributes to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nfunction setAttributes(element, attributes) {\n  Object.keys(attributes).forEach(function (prop) {\n    var value = attributes[prop];\n    if (value !== false) {\n      element.setAttribute(prop, attributes[prop]);\n    } else {\n      element.removeAttribute(prop);\n    }\n  });\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} data.styles - List of style properties - values to apply to popper element\n * @argument {Object} data.attributes - List of attribute properties - values to apply to popper element\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The same data object\n */\nfunction applyStyle(data) {\n  // any property present in `data.styles` will be applied to the popper,\n  // in this way we can make the 3rd party modifiers add custom styles to it\n  // Be aware, modifiers could override the properties defined in the previous\n  // lines of this modifier!\n  setStyles(data.instance.popper, data.styles);\n\n  // any property present in `data.attributes` will be applied to the popper,\n  // they will be set as HTML attributes of the element\n  setAttributes(data.instance.popper, data.attributes);\n\n  // if arrowElement is defined and arrowStyles has some properties\n  if (data.arrowElement && Object.keys(data.arrowStyles).length) {\n    setStyles(data.arrowElement, data.arrowStyles);\n  }\n\n  return data;\n}\n\n/**\n * Set the x-placement attribute before everything else because it could be used\n * to add margins to the popper margins needs to be calculated to get the\n * correct popper offsets.\n * @method\n * @memberof Popper.modifiers\n * @param {HTMLElement} reference - The reference element used to position the popper\n * @param {HTMLElement} popper - The HTML element used as popper\n * @param {Object} options - Popper.js options\n */\nfunction applyStyleOnLoad(reference, popper, options, modifierOptions, state) {\n  // compute reference element offsets\n  var referenceOffsets = getReferenceOffsets(state, popper, reference, options.positionFixed);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  var placement = computeAutoPlacement(options.placement, referenceOffsets, popper, reference, options.modifiers.flip.boundariesElement, options.modifiers.flip.padding);\n\n  popper.setAttribute('x-placement', placement);\n\n  // Apply `position` to popper before anything else because\n  // without the position applied we can't guarantee correct computations\n  setStyles(popper, { position: options.positionFixed ? 'fixed' : 'absolute' });\n\n  return options;\n}\n\n/**\n * @function\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Boolean} shouldRound - If the offsets should be rounded at all\n * @returns {Object} The popper's position offsets rounded\n *\n * The tale of pixel-perfect positioning. It's still not 100% perfect, but as\n * good as it can be within reason.\n * Discussion here: https://github.com/FezVrasta/popper.js/pull/715\n *\n * Low DPI screens cause a popper to be blurry if not using full pixels (Safari\n * as well on High DPI screens).\n *\n * Firefox prefers no rounding for positioning and does not have blurriness on\n * high DPI screens.\n *\n * Only horizontal placement and left/right values need to be considered.\n */\nfunction getRoundedOffsets(data, shouldRound) {\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n  var round = Math.round,\n      floor = Math.floor;\n\n  var noRound = function noRound(v) {\n    return v;\n  };\n\n  var referenceWidth = round(reference.width);\n  var popperWidth = round(popper.width);\n\n  var isVertical = ['left', 'right'].indexOf(data.placement) !== -1;\n  var isVariation = data.placement.indexOf('-') !== -1;\n  var sameWidthParity = referenceWidth % 2 === popperWidth % 2;\n  var bothOddWidth = referenceWidth % 2 === 1 && popperWidth % 2 === 1;\n\n  var horizontalToInteger = !shouldRound ? noRound : isVertical || isVariation || sameWidthParity ? round : floor;\n  var verticalToInteger = !shouldRound ? noRound : round;\n\n  return {\n    left: horizontalToInteger(bothOddWidth && !isVariation && shouldRound ? popper.left - 1 : popper.left),\n    top: verticalToInteger(popper.top),\n    bottom: verticalToInteger(popper.bottom),\n    right: horizontalToInteger(popper.right)\n  };\n}\n\nvar isFirefox = isBrowser && /Firefox/i.test(navigator.userAgent);\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction computeStyle(data, options) {\n  var x = options.x,\n      y = options.y;\n  var popper = data.offsets.popper;\n\n  // Remove this legacy support in Popper.js v2\n\n  var legacyGpuAccelerationOption = find(data.instance.modifiers, function (modifier) {\n    return modifier.name === 'applyStyle';\n  }).gpuAcceleration;\n  if (legacyGpuAccelerationOption !== undefined) {\n    console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');\n  }\n  var gpuAcceleration = legacyGpuAccelerationOption !== undefined ? legacyGpuAccelerationOption : options.gpuAcceleration;\n\n  var offsetParent = getOffsetParent(data.instance.popper);\n  var offsetParentRect = getBoundingClientRect(offsetParent);\n\n  // Styles\n  var styles = {\n    position: popper.position\n  };\n\n  var offsets = getRoundedOffsets(data, window.devicePixelRatio < 2 || !isFirefox);\n\n  var sideA = x === 'bottom' ? 'top' : 'bottom';\n  var sideB = y === 'right' ? 'left' : 'right';\n\n  // if gpuAcceleration is set to `true` and transform is supported,\n  //  we use `translate3d` to apply the position to the popper we\n  // automatically use the supported prefixed version if needed\n  var prefixedProperty = getSupportedPropertyName('transform');\n\n  // now, let's make a step back and look at this code closely (wtf?)\n  // If the content of the popper grows once it's been positioned, it\n  // may happen that the popper gets misplaced because of the new content\n  // overflowing its reference element\n  // To avoid this problem, we provide two options (x and y), which allow\n  // the consumer to define the offset origin.\n  // If we position a popper on top of a reference element, we can set\n  // `x` to `top` to make the popper grow towards its top instead of\n  // its bottom.\n  var left = void 0,\n      top = void 0;\n  if (sideA === 'bottom') {\n    // when offsetParent is <html> the positioning is relative to the bottom of the screen (excluding the scrollbar)\n    // and not the bottom of the html element\n    if (offsetParent.nodeName === 'HTML') {\n      top = -offsetParent.clientHeight + offsets.bottom;\n    } else {\n      top = -offsetParentRect.height + offsets.bottom;\n    }\n  } else {\n    top = offsets.top;\n  }\n  if (sideB === 'right') {\n    if (offsetParent.nodeName === 'HTML') {\n      left = -offsetParent.clientWidth + offsets.right;\n    } else {\n      left = -offsetParentRect.width + offsets.right;\n    }\n  } else {\n    left = offsets.left;\n  }\n  if (gpuAcceleration && prefixedProperty) {\n    styles[prefixedProperty] = 'translate3d(' + left + 'px, ' + top + 'px, 0)';\n    styles[sideA] = 0;\n    styles[sideB] = 0;\n    styles.willChange = 'transform';\n  } else {\n    // othwerise, we use the standard `top`, `left`, `bottom` and `right` properties\n    var invertTop = sideA === 'bottom' ? -1 : 1;\n    var invertLeft = sideB === 'right' ? -1 : 1;\n    styles[sideA] = top * invertTop;\n    styles[sideB] = left * invertLeft;\n    styles.willChange = sideA + ', ' + sideB;\n  }\n\n  // Attributes\n  var attributes = {\n    'x-placement': data.placement\n  };\n\n  // Update `data` attributes, styles and arrowStyles\n  data.attributes = _extends({}, attributes, data.attributes);\n  data.styles = _extends({}, styles, data.styles);\n  data.arrowStyles = _extends({}, data.offsets.arrow, data.arrowStyles);\n\n  return data;\n}\n\n/**\n * Helper used to know if the given modifier depends from another one.<br />\n * It checks if the needed modifier is listed and enabled.\n * @method\n * @memberof Popper.Utils\n * @param {Array} modifiers - list of modifiers\n * @param {String} requestingName - name of requesting modifier\n * @param {String} requestedName - name of requested modifier\n * @returns {Boolean}\n */\nfunction isModifierRequired(modifiers, requestingName, requestedName) {\n  var requesting = find(modifiers, function (_ref) {\n    var name = _ref.name;\n    return name === requestingName;\n  });\n\n  var isRequired = !!requesting && modifiers.some(function (modifier) {\n    return modifier.name === requestedName && modifier.enabled && modifier.order < requesting.order;\n  });\n\n  if (!isRequired) {\n    var _requesting = '`' + requestingName + '`';\n    var requested = '`' + requestedName + '`';\n    console.warn(requested + ' modifier is required by ' + _requesting + ' modifier in order to work, be sure to include it before ' + _requesting + '!');\n  }\n  return isRequired;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction arrow(data, options) {\n  var _data$offsets$arrow;\n\n  // arrow depends on keepTogether in order to work\n  if (!isModifierRequired(data.instance.modifiers, 'arrow', 'keepTogether')) {\n    return data;\n  }\n\n  var arrowElement = options.element;\n\n  // if arrowElement is a string, suppose it's a CSS selector\n  if (typeof arrowElement === 'string') {\n    arrowElement = data.instance.popper.querySelector(arrowElement);\n\n    // if arrowElement is not found, don't run the modifier\n    if (!arrowElement) {\n      return data;\n    }\n  } else {\n    // if the arrowElement isn't a query selector we must check that the\n    // provided DOM node is child of its popper node\n    if (!data.instance.popper.contains(arrowElement)) {\n      console.warn('WARNING: `arrow.element` must be child of its popper element!');\n      return data;\n    }\n  }\n\n  var placement = data.placement.split('-')[0];\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var isVertical = ['left', 'right'].indexOf(placement) !== -1;\n\n  var len = isVertical ? 'height' : 'width';\n  var sideCapitalized = isVertical ? 'Top' : 'Left';\n  var side = sideCapitalized.toLowerCase();\n  var altSide = isVertical ? 'left' : 'top';\n  var opSide = isVertical ? 'bottom' : 'right';\n  var arrowElementSize = getOuterSizes(arrowElement)[len];\n\n  //\n  // extends keepTogether behavior making sure the popper and its\n  // reference have enough pixels in conjunction\n  //\n\n  // top/left side\n  if (reference[opSide] - arrowElementSize < popper[side]) {\n    data.offsets.popper[side] -= popper[side] - (reference[opSide] - arrowElementSize);\n  }\n  // bottom/right side\n  if (reference[side] + arrowElementSize > popper[opSide]) {\n    data.offsets.popper[side] += reference[side] + arrowElementSize - popper[opSide];\n  }\n  data.offsets.popper = getClientRect(data.offsets.popper);\n\n  // compute center of the popper\n  var center = reference[side] + reference[len] / 2 - arrowElementSize / 2;\n\n  // Compute the sideValue using the updated popper offsets\n  // take popper margin in account because we don't have this info available\n  var css = getStyleComputedProperty(data.instance.popper);\n  var popperMarginSide = parseFloat(css['margin' + sideCapitalized]);\n  var popperBorderSide = parseFloat(css['border' + sideCapitalized + 'Width']);\n  var sideValue = center - data.offsets.popper[side] - popperMarginSide - popperBorderSide;\n\n  // prevent arrowElement from being placed not contiguously to its popper\n  sideValue = Math.max(Math.min(popper[len] - arrowElementSize, sideValue), 0);\n\n  data.arrowElement = arrowElement;\n  data.offsets.arrow = (_data$offsets$arrow = {}, defineProperty(_data$offsets$arrow, side, Math.round(sideValue)), defineProperty(_data$offsets$arrow, altSide, ''), _data$offsets$arrow);\n\n  return data;\n}\n\n/**\n * Get the opposite placement variation of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement variation\n * @returns {String} flipped placement variation\n */\nfunction getOppositeVariation(variation) {\n  if (variation === 'end') {\n    return 'start';\n  } else if (variation === 'start') {\n    return 'end';\n  }\n  return variation;\n}\n\n/**\n * List of accepted placements to use as values of the `placement` option.<br />\n * Valid placements are:\n * - `auto`\n * - `top`\n * - `right`\n * - `bottom`\n * - `left`\n *\n * Each placement can have a variation from this list:\n * - `-start`\n * - `-end`\n *\n * Variations are interpreted easily if you think of them as the left to right\n * written languages. Horizontally (`top` and `bottom`), `start` is left and `end`\n * is right.<br />\n * Vertically (`left` and `right`), `start` is top and `end` is bottom.\n *\n * Some valid examples are:\n * - `top-end` (on top of reference, right aligned)\n * - `right-start` (on right of reference, top aligned)\n * - `bottom` (on bottom, centered)\n * - `auto-end` (on the side with more space available, alignment depends by placement)\n *\n * @static\n * @type {Array}\n * @enum {String}\n * @readonly\n * @method placements\n * @memberof Popper\n */\nvar placements = ['auto-start', 'auto', 'auto-end', 'top-start', 'top', 'top-end', 'right-start', 'right', 'right-end', 'bottom-end', 'bottom', 'bottom-start', 'left-end', 'left', 'left-start'];\n\n// Get rid of `auto` `auto-start` and `auto-end`\nvar validPlacements = placements.slice(3);\n\n/**\n * Given an initial placement, returns all the subsequent placements\n * clockwise (or counter-clockwise).\n *\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement - A valid placement (it accepts variations)\n * @argument {Boolean} counter - Set to true to walk the placements counterclockwise\n * @returns {Array} placements including their variations\n */\nfunction clockwise(placement) {\n  var counter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var index = validPlacements.indexOf(placement);\n  var arr = validPlacements.slice(index + 1).concat(validPlacements.slice(0, index));\n  return counter ? arr.reverse() : arr;\n}\n\nvar BEHAVIORS = {\n  FLIP: 'flip',\n  CLOCKWISE: 'clockwise',\n  COUNTERCLOCKWISE: 'counterclockwise'\n};\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction flip(data, options) {\n  // if `inner` modifier is enabled, we can't use the `flip` modifier\n  if (isModifierEnabled(data.instance.modifiers, 'inner')) {\n    return data;\n  }\n\n  if (data.flipped && data.placement === data.originalPlacement) {\n    // seems like flip is trying to loop, probably there's not enough space on any of the flippable sides\n    return data;\n  }\n\n  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, options.boundariesElement, data.positionFixed);\n\n  var placement = data.placement.split('-')[0];\n  var placementOpposite = getOppositePlacement(placement);\n  var variation = data.placement.split('-')[1] || '';\n\n  var flipOrder = [];\n\n  switch (options.behavior) {\n    case BEHAVIORS.FLIP:\n      flipOrder = [placement, placementOpposite];\n      break;\n    case BEHAVIORS.CLOCKWISE:\n      flipOrder = clockwise(placement);\n      break;\n    case BEHAVIORS.COUNTERCLOCKWISE:\n      flipOrder = clockwise(placement, true);\n      break;\n    default:\n      flipOrder = options.behavior;\n  }\n\n  flipOrder.forEach(function (step, index) {\n    if (placement !== step || flipOrder.length === index + 1) {\n      return data;\n    }\n\n    placement = data.placement.split('-')[0];\n    placementOpposite = getOppositePlacement(placement);\n\n    var popperOffsets = data.offsets.popper;\n    var refOffsets = data.offsets.reference;\n\n    // using floor because the reference offsets may contain decimals we are not going to consider here\n    var floor = Math.floor;\n    var overlapsRef = placement === 'left' && floor(popperOffsets.right) > floor(refOffsets.left) || placement === 'right' && floor(popperOffsets.left) < floor(refOffsets.right) || placement === 'top' && floor(popperOffsets.bottom) > floor(refOffsets.top) || placement === 'bottom' && floor(popperOffsets.top) < floor(refOffsets.bottom);\n\n    var overflowsLeft = floor(popperOffsets.left) < floor(boundaries.left);\n    var overflowsRight = floor(popperOffsets.right) > floor(boundaries.right);\n    var overflowsTop = floor(popperOffsets.top) < floor(boundaries.top);\n    var overflowsBottom = floor(popperOffsets.bottom) > floor(boundaries.bottom);\n\n    var overflowsBoundaries = placement === 'left' && overflowsLeft || placement === 'right' && overflowsRight || placement === 'top' && overflowsTop || placement === 'bottom' && overflowsBottom;\n\n    // flip the variation if required\n    var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n\n    // flips variation if reference element overflows boundaries\n    var flippedVariationByRef = !!options.flipVariations && (isVertical && variation === 'start' && overflowsLeft || isVertical && variation === 'end' && overflowsRight || !isVertical && variation === 'start' && overflowsTop || !isVertical && variation === 'end' && overflowsBottom);\n\n    // flips variation if popper content overflows boundaries\n    var flippedVariationByContent = !!options.flipVariationsByContent && (isVertical && variation === 'start' && overflowsRight || isVertical && variation === 'end' && overflowsLeft || !isVertical && variation === 'start' && overflowsBottom || !isVertical && variation === 'end' && overflowsTop);\n\n    var flippedVariation = flippedVariationByRef || flippedVariationByContent;\n\n    if (overlapsRef || overflowsBoundaries || flippedVariation) {\n      // this boolean to detect any flip loop\n      data.flipped = true;\n\n      if (overlapsRef || overflowsBoundaries) {\n        placement = flipOrder[index + 1];\n      }\n\n      if (flippedVariation) {\n        variation = getOppositeVariation(variation);\n      }\n\n      data.placement = placement + (variation ? '-' + variation : '');\n\n      // this object contains `position`, we want to preserve it along with\n      // any additional property we may add in the future\n      data.offsets.popper = _extends({}, data.offsets.popper, getPopperOffsets(data.instance.popper, data.offsets.reference, data.placement));\n\n      data = runModifiers(data.instance.modifiers, data, 'flip');\n    }\n  });\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction keepTogether(data) {\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var placement = data.placement.split('-')[0];\n  var floor = Math.floor;\n  var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n  var side = isVertical ? 'right' : 'bottom';\n  var opSide = isVertical ? 'left' : 'top';\n  var measurement = isVertical ? 'width' : 'height';\n\n  if (popper[side] < floor(reference[opSide])) {\n    data.offsets.popper[opSide] = floor(reference[opSide]) - popper[measurement];\n  }\n  if (popper[opSide] > floor(reference[side])) {\n    data.offsets.popper[opSide] = floor(reference[side]);\n  }\n\n  return data;\n}\n\n/**\n * Converts a string containing value + unit into a px value number\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} str - Value + unit string\n * @argument {String} measurement - `height` or `width`\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @returns {Number|String}\n * Value in pixels, or original string if no values were extracted\n */\nfunction toValue(str, measurement, popperOffsets, referenceOffsets) {\n  // separate value from unit\n  var split = str.match(/((?:\\-|\\+)?\\d*\\.?\\d*)(.*)/);\n  var value = +split[1];\n  var unit = split[2];\n\n  // If it's not a number it's an operator, I guess\n  if (!value) {\n    return str;\n  }\n\n  if (unit.indexOf('%') === 0) {\n    var element = void 0;\n    switch (unit) {\n      case '%p':\n        element = popperOffsets;\n        break;\n      case '%':\n      case '%r':\n      default:\n        element = referenceOffsets;\n    }\n\n    var rect = getClientRect(element);\n    return rect[measurement] / 100 * value;\n  } else if (unit === 'vh' || unit === 'vw') {\n    // if is a vh or vw, we calculate the size based on the viewport\n    var size = void 0;\n    if (unit === 'vh') {\n      size = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n    } else {\n      size = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n    }\n    return size / 100 * value;\n  } else {\n    // if is an explicit pixel unit, we get rid of the unit and keep the value\n    // if is an implicit unit, it's px, and we return just the value\n    return value;\n  }\n}\n\n/**\n * Parse an `offset` string to extrapolate `x` and `y` numeric offsets.\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} offset\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @argument {String} basePlacement\n * @returns {Array} a two cells array with x and y offsets in numbers\n */\nfunction parseOffset(offset, popperOffsets, referenceOffsets, basePlacement) {\n  var offsets = [0, 0];\n\n  // Use height if placement is left or right and index is 0 otherwise use width\n  // in this way the first offset will use an axis and the second one\n  // will use the other one\n  var useHeight = ['right', 'left'].indexOf(basePlacement) !== -1;\n\n  // Split the offset string to obtain a list of values and operands\n  // The regex addresses values with the plus or minus sign in front (+10, -20, etc)\n  var fragments = offset.split(/(\\+|\\-)/).map(function (frag) {\n    return frag.trim();\n  });\n\n  // Detect if the offset string contains a pair of values or a single one\n  // they could be separated by comma or space\n  var divider = fragments.indexOf(find(fragments, function (frag) {\n    return frag.search(/,|\\s/) !== -1;\n  }));\n\n  if (fragments[divider] && fragments[divider].indexOf(',') === -1) {\n    console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');\n  }\n\n  // If divider is found, we divide the list of values and operands to divide\n  // them by ofset X and Y.\n  var splitRegex = /\\s*,\\s*|\\s+/;\n  var ops = divider !== -1 ? [fragments.slice(0, divider).concat([fragments[divider].split(splitRegex)[0]]), [fragments[divider].split(splitRegex)[1]].concat(fragments.slice(divider + 1))] : [fragments];\n\n  // Convert the values with units to absolute pixels to allow our computations\n  ops = ops.map(function (op, index) {\n    // Most of the units rely on the orientation of the popper\n    var measurement = (index === 1 ? !useHeight : useHeight) ? 'height' : 'width';\n    var mergeWithPrevious = false;\n    return op\n    // This aggregates any `+` or `-` sign that aren't considered operators\n    // e.g.: 10 + +5 => [10, +, +5]\n    .reduce(function (a, b) {\n      if (a[a.length - 1] === '' && ['+', '-'].indexOf(b) !== -1) {\n        a[a.length - 1] = b;\n        mergeWithPrevious = true;\n        return a;\n      } else if (mergeWithPrevious) {\n        a[a.length - 1] += b;\n        mergeWithPrevious = false;\n        return a;\n      } else {\n        return a.concat(b);\n      }\n    }, [])\n    // Here we convert the string values into number values (in px)\n    .map(function (str) {\n      return toValue(str, measurement, popperOffsets, referenceOffsets);\n    });\n  });\n\n  // Loop trough the offsets arrays and execute the operations\n  ops.forEach(function (op, index) {\n    op.forEach(function (frag, index2) {\n      if (isNumeric(frag)) {\n        offsets[index] += frag * (op[index2 - 1] === '-' ? -1 : 1);\n      }\n    });\n  });\n  return offsets;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @argument {Number|String} options.offset=0\n * The offset value as described in the modifier description\n * @returns {Object} The data object, properly modified\n */\nfunction offset(data, _ref) {\n  var offset = _ref.offset;\n  var placement = data.placement,\n      _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var basePlacement = placement.split('-')[0];\n\n  var offsets = void 0;\n  if (isNumeric(+offset)) {\n    offsets = [+offset, 0];\n  } else {\n    offsets = parseOffset(offset, popper, reference, basePlacement);\n  }\n\n  if (basePlacement === 'left') {\n    popper.top += offsets[0];\n    popper.left -= offsets[1];\n  } else if (basePlacement === 'right') {\n    popper.top += offsets[0];\n    popper.left += offsets[1];\n  } else if (basePlacement === 'top') {\n    popper.left += offsets[0];\n    popper.top -= offsets[1];\n  } else if (basePlacement === 'bottom') {\n    popper.left += offsets[0];\n    popper.top += offsets[1];\n  }\n\n  data.popper = popper;\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction preventOverflow(data, options) {\n  var boundariesElement = options.boundariesElement || getOffsetParent(data.instance.popper);\n\n  // If offsetParent is the reference element, we really want to\n  // go one step up and use the next offsetParent as reference to\n  // avoid to make this modifier completely useless and look like broken\n  if (data.instance.reference === boundariesElement) {\n    boundariesElement = getOffsetParent(boundariesElement);\n  }\n\n  // NOTE: DOM access here\n  // resets the popper's position so that the document size can be calculated excluding\n  // the size of the popper element itself\n  var transformProp = getSupportedPropertyName('transform');\n  var popperStyles = data.instance.popper.style; // assignment to help minification\n  var top = popperStyles.top,\n      left = popperStyles.left,\n      transform = popperStyles[transformProp];\n\n  popperStyles.top = '';\n  popperStyles.left = '';\n  popperStyles[transformProp] = '';\n\n  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, boundariesElement, data.positionFixed);\n\n  // NOTE: DOM access here\n  // restores the original style properties after the offsets have been computed\n  popperStyles.top = top;\n  popperStyles.left = left;\n  popperStyles[transformProp] = transform;\n\n  options.boundaries = boundaries;\n\n  var order = options.priority;\n  var popper = data.offsets.popper;\n\n  var check = {\n    primary: function primary(placement) {\n      var value = popper[placement];\n      if (popper[placement] < boundaries[placement] && !options.escapeWithReference) {\n        value = Math.max(popper[placement], boundaries[placement]);\n      }\n      return defineProperty({}, placement, value);\n    },\n    secondary: function secondary(placement) {\n      var mainSide = placement === 'right' ? 'left' : 'top';\n      var value = popper[mainSide];\n      if (popper[placement] > boundaries[placement] && !options.escapeWithReference) {\n        value = Math.min(popper[mainSide], boundaries[placement] - (placement === 'right' ? popper.width : popper.height));\n      }\n      return defineProperty({}, mainSide, value);\n    }\n  };\n\n  order.forEach(function (placement) {\n    var side = ['left', 'top'].indexOf(placement) !== -1 ? 'primary' : 'secondary';\n    popper = _extends({}, popper, check[side](placement));\n  });\n\n  data.offsets.popper = popper;\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction shift(data) {\n  var placement = data.placement;\n  var basePlacement = placement.split('-')[0];\n  var shiftvariation = placement.split('-')[1];\n\n  // if shift shiftvariation is specified, run the modifier\n  if (shiftvariation) {\n    var _data$offsets = data.offsets,\n        reference = _data$offsets.reference,\n        popper = _data$offsets.popper;\n\n    var isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;\n    var side = isVertical ? 'left' : 'top';\n    var measurement = isVertical ? 'width' : 'height';\n\n    var shiftOffsets = {\n      start: defineProperty({}, side, reference[side]),\n      end: defineProperty({}, side, reference[side] + reference[measurement] - popper[measurement])\n    };\n\n    data.offsets.popper = _extends({}, popper, shiftOffsets[shiftvariation]);\n  }\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction hide(data) {\n  if (!isModifierRequired(data.instance.modifiers, 'hide', 'preventOverflow')) {\n    return data;\n  }\n\n  var refRect = data.offsets.reference;\n  var bound = find(data.instance.modifiers, function (modifier) {\n    return modifier.name === 'preventOverflow';\n  }).boundaries;\n\n  if (refRect.bottom < bound.top || refRect.left > bound.right || refRect.top > bound.bottom || refRect.right < bound.left) {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === true) {\n      return data;\n    }\n\n    data.hide = true;\n    data.attributes['x-out-of-boundaries'] = '';\n  } else {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === false) {\n      return data;\n    }\n\n    data.hide = false;\n    data.attributes['x-out-of-boundaries'] = false;\n  }\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction inner(data) {\n  var placement = data.placement;\n  var basePlacement = placement.split('-')[0];\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var isHoriz = ['left', 'right'].indexOf(basePlacement) !== -1;\n\n  var subtractLength = ['top', 'left'].indexOf(basePlacement) === -1;\n\n  popper[isHoriz ? 'left' : 'top'] = reference[basePlacement] - (subtractLength ? popper[isHoriz ? 'width' : 'height'] : 0);\n\n  data.placement = getOppositePlacement(placement);\n  data.offsets.popper = getClientRect(popper);\n\n  return data;\n}\n\n/**\n * Modifier function, each modifier can have a function of this type assigned\n * to its `fn` property.<br />\n * These functions will be called on each update, this means that you must\n * make sure they are performant enough to avoid performance bottlenecks.\n *\n * @function ModifierFn\n * @argument {dataObject} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {dataObject} The data object, properly modified\n */\n\n/**\n * Modifiers are plugins used to alter the behavior of your poppers.<br />\n * Popper.js uses a set of 9 modifiers to provide all the basic functionalities\n * needed by the library.\n *\n * Usually you don't want to override the `order`, `fn` and `onLoad` props.\n * All the other properties are configurations that could be tweaked.\n * @namespace modifiers\n */\nvar modifiers = {\n  /**\n   * Modifier used to shift the popper on the start or end of its reference\n   * element.<br />\n   * It will read the variation of the `placement` property.<br />\n   * It can be one either `-end` or `-start`.\n   * @memberof modifiers\n   * @inner\n   */\n  shift: {\n    /** @prop {number} order=100 - Index used to define the order of execution */\n    order: 100,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: shift\n  },\n\n  /**\n   * The `offset` modifier can shift your popper on both its axis.\n   *\n   * It accepts the following units:\n   * - `px` or unit-less, interpreted as pixels\n   * - `%` or `%r`, percentage relative to the length of the reference element\n   * - `%p`, percentage relative to the length of the popper element\n   * - `vw`, CSS viewport width unit\n   * - `vh`, CSS viewport height unit\n   *\n   * For length is intended the main axis relative to the placement of the popper.<br />\n   * This means that if the placement is `top` or `bottom`, the length will be the\n   * `width`. In case of `left` or `right`, it will be the `height`.\n   *\n   * You can provide a single value (as `Number` or `String`), or a pair of values\n   * as `String` divided by a comma or one (or more) white spaces.<br />\n   * The latter is a deprecated method because it leads to confusion and will be\n   * removed in v2.<br />\n   * Additionally, it accepts additions and subtractions between different units.\n   * Note that multiplications and divisions aren't supported.\n   *\n   * Valid examples are:\n   * ```\n   * 10\n   * '10%'\n   * '10, 10'\n   * '10%, 10'\n   * '10 + 10%'\n   * '10 - 5vh + 3%'\n   * '-10px + 5vh, 5px - 6%'\n   * ```\n   * > **NB**: If you desire to apply offsets to your poppers in a way that may make them overlap\n   * > with their reference element, unfortunately, you will have to disable the `flip` modifier.\n   * > You can read more on this at this [issue](https://github.com/FezVrasta/popper.js/issues/373).\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  offset: {\n    /** @prop {number} order=200 - Index used to define the order of execution */\n    order: 200,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: offset,\n    /** @prop {Number|String} offset=0\n     * The offset value as described in the modifier description\n     */\n    offset: 0\n  },\n\n  /**\n   * Modifier used to prevent the popper from being positioned outside the boundary.\n   *\n   * A scenario exists where the reference itself is not within the boundaries.<br />\n   * We can say it has \"escaped the boundaries\" — or just \"escaped\".<br />\n   * In this case we need to decide whether the popper should either:\n   *\n   * - detach from the reference and remain \"trapped\" in the boundaries, or\n   * - if it should ignore the boundary and \"escape with its reference\"\n   *\n   * When `escapeWithReference` is set to`true` and reference is completely\n   * outside its boundaries, the popper will overflow (or completely leave)\n   * the boundaries in order to remain attached to the edge of the reference.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  preventOverflow: {\n    /** @prop {number} order=300 - Index used to define the order of execution */\n    order: 300,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: preventOverflow,\n    /**\n     * @prop {Array} [priority=['left','right','top','bottom']]\n     * Popper will try to prevent overflow following these priorities by default,\n     * then, it could overflow on the left and on top of the `boundariesElement`\n     */\n    priority: ['left', 'right', 'top', 'bottom'],\n    /**\n     * @prop {number} padding=5\n     * Amount of pixel used to define a minimum distance between the boundaries\n     * and the popper. This makes sure the popper always has a little padding\n     * between the edges of its container\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='scrollParent'\n     * Boundaries used by the modifier. Can be `scrollParent`, `window`,\n     * `viewport` or any DOM element.\n     */\n    boundariesElement: 'scrollParent'\n  },\n\n  /**\n   * Modifier used to make sure the reference and its popper stay near each other\n   * without leaving any gap between the two. Especially useful when the arrow is\n   * enabled and you want to ensure that it points to its reference element.\n   * It cares only about the first axis. You can still have poppers with margin\n   * between the popper and its reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  keepTogether: {\n    /** @prop {number} order=400 - Index used to define the order of execution */\n    order: 400,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: keepTogether\n  },\n\n  /**\n   * This modifier is used to move the `arrowElement` of the popper to make\n   * sure it is positioned between the reference element and its popper element.\n   * It will read the outer size of the `arrowElement` node to detect how many\n   * pixels of conjunction are needed.\n   *\n   * It has no effect if no `arrowElement` is provided.\n   * @memberof modifiers\n   * @inner\n   */\n  arrow: {\n    /** @prop {number} order=500 - Index used to define the order of execution */\n    order: 500,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: arrow,\n    /** @prop {String|HTMLElement} element='[x-arrow]' - Selector or node used as arrow */\n    element: '[x-arrow]'\n  },\n\n  /**\n   * Modifier used to flip the popper's placement when it starts to overlap its\n   * reference element.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   *\n   * **NOTE:** this modifier will interrupt the current update cycle and will\n   * restart it if it detects the need to flip the placement.\n   * @memberof modifiers\n   * @inner\n   */\n  flip: {\n    /** @prop {number} order=600 - Index used to define the order of execution */\n    order: 600,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: flip,\n    /**\n     * @prop {String|Array} behavior='flip'\n     * The behavior used to change the popper's placement. It can be one of\n     * `flip`, `clockwise`, `counterclockwise` or an array with a list of valid\n     * placements (with optional variations)\n     */\n    behavior: 'flip',\n    /**\n     * @prop {number} padding=5\n     * The popper will flip if it hits the edges of the `boundariesElement`\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='viewport'\n     * The element which will define the boundaries of the popper position.\n     * The popper will never be placed outside of the defined boundaries\n     * (except if `keepTogether` is enabled)\n     */\n    boundariesElement: 'viewport',\n    /**\n     * @prop {Boolean} flipVariations=false\n     * The popper will switch placement variation between `-start` and `-end` when\n     * the reference element overlaps its boundaries.\n     *\n     * The original placement should have a set variation.\n     */\n    flipVariations: false,\n    /**\n     * @prop {Boolean} flipVariationsByContent=false\n     * The popper will switch placement variation between `-start` and `-end` when\n     * the popper element overlaps its reference boundaries.\n     *\n     * The original placement should have a set variation.\n     */\n    flipVariationsByContent: false\n  },\n\n  /**\n   * Modifier used to make the popper flow toward the inner of the reference element.\n   * By default, when this modifier is disabled, the popper will be placed outside\n   * the reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  inner: {\n    /** @prop {number} order=700 - Index used to define the order of execution */\n    order: 700,\n    /** @prop {Boolean} enabled=false - Whether the modifier is enabled or not */\n    enabled: false,\n    /** @prop {ModifierFn} */\n    fn: inner\n  },\n\n  /**\n   * Modifier used to hide the popper when its reference element is outside of the\n   * popper boundaries. It will set a `x-out-of-boundaries` attribute which can\n   * be used to hide with a CSS selector the popper when its reference is\n   * out of boundaries.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   * @memberof modifiers\n   * @inner\n   */\n  hide: {\n    /** @prop {number} order=800 - Index used to define the order of execution */\n    order: 800,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: hide\n  },\n\n  /**\n   * Computes the style that will be applied to the popper element to gets\n   * properly positioned.\n   *\n   * Note that this modifier will not touch the DOM, it just prepares the styles\n   * so that `applyStyle` modifier can apply it. This separation is useful\n   * in case you need to replace `applyStyle` with a custom implementation.\n   *\n   * This modifier has `850` as `order` value to maintain backward compatibility\n   * with previous versions of Popper.js. Expect the modifiers ordering method\n   * to change in future major versions of the library.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  computeStyle: {\n    /** @prop {number} order=850 - Index used to define the order of execution */\n    order: 850,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: computeStyle,\n    /**\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3D transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties\n     */\n    gpuAcceleration: true,\n    /**\n     * @prop {string} [x='bottom']\n     * Where to anchor the X axis (`bottom` or `top`). AKA X offset origin.\n     * Change this if your popper should grow in a direction different from `bottom`\n     */\n    x: 'bottom',\n    /**\n     * @prop {string} [x='left']\n     * Where to anchor the Y axis (`left` or `right`). AKA Y offset origin.\n     * Change this if your popper should grow in a direction different from `right`\n     */\n    y: 'right'\n  },\n\n  /**\n   * Applies the computed styles to the popper element.\n   *\n   * All the DOM manipulations are limited to this modifier. This is useful in case\n   * you want to integrate Popper.js inside a framework or view library and you\n   * want to delegate all the DOM manipulations to it.\n   *\n   * Note that if you disable this modifier, you must make sure the popper element\n   * has its position set to `absolute` before Popper.js can do its work!\n   *\n   * Just disable this modifier and define your own to achieve the desired effect.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  applyStyle: {\n    /** @prop {number} order=900 - Index used to define the order of execution */\n    order: 900,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: applyStyle,\n    /** @prop {Function} */\n    onLoad: applyStyleOnLoad,\n    /**\n     * @deprecated since version 1.10.0, the property moved to `computeStyle` modifier\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3D transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties\n     */\n    gpuAcceleration: undefined\n  }\n};\n\n/**\n * The `dataObject` is an object containing all the information used by Popper.js.\n * This object is passed to modifiers and to the `onCreate` and `onUpdate` callbacks.\n * @name dataObject\n * @property {Object} data.instance The Popper.js instance\n * @property {String} data.placement Placement applied to popper\n * @property {String} data.originalPlacement Placement originally defined on init\n * @property {Boolean} data.flipped True if popper has been flipped by flip modifier\n * @property {Boolean} data.hide True if the reference element is out of boundaries, useful to know when to hide the popper\n * @property {HTMLElement} data.arrowElement Node used as arrow by arrow modifier\n * @property {Object} data.styles Any CSS property defined here will be applied to the popper. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.arrowStyles Any CSS property defined here will be applied to the popper arrow. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.boundaries Offsets of the popper boundaries\n * @property {Object} data.offsets The measurements of popper, reference and arrow elements\n * @property {Object} data.offsets.popper `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.reference `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.arrow] `top` and `left` offsets, only one of them will be different from 0\n */\n\n/**\n * Default options provided to Popper.js constructor.<br />\n * These can be overridden using the `options` argument of Popper.js.<br />\n * To override an option, simply pass an object with the same\n * structure of the `options` object, as the 3rd argument. For example:\n * ```\n * new Popper(ref, pop, {\n *   modifiers: {\n *     preventOverflow: { enabled: false }\n *   }\n * })\n * ```\n * @type {Object}\n * @static\n * @memberof Popper\n */\nvar Defaults = {\n  /**\n   * Popper's placement.\n   * @prop {Popper.placements} placement='bottom'\n   */\n  placement: 'bottom',\n\n  /**\n   * Set this to true if you want popper to position it self in 'fixed' mode\n   * @prop {Boolean} positionFixed=false\n   */\n  positionFixed: false,\n\n  /**\n   * Whether events (resize, scroll) are initially enabled.\n   * @prop {Boolean} eventsEnabled=true\n   */\n  eventsEnabled: true,\n\n  /**\n   * Set to true if you want to automatically remove the popper when\n   * you call the `destroy` method.\n   * @prop {Boolean} removeOnDestroy=false\n   */\n  removeOnDestroy: false,\n\n  /**\n   * Callback called when the popper is created.<br />\n   * By default, it is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onCreate}\n   */\n  onCreate: function onCreate() {},\n\n  /**\n   * Callback called when the popper is updated. This callback is not called\n   * on the initialization/creation of the popper, but only on subsequent\n   * updates.<br />\n   * By default, it is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onUpdate}\n   */\n  onUpdate: function onUpdate() {},\n\n  /**\n   * List of modifiers used to modify the offsets before they are applied to the popper.\n   * They provide most of the functionalities of Popper.js.\n   * @prop {modifiers}\n   */\n  modifiers: modifiers\n};\n\n/**\n * @callback onCreate\n * @param {dataObject} data\n */\n\n/**\n * @callback onUpdate\n * @param {dataObject} data\n */\n\n// Utils\n// Methods\nvar Popper = function () {\n  /**\n   * Creates a new Popper.js instance.\n   * @class Popper\n   * @param {Element|referenceObject} reference - The reference element used to position the popper\n   * @param {Element} popper - The HTML / XML element used as the popper\n   * @param {Object} options - Your custom options to override the ones defined in [Defaults](#defaults)\n   * @return {Object} instance - The generated Popper.js instance\n   */\n  function Popper(reference, popper) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    classCallCheck(this, Popper);\n\n    this.scheduleUpdate = function () {\n      return requestAnimationFrame(_this.update);\n    };\n\n    // make update() debounced, so that it only runs at most once-per-tick\n    this.update = debounce(this.update.bind(this));\n\n    // with {} we create a new object with the options inside it\n    this.options = _extends({}, Popper.Defaults, options);\n\n    // init state\n    this.state = {\n      isDestroyed: false,\n      isCreated: false,\n      scrollParents: []\n    };\n\n    // get reference and popper elements (allow jQuery wrappers)\n    this.reference = reference && reference.jquery ? reference[0] : reference;\n    this.popper = popper && popper.jquery ? popper[0] : popper;\n\n    // Deep merge modifiers options\n    this.options.modifiers = {};\n    Object.keys(_extends({}, Popper.Defaults.modifiers, options.modifiers)).forEach(function (name) {\n      _this.options.modifiers[name] = _extends({}, Popper.Defaults.modifiers[name] || {}, options.modifiers ? options.modifiers[name] : {});\n    });\n\n    // Refactoring modifiers' list (Object => Array)\n    this.modifiers = Object.keys(this.options.modifiers).map(function (name) {\n      return _extends({\n        name: name\n      }, _this.options.modifiers[name]);\n    })\n    // sort the modifiers by order\n    .sort(function (a, b) {\n      return a.order - b.order;\n    });\n\n    // modifiers have the ability to execute arbitrary code when Popper.js get inited\n    // such code is executed in the same order of its modifier\n    // they could add new properties to their options configuration\n    // BE AWARE: don't add options to `options.modifiers.name` but to `modifierOptions`!\n    this.modifiers.forEach(function (modifierOptions) {\n      if (modifierOptions.enabled && isFunction(modifierOptions.onLoad)) {\n        modifierOptions.onLoad(_this.reference, _this.popper, _this.options, modifierOptions, _this.state);\n      }\n    });\n\n    // fire the first update to position the popper in the right place\n    this.update();\n\n    var eventsEnabled = this.options.eventsEnabled;\n    if (eventsEnabled) {\n      // setup event listeners, they will take care of update the position in specific situations\n      this.enableEventListeners();\n    }\n\n    this.state.eventsEnabled = eventsEnabled;\n  }\n\n  // We can't use class properties because they don't get listed in the\n  // class prototype and break stuff like Sinon stubs\n\n\n  createClass(Popper, [{\n    key: 'update',\n    value: function update$$1() {\n      return update.call(this);\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy$$1() {\n      return destroy.call(this);\n    }\n  }, {\n    key: 'enableEventListeners',\n    value: function enableEventListeners$$1() {\n      return enableEventListeners.call(this);\n    }\n  }, {\n    key: 'disableEventListeners',\n    value: function disableEventListeners$$1() {\n      return disableEventListeners.call(this);\n    }\n\n    /**\n     * Schedules an update. It will run on the next UI update available.\n     * @method scheduleUpdate\n     * @memberof Popper\n     */\n\n\n    /**\n     * Collection of utilities useful when writing custom modifiers.\n     * Starting from version 1.7, this method is available only if you\n     * include `popper-utils.js` before `popper.js`.\n     *\n     * **DEPRECATION**: This way to access PopperUtils is deprecated\n     * and will be removed in v2! Use the PopperUtils module directly instead.\n     * Due to the high instability of the methods contained in Utils, we can't\n     * guarantee them to follow semver. Use them at your own risk!\n     * @static\n     * @private\n     * @type {Object}\n     * @deprecated since version 1.8\n     * @member Utils\n     * @memberof Popper\n     */\n\n  }]);\n  return Popper;\n}();\n\n/**\n * The `referenceObject` is an object that provides an interface compatible with Popper.js\n * and lets you use it as replacement of a real DOM node.<br />\n * You can use this method to position a popper relatively to a set of coordinates\n * in case you don't have a DOM node to use as reference.\n *\n * ```\n * new Popper(referenceObject, popperNode);\n * ```\n *\n * NB: This feature isn't supported in Internet Explorer 10.\n * @name referenceObject\n * @property {Function} data.getBoundingClientRect\n * A function that returns a set of coordinates compatible with the native `getBoundingClientRect` method.\n * @property {number} data.clientWidth\n * An ES6 getter that will return the width of the virtual reference element.\n * @property {number} data.clientHeight\n * An ES6 getter that will return the height of the virtual reference element.\n */\n\n\nPopper.Utils = (typeof window !== 'undefined' ? window : global).PopperUtils;\nPopper.placements = placements;\nPopper.Defaults = Defaults;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Popper);\n//# sourceMappingURL=popper.js.map\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/popper.js/dist/esm/popper.js?")},"./node_modules/v-tooltip/dist/v-tooltip.esm.js":
/*!******************************************************!*\
  !*** ./node_modules/v-tooltip/dist/v-tooltip.esm.js ***!
  \******************************************************/
/*! exports provided: default, VClosePopover, VPopover, VTooltip, createTooltip, destroyTooltip, install */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VClosePopover\", function() { return VClosePopover; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VPopover\", function() { return VPopover; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VTooltip\", function() { return VTooltip; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createTooltip\", function() { return createTooltip; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"destroyTooltip\", function() { return destroyTooltip; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"install\", function() { return install; });\n/* harmony import */ var popper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! popper.js */ \"./node_modules/popper.js/dist/esm/popper.js\");\n/* harmony import */ var vue_resize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vue-resize */ \"./node_modules/vue-resize/dist/vue-resize.esm.js\");\n\n\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar SVGAnimatedString = function SVGAnimatedString() {};\n\nif (typeof window !== 'undefined') {\n  SVGAnimatedString = window.SVGAnimatedString;\n}\n\nfunction convertToArray(value) {\n  if (typeof value === 'string') {\n    value = value.split(' ');\n  }\n\n  return value;\n}\n/**\n * Add classes to an element.\n * This method checks to ensure that the classes don't already exist before adding them.\n * It uses el.className rather than classList in order to be IE friendly.\n * @param {object} el - The element to add the classes to.\n * @param {classes} string - List of space separated classes to be added to the element.\n */\n\nfunction addClasses(el, classes) {\n  var newClasses = convertToArray(classes);\n  var classList;\n\n  if (el.className instanceof SVGAnimatedString) {\n    classList = convertToArray(el.className.baseVal);\n  } else {\n    classList = convertToArray(el.className);\n  }\n\n  newClasses.forEach(function (newClass) {\n    if (classList.indexOf(newClass) === -1) {\n      classList.push(newClass);\n    }\n  });\n\n  if (el instanceof SVGElement) {\n    el.setAttribute('class', classList.join(' '));\n  } else {\n    el.className = classList.join(' ');\n  }\n}\n/**\n * Remove classes from an element.\n * It uses el.className rather than classList in order to be IE friendly.\n * @export\n * @param {any} el The element to remove the classes from.\n * @param {any} classes List of space separated classes to be removed from the element.\n */\n\nfunction removeClasses(el, classes) {\n  var newClasses = convertToArray(classes);\n  var classList;\n\n  if (el.className instanceof SVGAnimatedString) {\n    classList = convertToArray(el.className.baseVal);\n  } else {\n    classList = convertToArray(el.className);\n  }\n\n  newClasses.forEach(function (newClass) {\n    var index = classList.indexOf(newClass);\n\n    if (index !== -1) {\n      classList.splice(index, 1);\n    }\n  });\n\n  if (el instanceof SVGElement) {\n    el.setAttribute('class', classList.join(' '));\n  } else {\n    el.className = classList.join(' ');\n  }\n}\nvar supportsPassive = false;\n\nif (typeof window !== 'undefined') {\n  supportsPassive = false;\n\n  try {\n    var opts = Object.defineProperty({}, 'passive', {\n      get: function get() {\n        supportsPassive = true;\n      }\n    });\n    window.addEventListener('test', null, opts);\n  } catch (e) {}\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nvar _listCacheClear = listCacheClear;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nvar eq_1 = eq;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq_1(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nvar _assocIndexOf = assocIndexOf;\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = _assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nvar _listCacheDelete = listCacheDelete;\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = _assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nvar _listCacheGet = listCacheGet;\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return _assocIndexOf(this.__data__, key) > -1;\n}\n\nvar _listCacheHas = listCacheHas;\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = _assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nvar _listCacheSet = listCacheSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = _listCacheClear;\nListCache.prototype['delete'] = _listCacheDelete;\nListCache.prototype.get = _listCacheGet;\nListCache.prototype.has = _listCacheHas;\nListCache.prototype.set = _listCacheSet;\n\nvar _ListCache = ListCache;\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new _ListCache;\n  this.size = 0;\n}\n\nvar _stackClear = stackClear;\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nvar _stackDelete = stackDelete;\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nvar _stackGet = stackGet;\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nvar _stackHas = stackHas;\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n\nvar _freeGlobal = freeGlobal;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = _freeGlobal || freeSelf || Function('return this')();\n\nvar _root = root;\n\n/** Built-in value references. */\nvar Symbol$1 = _root.Symbol;\n\nvar _Symbol = Symbol$1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = _Symbol ? _Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nvar _getRawTag = getRawTag;\n\n/** Used for built-in method references. */\nvar objectProto$1 = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString$1 = objectProto$1.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString$1.call(value);\n}\n\nvar _objectToString = objectToString;\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag$1 = _Symbol ? _Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag$1 && symToStringTag$1 in Object(value))\n    ? _getRawTag(value)\n    : _objectToString(value);\n}\n\nvar _baseGetTag = baseGetTag;\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nvar isObject_1 = isObject;\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject_1(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = _baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nvar isFunction_1 = isFunction;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = _root['__core-js_shared__'];\n\nvar _coreJsData = coreJsData;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(_coreJsData && _coreJsData.keys && _coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nvar _isMasked = isMasked;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nvar _toSource = toSource;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto$1 = Function.prototype,\n    objectProto$2 = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString$1 = funcProto$1.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$1 = objectProto$2.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString$1.call(hasOwnProperty$1).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject_1(value) || _isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction_1(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(_toSource(value));\n}\n\nvar _baseIsNative = baseIsNative;\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nvar _getValue = getValue;\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = _getValue(object, key);\n  return _baseIsNative(value) ? value : undefined;\n}\n\nvar _getNative = getNative;\n\n/* Built-in method references that are verified to be native. */\nvar Map = _getNative(_root, 'Map');\n\nvar _Map = Map;\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = _getNative(Object, 'create');\n\nvar _nativeCreate = nativeCreate;\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = _nativeCreate ? _nativeCreate(null) : {};\n  this.size = 0;\n}\n\nvar _hashClear = hashClear;\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nvar _hashDelete = hashDelete;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto$3 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$2 = objectProto$3.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (_nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty$2.call(data, key) ? data[key] : undefined;\n}\n\nvar _hashGet = hashGet;\n\n/** Used for built-in method references. */\nvar objectProto$4 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$3 = objectProto$4.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return _nativeCreate ? (data[key] !== undefined) : hasOwnProperty$3.call(data, key);\n}\n\nvar _hashHas = hashHas;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED$1 = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (_nativeCreate && value === undefined) ? HASH_UNDEFINED$1 : value;\n  return this;\n}\n\nvar _hashSet = hashSet;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = _hashClear;\nHash.prototype['delete'] = _hashDelete;\nHash.prototype.get = _hashGet;\nHash.prototype.has = _hashHas;\nHash.prototype.set = _hashSet;\n\nvar _Hash = Hash;\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new _Hash,\n    'map': new (_Map || _ListCache),\n    'string': new _Hash\n  };\n}\n\nvar _mapCacheClear = mapCacheClear;\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nvar _isKeyable = isKeyable;\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return _isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nvar _getMapData = getMapData;\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = _getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nvar _mapCacheDelete = mapCacheDelete;\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return _getMapData(this, key).get(key);\n}\n\nvar _mapCacheGet = mapCacheGet;\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return _getMapData(this, key).has(key);\n}\n\nvar _mapCacheHas = mapCacheHas;\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = _getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nvar _mapCacheSet = mapCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = _mapCacheClear;\nMapCache.prototype['delete'] = _mapCacheDelete;\nMapCache.prototype.get = _mapCacheGet;\nMapCache.prototype.has = _mapCacheHas;\nMapCache.prototype.set = _mapCacheSet;\n\nvar _MapCache = MapCache;\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof _ListCache) {\n    var pairs = data.__data__;\n    if (!_Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new _MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nvar _stackSet = stackSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new _ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = _stackClear;\nStack.prototype['delete'] = _stackDelete;\nStack.prototype.get = _stackGet;\nStack.prototype.has = _stackHas;\nStack.prototype.set = _stackSet;\n\nvar _Stack = Stack;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED$2 = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED$2);\n  return this;\n}\n\nvar _setCacheAdd = setCacheAdd;\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nvar _setCacheHas = setCacheHas;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new _MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = _setCacheAdd;\nSetCache.prototype.has = _setCacheHas;\n\nvar _SetCache = SetCache;\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nvar _arraySome = arraySome;\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nvar _cacheHas = cacheHas;\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new _SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!_arraySome(other, function(othValue, othIndex) {\n            if (!_cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nvar _equalArrays = equalArrays;\n\n/** Built-in value references. */\nvar Uint8Array = _root.Uint8Array;\n\nvar _Uint8Array = Uint8Array;\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nvar _mapToArray = mapToArray;\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nvar _setToArray = setToArray;\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG$1 = 1,\n    COMPARE_UNORDERED_FLAG$1 = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = _Symbol ? _Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new _Uint8Array(object), new _Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq_1(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = _mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG$1;\n      convert || (convert = _setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG$1;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = _equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nvar _equalByTag = equalByTag;\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nvar _arrayPush = arrayPush;\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nvar isArray_1 = isArray;\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray_1(object) ? result : _arrayPush(result, symbolsFunc(object));\n}\n\nvar _baseGetAllKeys = baseGetAllKeys;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nvar _arrayFilter = arrayFilter;\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nvar stubArray_1 = stubArray;\n\n/** Used for built-in method references. */\nvar objectProto$5 = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto$5.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray_1 : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return _arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nvar _getSymbols = getSymbols;\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nvar _baseTimes = baseTimes;\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nvar isObjectLike_1 = isObjectLike;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike_1(value) && _baseGetTag(value) == argsTag;\n}\n\nvar _baseIsArguments = baseIsArguments;\n\n/** Used for built-in method references. */\nvar objectProto$6 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$4 = objectProto$6.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable$1 = objectProto$6.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = _baseIsArguments(function() { return arguments; }()) ? _baseIsArguments : function(value) {\n  return isObjectLike_1(value) && hasOwnProperty$4.call(value, 'callee') &&\n    !propertyIsEnumerable$1.call(value, 'callee');\n};\n\nvar isArguments_1 = isArguments;\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nvar stubFalse_1 = stubFalse;\n\nvar isBuffer_1 = createCommonjsModule(function (module, exports) {\n/** Detect free variable `exports`. */\nvar freeExports =  exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? _root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse_1;\n\nmodule.exports = isBuffer;\n});\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nvar _isIndex = isIndex;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER$1 = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER$1;\n}\n\nvar isLength_1 = isLength;\n\n/** `Object#toString` result references. */\nvar argsTag$1 = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag$1 = '[object Boolean]',\n    dateTag$1 = '[object Date]',\n    errorTag$1 = '[object Error]',\n    funcTag$1 = '[object Function]',\n    mapTag$1 = '[object Map]',\n    numberTag$1 = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag$1 = '[object RegExp]',\n    setTag$1 = '[object Set]',\n    stringTag$1 = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag$1 = '[object ArrayBuffer]',\n    dataViewTag$1 = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag$1] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag$1] = typedArrayTags[boolTag$1] =\ntypedArrayTags[dataViewTag$1] = typedArrayTags[dateTag$1] =\ntypedArrayTags[errorTag$1] = typedArrayTags[funcTag$1] =\ntypedArrayTags[mapTag$1] = typedArrayTags[numberTag$1] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag$1] =\ntypedArrayTags[setTag$1] = typedArrayTags[stringTag$1] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike_1(value) &&\n    isLength_1(value.length) && !!typedArrayTags[_baseGetTag(value)];\n}\n\nvar _baseIsTypedArray = baseIsTypedArray;\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nvar _baseUnary = baseUnary;\n\nvar _nodeUtil = createCommonjsModule(function (module, exports) {\n/** Detect free variable `exports`. */\nvar freeExports =  exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && _freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n});\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = _nodeUtil && _nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? _baseUnary(nodeIsTypedArray) : _baseIsTypedArray;\n\nvar isTypedArray_1 = isTypedArray;\n\n/** Used for built-in method references. */\nvar objectProto$7 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$5 = objectProto$7.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray_1(value),\n      isArg = !isArr && isArguments_1(value),\n      isBuff = !isArr && !isArg && isBuffer_1(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray_1(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? _baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty$5.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           _isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nvar _arrayLikeKeys = arrayLikeKeys;\n\n/** Used for built-in method references. */\nvar objectProto$8 = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto$8;\n\n  return value === proto;\n}\n\nvar _isPrototype = isPrototype;\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nvar _overArg = overArg;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = _overArg(Object.keys, Object);\n\nvar _nativeKeys = nativeKeys;\n\n/** Used for built-in method references. */\nvar objectProto$9 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$6 = objectProto$9.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!_isPrototype(object)) {\n    return _nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty$6.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nvar _baseKeys = baseKeys;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength_1(value.length) && !isFunction_1(value);\n}\n\nvar isArrayLike_1 = isArrayLike;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike_1(object) ? _arrayLikeKeys(object) : _baseKeys(object);\n}\n\nvar keys_1 = keys;\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return _baseGetAllKeys(object, keys_1, _getSymbols);\n}\n\nvar _getAllKeys = getAllKeys;\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG$2 = 1;\n\n/** Used for built-in method references. */\nvar objectProto$a = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$7 = objectProto$a.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG$2,\n      objProps = _getAllKeys(object),\n      objLength = objProps.length,\n      othProps = _getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty$7.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nvar _equalObjects = equalObjects;\n\n/* Built-in method references that are verified to be native. */\nvar DataView = _getNative(_root, 'DataView');\n\nvar _DataView = DataView;\n\n/* Built-in method references that are verified to be native. */\nvar Promise$1 = _getNative(_root, 'Promise');\n\nvar _Promise = Promise$1;\n\n/* Built-in method references that are verified to be native. */\nvar Set = _getNative(_root, 'Set');\n\nvar _Set = Set;\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = _getNative(_root, 'WeakMap');\n\nvar _WeakMap = WeakMap;\n\n/** `Object#toString` result references. */\nvar mapTag$2 = '[object Map]',\n    objectTag$1 = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag$2 = '[object Set]',\n    weakMapTag$1 = '[object WeakMap]';\n\nvar dataViewTag$2 = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = _toSource(_DataView),\n    mapCtorString = _toSource(_Map),\n    promiseCtorString = _toSource(_Promise),\n    setCtorString = _toSource(_Set),\n    weakMapCtorString = _toSource(_WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = _baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((_DataView && getTag(new _DataView(new ArrayBuffer(1))) != dataViewTag$2) ||\n    (_Map && getTag(new _Map) != mapTag$2) ||\n    (_Promise && getTag(_Promise.resolve()) != promiseTag) ||\n    (_Set && getTag(new _Set) != setTag$2) ||\n    (_WeakMap && getTag(new _WeakMap) != weakMapTag$1)) {\n  getTag = function(value) {\n    var result = _baseGetTag(value),\n        Ctor = result == objectTag$1 ? value.constructor : undefined,\n        ctorString = Ctor ? _toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag$2;\n        case mapCtorString: return mapTag$2;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag$2;\n        case weakMapCtorString: return weakMapTag$1;\n      }\n    }\n    return result;\n  };\n}\n\nvar _getTag = getTag;\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG$3 = 1;\n\n/** `Object#toString` result references. */\nvar argsTag$2 = '[object Arguments]',\n    arrayTag$1 = '[object Array]',\n    objectTag$2 = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto$b = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$8 = objectProto$b.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray_1(object),\n      othIsArr = isArray_1(other),\n      objTag = objIsArr ? arrayTag$1 : _getTag(object),\n      othTag = othIsArr ? arrayTag$1 : _getTag(other);\n\n  objTag = objTag == argsTag$2 ? objectTag$2 : objTag;\n  othTag = othTag == argsTag$2 ? objectTag$2 : othTag;\n\n  var objIsObj = objTag == objectTag$2,\n      othIsObj = othTag == objectTag$2,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer_1(object)) {\n    if (!isBuffer_1(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new _Stack);\n    return (objIsArr || isTypedArray_1(object))\n      ? _equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : _equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG$3)) {\n    var objIsWrapped = objIsObj && hasOwnProperty$8.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty$8.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new _Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new _Stack);\n  return _equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nvar _baseIsEqualDeep = baseIsEqualDeep;\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike_1(value) && !isObjectLike_1(other))) {\n    return value !== value && other !== other;\n  }\n  return _baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nvar _baseIsEqual = baseIsEqual;\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return _baseIsEqual(value, other);\n}\n\nvar isEqual_1 = isEqual;\n\nvar DEFAULT_OPTIONS = {\n  container: false,\n  delay: 0,\n  html: false,\n  placement: 'top',\n  title: '',\n  template: '<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',\n  trigger: 'hover focus',\n  offset: 0\n};\nvar openTooltips = [];\n\nvar Tooltip =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Create a new Tooltip.js instance\n   * @class Tooltip\n   * @param {HTMLElement} reference - The DOM node used as reference of the tooltip (it can be a jQuery element).\n   * @param {Object} options\n   * @param {String} options.placement=bottom\n   *      Placement of the popper accepted values: `top(-start, -end), right(-start, -end), bottom(-start, -end),\n   *      left(-start, -end)`\n   * @param {HTMLElement|String|false} options.container=false - Append the tooltip to a specific element.\n   * @param {Number|Object} options.delay=0\n   *      Delay showing and hiding the tooltip (ms) - does not apply to manual trigger type.\n   *      If a number is supplied, delay is applied to both hide/show.\n   *      Object structure is: `{ show: 500, hide: 100 }`\n   * @param {Boolean} options.html=false - Insert HTML into the tooltip. If false, the content will inserted with `innerText`.\n   * @param {String|PlacementFunction} options.placement='top' - One of the allowed placements, or a function returning one of them.\n   * @param {String} [options.template='<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>']\n   *      Base HTML to used when creating the tooltip.\n   *      The tooltip's `title` will be injected into the `.tooltip-inner` or `.tooltip__inner`.\n   *      `.tooltip-arrow` or `.tooltip__arrow` will become the tooltip's arrow.\n   *      The outermost wrapper element should have the `.tooltip` class.\n   * @param {String|HTMLElement|TitleFunction} options.title='' - Default title value if `title` attribute isn't present.\n   * @param {String} [options.trigger='hover focus']\n   *      How tooltip is triggered - click, hover, focus, manual.\n   *      You may pass multiple triggers; separate them with a space. `manual` cannot be combined with any other trigger.\n   * @param {HTMLElement} options.boundariesElement\n   *      The element used as boundaries for the tooltip. For more information refer to Popper.js'\n   *      [boundariesElement docs](https://popper.js.org/popper-documentation.html)\n   * @param {Number|String} options.offset=0 - Offset of the tooltip relative to its reference. For more information refer to Popper.js'\n   *      [offset docs](https://popper.js.org/popper-documentation.html)\n   * @param {Object} options.popperOptions={} - Popper options, will be passed directly to popper instance. For more information refer to Popper.js'\n   *      [options docs](https://popper.js.org/popper-documentation.html)\n   * @return {Object} instance - The generated tooltip instance\n   */\n  function Tooltip(_reference, _options) {\n    var _this = this;\n\n    _classCallCheck(this, Tooltip);\n\n    _defineProperty(this, \"_events\", []);\n\n    _defineProperty(this, \"_setTooltipNodeEvent\", function (evt, reference, delay, options) {\n      var relatedreference = evt.relatedreference || evt.toElement || evt.relatedTarget;\n\n      var callback = function callback(evt2) {\n        var relatedreference2 = evt2.relatedreference || evt2.toElement || evt2.relatedTarget; // Remove event listener after call\n\n        _this._tooltipNode.removeEventListener(evt.type, callback); // If the new reference is not the reference element\n\n\n        if (!reference.contains(relatedreference2)) {\n          // Schedule to hide tooltip\n          _this._scheduleHide(reference, options.delay, options, evt2);\n        }\n      };\n\n      if (_this._tooltipNode.contains(relatedreference)) {\n        // listen to mouseleave on the tooltip element to be able to hide the tooltip\n        _this._tooltipNode.addEventListener(evt.type, callback);\n\n        return true;\n      }\n\n      return false;\n    });\n\n    // apply user options over default ones\n    _options = _objectSpread2({}, DEFAULT_OPTIONS, {}, _options);\n    _reference.jquery && (_reference = _reference[0]);\n    this.show = this.show.bind(this);\n    this.hide = this.hide.bind(this); // cache reference and options\n\n    this.reference = _reference;\n    this.options = _options; // set initial state\n\n    this._isOpen = false;\n\n    this._init();\n  } //\n  // Public methods\n  //\n\n  /**\n   * Reveals an element's tooltip. This is considered a \"manual\" triggering of the tooltip.\n   * Tooltips with zero-length titles are never displayed.\n   * @method Tooltip#show\n   * @memberof Tooltip\n   */\n\n\n  _createClass(Tooltip, [{\n    key: \"show\",\n    value: function show() {\n      this._show(this.reference, this.options);\n    }\n    /**\n     * Hides an element’s tooltip. This is considered a “manual” triggering of the tooltip.\n     * @method Tooltip#hide\n     * @memberof Tooltip\n     */\n\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this._hide();\n    }\n    /**\n     * Hides and destroys an element’s tooltip.\n     * @method Tooltip#dispose\n     * @memberof Tooltip\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this._dispose();\n    }\n    /**\n     * Toggles an element’s tooltip. This is considered a “manual” triggering of the tooltip.\n     * @method Tooltip#toggle\n     * @memberof Tooltip\n     */\n\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      if (this._isOpen) {\n        return this.hide();\n      } else {\n        return this.show();\n      }\n    }\n  }, {\n    key: \"setClasses\",\n    value: function setClasses(classes) {\n      this._classes = classes;\n    }\n  }, {\n    key: \"setContent\",\n    value: function setContent(content) {\n      this.options.title = content;\n\n      if (this._tooltipNode) {\n        this._setContent(content, this.options);\n      }\n    }\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(options) {\n      var classesUpdated = false;\n      var classes = options && options.classes || directive.options.defaultClass;\n\n      if (!isEqual_1(this._classes, classes)) {\n        this.setClasses(classes);\n        classesUpdated = true;\n      }\n\n      options = getOptions(options);\n      var needPopperUpdate = false;\n      var needRestart = false;\n\n      if (this.options.offset !== options.offset || this.options.placement !== options.placement) {\n        needPopperUpdate = true;\n      }\n\n      if (this.options.template !== options.template || this.options.trigger !== options.trigger || this.options.container !== options.container || classesUpdated) {\n        needRestart = true;\n      }\n\n      for (var key in options) {\n        this.options[key] = options[key];\n      }\n\n      if (this._tooltipNode) {\n        if (needRestart) {\n          var isOpen = this._isOpen;\n          this.dispose();\n\n          this._init();\n\n          if (isOpen) {\n            this.show();\n          }\n        } else if (needPopperUpdate) {\n          this.popperInstance.update();\n        }\n      }\n    } //\n    // Private methods\n    //\n\n  }, {\n    key: \"_init\",\n    value: function _init() {\n      // get events list\n      var events = typeof this.options.trigger === 'string' ? this.options.trigger.split(' ') : [];\n      this._isDisposed = false;\n      this._enableDocumentTouch = events.indexOf('manual') === -1;\n      events = events.filter(function (trigger) {\n        return ['click', 'hover', 'focus'].indexOf(trigger) !== -1;\n      }); // set event listeners\n\n      this._setEventListeners(this.reference, events, this.options); // title attribute\n\n\n      this.$_originalTitle = this.reference.getAttribute('title');\n      this.reference.removeAttribute('title');\n      this.reference.setAttribute('data-original-title', this.$_originalTitle);\n    }\n    /**\n     * Creates a new tooltip node\n     * @memberof Tooltip\n     * @private\n     * @param {HTMLElement} reference\n     * @param {String} template\n     * @param {String|HTMLElement|TitleFunction} title\n     * @param {Boolean} allowHtml\n     * @return {HTMLelement} tooltipNode\n     */\n\n  }, {\n    key: \"_create\",\n    value: function _create(reference, template) {\n      // create tooltip element\n      var tooltipGenerator = window.document.createElement('div');\n      tooltipGenerator.innerHTML = template.trim();\n      var tooltipNode = tooltipGenerator.childNodes[0]; // add unique ID to our tooltip (needed for accessibility reasons)\n\n      tooltipNode.id = \"tooltip_\".concat(Math.random().toString(36).substr(2, 10)); // Initially hide the tooltip\n      // The attribute will be switched in a next frame so\n      // CSS transitions can play\n\n      tooltipNode.setAttribute('aria-hidden', 'true');\n\n      if (this.options.autoHide && this.options.trigger.indexOf('hover') !== -1) {\n        tooltipNode.addEventListener('mouseenter', this.hide);\n        tooltipNode.addEventListener('click', this.hide);\n      } // return the generated tooltip node\n\n\n      return tooltipNode;\n    }\n  }, {\n    key: \"_setContent\",\n    value: function _setContent(content, options) {\n      var _this2 = this;\n\n      this.asyncContent = false;\n\n      this._applyContent(content, options).then(function () {\n        _this2.popperInstance.update();\n      });\n    }\n  }, {\n    key: \"_applyContent\",\n    value: function _applyContent(title, options) {\n      var _this3 = this;\n\n      return new Promise(function (resolve, reject) {\n        var allowHtml = options.html;\n        var rootNode = _this3._tooltipNode;\n        if (!rootNode) return;\n        var titleNode = rootNode.querySelector(_this3.options.innerSelector);\n\n        if (title.nodeType === 1) {\n          // if title is a node, append it only if allowHtml is true\n          if (allowHtml) {\n            while (titleNode.firstChild) {\n              titleNode.removeChild(titleNode.firstChild);\n            }\n\n            titleNode.appendChild(title);\n          }\n        } else if (typeof title === 'function') {\n          // if title is a function, call it and set innerText or innerHtml depending by `allowHtml` value\n          var result = title();\n\n          if (result && typeof result.then === 'function') {\n            _this3.asyncContent = true;\n            options.loadingClass && addClasses(rootNode, options.loadingClass);\n\n            if (options.loadingContent) {\n              _this3._applyContent(options.loadingContent, options);\n            }\n\n            result.then(function (asyncResult) {\n              options.loadingClass && removeClasses(rootNode, options.loadingClass);\n              return _this3._applyContent(asyncResult, options);\n            }).then(resolve).catch(reject);\n          } else {\n            _this3._applyContent(result, options).then(resolve).catch(reject);\n          }\n\n          return;\n        } else {\n          // if it's just a simple text, set innerText or innerHtml depending by `allowHtml` value\n          allowHtml ? titleNode.innerHTML = title : titleNode.innerText = title;\n        }\n\n        resolve();\n      });\n    }\n  }, {\n    key: \"_show\",\n    value: function _show(reference, options) {\n      if (options && typeof options.container === 'string') {\n        var container = document.querySelector(options.container);\n        if (!container) return;\n      }\n\n      clearTimeout(this._disposeTimer);\n      options = Object.assign({}, options);\n      delete options.offset;\n      var updateClasses = true;\n\n      if (this._tooltipNode) {\n        addClasses(this._tooltipNode, this._classes);\n        updateClasses = false;\n      }\n\n      var result = this._ensureShown(reference, options);\n\n      if (updateClasses && this._tooltipNode) {\n        addClasses(this._tooltipNode, this._classes);\n      }\n\n      addClasses(reference, ['v-tooltip-open']);\n      return result;\n    }\n  }, {\n    key: \"_ensureShown\",\n    value: function _ensureShown(reference, options) {\n      var _this4 = this;\n\n      // don't show if it's already visible\n      if (this._isOpen) {\n        return this;\n      }\n\n      this._isOpen = true;\n      openTooltips.push(this); // if the tooltipNode already exists, just show it\n\n      if (this._tooltipNode) {\n        this._tooltipNode.style.display = '';\n\n        this._tooltipNode.setAttribute('aria-hidden', 'false');\n\n        this.popperInstance.enableEventListeners();\n        this.popperInstance.update();\n\n        if (this.asyncContent) {\n          this._setContent(options.title, options);\n        }\n\n        return this;\n      } // get title\n\n\n      var title = reference.getAttribute('title') || options.title; // don't show tooltip if no title is defined\n\n      if (!title) {\n        return this;\n      } // create tooltip node\n\n\n      var tooltipNode = this._create(reference, options.template);\n\n      this._tooltipNode = tooltipNode; // Add `aria-describedby` to our reference element for accessibility reasons\n\n      reference.setAttribute('aria-describedby', tooltipNode.id); // append tooltip to container\n\n      var container = this._findContainer(options.container, reference);\n\n      this._append(tooltipNode, container);\n\n      var popperOptions = _objectSpread2({}, options.popperOptions, {\n        placement: options.placement\n      });\n\n      popperOptions.modifiers = _objectSpread2({}, popperOptions.modifiers, {\n        arrow: {\n          element: this.options.arrowSelector\n        }\n      });\n\n      if (options.boundariesElement) {\n        popperOptions.modifiers.preventOverflow = {\n          boundariesElement: options.boundariesElement\n        };\n      }\n\n      this.popperInstance = new popper_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](reference, tooltipNode, popperOptions);\n\n      this._setContent(title, options); // Fix position\n\n\n      requestAnimationFrame(function () {\n        if (!_this4._isDisposed && _this4.popperInstance) {\n          _this4.popperInstance.update(); // Show the tooltip\n\n\n          requestAnimationFrame(function () {\n            if (!_this4._isDisposed) {\n              _this4._isOpen && tooltipNode.setAttribute('aria-hidden', 'false');\n            } else {\n              _this4.dispose();\n            }\n          });\n        } else {\n          _this4.dispose();\n        }\n      });\n      return this;\n    }\n  }, {\n    key: \"_noLongerOpen\",\n    value: function _noLongerOpen() {\n      var index = openTooltips.indexOf(this);\n\n      if (index !== -1) {\n        openTooltips.splice(index, 1);\n      }\n    }\n  }, {\n    key: \"_hide\",\n    value: function _hide()\n    /* reference, options */\n    {\n      var _this5 = this;\n\n      // don't hide if it's already hidden\n      if (!this._isOpen) {\n        return this;\n      }\n\n      this._isOpen = false;\n\n      this._noLongerOpen(); // hide tooltipNode\n\n\n      this._tooltipNode.style.display = 'none';\n\n      this._tooltipNode.setAttribute('aria-hidden', 'true');\n\n      this.popperInstance.disableEventListeners();\n      clearTimeout(this._disposeTimer);\n      var disposeTime = directive.options.disposeTimeout;\n\n      if (disposeTime !== null) {\n        this._disposeTimer = setTimeout(function () {\n          if (_this5._tooltipNode) {\n            _this5._tooltipNode.removeEventListener('mouseenter', _this5.hide);\n\n            _this5._tooltipNode.removeEventListener('click', _this5.hide); // Don't remove popper instance, just the HTML element\n\n\n            _this5._removeTooltipNode();\n          }\n        }, disposeTime);\n      }\n\n      removeClasses(this.reference, ['v-tooltip-open']);\n      return this;\n    }\n  }, {\n    key: \"_removeTooltipNode\",\n    value: function _removeTooltipNode() {\n      if (!this._tooltipNode) return;\n      var parentNode = this._tooltipNode.parentNode;\n\n      if (parentNode) {\n        parentNode.removeChild(this._tooltipNode);\n        this.reference.removeAttribute('aria-describedby');\n      }\n\n      this._tooltipNode = null;\n    }\n  }, {\n    key: \"_dispose\",\n    value: function _dispose() {\n      var _this6 = this;\n\n      this._isDisposed = true;\n      this.reference.removeAttribute('data-original-title');\n\n      if (this.$_originalTitle) {\n        this.reference.setAttribute('title', this.$_originalTitle);\n      } // remove event listeners first to prevent any unexpected behaviour\n\n\n      this._events.forEach(function (_ref) {\n        var func = _ref.func,\n            event = _ref.event;\n\n        _this6.reference.removeEventListener(event, func);\n      });\n\n      this._events = [];\n\n      if (this._tooltipNode) {\n        this._hide();\n\n        this._tooltipNode.removeEventListener('mouseenter', this.hide);\n\n        this._tooltipNode.removeEventListener('click', this.hide); // destroy instance\n\n\n        this.popperInstance.destroy(); // destroy tooltipNode if removeOnDestroy is not set, as popperInstance.destroy() already removes the element\n\n        if (!this.popperInstance.options.removeOnDestroy) {\n          this._removeTooltipNode();\n        }\n      } else {\n        this._noLongerOpen();\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_findContainer\",\n    value: function _findContainer(container, reference) {\n      // if container is a query, get the relative element\n      if (typeof container === 'string') {\n        container = window.document.querySelector(container);\n      } else if (container === false) {\n        // if container is `false`, set it to reference parent\n        container = reference.parentNode;\n      }\n\n      return container;\n    }\n    /**\n     * Append tooltip to container\n     * @memberof Tooltip\n     * @private\n     * @param {HTMLElement} tooltip\n     * @param {HTMLElement|String|false} container\n     */\n\n  }, {\n    key: \"_append\",\n    value: function _append(tooltipNode, container) {\n      container.appendChild(tooltipNode);\n    }\n  }, {\n    key: \"_setEventListeners\",\n    value: function _setEventListeners(reference, events, options) {\n      var _this7 = this;\n\n      var directEvents = [];\n      var oppositeEvents = [];\n      events.forEach(function (event) {\n        switch (event) {\n          case 'hover':\n            directEvents.push('mouseenter');\n            oppositeEvents.push('mouseleave');\n            if (_this7.options.hideOnTargetClick) oppositeEvents.push('click');\n            break;\n\n          case 'focus':\n            directEvents.push('focus');\n            oppositeEvents.push('blur');\n            if (_this7.options.hideOnTargetClick) oppositeEvents.push('click');\n            break;\n\n          case 'click':\n            directEvents.push('click');\n            oppositeEvents.push('click');\n            break;\n        }\n      }); // schedule show tooltip\n\n      directEvents.forEach(function (event) {\n        var func = function func(evt) {\n          if (_this7._isOpen === true) {\n            return;\n          }\n\n          evt.usedByTooltip = true;\n\n          _this7._scheduleShow(reference, options.delay, options, evt);\n        };\n\n        _this7._events.push({\n          event: event,\n          func: func\n        });\n\n        reference.addEventListener(event, func);\n      }); // schedule hide tooltip\n\n      oppositeEvents.forEach(function (event) {\n        var func = function func(evt) {\n          if (evt.usedByTooltip === true) {\n            return;\n          }\n\n          _this7._scheduleHide(reference, options.delay, options, evt);\n        };\n\n        _this7._events.push({\n          event: event,\n          func: func\n        });\n\n        reference.addEventListener(event, func);\n      });\n    }\n  }, {\n    key: \"_onDocumentTouch\",\n    value: function _onDocumentTouch(event) {\n      if (this._enableDocumentTouch) {\n        this._scheduleHide(this.reference, this.options.delay, this.options, event);\n      }\n    }\n  }, {\n    key: \"_scheduleShow\",\n    value: function _scheduleShow(reference, delay, options\n    /*, evt */\n    ) {\n      var _this8 = this;\n\n      // defaults to 0\n      var computedDelay = delay && delay.show || delay || 0;\n      clearTimeout(this._scheduleTimer);\n      this._scheduleTimer = window.setTimeout(function () {\n        return _this8._show(reference, options);\n      }, computedDelay);\n    }\n  }, {\n    key: \"_scheduleHide\",\n    value: function _scheduleHide(reference, delay, options, evt) {\n      var _this9 = this;\n\n      // defaults to 0\n      var computedDelay = delay && delay.hide || delay || 0;\n      clearTimeout(this._scheduleTimer);\n      this._scheduleTimer = window.setTimeout(function () {\n        if (_this9._isOpen === false) {\n          return;\n        }\n\n        if (!_this9._tooltipNode.ownerDocument.body.contains(_this9._tooltipNode)) {\n          return;\n        } // if we are hiding because of a mouseleave, we must check that the new\n        // reference isn't the tooltip, because in this case we don't want to hide it\n\n\n        if (evt.type === 'mouseleave') {\n          var isSet = _this9._setTooltipNodeEvent(evt, reference, delay, options); // if we set the new event, don't hide the tooltip yet\n          // the new event will take care to hide it if necessary\n\n\n          if (isSet) {\n            return;\n          }\n        }\n\n        _this9._hide(reference, options);\n      }, computedDelay);\n    }\n  }]);\n\n  return Tooltip;\n}(); // Hide tooltips on touch devices\n\nif (typeof document !== 'undefined') {\n  document.addEventListener('touchstart', function (event) {\n    for (var i = 0; i < openTooltips.length; i++) {\n      openTooltips[i]._onDocumentTouch(event);\n    }\n  }, supportsPassive ? {\n    passive: true,\n    capture: true\n  } : true);\n}\n/**\n * Placement function, its context is the Tooltip instance.\n * @memberof Tooltip\n * @callback PlacementFunction\n * @param {HTMLElement} tooltip - tooltip DOM node.\n * @param {HTMLElement} reference - reference DOM node.\n * @return {String} placement - One of the allowed placement options.\n */\n\n/**\n * Title function, its context is the Tooltip instance.\n * @memberof Tooltip\n * @callback TitleFunction\n * @return {String} placement - The desired title.\n */\n\nvar state = {\n  enabled: true\n};\nvar positions = ['top', 'top-start', 'top-end', 'right', 'right-start', 'right-end', 'bottom', 'bottom-start', 'bottom-end', 'left', 'left-start', 'left-end'];\nvar defaultOptions = {\n  // Default tooltip placement relative to target element\n  defaultPlacement: 'top',\n  // Default CSS classes applied to the tooltip element\n  defaultClass: 'vue-tooltip-theme',\n  // Default CSS classes applied to the target element of the tooltip\n  defaultTargetClass: 'has-tooltip',\n  // Is the content HTML by default?\n  defaultHtml: true,\n  // Default HTML template of the tooltip element\n  // It must include `tooltip-arrow` & `tooltip-inner` CSS classes (can be configured, see below)\n  // Change if the classes conflict with other libraries (for example bootstrap)\n  defaultTemplate: '<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',\n  // Selector used to get the arrow element in the tooltip template\n  defaultArrowSelector: '.tooltip-arrow, .tooltip__arrow',\n  // Selector used to get the inner content element in the tooltip template\n  defaultInnerSelector: '.tooltip-inner, .tooltip__inner',\n  // Delay (ms)\n  defaultDelay: 0,\n  // Default events that trigger the tooltip\n  defaultTrigger: 'hover focus',\n  // Default position offset (px)\n  defaultOffset: 0,\n  // Default container where the tooltip will be appended\n  defaultContainer: 'body',\n  defaultBoundariesElement: undefined,\n  defaultPopperOptions: {},\n  // Class added when content is loading\n  defaultLoadingClass: 'tooltip-loading',\n  // Displayed when tooltip content is loading\n  defaultLoadingContent: '...',\n  // Hide on mouseover tooltip\n  autoHide: true,\n  // Close tooltip on click on tooltip target?\n  defaultHideOnTargetClick: true,\n  // Auto destroy tooltip DOM nodes (ms)\n  disposeTimeout: 5000,\n  // Options for popover\n  popover: {\n    defaultPlacement: 'bottom',\n    // Use the `popoverClass` prop for theming\n    defaultClass: 'vue-popover-theme',\n    // Base class (change if conflicts with other libraries)\n    defaultBaseClass: 'tooltip popover',\n    // Wrapper class (contains arrow and inner)\n    defaultWrapperClass: 'wrapper',\n    // Inner content class\n    defaultInnerClass: 'tooltip-inner popover-inner',\n    // Arrow class\n    defaultArrowClass: 'tooltip-arrow popover-arrow',\n    // Class added when popover is open\n    defaultOpenClass: 'open',\n    defaultDelay: 0,\n    defaultTrigger: 'click',\n    defaultOffset: 0,\n    defaultContainer: 'body',\n    defaultBoundariesElement: undefined,\n    defaultPopperOptions: {},\n    // Hides if clicked outside of popover\n    defaultAutoHide: true,\n    // Update popper on content resize\n    defaultHandleResize: true\n  }\n};\nfunction getOptions(options) {\n  var result = {\n    placement: typeof options.placement !== 'undefined' ? options.placement : directive.options.defaultPlacement,\n    delay: typeof options.delay !== 'undefined' ? options.delay : directive.options.defaultDelay,\n    html: typeof options.html !== 'undefined' ? options.html : directive.options.defaultHtml,\n    template: typeof options.template !== 'undefined' ? options.template : directive.options.defaultTemplate,\n    arrowSelector: typeof options.arrowSelector !== 'undefined' ? options.arrowSelector : directive.options.defaultArrowSelector,\n    innerSelector: typeof options.innerSelector !== 'undefined' ? options.innerSelector : directive.options.defaultInnerSelector,\n    trigger: typeof options.trigger !== 'undefined' ? options.trigger : directive.options.defaultTrigger,\n    offset: typeof options.offset !== 'undefined' ? options.offset : directive.options.defaultOffset,\n    container: typeof options.container !== 'undefined' ? options.container : directive.options.defaultContainer,\n    boundariesElement: typeof options.boundariesElement !== 'undefined' ? options.boundariesElement : directive.options.defaultBoundariesElement,\n    autoHide: typeof options.autoHide !== 'undefined' ? options.autoHide : directive.options.autoHide,\n    hideOnTargetClick: typeof options.hideOnTargetClick !== 'undefined' ? options.hideOnTargetClick : directive.options.defaultHideOnTargetClick,\n    loadingClass: typeof options.loadingClass !== 'undefined' ? options.loadingClass : directive.options.defaultLoadingClass,\n    loadingContent: typeof options.loadingContent !== 'undefined' ? options.loadingContent : directive.options.defaultLoadingContent,\n    popperOptions: _objectSpread2({}, typeof options.popperOptions !== 'undefined' ? options.popperOptions : directive.options.defaultPopperOptions)\n  };\n\n  if (result.offset) {\n    var typeofOffset = _typeof(result.offset);\n\n    var offset = result.offset; // One value -> switch\n\n    if (typeofOffset === 'number' || typeofOffset === 'string' && offset.indexOf(',') === -1) {\n      offset = \"0, \".concat(offset);\n    }\n\n    if (!result.popperOptions.modifiers) {\n      result.popperOptions.modifiers = {};\n    }\n\n    result.popperOptions.modifiers.offset = {\n      offset: offset\n    };\n  }\n\n  if (result.trigger && result.trigger.indexOf('click') !== -1) {\n    result.hideOnTargetClick = false;\n  }\n\n  return result;\n}\nfunction getPlacement(value, modifiers) {\n  var placement = value.placement;\n\n  for (var i = 0; i < positions.length; i++) {\n    var pos = positions[i];\n\n    if (modifiers[pos]) {\n      placement = pos;\n    }\n  }\n\n  return placement;\n}\nfunction getContent(value) {\n  var type = _typeof(value);\n\n  if (type === 'string') {\n    return value;\n  } else if (value && type === 'object') {\n    return value.content;\n  } else {\n    return false;\n  }\n}\nfunction createTooltip(el, value) {\n  var modifiers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var content = getContent(value);\n  var classes = typeof value.classes !== 'undefined' ? value.classes : directive.options.defaultClass;\n\n  var opts = _objectSpread2({\n    title: content\n  }, getOptions(_objectSpread2({}, value, {\n    placement: getPlacement(value, modifiers)\n  })));\n\n  var tooltip = el._tooltip = new Tooltip(el, opts);\n  tooltip.setClasses(classes);\n  tooltip._vueEl = el; // Class on target\n\n  var targetClasses = typeof value.targetClasses !== 'undefined' ? value.targetClasses : directive.options.defaultTargetClass;\n  el._tooltipTargetClasses = targetClasses;\n  addClasses(el, targetClasses);\n  return tooltip;\n}\nfunction destroyTooltip(el) {\n  if (el._tooltip) {\n    el._tooltip.dispose();\n\n    delete el._tooltip;\n    delete el._tooltipOldShow;\n  }\n\n  if (el._tooltipTargetClasses) {\n    removeClasses(el, el._tooltipTargetClasses);\n    delete el._tooltipTargetClasses;\n  }\n}\nfunction bind(el, _ref) {\n  var value = _ref.value,\n      oldValue = _ref.oldValue,\n      modifiers = _ref.modifiers;\n  var content = getContent(value);\n\n  if (!content || !state.enabled) {\n    destroyTooltip(el);\n  } else {\n    var tooltip;\n\n    if (el._tooltip) {\n      tooltip = el._tooltip; // Content\n\n      tooltip.setContent(content); // Options\n\n      tooltip.setOptions(_objectSpread2({}, value, {\n        placement: getPlacement(value, modifiers)\n      }));\n    } else {\n      tooltip = createTooltip(el, value, modifiers);\n    } // Manual show\n\n\n    if (typeof value.show !== 'undefined' && value.show !== el._tooltipOldShow) {\n      el._tooltipOldShow = value.show;\n      value.show ? tooltip.show() : tooltip.hide();\n    }\n  }\n}\nvar directive = {\n  options: defaultOptions,\n  bind: bind,\n  update: bind,\n  unbind: function unbind(el) {\n    destroyTooltip(el);\n  }\n};\n\nfunction addListeners(el) {\n  el.addEventListener('click', onClick);\n  el.addEventListener('touchstart', onTouchStart, supportsPassive ? {\n    passive: true\n  } : false);\n}\n\nfunction removeListeners(el) {\n  el.removeEventListener('click', onClick);\n  el.removeEventListener('touchstart', onTouchStart);\n  el.removeEventListener('touchend', onTouchEnd);\n  el.removeEventListener('touchcancel', onTouchCancel);\n}\n\nfunction onClick(event) {\n  var el = event.currentTarget;\n  event.closePopover = !el.$_vclosepopover_touch;\n  event.closeAllPopover = el.$_closePopoverModifiers && !!el.$_closePopoverModifiers.all;\n}\n\nfunction onTouchStart(event) {\n  if (event.changedTouches.length === 1) {\n    var el = event.currentTarget;\n    el.$_vclosepopover_touch = true;\n    var touch = event.changedTouches[0];\n    el.$_vclosepopover_touchPoint = touch;\n    el.addEventListener('touchend', onTouchEnd);\n    el.addEventListener('touchcancel', onTouchCancel);\n  }\n}\n\nfunction onTouchEnd(event) {\n  var el = event.currentTarget;\n  el.$_vclosepopover_touch = false;\n\n  if (event.changedTouches.length === 1) {\n    var touch = event.changedTouches[0];\n    var firstTouch = el.$_vclosepopover_touchPoint;\n    event.closePopover = Math.abs(touch.screenY - firstTouch.screenY) < 20 && Math.abs(touch.screenX - firstTouch.screenX) < 20;\n    event.closeAllPopover = el.$_closePopoverModifiers && !!el.$_closePopoverModifiers.all;\n  }\n}\n\nfunction onTouchCancel(event) {\n  var el = event.currentTarget;\n  el.$_vclosepopover_touch = false;\n}\n\nvar vclosepopover = {\n  bind: function bind(el, _ref) {\n    var value = _ref.value,\n        modifiers = _ref.modifiers;\n    el.$_closePopoverModifiers = modifiers;\n\n    if (typeof value === 'undefined' || value) {\n      addListeners(el);\n    }\n  },\n  update: function update(el, _ref2) {\n    var value = _ref2.value,\n        oldValue = _ref2.oldValue,\n        modifiers = _ref2.modifiers;\n    el.$_closePopoverModifiers = modifiers;\n\n    if (value !== oldValue) {\n      if (typeof value === 'undefined' || value) {\n        addListeners(el);\n      } else {\n        removeListeners(el);\n      }\n    }\n  },\n  unbind: function unbind(el) {\n    removeListeners(el);\n  }\n};\n\nfunction getDefault(key) {\n  var value = directive.options.popover[key];\n\n  if (typeof value === 'undefined') {\n    return directive.options[key];\n  }\n\n  return value;\n}\n\nvar isIOS = false;\n\nif (typeof window !== 'undefined' && typeof navigator !== 'undefined') {\n  isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n}\n\nvar openPopovers = [];\n\nvar Element = function Element() {};\n\nif (typeof window !== 'undefined') {\n  Element = window.Element;\n}\n\nvar script = {\n  name: 'VPopover',\n  components: {\n    ResizeObserver: vue_resize__WEBPACK_IMPORTED_MODULE_1__[\"ResizeObserver\"]\n  },\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    placement: {\n      type: String,\n      default: function _default() {\n        return getDefault('defaultPlacement');\n      }\n    },\n    delay: {\n      type: [String, Number, Object],\n      default: function _default() {\n        return getDefault('defaultDelay');\n      }\n    },\n    offset: {\n      type: [String, Number],\n      default: function _default() {\n        return getDefault('defaultOffset');\n      }\n    },\n    trigger: {\n      type: String,\n      default: function _default() {\n        return getDefault('defaultTrigger');\n      }\n    },\n    container: {\n      type: [String, Object, Element, Boolean],\n      default: function _default() {\n        return getDefault('defaultContainer');\n      }\n    },\n    boundariesElement: {\n      type: [String, Element],\n      default: function _default() {\n        return getDefault('defaultBoundariesElement');\n      }\n    },\n    popperOptions: {\n      type: Object,\n      default: function _default() {\n        return getDefault('defaultPopperOptions');\n      }\n    },\n    popoverClass: {\n      type: [String, Array],\n      default: function _default() {\n        return getDefault('defaultClass');\n      }\n    },\n    popoverBaseClass: {\n      type: [String, Array],\n      default: function _default() {\n        return directive.options.popover.defaultBaseClass;\n      }\n    },\n    popoverInnerClass: {\n      type: [String, Array],\n      default: function _default() {\n        return directive.options.popover.defaultInnerClass;\n      }\n    },\n    popoverWrapperClass: {\n      type: [String, Array],\n      default: function _default() {\n        return directive.options.popover.defaultWrapperClass;\n      }\n    },\n    popoverArrowClass: {\n      type: [String, Array],\n      default: function _default() {\n        return directive.options.popover.defaultArrowClass;\n      }\n    },\n    autoHide: {\n      type: Boolean,\n      default: function _default() {\n        return directive.options.popover.defaultAutoHide;\n      }\n    },\n    handleResize: {\n      type: Boolean,\n      default: function _default() {\n        return directive.options.popover.defaultHandleResize;\n      }\n    },\n    openGroup: {\n      type: String,\n      default: null\n    },\n    openClass: {\n      type: [String, Array],\n      default: function _default() {\n        return directive.options.popover.defaultOpenClass;\n      }\n    }\n  },\n  data: function data() {\n    return {\n      isOpen: false,\n      id: Math.random().toString(36).substr(2, 10)\n    };\n  },\n  computed: {\n    cssClass: function cssClass() {\n      return _defineProperty({}, this.openClass, this.isOpen);\n    },\n    popoverId: function popoverId() {\n      return \"popover_\".concat(this.id);\n    }\n  },\n  watch: {\n    open: function open(val) {\n      if (val) {\n        this.show();\n      } else {\n        this.hide();\n      }\n    },\n    disabled: function disabled(val, oldVal) {\n      if (val !== oldVal) {\n        if (val) {\n          this.hide();\n        } else if (this.open) {\n          this.show();\n        }\n      }\n    },\n    container: function container(val) {\n      if (this.isOpen && this.popperInstance) {\n        var popoverNode = this.$refs.popover;\n        var reference = this.$refs.trigger;\n        var container = this.$_findContainer(this.container, reference);\n\n        if (!container) {\n          console.warn('No container for popover', this);\n          return;\n        }\n\n        container.appendChild(popoverNode);\n        this.popperInstance.scheduleUpdate();\n      }\n    },\n    trigger: function trigger(val) {\n      this.$_removeEventListeners();\n      this.$_addEventListeners();\n    },\n    placement: function placement(val) {\n      var _this = this;\n\n      this.$_updatePopper(function () {\n        _this.popperInstance.options.placement = val;\n      });\n    },\n    offset: '$_restartPopper',\n    boundariesElement: '$_restartPopper',\n    popperOptions: {\n      handler: '$_restartPopper',\n      deep: true\n    }\n  },\n  created: function created() {\n    this.$_isDisposed = false;\n    this.$_mounted = false;\n    this.$_events = [];\n    this.$_preventOpen = false;\n  },\n  mounted: function mounted() {\n    var popoverNode = this.$refs.popover;\n    popoverNode.parentNode && popoverNode.parentNode.removeChild(popoverNode);\n    this.$_init();\n\n    if (this.open) {\n      this.show();\n    }\n  },\n  deactivated: function deactivated() {\n    this.hide();\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.dispose();\n  },\n  methods: {\n    show: function show() {\n      var _this2 = this;\n\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          event = _ref2.event,\n          _ref2$skipDelay = _ref2.skipDelay,\n          _ref2$force = _ref2.force,\n          force = _ref2$force === void 0 ? false : _ref2$force;\n\n      if (force || !this.disabled) {\n        this.$_scheduleShow(event);\n        this.$emit('show');\n      }\n\n      this.$emit('update:open', true);\n      this.$_beingShowed = true;\n      requestAnimationFrame(function () {\n        _this2.$_beingShowed = false;\n      });\n    },\n    hide: function hide() {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          event = _ref3.event,\n          _ref3$skipDelay = _ref3.skipDelay;\n\n      this.$_scheduleHide(event);\n      this.$emit('hide');\n      this.$emit('update:open', false);\n    },\n    dispose: function dispose() {\n      this.$_isDisposed = true;\n      this.$_removeEventListeners();\n      this.hide({\n        skipDelay: true\n      });\n\n      if (this.popperInstance) {\n        this.popperInstance.destroy(); // destroy tooltipNode if removeOnDestroy is not set, as popperInstance.destroy() already removes the element\n\n        if (!this.popperInstance.options.removeOnDestroy) {\n          var popoverNode = this.$refs.popover;\n          popoverNode.parentNode && popoverNode.parentNode.removeChild(popoverNode);\n        }\n      }\n\n      this.$_mounted = false;\n      this.popperInstance = null;\n      this.isOpen = false;\n      this.$emit('dispose');\n    },\n    $_init: function $_init() {\n      if (this.trigger.indexOf('manual') === -1) {\n        this.$_addEventListeners();\n      }\n    },\n    $_show: function $_show() {\n      var _this3 = this;\n\n      var reference = this.$refs.trigger;\n      var popoverNode = this.$refs.popover;\n      clearTimeout(this.$_disposeTimer); // Already open\n\n      if (this.isOpen) {\n        return;\n      } // Popper is already initialized\n\n\n      if (this.popperInstance) {\n        this.isOpen = true;\n        this.popperInstance.enableEventListeners();\n        this.popperInstance.scheduleUpdate();\n      }\n\n      if (!this.$_mounted) {\n        var container = this.$_findContainer(this.container, reference);\n\n        if (!container) {\n          console.warn('No container for popover', this);\n          return;\n        }\n\n        container.appendChild(popoverNode);\n        this.$_mounted = true;\n      }\n\n      if (!this.popperInstance) {\n        var popperOptions = _objectSpread2({}, this.popperOptions, {\n          placement: this.placement\n        });\n\n        popperOptions.modifiers = _objectSpread2({}, popperOptions.modifiers, {\n          arrow: _objectSpread2({}, popperOptions.modifiers && popperOptions.modifiers.arrow, {\n            element: this.$refs.arrow\n          })\n        });\n\n        if (this.offset) {\n          var offset = this.$_getOffset();\n          popperOptions.modifiers.offset = _objectSpread2({}, popperOptions.modifiers && popperOptions.modifiers.offset, {\n            offset: offset\n          });\n        }\n\n        if (this.boundariesElement) {\n          popperOptions.modifiers.preventOverflow = _objectSpread2({}, popperOptions.modifiers && popperOptions.modifiers.preventOverflow, {\n            boundariesElement: this.boundariesElement\n          });\n        }\n\n        this.popperInstance = new popper_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](reference, popoverNode, popperOptions); // Fix position\n\n        requestAnimationFrame(function () {\n          if (_this3.hidden) {\n            _this3.hidden = false;\n\n            _this3.$_hide();\n\n            return;\n          }\n\n          if (!_this3.$_isDisposed && _this3.popperInstance) {\n            _this3.popperInstance.scheduleUpdate(); // Show the tooltip\n\n\n            requestAnimationFrame(function () {\n              if (_this3.hidden) {\n                _this3.hidden = false;\n\n                _this3.$_hide();\n\n                return;\n              }\n\n              if (!_this3.$_isDisposed) {\n                _this3.isOpen = true;\n              } else {\n                _this3.dispose();\n              }\n            });\n          } else {\n            _this3.dispose();\n          }\n        });\n      }\n\n      var openGroup = this.openGroup;\n\n      if (openGroup) {\n        var popover;\n\n        for (var i = 0; i < openPopovers.length; i++) {\n          popover = openPopovers[i];\n\n          if (popover.openGroup !== openGroup) {\n            popover.hide();\n            popover.$emit('close-group');\n          }\n        }\n      }\n\n      openPopovers.push(this);\n      this.$emit('apply-show');\n    },\n    $_hide: function $_hide() {\n      var _this4 = this;\n\n      // Already hidden\n      if (!this.isOpen) {\n        return;\n      }\n\n      var index = openPopovers.indexOf(this);\n\n      if (index !== -1) {\n        openPopovers.splice(index, 1);\n      }\n\n      this.isOpen = false;\n\n      if (this.popperInstance) {\n        this.popperInstance.disableEventListeners();\n      }\n\n      clearTimeout(this.$_disposeTimer);\n      var disposeTime = directive.options.popover.disposeTimeout || directive.options.disposeTimeout;\n\n      if (disposeTime !== null) {\n        this.$_disposeTimer = setTimeout(function () {\n          var popoverNode = _this4.$refs.popover;\n\n          if (popoverNode) {\n            // Don't remove popper instance, just the HTML element\n            popoverNode.parentNode && popoverNode.parentNode.removeChild(popoverNode);\n            _this4.$_mounted = false;\n          }\n        }, disposeTime);\n      }\n\n      this.$emit('apply-hide');\n    },\n    $_findContainer: function $_findContainer(container, reference) {\n      // if container is a query, get the relative element\n      if (typeof container === 'string') {\n        container = window.document.querySelector(container);\n      } else if (container === false) {\n        // if container is `false`, set it to reference parent\n        container = reference.parentNode;\n      }\n\n      return container;\n    },\n    $_getOffset: function $_getOffset() {\n      var typeofOffset = _typeof(this.offset);\n\n      var offset = this.offset; // One value -> switch\n\n      if (typeofOffset === 'number' || typeofOffset === 'string' && offset.indexOf(',') === -1) {\n        offset = \"0, \".concat(offset);\n      }\n\n      return offset;\n    },\n    $_addEventListeners: function $_addEventListeners() {\n      var _this5 = this;\n\n      var reference = this.$refs.trigger;\n      var directEvents = [];\n      var oppositeEvents = [];\n      var events = typeof this.trigger === 'string' ? this.trigger.split(' ').filter(function (trigger) {\n        return ['click', 'hover', 'focus'].indexOf(trigger) !== -1;\n      }) : [];\n      events.forEach(function (event) {\n        switch (event) {\n          case 'hover':\n            directEvents.push('mouseenter');\n            oppositeEvents.push('mouseleave');\n            break;\n\n          case 'focus':\n            directEvents.push('focus');\n            oppositeEvents.push('blur');\n            break;\n\n          case 'click':\n            directEvents.push('click');\n            oppositeEvents.push('click');\n            break;\n        }\n      }); // schedule show tooltip\n\n      directEvents.forEach(function (event) {\n        var func = function func(event) {\n          if (_this5.isOpen) {\n            return;\n          }\n\n          event.usedByTooltip = true;\n          !_this5.$_preventOpen && _this5.show({\n            event: event\n          });\n          _this5.hidden = false;\n        };\n\n        _this5.$_events.push({\n          event: event,\n          func: func\n        });\n\n        reference.addEventListener(event, func);\n      }); // schedule hide tooltip\n\n      oppositeEvents.forEach(function (event) {\n        var func = function func(event) {\n          if (event.usedByTooltip) {\n            return;\n          }\n\n          _this5.hide({\n            event: event\n          });\n\n          _this5.hidden = true;\n        };\n\n        _this5.$_events.push({\n          event: event,\n          func: func\n        });\n\n        reference.addEventListener(event, func);\n      });\n    },\n    $_scheduleShow: function $_scheduleShow() {\n      var skipDelay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      clearTimeout(this.$_scheduleTimer);\n\n      if (skipDelay) {\n        this.$_show();\n      } else {\n        // defaults to 0\n        var computedDelay = parseInt(this.delay && this.delay.show || this.delay || 0);\n        this.$_scheduleTimer = setTimeout(this.$_show.bind(this), computedDelay);\n      }\n    },\n    $_scheduleHide: function $_scheduleHide() {\n      var _this6 = this;\n\n      var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var skipDelay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      clearTimeout(this.$_scheduleTimer);\n\n      if (skipDelay) {\n        this.$_hide();\n      } else {\n        // defaults to 0\n        var computedDelay = parseInt(this.delay && this.delay.hide || this.delay || 0);\n        this.$_scheduleTimer = setTimeout(function () {\n          if (!_this6.isOpen) {\n            return;\n          } // if we are hiding because of a mouseleave, we must check that the new\n          // reference isn't the tooltip, because in this case we don't want to hide it\n\n\n          if (event && event.type === 'mouseleave') {\n            var isSet = _this6.$_setTooltipNodeEvent(event); // if we set the new event, don't hide the tooltip yet\n            // the new event will take care to hide it if necessary\n\n\n            if (isSet) {\n              return;\n            }\n          }\n\n          _this6.$_hide();\n        }, computedDelay);\n      }\n    },\n    $_setTooltipNodeEvent: function $_setTooltipNodeEvent(event) {\n      var _this7 = this;\n\n      var reference = this.$refs.trigger;\n      var popoverNode = this.$refs.popover;\n      var relatedreference = event.relatedreference || event.toElement || event.relatedTarget;\n\n      var callback = function callback(event2) {\n        var relatedreference2 = event2.relatedreference || event2.toElement || event2.relatedTarget; // Remove event listener after call\n\n        popoverNode.removeEventListener(event.type, callback); // If the new reference is not the reference element\n\n        if (!reference.contains(relatedreference2)) {\n          // Schedule to hide tooltip\n          _this7.hide({\n            event: event2\n          });\n        }\n      };\n\n      if (popoverNode.contains(relatedreference)) {\n        // listen to mouseleave on the tooltip element to be able to hide the tooltip\n        popoverNode.addEventListener(event.type, callback);\n        return true;\n      }\n\n      return false;\n    },\n    $_removeEventListeners: function $_removeEventListeners() {\n      var reference = this.$refs.trigger;\n      this.$_events.forEach(function (_ref4) {\n        var func = _ref4.func,\n            event = _ref4.event;\n        reference.removeEventListener(event, func);\n      });\n      this.$_events = [];\n    },\n    $_updatePopper: function $_updatePopper(cb) {\n      if (this.popperInstance) {\n        cb();\n        if (this.isOpen) this.popperInstance.scheduleUpdate();\n      }\n    },\n    $_restartPopper: function $_restartPopper() {\n      if (this.popperInstance) {\n        var isOpen = this.isOpen;\n        this.dispose();\n        this.$_isDisposed = false;\n        this.$_init();\n\n        if (isOpen) {\n          this.show({\n            skipDelay: true,\n            force: true\n          });\n        }\n      }\n    },\n    $_handleGlobalClose: function $_handleGlobalClose(event) {\n      var _this8 = this;\n\n      var touch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      if (this.$_beingShowed) return;\n      this.hide({\n        event: event\n      });\n\n      if (event.closePopover) {\n        this.$emit('close-directive');\n      } else {\n        this.$emit('auto-hide');\n      }\n\n      if (touch) {\n        this.$_preventOpen = true;\n        setTimeout(function () {\n          _this8.$_preventOpen = false;\n        }, 300);\n      }\n    },\n    $_handleResize: function $_handleResize() {\n      if (this.isOpen && this.popperInstance) {\n        this.popperInstance.scheduleUpdate();\n        this.$emit('resize');\n      }\n    }\n  }\n};\n\nif (typeof document !== 'undefined' && typeof window !== 'undefined') {\n  if (isIOS) {\n    document.addEventListener('touchend', handleGlobalTouchend, supportsPassive ? {\n      passive: true,\n      capture: true\n    } : true);\n  } else {\n    window.addEventListener('click', handleGlobalClick, true);\n  }\n}\n\nfunction handleGlobalClick(event) {\n  handleGlobalClose(event);\n}\n\nfunction handleGlobalTouchend(event) {\n  handleGlobalClose(event, true);\n}\n\nfunction handleGlobalClose(event) {\n  var touch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var _loop = function _loop(i) {\n    var popover = openPopovers[i];\n\n    if (popover.$refs.popover) {\n      var contains = popover.$refs.popover.contains(event.target);\n      requestAnimationFrame(function () {\n        if (event.closeAllPopover || event.closePopover && contains || popover.autoHide && !contains) {\n          popover.$_handleGlobalClose(event, touch);\n        }\n      });\n    }\n  };\n\n  // Delay so that close directive has time to set values\n  for (var i = 0; i < openPopovers.length; i++) {\n    _loop(i);\n  }\n}\n\nfunction normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier /* server only */, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\r\n    if (typeof shadowMode !== 'boolean') {\r\n        createInjectorSSR = createInjector;\r\n        createInjector = shadowMode;\r\n        shadowMode = false;\r\n    }\r\n    // Vue.extend constructor export interop.\r\n    const options = typeof script === 'function' ? script.options : script;\r\n    // render functions\r\n    if (template && template.render) {\r\n        options.render = template.render;\r\n        options.staticRenderFns = template.staticRenderFns;\r\n        options._compiled = true;\r\n        // functional template\r\n        if (isFunctionalTemplate) {\r\n            options.functional = true;\r\n        }\r\n    }\r\n    // scopedId\r\n    if (scopeId) {\r\n        options._scopeId = scopeId;\r\n    }\r\n    let hook;\r\n    if (moduleIdentifier) {\r\n        // server build\r\n        hook = function (context) {\r\n            // 2.3 injection\r\n            context =\r\n                context || // cached call\r\n                    (this.$vnode && this.$vnode.ssrContext) || // stateful\r\n                    (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext); // functional\r\n            // 2.2 with runInNewContext: true\r\n            if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\r\n                context = __VUE_SSR_CONTEXT__;\r\n            }\r\n            // inject component styles\r\n            if (style) {\r\n                style.call(this, createInjectorSSR(context));\r\n            }\r\n            // register component module identifier for async chunk inference\r\n            if (context && context._registeredComponents) {\r\n                context._registeredComponents.add(moduleIdentifier);\r\n            }\r\n        };\r\n        // used by ssr in case component is cached and beforeCreate\r\n        // never gets called\r\n        options._ssrRegister = hook;\r\n    }\r\n    else if (style) {\r\n        hook = shadowMode\r\n            ? function (context) {\r\n                style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot));\r\n            }\r\n            : function (context) {\r\n                style.call(this, createInjector(context));\r\n            };\r\n    }\r\n    if (hook) {\r\n        if (options.functional) {\r\n            // register for functional component in vue file\r\n            const originalRender = options.render;\r\n            options.render = function renderWithStyleInjection(h, context) {\r\n                hook.call(context);\r\n                return originalRender(h, context);\r\n            };\r\n        }\r\n        else {\r\n            // inject component registration as beforeCreate hook\r\n            const existing = options.beforeCreate;\r\n            options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\r\n        }\r\n    }\r\n    return script;\r\n}\n\n/* script */\nvar __vue_script__ = script;\n/* template */\n\nvar __vue_render__ = function __vue_render__() {\n  var _vm = this;\n\n  var _h = _vm.$createElement;\n\n  var _c = _vm._self._c || _h;\n\n  return _c(\"div\", {\n    staticClass: \"v-popover\",\n    class: _vm.cssClass\n  }, [_c(\"div\", {\n    ref: \"trigger\",\n    staticClass: \"trigger\",\n    staticStyle: {\n      display: \"inline-block\"\n    },\n    attrs: {\n      \"aria-describedby\": _vm.popoverId,\n      tabindex: _vm.trigger.indexOf(\"focus\") !== -1 ? 0 : undefined\n    }\n  }, [_vm._t(\"default\")], 2), _vm._v(\" \"), _c(\"div\", {\n    ref: \"popover\",\n    class: [_vm.popoverBaseClass, _vm.popoverClass, _vm.cssClass],\n    style: {\n      visibility: _vm.isOpen ? \"visible\" : \"hidden\"\n    },\n    attrs: {\n      id: _vm.popoverId,\n      \"aria-hidden\": _vm.isOpen ? \"false\" : \"true\",\n      tabindex: _vm.autoHide ? 0 : undefined\n    },\n    on: {\n      keyup: function keyup($event) {\n        if (!$event.type.indexOf(\"key\") && _vm._k($event.keyCode, \"esc\", 27, $event.key, [\"Esc\", \"Escape\"])) {\n          return null;\n        }\n\n        _vm.autoHide && _vm.hide();\n      }\n    }\n  }, [_c(\"div\", {\n    class: _vm.popoverWrapperClass\n  }, [_c(\"div\", {\n    ref: \"inner\",\n    class: _vm.popoverInnerClass,\n    staticStyle: {\n      position: \"relative\"\n    }\n  }, [_c(\"div\", [_vm._t(\"popover\")], 2), _vm._v(\" \"), _vm.handleResize ? _c(\"ResizeObserver\", {\n    on: {\n      notify: _vm.$_handleResize\n    }\n  }) : _vm._e()], 1), _vm._v(\" \"), _c(\"div\", {\n    ref: \"arrow\",\n    class: _vm.popoverArrowClass\n  })])])]);\n};\n\nvar __vue_staticRenderFns__ = [];\n__vue_render__._withStripped = true;\n/* style */\n\nvar __vue_inject_styles__ = undefined;\n/* scoped */\n\nvar __vue_scope_id__ = undefined;\n/* module identifier */\n\nvar __vue_module_identifier__ = undefined;\n/* functional template */\n\nvar __vue_is_functional_template__ = false;\n/* style inject */\n\n/* style inject SSR */\n\n/* style inject shadow dom */\n\nvar __vue_component__ = normalizeComponent({\n  render: __vue_render__,\n  staticRenderFns: __vue_staticRenderFns__\n}, __vue_inject_styles__, __vue_script__, __vue_scope_id__, __vue_is_functional_template__, __vue_module_identifier__, false, undefined, undefined, undefined);\n\nvar defineProperty = (function() {\n  try {\n    var func = _getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nvar _defineProperty$1 = defineProperty;\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && _defineProperty$1) {\n    _defineProperty$1(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nvar _baseAssignValue = baseAssignValue;\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq_1(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    _baseAssignValue(object, key, value);\n  }\n}\n\nvar _assignMergeValue = assignMergeValue;\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nvar _createBaseFor = createBaseFor;\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = _createBaseFor();\n\nvar _baseFor = baseFor;\n\nvar _cloneBuffer = createCommonjsModule(function (module, exports) {\n/** Detect free variable `exports`. */\nvar freeExports =  exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? _root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nmodule.exports = cloneBuffer;\n});\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new _Uint8Array(result).set(new _Uint8Array(arrayBuffer));\n  return result;\n}\n\nvar _cloneArrayBuffer = cloneArrayBuffer;\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? _cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nvar _cloneTypedArray = cloneTypedArray;\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nvar _copyArray = copyArray;\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject_1(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nvar _baseCreate = baseCreate;\n\n/** Built-in value references. */\nvar getPrototype = _overArg(Object.getPrototypeOf, Object);\n\nvar _getPrototype = getPrototype;\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !_isPrototype(object))\n    ? _baseCreate(_getPrototype(object))\n    : {};\n}\n\nvar _initCloneObject = initCloneObject;\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike_1(value) && isArrayLike_1(value);\n}\n\nvar isArrayLikeObject_1 = isArrayLikeObject;\n\n/** `Object#toString` result references. */\nvar objectTag$3 = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto$2 = Function.prototype,\n    objectProto$c = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString$2 = funcProto$2.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$9 = objectProto$c.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString$2.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike_1(value) || _baseGetTag(value) != objectTag$3) {\n    return false;\n  }\n  var proto = _getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty$9.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString$2.call(Ctor) == objectCtorString;\n}\n\nvar isPlainObject_1 = isPlainObject;\n\n/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\nvar _safeGet = safeGet;\n\n/** Used for built-in method references. */\nvar objectProto$d = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$a = objectProto$d.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty$a.call(object, key) && eq_1(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    _baseAssignValue(object, key, value);\n  }\n}\n\nvar _assignValue = assignValue;\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      _baseAssignValue(object, key, newValue);\n    } else {\n      _assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nvar _copyObject = copyObject;\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nvar _nativeKeysIn = nativeKeysIn;\n\n/** Used for built-in method references. */\nvar objectProto$e = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$b = objectProto$e.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject_1(object)) {\n    return _nativeKeysIn(object);\n  }\n  var isProto = _isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty$b.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nvar _baseKeysIn = baseKeysIn;\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike_1(object) ? _arrayLikeKeys(object, true) : _baseKeysIn(object);\n}\n\nvar keysIn_1 = keysIn;\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return _copyObject(value, keysIn_1(value));\n}\n\nvar toPlainObject_1 = toPlainObject;\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = _safeGet(object, key),\n      srcValue = _safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    _assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray_1(srcValue),\n        isBuff = !isArr && isBuffer_1(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray_1(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray_1(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject_1(objValue)) {\n        newValue = _copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = _cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = _cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject_1(srcValue) || isArguments_1(srcValue)) {\n      newValue = objValue;\n      if (isArguments_1(objValue)) {\n        newValue = toPlainObject_1(objValue);\n      }\n      else if (!isObject_1(objValue) || isFunction_1(objValue)) {\n        newValue = _initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  _assignMergeValue(object, key, newValue);\n}\n\nvar _baseMergeDeep = baseMergeDeep;\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  _baseFor(source, function(srcValue, key) {\n    stack || (stack = new _Stack);\n    if (isObject_1(srcValue)) {\n      _baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(_safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      _assignMergeValue(object, key, newValue);\n    }\n  }, keysIn_1);\n}\n\nvar _baseMerge = baseMerge;\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nvar identity_1 = identity;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nvar _apply = apply;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return _apply(func, this, otherArgs);\n  };\n}\n\nvar _overRest = overRest;\n\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nvar constant_1 = constant;\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !_defineProperty$1 ? identity_1 : function(func, string) {\n  return _defineProperty$1(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant_1(string),\n    'writable': true\n  });\n};\n\nvar _baseSetToString = baseSetToString;\n\n/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nvar _shortOut = shortOut;\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = _shortOut(_baseSetToString);\n\nvar _setToString = setToString;\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return _setToString(_overRest(func, start, identity_1), func + '');\n}\n\nvar _baseRest = baseRest;\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject_1(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike_1(object) && _isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq_1(object[index], value);\n  }\n  return false;\n}\n\nvar _isIterateeCall = isIterateeCall;\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return _baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && _isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nvar _createAssigner = createAssigner;\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = _createAssigner(function(object, source, srcIndex) {\n  _baseMerge(object, source, srcIndex);\n});\n\nvar merge_1 = merge;\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \".resize-observer[data-v-b329ee4c]{position:absolute;top:0;left:0;z-index:-1;width:100%;height:100%;border:none;background-color:transparent;pointer-events:none;display:block;overflow:hidden;opacity:0}.resize-observer[data-v-b329ee4c] object{display:block;position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1}\";\nstyleInject(css);\n\nfunction install(Vue) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if (install.installed) return;\n  install.installed = true;\n  var finalOptions = {};\n  merge_1(finalOptions, defaultOptions, options);\n  plugin.options = finalOptions;\n  directive.options = finalOptions;\n  Vue.directive('tooltip', directive);\n  Vue.directive('close-popover', vclosepopover);\n  Vue.component('v-popover', __vue_component__);\n}\nvar VTooltip = directive;\nvar VClosePopover = vclosepopover;\nvar VPopover = __vue_component__;\nvar plugin = {\n  install: install,\n\n  get enabled() {\n    return state.enabled;\n  },\n\n  set enabled(value) {\n    state.enabled = value;\n  }\n\n}; // Auto-install\n\nvar GlobalVue = null;\n\nif (typeof window !== 'undefined') {\n  GlobalVue = window.Vue;\n} else if (typeof global !== 'undefined') {\n  GlobalVue = global.Vue;\n}\n\nif (GlobalVue) {\n  GlobalVue.use(plugin);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (plugin);\n\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/v-tooltip/dist/v-tooltip.esm.js?")},"./node_modules/vue-loader/lib/runtime/componentNormalizer.js":
/*!********************************************************************!*\
  !*** ./node_modules/vue-loader/lib/runtime/componentNormalizer.js ***!
  \********************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return normalizeComponent; });\n/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nfunction normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n        injectStyles.call(\n          this,\n          (options.functional ? this.parent : this).$root.$options.shadowRoot\n        )\n      }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/vue-loader/lib/runtime/componentNormalizer.js?")},"./node_modules/vue-resize/dist/vue-resize.esm.js":
/*!********************************************************!*\
  !*** ./node_modules/vue-resize/dist/vue-resize.esm.js ***!
  \********************************************************/
/*! exports provided: install, ResizeObserver, default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"install\", function() { return install; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ResizeObserver\", function() { return ResizeObserver; });\nfunction getInternetExplorerVersion() {\n\tvar ua = window.navigator.userAgent;\n\n\tvar msie = ua.indexOf('MSIE ');\n\tif (msie > 0) {\n\t\t// IE 10 or older => return version number\n\t\treturn parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\n\t}\n\n\tvar trident = ua.indexOf('Trident/');\n\tif (trident > 0) {\n\t\t// IE 11 => return version number\n\t\tvar rv = ua.indexOf('rv:');\n\t\treturn parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\n\t}\n\n\tvar edge = ua.indexOf('Edge/');\n\tif (edge > 0) {\n\t\t// Edge (IE 12+) => return version number\n\t\treturn parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\n\t}\n\n\t// other browser\n\treturn -1;\n}\n\nvar isIE = void 0;\n\nfunction initCompat() {\n\tif (!initCompat.init) {\n\t\tinitCompat.init = true;\n\t\tisIE = getInternetExplorerVersion() !== -1;\n\t}\n}\n\nvar ResizeObserver = { render: function render() {\n\t\tvar _vm = this;var _h = _vm.$createElement;var _c = _vm._self._c || _h;return _c('div', { staticClass: \"resize-observer\", attrs: { \"tabindex\": \"-1\" } });\n\t}, staticRenderFns: [], _scopeId: 'data-v-b329ee4c',\n\tname: 'resize-observer',\n\n\tmethods: {\n\t\tcompareAndNotify: function compareAndNotify() {\n\t\t\tif (this._w !== this.$el.offsetWidth || this._h !== this.$el.offsetHeight) {\n\t\t\t\tthis._w = this.$el.offsetWidth;\n\t\t\t\tthis._h = this.$el.offsetHeight;\n\t\t\t\tthis.$emit('notify');\n\t\t\t}\n\t\t},\n\t\taddResizeHandlers: function addResizeHandlers() {\n\t\t\tthis._resizeObject.contentDocument.defaultView.addEventListener('resize', this.compareAndNotify);\n\t\t\tthis.compareAndNotify();\n\t\t},\n\t\tremoveResizeHandlers: function removeResizeHandlers() {\n\t\t\tif (this._resizeObject && this._resizeObject.onload) {\n\t\t\t\tif (!isIE && this._resizeObject.contentDocument) {\n\t\t\t\t\tthis._resizeObject.contentDocument.defaultView.removeEventListener('resize', this.compareAndNotify);\n\t\t\t\t}\n\t\t\t\tdelete this._resizeObject.onload;\n\t\t\t}\n\t\t}\n\t},\n\n\tmounted: function mounted() {\n\t\tvar _this = this;\n\n\t\tinitCompat();\n\t\tthis.$nextTick(function () {\n\t\t\t_this._w = _this.$el.offsetWidth;\n\t\t\t_this._h = _this.$el.offsetHeight;\n\t\t});\n\t\tvar object = document.createElement('object');\n\t\tthis._resizeObject = object;\n\t\tobject.setAttribute('aria-hidden', 'true');\n\t\tobject.setAttribute('tabindex', -1);\n\t\tobject.onload = this.addResizeHandlers;\n\t\tobject.type = 'text/html';\n\t\tif (isIE) {\n\t\t\tthis.$el.appendChild(object);\n\t\t}\n\t\tobject.data = 'about:blank';\n\t\tif (!isIE) {\n\t\t\tthis.$el.appendChild(object);\n\t\t}\n\t},\n\tbeforeDestroy: function beforeDestroy() {\n\t\tthis.removeResizeHandlers();\n\t}\n};\n\n// Install the components\nfunction install(Vue) {\n\tVue.component('resize-observer', ResizeObserver);\n\tVue.component('ResizeObserver', ResizeObserver);\n}\n\n// Plugin\nvar plugin = {\n\t// eslint-disable-next-line no-undef\n\tversion: \"0.4.5\",\n\tinstall: install\n};\n\n// Auto-install\nvar GlobalVue = null;\nif (typeof window !== 'undefined') {\n\tGlobalVue = window.Vue;\n} else if (typeof global !== 'undefined') {\n\tGlobalVue = global.Vue;\n}\nif (GlobalVue) {\n\tGlobalVue.use(plugin);\n}\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (plugin);\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/vue-resize/dist/vue-resize.esm.js?")},"./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/ChatWindow.vue?vue&type=style&index=0&id=7e6303be&scoped=true&lang=css&":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/ChatWindow.vue?vue&type=style&index=0&id=7e6303be&scoped=true&lang=css& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./ChatWindow.vue?vue&type=style&index=0&id=7e6303be&scoped=true&lang=css& */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/ChatWindow.vue?vue&type=style&index=0&id=7e6303be&scoped=true&lang=css&");\nif(typeof content === \'string\') content = [[module.i, content, \'\']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(/*! ../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default\nvar update = add("9fc5e8da", content, false, {"sourceMap":false,"shadowMode":false});\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/ChatWindow.vue?./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/EmojiPicker.vue?vue&type=style&index=0&id=d57501ea&scoped=true&lang=css&":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/EmojiPicker.vue?vue&type=style&index=0&id=d57501ea&scoped=true&lang=css& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./EmojiPicker.vue?vue&type=style&index=0&id=d57501ea&scoped=true&lang=css& */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/EmojiPicker.vue?vue&type=style&index=0&id=d57501ea&scoped=true&lang=css&");\nif(typeof content === \'string\') content = [[module.i, content, \'\']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(/*! ../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default\nvar update = add("2f32b0c8", content, false, {"sourceMap":false,"shadowMode":false});\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/EmojiPicker.vue?./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Header.vue?vue&type=style&index=0&id=740df574&scoped=true&lang=css&":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/Header.vue?vue&type=style&index=0&id=740df574&scoped=true&lang=css& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./Header.vue?vue&type=style&index=0&id=740df574&scoped=true&lang=css& */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Header.vue?vue&type=style&index=0&id=740df574&scoped=true&lang=css&");\nif(typeof content === \'string\') content = [[module.i, content, \'\']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(/*! ../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default\nvar update = add("3738a771", content, false, {"sourceMap":false,"shadowMode":false});\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Header.vue?./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Launcher.vue?vue&type=style&index=0&id=542b4c99&scoped=true&lang=css&":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/Launcher.vue?vue&type=style&index=0&id=542b4c99&scoped=true&lang=css& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./Launcher.vue?vue&type=style&index=0&id=542b4c99&scoped=true&lang=css& */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Launcher.vue?vue&type=style&index=0&id=542b4c99&scoped=true&lang=css&");\nif(typeof content === \'string\') content = [[module.i, content, \'\']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(/*! ../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default\nvar update = add("84cf0754", content, false, {"sourceMap":false,"shadowMode":false});\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Launcher.vue?./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/MessageList.vue?vue&type=style&index=0&id=b0506148&scoped=true&lang=css&":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/MessageList.vue?vue&type=style&index=0&id=b0506148&scoped=true&lang=css& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./MessageList.vue?vue&type=style&index=0&id=b0506148&scoped=true&lang=css& */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/MessageList.vue?vue&type=style&index=0&id=b0506148&scoped=true&lang=css&");\nif(typeof content === \'string\') content = [[module.i, content, \'\']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(/*! ../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default\nvar update = add("745ff084", content, false, {"sourceMap":false,"shadowMode":false});\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/MessageList.vue?./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Suggestions.vue?vue&type=style&index=0&lang=css&":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/Suggestions.vue?vue&type=style&index=0&lang=css& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./Suggestions.vue?vue&type=style&index=0&lang=css& */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Suggestions.vue?vue&type=style&index=0&lang=css&");\nif(typeof content === \'string\') content = [[module.i, content, \'\']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(/*! ../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default\nvar update = add("730989aa", content, false, {"sourceMap":false,"shadowMode":false});\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Suggestions.vue?./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/UserInput.vue?vue&type=style&index=0&id=50424f96&scoped=true&lang=css&":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/UserInput.vue?vue&type=style&index=0&id=50424f96&scoped=true&lang=css& ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./UserInput.vue?vue&type=style&index=0&id=50424f96&scoped=true&lang=css& */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/UserInput.vue?vue&type=style&index=0&id=50424f96&scoped=true&lang=css&");\nif(typeof content === \'string\') content = [[module.i, content, \'\']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(/*! ../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default\nvar update = add("488518f8", content, false, {"sourceMap":false,"shadowMode":false});\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/UserInput.vue?./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/UserInputButton.vue?vue&type=style&index=0&id=ced59930&scoped=true&lang=css&":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/UserInputButton.vue?vue&type=style&index=0&id=ced59930&scoped=true&lang=css& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./UserInputButton.vue?vue&type=style&index=0&id=ced59930&scoped=true&lang=css& */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/UserInputButton.vue?vue&type=style&index=0&id=ced59930&scoped=true&lang=css&");\nif(typeof content === \'string\') content = [[module.i, content, \'\']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(/*! ../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default\nvar update = add("30415a8c", content, false, {"sourceMap":false,"shadowMode":false});\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/UserInputButton.vue?./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/UserList.vue?vue&type=style&index=0&id=15a49382&scoped=true&lang=css&":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/UserList.vue?vue&type=style&index=0&id=15a49382&scoped=true&lang=css& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./UserList.vue?vue&type=style&index=0&id=15a49382&scoped=true&lang=css& */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/UserList.vue?vue&type=style&index=0&id=15a49382&scoped=true&lang=css&");\nif(typeof content === \'string\') content = [[module.i, content, \'\']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(/*! ../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default\nvar update = add("1525380a", content, false, {"sourceMap":false,"shadowMode":false});\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/UserList.vue?./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/IconBase.vue?vue&type=style&index=0&id=229c6e1a&scoped=true&lang=css&":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/IconBase.vue?vue&type=style&index=0&id=229c6e1a&scoped=true&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./IconBase.vue?vue&type=style&index=0&id=229c6e1a&scoped=true&lang=css& */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/IconBase.vue?vue&type=style&index=0&id=229c6e1a&scoped=true&lang=css&");\nif(typeof content === \'string\') content = [[module.i, content, \'\']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(/*! ../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default\nvar update = add("2d70eccd", content, false, {"sourceMap":false,"shadowMode":false});\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/components/IconBase.vue?./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/icons/EmojiIcon.vue?vue&type=style&index=0&id=35adf941&scoped=true&lang=css&":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/icons/EmojiIcon.vue?vue&type=style&index=0&id=35adf941&scoped=true&lang=css& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./EmojiIcon.vue?vue&type=style&index=0&id=35adf941&scoped=true&lang=css& */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/icons/EmojiIcon.vue?vue&type=style&index=0&id=35adf941&scoped=true&lang=css&");\nif(typeof content === \'string\') content = [[module.i, content, \'\']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(/*! ../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default\nvar update = add("61fff3a6", content, false, {"sourceMap":false,"shadowMode":false});\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/icons/EmojiIcon.vue?./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/icons/FileIcons.vue?vue&type=style&index=0&id=020ba240&scoped=true&lang=css&":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/icons/FileIcons.vue?vue&type=style&index=0&id=020ba240&scoped=true&lang=css& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./FileIcons.vue?vue&type=style&index=0&id=020ba240&scoped=true&lang=css& */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/icons/FileIcons.vue?vue&type=style&index=0&id=020ba240&scoped=true&lang=css&");\nif(typeof content === \'string\') content = [[module.i, content, \'\']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(/*! ../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default\nvar update = add("2e80af59", content, false, {"sourceMap":false,"shadowMode":false});\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/icons/FileIcons.vue?./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/EmojiMessage.vue?vue&type=style&index=0&id=2b642e4a&scoped=true&lang=css&":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/messages/EmojiMessage.vue?vue&type=style&index=0&id=2b642e4a&scoped=true&lang=css& ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./EmojiMessage.vue?vue&type=style&index=0&id=2b642e4a&scoped=true&lang=css& */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/EmojiMessage.vue?vue&type=style&index=0&id=2b642e4a&scoped=true&lang=css&");\nif(typeof content === \'string\') content = [[module.i, content, \'\']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(/*! ../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default\nvar update = add("09c69f08", content, false, {"sourceMap":false,"shadowMode":false});\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/EmojiMessage.vue?./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/FileMessage.vue?vue&type=style&index=0&id=cedde43e&scoped=true&lang=css&":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/messages/FileMessage.vue?vue&type=style&index=0&id=cedde43e&scoped=true&lang=css& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./FileMessage.vue?vue&type=style&index=0&id=cedde43e&scoped=true&lang=css& */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/FileMessage.vue?vue&type=style&index=0&id=cedde43e&scoped=true&lang=css&");\nif(typeof content === \'string\') content = [[module.i, content, \'\']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(/*! ../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default\nvar update = add("5a87ee9a", content, false, {"sourceMap":false,"shadowMode":false});\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/FileMessage.vue?./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/SystemMessage.vue?vue&type=style&index=0&id=d1ca9864&scoped=true&lang=css&":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/messages/SystemMessage.vue?vue&type=style&index=0&id=d1ca9864&scoped=true&lang=css& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./SystemMessage.vue?vue&type=style&index=0&id=d1ca9864&scoped=true&lang=css& */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/SystemMessage.vue?vue&type=style&index=0&id=d1ca9864&scoped=true&lang=css&");\nif(typeof content === \'string\') content = [[module.i, content, \'\']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(/*! ../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default\nvar update = add("b7e046f0", content, false, {"sourceMap":false,"shadowMode":false});\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/SystemMessage.vue?./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/TypingMessage.vue?vue&type=style&index=0&id=5a1c0386&scoped=true&lang=css&":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/messages/TypingMessage.vue?vue&type=style&index=0&id=5a1c0386&scoped=true&lang=css& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./TypingMessage.vue?vue&type=style&index=0&id=5a1c0386&scoped=true&lang=css& */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/TypingMessage.vue?vue&type=style&index=0&id=5a1c0386&scoped=true&lang=css&");\nif(typeof content === \'string\') content = [[module.i, content, \'\']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(/*! ../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default\nvar update = add("3413d241", content, false, {"sourceMap":false,"shadowMode":false});\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/TypingMessage.vue?./node_modules/vue-style-loader??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Message.vue?vue&type=style&index=0&lang=scss&":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--8-oneOf-1-2!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/Message.vue?vue&type=style&index=0&lang=scss& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./Message.vue?vue&type=style&index=0&lang=scss& */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Message.vue?vue&type=style&index=0&lang=scss&");\nif(typeof content === \'string\') content = [[module.i, content, \'\']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(/*! ../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default\nvar update = add("1114e522", content, false, {"sourceMap":false,"shadowMode":false});\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Message.vue?./node_modules/vue-style-loader??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--8-oneOf-1-2!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/TextMessage.vue?vue&type=style&index=0&id=c6b294e0&scoped=true&lang=scss&":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--8-oneOf-1-2!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/messages/TextMessage.vue?vue&type=style&index=0&id=c6b294e0&scoped=true&lang=scss& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./TextMessage.vue?vue&type=style&index=0&id=c6b294e0&scoped=true&lang=scss& */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/TextMessage.vue?vue&type=style&index=0&id=c6b294e0&scoped=true&lang=scss&");\nif(typeof content === \'string\') content = [[module.i, content, \'\']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(/*! ../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default\nvar update = add("6040559c", content, false, {"sourceMap":false,"shadowMode":false});\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/TextMessage.vue?./node_modules/vue-style-loader??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--8-oneOf-1-2!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options')},"./node_modules/vue-style-loader/lib/addStylesClient.js":
/*!**************************************************************!*\
  !*** ./node_modules/vue-style-loader/lib/addStylesClient.js ***!
  \**************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return addStylesClient; });\n/* harmony import */ var _listToStyles__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./listToStyles */ \"./node_modules/vue-style-loader/lib/listToStyles.js\");\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\n\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\nvar options = null\nvar ssrIdKey = 'data-vue-ssr-id'\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nfunction addStylesClient (parentId, list, _isProduction, _options) {\n  isProduction = _isProduction\n\n  options = _options || {}\n\n  var styles = Object(_listToStyles__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = Object(_listToStyles__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[' + ssrIdKey + '~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n  if (options.ssrId) {\n    styleElement.setAttribute(ssrIdKey, obj.id)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/vue-style-loader/lib/addStylesClient.js?")},"./node_modules/vue-style-loader/lib/listToStyles.js":
/*!***********************************************************!*\
  !*** ./node_modules/vue-style-loader/lib/listToStyles.js ***!
  \***********************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return listToStyles; });\n/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nfunction listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./node_modules/vue-style-loader/lib/listToStyles.js?")},"./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */function(module,exports){eval('var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function("return this")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === "object") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it\'s\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n//# sourceURL=webpack://vue-beautiful-chat/(webpack)/buildin/global.js?')},"./src/ChatWindow.vue":
/*!****************************!*\
  !*** ./src/ChatWindow.vue ***!
  \****************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ChatWindow_vue_vue_type_template_id_7e6303be_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ChatWindow.vue?vue&type=template&id=7e6303be&scoped=true& */ "./src/ChatWindow.vue?vue&type=template&id=7e6303be&scoped=true&");\n/* harmony import */ var _ChatWindow_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ChatWindow.vue?vue&type=script&lang=js& */ "./src/ChatWindow.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport *//* harmony import */ var _ChatWindow_vue_vue_type_style_index_0_id_7e6303be_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ChatWindow.vue?vue&type=style&index=0&id=7e6303be&scoped=true&lang=css& */ "./src/ChatWindow.vue?vue&type=style&index=0&id=7e6303be&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(\n  _ChatWindow_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],\n  _ChatWindow_vue_vue_type_template_id_7e6303be_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"],\n  _ChatWindow_vue_vue_type_template_id_7e6303be_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],\n  false,\n  null,\n  "7e6303be",\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = "src/ChatWindow.vue"\n/* harmony default export */ __webpack_exports__["default"] = (component.exports);\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/ChatWindow.vue?')},"./src/ChatWindow.vue?vue&type=script&lang=js&":
/*!*****************************************************!*\
  !*** ./src/ChatWindow.vue?vue&type=script&lang=js& ***!
  \*****************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ChatWindow_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./ChatWindow.vue?vue&type=script&lang=js& */ "./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/ChatWindow.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__["default"] = (_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ChatWindow_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__["default"]); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/ChatWindow.vue?')},"./src/ChatWindow.vue?vue&type=style&index=0&id=7e6303be&scoped=true&lang=css&":
/*!*************************************************************************************!*\
  !*** ./src/ChatWindow.vue?vue&type=style&index=0&id=7e6303be&scoped=true&lang=css& ***!
  \*************************************************************************************/
/*! no static exports found */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ChatWindow_vue_vue_type_style_index_0_id_7e6303be_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/vue-style-loader??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./ChatWindow.vue?vue&type=style&index=0&id=7e6303be&scoped=true&lang=css& */ "./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/ChatWindow.vue?vue&type=style&index=0&id=7e6303be&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ChatWindow_vue_vue_type_style_index_0_id_7e6303be_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ChatWindow_vue_vue_type_style_index_0_id_7e6303be_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ChatWindow_vue_vue_type_style_index_0_id_7e6303be_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \'default\') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ChatWindow_vue_vue_type_style_index_0_id_7e6303be_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ChatWindow_vue_vue_type_style_index_0_id_7e6303be_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/ChatWindow.vue?')},"./src/ChatWindow.vue?vue&type=template&id=7e6303be&scoped=true&":
/*!***********************************************************************!*\
  !*** ./src/ChatWindow.vue?vue&type=template&id=7e6303be&scoped=true& ***!
  \***********************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ChatWindow_vue_vue_type_template_id_7e6303be_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./ChatWindow.vue?vue&type=template&id=7e6303be&scoped=true& */ "./node_modules/cache-loader/dist/cjs.js?{\\"cacheDirectory\\":\\"node_modules/.cache/vue-loader\\",\\"cacheIdentifier\\":\\"bef95c9c-vue-loader-template\\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/ChatWindow.vue?vue&type=template&id=7e6303be&scoped=true&");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ChatWindow_vue_vue_type_template_id_7e6303be_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ChatWindow_vue_vue_type_template_id_7e6303be_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/ChatWindow.vue?')},"./src/EmojiPicker.vue":
/*!*****************************!*\
  !*** ./src/EmojiPicker.vue ***!
  \*****************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _EmojiPicker_vue_vue_type_template_id_d57501ea_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EmojiPicker.vue?vue&type=template&id=d57501ea&scoped=true& */ "./src/EmojiPicker.vue?vue&type=template&id=d57501ea&scoped=true&");\n/* harmony import */ var _EmojiPicker_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EmojiPicker.vue?vue&type=script&lang=js& */ "./src/EmojiPicker.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport *//* harmony import */ var _EmojiPicker_vue_vue_type_style_index_0_id_d57501ea_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EmojiPicker.vue?vue&type=style&index=0&id=d57501ea&scoped=true&lang=css& */ "./src/EmojiPicker.vue?vue&type=style&index=0&id=d57501ea&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(\n  _EmojiPicker_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],\n  _EmojiPicker_vue_vue_type_template_id_d57501ea_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"],\n  _EmojiPicker_vue_vue_type_template_id_d57501ea_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],\n  false,\n  null,\n  "d57501ea",\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = "src/EmojiPicker.vue"\n/* harmony default export */ __webpack_exports__["default"] = (component.exports);\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/EmojiPicker.vue?')},"./src/EmojiPicker.vue?vue&type=script&lang=js&":
/*!******************************************************!*\
  !*** ./src/EmojiPicker.vue?vue&type=script&lang=js& ***!
  \******************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiPicker_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./EmojiPicker.vue?vue&type=script&lang=js& */ "./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/EmojiPicker.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__["default"] = (_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiPicker_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__["default"]); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/EmojiPicker.vue?')},"./src/EmojiPicker.vue?vue&type=style&index=0&id=d57501ea&scoped=true&lang=css&":
/*!**************************************************************************************!*\
  !*** ./src/EmojiPicker.vue?vue&type=style&index=0&id=d57501ea&scoped=true&lang=css& ***!
  \**************************************************************************************/
/*! no static exports found */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiPicker_vue_vue_type_style_index_0_id_d57501ea_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/vue-style-loader??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./EmojiPicker.vue?vue&type=style&index=0&id=d57501ea&scoped=true&lang=css& */ "./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/EmojiPicker.vue?vue&type=style&index=0&id=d57501ea&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiPicker_vue_vue_type_style_index_0_id_d57501ea_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiPicker_vue_vue_type_style_index_0_id_d57501ea_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiPicker_vue_vue_type_style_index_0_id_d57501ea_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \'default\') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiPicker_vue_vue_type_style_index_0_id_d57501ea_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiPicker_vue_vue_type_style_index_0_id_d57501ea_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/EmojiPicker.vue?')},"./src/EmojiPicker.vue?vue&type=template&id=d57501ea&scoped=true&":
/*!************************************************************************!*\
  !*** ./src/EmojiPicker.vue?vue&type=template&id=d57501ea&scoped=true& ***!
  \************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiPicker_vue_vue_type_template_id_d57501ea_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./EmojiPicker.vue?vue&type=template&id=d57501ea&scoped=true& */ "./node_modules/cache-loader/dist/cjs.js?{\\"cacheDirectory\\":\\"node_modules/.cache/vue-loader\\",\\"cacheIdentifier\\":\\"bef95c9c-vue-loader-template\\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/EmojiPicker.vue?vue&type=template&id=d57501ea&scoped=true&");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiPicker_vue_vue_type_template_id_d57501ea_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiPicker_vue_vue_type_template_id_d57501ea_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/EmojiPicker.vue?')},"./src/Header.vue":
/*!************************!*\
  !*** ./src/Header.vue ***!
  \************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Header_vue_vue_type_template_id_740df574_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Header.vue?vue&type=template&id=740df574&scoped=true& */ "./src/Header.vue?vue&type=template&id=740df574&scoped=true&");\n/* harmony import */ var _Header_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Header.vue?vue&type=script&lang=js& */ "./src/Header.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport *//* harmony import */ var _Header_vue_vue_type_style_index_0_id_740df574_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Header.vue?vue&type=style&index=0&id=740df574&scoped=true&lang=css& */ "./src/Header.vue?vue&type=style&index=0&id=740df574&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(\n  _Header_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],\n  _Header_vue_vue_type_template_id_740df574_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"],\n  _Header_vue_vue_type_template_id_740df574_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],\n  false,\n  null,\n  "740df574",\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = "src/Header.vue"\n/* harmony default export */ __webpack_exports__["default"] = (component.exports);\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Header.vue?')},"./src/Header.vue?vue&type=script&lang=js&":
/*!*************************************************!*\
  !*** ./src/Header.vue?vue&type=script&lang=js& ***!
  \*************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Header_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./Header.vue?vue&type=script&lang=js& */ "./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Header.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__["default"] = (_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Header_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__["default"]); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Header.vue?')},"./src/Header.vue?vue&type=style&index=0&id=740df574&scoped=true&lang=css&":
/*!*********************************************************************************!*\
  !*** ./src/Header.vue?vue&type=style&index=0&id=740df574&scoped=true&lang=css& ***!
  \*********************************************************************************/
/*! no static exports found */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Header_vue_vue_type_style_index_0_id_740df574_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/vue-style-loader??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./Header.vue?vue&type=style&index=0&id=740df574&scoped=true&lang=css& */ "./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Header.vue?vue&type=style&index=0&id=740df574&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Header_vue_vue_type_style_index_0_id_740df574_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Header_vue_vue_type_style_index_0_id_740df574_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Header_vue_vue_type_style_index_0_id_740df574_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \'default\') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Header_vue_vue_type_style_index_0_id_740df574_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Header_vue_vue_type_style_index_0_id_740df574_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Header.vue?')},"./src/Header.vue?vue&type=template&id=740df574&scoped=true&":
/*!*******************************************************************!*\
  !*** ./src/Header.vue?vue&type=template&id=740df574&scoped=true& ***!
  \*******************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Header_vue_vue_type_template_id_740df574_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./Header.vue?vue&type=template&id=740df574&scoped=true& */ "./node_modules/cache-loader/dist/cjs.js?{\\"cacheDirectory\\":\\"node_modules/.cache/vue-loader\\",\\"cacheIdentifier\\":\\"bef95c9c-vue-loader-template\\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Header.vue?vue&type=template&id=740df574&scoped=true&");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Header_vue_vue_type_template_id_740df574_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Header_vue_vue_type_template_id_740df574_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Header.vue?')},"./src/Launcher.vue":
/*!**************************!*\
  !*** ./src/Launcher.vue ***!
  \**************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Launcher_vue_vue_type_template_id_542b4c99_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Launcher.vue?vue&type=template&id=542b4c99&scoped=true& */ "./src/Launcher.vue?vue&type=template&id=542b4c99&scoped=true&");\n/* harmony import */ var _Launcher_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Launcher.vue?vue&type=script&lang=js& */ "./src/Launcher.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport *//* harmony import */ var _Launcher_vue_vue_type_style_index_0_id_542b4c99_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Launcher.vue?vue&type=style&index=0&id=542b4c99&scoped=true&lang=css& */ "./src/Launcher.vue?vue&type=style&index=0&id=542b4c99&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(\n  _Launcher_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],\n  _Launcher_vue_vue_type_template_id_542b4c99_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"],\n  _Launcher_vue_vue_type_template_id_542b4c99_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],\n  false,\n  null,\n  "542b4c99",\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = "src/Launcher.vue"\n/* harmony default export */ __webpack_exports__["default"] = (component.exports);\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Launcher.vue?')},"./src/Launcher.vue?vue&type=script&lang=js&":
/*!***************************************************!*\
  !*** ./src/Launcher.vue?vue&type=script&lang=js& ***!
  \***************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Launcher_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./Launcher.vue?vue&type=script&lang=js& */ "./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Launcher.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__["default"] = (_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Launcher_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__["default"]); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Launcher.vue?')},"./src/Launcher.vue?vue&type=style&index=0&id=542b4c99&scoped=true&lang=css&":
/*!***********************************************************************************!*\
  !*** ./src/Launcher.vue?vue&type=style&index=0&id=542b4c99&scoped=true&lang=css& ***!
  \***********************************************************************************/
/*! no static exports found */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Launcher_vue_vue_type_style_index_0_id_542b4c99_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/vue-style-loader??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./Launcher.vue?vue&type=style&index=0&id=542b4c99&scoped=true&lang=css& */ "./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Launcher.vue?vue&type=style&index=0&id=542b4c99&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Launcher_vue_vue_type_style_index_0_id_542b4c99_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Launcher_vue_vue_type_style_index_0_id_542b4c99_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Launcher_vue_vue_type_style_index_0_id_542b4c99_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \'default\') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Launcher_vue_vue_type_style_index_0_id_542b4c99_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Launcher_vue_vue_type_style_index_0_id_542b4c99_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Launcher.vue?')},"./src/Launcher.vue?vue&type=template&id=542b4c99&scoped=true&":
/*!*********************************************************************!*\
  !*** ./src/Launcher.vue?vue&type=template&id=542b4c99&scoped=true& ***!
  \*********************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Launcher_vue_vue_type_template_id_542b4c99_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./Launcher.vue?vue&type=template&id=542b4c99&scoped=true& */ "./node_modules/cache-loader/dist/cjs.js?{\\"cacheDirectory\\":\\"node_modules/.cache/vue-loader\\",\\"cacheIdentifier\\":\\"bef95c9c-vue-loader-template\\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Launcher.vue?vue&type=template&id=542b4c99&scoped=true&");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Launcher_vue_vue_type_template_id_542b4c99_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Launcher_vue_vue_type_template_id_542b4c99_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Launcher.vue?')},"./src/Message.vue":
/*!*************************!*\
  !*** ./src/Message.vue ***!
  \*************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Message_vue_vue_type_template_id_fdaea6c4___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Message.vue?vue&type=template&id=fdaea6c4& */ "./src/Message.vue?vue&type=template&id=fdaea6c4&");\n/* harmony import */ var _Message_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Message.vue?vue&type=script&lang=js& */ "./src/Message.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport *//* harmony import */ var _Message_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Message.vue?vue&type=style&index=0&lang=scss& */ "./src/Message.vue?vue&type=style&index=0&lang=scss&");\n/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(\n  _Message_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],\n  _Message_vue_vue_type_template_id_fdaea6c4___WEBPACK_IMPORTED_MODULE_0__["render"],\n  _Message_vue_vue_type_template_id_fdaea6c4___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = "src/Message.vue"\n/* harmony default export */ __webpack_exports__["default"] = (component.exports);\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Message.vue?')},"./src/Message.vue?vue&type=script&lang=js&":
/*!**************************************************!*\
  !*** ./src/Message.vue?vue&type=script&lang=js& ***!
  \**************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Message_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./Message.vue?vue&type=script&lang=js& */ "./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Message.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__["default"] = (_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Message_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__["default"]); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Message.vue?')},"./src/Message.vue?vue&type=style&index=0&lang=scss&":
/*!***********************************************************!*\
  !*** ./src/Message.vue?vue&type=style&index=0&lang=scss& ***!
  \***********************************************************/
/*! no static exports found */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Message_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/vue-style-loader??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./Message.vue?vue&type=style&index=0&lang=scss& */ "./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Message.vue?vue&type=style&index=0&lang=scss&");\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Message_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Message_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Message_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \'default\') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Message_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Message_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default.a); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Message.vue?')},"./src/Message.vue?vue&type=template&id=fdaea6c4&":
/*!********************************************************!*\
  !*** ./src/Message.vue?vue&type=template&id=fdaea6c4& ***!
  \********************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Message_vue_vue_type_template_id_fdaea6c4___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./Message.vue?vue&type=template&id=fdaea6c4& */ "./node_modules/cache-loader/dist/cjs.js?{\\"cacheDirectory\\":\\"node_modules/.cache/vue-loader\\",\\"cacheIdentifier\\":\\"bef95c9c-vue-loader-template\\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Message.vue?vue&type=template&id=fdaea6c4&");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Message_vue_vue_type_template_id_fdaea6c4___WEBPACK_IMPORTED_MODULE_0__["render"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Message_vue_vue_type_template_id_fdaea6c4___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Message.vue?')},"./src/MessageList.vue":
/*!*****************************!*\
  !*** ./src/MessageList.vue ***!
  \*****************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _MessageList_vue_vue_type_template_id_b0506148_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MessageList.vue?vue&type=template&id=b0506148&scoped=true& */ "./src/MessageList.vue?vue&type=template&id=b0506148&scoped=true&");\n/* harmony import */ var _MessageList_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MessageList.vue?vue&type=script&lang=js& */ "./src/MessageList.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport *//* harmony import */ var _MessageList_vue_vue_type_style_index_0_id_b0506148_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MessageList.vue?vue&type=style&index=0&id=b0506148&scoped=true&lang=css& */ "./src/MessageList.vue?vue&type=style&index=0&id=b0506148&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(\n  _MessageList_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],\n  _MessageList_vue_vue_type_template_id_b0506148_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"],\n  _MessageList_vue_vue_type_template_id_b0506148_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],\n  false,\n  null,\n  "b0506148",\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = "src/MessageList.vue"\n/* harmony default export */ __webpack_exports__["default"] = (component.exports);\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/MessageList.vue?')},"./src/MessageList.vue?vue&type=script&lang=js&":
/*!******************************************************!*\
  !*** ./src/MessageList.vue?vue&type=script&lang=js& ***!
  \******************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MessageList_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./MessageList.vue?vue&type=script&lang=js& */ "./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/MessageList.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__["default"] = (_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MessageList_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__["default"]); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/MessageList.vue?')},"./src/MessageList.vue?vue&type=style&index=0&id=b0506148&scoped=true&lang=css&":
/*!**************************************************************************************!*\
  !*** ./src/MessageList.vue?vue&type=style&index=0&id=b0506148&scoped=true&lang=css& ***!
  \**************************************************************************************/
/*! no static exports found */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MessageList_vue_vue_type_style_index_0_id_b0506148_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/vue-style-loader??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./MessageList.vue?vue&type=style&index=0&id=b0506148&scoped=true&lang=css& */ "./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/MessageList.vue?vue&type=style&index=0&id=b0506148&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MessageList_vue_vue_type_style_index_0_id_b0506148_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MessageList_vue_vue_type_style_index_0_id_b0506148_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MessageList_vue_vue_type_style_index_0_id_b0506148_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \'default\') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MessageList_vue_vue_type_style_index_0_id_b0506148_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MessageList_vue_vue_type_style_index_0_id_b0506148_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/MessageList.vue?')},"./src/MessageList.vue?vue&type=template&id=b0506148&scoped=true&":
/*!************************************************************************!*\
  !*** ./src/MessageList.vue?vue&type=template&id=b0506148&scoped=true& ***!
  \************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MessageList_vue_vue_type_template_id_b0506148_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./MessageList.vue?vue&type=template&id=b0506148&scoped=true& */ "./node_modules/cache-loader/dist/cjs.js?{\\"cacheDirectory\\":\\"node_modules/.cache/vue-loader\\",\\"cacheIdentifier\\":\\"bef95c9c-vue-loader-template\\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/MessageList.vue?vue&type=template&id=b0506148&scoped=true&");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MessageList_vue_vue_type_template_id_b0506148_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MessageList_vue_vue_type_template_id_b0506148_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/MessageList.vue?')},"./src/Suggestions.vue":
/*!*****************************!*\
  !*** ./src/Suggestions.vue ***!
  \*****************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Suggestions_vue_vue_type_template_id_728ecff4___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Suggestions.vue?vue&type=template&id=728ecff4& */ "./src/Suggestions.vue?vue&type=template&id=728ecff4&");\n/* harmony import */ var _Suggestions_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Suggestions.vue?vue&type=script&lang=js& */ "./src/Suggestions.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport *//* harmony import */ var _Suggestions_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Suggestions.vue?vue&type=style&index=0&lang=css& */ "./src/Suggestions.vue?vue&type=style&index=0&lang=css&");\n/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(\n  _Suggestions_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],\n  _Suggestions_vue_vue_type_template_id_728ecff4___WEBPACK_IMPORTED_MODULE_0__["render"],\n  _Suggestions_vue_vue_type_template_id_728ecff4___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = "src/Suggestions.vue"\n/* harmony default export */ __webpack_exports__["default"] = (component.exports);\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Suggestions.vue?')},"./src/Suggestions.vue?vue&type=script&lang=js&":
/*!******************************************************!*\
  !*** ./src/Suggestions.vue?vue&type=script&lang=js& ***!
  \******************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Suggestions_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./Suggestions.vue?vue&type=script&lang=js& */ "./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Suggestions.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__["default"] = (_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Suggestions_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__["default"]); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Suggestions.vue?')},"./src/Suggestions.vue?vue&type=style&index=0&lang=css&":
/*!**************************************************************!*\
  !*** ./src/Suggestions.vue?vue&type=style&index=0&lang=css& ***!
  \**************************************************************/
/*! no static exports found */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Suggestions_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/vue-style-loader??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./Suggestions.vue?vue&type=style&index=0&lang=css& */ "./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Suggestions.vue?vue&type=style&index=0&lang=css&");\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Suggestions_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Suggestions_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Suggestions_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \'default\') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Suggestions_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Suggestions_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Suggestions.vue?')},"./src/Suggestions.vue?vue&type=template&id=728ecff4&":
/*!************************************************************!*\
  !*** ./src/Suggestions.vue?vue&type=template&id=728ecff4& ***!
  \************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Suggestions_vue_vue_type_template_id_728ecff4___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./Suggestions.vue?vue&type=template&id=728ecff4& */ "./node_modules/cache-loader/dist/cjs.js?{\\"cacheDirectory\\":\\"node_modules/.cache/vue-loader\\",\\"cacheIdentifier\\":\\"bef95c9c-vue-loader-template\\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/Suggestions.vue?vue&type=template&id=728ecff4&");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Suggestions_vue_vue_type_template_id_728ecff4___WEBPACK_IMPORTED_MODULE_0__["render"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Suggestions_vue_vue_type_template_id_728ecff4___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/Suggestions.vue?')},"./src/UserInput.vue":
/*!***************************!*\
  !*** ./src/UserInput.vue ***!
  \***************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _UserInput_vue_vue_type_template_id_50424f96_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UserInput.vue?vue&type=template&id=50424f96&scoped=true& */ "./src/UserInput.vue?vue&type=template&id=50424f96&scoped=true&");\n/* harmony import */ var _UserInput_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UserInput.vue?vue&type=script&lang=js& */ "./src/UserInput.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport *//* harmony import */ var _UserInput_vue_vue_type_style_index_0_id_50424f96_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./UserInput.vue?vue&type=style&index=0&id=50424f96&scoped=true&lang=css& */ "./src/UserInput.vue?vue&type=style&index=0&id=50424f96&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(\n  _UserInput_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],\n  _UserInput_vue_vue_type_template_id_50424f96_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"],\n  _UserInput_vue_vue_type_template_id_50424f96_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],\n  false,\n  null,\n  "50424f96",\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = "src/UserInput.vue"\n/* harmony default export */ __webpack_exports__["default"] = (component.exports);\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/UserInput.vue?')},"./src/UserInput.vue?vue&type=script&lang=js&":
/*!****************************************************!*\
  !*** ./src/UserInput.vue?vue&type=script&lang=js& ***!
  \****************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserInput_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./UserInput.vue?vue&type=script&lang=js& */ "./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/UserInput.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__["default"] = (_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserInput_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__["default"]); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/UserInput.vue?')},"./src/UserInput.vue?vue&type=style&index=0&id=50424f96&scoped=true&lang=css&":
/*!************************************************************************************!*\
  !*** ./src/UserInput.vue?vue&type=style&index=0&id=50424f96&scoped=true&lang=css& ***!
  \************************************************************************************/
/*! no static exports found */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserInput_vue_vue_type_style_index_0_id_50424f96_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/vue-style-loader??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./UserInput.vue?vue&type=style&index=0&id=50424f96&scoped=true&lang=css& */ "./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/UserInput.vue?vue&type=style&index=0&id=50424f96&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserInput_vue_vue_type_style_index_0_id_50424f96_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserInput_vue_vue_type_style_index_0_id_50424f96_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserInput_vue_vue_type_style_index_0_id_50424f96_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \'default\') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserInput_vue_vue_type_style_index_0_id_50424f96_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserInput_vue_vue_type_style_index_0_id_50424f96_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/UserInput.vue?')},"./src/UserInput.vue?vue&type=template&id=50424f96&scoped=true&":
/*!**********************************************************************!*\
  !*** ./src/UserInput.vue?vue&type=template&id=50424f96&scoped=true& ***!
  \**********************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserInput_vue_vue_type_template_id_50424f96_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./UserInput.vue?vue&type=template&id=50424f96&scoped=true& */ "./node_modules/cache-loader/dist/cjs.js?{\\"cacheDirectory\\":\\"node_modules/.cache/vue-loader\\",\\"cacheIdentifier\\":\\"bef95c9c-vue-loader-template\\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/UserInput.vue?vue&type=template&id=50424f96&scoped=true&");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserInput_vue_vue_type_template_id_50424f96_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserInput_vue_vue_type_template_id_50424f96_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/UserInput.vue?')},"./src/UserInputButton.vue":
/*!*********************************!*\
  !*** ./src/UserInputButton.vue ***!
  \*********************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _UserInputButton_vue_vue_type_template_id_ced59930_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UserInputButton.vue?vue&type=template&id=ced59930&scoped=true& */ "./src/UserInputButton.vue?vue&type=template&id=ced59930&scoped=true&");\n/* harmony import */ var _UserInputButton_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UserInputButton.vue?vue&type=script&lang=js& */ "./src/UserInputButton.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport *//* harmony import */ var _UserInputButton_vue_vue_type_style_index_0_id_ced59930_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./UserInputButton.vue?vue&type=style&index=0&id=ced59930&scoped=true&lang=css& */ "./src/UserInputButton.vue?vue&type=style&index=0&id=ced59930&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(\n  _UserInputButton_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],\n  _UserInputButton_vue_vue_type_template_id_ced59930_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"],\n  _UserInputButton_vue_vue_type_template_id_ced59930_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],\n  false,\n  null,\n  "ced59930",\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = "src/UserInputButton.vue"\n/* harmony default export */ __webpack_exports__["default"] = (component.exports);\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/UserInputButton.vue?')},"./src/UserInputButton.vue?vue&type=script&lang=js&":
/*!**********************************************************!*\
  !*** ./src/UserInputButton.vue?vue&type=script&lang=js& ***!
  \**********************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserInputButton_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./UserInputButton.vue?vue&type=script&lang=js& */ "./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/UserInputButton.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__["default"] = (_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserInputButton_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__["default"]); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/UserInputButton.vue?')},"./src/UserInputButton.vue?vue&type=style&index=0&id=ced59930&scoped=true&lang=css&":
/*!******************************************************************************************!*\
  !*** ./src/UserInputButton.vue?vue&type=style&index=0&id=ced59930&scoped=true&lang=css& ***!
  \******************************************************************************************/
/*! no static exports found */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserInputButton_vue_vue_type_style_index_0_id_ced59930_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/vue-style-loader??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./UserInputButton.vue?vue&type=style&index=0&id=ced59930&scoped=true&lang=css& */ "./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/UserInputButton.vue?vue&type=style&index=0&id=ced59930&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserInputButton_vue_vue_type_style_index_0_id_ced59930_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserInputButton_vue_vue_type_style_index_0_id_ced59930_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserInputButton_vue_vue_type_style_index_0_id_ced59930_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \'default\') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserInputButton_vue_vue_type_style_index_0_id_ced59930_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserInputButton_vue_vue_type_style_index_0_id_ced59930_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/UserInputButton.vue?')},"./src/UserInputButton.vue?vue&type=template&id=ced59930&scoped=true&":
/*!****************************************************************************!*\
  !*** ./src/UserInputButton.vue?vue&type=template&id=ced59930&scoped=true& ***!
  \****************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserInputButton_vue_vue_type_template_id_ced59930_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./UserInputButton.vue?vue&type=template&id=ced59930&scoped=true& */ "./node_modules/cache-loader/dist/cjs.js?{\\"cacheDirectory\\":\\"node_modules/.cache/vue-loader\\",\\"cacheIdentifier\\":\\"bef95c9c-vue-loader-template\\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/UserInputButton.vue?vue&type=template&id=ced59930&scoped=true&");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserInputButton_vue_vue_type_template_id_ced59930_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserInputButton_vue_vue_type_template_id_ced59930_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/UserInputButton.vue?')},"./src/UserList.vue":
/*!**************************!*\
  !*** ./src/UserList.vue ***!
  \**************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _UserList_vue_vue_type_template_id_15a49382_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UserList.vue?vue&type=template&id=15a49382&scoped=true& */ "./src/UserList.vue?vue&type=template&id=15a49382&scoped=true&");\n/* harmony import */ var _UserList_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UserList.vue?vue&type=script&lang=js& */ "./src/UserList.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport *//* harmony import */ var _UserList_vue_vue_type_style_index_0_id_15a49382_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./UserList.vue?vue&type=style&index=0&id=15a49382&scoped=true&lang=css& */ "./src/UserList.vue?vue&type=style&index=0&id=15a49382&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(\n  _UserList_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],\n  _UserList_vue_vue_type_template_id_15a49382_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"],\n  _UserList_vue_vue_type_template_id_15a49382_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],\n  false,\n  null,\n  "15a49382",\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = "src/UserList.vue"\n/* harmony default export */ __webpack_exports__["default"] = (component.exports);\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/UserList.vue?')},"./src/UserList.vue?vue&type=script&lang=js&":
/*!***************************************************!*\
  !*** ./src/UserList.vue?vue&type=script&lang=js& ***!
  \***************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserList_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./UserList.vue?vue&type=script&lang=js& */ "./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/UserList.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__["default"] = (_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserList_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__["default"]); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/UserList.vue?')},"./src/UserList.vue?vue&type=style&index=0&id=15a49382&scoped=true&lang=css&":
/*!***********************************************************************************!*\
  !*** ./src/UserList.vue?vue&type=style&index=0&id=15a49382&scoped=true&lang=css& ***!
  \***********************************************************************************/
/*! no static exports found */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserList_vue_vue_type_style_index_0_id_15a49382_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/vue-style-loader??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./UserList.vue?vue&type=style&index=0&id=15a49382&scoped=true&lang=css& */ "./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/UserList.vue?vue&type=style&index=0&id=15a49382&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserList_vue_vue_type_style_index_0_id_15a49382_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserList_vue_vue_type_style_index_0_id_15a49382_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserList_vue_vue_type_style_index_0_id_15a49382_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \'default\') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserList_vue_vue_type_style_index_0_id_15a49382_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserList_vue_vue_type_style_index_0_id_15a49382_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/UserList.vue?')},"./src/UserList.vue?vue&type=template&id=15a49382&scoped=true&":
/*!*********************************************************************!*\
  !*** ./src/UserList.vue?vue&type=template&id=15a49382&scoped=true& ***!
  \*********************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserList_vue_vue_type_template_id_15a49382_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./UserList.vue?vue&type=template&id=15a49382&scoped=true& */ "./node_modules/cache-loader/dist/cjs.js?{\\"cacheDirectory\\":\\"node_modules/.cache/vue-loader\\",\\"cacheIdentifier\\":\\"bef95c9c-vue-loader-template\\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/UserList.vue?vue&type=template&id=15a49382&scoped=true&");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserList_vue_vue_type_template_id_15a49382_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserList_vue_vue_type_template_id_15a49382_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/UserList.vue?')},"./src/assets/chat-icon.svg":
/*!**********************************!*\
  !*** ./src/assets/chat-icon.svg ***!
  \**********************************/
/*! no static exports found */function(module,exports){eval('module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSItNDc0OS40OCAtNTAyMCAzNS4wMzYgMzUuMDM2Ij48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO30uYntmaWxsOiM0ZThjZmY7fS5je2NsaXAtcGF0aDp1cmwoI2EpO30uZHtmaWxsOiNmZmY7fS5le2ZpbGw6I2VmZjRmOTt9PC9zdHlsZT48Y2xpcFBhdGggaWQ9ImEiPjxwYXRoIGNsYXNzPSJhIiBkPSJNMC0zOTkuNDc5SDE3LjU1NXYxNy41NTVIMFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgMzk5LjQ3OSkiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNDg4NiAtNTA3NSkiPjxjaXJjbGUgY2xhc3M9ImIiIGN4PSIxNy41MTgiIGN5PSIxNy41MTgiIHI9IjE3LjUxOCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM2LjUyIDU1KSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE0NS4xMyA2NCkiPjxnIGNsYXNzPSJjIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDApIj48cGF0aCBjbGFzcz0iZCIgZD0iTS0zODEuOTI0LTE5MC45NjJhOC43NzgsOC43NzgsMCwwLDAtOC43NzgtOC43NzgsOC43NzgsOC43NzgsMCwwLDAtOC43NzgsOC43NzgsOC43NDUsOC43NDUsMCwwLDAsMi4yNiw1Ljg3OXYxLjQ0MmMwLC44LjQ5MiwxLjQ1NywxLjEsMS40NTdoNS44M2EuODQzLjg0MywwLDAsMCwuMTgzLS4wMiw4Ljc3OCw4Ljc3OCwwLDAsMCw4LjE4NC04Ljc1NyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzk5LjQ3OSAxOTkuNzQpIi8+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgMCkiPjxwYXRoIGNsYXNzPSJlIiBkPSJNLTY4Ljc2My0xOTQuMDc5YTkuMjkyLDkuMjkyLDAsMCwxLDYuMzgtOC44ODhjLS4yNTItLjAyMi0uNTA2LS4wMzMtLjc2My0uMDMzYTguNzc0LDguNzc0LDAsMCwwLTguNzc4LDguNzc4QTkuNTA4LDkuNTA4LDAsMCwwLTY5LjctMTg4LjNjLjAwNSwwLDAsLjAwOSwwLC4wMS0uMzExLjM1Mi0xLjkyNCwyLjg0OS4wMjEsMi44NDloMi4yNWMtMS4yMy0uMDIyLDEuMjYzLTIuMTA3LjI2OS0zLjQ5NGE4LjIyNSw4LjIyNSwwLDAsMS0xLjYtNS4xNDEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDcxLjkyNCAyMDMpIi8+PC9nPjwvZz48L2c+PC9nPjwvc3ZnPg=="\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/assets/chat-icon.svg?')},"./src/assets/close-icon-big.png":
/*!***************************************!*\
  !*** ./src/assets/close-icon-big.png ***!
  \***************************************/
/*! no static exports found */function(module,exports){eval('module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAfCAMAAACxiD++AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAtUExURUxpcf///////////////////////////////////////////////////////3EAnbYAAAAOdFJOUwADZ66SoQjEhnS7/gsNGQL7+wAAAKtJREFUKM+F01sOhCAQRNESFV/I/pc70Og0YJfyJbmHhBAbGGYHstw8IPV4EOGOmERYIhGpxyUAJxHSz/xlC+1FxE64qB1yj1ZID7oXsel+63ovnj2JXUXue+hvrcLugL+EdG+9XBG8X+Kl34J3YM1g/egvIvdx5EK691RIz78YEXdnQrst6m6JqemXmNo+D/WJNAyVePZWWL0WdlfB+l+UAQQReaAc65DB/wGsZgzLN0IQWAAAAABJRU5ErkJggg=="\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/assets/close-icon-big.png?')},"./src/assets/close-icon.png":
/*!***********************************!*\
  !*** ./src/assets/close-icon.png ***!
  \***********************************/
/*! no static exports found */function(module,exports){eval('module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAKVQTFRFAAAA////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////uP3jVQAAADd0Uk5TAE9lCAXd9XA4y/9zDQJG7HYB8Hc3yHoPQ8fuezMSoYPrEcEugj0tqb6G+Lw5ifHcKk3SIAx/MjRpS8YAAADsSURBVHic7dDJDoIwEIDhQURwQNGiIBVkUQH3BfX9H00MEvHW9qj9L3RIvkxTAJlMJvu1lI7aHtWOwm67Wk9vz3pP67Jro4+m1QyWiX2D3cJgqNmjt7ZGtjYccGAYK8R26qNjE2XMY6smU3Q9AM/F6YSTVrtnPp173pz6M969Lx1Q6rqUBgK2KvAR/UCIAoQLxEUoiCMSxyQSokmE6XKZYpQI2BVJ1wDrlKz4dXXn7PXN+G8e5lhk9TErMOd6tXCz3e2bYb/bbnj04Xg6f6bz6Xhgtxe8lu25vOKFGd/uj+8fj/uNfbVMJpP9QU/STxAzeUFqVwAAAABJRU5ErkJggg=="\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/assets/close-icon.png?')},"./src/assets/close.svg":
/*!******************************!*\
  !*** ./src/assets/close.svg ***!
  \******************************/
/*! no static exports found */function(module,exports){eval('module.exports = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgNDcuOTcxIDQ3Ljk3MSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDcuOTcxIDQ3Ljk3MTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxwYXRoIGQ9Ik0yOC4yMjgsMjMuOTg2TDQ3LjA5Miw1LjEyMmMxLjE3Mi0xLjE3MSwxLjE3Mi0zLjA3MSwwLTQuMjQyYy0xLjE3Mi0xLjE3Mi0zLjA3LTEuMTcyLTQuMjQyLDBMMjMuOTg2LDE5Ljc0NEw1LjEyMSwwLjg4CgkJYy0xLjE3Mi0xLjE3Mi0zLjA3LTEuMTcyLTQuMjQyLDBjLTEuMTcyLDEuMTcxLTEuMTcyLDMuMDcxLDAsNC4yNDJsMTguODY1LDE4Ljg2NEwwLjg3OSw0Mi44NWMtMS4xNzIsMS4xNzEtMS4xNzIsMy4wNzEsMCw0LjI0MgoJCUMxLjQ2NSw0Ny42NzcsMi4yMzMsNDcuOTcsMyw0Ny45N3MxLjUzNS0wLjI5MywyLjEyMS0wLjg3OWwxOC44NjUtMTguODY0TDQyLjg1LDQ3LjA5MWMwLjU4NiwwLjU4NiwxLjM1NCwwLjg3OSwyLjEyMSwwLjg3OQoJCXMxLjUzNS0wLjI5MywyLjEyMS0wLjg3OWMxLjE3Mi0xLjE3MSwxLjE3Mi0zLjA3MSwwLTQuMjQyTDI4LjIyOCwyMy45ODZ6Ii8+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+"\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/assets/close.svg?')},"./src/assets/file.svg":
/*!*****************************!*\
  !*** ./src/assets/file.svg ***!
  \*****************************/
/*! no static exports found */function(module,exports){eval('module.exports = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTguMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgNTYgNTYiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDU2IDU2OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJzdmdfMSI+CiAgIDxwYXRoIGlkPSJzdmdfMiIgZmlsbD0iI0U5RTlFMCIgZD0ibTM2Ljk4NSwwbC0yOS4wMjIsMGMtMC44MDgsMCAtMS40NjMsMC42NTUgLTEuNDYzLDEuOTI2bDAsNTMuMDc0YzAsMC4zNDUgMC42NTUsMSAxLjQ2MywxbDQwLjA3NCwwYzAuODA4LDAgMS40NjMsLTAuNjU1IDEuNDYzLC0xbDAsLTQyLjAyMmMwLC0wLjY5NiAtMC4wOTMsLTAuOTIgLTAuMjU3LC0xLjA4NWwtMTEuNjM2LC0xMS42MzZjLTAuMTY1LC0wLjE2NCAtMC4zODksLTAuMjU3IC0wLjYyMiwtMC4yNTd6Ii8+CiAgIDxwb2x5Z29uIGlkPSJzdmdfMyIgZmlsbD0iI0Q5RDdDQSIgcG9pbnRzPSIzNy41LDAuMTUxIDM3LjUsMTIgNDkuMzQ5LDEyICAiLz4KICAgPHBhdGggaWQ9InN2Z180IiBmaWxsPSIjOTVBNUE1IiBkPSJtNDguMDM3LDU2bC00MC4wNzQsMGMtMC44MDgsMCAtMS40NjMsLTAuNjU1IC0xLjQ2MywtMS40NjNsMCwtMTUuNTM3bDQzLDBsMCwxNS41MzdjMCwwLjgwOCAtMC42NTUsMS40NjMgLTEuNDYzLDEuNDYzeiIvPgogICA8cGF0aCBpZD0ic3ZnXzkiIGZpbGw9IiNDOEJEQjgiIGQ9Im0xOC41LDEzbC02LDBjLTAuNTUzLDAgLTEsLTAuNDQ4IC0xLC0xczAuNDQ3LC0xIDEsLTFsNiwwYzAuNTUzLDAgMSwwLjQ0OCAxLDFzLTAuNDQ3LDEgLTEsMXoiLz4KICAgPHBhdGggaWQ9InN2Z18xMCIgZmlsbD0iI0M4QkRCOCIgZD0ibTIxLjUsMThsLTksMGMtMC41NTMsMCAtMSwtMC40NDggLTEsLTFzMC40NDcsLTEgMSwtMWw5LDBjMC41NTMsMCAxLDAuNDQ4IDEsMXMtMC40NDcsMSAtMSwxeiIvPgogICA8cGF0aCBpZD0ic3ZnXzExIiBmaWxsPSIjQzhCREI4IiBkPSJtMjUuNSwxOGMtMC4yNiwwIC0wLjUyMSwtMC4xMSAtMC43MSwtMC4yOWMtMC4xODEsLTAuMTkgLTAuMjksLTAuNDQgLTAuMjksLTAuNzFzMC4xMDksLTAuNTIgMC4zLC0wLjcxYzAuMzYsLTAuMzcgMS4wNCwtMC4zNyAxLjQxLDBjMC4xOCwwLjE5IDAuMjksMC40NSAwLjI5LDAuNzFjMCwwLjI2IC0wLjExLDAuNTIgLTAuMjksMC43MWMtMC4xOSwwLjE4IC0wLjQ1LDAuMjkgLTAuNzEsMC4yOXoiLz4KICAgPHBhdGggaWQ9InN2Z18xMiIgZmlsbD0iI0M4QkRCOCIgZD0ibTM3LjUsMThsLTgsMGMtMC41NTMsMCAtMSwtMC40NDggLTEsLTFzMC40NDcsLTEgMSwtMWw4LDBjMC41NTMsMCAxLDAuNDQ4IDEsMXMtMC40NDcsMSAtMSwxeiIvPgogICA8cGF0aCBpZD0ic3ZnXzEzIiBmaWxsPSIjQzhCREI4IiBkPSJtMTIuNSwzM2MtMC4yNiwwIC0wLjUyMSwtMC4xMSAtMC43MSwtMC4yOWMtMC4xODEsLTAuMTkgLTAuMjksLTAuNDUgLTAuMjksLTAuNzFjMCwtMC4yNiAwLjEwOSwtMC41MiAwLjI5LC0wLjcxYzAuMzcsLTAuMzcgMS4wNSwtMC4zNyAxLjQyLDAuMDFjMC4xOCwwLjE4IDAuMjksMC40NCAwLjI5LDAuN2MwLDAuMjYgLTAuMTEsMC41MiAtMC4yOSwwLjcxYy0wLjE5LDAuMTggLTAuNDUsMC4yOSAtMC43MSwwLjI5eiIvPgogICA8cGF0aCBpZD0ic3ZnXzE0IiBmaWxsPSIjQzhCREI4IiBkPSJtMjQuNSwzM2wtOCwwYy0wLjU1MywwIC0xLC0wLjQ0OCAtMSwtMXMwLjQ0NywtMSAxLC0xbDgsMGMwLjU1MywwIDEsMC40NDggMSwxcy0wLjQ0NywxIC0xLDF6Ii8+CiAgIDxwYXRoIGlkPSJzdmdfMTUiIGZpbGw9IiNDOEJEQjgiIGQ9Im00My41LDE4bC0yLDBjLTAuNTUzLDAgLTEsLTAuNDQ4IC0xLC0xczAuNDQ3LC0xIDEsLTFsMiwwYzAuNTUzLDAgMSwwLjQ0OCAxLDFzLTAuNDQ3LDEgLTEsMXoiLz4KICAgPHBhdGggaWQ9InN2Z18xNiIgZmlsbD0iI0M4QkRCOCIgZD0ibTM0LjUsMjNsLTIyLDBjLTAuNTUzLDAgLTEsLTAuNDQ4IC0xLC0xczAuNDQ3LC0xIDEsLTFsMjIsMGMwLjU1MywwIDEsMC40NDggMSwxcy0wLjQ0NywxIC0xLDF6Ii8+CiAgIDxwYXRoIGlkPSJzdmdfMTciIGZpbGw9IiNDOEJEQjgiIGQ9Im00My41LDIzbC02LDBjLTAuNTUzLDAgLTEsLTAuNDQ4IC0xLC0xczAuNDQ3LC0xIDEsLTFsNiwwYzAuNTUzLDAgMSwwLjQ0OCAxLDFzLTAuNDQ3LDEgLTEsMXoiLz4KICAgPHBhdGggaWQ9InN2Z18xOCIgZmlsbD0iI0M4QkRCOCIgZD0ibTE2LjUsMjhsLTQsMGMtMC41NTMsMCAtMSwtMC40NDggLTEsLTFzMC40NDcsLTEgMSwtMWw0LDBjMC41NTMsMCAxLDAuNDQ4IDEsMXMtMC40NDcsMSAtMSwxeiIvPgogICA8cGF0aCBpZD0ic3ZnXzE5IiBmaWxsPSIjQzhCREI4IiBkPSJtMzAuNSwyOGwtMTAsMGMtMC41NTMsMCAtMSwtMC40NDggLTEsLTFzMC40NDcsLTEgMSwtMWwxMCwwYzAuNTUzLDAgMSwwLjQ0OCAxLDFzLTAuNDQ3LDEgLTEsMXoiLz4KICAgPHBhdGggaWQ9InN2Z18yMCIgZmlsbD0iI0M4QkRCOCIgZD0ibTQzLjUsMjhsLTksMGMtMC41NTMsMCAtMSwtMC40NDggLTEsLTFzMC40NDcsLTEgMSwtMWw5LDBjMC41NTMsMCAxLDAuNDQ4IDEsMXMtMC40NDcsMSAtMSwxeiIvPgogIDwvZz4KICA8ZyBpZD0ic3ZnXzIxIi8+CiAgPGcgaWQ9InN2Z18yMiIvPgogIDxnIGlkPSJzdmdfMjMiLz4KICA8ZyBpZD0ic3ZnXzI0Ii8+CiAgPGcgaWQ9InN2Z18yNSIvPgogIDxnIGlkPSJzdmdfMjYiLz4KICA8ZyBpZD0ic3ZnXzI3Ii8+CiAgPGcgaWQ9InN2Z18yOCIvPgogIDxnIGlkPSJzdmdfMjkiLz4KICA8ZyBpZD0ic3ZnXzMwIi8+CiAgPGcgaWQ9InN2Z18zMSIvPgogIDxnIGlkPSJzdmdfMzIiLz4KICA8ZyBpZD0ic3ZnXzMzIi8+CiAgPGcgaWQ9InN2Z18zNCIvPgogIDxnIGlkPSJzdmdfMzUiLz4KPC9zdmc+"\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/assets/file.svg?')},"./src/assets/logo-no-bg.svg":
/*!***********************************!*\
  !*** ./src/assets/logo-no-bg.svg ***!
  \***********************************/
/*! no static exports found */function(module,exports){eval('module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTgiIGhlaWdodD0iMTgiPjxyZWN0IGlkPSJiYWNrZ3JvdW5kcmVjdCIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgeD0iMCIgeT0iMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIi8+PGRlZnM+PHN0eWxlPi5he2ZpbGw6bm9uZTt9LmJ7ZmlsbDojNGU4Y2ZmO30uY3tjbGlwLXBhdGg6dXJsKCNhKTt9LmR7ZmlsbDojZmZmO30uZXtmaWxsOiNlZmY0Zjk7fTwvc3R5bGU+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBjbGFzcz0iYSIgZD0iTSAwIDAgSCAxNy41NTUgdiAxNy41NTUgSCAwIFoiIGlkPSJzdmdfMSIgdHJhbnNmb3JtPSIiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGFzcz0iY3VycmVudExheWVyIiBzdHlsZT0iIj48dGl0bGU+TGF5ZXIgMTwvdGl0bGU+PGcgaWQ9InN2Z18yIiBjbGFzcz0ic2VsZWN0ZWQiIHRyYW5zZm9ybT0iIj48ZyBpZD0ic3ZnXzMiIHRyYW5zZm9ybT0iIj48ZyBjbGFzcz0iYyIgaWQ9InN2Z180IiB0cmFuc2Zvcm09IiI+PGcgaWQ9InN2Z181IiB0cmFuc2Zvcm09IiI+PHBhdGggY2xhc3M9ImQiIGQ9Ik0gMTcuNTU2IDguNzc4NDIgYSA4Ljc3OCA4Ljc3OCAwIDAgMCAtOC43NzggLTguNzc4IGEgOC43NzggOC43NzggMCAwIDAgLTguNzc4IDguNzc4IGEgOC43NDUgOC43NDUgMCAwIDAgMi4yNiA1Ljg3OSB2IDEuNDQyIGMgMCAwLjggMC40OTIgMS40NTcgMS4xIDEuNDU3IGggNS44MyBhIDAuODQzIDAuODQzIDAgMCAwIDAuMTgzIC0wLjAyIGEgOC43NzggOC43NzggMCAwIDAgOC4xODQgLTguNzU3IiBpZD0ic3ZnXzYiIHRyYW5zZm9ybT0iIi8+PC9nPjxnIGlkPSJzdmdfNyIgdHJhbnNmb3JtPSIiPjxwYXRoIGNsYXNzPSJlIiBkPSJNIDMuMTYxNDggOC45MjEgYSA5LjI5MiA5LjI5MiAwIDAgMSA2LjM4IC04Ljg4OCBjIC0wLjI1MiAtMC4wMjIgLTAuNTA2IC0wLjAzMyAtMC43NjMgLTAuMDMzIGEgOC43NzQgOC43NzQgMCAwIDAgLTguNzc4IDguNzc4IEEgOS41MDggOS41MDggMCAwIDAgMi4yMjQ0NyAxNC43MDAzIGMgMC4wMDUgMCAwIDAuMDA5IDAgMC4wMSBjIC0wLjMxMSAwLjM1MiAtMS45MjQgMi44NDkgMC4wMjEgMi44NDkgaCAyLjI1IGMgLTEuMjMgLTAuMDIyIDEuMjYzIC0yLjEwNyAwLjI2OSAtMy40OTQgYSA4LjIyNSA4LjIyNSAwIDAgMSAtMS42IC01LjE0MSIgaWQ9InN2Z184IiB0cmFuc2Zvcm09IiIvPjwvZz48L2c+PC9nPjwvZz48L2c+PC9zdmc+"\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/assets/logo-no-bg.svg?')},"./src/assets/phone.webp":
/*!*******************************!*\
  !*** ./src/assets/phone.webp ***!
  \*******************************/
/*! no static exports found */function(module,exports){eval('module.exports = "data:image/webp;base64,UklGRugNAABXRUJQVlA4TNwNAAAv/8F/EPAtSZIlSZJt4f//dt8i3FlUhHsuEUEB+//VSfU9Owu6wdENitjdhd2BXjsvttiz5bbdNbvlzmbYrdjd3S0N6+2c7wTAn////P/n/z////8heUvRUle9ZcgwUBfNRLSNlzqGWMTosRL8d33wt4CW8dbcdAe9J+NPKtK6YOIMscVjLvx5Tv27JVmG3T7jb3NoVyteuljnPX6kcimVEmqss2z4sZ7wqBOtcS6R8KNt7RKFNAYO/HjdisSXznv8Rl/4toin+UrxS20qkQ6+4NeSNWgQNyvJ+MXuEvujpuf43UbVR1dm/HIFfMtjOCd+vb+rQ5CFAZlom2MtRrS6OP7DjBzia2MiprSzNYaSY5BU74zOJMwppzKSlWBSzQrDzyuMKq8vFHIxrJ51sRDTek1dFm3JcVBmVwT7jnkVCWgKQQ4mtrgpxmFkdvE9kcKSCWXXhNI9DE1WvyV0GNt1QkfEMOVCPStCcBqDe0vTEEMxuokFESQ/myKB/bAHw1tSD43I6djElYPCLYwvuxyGY36yhtXg7dsA6HI1LMIRdS2GeLYZvKDqhYM4pNG1UJM8hV98WsGIY/qrFGqT52AR2QmncFBbKqEhTkpSoxHOj4JOFkIdHFabPjBM4yFFG0RzToMGt8FSHNcXHl3grWQeNLMLMnFgpYKbQOHtREjfBGk4MkntItg1E8oj1IAP81Codw2MwKl95tkCeWOh+SWQSJ6LRXQHZOHg9nXAw8lQ0waIxtHdIxbAhNnQiAI4N5yf/M6PH8dwaMn56Y/Tc0i+PtvHQ6evz9v5UN/bE44PqETU6en7AugyxeVZ9wRoyuV58gZsqt2dAPIboIc0Z6cFvqIlZ2fcM5A0uTobngG95H508t4BLTg6xQ/BqfbJicSX9JD64rR6CjTn4gx+CxaRB2fWW6DNB2fNY3Cpcm8OPQY6fm9uvAZqdG4+PYfsc1P6HBwCr43jOdCgYyPie9p7bLwexItjE/QgXFS3JvJBUMitiX8RMbcm4kV435qgB/EWbp3ng9h4bMQH0fDYgP053IJrV/oc2p2bn6/hOJy7F4+hTNS9Of8YBsC92/0WtsHBW/QULtNcnEkv4Y1guHh9HkK+RDh5Td6BWX24ebHPwKwlHD0FyyOwSIOz9/AN2HSAu5f9BKxaw+Gb8wJKNYfL1/4BFKoHpy94Ph8lw/H7PJ3nIuH67R/OBQFw/sbNZhs13L/UyciyoIEEP+di1gs6yDCW16pCCY2ZSi5/aKGUmcgWUEANCX5MJF9raKLsgVwXCVU0bB56augiLXkY5fpCHd2ZxTup0Ed/jiJPCBRS/UlsooZGUsgfg8sEKKVdUzDrDK3Udwg/1YVa8mYdwVtJUEy5E7gpGJpp2AAu8YFqCuSM5zh3KKcz6RylgXbKCGc3EerJlyWao5RQUIZkznGDhuoUzE3eUFFKP2J5JQBKalkq5VKhpaqnMgR66kEmRiiqKZHYxTeFljOR5VBVxwKRxHVFn0BuQle5Kc5jaVmAPo+pbdEoj9ltIXgdx7q2gLlxXKuLaHIaLoFtAZfSoP51MSKO7LrwZUmjjFdbwL40aGhddIgjry6UvqdBldsClsaxqS6qx2GjbQt4mAatroupcbhUbYsKnGnQ+baAE3FQz7bom8d77mXhrjgOmlcWsDkPs6iyaJoHHSgLwZs8qENXQFYgr7l1RQw5D5rbFXAhEIvYrugXCB3tCo1fgVDbqoBliTylrIqK5EBobFXA5USKBFbFwERoZVVo/EjEKbUp4J9E6ExVhHEkQh2aAgyRvKBqiiaRkK4p4E4kZnFNMTQSMjaFyudIqEdRgC6Tb3yLwkdJJLS0KGBxJi41iiKcPRK6RewJ2J4JjS6KiqRMioX3BGRnQseKIoWUCQ3uCTgYSomInqhOzoRyewJyQqGBPVGVFEqx8JqA/0MhY08kcoZC/WsCNqVSKKImwllCoUvEloBlqdCMmvBXkIpTvZaAyanQG94tofYqFdrcEtAjFurTEnA2lmJRLVGLlApdIJYE6GOhv1oiwK9YZF1LAn6PhYrEloTC9VjoPveOgJpcsdC6koDVuVD/kvD0LheTyh0BHXOh57w7AvbmQseJHRHkVy70T0fAoGBk/TsCTuZCVvU6Ilp5LvRdREXAxGDoLo+KEF0LhvYRGgISmYKhORUBo5KRDakIQW4w5NC2ISDEz2CoTM2GgG7J0C+JDQE7k6E3QhrC14dk6BbPgoAmpGQol7IgYFk0tIVQECo3oqE1BQHxSqKh5QUB6dlQVkGAPhuaWRBu7mdDU/sBEpVlIxvVDzA4G5IM7gfYkQ3JxveDp2fZkGxyPUCq8myIZtUDdCeHQwvqARalQ2sI7SA6mQ7pKcoBgn1Mh3ZSlQNUZ0mHzvIpBxgaD92hfQdqjQ2Uob/Wgq8BrIuH3kp6BI3tYsZ/6p1Vmt4CtWvxUL56L6CGM/hve2Qo8RBAmK/xkFmn8XhYxon/qcc6HAKoyRQPuYwaTopH+JPOqXkHIJ0cD9FCismks+DPkqzjcwZg3gDoON+5ZJLwx33T7QwIdg+AXkoaimgN/iqDoCMAbm4MgPI1G4mHXPxlP/Q8AqD1cQDkNG4gHs7h7zPwvwFQXfkAiPRU0/B0Hj/RR81vAHQlTYBOC5yFtyv4mSQLqE8ATB8BfVR3Ej6u4se6r/IJAP0IyG7sHNxdxA9mNZF4AUSHRkB0iO8QRAfwsz3X9gCAu6szoBdSRyDYgh/PKG5/IMiLGVC5vhNYgl/IbiXv9YEEP2dAtIYmnun4nT7rR9geqK18CPRE1XB6kL4E0S0Ntgc6cA6BrDIJydRkwu8l20m7PDBiCkQnaXMJ8xm/mkkWze7An2Ogb9qk4uUBfrtXOu2OYMsYSLaUJpNsDOiklM0B0cExEN2XkkgmRuSyUejigNqJOZCVjhhHA/YMiMwW8Nkb8HBlDkQ3VAqjgi+YU75MyrWBAI8HQVbTiUkoXcSonuq4NhDi5SCI7qsexGJM65qGWwNxvk6CHBZQpdCFHAfJDOKWBlIVToLolsoZJCrFxKwW8dsZqKt8FOSwklcA7u5haIV0NCsDaWyjIHqr/dcR7MPc3uhN2BjoxjELIoOwLzMbo7uu8cZAD85hkImO+E26kbIhMkpYGOjFOQyi++p/jxSlGJ+DXsi+wCDSNMhlNf8vEeI9TqjIVJp1gSGkaRAVyqT8Bh6u4ZA+GUTYFhhOHgfRcx0+j+gIzumWptsC48nzIDoj5dOswVEZJSwLTJwIOazk+1Hm4bAc9EJ2BSZPhKhAJvFzDCNPg6iIjtuqwNyREN1R71MMIOHE3hlIsSmgmwnJdgr+CF05cWhPpRMWBabOhKhIJsXvacWKc7uhxaLAJPJMiK6r/VvaMuPojquxJzCOPBSSbBbyK3qz4/Ak+ySsCYwgDYWoXBbNzxnMifNzWMl7S2AoaSpEz7X9KTPJ+IQ+670lMIBrLERG9X+Cp334jI6JXBL4jXMuRFf1oflP1PEcH1KpDMKOQE+OwRAVWK7qvyPAMk58S0cF7Ah0Zp0MEb2xXEvqf5BisWJ8Th/V2xFormw2ROTwzAVXfMUnZdFlR6C2/Olelku/HYFKPp8FsmmyIxDt5VmgV1Q7AhXcPwvUd0nAT95Z+H9LwMOJq/B2TUAt+yjY9gREa28Cue0JQCbpJGg3BQayX4TYVYGWSg5CyK5Aqk/3wHNZIMyDayBTbAv4u3QMymDfNPbdgmcLAwrLT8HpjQH4neMQbN4ZSFN0B7KWBpK9OgODtwYCnLsCtdcGlNbcAInn3gBkcF6Ad7B6bZUcgJzdgVTv9uff5YEAJ9en+/aAQEdanoj1AeisZHW+wQVK8nRzDp8A8HZgcWbdABDMIa1NqyMA0E7R0jh4ngGIc3tnrsEhUsoibcy/lwCgs4KFaXsLIMKVdXHyPgag9B9pWa7DPWrp267MPwgQ4uSq1L0IIJrBvif5FCcBINX9NdkDV0ljCWlJBpwFgIZer4iN72EAH/oNyYHb1MG3/Rh4HKCCw9th43sdANJ9340DcKD86Mmb0eZCADT1Yi/eUdwIcLeAaytmw5mq5vZOWGnvBKjomDZiFZyqcDv3oYz2VgC09XIbdHCuNGYzrcI1ynsBEEbPtQcmiXCzarq4BkPhbPXwege2weFSG+v7ApykuhwAHnSKXs9dXnC9/P3L9HTe0cIBq2AJ07t5LRpuWJAsJY/mqXA4Yz50il7MbUFwyfzM9P25nOUNx0xtkKdvRU8F90zQ2Zl3YjMcjlo9u9nfyFf14K5pzfftgVwSCqdNra/rj8NhNhHOWyULFDyM9xrBiXOT7gz5UezkBWcu1Ur5D+KHnnDqRGkM7I/BIAjOnb8MeQ/hrTS4eZUt9OUNOP3HHc6eqLVdTPO5rBrcPnfpjFyj+WIQAe5fuEwPxmKxgBeUUGUL/ByJUSwUkVpXh9incUkTaCM/GfLIg7iuM1RSRVneDeGBdKglhTQ7mfK5qRN0k7t0Rq5kJEZpUFARdF6mUk4vGVqqroXeBPLKFL5QVdX96WkUJTZpBIUVK4ORNQNJngye0Fqeutjg07dxOG2sCCivqibLUfw1SmXryw8qTFTLZEYlH8fsnCwtqaHJRLVMttdL8qf4Ksc09amg0nw0M8oqp71n+w0FLltvjGYCoN6CVdHeEHOsto3BEWdccscjb9xx0xnHGey23BT9NZXEA/78/+f/P///+f/P/3/+//P/n////P9fyQ=="\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/assets/phone.webp?')},"./src/components/IconBase.vue":
/*!*************************************!*\
  !*** ./src/components/IconBase.vue ***!
  \*************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _IconBase_vue_vue_type_template_id_229c6e1a_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./IconBase.vue?vue&type=template&id=229c6e1a&scoped=true& */ "./src/components/IconBase.vue?vue&type=template&id=229c6e1a&scoped=true&");\n/* harmony import */ var _IconBase_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./IconBase.vue?vue&type=script&lang=js& */ "./src/components/IconBase.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport *//* harmony import */ var _IconBase_vue_vue_type_style_index_0_id_229c6e1a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./IconBase.vue?vue&type=style&index=0&id=229c6e1a&scoped=true&lang=css& */ "./src/components/IconBase.vue?vue&type=style&index=0&id=229c6e1a&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(\n  _IconBase_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],\n  _IconBase_vue_vue_type_template_id_229c6e1a_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"],\n  _IconBase_vue_vue_type_template_id_229c6e1a_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],\n  false,\n  null,\n  "229c6e1a",\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = "src/components/IconBase.vue"\n/* harmony default export */ __webpack_exports__["default"] = (component.exports);\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/components/IconBase.vue?')},"./src/components/IconBase.vue?vue&type=script&lang=js&":
/*!**************************************************************!*\
  !*** ./src/components/IconBase.vue?vue&type=script&lang=js& ***!
  \**************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IconBase_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./IconBase.vue?vue&type=script&lang=js& */ "./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/IconBase.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__["default"] = (_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IconBase_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__["default"]); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/components/IconBase.vue?')},"./src/components/IconBase.vue?vue&type=style&index=0&id=229c6e1a&scoped=true&lang=css&":
/*!**********************************************************************************************!*\
  !*** ./src/components/IconBase.vue?vue&type=style&index=0&id=229c6e1a&scoped=true&lang=css& ***!
  \**********************************************************************************************/
/*! no static exports found */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IconBase_vue_vue_type_style_index_0_id_229c6e1a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/vue-style-loader??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./IconBase.vue?vue&type=style&index=0&id=229c6e1a&scoped=true&lang=css& */ "./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/IconBase.vue?vue&type=style&index=0&id=229c6e1a&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IconBase_vue_vue_type_style_index_0_id_229c6e1a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IconBase_vue_vue_type_style_index_0_id_229c6e1a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IconBase_vue_vue_type_style_index_0_id_229c6e1a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \'default\') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IconBase_vue_vue_type_style_index_0_id_229c6e1a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IconBase_vue_vue_type_style_index_0_id_229c6e1a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/components/IconBase.vue?')},"./src/components/IconBase.vue?vue&type=template&id=229c6e1a&scoped=true&":
/*!********************************************************************************!*\
  !*** ./src/components/IconBase.vue?vue&type=template&id=229c6e1a&scoped=true& ***!
  \********************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IconBase_vue_vue_type_template_id_229c6e1a_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./IconBase.vue?vue&type=template&id=229c6e1a&scoped=true& */ "./node_modules/cache-loader/dist/cjs.js?{\\"cacheDirectory\\":\\"node_modules/.cache/vue-loader\\",\\"cacheIdentifier\\":\\"bef95c9c-vue-loader-template\\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/IconBase.vue?vue&type=template&id=229c6e1a&scoped=true&");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IconBase_vue_vue_type_template_id_229c6e1a_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IconBase_vue_vue_type_template_id_229c6e1a_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/components/IconBase.vue?')},"./src/components/icons/IconCross.vue":
/*!********************************************!*\
  !*** ./src/components/icons/IconCross.vue ***!
  \********************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _IconCross_vue_vue_type_template_id_1575e792___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./IconCross.vue?vue&type=template&id=1575e792& */ "./src/components/icons/IconCross.vue?vue&type=template&id=1575e792&");\n/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");\n\nvar script = {}\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_1__["default"])(\n  script,\n  _IconCross_vue_vue_type_template_id_1575e792___WEBPACK_IMPORTED_MODULE_0__["render"],\n  _IconCross_vue_vue_type_template_id_1575e792___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = "src/components/icons/IconCross.vue"\n/* harmony default export */ __webpack_exports__["default"] = (component.exports);\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/components/icons/IconCross.vue?')},"./src/components/icons/IconCross.vue?vue&type=template&id=1575e792&":
/*!***************************************************************************!*\
  !*** ./src/components/icons/IconCross.vue?vue&type=template&id=1575e792& ***!
  \***************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IconCross_vue_vue_type_template_id_1575e792___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib??vue-loader-options!./IconCross.vue?vue&type=template&id=1575e792& */ "./node_modules/cache-loader/dist/cjs.js?{\\"cacheDirectory\\":\\"node_modules/.cache/vue-loader\\",\\"cacheIdentifier\\":\\"bef95c9c-vue-loader-template\\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/icons/IconCross.vue?vue&type=template&id=1575e792&");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IconCross_vue_vue_type_template_id_1575e792___WEBPACK_IMPORTED_MODULE_0__["render"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IconCross_vue_vue_type_template_id_1575e792___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/components/icons/IconCross.vue?')},"./src/components/icons/IconEdit.vue":
/*!*******************************************!*\
  !*** ./src/components/icons/IconEdit.vue ***!
  \*******************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _IconEdit_vue_vue_type_template_id_44a7cfa8___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./IconEdit.vue?vue&type=template&id=44a7cfa8& */ "./src/components/icons/IconEdit.vue?vue&type=template&id=44a7cfa8&");\n/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");\n\nvar script = {}\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_1__["default"])(\n  script,\n  _IconEdit_vue_vue_type_template_id_44a7cfa8___WEBPACK_IMPORTED_MODULE_0__["render"],\n  _IconEdit_vue_vue_type_template_id_44a7cfa8___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = "src/components/icons/IconEdit.vue"\n/* harmony default export */ __webpack_exports__["default"] = (component.exports);\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/components/icons/IconEdit.vue?')},"./src/components/icons/IconEdit.vue?vue&type=template&id=44a7cfa8&":
/*!**************************************************************************!*\
  !*** ./src/components/icons/IconEdit.vue?vue&type=template&id=44a7cfa8& ***!
  \**************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IconEdit_vue_vue_type_template_id_44a7cfa8___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib??vue-loader-options!./IconEdit.vue?vue&type=template&id=44a7cfa8& */ "./node_modules/cache-loader/dist/cjs.js?{\\"cacheDirectory\\":\\"node_modules/.cache/vue-loader\\",\\"cacheIdentifier\\":\\"bef95c9c-vue-loader-template\\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/icons/IconEdit.vue?vue&type=template&id=44a7cfa8&");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IconEdit_vue_vue_type_template_id_44a7cfa8___WEBPACK_IMPORTED_MODULE_0__["render"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IconEdit_vue_vue_type_template_id_44a7cfa8___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/components/icons/IconEdit.vue?')},"./src/components/icons/IconOk.vue":
/*!*****************************************!*\
  !*** ./src/components/icons/IconOk.vue ***!
  \*****************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _IconOk_vue_vue_type_template_id_56ad7ffa___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./IconOk.vue?vue&type=template&id=56ad7ffa& */ "./src/components/icons/IconOk.vue?vue&type=template&id=56ad7ffa&");\n/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");\n\nvar script = {}\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_1__["default"])(\n  script,\n  _IconOk_vue_vue_type_template_id_56ad7ffa___WEBPACK_IMPORTED_MODULE_0__["render"],\n  _IconOk_vue_vue_type_template_id_56ad7ffa___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = "src/components/icons/IconOk.vue"\n/* harmony default export */ __webpack_exports__["default"] = (component.exports);\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/components/icons/IconOk.vue?')},"./src/components/icons/IconOk.vue?vue&type=template&id=56ad7ffa&":
/*!************************************************************************!*\
  !*** ./src/components/icons/IconOk.vue?vue&type=template&id=56ad7ffa& ***!
  \************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IconOk_vue_vue_type_template_id_56ad7ffa___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib??vue-loader-options!./IconOk.vue?vue&type=template&id=56ad7ffa& */ "./node_modules/cache-loader/dist/cjs.js?{\\"cacheDirectory\\":\\"node_modules/.cache/vue-loader\\",\\"cacheIdentifier\\":\\"bef95c9c-vue-loader-template\\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/icons/IconOk.vue?vue&type=template&id=56ad7ffa&");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IconOk_vue_vue_type_template_id_56ad7ffa___WEBPACK_IMPORTED_MODULE_0__["render"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IconOk_vue_vue_type_template_id_56ad7ffa___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/components/icons/IconOk.vue?')},"./src/components/icons/IconSend.vue":
/*!*******************************************!*\
  !*** ./src/components/icons/IconSend.vue ***!
  \*******************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _IconSend_vue_vue_type_template_id_2f854226___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./IconSend.vue?vue&type=template&id=2f854226& */ "./src/components/icons/IconSend.vue?vue&type=template&id=2f854226&");\n/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");\n\nvar script = {}\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_1__["default"])(\n  script,\n  _IconSend_vue_vue_type_template_id_2f854226___WEBPACK_IMPORTED_MODULE_0__["render"],\n  _IconSend_vue_vue_type_template_id_2f854226___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = "src/components/icons/IconSend.vue"\n/* harmony default export */ __webpack_exports__["default"] = (component.exports);\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/components/icons/IconSend.vue?')},"./src/components/icons/IconSend.vue?vue&type=template&id=2f854226&":
/*!**************************************************************************!*\
  !*** ./src/components/icons/IconSend.vue?vue&type=template&id=2f854226& ***!
  \**************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IconSend_vue_vue_type_template_id_2f854226___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib??vue-loader-options!./IconSend.vue?vue&type=template&id=2f854226& */ "./node_modules/cache-loader/dist/cjs.js?{\\"cacheDirectory\\":\\"node_modules/.cache/vue-loader\\",\\"cacheIdentifier\\":\\"bef95c9c-vue-loader-template\\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/icons/IconSend.vue?vue&type=template&id=2f854226&");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IconSend_vue_vue_type_template_id_2f854226___WEBPACK_IMPORTED_MODULE_0__["render"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IconSend_vue_vue_type_template_id_2f854226___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/components/icons/IconSend.vue?')},"./src/emojiData.js":
/*!**************************!*\
  !*** ./src/emojiData.js ***!
  \**************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ([{\n  name: 'People',\n  emojis: ['😄', '😃', '😀', '😊', '😉', '😍', '😘', '😚', '😗', '😙', '😜', '😝', '😛', '😳', '😁', '😔', '😌', '😒', '😞', '😣', '😢', '😂', '😭', '😪', '😥', '😰', '😅', '😓', '😩', '😫', '😨', '😱', '😠', '😡', '😤', '😖', '😆', '😋', '😷', '😎', '😴', '😵', '😲', '😟', '😦', '😧', '👿', '😮', '😬', '😐', '😕', '😯', '😏', '😑', '👲', '👳', '👮', '👷', '💂', '👶', '👦', '👧', '👨', '👩', '👴', '👵', '👱', '👼', '👸', '😺', '😸', '😻', '😽', '😼', '🙀', '😿', '😹', '😾', '👹', '👺', '🙈', '🙉', '🙊', '💀', '👽', '💩', '🔥', '✨', '🌟', '💫', '💥', '💢', '💦', '💧', '💤', '💨', '👂', '👀', '👃', '👅', '👄', '👍', '👎', '👌', '👊', '✊', '👋', '✋', '👐', '👆', '👇', '👉', '👈', '🙌', '🙏', '👏', '💪', '🚶', '🏃', '💃', '👫', '👪', '💏', '💑', '👯', '🙆', '🙅', '💁', '🙋', '💆', '💇', '💅', '👰', '🙎', '🙍', '🙇', '🎩', '👑', '👒', '👟', '👞', '👡', '👠', '👢', '👕', '👔', '👚', '👗', '🎽', '👖', '👘', '👙', '💼', '👜', '👝', '👛', '👓', '🎀', '🌂', '💄', '💛', '💙', '💜', '💚', '💔', '💗', '💓', '💕', '💖', '💞', '💘', '💌', '💋', '💍', '💎', '👤', '💬', '👣']\n}, {\n  name: 'Nature',\n  emojis: ['🐶', '🐺', '🐱', '🐭', '🐹', '🐰', '🐸', '🐯', '🐨', '🐻', '🐷', '🐽', '🐮', '🐗', '🐵', '🐒', '🐴', '🐑', '🐘', '🐼', '🐧', '🐦', '🐤', '🐥', '🐣', '🐔', '🐍', '🐢', '🐛', '🐝', '🐜', '🐞', '🐌', '🐙', '🐚', '🐠', '🐟', '🐬', '🐳', '🐎', '🐲', '🐡', '🐫', '🐩', '🐾', '💐', '🌸', '🌷', '🍀', '🌹', '🌻', '🌺', '🍁', '🍃', '🍂', '🌿', '🌾', '🍄', '🌵', '🌴', '🌰', '🌱', '🌼', '🌑', '🌓', '🌔', '🌕', '🌛', '🌙', '🌏', '🌋', '🌌', '🌠', '⛅', '⛄', '🌀', '🌁', '🌈', '🌊']\n}, {\n  name: 'Objects',\n  emojis: ['🎍', '💝', '🎎', '🎒', '🎓', '🎏', '🎆', '🎇', '🎐', '🎑', '🎃', '👻', '🎅', '🎄', '🎁', '🎋', '🎉', '🎊', '🎈', '🎌', '🔮', '🎥', '📷', '📹', '📼', '💿', '📀', '💽', '💾', '💻', '📱', '📞', '📟', '📠', '📡', '📺', '📻', '🔊', '🔔', '📢', '📣', '⏳', '⌛', '⏰', '⌚', '🔓', '🔒', '🔏', '🔐', '🔑', '🔎', '💡', '🔦', '🔌', '🔋', '🔍', '🛀', '🚽', '🔧', '🔩', '🔨', '🚪', '🚬', '💣', '🔫', '🔪', '💊', '💉', '💰', '💴', '💵', '💳', '💸', '📲', '📧', '📥', '📤', '📩', '📨', '📫', '📪', '📮', '📦', '📝', '📄', '📃', '📑', '📊', '📈', '📉', '📜', '📋', '📅', '📆', '📇', '📁', '📂', '📌', '📎', '📏', '📐', '📕', '📗', '📘', '📙', '📓', '📔', '📒', '📚', '📖', '🔖', '📛', '📰', '🎨', '🎬', '🎤', '🎧', '🎼', '🎵', '🎶', '🎹', '🎻', '🎺', '🎷', '🎸', '👾', '🎮', '🃏', '🎴', '🀄', '🎲', '🎯', '🏈', '🏀', '⚽', '⚾', '🎾', '🎱', '🎳', '⛳', '🏁', '🏆', '🎿', '🏂', '🏊', '🏄', '🎣', '🍵', '🍶', '🍺', '🍻', '🍸', '🍹', '🍷', '🍴', '🍕', '🍔', '🍟', '🍗', '🍖', '🍝', '🍛', '🍤', '🍱', '🍣', '🍥', '🍙', '🍘', '🍚', '🍜', '🍲', '🍢', '🍡', '🍳', '🍞', '🍩', '🍮', '🍦', '🍨', '🍧', '🎂', '🍰', '🍪', '🍫', '🍬', '🍭', '🍯', '🍎', '🍏', '🍊', '🍒', '🍇', '🍉', '🍓', '🍑', '🍈', '🍌', '🍍', '🍠', '🍆', '🍅', '🌽']\n}, {\n  name: 'Places',\n  emojis: ['🏠', '🏡', '🏫', '🏢', '🏣', '🏥', '🏦', '🏪', '🏩', '🏨', '💒', '⛪', '🏬', '🌇', '🌆', '🏯', '🏰', '⛺', '🏭', '🗼', '🗾', '🗻', '🌄', '🌅', '🌃', '🗽', '🌉', '🎠', '🎡', '⛲', '🎢', '🚢', '⛵', '🚤', '🚀', '💺', '🚉', '🚄', '🚅', '🚇', '🚃', '🚌', '🚙', '🚗', '🚕', '🚚', '🚨', '🚓', '🚒', '🚑', '🚲', '💈', '🚏', '🎫', '🚥', '🚧', '🔰', '⛽', '🏮', '🎰', '🗿', '🎪', '🎭', '📍', '🚩']\n}, {\n  name: 'Symbols',\n  emojis: ['🔟', '🔢', '🔣', '🔠', '🔡', '🔤', '🔼', '🔽', '⏪', '⏩', '⏫', '⏬', '🆗', '🆕', '🆙', '🆒', '🆓', '🆖', '📶', '🎦', '🈁', '🈯', '🈳', '🈵', '🈴', '🈲', '🉐', '🈹', '🈺', '🈶', '🈚', '🚻', '🚹', '🚺', '🚼', '🚾', '🚭', '🈸', '🉑', '🆑', '🆘', '🆔', '🚫', '🔞', '⛔', '❎', '✅', '💟', '🆚', '📳', '📴', '🆎', '💠', '⛎', '🔯', '🏧', '💹', '💲', '💱', '❌', '❗', '❓', '❕', '❔', '⭕', '🔝', '🔚', '🔙', '🔛', '🔜', '🔃', '🕛', '🕐', '🕑', '🕒', '🕓', '🕔', '🕕', '🕖', '🕗', '🕘', '🕙', '🕚', '➕', '➖', '➗', '💮', '💯', '🔘', '🔗', '➰', '🔱', '🔺', '🔲', '🔳', '🔴', '🔵', '🔻', '⬜', '⬛', '🔶', '🔷', '🔸', '🔹']\n}]);\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/emojiData.js?")},"./src/icons/EmojiIcon.vue":
/*!*********************************!*\
  !*** ./src/icons/EmojiIcon.vue ***!
  \*********************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _EmojiIcon_vue_vue_type_template_id_35adf941_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EmojiIcon.vue?vue&type=template&id=35adf941&scoped=true& */ "./src/icons/EmojiIcon.vue?vue&type=template&id=35adf941&scoped=true&");\n/* harmony import */ var _EmojiIcon_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EmojiIcon.vue?vue&type=script&lang=js& */ "./src/icons/EmojiIcon.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport *//* harmony import */ var _EmojiIcon_vue_vue_type_style_index_0_id_35adf941_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EmojiIcon.vue?vue&type=style&index=0&id=35adf941&scoped=true&lang=css& */ "./src/icons/EmojiIcon.vue?vue&type=style&index=0&id=35adf941&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(\n  _EmojiIcon_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],\n  _EmojiIcon_vue_vue_type_template_id_35adf941_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"],\n  _EmojiIcon_vue_vue_type_template_id_35adf941_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],\n  false,\n  null,\n  "35adf941",\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = "src/icons/EmojiIcon.vue"\n/* harmony default export */ __webpack_exports__["default"] = (component.exports);\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/icons/EmojiIcon.vue?')},"./src/icons/EmojiIcon.vue?vue&type=script&lang=js&":
/*!**********************************************************!*\
  !*** ./src/icons/EmojiIcon.vue?vue&type=script&lang=js& ***!
  \**********************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiIcon_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./EmojiIcon.vue?vue&type=script&lang=js& */ "./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/icons/EmojiIcon.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__["default"] = (_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiIcon_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__["default"]); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/icons/EmojiIcon.vue?')},"./src/icons/EmojiIcon.vue?vue&type=style&index=0&id=35adf941&scoped=true&lang=css&":
/*!******************************************************************************************!*\
  !*** ./src/icons/EmojiIcon.vue?vue&type=style&index=0&id=35adf941&scoped=true&lang=css& ***!
  \******************************************************************************************/
/*! no static exports found */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiIcon_vue_vue_type_style_index_0_id_35adf941_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/vue-style-loader??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./EmojiIcon.vue?vue&type=style&index=0&id=35adf941&scoped=true&lang=css& */ "./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/icons/EmojiIcon.vue?vue&type=style&index=0&id=35adf941&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiIcon_vue_vue_type_style_index_0_id_35adf941_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiIcon_vue_vue_type_style_index_0_id_35adf941_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiIcon_vue_vue_type_style_index_0_id_35adf941_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \'default\') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiIcon_vue_vue_type_style_index_0_id_35adf941_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiIcon_vue_vue_type_style_index_0_id_35adf941_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/icons/EmojiIcon.vue?')},"./src/icons/EmojiIcon.vue?vue&type=template&id=35adf941&scoped=true&":
/*!****************************************************************************!*\
  !*** ./src/icons/EmojiIcon.vue?vue&type=template&id=35adf941&scoped=true& ***!
  \****************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiIcon_vue_vue_type_template_id_35adf941_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./EmojiIcon.vue?vue&type=template&id=35adf941&scoped=true& */ "./node_modules/cache-loader/dist/cjs.js?{\\"cacheDirectory\\":\\"node_modules/.cache/vue-loader\\",\\"cacheIdentifier\\":\\"bef95c9c-vue-loader-template\\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/icons/EmojiIcon.vue?vue&type=template&id=35adf941&scoped=true&");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiIcon_vue_vue_type_template_id_35adf941_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiIcon_vue_vue_type_template_id_35adf941_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/icons/EmojiIcon.vue?')},"./src/icons/FileIcons.vue":
/*!*********************************!*\
  !*** ./src/icons/FileIcons.vue ***!
  \*********************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _FileIcons_vue_vue_type_template_id_020ba240_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FileIcons.vue?vue&type=template&id=020ba240&scoped=true& */ "./src/icons/FileIcons.vue?vue&type=template&id=020ba240&scoped=true&");\n/* harmony import */ var _FileIcons_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FileIcons.vue?vue&type=script&lang=js& */ "./src/icons/FileIcons.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport *//* harmony import */ var _FileIcons_vue_vue_type_style_index_0_id_020ba240_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FileIcons.vue?vue&type=style&index=0&id=020ba240&scoped=true&lang=css& */ "./src/icons/FileIcons.vue?vue&type=style&index=0&id=020ba240&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(\n  _FileIcons_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],\n  _FileIcons_vue_vue_type_template_id_020ba240_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"],\n  _FileIcons_vue_vue_type_template_id_020ba240_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],\n  false,\n  null,\n  "020ba240",\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = "src/icons/FileIcons.vue"\n/* harmony default export */ __webpack_exports__["default"] = (component.exports);\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/icons/FileIcons.vue?')},"./src/icons/FileIcons.vue?vue&type=script&lang=js&":
/*!**********************************************************!*\
  !*** ./src/icons/FileIcons.vue?vue&type=script&lang=js& ***!
  \**********************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileIcons_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./FileIcons.vue?vue&type=script&lang=js& */ "./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/icons/FileIcons.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__["default"] = (_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileIcons_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__["default"]); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/icons/FileIcons.vue?')},"./src/icons/FileIcons.vue?vue&type=style&index=0&id=020ba240&scoped=true&lang=css&":
/*!******************************************************************************************!*\
  !*** ./src/icons/FileIcons.vue?vue&type=style&index=0&id=020ba240&scoped=true&lang=css& ***!
  \******************************************************************************************/
/*! no static exports found */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileIcons_vue_vue_type_style_index_0_id_020ba240_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/vue-style-loader??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./FileIcons.vue?vue&type=style&index=0&id=020ba240&scoped=true&lang=css& */ "./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/icons/FileIcons.vue?vue&type=style&index=0&id=020ba240&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileIcons_vue_vue_type_style_index_0_id_020ba240_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileIcons_vue_vue_type_style_index_0_id_020ba240_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileIcons_vue_vue_type_style_index_0_id_020ba240_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \'default\') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileIcons_vue_vue_type_style_index_0_id_020ba240_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileIcons_vue_vue_type_style_index_0_id_020ba240_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/icons/FileIcons.vue?')},"./src/icons/FileIcons.vue?vue&type=template&id=020ba240&scoped=true&":
/*!****************************************************************************!*\
  !*** ./src/icons/FileIcons.vue?vue&type=template&id=020ba240&scoped=true& ***!
  \****************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileIcons_vue_vue_type_template_id_020ba240_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./FileIcons.vue?vue&type=template&id=020ba240&scoped=true& */ "./node_modules/cache-loader/dist/cjs.js?{\\"cacheDirectory\\":\\"node_modules/.cache/vue-loader\\",\\"cacheIdentifier\\":\\"bef95c9c-vue-loader-template\\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/icons/FileIcons.vue?vue&type=template&id=020ba240&scoped=true&");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileIcons_vue_vue_type_template_id_020ba240_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileIcons_vue_vue_type_template_id_020ba240_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/icons/FileIcons.vue?')},"./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Launcher_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Launcher.vue */ "./src/Launcher.vue");\n/* harmony import */ var v_tooltip__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! v-tooltip */ "./node_modules/v-tooltip/dist/v-tooltip.esm.js");\n\n\nvar defaultComponentName = \'BeautifulChat\';\nvar Plugin = {\n  install: function install(Vue) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    /**\n     * Makes sure that plugin can be installed only once\n     */\n    if (this.installed) {\n      return;\n    }\n\n    this.installed = true;\n    this.event = new Vue();\n    this.dynamicContainer = null;\n    this.componentName = options.componentName || defaultComponentName;\n    /**\n     * Plugin API\n     */\n\n    Vue.prototype.$chat = {\n      _setDynamicContainer: function _setDynamicContainer(dynamicContainer) {\n        Plugin.dynamicContainer = dynamicContainer;\n      }\n    };\n    /**\n     * Sets custom component name (if provided)\n     */\n\n    Vue.component(this.componentName, _Launcher_vue__WEBPACK_IMPORTED_MODULE_0__["default"]);\n    Vue.use(v_tooltip__WEBPACK_IMPORTED_MODULE_1__["default"]);\n  }\n};\n/* harmony default export */ __webpack_exports__["default"] = (Plugin);\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/index.js?')},"./src/messages/EmojiMessage.vue":
/*!***************************************!*\
  !*** ./src/messages/EmojiMessage.vue ***!
  \***************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _EmojiMessage_vue_vue_type_template_id_2b642e4a_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EmojiMessage.vue?vue&type=template&id=2b642e4a&scoped=true& */ "./src/messages/EmojiMessage.vue?vue&type=template&id=2b642e4a&scoped=true&");\n/* harmony import */ var _EmojiMessage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EmojiMessage.vue?vue&type=script&lang=js& */ "./src/messages/EmojiMessage.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport *//* harmony import */ var _EmojiMessage_vue_vue_type_style_index_0_id_2b642e4a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EmojiMessage.vue?vue&type=style&index=0&id=2b642e4a&scoped=true&lang=css& */ "./src/messages/EmojiMessage.vue?vue&type=style&index=0&id=2b642e4a&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(\n  _EmojiMessage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],\n  _EmojiMessage_vue_vue_type_template_id_2b642e4a_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"],\n  _EmojiMessage_vue_vue_type_template_id_2b642e4a_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],\n  false,\n  null,\n  "2b642e4a",\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = "src/messages/EmojiMessage.vue"\n/* harmony default export */ __webpack_exports__["default"] = (component.exports);\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/EmojiMessage.vue?')},"./src/messages/EmojiMessage.vue?vue&type=script&lang=js&":
/*!****************************************************************!*\
  !*** ./src/messages/EmojiMessage.vue?vue&type=script&lang=js& ***!
  \****************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiMessage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./EmojiMessage.vue?vue&type=script&lang=js& */ "./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/EmojiMessage.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__["default"] = (_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiMessage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__["default"]); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/EmojiMessage.vue?')},"./src/messages/EmojiMessage.vue?vue&type=style&index=0&id=2b642e4a&scoped=true&lang=css&":
/*!************************************************************************************************!*\
  !*** ./src/messages/EmojiMessage.vue?vue&type=style&index=0&id=2b642e4a&scoped=true&lang=css& ***!
  \************************************************************************************************/
/*! no static exports found */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiMessage_vue_vue_type_style_index_0_id_2b642e4a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/vue-style-loader??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./EmojiMessage.vue?vue&type=style&index=0&id=2b642e4a&scoped=true&lang=css& */ "./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/EmojiMessage.vue?vue&type=style&index=0&id=2b642e4a&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiMessage_vue_vue_type_style_index_0_id_2b642e4a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiMessage_vue_vue_type_style_index_0_id_2b642e4a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiMessage_vue_vue_type_style_index_0_id_2b642e4a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \'default\') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiMessage_vue_vue_type_style_index_0_id_2b642e4a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiMessage_vue_vue_type_style_index_0_id_2b642e4a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/EmojiMessage.vue?')},"./src/messages/EmojiMessage.vue?vue&type=template&id=2b642e4a&scoped=true&":
/*!**********************************************************************************!*\
  !*** ./src/messages/EmojiMessage.vue?vue&type=template&id=2b642e4a&scoped=true& ***!
  \**********************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiMessage_vue_vue_type_template_id_2b642e4a_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./EmojiMessage.vue?vue&type=template&id=2b642e4a&scoped=true& */ "./node_modules/cache-loader/dist/cjs.js?{\\"cacheDirectory\\":\\"node_modules/.cache/vue-loader\\",\\"cacheIdentifier\\":\\"bef95c9c-vue-loader-template\\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/EmojiMessage.vue?vue&type=template&id=2b642e4a&scoped=true&");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiMessage_vue_vue_type_template_id_2b642e4a_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EmojiMessage_vue_vue_type_template_id_2b642e4a_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/EmojiMessage.vue?')},"./src/messages/FileMessage.vue":
/*!**************************************!*\
  !*** ./src/messages/FileMessage.vue ***!
  \**************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _FileMessage_vue_vue_type_template_id_cedde43e_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FileMessage.vue?vue&type=template&id=cedde43e&scoped=true& */ "./src/messages/FileMessage.vue?vue&type=template&id=cedde43e&scoped=true&");\n/* harmony import */ var _FileMessage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FileMessage.vue?vue&type=script&lang=js& */ "./src/messages/FileMessage.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport *//* harmony import */ var _FileMessage_vue_vue_type_style_index_0_id_cedde43e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FileMessage.vue?vue&type=style&index=0&id=cedde43e&scoped=true&lang=css& */ "./src/messages/FileMessage.vue?vue&type=style&index=0&id=cedde43e&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(\n  _FileMessage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],\n  _FileMessage_vue_vue_type_template_id_cedde43e_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"],\n  _FileMessage_vue_vue_type_template_id_cedde43e_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],\n  false,\n  null,\n  "cedde43e",\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = "src/messages/FileMessage.vue"\n/* harmony default export */ __webpack_exports__["default"] = (component.exports);\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/FileMessage.vue?')},"./src/messages/FileMessage.vue?vue&type=script&lang=js&":
/*!***************************************************************!*\
  !*** ./src/messages/FileMessage.vue?vue&type=script&lang=js& ***!
  \***************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileMessage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./FileMessage.vue?vue&type=script&lang=js& */ "./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/FileMessage.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__["default"] = (_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileMessage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__["default"]); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/FileMessage.vue?')},"./src/messages/FileMessage.vue?vue&type=style&index=0&id=cedde43e&scoped=true&lang=css&":
/*!***********************************************************************************************!*\
  !*** ./src/messages/FileMessage.vue?vue&type=style&index=0&id=cedde43e&scoped=true&lang=css& ***!
  \***********************************************************************************************/
/*! no static exports found */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileMessage_vue_vue_type_style_index_0_id_cedde43e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/vue-style-loader??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./FileMessage.vue?vue&type=style&index=0&id=cedde43e&scoped=true&lang=css& */ "./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/FileMessage.vue?vue&type=style&index=0&id=cedde43e&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileMessage_vue_vue_type_style_index_0_id_cedde43e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileMessage_vue_vue_type_style_index_0_id_cedde43e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileMessage_vue_vue_type_style_index_0_id_cedde43e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \'default\') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileMessage_vue_vue_type_style_index_0_id_cedde43e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileMessage_vue_vue_type_style_index_0_id_cedde43e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/FileMessage.vue?')},"./src/messages/FileMessage.vue?vue&type=template&id=cedde43e&scoped=true&":
/*!*********************************************************************************!*\
  !*** ./src/messages/FileMessage.vue?vue&type=template&id=cedde43e&scoped=true& ***!
  \*********************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileMessage_vue_vue_type_template_id_cedde43e_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./FileMessage.vue?vue&type=template&id=cedde43e&scoped=true& */ "./node_modules/cache-loader/dist/cjs.js?{\\"cacheDirectory\\":\\"node_modules/.cache/vue-loader\\",\\"cacheIdentifier\\":\\"bef95c9c-vue-loader-template\\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/FileMessage.vue?vue&type=template&id=cedde43e&scoped=true&");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileMessage_vue_vue_type_template_id_cedde43e_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileMessage_vue_vue_type_template_id_cedde43e_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/FileMessage.vue?')},"./src/messages/SystemMessage.vue":
/*!****************************************!*\
  !*** ./src/messages/SystemMessage.vue ***!
  \****************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _SystemMessage_vue_vue_type_template_id_d1ca9864_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SystemMessage.vue?vue&type=template&id=d1ca9864&scoped=true& */ "./src/messages/SystemMessage.vue?vue&type=template&id=d1ca9864&scoped=true&");\n/* harmony import */ var _SystemMessage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SystemMessage.vue?vue&type=script&lang=js& */ "./src/messages/SystemMessage.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport *//* harmony import */ var _SystemMessage_vue_vue_type_style_index_0_id_d1ca9864_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SystemMessage.vue?vue&type=style&index=0&id=d1ca9864&scoped=true&lang=css& */ "./src/messages/SystemMessage.vue?vue&type=style&index=0&id=d1ca9864&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(\n  _SystemMessage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],\n  _SystemMessage_vue_vue_type_template_id_d1ca9864_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"],\n  _SystemMessage_vue_vue_type_template_id_d1ca9864_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],\n  false,\n  null,\n  "d1ca9864",\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = "src/messages/SystemMessage.vue"\n/* harmony default export */ __webpack_exports__["default"] = (component.exports);\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/SystemMessage.vue?')},"./src/messages/SystemMessage.vue?vue&type=script&lang=js&":
/*!*****************************************************************!*\
  !*** ./src/messages/SystemMessage.vue?vue&type=script&lang=js& ***!
  \*****************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SystemMessage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./SystemMessage.vue?vue&type=script&lang=js& */ "./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/SystemMessage.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__["default"] = (_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SystemMessage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__["default"]); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/SystemMessage.vue?')},"./src/messages/SystemMessage.vue?vue&type=style&index=0&id=d1ca9864&scoped=true&lang=css&":
/*!*************************************************************************************************!*\
  !*** ./src/messages/SystemMessage.vue?vue&type=style&index=0&id=d1ca9864&scoped=true&lang=css& ***!
  \*************************************************************************************************/
/*! no static exports found */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SystemMessage_vue_vue_type_style_index_0_id_d1ca9864_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/vue-style-loader??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./SystemMessage.vue?vue&type=style&index=0&id=d1ca9864&scoped=true&lang=css& */ "./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/SystemMessage.vue?vue&type=style&index=0&id=d1ca9864&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SystemMessage_vue_vue_type_style_index_0_id_d1ca9864_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SystemMessage_vue_vue_type_style_index_0_id_d1ca9864_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SystemMessage_vue_vue_type_style_index_0_id_d1ca9864_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \'default\') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SystemMessage_vue_vue_type_style_index_0_id_d1ca9864_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SystemMessage_vue_vue_type_style_index_0_id_d1ca9864_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/SystemMessage.vue?')},"./src/messages/SystemMessage.vue?vue&type=template&id=d1ca9864&scoped=true&":
/*!***********************************************************************************!*\
  !*** ./src/messages/SystemMessage.vue?vue&type=template&id=d1ca9864&scoped=true& ***!
  \***********************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SystemMessage_vue_vue_type_template_id_d1ca9864_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./SystemMessage.vue?vue&type=template&id=d1ca9864&scoped=true& */ "./node_modules/cache-loader/dist/cjs.js?{\\"cacheDirectory\\":\\"node_modules/.cache/vue-loader\\",\\"cacheIdentifier\\":\\"bef95c9c-vue-loader-template\\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/SystemMessage.vue?vue&type=template&id=d1ca9864&scoped=true&");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SystemMessage_vue_vue_type_template_id_d1ca9864_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SystemMessage_vue_vue_type_template_id_d1ca9864_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/SystemMessage.vue?')},"./src/messages/TextMessage.vue":
/*!**************************************!*\
  !*** ./src/messages/TextMessage.vue ***!
  \**************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _TextMessage_vue_vue_type_template_id_c6b294e0_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TextMessage.vue?vue&type=template&id=c6b294e0&scoped=true& */ "./src/messages/TextMessage.vue?vue&type=template&id=c6b294e0&scoped=true&");\n/* harmony import */ var _TextMessage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TextMessage.vue?vue&type=script&lang=js& */ "./src/messages/TextMessage.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport *//* harmony import */ var _TextMessage_vue_vue_type_style_index_0_id_c6b294e0_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TextMessage.vue?vue&type=style&index=0&id=c6b294e0&scoped=true&lang=scss& */ "./src/messages/TextMessage.vue?vue&type=style&index=0&id=c6b294e0&scoped=true&lang=scss&");\n/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(\n  _TextMessage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],\n  _TextMessage_vue_vue_type_template_id_c6b294e0_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"],\n  _TextMessage_vue_vue_type_template_id_c6b294e0_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],\n  false,\n  null,\n  "c6b294e0",\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = "src/messages/TextMessage.vue"\n/* harmony default export */ __webpack_exports__["default"] = (component.exports);\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/TextMessage.vue?')},"./src/messages/TextMessage.vue?vue&type=script&lang=js&":
/*!***************************************************************!*\
  !*** ./src/messages/TextMessage.vue?vue&type=script&lang=js& ***!
  \***************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TextMessage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./TextMessage.vue?vue&type=script&lang=js& */ "./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/TextMessage.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__["default"] = (_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TextMessage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__["default"]); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/TextMessage.vue?')},"./src/messages/TextMessage.vue?vue&type=style&index=0&id=c6b294e0&scoped=true&lang=scss&":
/*!************************************************************************************************!*\
  !*** ./src/messages/TextMessage.vue?vue&type=style&index=0&id=c6b294e0&scoped=true&lang=scss& ***!
  \************************************************************************************************/
/*! no static exports found */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TextMessage_vue_vue_type_style_index_0_id_c6b294e0_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/vue-style-loader??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./TextMessage.vue?vue&type=style&index=0&id=c6b294e0&scoped=true&lang=scss& */ "./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/TextMessage.vue?vue&type=style&index=0&id=c6b294e0&scoped=true&lang=scss&");\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TextMessage_vue_vue_type_style_index_0_id_c6b294e0_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TextMessage_vue_vue_type_style_index_0_id_c6b294e0_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TextMessage_vue_vue_type_style_index_0_id_c6b294e0_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \'default\') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TextMessage_vue_vue_type_style_index_0_id_c6b294e0_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TextMessage_vue_vue_type_style_index_0_id_c6b294e0_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default.a); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/TextMessage.vue?')},"./src/messages/TextMessage.vue?vue&type=template&id=c6b294e0&scoped=true&":
/*!*********************************************************************************!*\
  !*** ./src/messages/TextMessage.vue?vue&type=template&id=c6b294e0&scoped=true& ***!
  \*********************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TextMessage_vue_vue_type_template_id_c6b294e0_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./TextMessage.vue?vue&type=template&id=c6b294e0&scoped=true& */ "./node_modules/cache-loader/dist/cjs.js?{\\"cacheDirectory\\":\\"node_modules/.cache/vue-loader\\",\\"cacheIdentifier\\":\\"bef95c9c-vue-loader-template\\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/TextMessage.vue?vue&type=template&id=c6b294e0&scoped=true&");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TextMessage_vue_vue_type_template_id_c6b294e0_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TextMessage_vue_vue_type_template_id_c6b294e0_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/TextMessage.vue?')},"./src/messages/TypingMessage.vue":
/*!****************************************!*\
  !*** ./src/messages/TypingMessage.vue ***!
  \****************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _TypingMessage_vue_vue_type_template_id_5a1c0386_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TypingMessage.vue?vue&type=template&id=5a1c0386&scoped=true& */ "./src/messages/TypingMessage.vue?vue&type=template&id=5a1c0386&scoped=true&");\n/* harmony import */ var _TypingMessage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TypingMessage.vue?vue&type=script&lang=js& */ "./src/messages/TypingMessage.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport *//* harmony import */ var _TypingMessage_vue_vue_type_style_index_0_id_5a1c0386_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TypingMessage.vue?vue&type=style&index=0&id=5a1c0386&scoped=true&lang=css& */ "./src/messages/TypingMessage.vue?vue&type=style&index=0&id=5a1c0386&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(\n  _TypingMessage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],\n  _TypingMessage_vue_vue_type_template_id_5a1c0386_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"],\n  _TypingMessage_vue_vue_type_template_id_5a1c0386_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],\n  false,\n  null,\n  "5a1c0386",\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = "src/messages/TypingMessage.vue"\n/* harmony default export */ __webpack_exports__["default"] = (component.exports);\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/TypingMessage.vue?')},"./src/messages/TypingMessage.vue?vue&type=script&lang=js&":
/*!*****************************************************************!*\
  !*** ./src/messages/TypingMessage.vue?vue&type=script&lang=js& ***!
  \*****************************************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TypingMessage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./TypingMessage.vue?vue&type=script&lang=js& */ "./node_modules/cache-loader/dist/cjs.js?!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/TypingMessage.vue?vue&type=script&lang=js&");\n/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__["default"] = (_node_modules_cache_loader_dist_cjs_js_ref_12_0_node_modules_vue_cli_plugin_babel_node_modules_babel_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TypingMessage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__["default"]); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/TypingMessage.vue?')},"./src/messages/TypingMessage.vue?vue&type=style&index=0&id=5a1c0386&scoped=true&lang=css&":
/*!*************************************************************************************************!*\
  !*** ./src/messages/TypingMessage.vue?vue&type=style&index=0&id=5a1c0386&scoped=true&lang=css& ***!
  \*************************************************************************************************/
/*! no static exports found */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TypingMessage_vue_vue_type_style_index_0_id_5a1c0386_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/vue-style-loader??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./TypingMessage.vue?vue&type=style&index=0&id=5a1c0386&scoped=true&lang=css& */ "./node_modules/vue-style-loader/index.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/TypingMessage.vue?vue&type=style&index=0&id=5a1c0386&scoped=true&lang=css&");\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TypingMessage_vue_vue_type_style_index_0_id_5a1c0386_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TypingMessage_vue_vue_type_style_index_0_id_5a1c0386_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TypingMessage_vue_vue_type_style_index_0_id_5a1c0386_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \'default\') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TypingMessage_vue_vue_type_style_index_0_id_5a1c0386_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TypingMessage_vue_vue_type_style_index_0_id_5a1c0386_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); \n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/TypingMessage.vue?')},"./src/messages/TypingMessage.vue?vue&type=template&id=5a1c0386&scoped=true&":
/*!***********************************************************************************!*\
  !*** ./src/messages/TypingMessage.vue?vue&type=template&id=5a1c0386&scoped=true& ***!
  \***********************************************************************************/
/*! exports provided: render, staticRenderFns */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TypingMessage_vue_vue_type_template_id_5a1c0386_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"bef95c9c-vue-loader-template"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib??vue-loader-options!./TypingMessage.vue?vue&type=template&id=5a1c0386&scoped=true& */ "./node_modules/cache-loader/dist/cjs.js?{\\"cacheDirectory\\":\\"node_modules/.cache/vue-loader\\",\\"cacheIdentifier\\":\\"bef95c9c-vue-loader-template\\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/messages/TypingMessage.vue?vue&type=template&id=5a1c0386&scoped=true&");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TypingMessage_vue_vue_type_template_id_5a1c0386_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_cache_vue_loader_cacheIdentifier_bef95c9c_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TypingMessage_vue_vue_type_template_id_5a1c0386_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });\n\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/messages/TypingMessage.vue?')},"./src/store/index.js":
/*!****************************!*\
  !*** ./src/store/index.js ***!
  \****************************/
/*! exports provided: default, mapState */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mapState", function() { return mapState; });\n/* harmony import */ var core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.array.for-each */ "./node_modules/core-js/modules/es.array.for-each.js");\n/* harmony import */ var core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");\n/* harmony import */ var core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vue */ "vue");\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(vue__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n/*\n * Use store pattern instead of Vuex since this is a plugin\n * and instantiated externally\n **/\n\nvar store = {\n  state: vue__WEBPACK_IMPORTED_MODULE_2___default.a.observable({\n    editMessage: null\n  }),\n  setState: function setState(key, val) {\n    vue__WEBPACK_IMPORTED_MODULE_2___default.a.set(this.state, key, val);\n  }\n};\n\nfunction mapState(keys) {\n  var map = {};\n  keys.forEach(function (key) {\n    map[key] = function () {\n      return store.state[key];\n    };\n  });\n  return map;\n}\n\n/* harmony default export */ __webpack_exports__["default"] = (store);\n\n\n//# sourceURL=webpack://vue-beautiful-chat/./src/store/index.js?')},vue:
/*!******************************************************************!*\
  !*** external {"commonjs":"vue","commonjs2":"vue","root":"Vue"} ***!
  \******************************************************************/
/*! no static exports found */function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_vue__;\n\n//# sourceURL=webpack://vue-beautiful-chat/external_%7B%22commonjs%22:%22vue%22,%22commonjs2%22:%22vue%22,%22root%22:%22Vue%22%7D?")}})}))},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("8b32"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{background:e.backgroundColor}},[n("beautiful-chat",{attrs:{"always-scroll-to-bottom":e.alwaysScrollToBottom,close:e.closeChat,colors:e.colors,"is-open":e.isChatOpen,"message-list":e.messageList,"message-styling":e.messageStyling,"new-messages-count":e.newMessagesCount,"on-message-was-sent":e.onMessageWasSent,open:e.openChat,participants:e.participants,"show-close-button":!0,"show-launcher":!0,"show-emoji":!0,"show-file":!0,"show-typing-indicator":e.showTypingIndicator,"show-edition":!1,"show-deletion":!1,"show-phone":e.showPhone,"title-image-url":e.titleImageUrl,"disable-user-list-toggle":!0},on:{onType:e.handleOnType,phoneCall:e.handlePhoneCall}})],1)},i=[],s=[{type:"text",author:"me",id:0,data:{text:"Why don't they have salsa on the table?"}},{type:"text",author:"mattmezza",id:1,data:{text:"What do you need salsa for?"}},{type:"text",author:"me",id:2,data:{text:"Salsa is now the number one condiment in America."}},{type:"text",author:"mattmezza",id:3,data:{text:"You know why? Because people like to say 'salsa.' 'Excuse me, do you have salsa?' 'We need more salsa.' 'Where is the salsa? No salsa?'"}},{type:"text",author:"me",id:4,data:{text:"You know it must be impossible for a Spanish person to order seltzer and not get salsa. 'I wanted seltzer, not salsa.'"}},{type:"text",author:"mattmezza",id:5,data:{text:"Don't you know the difference between seltzer and salsa?? You have the seltezer after the salsa!"}},{type:"text",author:"me",id:6,data:{text:"See, this should be a show. This is the show. "}},{type:"text",author:"mattmezza",id:7,data:{text:"What?"}},{type:"text",author:"me",id:8,data:{text:"This. Just talking."}},{type:"text",author:"mattmezza",id:9,data:{text:"Yeah, right."}},{type:"text",author:"me",id:10,data:{text:"I'm really serious. I think that's a good idea. "}},{type:"text",author:"mattmezza",id:11,data:{text:"Just talking? Well what's the show about?"}},{type:"text",author:"me",id:12,data:{text:"It's about nothing."}},{type:"text",author:"mattmezza",id:100,data:{text:"No story?"}},{type:"system",id:13,data:{text:"You have been transferred to another operator",meta:"04-07-2018 15:57"}},{type:"file",author:"support",id:14,data:{text:"No forget the story. ",file:{name:"awesome",url:"https://media.giphy.com/media/dkGhBWE3SyzXW/giphy.gif"}}},{type:"file",author:"me",id:15,data:{text:"What about this one instead?? ",file:{url:"http://www.quickmeme.com/img/2d/2d95cc80f9a2a2578a8f632eebecddcc1c12e5b08ab85f81a5d401670d5f36c1.jpg"},meta:"✓✓ Read"}},{type:"text",author:"support",id:16,data:{text:"You've got to have a story. You've got to have a story. You've got to have a story. You've got to have a story. You've got to have a story. You've got to have a story. "}},{type:"emoji",author:"me",id:17,data:{emoji:"😋"}},{type:"text",author:"me",id:18,data:{text:"Do you read me...",meta:"✓✓ Read"}},{type:"text",author:"me",id:19,data:{text:"...or not?",meta:"✓ Delivered"}},{type:"system",id:20,data:{text:"User changed security key",meta:"04-08-2018 15:57"}},{type:"text",author:"support",id:21,data:{text:"What about suggestions?"},suggestions:["Looks good!","It's OK.","Uhh.. Do I really have to say something?","This suggestion is way too long for css purpose. Let's make it long... Longer, and more and more.. Never ending."]}],a=[{id:"agent",name:"Agent",imageUrl:"https://avatars3.githubusercontent.com/u/1915989?s=230&v=4"},{id:"bot",name:"Bot",imageUrl:"https://avatars3.githubusercontent.com/u/37018832?s=200&v=4"}],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"demo-header",style:{color:e.linkColor}},[n("div",{staticClass:"demo-header--title"},[e._v("vue-beautiful-chat")]),n("div",{staticClass:"demo-header--links"},[n("a",{style:{color:e.linkColor},attrs:{href:"https://github.com/mattmezza/vue-beautiful-chat"}},[e._v("GitHub")]),n("iframe",{attrs:{src:"https://ghbtns.com/github-btn.html?user=mattmezza&repo=vue-beautiful-chat&type=star&count=true",frameborder:"0",scrolling:"0",width:"94px",height:"20px"}})])])},c=[],u={props:{colors:{type:Object,required:!0},chosenColor:{type:String,required:!0}},computed:{linkColor(){return"dark"===this.chosenColor?this.colors.sentMessage.text:this.colors.launcher.bg}}},d=u,f=(n("9d5d"),n("0c7c")),_=Object(f["a"])(d,l,c,!1,null,"122721ab",null),h=(_.exports,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"demo-footer",style:{color:e.linkColor}},[n("div",[n("div",[e._v("© "+e._s((new Date).getFullYear())+" mattmezza/vue-beautiful-chat")]),n("div",[n("a",{style:{color:e.linkColor},attrs:{href:"https://www.npmjs.com/package/vue-beautiful-chat",target:"\\_parent"}},[n("img",{attrs:{alt:"",src:"https://img.shields.io/npm/dm/vue-beautiful-chat.svg"}})])])]),n("div",[n("div",[e._v("Check the React version "),n("a",{style:{color:e.linkColor},attrs:{href:"https://mattmezza.github.io/react-beautiful-chat/",target:"new"}},[e._v("react-beautiful-chat")])])])])}),p=[],m={props:{colors:{type:Object,required:!0},chosenColor:{type:String,required:!0}},computed:{linkColor(){return"dark"===this.chosenColor?this.colors.sentMessage.text:this.colors.launcher.bg},backgroundColor(){return"dark"===this.chosenColor?this.colors.messageList.bg:"#fff"}}},g=m,v=(n("57b7"),Object(f["a"])(g,h,p,!1,null,"97f247ae",null)),b=(v.exports,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"demo-test-area--wrapper",style:{color:e.textColor}},[n("div",{staticClass:"demo-test-area--title"},[n("div",{staticClass:"demo-test-area--title-main",style:{color:e.linkColor}},[e._v("vue-beautiful-chat demo")]),n("div",{staticClass:"demo-test-area--title-sub"},[e._v("by "),n("a",{style:{color:e.linkColor},attrs:{href:"https://matteo.merola.co"}},[e._v("mattmezza")])])]),n("form",{staticClass:"demo-test-area",on:{submit:function(t){return t.preventDefault(),e._handleSubmit.apply(null,arguments)},keyup:e._handleTyping}},[n("div",{staticClass:"demo-test-area--preamble"},[n("p",[e._v("Test the chat window by sending a message:")]),e.userIsTyping?n("p",[e._v("User is typing...")]):e._e()]),n("textarea",{ref:"textArea",staticClass:"demo-test-area--text",style:e.textareaStyle,attrs:{placeholder:"Write a test message...."}}),e._v(" "),n("button",{staticClass:"demo-test-area--button",style:{background:e.ctaColor,color:e.colors.sentMessage.text}},[e._v(" Send Message! ")])]),n("p",{staticClass:"demo-test-area--info"},[n("a",{style:{color:e.linkColor},attrs:{href:"https://github.com/mattmezza/vue-beautiful-chat"}},[e._v("vue-beautiful-chat")]),e._v(" is a chat window that allows you to build and add custom live chat to your sites. It includes only the vue chat widget. There is no backend, and no communication system baked in. "),n("br"),e._v(" It is based on "),n("a",{style:{color:e.linkColor},attrs:{href:"https://github.com/kingofthestack/react-live-chat"}},[e._v("react-chat-window")]),e._v(" and adds some features to it, like optional emoji and file messages. "),n("br"),n("br"),e._v(" For instructions on how to use it click "),n("a",{style:{color:e.linkColor},attrs:{href:"https://github.com/mattmezza/vue-beautiful-chat"}},[e._v("here")]),e._v(". "),n("br"),n("br")])])}),D=[],y={props:{onMessage:{type:Function,required:!0},onTyping:{type:Function,required:!0},colors:{type:Object,required:!0},chosenColor:{type:String,required:!0},messageStyling:{type:Boolean,required:!0}},data(){return{userIsTyping:!1}},methods:{_handleSubmit(){this.onMessage(this.$refs.textArea.value),this.$refs.textArea.value="",this.onTyping("")},_handleTyping(){this.onTyping(this.$refs.textArea.value)}},computed:{linkColor(){return"dark"===this.chosenColor?this.colors.sentMessage.text:this.colors.launcher.bg},backgroundColor(){return"dark"===this.chosenColor?this.colors.messageList.bg:"#fff"},textColor(){return"dark"===this.chosenColor?"#eee":"#222"},ctaColor(){return"dark"===this.chosenColor?this.colors.userInput.bg:this.colors.launcher.bg},textareaStyle(){return{background:"dark"===this.chosenColor?this.colors.messageList.bg:"#fff",color:"dark"===this.chosenColor?this.colors.sentMessage.text:"#222"}}},mounted(){this.$root.$on("onType",()=>{this.userIsTyping=!0,setTimeout(()=>{this.userIsTyping=!1},3e3)})}},C=y,S=(n("88f1"),Object(f["a"])(C,b,D,!1,null,"39e71a24",null)),E=(S.exports,{red:{header:{bg:"#D32F2F",text:"#fff"},launcher:{bg:"#D32F2F"},messageList:{bg:"#fff"},sentMessage:{bg:"#F44336",text:"#fff"},receivedMessage:{bg:"#eaeaea",text:"#222222"},userInput:{bg:"#fff",text:"#212121"},userList:{bg:"#fff",text:"#212121"}},green:{header:{bg:"#388E3C",text:"#fff"},launcher:{bg:"#388E3C"},messageList:{bg:"#fff"},sentMessage:{bg:"#4CAF50",text:"#fff"},receivedMessage:{bg:"#eaeaea",text:"#222222"},userInput:{bg:"#fff",text:"#212121"},userList:{bg:"#fff",text:"#212121"}},blue:{header:{bg:"#4e8cff",text:"#ffffff"},launcher:{bg:"#4e8cff"},messageList:{bg:"#ffffff"},sentMessage:{bg:"#4e8cff",text:"#ffffff"},receivedMessage:{bg:"#eaeaea",text:"#222222"},userInput:{bg:"#f4f7f9",text:"#565867"},userList:{bg:"#fff",text:"#212121"}},dark:{header:{bg:"#34495e",text:"#ecf0f1"},launcher:{bg:"#34495e"},messageList:{bg:"#2c3e50"},sentMessage:{bg:"#7f8c8d",text:"#ecf0f1"},receivedMessage:{bg:"#95a5a6",text:"#ecf0f1"},userInput:{bg:"#34495e",text:"#ecf0f1"},userList:{bg:"#2c3e50",text:"#ecf0f1"}}}),w=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=428)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(6);class o{constructor(){this.colors={trace:"blue",debug:"gray",info:"teal",log:"teal",warn:"red",error:"red",webrtc:"green"},this.logsBuffer=[],this.enableConsoleLog=!1,this.desktopMode=!1,this.externalLogger=null,window.LoggerService=this,this.computeConsoleStatus(),r.default.subscribeUpdateEvent("SETTINGS_UPDATED",()=>{this.computeConsoleStatus()});const e=navigator.userAgent.toLowerCase();this.desktopMode=e.indexOf("qtwebengine")>-1||e.indexOf("electron/")>-1}static getInstance(){const e=window;return e.rainbow||(e.rainbow={}),e.rainbow.loggerService||(e.rainbow.loggerService=new o),e.rainbow.loggerService}computeConsoleStatus(){"true"===r.default.getSetting("forceConsoleLog")?this.enableConsoleLog=!0:this.enableConsoleLog=window.config&&window.config.consoleLog||!1}configure(e){this.externalLogger=e}error(e){this.externalLogger?this.externalLogger.error(e):this.logger("error",e)}warn(e){this.externalLogger?this.externalLogger.info(e):this.logger("warn",e)}info(e){this.externalLogger?this.externalLogger.info(e):this.logger("info",e)}log(e){this.externalLogger?this.externalLogger.debug(e):this.logger("log",e)}debug(e){this.externalLogger?this.externalLogger.debug(e):this.logger("debug",e)}webrtc(e){this.externalLogger?this.externalLogger.webrtc(e):this.logger("info",e)}getLogs(){return this.logsBuffer}logger(e,t){if(this.desktopMode)console[e](`${e.toUpperCase()} ${t}`);else{const n=6e4*(new Date).getTimezoneOffset(),r=`${new Date(Date.now()-n).toISOString().slice(0,-1)} ${e.toUpperCase()} ${t}`;this.enableConsoleLog&&console[e]("%c "+r,"color:"+this.colors[e]),6e3===this.logsBuffer.length&&this.logsBuffer.shift(),this.logsBuffer.push(r+"\n")}}}t.LoggerService=o,t.default=o.getInstance()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(11);class o{constructor(e,t,n,o){this.isVm=!1,this.remoteMedia=0,this.localMedia=0,this.isEscalated=!1,this.isError=!1,this.startDate=new Date,this.isInitiator=!1,this.participants=null,this.isRemoteVideoMuted=!1,this.isConference=!1,this.subject=void 0,this.currentCalled={contactPhoneNumber:"",contact:null,participantsPhoneNumbers:[],participants:[]},this.fullJid="",this.mediaPillarCall=null,this.isSecondary=!1,this.relevant=!0,this.relevantEquipmentId="unknown",this.deviceId=null,this.isOwner=void 0,this.pbxConnectionDown=void 0,this.isMuted=!1,this.duration=0,this.durationTimer=null,this.unifiedPlanActivated=!1,this.globalCallId=null,this.correlatorData=null,this.activeControl=!1,this.hasRemoteControlling=!1,this.networkQuality=0,this.sipWiseData=null,this.errorMessage=null,this.lastCause=null,this.rxSubject=new r.Subject,this.status=e,this.type=n,this.id=t,this.conversationId=null,this.connectionId=null,this.isVm=null,this.contact=o,this.remoteMedia=0,this.localMedia=0,this.isEscalated=!1,this.startDate=new Date,this.isInitiator=!1,this.participants=null,this.isRemoteVideoMuted=!1,this.isConference=!1,this.avatars=o&&o.avatar?[this.contact.avatar.src]:[],this.subject=void 0,this.currentCalled={contactPhoneNumber:"",contact:null,participantsPhoneNumbers:[],participants:[]},this.fullJid="",this.mediaPillarCall=null,this.isSecondary=!1,this.relevant=!1,this.relevantEquipmentId="unknown",this.deviceId=null,this.isOwner=void 0,this.pbxConnectionDown=void 0,this.isMuted=!1,this.duration=0,this.statusInfo=null,this.globalCallId=void 0,this.correlatorData=void 0,this.activeControl=!1,this.hasRemoteControlling=!1,this.networkQuality=0,this.sipWiseData={initCause:"",direction:"",called:{phoneNumber:"",displayName:""},assocPhoneCallId:null}}static create(e,t,n,r){return new o(e,t,n,r)}setCallId(e){this.id=e}getGlobalCallId(e){return this.globalCallId}setGlobalCallId(e){this.globalCallId=e}setConversationId(e){this.conversationId=e}setStatus(e){this.status=e}setCorrelatorData(e){this.correlatorData=e}setType(e){this.type=e}setIsVm(e){this.isVm=e}setContact(e){this.contact=e,this.avatars=[this.contact.avatar.src]}getCurrentCalled(){return this.currentCalled}setSubject(e){this.subject=e}setCurrentCalledContactNumber(e){this.currentCalled.contactPhoneNumber=e}setRelevantEquipmentId(e){this.relevantEquipmentId=e}setParticipants(e){this.participants=e,this.avatars=[],this.participants.forEach(e=>{this.avatars.push(e.avatar.src)})}setConnectionId(e){this.connectionId=e,this.id=o.getIdFromConnectionId(e)}isInConversationWithMobile(){return!!this.fullJid&&(-1!==this.fullJid.indexOf("mobile_android")||-1!==this.fullJid.indexOf("mobile_ios"))}isInConversationWithDesktopApp(){return!!this.fullJid&&-1!==this.fullJid.indexOf("desk_")}setCurrentCalled(e){e?this.contact&&this.contact.id?(this.currentCalled.contactPhoneNumber=e.contactPhoneNumber&&""!==e.contactPhoneNumber?e.contactPhoneNumber:"",this.currentCalled.contact=e.contact?e.contact:null,this.currentCalled.participantsPhoneNumbers=null,this.currentCalled.participants=null):(this.currentCalled.contactPhoneNumber="",this.currentCalled.contact=null,this.currentCalled.participantsPhoneNumbers=e.participantsPhoneNumbers&&e.participantsPhoneNumbers.length>0?e.participantsPhoneNumbers:null,this.currentCalled.participants=e.participants&&e.participants.length>0?e.participants:null):(this.currentCalled.contactPhoneNumber="",this.currentCalled.contact=null,this.currentCalled.participantsPhoneNumbers=null,this.currentCalled.participants=null)}static getIdFromConnectionId(e){return e}static getCallIdFromConnectionId(e){return e?e.split("#")[0]:null}static getDeviceIdFromConnectionId(e){const t=e?e.split("#")[1]:null;return t||null}isMediaPillarCall(){return null!==this.mediaPillarCall}getMediaPillarCall(){return this.mediaPillarCall}setMediaPillarCall(e){this.mediaPillarCall=e||null}setDeviceIdSipWise(e){this.deviceId=e||null}getDeviceIdSipWise(){return this.deviceId}setConnectionIdSipWise(e){this.connectionId=e}getConnectionIdSipWise(){return this.connectionId}resetSipWiseData(){this.sipWiseData={initCause:"",direction:"",called:{phoneNumber:"",displayName:""}}}setInitCauseSipWiseData(e){this.sipWiseData.initCause=e,this.lastCause=e}getInitCauseSipWiseData(){return this.sipWiseData.initCause}setDirectionSipWiseData(e){this.sipWiseData.direction=e}getDirectionSipWiseData(){return this.sipWiseData.direction}setCalledSipWiseData(e){this.sipWiseData.called=e}getCalledSipWiseData(){return this.sipWiseData.called}isHuntingGroupCallSipWise(){return"distributed"===this.sipWiseData.initCause}getHuntingGroupCalledInfo(){return this.isHuntingGroupCallSipWise()?this.getCalledSipWiseData():null}setAssocPhoneCallId(e){this.sipWiseData.assocPhoneCallId=e}getAssocPhoneCallId(){return this.sipWiseData.assocPhoneCallId}getDeviceIdFromConnectionIdFromCall(){return this.deviceId?this.deviceId:this.connectionId?this.connectionId.split("#")[1]:null}startDuration(){this.durationTimer||(this.durationTimer=r.interval(1e3).subscribe(()=>{this.duration++}))}stopDuration(){this.durationTimer&&(this.durationTimer.unsubscribe(),this.durationTimer=null)}toString(){return"(type:"+this.type.value+", id:"+this.id+", status:"+this.status.value+(this.isConference?" conference":"")+")"}isInCallWithMediaPillar(){return this.fullJid&&-1!==this.fullJid.indexOf("mp_")}subscribe(e){return this.rxSubject.subscribe(e)}publish(e,t=null){this.rxSubject.next({name:e,value:t})}}o.Status={UNKNOWN:{key:0,value:"Unknown"},DIALING:{key:1,value:"dialing"},QUEUED_INCOMMING:{key:2,value:"queuedIncomming"},QUEUED_OUTGOING:{key:10,value:"queuedOutGoing"},RINGING_INCOMMING:{key:3,value:"incommingCall"},RINGING_OUTGOING:{key:4,value:"ringingOutgoing"},ACTIVE:{key:5,value:"active"},HOLD:{key:6,value:"held"},PUT_ON_HOLD:{key:7,value:"putOnHold"},RELEASING:{key:8,value:"releasing"},ANSWERING:{key:9,value:"answering"},CONNECTING:{key:12,value:"connecting"},ERROR:{key:11,value:"error"}},o.Type={WEBRTC:{key:1,value:"Video"},PHONE:{key:2,value:"Phone"}},o.Media={AUDIO:1,VIDEO:2,PHONE:4,SHARING:8},t.Call=o},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(33),i=n(26),s=n(0),a=n(38),l=n(6),c=n(3),u=n(39),d=n(59),f=n(5),_=n(15),h=n(49),p=n(43),m=n(11),g=n(24),v=n(74),b=n(60),D=n(4);class y{constructor(){this.userContact=null,this.contacts={},this.dbContacts={},this.jtelContacts={},this.currentLanguage=null,this.eventService=o.default,this.settingsService=l.default,this.mainService=i.default,this.logger=s.default,this.errorHelperService=a.default,this.authService=c.default,this.i18nService=u.default,this.companyService=d.default,this.xmppService=f.default,this.rxSubject=new m.Subject,this.subscriptions=[],this._displayOrder=null,this.contactLastActivityInterval=null,this.calendarPresenceEventHandlerCleaner=null,this.xmppConnectionSubscription=null,this.presentationModeEventHandlerCleaner=null,this.subscriptionPromiseQueue=h.PromiseQueue.create(),this.getContactPromises=[],this.contactConfigRef=null,this.lastUpdatePresentationMode=null,this.presentationModeTimeout=null,this.presentationModeActive=!1,this.awayStateActive=!1,this.busyState={status:null,message:null},this.manualState=!1}get displayOrder(){return this._displayOrder}set displayOrder(e){this._displayOrder=e,Object.keys(this.contacts).forEach(t=>{const n=this.contacts[t];n.displayOrder=e,n.computeDisplayName()})}static getInstance(){const e=window;return e.rainbow||(e.rainbow={}),e.rainbow.contactService||(e.rainbow.contactService=new y),e.rainbow.contactService}start(){return r(this,void 0,void 0,(function*(){if(this.logger.info("[contactService] === STARTING ==="),this.currentLanguage=this.settingsService.getSetting("lang"),this.displayOrder=this.settingsService.getSetting("displayOrder"),this.settingsService.subscribeUpdateEvent("SETTINGS_UPDATED",()=>{this.currentLanguage=this.settingsService.getSetting("lang"),this.displayOrder=this.settingsService.getSetting("displayOrder"),this.updateContactsLastActivityMessage()}),this.subscriptions.push(this.xmppService.subscribeToContactEvents(e=>{switch(e.name){case"ON_CONTACT_PRESENCE_EVENT":this.contactPresenceChangedHandler(e.data);break;case"ON_CONTACT_UPDATE_EVENT":this.onContactChangeEvent(e.data.from,e.data.type);break;case"ON_ROSTER_CHANGED_EVENT":this.subscriptionPromiseQueue.add(()=>this.rosterChangedHandlerPromise(e.data))}})),this.xmppService.contactServiceReady=!0,this.calendarPresenceEventHandlerCleaner&&this.calendarPresenceEventHandlerCleaner(),this.calendarPresenceEventHandlerCleaner=this.eventService.subscribe("ON_CONTACT_CALENDAR_STATUS_CHANGE",(e,t)=>{this.updateContactCalendarPresenceInfo(t)}),this.presentationModeEventHandlerCleaner&&this.presentationModeEventHandlerCleaner(),this.presentationModeEventHandlerCleaner=this.eventService.subscribe("ON_PRESENTATION_MODE_CHANGED_EVENT",(e,t)=>{this.onPresentationModeChangedEvent(t)}),this.logger.info("[contactService] Create userContact ("+this.xmppService.jid+")"),this.userContact=this.createContact(),this.userContact.ask=null,this.userContact.subscription=null,this.userContact.id=this.xmppService.jid,this.userContact.jid=this.xmppService.jid,this.userContact.fullJid=this.xmppService.fullJid,this.userContact.language=this.currentLanguage,this.userContact.updateFromUserData(this.authService.loggedInUser),this.userContact.getAvatar(),this.updateContactRichStatus(this.userContact),this.dbContacts[this.userContact.dbId]=this.userContact,this.contacts[this.userContact.id]=this.userContact,this.jtelContacts[this.userContact.jidtel]=this.userContact,!this.authService.loggedInUser.language){const e=this.settingsService.getAppliLanguageCodeForServer();this.updateUserContact({language:e})}const e=yield this.getUserSettings();this.manageCalendarPresencePrompt(e),this.settingsService.setSetting("activeAlarm",e.activeAlarm),this.settingsService.setSetting("activeNotif",e.activeNotif),this.settingsService.setSetting("protectionAgainstMailTypeOffline",e.protectionAgainstMailTypeOffline),this.settingsService.setSetting("applyCalendarPresence",String(e.applyCalendarPresence)),this.logger.info("[contactService] Get alarm & notif data ("+e.activeAlarm+" / "+e.activeNotif+")"),this.logger.info("[contactService] Get mail setting data ("+e.protectionAgainstMailTypeOffline+")");let t=!1;void 0===this.userContact.customData.pushToTalkEnabled&&(t=!0,this.userContact.customData.pushToTalkEnabled=!1),void 0===this.userContact.customData.pushToTalkKey&&(t=!0,this.userContact.customData.pushToTalkKey="Shift"),void 0===this.userContact.customData.pushToTalkDelay&&(t=!0,this.userContact.customData.pushToTalkDelay=0),void 0===this.userContact.customData.enablePushToTalkTone&&(t=!0,this.userContact.customData.enablePushToTalkTone=!1),t&&this.updateUserContact({customData:this.userContact.customData}),this.userContact.company=yield this.companyService.getCompanyById(this.userContact.company.id),this.userContact.alertNotificationEnabledForMyCompany=yield this.companyService.getCompanyAlertNotificationState(this.userContact.company),this.attachHandlers(),yield this.getNetwork(),yield this.updateNetworkWithRosterInfo(),this.subscriptions.push(this.mainService.subscribe(e=>(this.logger.info("[contactService] AppActive changed : "+e),!e&&this.userContact&&"online"===this.userContact.status&&(this.awayStateActive=!0),e&&this.awayStateActive&&(this.awayStateActive=!1),this.updatePresence(!0),!0))),this.getMissedPresenceMessages(),this.xmppConnectionSubscription&&this.xmppConnectionSubscription.unsubscribe(),this.xmppConnectionSubscription=this.xmppService.subscribeToConnectionEvents(e=>{this.onConnectionStateChangeEvent(e)}),this.contactLastActivityInterval=setInterval(()=>{this.updateContactsLastActivityMessage()},6e4),this.logger.info("[contactService] === STARTED ===")}))}attachHandlers(){this.logger.info("[contactService] AttachHandlers"),this.contactConfigRef&&(this.xmppService.deleteHandler(this.contactConfigRef),this.contactConfigRef=null),this.contactConfigRef=this.xmppService.addHandler(e=>this.onUserManagementEvent(e),null,"message","management")}stop(){return r(this,void 0,void 0,(function*(){this.logger.info("[contactService] == STOPPING =="),this.userContact=null,this.contacts={},this.dbContacts={},this.jtelContacts={},this.presentationModeActive=!1,this.awayStateActive=!1,this.busyState={status:null,message:null},this.manualState=!1,this.contactLastActivityInterval&&(clearInterval(this.contactLastActivityInterval),this.contactLastActivityInterval=null),this.subscriptions&&this.subscriptions.forEach(e=>{e.unsubscribe()}),this.xmppConnectionSubscription&&this.xmppConnectionSubscription.unsubscribe(),this.calendarPresenceEventHandlerCleaner&&(this.calendarPresenceEventHandlerCleaner(),this.calendarPresenceEventHandlerCleaner=null),this.logger.info("[contactService] == STOPPED ==")}))}subscribe(e){return this.rxSubject.subscribe(e)}sendEvent(e,t=null){this.rxSubject.next(g.RBEvent.create(e,t))}sendUpdateEvent(e){e.rxSubject.next({name:"update",data:e});const t=this.isUserContact(e)?"ON_USER_CONTACT_UPDATED_EVENT":"ON_CONTACT_UPDATED_EVENT";this.eventService.publish(t,e)}onConnectionStateChangeEvent(e){"ON_XMPP_DISCONNECTED"===e.name&&this.userContact&&(this.userContact.resources={},Object.keys(this.contacts).forEach(e=>{const t=this.contacts[e];t.isBot||(t.resources={},"unknown"!==t.status&&"none"!==t.subscription&&(t.status="offline",t.imStatusStamp=[]))}),this.presentationModeActive=!1,this.awayStateActive=!1,this.busyState={status:null,message:null},this.manualState=!1)}createContact(e=null,t=null,n=null,r=null,o=null){const i=new p.Contact(e,null,r);return i.login=o,i.avatarServerURL=this.mainService.cdn?this.mainService.cdnServer:config.webservices.protocol+"://"+config.webservices.currentServer,i.firstname=t,i.lastname=n,i.displayOrder=this.displayOrder,i.computeDisplayName(),i}createBotContact(e,t,n,r,o){let i=this.contacts[e];return i||(i=new p.Contact(e),i.botDetails="emilyDetails"),i.displayOrder=this.displayOrder,i.lastname=t,i.isBot=!0,i.status="online",i.imStatus="online",i.subscription="both",i.computeDisplayName(),i.avatar=window.rainbowSDK?null:{src:r},i.dbId=n,i.isBotSharing=!!o&&o.some((function(e){return"SHARING"===e})),this.contacts[i.id]=this.dbContacts[n]=i,i}isMediaPillarJid(e){return e&&0===e.indexOf("mp_")}isUserContactJid(e){return!(!this.userContact||!e||0===e.length)&&e.startsWith(this.userContact.jid)}isUserContact(e){return!(!e||!e.jid)&&this.isUserContactJid(e.jid)}searchContacts(e){return this.getContacts().filter(t=>(t.roster||t.isBot)&&!t.isTerminated&&this.contactMatcher(t,e))}contactMatcher(e,t){const n=e.firstname+" "+e.lastname,r=t.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(/[ ]+/),o=n.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(/[ ]+/);return r.every(e=>o.some((t,n)=>!(!t.length||0!==t.indexOf(e))&&(o[n]="",!0)))}getContacts(){return Object.keys(this.contacts).map(e=>this.contacts[e])}getContact(e,t=null){const n=e||t;return this.isUserContactJid(n)?this.userContact:this.contacts[n]}getContactByJid(e){return this.getContact(e)}getContactById(e){return this.dbContacts[e]}getContactByEmail(e){const t=Object.keys(this.contacts).find(t=>this.contacts[t].containsEmail(e));return t?this.contacts[t]:null}getContactByPhoneNumber(e){const t=Object.keys(this.contacts).find(t=>this.contacts[t].containsPhoneNumber(e));return t?this.contacts[t]:null}getContactByDBId(e,t=!1){return r(this,void 0,void 0,(function*(){try{const n=this.dbContacts[e];if(!t&&n)return n;if(!this.getContactPromises[e]){const t=`${config.restServerUrl}/api/rainbow/enduser/v1.0/users/${e}?format=full`,r=yield fetch(t,{method:"GET",headers:this.authService.getRequestHeader()});if(!r.ok)throw r;const o=(yield r.json()).data,i=n||this.createBasicContact(o.jid_im);return i.updateFromUserData(o),i.getAvatar(),this.dbContacts[i.dbId]=i,this.jtelContacts[i.jidtel]=i,delete this.getContactPromises[e],this.logger.info("[contactService] GetContactByDBId ("+e+") -- "+o.jid_im+" -- success"),i}return this.getContactPromises[e]}catch(n){delete this.getContactPromises[e];const t=yield this.errorHelperService.getErrorInfo(n,"getContactByDBId");throw this.logger.error(t.message),t.error}}))}getContactsByEmails(e){return r(this,void 0,void 0,(function*(){try{this.logger.info("[contactService] getContactsByEmails with ["+e.join()+"]");const t=config.restServerUrl+"/api/rainbow/enduser/v1.0/users/loginemails",n=e.map(e=>e.toLowerCase()),r=yield fetch(t,{method:"POST",headers:this.authService.getPostHeader(),body:JSON.stringify({loginEmail:n})});if(!r.ok)throw r;const o=yield r.json(),i={},s=o.data.map(e=>{let t=this.dbContacts[e.id];return t||(t=this.createContact(),this.contacts[t.id]=t,this.dbContacts[t.dbId]=t,this.jtelContacts[t.jidtel]=t),t.updateFromUserData(e),t.getAvatar(),i[t.loginEmail]=t,n.splice(n.indexOf(t.loginEmail.toLowerCase()),1),t});return{contacts:i,contactsArray:s,emails:n}}catch(t){const e=yield this.errorHelperService.getErrorInfo(t,"getContactsByEmails");throw this.logger.error(e.message),e.error}}))}getContactsByJids(e){return r(this,void 0,void 0,(function*(){try{this.logger.info(`[contactService] getContactsByJids with [${e.join()}]`);const t=config.restServerUrl+"/api/rainbow/enduser/v1.0/users/jids?limit=1000",n=yield fetch(t,{method:"POST",headers:this.authService.getPostHeader(),body:JSON.stringify({jid_im:e})});if(!n.ok)throw n;(yield n.json()).data.forEach(e=>{let t=this.getContact(e.jid_im);t||(t=this.createContact()),t.updateFromUserData(e),t.isAnonymousGuest()||(this.contacts[t.id]=t,this.dbContacts[t.dbId]=t,this.jtelContacts[t.jidtel]=t,t.getAvatar(),t.temp=!1)})}catch(t){const e=yield this.errorHelperService.getErrorInfo(t,"getContactsByJids");throw this.logger.error(e.message),e.error}}))}createBasicContact(e,t=null,n=!0){this.logger.debug(`[contactService] CreateContact ${e} ${_.default(t)}`);const r=this.createContact();if(!e)return r.id=t,r.initials="?",r.displayName=t||(this.i18nService.isInitialized?this.i18nService.translate("accountDeleted"):"Unknown contact"),r.lastname=t||(this.i18nService.isInitialized?this.i18nService.translate("accountDeleted"):"Unknown contact"),r.firstname="",r.phoneProCan=t||"",r.phonePro=r.phoneProCan,r.temp=!0,r.avatar={src:"/resources/skins/rainbow/images/conversations/unknownUser.jpeg"},r.nameUpdatePrio=p.Contact.NameUpdatePrio.NO_UPDATE_PRIO,r;let o=e;return o||(o=t,r.phoneProCan=t),o||(o="anonymous"),r.jid=e,r.id=o,r.ask="none",r.subscription="none",this.updateContactRichStatus(r),!1!==n&&(this.contacts[r.id]=r),r}createEmptyContact(e){const t=this.createBasicContact(e);return t.initials="?",t.displayName=this.i18nService.isInitialized?this.i18nService.translate("accountDeleted"):"Unknown contact",t.lastname=this.i18nService.isInitialized?this.i18nService.translate("accountDeleted"):"Unknown contact",t.firstname="",t.temp=!0,t.avatar={src:"/resources/skins/rainbow/images/conversations/unknownUser.jpeg"},t}getOrCreateContact(e,t=null){if(!e&&!t)return Promise.reject(new Error("No jid or no phoneNumber"));const n=this.getContact(e,t);if(n)return Promise.resolve(n);if(e&&-1===e.indexOf("@"))return Promise.reject(new Error("Invalid jid "+e));const r=e||t;return e?(this.getContactPromises[r]||(this.getContactPromises[r]=new Promise((n,o)=>{const i=this.createBasicContact(e,t,!1);this.updateContactFromServer(i).then(()=>{this.contacts[i.id]=i,this.dbContacts[i.dbId]=i,this.jtelContacts[i.jidtel]=i,delete this.getContactPromises[r],n(i)}).catch(e=>{this.logger.error("[contactService] getOrCreateContact -- failure -- "+e.message),delete this.getContactPromises[r],o(e)})})),this.getContactPromises[r]):Promise.resolve(this.createBasicContact(null,t))}updateContactFromServer(e,t=!1){return r(this,void 0,void 0,(function*(){try{const n=`${config.restServerUrl}/api/rainbow/enduser/v1.0/users/jids/${e.jid}`,r=yield fetch(n,{headers:this.authService.getRequestHeader()});if(!r.ok)throw r;const o=yield r.json();e.updateFromUserData(o.data),this.updateContactRichStatus(e,this.isUserContactJid(e.jid)),t||e.getAvatar(),this.sendUpdateEvent(e)}catch(n){const e=yield this.errorHelperService.getErrorInfo(n,"updateContactFromServer");throw this.logger.error(e.message),e.error}}))}getContactInfoByEmail(e){return r(this,void 0,void 0,(function*(){try{const t=config.restServerUrl+"/api/rainbow/enduser/v1.0/users/loginemails?format=full",n=yield fetch(t,{method:"POST",headers:this.authService.getRequestHeader(),body:JSON.stringify({loginEmail:[e]})});if(!n.ok)throw n;return(yield n.json()).data}catch(t){const e=yield this.errorHelperService.getErrorInfo(t,"getContactInfoByEmail");throw this.logger.error(e.message),e.error}}))}onContactChangeEvent(e,t){this.logger.info("[contactService] onContactChangeEvent event: "+event+" || status: "+e+" || type: "+t),setTimeout(()=>r(this,void 0,void 0,(function*(){const n=this.getContact(e);n&&(yield this.updateContactFromServer(n,!0),"avatar"===t&&n.getAvatar(256,!0),this.sendUpdateEvent(n))})),2e3)}onUserManagementEvent(e){try{const t=$(e).find("usersettings");if(t.length&&"update"===t.attr("action"))return this.logger.info("[contactService] onUserManagementEvent - should update the presence"),this.sendPresenceFromConfiguration(),!0;const n=$(e).find("userpassword");return!n.length||"update"!==n.attr("action")||(this.logger.info("[contactService] onUserManagementEvent - userPassword updated"),this.xmppService.changePasswordInfo||(this.xmppService.changePasswordInfo={fromThirdParty:!0}),!0)}catch(t){return!0}}sendPresenceFromConfiguration(e=!1){return r(this,void 0,void 0,(function*(){this.logger.info("(with auth info)");try{const t=yield this.getUserSettings();let n="",r=t.presence;if("invisible"===r?r="xa":"away"===r&&(r="xa",n="away"),this.logger.info("[contactService] sendPresenceFromConfiguration -> getUserSettings are "+r+" || message : "+n),this.userContact&&this.userContact.resources&&this.userContact.resources[this.userContact.fullJid]){const t=this.userContact.resources[this.userContact.fullJid];if(t&&(t.show!==r||"xa"===t.show&&t.status!==n)){if(!this.busyState||"dnd"!==this.busyState.status||this.manualState){this.logger.info("[contactService] sendPresenceFromConfiguration should update my status from "+t.show+" to "+r+" ("+n+")");const o={im:this.userContact.instantMessagesEnabled,alert:this.userContact.alertNotificationEnabledForMyCompany};this.setUserContactStatus(r,n,e,o)}}else this.eventService.publish("ON_RELOAD_CAPABILITIES_FOR_MY_CONYTACT")}else{const t={im:this.userContact.instantMessagesEnabled,alert:this.userContact.alertNotificationEnabledForMyCompany};this.logger.info("[contactService] sendPresenceFromConfiguration set initial presence "),this.setUserContactStatus(r,n,e,t)}}catch(t){this.logger.info("[contactService] sendPresenceFromConfiguration failure, send online"),this.setUserContactStatus("online",null,e)}}))}changeMyPresence(e){if(this.logger.info("[contactService] changeMyPresence "+e+" "+this.userContact.message),"dnd"===e&&"presentation"===this.userContact.message||"busy"===e)return;let t="";"online"===e&&(t="mode=auto"),"away"===e&&(e="xa",t="away"),this.setUserContactStatus(e,t),"online"===e&&setTimeout(()=>{this.manualState=!1,this.updatePresence()},1e3);let n="online";"xa"===e&&"away"===t?n="away":"dnd"===e?n="dnd":"xa"===e&&(n="invisible"),this.setUserSettings({presence:n})}updateUserContact(e){return r(this,void 0,void 0,(function*(){let t=null;try{this.logger.info("[contactService] updateUserContact");const n=`${config.restServerUrl}/api/rainbow/enduser/v1.0/users/${this.authService.userId}`,r=this.authService.getPostHeader(),o=yield fetch(n,{method:"PUT",headers:r,body:JSON.stringify(e)});if(!o.ok)throw o;t=(yield o.json()).data,this.userContact.updateFromUserData(t),this.authService.loggedInUser=t,this.logger.info("[contactService] updateUserContact successfully")}catch(n){const e=yield this.errorHelperService.getErrorInfo(n,"updateUserContact");throw this.logger.error(e.message),e.error}}))}reconnect(){this.updateUserContactFullJid()}updateUserContactFullJid(){this.userContact.fullJid=this.xmppService.fullJid,this.attachHandlers()}completeContactPhoneNumbers(e){return r(this,void 0,void 0,(function*(){if(e.isBot)throw new Error("No phone numbers for bot contacts");if(e.phoneNumbersInitialized)return e;if(e.dbId)try{return yield this.getContactByDBId(e.dbId,!0)}catch(t){throw new Error(t.message)}return e}))}updateUserPassword(e,t,n=!1){return new Promise((o,i)=>{const s=this.userContact.loginEmail;this.xmppService.changePasswordInfo={resolve:n?o:null,login:s,newPassword:t};const a=`${config.restServerUrl}/api/rainbow/enduser/v1.0/users/${this.authService.userId}/change-password`,l=this.authService.getPostHeader();fetch(a,{method:"PUT",headers:l,body:JSON.stringify({oldPassword:e,newPassword:t})}).then(e=>{if(!e.ok)throw e;n||o()}).catch(e=>r(this,void 0,void 0,(function*(){this.xmppService.changePasswordInfo=null;const t=yield this.errorHelperService.getErrorInfo(e,"updateUserPassword");this.logger.error(t.message),i(t.error)})))})}getNetwork(){return r(this,void 0,void 0,(function*(){try{const e=config.restServerUrl+"/api/rainbow/enduser/v1.0/users/networks?limit=2000&format=full",t=this.authService.getRequestHeader(),n=yield fetch(e,{method:"GET",headers:t});if(!n.ok)throw n;const r=yield n.json();this.logger.info(`[contactService] GetNetwork success -- find ${r.data.length} contact(s)`),r.data.forEach(e=>{const t=this.createContact();t.updateFromUserData(e),this.contacts[t.id]=t,this.dbContacts[t.dbId]=t,this.jtelContacts[t.jidtel]=t,this.updateContactRichStatus(t),t.getAvatar(),this.sendUpdateEvent(t)})}catch(e){const t=yield this.errorHelperService.getErrorInfo(e,"getNetwork");throw this.logger.error(t.message),t.error}}))}updateNetworkWithRosterInfo(){return r(this,void 0,void 0,(function*(){try{const e=yield this.xmppService.sendIQ($iq({type:"get"}).c("query",{xmlns:"jabber:iq:roster"}));this.logger.info("[contactService] Get rosters info successfully"),$(e).find("item").each((e,t)=>{const n=$(t),r=this.xmppService.getBareJidFromJid(n.attr("jid"));if(r&&r.length&&!this.isTelJid(r)){const e=this.contacts[r];if(e){const t=n.attr("ask"),o=n.attr("subscription");e.ask=t||"none",e.subscription=o||"none",e.roster=!0,this.updateContactRichStatus(e),this.logger.info("[contactService] Update contact from roster ("+e.ask+", "+e.subscription+") "+r)}}})}catch(e){throw this.logger.error("[contactService] Get rosters failure : "+e.message),new Error(e.message)}}))}getUserSettings(){return r(this,void 0,void 0,(function*(){try{const e=`${config.restServerUrl}/api/rainbow/enduser/v1.0/users/${this.userContact.dbId}/settings`,t=this.authService.getRequestHeader(),n=yield fetch(e,{method:"GET",headers:t});if(!n.ok)throw n;const r=yield n.json(),o=r.data.presence&&this.userContact.changePresenceEnabled?r.data.presence:"online",i=r.data.activeAlarm||"relax1",s=r.data.activeNotif||"notif1",a=r.data.promptForCalendarPresence,l=r.data.protectionAgainstMailTypeOffline,c=Boolean(r.data.applyCalendarPresence);return this.logger.info("[contactService] GetUserSettings success"),{presence:o,activeAlarm:i,activeNotif:s,promptForCalendarPresence:a,protectionAgainstMailTypeOffline:l,applyCalendarPresence:c}}catch(e){const t=yield this.errorHelperService.getErrorInfo(e,"getUserSettings");return this.logger.error(t.message),{presence:"online",activeAlarm:"relax1",activeNotif:"notif1",promptForCalendarPresence:!1}}}))}setUserSettings(e){return r(this,void 0,void 0,(function*(){try{const t=`${config.restServerUrl}/api/rainbow/enduser/v1.0/users/${this.userContact.dbId}/settings`,n=this.authService.getPostHeader(),r=yield fetch(t,{method:"PUT",headers:n,body:JSON.stringify(e)});if(!r.ok)throw r;this.logger.info(`[contactService] SetUserSettings ${JSON.stringify(e)} -- success`)}catch(t){const e=yield this.errorHelperService.getErrorInfo(t,"setUserSettings");throw this.logger.error(e.message),e.error.errorDetailsCode&&403153===e.error.errorDetailsCode&&(this.setUserContactStatus("online","mode=auto"),this.eventService.publish("ON_OPEN_GLOBAL_POPUP",{popupTitle:"presence",popupBody:"changePresenceDisabled",okLabel:"ok"})),e.error}}))}manageCalendarPresencePrompt(e){if(void 0!==e.promptForCalendarPresence)this.settingsService.setSetting("disableCalendarPresence",e.promptForCalendarPresence?"false":"true"),this.logger.info("[contactService] promptForCalendarPresence -- "+e.promptForCalendarPresence);else{const e="true"!==this.settingsService.getSetting("disableCalendarPresence");this.logger.info("[contactService] MIGRATION NECESSARY -- promptForCalendarPresence : "+e),this.setUserSettings({promptForCalendarPresence:e})}}updateContactCalendarPresenceInfo(e){const t=e.calendarState;let n=null,r=null;t.iconId=null;let o=null;if(t.autoReplyOn)t.iconId="calendar--busy",r="<div style='text-align:left'>"+b(t.autoReplyInfos.message).replace(/\n/g,"<br/>")+"</div>",n={meetingDate:t.autoReplyInfos.until,message:r},o=t.autoReplyInfos.until?t.autoReplyInfos.untilDate?"calendarAutoReply-date":"calendarAutoReply":"calendarAutoReplySimple";else{if("busy"===t.message)t.iconId="calendar--ok",o=t.untilDate?"calendar-busy-date":"calendar-busy";else if("out_of_office"===t.message)t.iconId="calendar--busy",o=t.untilDate?"calendar-outofoffice-date":"calendar-outofoffice";else if("online"===t.status){const e=t.mdate&&t.mdate.isSame(D(),"d");t.tooltip=e?this.i18nService.translate("calendar-free",{meetingDate:t.until}):this.i18nService.translate("calendar-noappointment")}n={meetingDate:t.until}}o&&(t.tooltip=this.i18nService.translate(o,{meetingDate:n.meetingDate}),n.message&&(n.message=n.message.replace(/<script>/g,""),n.message=n.message.replace(/(?:<br?\/?>\s*){2,}/g,"<br/>"),t.tooltip=t.tooltip+" "+n.message)),this.updateContactRichStatus(e,this.isUserContactJid(e.jid))}isTelJid(e){return 0===e.indexOf("tel_")}getResourceFromJid(e){return this.xmppService.getResourceFromJid(e)}getImJid(e){const t=this.xmppService.getBareJidFromJid(e);if(this.isTelJid(t)){const n=this.jtelContacts[t];return n?n.jid:(this.logger.warn("[contactService] -- getIMJid("+e+") -- failure -- no associated contact"),null)}return t}rosterChangedHandlerPromise(e){return r(this,void 0,void 0,(function*(){try{if(this.isTelJid(e.jid))return void this.logger.debug("[contactService] Contact changed ("+e.jid+") ignored");const t=yield this.getOrCreateContact(e.jid);"remove"===e.subscription?(t.ask="none",t.subscription="none",t.roster=!1):(t.ask=e.ask,t.subscription=e.subscription,t.roster=!0,"both"===e.subscription&&this.updatePresence(!0)),this.updateContactRichStatus(t),this.sendUpdateEvent(t),this.sendEvent("ON_CONTACT_ROSTER_UPDATE_EVENT"),this.logger.info("[contactService] rosterChangedHandler - contact "+e.jid+" changed ("+e.ask+", "+e.subscription+") success")}catch(t){this.logger.error("[contactService] rosterChangedHandler - contact "+e.jid+" failure - "+t.message)}}))}contactPresenceChangedHandler(e){return r(this,void 0,void 0,(function*(){const t=this.getResourceFromJid(e.jid);if("calendar"===t)return;const n=this.getImJid(e.jid);if(!n)return;if(n.startsWith("room"))return;const r=yield this.getOrCreateContact(n),o=this.isUserContact(r);this.isTelJid(e.jid)?(this.logger.info("[contactService] Update telephony presence ("+n+") source: "+t),this.logger.info("[contactService] Update telephony presence ("+n+") msg: "+e.message+" / status: "+e.status),this.updateContactTelephonyStatus(r,e,o)):(this.logger.info("[contactService] Update im presence contact ("+n+") status: "+e.status+" "+e.stamp),this.isUserContact(r)&&"mode=auto"===e.message&&"online"!==r.status&&r.resources.hasOwnProperty(e.jid)&&e.jid!==r.fullJid&&"EVT_SERVICE_INITIATED"!==r.telStatus&&"EVT_ESTABLISHED"!==r.telStatus&&(r.resources[r.fullJid]&&"online"===r.resources[r.fullJid].show?this.logger.info("[contactService] Current ressource is already online, ignore message!"):(this.manualState&&(this.logger.info("[contactService] User is in manual state, leave it"),this.setUserContactStatus("online","mode=auto")),this.busyState&&"dnd"===this.busyState.status&&"busy"!==this.userContact.status&&(this.logger.info("[contactService] User is in call, re-update presence state"),setTimeout(()=>{this.updatePresence(!0)},500)))),this.updateContactIMStatus(r,e,this.isUserContact(r)),this.updateLastActivity(r)),this.sendUpdateEvent(r)}))}getMissedPresenceMessages(){this.logger.info("[contactService] GetMissedPresenceMessages");try{const e=this.xmppService.getPresenceWaitingList();if(e.length){for(this.logger.info("[contactService] GetMissedPresenceMessages length "+e.length);e.length>0;){const t=e.pop();this.contactPresenceChangedHandler(t)}this.xmppService.resetPresenceWaitingList()}}catch(e){this.logger.error("[contactService] GetMissedPresenceMessages error "+e)}}computeStatusList(){let e=[];return this.userContact&&this.userContact.status&&(this.logger.info("[contactService] computeStatusList "+this.userContact.status+" "+this.userContact.message),e=this.userContact.changePresenceEnabled?"offline"===this.userContact.status?["online"]:"busy"===this.userContact.status?["busy"]:"dnd"===this.userContact.status&&"presentation"===this.userContact.message?["dnd"]:["online","away","xa","dnd"]:[]),e}resetBusyState(){this.logger.info("[contactService] resetBusyState"),this.setBusyState(null,null,!0),this.sendPresenceFromConfiguration()}setBusyState(e,t,n=!1){this.logger.info("[contactService] setBusyState -- "+e+" -- "+t),this.busyState={status:e,message:t},n||this.updatePresence()}contactCalendarPresenceChangedHandler(){}updateContactRichStatus(e,t=!1){if("EVT_SERVICE_INITIATED"===e.telStatus||"EVT_ESTABLISHED"===e.telStatus)e.status="busy",e.message="audioPhone";else{if("subscribe"===e.ask)e.status="wait";else if("none"===e.subscription||"from"===e.subscription)e.status="unknown";else{const n=this.calculateContactStatusFromResources(e,t);"xa"===n.presence&&(""!==n.message||t?"away"===n.message&&(n.presence="away",n.message=""):n.presence="offline"),e.calendarState.applyCalendarPresence&&"busy"===e.calendarState.message&&(n.presence="dnd",n.message="appointment"),e.status=n.presence,e.message=n.message,this.logger.info(`[contactService] updateContactRichStatus ${t?"MY ":"USER"} PRESENCE : ${n.presence} || message : ${n.message}`)}this.updateContactStatusMessage(e)}t&&this.eventService.publish("ON_UPDATE_MYCONTACT_EVENT"),this.eventService.publish("ON_UPDATE_CONTACT_RICH_STATUS_EVENT",e)}calculateContactStatusFromResources(e,t){let n="offline",r="",o=null,i=null,s=e.fullJid,a=!1;const l=config.webrtcWithMobiles;for(const c in e.resources)if(e.resources.hasOwnProperty(c)){const u=e.resources[c];if("dnd"===u.show&&"phone"===u.status){n="busy",r="audioPhone",a=!0,s=c;break}if("xa"===u.show||"dnd"===u.show&&""===u.status){let e=!1;u.initStamp?o?u.initStamp.getTime()>o.getTime()&&(o=u.initStamp,e=!0):(o=u.initStamp,e=!0):i?u.stamp.getTime()>i.getTime()&&(i=u.stamp,o=u.stamp,e=!0):(i=u.stamp,o=u.stamp,e=!0),e&&(n=u.show,r=u.status)}else"xa"!==n&&("dnd"!==n||"dnd"===n&&""!==r)&&"dnd"===u.show&&""!==u.status?("presentation"===u.status?(n=u.show,r="presentation"):(n="busy",r=u.status),s=c,a=!0):t&&"online"===u.show&&"mode=auto"===u.status&&c===e.fullJid?"busy"!==n&&"dnd"!==n&&"presentation"!==r&&(n="online",r="",u.status="",this.xmppService.isMobileResource(c)?n="online-mobile":a=!0):"online"===u.show&&"xa"!==n&&"dnd"!==n&&"busy"!==n?(r="","online-mobile"!==n&&(n="online"),u.status="",this.xmppService.isMobileResource(c)?n="online-mobile":(s=c,a=!0),l&&(s=c)):"away"===u.show&&"offline"===n&&(n="away",r="",s=c);"mode=auto"===u.status&&(u.status="")}for(const c in e.resources)e.resources.hasOwnProperty(c)&&"mode=auto"===e.resources[c].status&&(e.resources[c].status="");return t||e.fullJid||(e.fullJid=s),"online-mobile"===n&&a?(n="online",r=""):"online-mobile"!==n||t||l||(e.fullJid=null,r=""),{presence:n,message:r}}updatePresence(e=!1){this.logger.info("[contactService] updatePresence"),this.manualState?(this.logger.info("[contactService] updatePresence manualState"),"away"===this.userContact.status&&this.busyState&&"dnd"===this.busyState.status&&(this.setUserContactStatus("online","mode=auto"),setTimeout(()=>{this.updatePresence()},1e3))):!this.presentationModeActive||this.busyState&&this.busyState.status?this.busyState&&"dnd"===this.busyState.status?(this.logger.info("[contactService] updatePresence dnd "+this.busyState.message),this.xmppService.sendPresence("dnd",this.busyState.message)):this.awayStateActive?(this.logger.info("[contactService] updatePresence away"),this.xmppService.sendPresence("away","")):this.userContact&&"online"!==this.userContact.status?(this.logger.info("[contactService] updatePresence online"),this.setUserContactStatus("online")):e&&this.userContact&&"online"===this.userContact.status&&(this.logger.info("[contactService] updatePresence forced online"),this.setUserContactStatus("online")):(this.logger.info("[contactService] updatePresence dnd presentation"),this.xmppService.sendPresence("dnd","presentation"))}setUserContactStatus(e,t=null,n=!1,r){try{this.logger.info("[contactService] Set userContact status : "+e+(t?"("+t+")":"")),this.xmppService.started&&("online"===e?(this.manualState=!1,this.xmppService.sendPresence(null,t,n,r)):(this.manualState=!0,"away"===e?this.xmppService.sendPresence("away",t,n,r):"dnd"===e?this.xmppService.sendPresence("dnd",t,n,r):"xa"===e&&this.xmppService.sendPresence("xa",t,n,r)))}catch(o){this.logger.error("[contactService] Set userContact status error : "+o)}}updateContactTelephonyStatus(e,t,n){const r=e.telStatus;if("pcg2"===this.getResourceFromJid(t.jid))switch(t.status){case"offline":e.telStatus="";break;case"online":e.telStatus="EVT_CONNECTION_CLEARED";break;case"dnd":e.telStatus="EVT_ESTABLISHED";break;default:e.telStatus=""}else e.telStatus=t.message;this.updateContactRichStatus(e,n),n&&r!==e.telStatus&&this.eventService.publish("ON_UPDATE_MYTELEPHONY_STATUS_EVENT")}updateContactIMStatus(e,t,n){if(e.imStatusStamp[t.jid]&&e.imStatusStamp[t.jid]>t.stamp)return void this.logger.info("[contactService] Ignore obsolete presence message for contact "+e.jid);this.logger.info("[contactService] updateIMStatus "+JSON.stringify(t)),e.imStatusStamp[t.jid]=t.stamp,t.status&&(e.imStatus=t.status);const r=t.message?t.message:"";if("offline"===e.imStatus?(e.fullJid===t.jid&&(e.fullJid=null),delete e.resources[t.jid],delete e.imStatusStamp[t.jid],0===e.resources.length&&(e.message="")):(e.resources[t.jid]?(e.resources[t.jid].show=e.imStatus,e.resources[t.jid].status=r,e.resources[t.jid].stamp=t.stamp):e.resources[t.jid]={show:e.imStatus,status:r,initStamp:t.stamp,stamp:t.stamp},this.logger.info("[Contact] updateIMStatus user resources after update "+JSON.stringify(e.resources)),this.xmppService.isMobileResource(t.jid)||n||(e.fullJid=t.jid),!n&&config.webrtcWithMobiles&&(e.fullJid=t.jid)),this.updateContactRichStatus(e,n),n&&this.xmppService.isMobileResource(t.jid)&&("offline"!==t.status&&null===e.mobileResource&&(e.mobileResource=t.jid,this.logger.info("[Contact] updateIMStatus: post event ON_MOBILE_TELEPHONY_STATUS_CHANGED_EVENT"),this.eventService.publish("ON_MOBILE_TELEPHONY_STATUS_CHANGED_EVENT","started")),"offline"===t.status)){let t=null;for(const n in e.resources)if(e.resources.hasOwnProperty(n)&&this.xmppService.isMobileResource(n)){t=n;break}e.mobileResource=t,null===e.mobileResource&&this.eventService.publish("ON_MOBILE_TELEPHONY_STATUS_CHANGED_EVENT","stopped")}}getContactLastActivityMessage(e){return r(this,void 0,void 0,(function*(){try{if(e.lastActivityMessage)return;this.xmppService.connection.lastactivity.query(e.jid,{onResponse:t=>{const n=1e3*Number.parseInt($(t).find("query").attr("seconds"),10),r=(new Date).getTime(),o=new Date(r-n);this.updateContactLastActivityDate(e,o)}})}catch(t){throw new Error("[contactService] getInitialContactLastActivityMessage -- Failure -- "+t.message)}}))}updateContactsLastActivityMessage(){this.contacts&&Object.keys(this.contacts).forEach(e=>{this.updateContactStatusMessage(this.contacts[e])})}updateLastActivity(e){let t=null;"offline"!==e.status&&"away"!==e.status||Object.keys(e.imStatusStamp).forEach(n=>{const r=e.imStatusStamp[n];(!t||t<r)&&(t=r)}),this.updateContactLastActivityDate(e,t)}updateContactLastActivityDate(e,t){e.lastActivityDate=t,this.updateContactStatusMessage(e)}updateContactStatusMessage(e){if(e.lastActivityDate){const t=D(e.lastActivityDate);D.locale().startsWith("de")?(e.lastActivityMessage=t.fromNow(!0).replace("Tage","Tagen"),e.lastActivityMessage=e.lastActivityMessage.replace("eine Stunde","einer Stunde")):e.lastActivityMessage=t.fromNow(!0)}else e.lastActivityMessage="";if("unknown"===e.status?e.statusMessage=this.i18nService.translate("unknown"):"offline"===e.status&&""===e.lastActivityMessage?e.statusMessage=this.i18nService.translate("offlineFilter"):"away"===e.status&&""===e.lastActivityMessage?e.statusMessage=this.i18nService.translate("shortAway"):e.statusMessage=this.i18nService.translate(e.status,{offlineDate:e.lastActivityMessage}),e.message){let t=this.i18nService.translate(e.message);"("!==t.charAt(0)&&(t="("+t+")"),e.statusMessage+=" "+t}}deleteUserAccount(){return r(this,void 0,void 0,(function*(){try{this.logger.info("[contactService] deleteUserAccount");const e=`${config.restServerUrl}/api/rainbow/enduser/v1.0/users/${this.userContact.dbId}`,t=yield fetch(e,{method:"DELETE",headers:this.authService.getRequestHeader()});if(!t.ok)throw t;yield t.json()}catch(e){const t=yield this.errorHelperService.getErrorInfo(e,"deleteUserAccount");throw this.logger.error(t.message),t.error}}))}removeContact(e){return r(this,void 0,void 0,(function*(){try{if(!e||!e.dbId)throw new Error("[contactService] removeContact : wrongContact");const t=`${config.restServerUrl}/api/rainbow/enduser/v1.0/users/networks/${e.dbId}`,n=yield fetch(t,{method:"DELETE",headers:this.authService.getRequestHeader()});if(!n.ok)throw n;yield n.json(),this.logger.info(`[contactService] removeContact ${e.dbId} -- SUCCESS`)}catch(t){const e=yield this.errorHelperService.getErrorInfo(t,"removeContact");throw this.logger.error(e.message),e.error}}))}pushAvatarImage(e){return r(this,void 0,void 0,(function*(){const t=this.userContact.avatar;try{this.logger.info("[contactService] Push avatar image");const t=yield v.resizeImage(e,512,512),n=v.getBinaryData(t),r=`${config.restServerUrl}/api/rainbow/enduser/v1.0/users/${this.userContact.dbId}/avatar`,o=this.authService.getPostHeader("image/"+n.type),i=yield fetch(r,{method:"POST",headers:o,body:n.data});if(!i.ok)throw i;yield i.json()}catch(n){this.userContact.avatar=t;const e=yield this.errorHelperService.getErrorInfo(n,"pushAvatarImage");throw this.logger.error(e.message),e.error}}))}notifyImByEmail(e){return r(this,void 0,void 0,(function*(){let t=null;try{const n=config.restServerUrl+"/api/rainbow/enduser/v1.0/notifications/emails/offline",r=this.authService.getRequestHeader(),o=yield fetch(n,{method:"POST",headers:r,body:JSON.stringify({userId:e.dbId})});if(!o.ok)throw o;t=yield o.json();let i="";t.data&&t.data.email&&(i=t.data.email.substr(0,3)+"***"+t.data.email.substr(-3)),this.logger.info("[contactService] notifyImByEmail "+i+" - success")}catch(n){const e=yield this.errorHelperService.getErrorInfo(n,"notifyImByEmail");throw this.logger.error(e.message),e.error}}))}myMobileAvailable(){return this.userContact?this.userContact.mobileResource:null}sendSubscribeInvitation(e){return this.logger.info("[contactService] Send subscribe invitation to "+e),this.xmppService.send($pres({to:e,type:"subscribe"}))}onPresentationModeChangedEvent(e){"active"===e?this.presentationModeActive=!0:"disable"===e&&(this.presentationModeActive=!1),null===this.lastUpdatePresentationMode&&(this.logger.debug(`[contactService] onPresentationModeChangedEvent '${e}' request presence update`),this.lastUpdatePresentationMode=this.presentationModeActive,this.updatePresence()),this.startUpdatePresentationModeRefreshTimer()}startUpdatePresentationModeRefreshTimer(){this.logger.debug("[contactService] startUpdatePresentationModeRefreshTimer"),null!==this.presentationModeTimeout&&(clearTimeout(this.presentationModeTimeout),this.presentationModeTimeout=null),this.presentationModeTimeout=setTimeout(()=>{this.logger.debug("[contactService] startUpdatePresentationModeRefreshTimer interval reach"),this.lastUpdatePresentationMode!==this.presentationModeActive?(this.logger.debug("[contactService] startUpdatePresentationModeRefreshTimer interval - request presence update"),this.lastUpdatePresentationMode=this.presentationModeActive,this.updatePresence(),this.startUpdatePresentationModeRefreshTimer()):(this.logger.debug("[contactService] startUpdatePresentationModeRefreshTimer interval - no presence update needed"),this.lastUpdatePresentationMode=null)},1e3)}}t.ContactService=y,t.default=y.getInstance()},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(0),i=n(6),s=n(33),a=n(18),l=n(303),c=n(304),u=n(307),d=n(11),f=n(24);window.moduleIds.push("$$APP_PWD_PART1$$"),window.moduleIds.push("$$APP_PWD_PART2$$"),window.moduleIds.push("$$APP_PWD_PART3$$"),window.moduleIds.push("$$APP_PWD_PART4$$");class _{constructor(){this.SSO_LOGIN_POPUP_WINDOW_NAME="Single Sign-On Login",this.token=null,this.appToken=null,this.login=null,this.userId=null,this.jidIm=null,this.jidTel=null,this.jidPwd=null,this.xmppDomain=null,this.companyId=null,this.firstUseNewVersion=!1,this.initialized=!1,this.isGuest=!1,this.authType="RAINBOW",this.fromSDK=!1,this.authSettings=null,this.browserFingerprint=null,this.visibilityHandlerRemoval=null,this.renewTokenInterval=null,this.renewAppTokenInterval=null,this.sdkHostForced=null,this.win=window,this.rxSubject=new d.Subject;const e=localStorage.getItem("version"),t=this.getMajorVersion(e),n=this.getMajorVersion(this.win.version);config.appModuleKey||(config.appModuleKey=this.win.moduleIds?this.win.moduleIds.join(""):"default"),t!==n&&(this.firstUseNewVersion=!0),localStorage.setItem("version",this.win.version),this.getServerApiUrls()}static getInstance(){const e=window;return e.rainbow||(e.rainbow={}),e.rainbow.authService||(e.rainbow.authService=new _),e.rainbow.authService}subscribe(e){return this.rxSubject.subscribe(e)}emitEvent(e){this.rxSubject.next(f.RBEvent.create(e))}logon(e,t,n=!0,i=null){return r(this,void 0,void 0,(function*(){try{if(-1===e.indexOf("@"))throw this.createError(`Wrong login format '${e}'`,"errorUnauthorized",401500,void 0,!0);let r=config.restServerUrl+"/api/rainbow/authentication/v1.0/login";i&&("RAINBOW"===i.type?r=i.loginUrl:i.safetyUrl&&(r=i.safetyUrl,this.authType=i.type));const s={};s.Authorization="Basic "+window.btoa(unescape(encodeURIComponent(e+":"+t))),s.Accept="application/json",this.setInformationHeaders(s);let l=null;config.rainbowApiClientKey&&(l=config.rainbowApiClientKey+":"+a.SHA256(config.appModuleKey+t)),this.fromSDK&&this.appToken&&this.appToken.appID&&(l=this.appToken.appID+":"+a.SHA256(this.appToken.appSecret+t)),l&&(s["x-rainbow-app-auth"]="Basic "+window.btoa(unescape(encodeURIComponent(l))));const c=yield u.default(r,{method:"GET",headers:s,credentials:"include"});if(!c.ok)throw c;const d=yield c.json();this.token=d.token,this.extractUserInfo(d.loggedInUser),n?(o.default.info("[AuthService] Store authentication info in local storage"),localStorage.setItem("login",this.login),localStorage.setItem("id",this.userId),localStorage.setItem("token",this.token),localStorage.setItem("authType",this.authType)):this.removeCredentials(),localStorage.setItem("firstUse","false"),o.default.info(`[AuthService] Authenticate with ${e} -- SUCCESS`),this.registerEventsHandler(),this.startTokenSurvey()}catch(r){let t=`authenticate for login ${e} -- FAILURE -- `;if(r.localError)throw o.default.error(`[AuthService] ${t} ${r}`),r;let n="errorUltimateUnknownError",i=null,s=null;if(0===r.status||-1===r.status)t+="No server response",n="errorNoServerResponse";else{const e=yield r.json();401===r.status?(this.removeCredentials(),t+=e.errorDetails,i=e.errorDetailsCode,401500===e.errorDetailsCode?n="errorUnauthorized":401501===e.errorDetailsCode&&(n="errorLoginForbidden",e.errorDetailsData&&(s={delay:e.errorDetailsData.forbiddenDelay}))):500===r.status&&(t+=e.errorDetails,n="errorInternalServerError")}throw o.default.error("[AuthService] "+t),this.createError(t,n,i,s)}}))}logonWithToken(e=null){return r(this,void 0,void 0,(function*(){try{if(o.default.info("[authService] logonWithToken -- "+e),e||(e=localStorage.getItem("token")),!e)throw new Error("No token");const t=c(e);this.token=e,this.login=t.user.loginEmail,this.userId=t.user.id,this.authType="RAINBOW",t.saml&&(this.authType="SAML"),t.oidc&&(this.authType="OIDC"),localStorage.setItem("token",this.token),localStorage.setItem("login",this.login),localStorage.setItem("id",this.userId),localStorage.setItem("authType",this.authType),yield this.getUserData(),yield this.startTokenSurvey(),this.authSettings=yield this.getUserAuthenticationSettings(this.login),this.registerEventsHandler()}catch(t){const e=t?t.message:"Unknown error";throw"No token"===e?o.default.debug("[AuthService] AuthenticateWithToken -- No available token"):o.default.error("[AuthService] AuthenticateWithToken -- FAILURE -- "+e),new Error(e)}}))}sdkLogOn(e,t,n,o,i){return r(this,void 0,void 0,(function*(){return this.sdkHostForced=n,this.appToken=o,this.fromSDK=!0,this.getServerApiUrls(),i?this.logonWithToken(i):this.logon(e,t,!1)}))}logout(){return this.removeCredentials(),this.authSettings&&this.authSettings.logoutUrl&&"RAINBOW"!==this.authType?(o.default.info("[authService] Logout -- "+this.authType),this.authSettings.setParameter("token",()=>this.token),this.authSettings.logoutUrl):(o.default.info("[AuthService] Logout -- SUCCESS"),null)}getUserAuthenticationSettings(e=null,t=!1){return r(this,void 0,void 0,(function*(){try{const n=config.restServerUrl+"/api/rainbow/authentication/v1.0/login";if(config.disableSSO&&(t=!0),t)return l.AuthSettings.createFromData([{type:"RAINBOW",loginUrl:n}]);const r=`${config.restServerUrl}/api/rainbow/authentication/v1.0/urls?uid=${encodeURIComponent(e)}`,o={};this.setInformationHeaders(o);const i=yield u.default(r,{method:"GET",headers:o});if(!i.ok)throw i;const s=yield i.json(),a=l.AuthSettings.createFromData(s.data);return a.setParameter("uid",()=>e),a.setParameter("x-rainbow-app-auth",e=>this.getRainbowAppAuth(config.rainbowApiClientKey,config.appModuleKey,e)),!window||-1===window.location.href.indexOf("localhost")&&-1===window.location.href.indexOf("openrainbow.red")||a.setParameter("safetyUrl",()=>n),a}catch(n){let t='authenticate for login "'+e+'" failure : ',r="errorUltimateUnknownError";if(0===n.status||-1===n.status)t+="No server response",r="errorNoServerResponse";else{const e=yield n.json();400===n.status||404===n.status?(t+=e.errorDetails,r="noMatchingAccount"):500===n.status&&(t+=e.errorDetails,r="errorInternalServerError")}o.default.info("[authService] "+t);const i=new Error(t);throw i.details=r,i}}))}removeCredentials(){this.authType="RAINBOW",localStorage.removeItem("id"),localStorage.removeItem("token"),localStorage.removeItem("authType"),localStorage.removeItem("token"),this.isGuest&&(localStorage.removeItem("login"),this.isGuest=!1),this.resetUserEnvironment(),o.default.debug("[AuthService] removeCredentials -- SUCCESS")}resetUserEnvironment(){config.defaultEnvironment&&(config.xmpp.currentServer=config.defaultEnvironment,config.xmpp.server=config.defaultEnvironment,config.webservices.currentServer=config.defaultEnvironment,config.webservices.server=config.defaultEnvironment)}getRequestHeader(e){return{Authorization:"Bearer "+this.token,Accept:e||"application/json"}}getRequestHeaderWithRange(e){const t=this.getRequestHeader();return t.Range=e,t}getPostHeader(e=null,t=null){const n=this.getRequestHeader(t);return n["Content-Type"]=e||"application/json",n}getPostHeaderWithRange(e,t){const n=this.getPostHeader(t);return n["Content-Range"]=e,n}setInformationHeaders(e){e["x-rainbow-client"]=this.getInformationHeadersApp(),e["x-rainbow-client-version"]=this.getInformationHeadersAppVersion()}getInformationHeadersApp(){return"web_sdk"}getInformationHeadersAppVersion(){const e=window;return e.sdkversion?e.sdkversion:"9.9.99"}startTokenSurvey(){return r(this,void 0,void 0,(function*(){try{yield this.startAppTokenSurvey(),yield this.startUserTokenSurvey(),o.default.debug("[AuthService] StartTokenSurvey -- SUCCESS")}catch(e){const t=e&&e.message?e:new Error("Unknown error");throw o.default.error("[AuthService] StartTokenSurvey -- FAILURE -- "+t.message),t}}))}getRainbowAppAuth(e,t,n=null){return window.btoa(unescape(encodeURIComponent((e||"")+":"+a.SHA256((t||"")+(n||"")))))}registerEventsHandler(){this.visibilityHandlerRemoval&&this.visibilityHandlerRemoval(),this.visibilityHandlerRemoval=s.default.subscribe("ON_APP_VISIBLE_CHANGE_EVENT",(e,t)=>{t&&this.startTokenSurvey()})}getMajorVersion(e){if(!e)return null;const t=/\d+\.\d+/g.exec(e);return t&&t.length>0?t[0]:null}getServerApiUrls(){const e=localStorage.getItem("server");e&&"null"!==e&&"undefined"!==e?(o.default.debug("[AuthService] getServerApiUrls -- Find server data from local storage -- "+e),config.xmpp.currentServer=config.webservices.currentServer=e,"openrainbow.net"===e&&(config.appModuleKey=config.dotNetAppModuleKey,config.rainbowApiClientKey=config.dotNetRainbowApiClientKey,config.multiEnvServer="openrainbow.net"),"openrainbow.com"===e&&(config.appModuleKey=config.dotComAppModuleKey,config.rainbowApiClientKey=config.dotComRainbowApiClientKey,config.multiEnvServer="openrainbow.com"),"openrainbow.red"===e&&(config.appModuleKey=config.dotComAppModuleKey,config.rainbowApiClientKey=config.dotComRainbowApiClientKey,config.multiEnvServer="openrainbow.com"),config.defaultEnvironment||(config.defaultEnvironment=config.xmpp.currentServer)):this.sdkHostForced?(config.xmpp.currentServer=config.webservices.currentServer=this.sdkHostForced,o.default.debug("[AuthService] getServerApiUrls -- Use forced sdk server -- "+this.sdkHostForced)):config.xmpp&&(config.xmpp.currentServer=config.xmpp.server,config.webservices.currentServer=config.webservices.server,o.default.debug("[AuthService] getServerApiUrls -- Use default config server -- "+config.xmpp.server)),config.webservices&&(config.restServerUrl=`${config.webservices.protocol}://${config.webservices.currentServer}:${config.webservices.port}`)}startAppTokenSurvey(){return r(this,void 0,void 0,(function*(){if(!this.appToken||"string"!=typeof this.appToken||!this.appToken.length)return void o.default.info("[AuthService] startAppTokenSurvey -- No application token.");const e=c(this.appToken),t=1e3*e.exp,n=new Date(t),r=t-(new Date).valueOf();if(this.renewAppTokenInterval&&clearTimeout(this.renewAppTokenInterval),o.default.info("[AuthService] startAppTokenSurvey -- Extract application token info (countRenewed: "+e.countRenewed+", maxTokenRenew: "+e.maxTokenRenew+")"),r<0)return o.default.info("[AuthService] startAppTokenSurvey -- Application token has already expired, re-new it immediately"),void(yield this.renewAppToken());if(r<3e4)return o.default.info("[AuthService] startAppTokenSurvey -- Application token will expire in less 5 minutes, re-new it immediately"),void(yield this.renewAppToken());const i=r-24e3;o.default.info("[authService] startAppTokenSurvey -- Start application token survey (expirationDate: "+n+" tokenExpirationDuration: "+r+"ms usedExpirationDuration: "+i+"ms)"),this.renewAppTokenInterval=setTimeout(()=>{this.renewAppToken()},i)}))}renewAppToken(){return r(this,void 0,void 0,(function*(){try{const e=config.restServerUrl+"/api/rainbow/applications/v1.0/authentication/renew",t=yield u.default(e,{method:"GET",headers:this.getRequestHeader()});if(!t.ok)throw t;const n=yield t.json();o.default.info("[AuthService] renewAppToken -- Renew application token success"),this.appToken=n.token,localStorage.setItem("appToken",this.appToken),this.emitEvent("ON_APP_TOKEN_RENEW"),this.startAppTokenSurvey()}catch(e){this.renewAppTokenInterval&&clearTimeout(this.renewAppTokenInterval);const t=yield e.json(),n="Renew application token failure -- "+(t&&t.errorDetails?t.errorDetails:"no details"),r=new Error(n);throw r.details="APP_TOKEN_EXPIRED",o.default.error("[AuthService] renewAppToken -- FAILURE --"+n),this.emitEvent("ON_APP_TOKEN_EXPIRE"),r}}))}startUserTokenSurvey(){return r(this,void 0,void 0,(function*(){if(!this.token||"string"!=typeof this.token||!this.token.length)return void o.default.info("[AuthService] No token.");const e=c(this.token),t=1e3*e.exp,n=(t-1e3*e.iat)/2,r=new Date(t),i=t-(new Date).valueOf();if(this.renewTokenInterval&&clearTimeout(this.renewTokenInterval),o.default.info("[AuthService] startUserTokenSurvey -- Extract auth token info (countRenewed: "+e.countRenewed+", maxTokenRenew: "+e.maxTokenRenew+", tokenExpirationDuration: "+i+")"),i<0)throw o.default.info("[AuthService] startUserTokenSurvey --  Auth token has already expired, display login page"),this.token=null,this.emitEvent("ON_AUTH_TOKEN_EXPIRE"),new Error("Token expired");if(i<n)return o.default.info("[AuthService] startUserTokenSurvey -- Auth token will expire in less "+n/1e3+" seconds, re-new it immediately"),void(yield this.renewAuthToken());const s=i-n;o.default.info("[AuthService] startUserTokenSurvey -- Start auth token survey (expirationDate: "+r+" tokenExpirationDuration: "+i+"ms usedExpirationDuration: "+s+"ms)"),this.renewTokenInterval=setTimeout(()=>{this.renewAuthToken()},s)}))}renewAuthToken(e=!1){return r(this,void 0,void 0,(function*(){try{const t=config.restServerUrl+"/api/rainbow/authentication/v1.0/renew",n=yield u.default(t,{method:"GET",headers:this.getRequestHeader()});if(!n.ok)throw n;const r=yield n.json();o.default.info("[AuthService] renewAuthToken -- Renew authentication token success"),this.token=r.token,localStorage.setItem("token",this.token),this.emitEvent("ON_AUTH_TOKEN_RENEW"),e&&!0!==e||this.startTokenSurvey()}catch(t){this.renewTokenInterval&&clearTimeout(this.renewTokenInterval);const e=yield t.json(),n="Renew authentication token failure -- "+(e&&e.errorDetails?e.errorDetails:"no details"),r=new Error(n);throw r.details="AUTH_TOKEN_EXPIRED",o.default.error("[AuthService] renewAuthToken -- FAILURE -- "+n),this.emitEvent("ON_AUTH_TOKEN_EXPIRE"),r}}))}getUserData(){return r(this,void 0,void 0,(function*(){try{const e=`${config.restServerUrl}/api/rainbow/enduser/v1.0/users/${this.userId}`,t=yield u.default(e,{method:"GET",headers:this.getRequestHeader()});if(!t.ok)throw t;const n=yield t.json();this.extractUserInfo(n.data)}catch(e){if(this.removeCredentials(),e instanceof Response)throw new Error("Wrong token -- "+e.statusText);throw new Error("Wrong token -- "+e.message)}}))}getUserEnvironments(e){return r(this,void 0,void 0,(function*(){try{if(!config.multiEnvServer)return[{environmentApiUrl:"https://"+config.xmpp.currentServer}];config.defaultEnvironment||(config.defaultEnvironment=config.xmpp.server);const t=config.webservices.protocol+"://"+config.multiEnvServer+":"+config.webservices.port+"/api/rainbow/multienvironments/v1.0/environments?loginEmail="+encodeURIComponent(e),n=yield u.default(t,{method:"GET"});if(!n.ok)throw n;return(yield n.json()).data}catch(t){let n='getUserEnvironments for login "'+e+'" failure : ';return 0===t.status||-1===t.status?n+="No server response":500===t.status&&(n+=(yield t.json()).errorDetails),o.default.info("[authService] "+n),o.default.info("[authService] getUserEnvironment -- continue with default environment"),null}}))}getCompanySAMLConfiguration(e){return r(this,void 0,void 0,(function*(){try{const t=`${config.restServerUrl}/api/rainbow/authentication/v1.0/saml/${e}/metadata.xml`,n=yield u.default(t,{method:"GET",headers:this.getRequestHeader()});if(!n.ok)throw n;return o.default.debug("[AuthService] getCompanySAMLConfiguration -- SUCCESS"),yield n.text()}catch(t){throw o.default.error("[AuthService] getCompanySAMLConfiguration -- FAILURE -- "+JSON.stringify(t)),new Error("getCompanySAMLConfiguration failure")}}))}getFingerPrint(){return r(this,void 0,void 0,(function*(){if(!this.browserFingerprint){const e=["audio","availableScreenResolution","canvas","colorDepth","cookies","cpuClass","deviceDpi","doNotTrack","indexedDb","installedFonts","language","localStorage","pixelRatio","platform","plugins","processorCores","screenResolution","sessionStorage","timezoneOffset","touchSupport","userAgent","webGl"];this.browserFingerprint=yield imprint.test(e)}return this.browserFingerprint}))}handleUserLanguage(){const e=this.loggedInUser.language;e&&i.default.setAppliLangageCodeFromServer(e)}createError(e,t=null,n=null,r=null,o=!1){const i=new Error(e);return i.details=t,i.detailsCode=n,i.detailsData=r,i.localError=o,i}extractUserInfo(e){this.loggedInUser=e,this.login=this.loggedInUser.loginEmail,this.userId=this.loggedInUser.id,this.jidIm=this.loggedInUser.jid_im,this.jidPwd=this.loggedInUser.jid_password,this.jidTel=this.loggedInUser.jid_tel,this.initialized=this.loggedInUser.isInitialized,this.isGuest=this.loggedInUser.guestMode,this.companyId=this.loggedInUser.companyId,this.xmppDomain=this.jidIm.split("@")[1],this.handleUserLanguage()}}t.AuthService=_,t.default=_.getInstance()},function(e,t,n){(function(e){e.exports=function(){var t,r;function o(){return t.apply(null,arguments)}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(a(e,t))return!1;return!0}function c(e){return void 0===e}function u(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function f(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function _(e,t){for(var n in t)a(t,n)&&(e[n]=t[n]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,n,r){return wt(e,t,n,r,!0).utc()}function p(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function m(e){if(null==e._isValid){var t=p(e),n=r.call(t.parsedDateParts,(function(e){return null!=e})),o=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(o=o&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return o;e._isValid=o}return e._isValid}function g(e){var t=h(NaN);return null!=e?_(p(t),e):p(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var v=o.momentProperties=[],b=!1;function D(e,t){var n,r,o;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=p(t)),c(t._locale)||(e._locale=t._locale),v.length>0)for(n=0;n<v.length;n++)c(o=t[r=v[n]])||(e[r]=o);return e}function y(e){D(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,o.updateOffset(this),b=!1)}function C(e){return e instanceof y||null!=e&&null!=e._isAMomentObject}function S(e){!1===o.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function E(e,t){var n=!0;return _((function(){if(null!=o.deprecationHandler&&o.deprecationHandler(null,e),n){var r,i,s,l=[];for(i=0;i<arguments.length;i++){if(r="","object"==typeof arguments[i]){for(s in r+="\n["+i+"] ",arguments[0])a(arguments[0],s)&&(r+=s+": "+arguments[0][s]+", ");r=r.slice(0,-2)}else r=arguments[i];l.push(r)}S(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var w,T={};function M(e,t){null!=o.deprecationHandler&&o.deprecationHandler(e,t),T[e]||(S(t),T[e]=!0)}function j(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function k(e,t){var n,r=_({},e);for(n in t)a(t,n)&&(s(e[n])&&s(t[n])?(r[n]={},_(r[n],e[n]),_(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)a(e,n)&&!a(t,n)&&s(e[n])&&(r[n]=_({},r[n]));return r}function O(e){null!=e&&this.set(e)}function A(e,t,n){var r=""+Math.abs(e),o=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}o.suppressDeprecationWarnings=!1,o.deprecationHandler=null,w=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)a(e,t)&&n.push(t);return n};var I=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,P=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,x={},R={};function F(e,t,n,r){var o=r;"string"==typeof r&&(o=function(){return this[r]()}),e&&(R[e]=o),t&&(R[t[0]]=function(){return A(o.apply(this,arguments),t[1],t[2])}),n&&(R[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function L(e,t){return e.isValid()?(t=N(t,e.localeData()),x[t]=x[t]||function(e){var t,n,r,o=e.match(I);for(t=0,n=o.length;t<n;t++)R[o[t]]?o[t]=R[o[t]]:o[t]=(r=o[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,i="";for(r=0;r<n;r++)i+=j(o[r])?o[r].call(t,e):o[r];return i}}(t),x[t](e)):e.localeData().invalidDate()}function N(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(P.lastIndex=0;n>=0&&P.test(e);)e=e.replace(P,r),P.lastIndex=0,n-=1;return e}var B={};function U(e,t){var n=e.toLowerCase();B[n]=B[n+"s"]=B[t]=e}function H(e){return"string"==typeof e?B[e]||B[e.toLowerCase()]:void 0}function W(e){var t,n,r={};for(n in e)a(e,n)&&(t=H(n))&&(r[t]=e[n]);return r}var Y={};function $(e,t){Y[e]=t}function q(e){return e%4==0&&e%100!=0||e%400==0}function G(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function V(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=G(t)),n}function z(e,t){return function(n){return null!=n?(J(this,e,n),o.updateOffset(this,t),this):K(this,e)}}function K(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function J(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&q(e.year())&&1===e.month()&&29===e.date()?(n=V(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ce(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var Q,X=/\d/,Z=/\d\d/,ee=/\d{3}/,te=/\d{4}/,ne=/[+-]?\d{6}/,re=/\d\d?/,oe=/\d\d\d\d?/,ie=/\d\d\d\d\d\d?/,se=/\d{1,3}/,ae=/\d{1,4}/,le=/[+-]?\d{1,6}/,ce=/\d+/,ue=/[+-]?\d+/,de=/Z|[+-]\d\d:?\d\d/gi,fe=/Z|[+-]\d\d(?::?\d\d)?/gi,_e=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function he(e,t,n){Q[e]=j(t)?t:function(e,r){return e&&n?n:t}}function pe(e,t){return a(Q,e)?Q[e](t._strict,t._locale):new RegExp(me(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,o){return t||n||r||o}))))}function me(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}Q={};var ge,ve={};function be(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),u(t)&&(r=function(e,n){n[t]=V(e)}),n=0;n<e.length;n++)ve[e[n]]=r}function De(e,t){be(e,(function(e,n,r,o){r._w=r._w||{},t(e,r._w,r,o)}))}function ye(e,t,n){null!=t&&a(ve,e)&&ve[e](t,n._a,n,e)}function Ce(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,r=(t%(n=12)+n)%n;return e+=(t-r)/12,1===r?q(e)?29:28:31-r%7%2}ge=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},F("M",["MM",2],"Mo",(function(){return this.month()+1})),F("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),F("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),U("month","M"),$("month",8),he("M",re),he("MM",re,Z),he("MMM",(function(e,t){return t.monthsShortRegex(e)})),he("MMMM",(function(e,t){return t.monthsRegex(e)})),be(["M","MM"],(function(e,t){t[1]=V(e)-1})),be(["MMM","MMMM"],(function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);null!=o?t[1]=o:p(n).invalidMonth=e}));var Se="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ee="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),we=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Te=_e,Me=_e;function je(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=h([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(o=ge.call(this._shortMonthsParse,s))?o:null:-1!==(o=ge.call(this._longMonthsParse,s))?o:null:"MMM"===t?-1!==(o=ge.call(this._shortMonthsParse,s))||-1!==(o=ge.call(this._longMonthsParse,s))?o:null:-1!==(o=ge.call(this._longMonthsParse,s))||-1!==(o=ge.call(this._shortMonthsParse,s))?o:null}function ke(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=V(t);else if(!u(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ce(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Oe(e){return null!=e?(ke(this,e),o.updateOffset(this,!0),this):K(this,"Month")}function Ae(){function e(e,t){return t.length-e.length}var t,n,r=[],o=[],i=[];for(t=0;t<12;t++)n=h([2e3,t]),r.push(this.monthsShort(n,"")),o.push(this.months(n,"")),i.push(this.months(n,"")),i.push(this.monthsShort(n,""));for(r.sort(e),o.sort(e),i.sort(e),t=0;t<12;t++)r[t]=me(r[t]),o[t]=me(o[t]);for(t=0;t<24;t++)i[t]=me(i[t]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Ie(e){return q(e)?366:365}F("Y",0,0,(function(){var e=this.year();return e<=9999?A(e,4):"+"+e})),F(0,["YY",2],0,(function(){return this.year()%100})),F(0,["YYYY",4],0,"year"),F(0,["YYYYY",5],0,"year"),F(0,["YYYYYY",6,!0],0,"year"),U("year","y"),$("year",1),he("Y",ue),he("YY",re,Z),he("YYYY",ae,te),he("YYYYY",le,ne),he("YYYYYY",le,ne),be(["YYYYY","YYYYYY"],0),be("YYYY",(function(e,t){t[0]=2===e.length?o.parseTwoDigitYear(e):V(e)})),be("YY",(function(e,t){t[0]=o.parseTwoDigitYear(e)})),be("Y",(function(e,t){t[0]=parseInt(e,10)})),o.parseTwoDigitYear=function(e){return V(e)+(V(e)>68?1900:2e3)};var Pe=z("FullYear",!0);function xe(e,t,n,r,o,i,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,o,i,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,o,i,s),a}function Re(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Fe(e,t,n){var r=7+t-n;return-(7+Re(e,0,r).getUTCDay()-t)%7+r-1}function Le(e,t,n,r,o){var i,s,a=1+7*(t-1)+(7+n-r)%7+Fe(e,r,o);return a<=0?s=Ie(i=e-1)+a:a>Ie(e)?(i=e+1,s=a-Ie(e)):(i=e,s=a),{year:i,dayOfYear:s}}function Ne(e,t,n){var r,o,i=Fe(e.year(),t,n),s=Math.floor((e.dayOfYear()-i-1)/7)+1;return s<1?r=s+Be(o=e.year()-1,t,n):s>Be(e.year(),t,n)?(r=s-Be(e.year(),t,n),o=e.year()+1):(o=e.year(),r=s),{week:r,year:o}}function Be(e,t,n){var r=Fe(e,t,n),o=Fe(e+1,t,n);return(Ie(e)-r+o)/7}function Ue(e,t){return e.slice(t,7).concat(e.slice(0,t))}F("w",["ww",2],"wo","week"),F("W",["WW",2],"Wo","isoWeek"),U("week","w"),U("isoWeek","W"),$("week",5),$("isoWeek",5),he("w",re),he("ww",re,Z),he("W",re),he("WW",re,Z),De(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=V(e)})),F("d",0,"do","day"),F("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),F("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),F("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),F("e",0,0,"weekday"),F("E",0,0,"isoWeekday"),U("day","d"),U("weekday","e"),U("isoWeekday","E"),$("day",11),$("weekday",11),$("isoWeekday",11),he("d",re),he("e",re),he("E",re),he("dd",(function(e,t){return t.weekdaysMinRegex(e)})),he("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),he("dddd",(function(e,t){return t.weekdaysRegex(e)})),De(["dd","ddd","dddd"],(function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);null!=o?t.d=o:p(n).invalidWeekday=e})),De(["d","e","E"],(function(e,t,n,r){t[r]=V(e)}));var He="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),We="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ye="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),$e=_e,qe=_e,Ge=_e;function Ve(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=h([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(o=ge.call(this._weekdaysParse,s))?o:null:"ddd"===t?-1!==(o=ge.call(this._shortWeekdaysParse,s))?o:null:-1!==(o=ge.call(this._minWeekdaysParse,s))?o:null:"dddd"===t?-1!==(o=ge.call(this._weekdaysParse,s))||-1!==(o=ge.call(this._shortWeekdaysParse,s))||-1!==(o=ge.call(this._minWeekdaysParse,s))?o:null:"ddd"===t?-1!==(o=ge.call(this._shortWeekdaysParse,s))||-1!==(o=ge.call(this._weekdaysParse,s))||-1!==(o=ge.call(this._minWeekdaysParse,s))?o:null:-1!==(o=ge.call(this._minWeekdaysParse,s))||-1!==(o=ge.call(this._weekdaysParse,s))||-1!==(o=ge.call(this._shortWeekdaysParse,s))?o:null}function ze(){function e(e,t){return t.length-e.length}var t,n,r,o,i,s=[],a=[],l=[],c=[];for(t=0;t<7;t++)n=h([2e3,1]).day(t),r=me(this.weekdaysMin(n,"")),o=me(this.weekdaysShort(n,"")),i=me(this.weekdays(n,"")),s.push(r),a.push(o),l.push(i),c.push(r),c.push(o),c.push(i);s.sort(e),a.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Ke(){return this.hours()%12||12}function Je(e,t){F(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Qe(e,t){return t._meridiemParse}F("H",["HH",2],0,"hour"),F("h",["hh",2],0,Ke),F("k",["kk",2],0,(function(){return this.hours()||24})),F("hmm",0,0,(function(){return""+Ke.apply(this)+A(this.minutes(),2)})),F("hmmss",0,0,(function(){return""+Ke.apply(this)+A(this.minutes(),2)+A(this.seconds(),2)})),F("Hmm",0,0,(function(){return""+this.hours()+A(this.minutes(),2)})),F("Hmmss",0,0,(function(){return""+this.hours()+A(this.minutes(),2)+A(this.seconds(),2)})),Je("a",!0),Je("A",!1),U("hour","h"),$("hour",13),he("a",Qe),he("A",Qe),he("H",re),he("h",re),he("k",re),he("HH",re,Z),he("hh",re,Z),he("kk",re,Z),he("hmm",oe),he("hmmss",ie),he("Hmm",oe),he("Hmmss",ie),be(["H","HH"],3),be(["k","kk"],(function(e,t,n){var r=V(e);t[3]=24===r?0:r})),be(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),be(["h","hh"],(function(e,t,n){t[3]=V(e),p(n).bigHour=!0})),be("hmm",(function(e,t,n){var r=e.length-2;t[3]=V(e.substr(0,r)),t[4]=V(e.substr(r)),p(n).bigHour=!0})),be("hmmss",(function(e,t,n){var r=e.length-4,o=e.length-2;t[3]=V(e.substr(0,r)),t[4]=V(e.substr(r,2)),t[5]=V(e.substr(o)),p(n).bigHour=!0})),be("Hmm",(function(e,t,n){var r=e.length-2;t[3]=V(e.substr(0,r)),t[4]=V(e.substr(r))})),be("Hmmss",(function(e,t,n){var r=e.length-4,o=e.length-2;t[3]=V(e.substr(0,r)),t[4]=V(e.substr(r,2)),t[5]=V(e.substr(o))}));var Xe,Ze=z("Hours",!0),et={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Se,monthsShort:Ee,week:{dow:0,doy:6},weekdays:He,weekdaysMin:Ye,weekdaysShort:We,meridiemParse:/[ap]\.?m?\.?/i},tt={},nt={};function rt(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function ot(e){return e?e.toLowerCase().replace("_","-"):e}function it(t){var r=null;if(void 0===tt[t]&&void 0!==e&&e&&e.exports)try{r=Xe._abbr,n(274)("./"+t),st(r)}catch(o){tt[t]=null}return tt[t]}function st(e,t){var n;return e&&((n=c(t)?lt(e):at(e,t))?Xe=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Xe._abbr}function at(e,t){if(null!==t){var n,r=et;if(t.abbr=e,null!=tt[e])M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=tt[e]._config;else if(null!=t.parentLocale)if(null!=tt[t.parentLocale])r=tt[t.parentLocale]._config;else{if(null==(n=it(t.parentLocale)))return nt[t.parentLocale]||(nt[t.parentLocale]=[]),nt[t.parentLocale].push({name:e,config:t}),null;r=n._config}return tt[e]=new O(k(r,t)),nt[e]&&nt[e].forEach((function(e){at(e.name,e.config)})),st(e),tt[e]}return delete tt[e],null}function lt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Xe;if(!i(e)){if(t=it(e))return t;e=[e]}return function(e){for(var t,n,r,o,i=0;i<e.length;){for(t=(o=ot(e[i]).split("-")).length,n=(n=ot(e[i+1]))?n.split("-"):null;t>0;){if(r=it(o.slice(0,t).join("-")))return r;if(n&&n.length>=t&&rt(o,n)>=t-1)break;t--}i++}return Xe}(e)}function ct(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>Ce(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,p(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),p(e)._overflowWeeks&&-1===t&&(t=7),p(e)._overflowWeekday&&-1===t&&(t=8),p(e).overflow=t),e}var ut=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ft=/Z|[+-]\d\d(?::?\d\d)?/,_t=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ht=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],pt=/^\/?Date\((-?\d+)/i,mt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,gt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function vt(e){var t,n,r,o,i,s,a=e._i,l=ut.exec(a)||dt.exec(a);if(l){for(p(e).iso=!0,t=0,n=_t.length;t<n;t++)if(_t[t][1].exec(l[1])){o=_t[t][0],r=!1!==_t[t][2];break}if(null==o)return void(e._isValid=!1);if(l[3]){for(t=0,n=ht.length;t<n;t++)if(ht[t][1].exec(l[3])){i=(l[2]||" ")+ht[t][0];break}if(null==i)return void(e._isValid=!1)}if(!r&&null!=i)return void(e._isValid=!1);if(l[4]){if(!ft.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=o+(i||"")+(s||""),St(e)}else e._isValid=!1}function bt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Dt(e){var t,n,r,o,i,s,a,l,c=mt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(c){if(n=c[4],r=c[3],o=c[2],i=c[5],s=c[6],a=c[7],l=[bt(n),Ee.indexOf(r),parseInt(o,10),parseInt(i,10),parseInt(s,10)],a&&l.push(parseInt(a,10)),t=l,!function(e,t,n){return!e||We.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(p(n).weekdayMismatch=!0,n._isValid=!1,!1)}(c[1],t,e))return;e._a=t,e._tzm=function(e,t,n){if(e)return gt[e];if(t)return 0;var r=parseInt(n,10),o=r%100;return(r-o)/100*60+o}(c[8],c[9],c[10]),e._d=Re.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),p(e).rfc2822=!0}else e._isValid=!1}function yt(e,t,n){return null!=e?e:null!=t?t:n}function Ct(e){var t,n,r,i,s,a=[];if(!e._d){for(r=function(e){var t=new Date(o.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,r,o,i,s,a,l,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(i=1,s=4,n=yt(t.GG,e._a[0],Ne(Tt(),1,4).year),r=yt(t.W,1),((o=yt(t.E,1))<1||o>7)&&(l=!0)):(i=e._locale._week.dow,s=e._locale._week.doy,c=Ne(Tt(),i,s),n=yt(t.gg,e._a[0],c.year),r=yt(t.w,c.week),null!=t.d?((o=t.d)<0||o>6)&&(l=!0):null!=t.e?(o=t.e+i,(t.e<0||t.e>6)&&(l=!0)):o=i),r<1||r>Be(n,i,s)?p(e)._overflowWeeks=!0:null!=l?p(e)._overflowWeekday=!0:(a=Le(n,r,o,i,s),e._a[0]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(s=yt(e._a[0],r[0]),(e._dayOfYear>Ie(s)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),n=Re(s,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Re:xe).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(p(e).weekdayMismatch=!0)}}function St(e){if(e._f!==o.ISO_8601)if(e._f!==o.RFC_2822){e._a=[],p(e).empty=!0;var t,n,r,i,s,a,l=""+e._i,c=l.length,u=0;for(r=N(e._f,e._locale).match(I)||[],t=0;t<r.length;t++)i=r[t],(n=(l.match(pe(i,e))||[])[0])&&((s=l.substr(0,l.indexOf(n))).length>0&&p(e).unusedInput.push(s),l=l.slice(l.indexOf(n)+n.length),u+=n.length),R[i]?(n?p(e).empty=!1:p(e).unusedTokens.push(i),ye(i,n,e)):e._strict&&!n&&p(e).unusedTokens.push(i);p(e).charsLeftOver=c-u,l.length>0&&p(e).unusedInput.push(l),e._a[3]<=12&&!0===p(e).bigHour&&e._a[3]>0&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),null!==(a=p(e).era)&&(e._a[0]=e._locale.erasConvertYear(a,e._a[0])),Ct(e),ct(e)}else Dt(e);else vt(e)}function Et(e){var t=e._i,n=e._f;return e._locale=e._locale||lt(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),C(t)?new y(ct(t)):(d(t)?e._d=t:i(n)?function(e){var t,n,r,o,i,s,a=!1;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)i=0,s=!1,t=D({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],St(t),m(t)&&(s=!0),i+=p(t).charsLeftOver,i+=10*p(t).unusedTokens.length,p(t).score=i,a?i<r&&(r=i,n=t):(null==r||i<r||s)&&(r=i,n=t,s&&(a=!0));_(e,n||t)}(e):n?St(e):function(e){var t=e._i;c(t)?e._d=new Date(o.now()):d(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=pt.exec(e._i);null===t?(vt(e),!1===e._isValid&&(delete e._isValid,Dt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:o.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):i(t)?(e._a=f(t.slice(0),(function(e){return parseInt(e,10)})),Ct(e)):s(t)?function(e){if(!e._d){var t=W(e._i),n=void 0===t.day?t.date:t.day;e._a=f([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Ct(e)}}(e):u(t)?e._d=new Date(t):o.createFromInputFallback(e)}(e),m(e)||(e._d=null),e))}function wt(e,t,n,r,o){var a={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(s(e)&&l(e)||i(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=o,a._l=n,a._i=e,a._f=t,a._strict=r,function(e){var t=new y(ct(Et(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(a)}function Tt(e,t,n,r){return wt(e,t,n,r,!1)}o.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),o.ISO_8601=function(){},o.RFC_2822=function(){};var Mt=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),jt=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function kt(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return Tt();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Ot=["year","quarter","month","week","day","hour","minute","second","millisecond"];function At(e){var t=W(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,s=t.day||0,l=t.hour||0,c=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=function(e){var t,n,r=!1;for(t in e)if(a(e,t)&&(-1===ge.call(Ot,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<Ot.length;++n)if(e[Ot[n]]){if(r)return!1;parseFloat(e[Ot[n]])!==V(e[Ot[n]])&&(r=!0)}return!0}(t),this._milliseconds=+d+1e3*u+6e4*c+1e3*l*60*60,this._days=+s+7*i,this._months=+o+3*r+12*n,this._data={},this._locale=lt(),this._bubble()}function It(e){return e instanceof At}function Pt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function xt(e,t){F(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+A(~~(e/60),2)+t+A(~~e%60,2)}))}xt("Z",":"),xt("ZZ",""),he("Z",fe),he("ZZ",fe),be(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Ft(fe,e)}));var Rt=/([\+\-]|\d\d)/gi;function Ft(e,t){var n,r,o=(t||"").match(e);return null===o?null:0===(r=60*(n=((o[o.length-1]||[])+"").match(Rt)||["-",0,0])[1]+V(n[2]))?0:"+"===n[0]?r:-r}function Lt(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(C(e)||d(e)?e.valueOf():Tt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),o.updateOffset(n,!1),n):Tt(e).local()}function Nt(e){return-Math.round(e._d.getTimezoneOffset())}function Bt(){return!!this.isValid()&&this._isUTC&&0===this._offset}o.updateOffset=function(){};var Ut=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ht=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Wt(e,t){var n,r,o,i,s,l,c=e,d=null;return It(e)?c={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(c={},t?c[t]=+e:c.milliseconds=+e):(d=Ut.exec(e))?(n="-"===d[1]?-1:1,c={y:0,d:V(d[2])*n,h:V(d[3])*n,m:V(d[4])*n,s:V(d[5])*n,ms:V(Pt(1e3*d[6]))*n}):(d=Ht.exec(e))?(n="-"===d[1]?-1:1,c={y:Yt(d[2],n),M:Yt(d[3],n),w:Yt(d[4],n),d:Yt(d[5],n),h:Yt(d[6],n),m:Yt(d[7],n),s:Yt(d[8],n)}):null==c?c={}:"object"==typeof c&&("from"in c||"to"in c)&&(i=Tt(c.from),s=Tt(c.to),o=i.isValid()&&s.isValid()?(s=Lt(s,i),i.isBefore(s)?l=$t(i,s):((l=$t(s,i)).milliseconds=-l.milliseconds,l.months=-l.months),l):{milliseconds:0,months:0},(c={}).ms=o.milliseconds,c.M=o.months),r=new At(c),It(e)&&a(e,"_locale")&&(r._locale=e._locale),It(e)&&a(e,"_isValid")&&(r._isValid=e._isValid),r}function Yt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function $t(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function qt(e,t){return function(n,r){var o;return null===r||isNaN(+r)||(M(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),Gt(this,Wt(n,r),e),this}}function Gt(e,t,n,r){var i=t._milliseconds,s=Pt(t._days),a=Pt(t._months);e.isValid()&&(r=null==r||r,a&&ke(e,K(e,"Month")+a*n),s&&J(e,"Date",K(e,"Date")+s*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&o.updateOffset(e,s||a))}Wt.fn=At.prototype,Wt.invalid=function(){return Wt(NaN)};var Vt=qt(1,"add"),zt=qt(-1,"subtract");function Kt(e){return"string"==typeof e||e instanceof String}function Jt(e){return C(e)||d(e)||Kt(e)||u(e)||function(e){var t=i(e),n=!1;return t&&(n=0===e.filter((function(t){return!u(t)&&Kt(e)})).length),t&&n}(e)||function(e){var t,n,r=s(e)&&!l(e),o=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<i.length;t+=1)n=i[t],o=o||a(e,n);return r&&o}(e)||null==e}function Qt(e){var t,n=s(e)&&!l(e),r=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)r=r||a(e,o[t]);return n&&r}function Xt(e,t){if(e.date()<t.date())return-Xt(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Zt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=lt(e))&&(this._locale=t),this)}o.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",o.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var en=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function tn(){return this._locale}function nn(e,t){return(e%t+t)%t}function rn(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-126227808e5:new Date(e,t,n).valueOf()}function on(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-126227808e5:Date.UTC(e,t,n)}function sn(e,t){return t.erasAbbrRegex(e)}function an(){var e,t,n=[],r=[],o=[],i=[],s=this.eras();for(e=0,t=s.length;e<t;++e)r.push(me(s[e].name)),n.push(me(s[e].abbr)),o.push(me(s[e].narrow)),i.push(me(s[e].name)),i.push(me(s[e].abbr)),i.push(me(s[e].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function ln(e,t){F(0,[e,e.length],0,t)}function cn(e,t,n,r,o){var i;return null==e?Ne(this,r,o).year:(t>(i=Be(e,r,o))&&(t=i),un.call(this,e,t,n,r,o))}function un(e,t,n,r,o){var i=Le(e,t,n,r,o),s=Re(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}F("N",0,0,"eraAbbr"),F("NN",0,0,"eraAbbr"),F("NNN",0,0,"eraAbbr"),F("NNNN",0,0,"eraName"),F("NNNNN",0,0,"eraNarrow"),F("y",["y",1],"yo","eraYear"),F("y",["yy",2],0,"eraYear"),F("y",["yyy",3],0,"eraYear"),F("y",["yyyy",4],0,"eraYear"),he("N",sn),he("NN",sn),he("NNN",sn),he("NNNN",(function(e,t){return t.erasNameRegex(e)})),he("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),be(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var o=n._locale.erasParse(e,r,n._strict);o?p(n).era=o:p(n).invalidEra=e})),he("y",ce),he("yy",ce),he("yyy",ce),he("yyyy",ce),he("yo",(function(e,t){return t._eraYearOrdinalRegex||ce})),be(["y","yy","yyy","yyyy"],0),be(["yo"],(function(e,t,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[0]=n._locale.eraYearOrdinalParse(e,o):t[0]=parseInt(e,10)})),F(0,["gg",2],0,(function(){return this.weekYear()%100})),F(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),ln("gggg","weekYear"),ln("ggggg","weekYear"),ln("GGGG","isoWeekYear"),ln("GGGGG","isoWeekYear"),U("weekYear","gg"),U("isoWeekYear","GG"),$("weekYear",1),$("isoWeekYear",1),he("G",ue),he("g",ue),he("GG",re,Z),he("gg",re,Z),he("GGGG",ae,te),he("gggg",ae,te),he("GGGGG",le,ne),he("ggggg",le,ne),De(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=V(e)})),De(["gg","GG"],(function(e,t,n,r){t[r]=o.parseTwoDigitYear(e)})),F("Q",0,"Qo","quarter"),U("quarter","Q"),$("quarter",7),he("Q",X),be("Q",(function(e,t){t[1]=3*(V(e)-1)})),F("D",["DD",2],"Do","date"),U("date","D"),$("date",9),he("D",re),he("DD",re,Z),he("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),be(["D","DD"],2),be("Do",(function(e,t){t[2]=V(e.match(re)[0])}));var dn=z("Date",!0);F("DDD",["DDDD",3],"DDDo","dayOfYear"),U("dayOfYear","DDD"),$("dayOfYear",4),he("DDD",se),he("DDDD",ee),be(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=V(e)})),F("m",["mm",2],0,"minute"),U("minute","m"),$("minute",14),he("m",re),he("mm",re,Z),be(["m","mm"],4);var fn=z("Minutes",!1);F("s",["ss",2],0,"second"),U("second","s"),$("second",15),he("s",re),he("ss",re,Z),be(["s","ss"],5);var _n,hn,pn=z("Seconds",!1);for(F("S",0,0,(function(){return~~(this.millisecond()/100)})),F(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),F(0,["SSS",3],0,"millisecond"),F(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),F(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),F(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),F(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),F(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),F(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),U("millisecond","ms"),$("millisecond",16),he("S",se,X),he("SS",se,Z),he("SSS",se,ee),_n="SSSS";_n.length<=9;_n+="S")he(_n,ce);function mn(e,t){t[6]=V(1e3*("0."+e))}for(_n="S";_n.length<=9;_n+="S")be(_n,mn);hn=z("Milliseconds",!1),F("z",0,0,"zoneAbbr"),F("zz",0,0,"zoneName");var gn=y.prototype;function vn(e){return e}gn.add=Vt,gn.calendar=function(e,t){1===arguments.length&&(arguments[0]?Jt(arguments[0])?(e=arguments[0],t=void 0):Qt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Tt(),r=Lt(n,this).startOf("day"),i=o.calendarFormat(this,r)||"sameElse",s=t&&(j(t[i])?t[i].call(this,n):t[i]);return this.format(s||this.localeData().calendar(i,this,Tt(n)))},gn.clone=function(){return new y(this)},gn.diff=function(e,t,n){var r,o,i;if(!this.isValid())return NaN;if(!(r=Lt(e,this)).isValid())return NaN;switch(o=6e4*(r.utcOffset()-this.utcOffset()),t=H(t)){case"year":i=Xt(this,r)/12;break;case"month":i=Xt(this,r);break;case"quarter":i=Xt(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:G(i)},gn.endOf=function(e){var t,n;if(void 0===(e=H(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?on:rn,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-nn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-nn(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-nn(t,1e3)-1}return this._d.setTime(t),o.updateOffset(this,!0),this},gn.format=function(e){e||(e=this.isUtc()?o.defaultFormatUtc:o.defaultFormat);var t=L(this,e);return this.localeData().postformat(t)},gn.from=function(e,t){return this.isValid()&&(C(e)&&e.isValid()||Tt(e).isValid())?Wt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},gn.fromNow=function(e){return this.from(Tt(),e)},gn.to=function(e,t){return this.isValid()&&(C(e)&&e.isValid()||Tt(e).isValid())?Wt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},gn.toNow=function(e){return this.to(Tt(),e)},gn.get=function(e){return j(this[e=H(e)])?this[e]():this},gn.invalidAt=function(){return p(this).overflow},gn.isAfter=function(e,t){var n=C(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},gn.isBefore=function(e,t){var n=C(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},gn.isBetween=function(e,t,n,r){var o=C(e)?e:Tt(e),i=C(t)?t:Tt(t);return!!(this.isValid()&&o.isValid()&&i.isValid())&&("("===(r=r||"()")[0]?this.isAfter(o,n):!this.isBefore(o,n))&&(")"===r[1]?this.isBefore(i,n):!this.isAfter(i,n))},gn.isSame=function(e,t){var n,r=C(e)?e:Tt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},gn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},gn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},gn.isValid=function(){return m(this)},gn.lang=en,gn.locale=Zt,gn.localeData=tn,gn.max=jt,gn.min=Mt,gn.parsingFlags=function(){return _({},p(this))},gn.set=function(e,t){if("object"==typeof e){var n,r=function(e){var t,n=[];for(t in e)a(e,t)&&n.push({unit:t,priority:Y[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}(e=W(e));for(n=0;n<r.length;n++)this[r[n].unit](e[r[n].unit])}else if(j(this[e=H(e)]))return this[e](t);return this},gn.startOf=function(e){var t,n;if(void 0===(e=H(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?on:rn,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=nn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=nn(t,6e4);break;case"second":t=this._d.valueOf(),t-=nn(t,1e3)}return this._d.setTime(t),o.updateOffset(this,!0),this},gn.subtract=zt,gn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},gn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},gn.toDate=function(){return new Date(this.valueOf())},gn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?L(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):j(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",L(n,"Z")):L(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},gn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r="moment",o="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+r+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n=o+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(gn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),gn.toJSON=function(){return this.isValid()?this.toISOString():null},gn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},gn.unix=function(){return Math.floor(this.valueOf()/1e3)},gn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},gn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},gn.eraName=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""},gn.eraNarrow=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""},gn.eraAbbr=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""},gn.eraYear=function(){var e,t,n,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-o(i[e].since).year())*n+i[e].offset;return this.year()},gn.year=Pe,gn.isLeapYear=function(){return q(this.year())},gn.weekYear=function(e){return cn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},gn.isoWeekYear=function(e){return cn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},gn.quarter=gn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},gn.month=Oe,gn.daysInMonth=function(){return Ce(this.year(),this.month())},gn.week=gn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},gn.isoWeek=gn.isoWeeks=function(e){var t=Ne(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},gn.weeksInYear=function(){var e=this.localeData()._week;return Be(this.year(),e.dow,e.doy)},gn.weeksInWeekYear=function(){var e=this.localeData()._week;return Be(this.weekYear(),e.dow,e.doy)},gn.isoWeeksInYear=function(){return Be(this.year(),1,4)},gn.isoWeeksInISOWeekYear=function(){return Be(this.isoWeekYear(),1,4)},gn.date=dn,gn.day=gn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},gn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},gn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},gn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},gn.hour=gn.hours=Ze,gn.minute=gn.minutes=fn,gn.second=gn.seconds=pn,gn.millisecond=gn.milliseconds=hn,gn.utcOffset=function(e,t,n){var r,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Ft(fe,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=Nt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==e&&(!t||this._changeInProgress?Gt(this,Wt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,o.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:Nt(this)},gn.utc=function(e){return this.utcOffset(0,e)},gn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Nt(this),"m")),this},gn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ft(de,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},gn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Tt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},gn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},gn.isLocal=function(){return!!this.isValid()&&!this._isUTC},gn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},gn.isUtc=Bt,gn.isUTC=Bt,gn.zoneAbbr=function(){return this._isUTC?"UTC":""},gn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},gn.dates=E("dates accessor is deprecated. Use date instead.",dn),gn.months=E("months accessor is deprecated. Use month instead",Oe),gn.years=E("years accessor is deprecated. Use year instead",Pe),gn.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),gn.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return D(t,this),(t=Et(t))._a?(e=t._isUTC?h(t._a):Tt(t._a),this._isDSTShifted=this.isValid()&&function(e,t,n){var r,o=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),s=0;for(r=0;r<o;r++)(n&&e[r]!==t[r]||!n&&V(e[r])!==V(t[r]))&&s++;return s+i}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var bn=O.prototype;function Dn(e,t,n,r){var o=lt(),i=h().set(r,t);return o[n](i,e)}function yn(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return Dn(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=Dn(e,r,n,"month");return o}function Cn(e,t,n,r){"boolean"==typeof e?(u(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,u(t)&&(n=t,t=void 0),t=t||"");var o,i=lt(),s=e?i._week.dow:0,a=[];if(null!=n)return Dn(t,(n+s)%7,r,"day");for(o=0;o<7;o++)a[o]=Dn(t,(o+s)%7,r,"day");return a}bn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return j(r)?r.call(t,n):r},bn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(I).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},bn.invalidDate=function(){return this._invalidDate},bn.ordinal=function(e){return this._ordinal.replace("%d",e)},bn.preparse=vn,bn.postformat=vn,bn.relativeTime=function(e,t,n,r){var o=this._relativeTime[n];return j(o)?o(e,t,n,r):o.replace(/%d/i,e)},bn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return j(n)?n(t):n.replace(/%s/i,t)},bn.set=function(e){var t,n;for(n in e)a(e,n)&&(j(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},bn.eras=function(e,t){var n,r,i,s=this._eras||lt("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":i=o(s[n].since).startOf("day"),s[n].since=i.valueOf()}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=o(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf()}}return s},bn.erasParse=function(e,t,n){var r,o,i,s,a,l=this.eras();for(e=e.toUpperCase(),r=0,o=l.length;r<o;++r)if(i=l[r].name.toUpperCase(),s=l[r].abbr.toUpperCase(),a=l[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return l[r];break;case"NNNN":if(i===e)return l[r];break;case"NNNNN":if(a===e)return l[r]}else if([i,s,a].indexOf(e)>=0)return l[r]},bn.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?o(e.since).year():o(e.since).year()+(t-e.offset)*n},bn.erasAbbrRegex=function(e){return a(this,"_erasAbbrRegex")||an.call(this),e?this._erasAbbrRegex:this._erasRegex},bn.erasNameRegex=function(e){return a(this,"_erasNameRegex")||an.call(this),e?this._erasNameRegex:this._erasRegex},bn.erasNarrowRegex=function(e){return a(this,"_erasNarrowRegex")||an.call(this),e?this._erasNarrowRegex:this._erasRegex},bn.months=function(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||we).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone},bn.monthsShort=function(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[we.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},bn.monthsParse=function(e,t,n){var r,o,i;if(this._monthsParseExact)return je.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=h([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},bn.monthsRegex=function(e){return this._monthsParseExact?(a(this,"_monthsRegex")||Ae.call(this),e?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=Me),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},bn.monthsShortRegex=function(e){return this._monthsParseExact?(a(this,"_monthsRegex")||Ae.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=Te),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},bn.week=function(e){return Ne(e,this._week.dow,this._week.doy).week},bn.firstDayOfYear=function(){return this._week.doy},bn.firstDayOfWeek=function(){return this._week.dow},bn.weekdays=function(e,t){var n=i(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ue(n,this._week.dow):e?n[e.day()]:n},bn.weekdaysMin=function(e){return!0===e?Ue(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},bn.weekdaysShort=function(e){return!0===e?Ue(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},bn.weekdaysParse=function(e,t,n){var r,o,i;if(this._weekdaysParseExact)return Ve.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=h([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},bn.weekdaysRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||ze.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=$e),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},bn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||ze.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=qe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},bn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||ze.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ge),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},bn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},bn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},st("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===V(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),o.lang=E("moment.lang is deprecated. Use moment.locale instead.",st),o.langData=E("moment.langData is deprecated. Use moment.localeData instead.",lt);var Sn=Math.abs;function En(e,t,n,r){var o=Wt(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function wn(e){return e<0?Math.floor(e):Math.ceil(e)}function Tn(e){return 4800*e/146097}function Mn(e){return 146097*e/4800}function jn(e){return function(){return this.as(e)}}var kn=jn("ms"),On=jn("s"),An=jn("m"),In=jn("h"),Pn=jn("d"),xn=jn("w"),Rn=jn("M"),Fn=jn("Q"),Ln=jn("y");function Nn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Bn=Nn("milliseconds"),Un=Nn("seconds"),Hn=Nn("minutes"),Wn=Nn("hours"),Yn=Nn("days"),$n=Nn("months"),qn=Nn("years"),Gn=Math.round,Vn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function zn(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}var Kn=Math.abs;function Jn(e){return(e>0)-(e<0)||+e}function Qn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,o,i,s,a,l=Kn(this._milliseconds)/1e3,c=Kn(this._days),u=Kn(this._months),d=this.asSeconds();return d?(e=G(l/60),t=G(e/60),l%=60,e%=60,n=G(u/12),u%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",o=d<0?"-":"",i=Jn(this._months)!==Jn(d)?"-":"",s=Jn(this._days)!==Jn(d)?"-":"",a=Jn(this._milliseconds)!==Jn(d)?"-":"",o+"P"+(n?i+n+"Y":"")+(u?i+u+"M":"")+(c?s+c+"D":"")+(t||e||l?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(l?a+r+"S":"")):"P0D"}var Xn=At.prototype;return Xn.isValid=function(){return this._isValid},Xn.abs=function(){var e=this._data;return this._milliseconds=Sn(this._milliseconds),this._days=Sn(this._days),this._months=Sn(this._months),e.milliseconds=Sn(e.milliseconds),e.seconds=Sn(e.seconds),e.minutes=Sn(e.minutes),e.hours=Sn(e.hours),e.months=Sn(e.months),e.years=Sn(e.years),this},Xn.add=function(e,t){return En(this,e,t,1)},Xn.subtract=function(e,t){return En(this,e,t,-1)},Xn.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=H(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Tn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Mn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},Xn.asMilliseconds=kn,Xn.asSeconds=On,Xn.asMinutes=An,Xn.asHours=In,Xn.asDays=Pn,Xn.asWeeks=xn,Xn.asMonths=Rn,Xn.asQuarters=Fn,Xn.asYears=Ln,Xn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*V(this._months/12):NaN},Xn._bubble=function(){var e,t,n,r,o,i=this._milliseconds,s=this._days,a=this._months,l=this._data;return i>=0&&s>=0&&a>=0||i<=0&&s<=0&&a<=0||(i+=864e5*wn(Mn(a)+s),s=0,a=0),l.milliseconds=i%1e3,e=G(i/1e3),l.seconds=e%60,t=G(e/60),l.minutes=t%60,n=G(t/60),l.hours=n%24,s+=G(n/24),o=G(Tn(s)),a+=o,s-=wn(Mn(o)),r=G(a/12),a%=12,l.days=s,l.months=a,l.years=r,this},Xn.clone=function(){return Wt(this)},Xn.get=function(e){return e=H(e),this.isValid()?this[e+"s"]():NaN},Xn.milliseconds=Bn,Xn.seconds=Un,Xn.minutes=Hn,Xn.hours=Wn,Xn.days=Yn,Xn.weeks=function(){return G(this.days()/7)},Xn.months=$n,Xn.years=qn,Xn.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,o=!1,i=Vn;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(o=e),"object"==typeof t&&(i=Object.assign({},Vn,t),null!=t.s&&null==t.ss&&(i.ss=t.s-1)),n=this.localeData(),r=function(e,t,n,r){var o=Wt(e).abs(),i=Gn(o.as("s")),s=Gn(o.as("m")),a=Gn(o.as("h")),l=Gn(o.as("d")),c=Gn(o.as("M")),u=Gn(o.as("w")),d=Gn(o.as("y")),f=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(f=f||u<=1&&["w"]||u<n.w&&["ww",u]),(f=f||c<=1&&["M"]||c<n.M&&["MM",c]||d<=1&&["y"]||["yy",d])[2]=t,f[3]=+e>0,f[4]=r,zn.apply(null,f)}(this,!o,i,n),o&&(r=n.pastFuture(+this,r)),n.postformat(r)},Xn.toISOString=Qn,Xn.toString=Qn,Xn.toJSON=Qn,Xn.locale=Zt,Xn.localeData=tn,Xn.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Qn),Xn.lang=en,F("X",0,0,"unix"),F("x",0,0,"valueOf"),he("x",ue),he("X",/[+-]?\d+(\.\d{1,3})?/),be("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),be("x",(function(e,t,n){n._d=new Date(V(e))})),
//! moment.js
o.version="2.29.1",t=Tt,o.fn=gn,o.min=function(){var e=[].slice.call(arguments,0);return kt("isBefore",e)},o.max=function(){var e=[].slice.call(arguments,0);return kt("isAfter",e)},o.now=function(){return Date.now?Date.now():+new Date},o.utc=h,o.unix=function(e){return Tt(1e3*e)},o.months=function(e,t){return yn(e,t,"months")},o.isDate=d,o.locale=st,o.invalid=g,o.duration=Wt,o.isMoment=C,o.weekdays=function(e,t,n){return Cn(e,t,n,"weekdays")},o.parseZone=function(){return Tt.apply(null,arguments).parseZone()},o.localeData=lt,o.isDuration=It,o.monthsShort=function(e,t){return yn(e,t,"monthsShort")},o.weekdaysMin=function(e,t,n){return Cn(e,t,n,"weekdaysMin")},o.defineLocale=at,o.updateLocale=function(e,t){if(null!=t){var n,r,o=et;null!=tt[e]&&null!=tt[e].parentLocale?tt[e].set(k(tt[e]._config,t)):(null!=(r=it(e))&&(o=r._config),t=k(o,t),null==r&&(t.abbr=e),(n=new O(t)).parentLocale=tt[e],tt[e]=n),st(e)}else null!=tt[e]&&(null!=tt[e].parentLocale?(tt[e]=tt[e].parentLocale,e===st()&&st(e)):null!=tt[e]&&delete tt[e]);return tt[e]},o.locales=function(){return w(tt)},o.weekdaysShort=function(e,t,n){return Cn(e,t,n,"weekdaysShort")},o.normalizeUnits=H,o.relativeTimeRounding=function(e){return void 0===e?Gn:"function"==typeof e&&(Gn=e,!0)},o.relativeTimeThreshold=function(e,t){return void 0!==Vn[e]&&(void 0===t?Vn[e]:(Vn[e]=t,"s"===e&&(Vn.ss=t-1),!0))},o.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},o.prototype=gn,o.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},o}()}).call(this,n(273)(e))},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(11),i=n(24),s=n(0),a=n(6),l=n(3),c=n(219),u=n(26),d=n(15),f=n(308);class _{constructor(){this.rxConnectionSubject=new o.Subject,this.rxContactSubject=new o.Subject,this.showBodyMessage=!1,this.presenceWaitingList=[],this.xmppServerURL=null,this.stropheStatus=null,this.presenceStatus="offline",this.pingTimeout=null,this.connecting=!1,this.disconnectInfo=null,this.connectionWatcherTimout=null,this.isInitialPresenceSent=!1,this.historyHandler=null,this.bulkHistoryHandler=null,this.searchTextHandler=null,this.callLogHandler=null,this.reconnectInProgress=!1,this.reconnectionDelay=250,this.reconnectTimeout=null,this.connectivityEventSubscription=null,this.lastPingDate=null,this.started=!1,this.connection=null,this.jid=null,this.fullJid=null,this.changePasswordInfo=null,this.contactServiceReady=!1,this.connected=!1}static getInstance(){const e=window;return e.rainbow||(e.rainbow={}),e.rainbow.xmppService||(e.rainbow.xmppService=new _),e.rainbow.xmppService}onHandleConnectivity(e){e?(s.default.info("[xmppService] -- onHandleConnectivityEvent -- retrieve connectivity"),this.autoReconnect(!0)):(s.default.info("[xmppService] -- onHandleConnectivityEvent -- lost connectivity"),this.stropheStatus===Strophe.Status.CONNECTED&&(this.interruptAutoReconnect(),this.disconnect("NO_NETWORK")))}start(){return r(this,void 0,void 0,(function*(){try{if(this.connectivityEventSubscription=u.default.subscribeToConnectivityEvents(e=>{this.onHandleConnectivity(e)}),!l.default.jidIm||!l.default.jidPwd)throw new Error("No valid XMPP credentials");this.xmppServerURL=`${config.xmpp.protocol}://${config.xmpp.currentServer}:${config.xmpp.port}/websocket`,this.showBodyMessage=a.default.getBooleanSetting("showBodyMessage"),this.pingTimeout=config.xmpp.pingInterval?2*parseInt(config.xmpp.pingInterval,10):12e4,yield this.connect(),this.publishConnectionEvent("ON_XMPP_CONNECTED",{reason:"LOGIN"})}catch(e){throw s.default.error("[xmppService] start -- FAILURE -- "+e.message),e}}))}stop(){return r(this,void 0,void 0,(function*(){try{yield this.disconnect("LOGOUT")}catch(e){}this.started=!1,this.connected=!1,this.stropheStatus=null,this.presenceStatus="offline",this.fullJid=null,this.lastPingDate=null,this.connectivityEventSubscription&&(this.connectivityEventSubscription.unsubscribe(),this.connectivityEventSubscription=null)}))}connect(){return r(this,void 0,void 0,(function*(){try{if(this.stropheStatus===Strophe.Status.CONNECTING||this.stropheStatus===Strophe.Status.CONNECTED||this.stropheStatus===Strophe.Status.AUTHENTICATING){const e=new Error("XMPP service already connected or connecting");throw e.details=this.stropheStatus===Strophe.Status.CONNECTING?"XMPP_IN_CONNECTING_STATE":"XMPP_ALREADY_CONNECTED",e}const e=l.default.getInformationHeadersApp(),t=l.default.getInformationHeadersAppVersion(),n=l.default.xmppDomain;if(null===e||null===t||null===n)throw new Error("XMPP service -- Missing connection data");this.connection=new Strophe.Connection(`${this.xmppServerURL}?x-rainbow-client=${e}&x-rainbow-client-version=${t}&x-rainbow-xmpp-dom=${n}`),this.connection.rawInput=e=>{this.handleRawXmppMessage(e,"Recv: ")},this.connection.rawOutput=e=>{this.handleRawXmppMessage(e,"Sent: ")},this.jid=l.default.jidIm,this.fullJid||(this.fullJid=this.generateRandomFullJid(this.jid)),yield this.stropheConnect(),this.connected=!0,this.connection.ping.addPingHandler(e=>(s.default.info(`[xmppService] -- onKeepAlivePingEvent (${new Date})`),this.connected&&(this.connection.ping.pong(e),this.lastPingDate=new Date),!0)),this.addHandler(e=>this.onRosterChangedMessageReceived(e),"jabber:iq:roster","iq","set"),this.addHandler(e=>this.onMamMessageReceived(e),Strophe.NS.MAM,"message",null),this.addHandler(e=>this.onMamMessageReceived(e),Strophe.NS.MAM,"iq",null),this.addHandler(e=>this.onMamBulkMessageReceived(e),"urn:xmpp:mam:1:bulk","message",null),this.addHandler(e=>this.onMamBulkMessageReceived(e),"urn:xmpp:mam:1:bulk","iq",null),this.addHandler(e=>this.onSearchTextMessageReceived(e),"urn:xmpp:mam:tmp","message",null),this.addHandler(e=>this.onPresenceMessageReceived(e),null,"presence"),this.connection.jingle&&this.connection.jingle.attachHandlers(),this.presenceWaitingList=[];const r=$iq({type:"set"});r.c("enable",{xmlns:"urn:xmpp:carbons:2"}),this.sendIQ(r),this.started=!0}catch(e){throw s.default.error("[xmppService] connect -- FAILURE -- "+e.message),e}}))}disconnect(e){return new Promise(t=>{this.connected?this.stropheStatus===Strophe.Status.CONNECTED&&(s.default.info("[xmppService] disconnect -- "+e),this.disconnectInfo={reason:e,resolve:t},this.connection.disconnect(e)):(s.default.info("[xmppService] disconnect - service is not started"),t())})}stropheConnect(){return new Promise((e,t)=>{this.connecting=!0,this.connection.connect(this.fullJid,l.default.jidPwd,(n,r=null)=>{switch(this.stropheStatus=n,n){case Strophe.Status.CONNECTING:this.publishConnectionEvent("ON_XMPP_CONNECTING");break;case Strophe.Status.AUTHFAIL:s.default.error(`[xmppService] -- onAuthenticationFailureEvent -- ${r} -- ${this.fullJid}`),this.connecting=!1,t(new Error("Authentication failure -- "+r));break;case Strophe.Status.CONNFAIL:if(!this.connecting)break;s.default.error("[xmppService] -- onConnectionFailureEvent -- ConnectionFail -- "+this.fullJid),this.connecting=!1,t(new Error("Connection failure -- "+r));break;case Strophe.Status.CONNECTED:s.default.info("[xmppService] -- onConnectedEvent -- "+this.fullJid),this.connecting=!1,e();break;case Strophe.Status.DISCONNECTED:if(this.connecting){s.default.error("[xmppService] -- onConnectionFailureEvent -- Disconnected -- "+this.fullJid),t(new Error("Connection failure -- "+r));break}this.reconnectInProgress||this.onDisconnectEvent(r)}})})}connectionWatcher(){try{if(s.default.error("[xmppService] -- Connection watcher : so bad, no message since "+this.pingTimeout/1e3+" seconds (no ping)"),this.connection){const e=this.stropheStatus===Strophe.Status.CONNECTED?"Have lost connectivity":"Stuck in reconnecting state";s.default.info("[xmppService] -- Connection watcher -- "+e),this.stropheStatus=null,this.connection.disconnect("No ping")}}catch(e){s.default.error("connectionWatcher error "+e)}}generateRandomFullJid(e){const t=navigator.platform.toUpperCase().indexOf("MAC")>=0?"osx":"win";let n="desk_"+t;return u.default.isDesktopApp()||(n=l.default.fromSDK?"web_sdk":"web_"+t),`${e}/${n}_${version}_${c.default(8)}`}handleRawXmppMessage(e,t){if(this.connectionWatcherTimout&&clearTimeout(this.connectionWatcherTimout),this.connectionWatcherTimout=setTimeout(()=>{this.connectionWatcher()},this.pingTimeout),!(e.indexOf("<PHOTO>")>-1)){let n=t;if(e.indexOf("urn:xmpp:mam:1:bulk")>-1)"true"===a.default.getSetting("devMode")&&"true"===a.default.getSetting("showBodyMessage")?n+=e:n+="Hidden content -- bulk";else if(e.indexOf("xmlns='jabber:x:bubble:conference'")>-1&&(e.indexOf("name='invitation'")>-1||e.indexOf("name='conferenceAdd'")>-1||e.indexOf("name='conferenceRemove'")>-1))n+="Hidden content";else if(e.indexOf("urn:xmpp:jingle")>-1)"true"===a.default.getSetting("devMode")&&"true"===a.default.getSetting("showBodyMessage")?n+=e:e.indexOf("displayname")>-1||e.indexOf("number")>-1?n+="Hidden content -- jingle":n+=e;else if(e.indexOf("urn:xmpp:janus:1")>-1&&(e.indexOf("displayName")>-1||e.indexOf("displayname")>-1||e.indexOf("number")>-1))n+="Hidden content";else if(e.indexOf("<message")>-1&&(e.indexOf("<body")>-1||e.indexOf("<content>")>-1||e.indexOf("<thumbnail")>-1))n+=this.messageBodyDiscretion(e);else{let t=e;const r=f(e).find("data");if(r&&"http://jabber.org/protocol/ibb"===r.attr("xmlns")&&(r.html("Encoded file in base 64"),n+=r.html()),!this.showBodyMessage){if(-1!==e.indexOf("<identity")){const n=e.indexOf("firstName="),r=e.indexOf("'",n);if(-1!==n&&-1!==r){const n=e.indexOf("'",r+1);r+1!==n&&(t=e.substr(0,r+2)+"***"+e.substr(n))}const o=t.indexOf("lastName="),i=t.indexOf("'",o);if(-1!==o&&-1!==i){const e=t.indexOf("'",i+1);i+1!==e&&(t=t.substr(0,i+2)+"***"+t.substr(e))}}if(-1!==t.indexOf("<caller_info")||-1!==t.indexOf("<callee_info")){const e=t.indexOf("number="),n=t.indexOf("'",e);if(-1!==e&&-1!==n){const e=t.indexOf("'",n+1);if(n+1!==e){const r=t.substr(n+1,e-n-1);t=t.substr(0,n+1)+d.default(r)+t.substr(e)}}}if(-1!==t.indexOf("<caller>")){const e=t.indexOf("<caller>"),n=t.indexOf("</caller>",e),r=t.substring(e+8,n);-1===r.indexOf("@")&&-1===r.indexOf("janus")&&(t=t.substr(0,e+8)+d.default(r)+t.substr(n))}if(-1!==t.indexOf("<callee>")){const e=t.indexOf("<callee>"),n=t.indexOf("</callee>",e),r=t.substring(e+8,n);-1===r.indexOf("@")&&-1===r.indexOf("janus")&&(t=t.substr(0,e+8)+d.default(r)+t.substr(n))}if(-1!==t.indexOf("<event")){const e=t.indexOf("<message>"),n=t.indexOf("</message>",e);t=t.substr(0,e+9)+"***"+t.substr(n)}const n=t.indexOf("endpointTel='");if(-1!==n){const e=t.indexOf("'",n+13),r=t.substring(n+13,e);t=t.substr(0,n+13)+d.default(r)+t.substr(e)}const r=t.indexOf("destination='");if(-1!==r){const e=t.indexOf("'",r+13),n=t.substring(r+13,e);t=t.substr(0,r+13)+d.default(n)+t.substr(e)}if(-1!==t.indexOf("<name>")){const e=t.indexOf("<name>"),n=t.indexOf("</name>",e);t=t.substr(0,e+6)+"***"+t.substr(n)}}n+=t}s.default.debug(n)}}messageBodyDiscretion(e){return this.showBodyMessage?e:(e=this.messageTagDiscretion("content",e),e=this.messageTagDiscretion("body",e),e=this.messageTagDiscretion("subject",e),e=this.messageTagDiscretion("filename",e))}messageTagDiscretion(e,t){const n=t.indexOf("<"+e);if(-1!==n){const r=t.indexOf(">",n),o=t.indexOf("/>",n);if(-1!==r&&r!==o+1)return t.substr(0,r+2)+"***"+t.substr(t.indexOf("</"+e+">")-1)}return t}onDisconnectEvent(e){return r(this,void 0,void 0,(function*(){if(this.connectionWatcherTimout&&clearTimeout(this.connectionWatcherTimout),this.isInitialPresenceSent=!1,this.started){if(this.disconnectInfo)return s.default.info(`[xmppService] -- onDisconnectEvent -- Expected disconnection -- ${this.disconnectInfo.reason} -- ${this.fullJid}`),this.connected=!1,this.publishConnectionEvent("ON_XMPP_DISCONNECTED",{reason:this.disconnectInfo.reason}),this.disconnectInfo.resolve(),void(this.disconnectInfo=null);if(this.changePasswordInfo)if(this.connected=!1,this.changePasswordInfo.fromThirdParty)s.default.error("[xmppService] -- onDisconnectEvent -- Expected disconnection -- change password from third party -- "+this.fullJid),this.publishConnectionEvent("ON_XMPP_DISCONNECTED",{reason:"3RD_PARTY_CHANGE_PWD"});else{s.default.error("[xmppService] -- onDisconnectEvent -- Expected disconnection -- change password -- "+this.fullJid);try{yield l.default.logon(this.changePasswordInfo.login,this.changePasswordInfo.newPassword,!0)}catch(t){this.publishConnectionEvent("ON_XMPP_DISCONNECTED",{reason:"CHANGE_PWD_ERROR"})}this.changePasswordInfo.resolve&&this.changePasswordInfo.resolve(),this.changePasswordInfo=null,this.publishConnectionEvent("ON_XMPP_DISCONNECTED",{reason:"CHANGE_PWD"}),this.autoReconnect()}else s.default.error(`[xmppService] -- onDisconnectEvent -- Unexpected disconnection -- ${e} -- ${this.fullJid}`),this.connected=!1,this.publishConnectionEvent("ON_XMPP_DISCONNECTED",{reason:"UNKNOWN"}),this.autoReconnect()}else s.default.info("[xmppService] -- onDisconnectEvent -- service not started -- ignored")}))}interruptAutoReconnect(e=!1){(this.reconnectInProgress||e)&&(s.default.info("[xmppService] interrupt auto-reconnection"),this.reconnectionDelay=250,this.reconnectInProgress=!1,this.reconnectTimeout&&clearTimeout(this.reconnectTimeout),this.connectionWatcherTimout&&(s.default.info("[xmppService] Clear connection watcher timeout"),clearTimeout(this.connectionWatcherTimout)))}autoReconnect(e=!1){return r(this,void 0,void 0,(function*(){try{this.interruptAutoReconnect(e),s.default.info("[xmppService] autoReconnect"),this.reconnectInProgress=!0,yield l.default.startTokenSurvey(),yield this.connect(),this.reconnectionDelay=250,this.reconnectInProgress=!1,s.default.info("[xmppService] autoReconnect -- SUCCESS"),this.publishConnectionEvent("ON_XMPP_CONNECTED",{reason:"RECONNECTION",lastActivityDate:this.lastPingDate})}catch(t){let e=t;switch(t&&t.details||(e=new Error,e.details="UNKNOWN"),e.details){case"AUTH_TOKEN_EXPIRED":s.default.error("[xmppService] Impossible to renew token, redirect to login page"),this.interruptAutoReconnect(),l.default.logout(),this.reconnectInProgress=!1;break;case"XMPP_ALREADY_CONNECTED":s.default.error("[xmppService] In auto-reconnect, but already connected -- ignore"),this.reconnectInProgress=!1;break;case"XMPP_IN_CONNECTING_STATE":s.default.error("[xmppService] xmpp is still connecting -- wait");break;default:this.reconnectInProgress&&(this.reconnectionDelay=2*this.reconnectionDelay,this.reconnectionDelay>15e3&&(this.reconnectionDelay=15e3),s.default.info("[xmppService] Auto-reconnection failure (next try in "+this.reconnectionDelay+"ms)"),this.reconnectTimeout=setTimeout(()=>{this.autoReconnect()},this.reconnectionDelay)),this.reconnectInProgress=!1}}}))}subscribeToContactEvents(e){return this.rxContactSubject.subscribe(e)}subscribeToConnectionEvents(e){return this.rxConnectionSubject.subscribe(e)}publishContactEvent(e,t){this.rxContactSubject.next(i.RBEvent.create(e,t))}publishConnectionEvent(e,t=null){this.rxConnectionSubject.next(i.RBEvent.create(e,t))}onRosterChangedMessageReceived(e){try{return f(e).find("item").each((e,t)=>{const n=f(t),r=this.getBareJidFromJid(n.attr("jid")),o="favorites"===n.find("group").first().text(),i=n.attr("subscription"),s=n.attr("ask");this.publishContactEvent("ON_ROSTER_CHANGED_EVENT",{jid:r,subscription:i||"none",favorite:o,ask:s||"none"})}),!0}catch(t){return!0}}sendPresence(e,t,n=!1,r){if(this.connection&&this.connection.send&&this.stropheStatus===Strophe.Status.CONNECTED)try{s.default.info("Send presence "+e+" - "+t+" ("+this.jid+")");const o=$pres();o.c("priority").t("5"),o.up(),e&&"online"!==e&&o.c("show").t(e),!t||e&&"online"!==e?t&&o.up().c("status").t(t):o.c("status").t(t),!0===n&&(e&&"online"!==e&&o.up(),o.c("application",{xmlns:"jabber:iq:application"}),o.c("appid").t(config.rainbowApiClientKey).up(),o.c("userid").t(l.default.userId).up().up(),o.c("parameters",{xmlns:"jabber:iq:configuration"}),o.c("user_options",{alert:r.alert,im:r.im})),this.connection.send(o)}catch(o){return void s.default.error("this.connection.send error : "+o)}else s.default.error('[xmppService] Try to send "presence IQ" but no xmpp connection')}resetPresence(e){s.default.info(`Reset presence to ${this.presenceStatus} (${this.jid})`),this.sendPresence(e.show,e.status)}onPresenceMessageReceived(e){try{const t=f(e),n=t.attr("from"),r=this.getBareJidFromJid(n),o=t.find("x").attr("xmlns"),i=t.attr("type");if(o&&0===o.indexOf(Strophe.NS.MUC))return!0;if(t.find("actor").length>0&&"jabber:iq:configuration"===t.find("actor").attr("xmlns")&&(t.find("avatar").length>0?this.publishContactEvent("ON_CONTACT_UPDATE_EVENT",{from:r,type:"avatar"}):t.find("data").length>0&&this.publishContactEvent("ON_CONTACT_UPDATE_EVENT",{from:r,type:"data"}),t.find("x").length&&"vcard-temp:x:update"===t.find("x").attr("xmlns")&&!t.find("delay").length))return!0;if("error"===i)s.default.error("Receive error presence message");else if("subscribe"===i)s.default.info("Receive subscribe from ("+r+")");else{let e="offline",r="";if("unavailable"!==i){const n=t.find("show").text();r=t.find("status").text(),e=""===n||"chat"===n?"online":"dnd"===n?"dnd":"xa"===n?"xa":"away"}const o=t.find("applyCalendarPresence").text(),a=t.find("delay").attr("stamp"),l=a?new Date(a):new Date;let c=t.find("until").text();c=c?new Date(c):null;const u={jid:n,status:e,message:r,stamp:l,until:c,applyCalendarPresence:o};this.isConnectedJid(n)&&!this.isInitialPresenceSent&&(this.isInitialPresenceSent=!0,this.publishConnectionEvent("ON_XMPP_CONNECTED",{reason:"PRESENCE"})),this.contactServiceReady?this.publishContactEvent("ON_CONTACT_PRESENCE_EVENT",u):(s.default.info("[xmppService] Receive presence message but contact service is not ready yet"),this.presenceWaitingList.push(u))}return!0}catch(t){return!0}}getPresenceWaitingList(){return this.presenceWaitingList}resetPresenceWaitingList(){this.presenceWaitingList=[]}addHistoryHandler(e){this.historyHandler=e}addBulkHistoryHandler(e){this.bulkHistoryHandler=e}addSearchTextHandler(e){this.searchTextHandler=e}addHistoryCallLogsHandler(e){this.callLogHandler=e}onMamBulkMessageReceived(e){try{this.bulkHistoryHandler(e)}catch(t){return!0}return!0}onMamMessageReceived(e){try{let t=f(e).find("result").attr("queryid");return t||(t=f(e).find("fin").attr("queryid")),t&&(-1!==t.indexOf("tel_")||-1!==t.indexOf("cache_"))&&this.historyHandler?this.historyHandler(e):this.callLogHandler&&this.callLogHandler(e),!0}catch(t){return!0}}onSearchTextMessageReceived(e){try{let t=angular.element(e).find("result").attr("queryid");return t||(t=angular.element(e).find("fin").attr("queryid")),this.searchTextHandler&&this.searchTextHandler(t,e),!0}catch(t){return!0}}getBareJidFromJid(e){return Strophe.getBareJidFromJid(e)}getResourceFromJid(e){return Strophe.getResourceFromJid(e)}isMobileResource(e){return-1!==e.indexOf("mobile_")}addHandler(e,t,n=null,r=null){return this.connection.addHandler(e,t,n,r)}deleteHandler(e){this.connection&&this.connection.deleteHandler(e)}isConnectedJid(e){return!(!e||0===e.length)&&e.startsWith(this.jid)}send(e){return new Promise(t=>{try{if(!this.connection&&this.stropheStatus!==Strophe.Status.CONNECTED)throw s.default.error('[xmppService] Try to send "stanza" but no xmpp connection'),new Error("No XMPP connection");this.connection.send(e)}catch(n){s.default.error("[xmppService] this.connection.send error : "+n)}t()})}sendIQ(e,t=null){return new Promise((n,r)=>{try{if(!this.connection&&this.stropheStatus!==Strophe.Status.CONNECTED)throw s.default.error('[xmppService] Try to send "iq" but no xmpp connection'),new Error("No XMPP connection");this.connection.sendIQ(e,e=>{n(e)},e=>{r(new Error(e?e.innerHTML:"XMPP request timeout"))},t&&t>_.REQUEST_TIMEOUT?t:_.REQUEST_TIMEOUT)}catch(o){s.default.error("[xmppService] this.connection.sendIQ error : "+o),r(new Error("this.connection.sendIQ error"))}})}}_.REQUEST_TIMEOUT=1e4,t.XmppService=_,t.default=_.getInstance()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(11),o=n(24);class i{constructor(){this.redirectVoIP=!1,this.automaticHookOff=!1,this.automaticHookOffTime=0,this.languageCodes=null,this.defaultLanguage={label:"English",settingCode:"en",code:"en",isoCode:"en",codeMoment:"en",unicode:"1f1ec-1f1e7"},this.languages=[this.defaultLanguage,{label:"Français",settingCode:"fr",code:"fr",isoCode:"fr",codeMoment:"fr",unicode:"1f1eb-1f1f7"},{label:"Català",settingCode:"ca",code:"ca",isoCode:"ca",codeMoment:"ca",unicode:"1f1ea-1f1f8"},{label:"Czech",settingCode:"cs",code:"cs",isoCode:"cs",codeMoment:"cs",unicode:"1F1E8-1F1FF"},{label:"Deutsch",settingCode:"de",code:"de",isoCode:"de",codeMoment:"de",unicode:"1f1e9-1f1ea"},{label:"Español",settingCode:"es-es",code:"es-es",isoCode:"es-ES",codeMoment:"es",unicode:"1f1ea-1f1f8"},{label:"Suomi",settingCode:"fi",code:"fi",isoCode:"fi",codeMoment:"fi",unicode:"1f1eb-1f1ee"},{label:"Italiano",settingCode:"it",code:"it",isoCode:"it",codeMoment:"it",unicode:"1f1ee-1f1f9"},{label:"עברית",settingCode:"he",code:"he",isoCode:"he",codeMoment:"he",unicode:"1f1ee-1f1f1"},{label:"日本語",settingCode:"ja",code:"ja",isoCode:"ja",codeMoment:"ja",unicode:"1f1ef-1f1f5"},{label:"한국어",settingCode:"ko",code:"ko",isoCode:"ko",codeMoment:"ko",unicode:"1f1f0-1f1f7"},{label:"Nederlands",settingCode:"nl",code:"nl",isoCode:"nl",codeMoment:"nl",unicode:"1F1F3-1F1F1"},{label:"Nynorsk",settingCode:"no",code:"no",isoCode:"no",codeMoment:"nn",unicode:"1F1F3-1F1F4"},{label:"Português do Brasil",settingCode:"pt-br",code:"pt-BR",isoCode:"pt-BR",codeMoment:"pt-br",unicode:"1F1E7-1F1F7"},{label:"Português",settingCode:"pt-pt",code:"pt-PT",isoCode:"pt-PT",codeMoment:"pt",unicode:"1F1F5-1F1F9"},{label:"Polski",settingCode:"pl",code:"pl",isoCode:"pl",codeMoment:"pl",unicode:"1F1F5-1F1F1"},{label:"Pусский",settingCode:"ru",code:"ru",isoCode:"ru",codeMoment:"ru",unicode:"1F1F7 1F1FA"},{label:"Svenskt",settingCode:"sv-se",code:"sv-SE",isoCode:"sv-SE",codeMoment:"sv",unicode:"1F1F8-1F1EA"},{label:"Türkçe",settingCode:"tr",code:"tr",isoCode:"tr",codeMoment:"tr",unicode:"1f1f9-1f1f7"},{label:"中文",settingCode:"zh-cn",code:"zh-cn",isoCode:"zh-CN",codeMoment:"zh-cn",unicode:"1f1e8-1f1f3"},{label:"繁體中文",settingCode:"zh-tw",code:"zh-TW",isoCode:"zh-TW",codeMoment:"zh-tw",unicode:"1F1F9-1F1FC"},{label:"العربية",settingCode:"ar",code:"ar",isoCode:"ar",codeMoment:"ar",unicode:"0600–06FF"}],this.settings={init:!0,lang:"en",imSound:"true",imNotif:"true",displayOrder:"FL",nbMaxConversations:"100",microphone:"default",headsetMicrophone:null,speakerphoneMicrophone:null,customMicrophone:null,headsetDeviceName:null,speakerphoneDeviceName:null,speaker:"default",headsetSpeaker:null,speakerphoneSpeaker:null,customSpeaker:null,ringingSpeaker:"default",ringingSpeakerName:"",camera:"default",cameraUsed:"",audioProfile:"handfree",currentDevice:null,iceConfig:null,sdk:!1,userWiewOrderType:"lastname",userWiewFilterType:"all",autoStartAnimatedGif:"false",fixedLayout:"false",theme:"default",translationMsg:"false",newUI:"false",autoAcceptRoomInvite:"false",server:null,activeAlarm:"relax1",activeNotif:"stairs",devMode:"false",hasSecondRinger:"false",validationMode:"false",disableCalendarPresence:"false",deviceList:"[]",displayFilesType:"filesListCell--as-grid",displayRoomsAsGrid:"true",handFreeInputDeviceName:null,handFreeOutputDeviceName:null,customSpeakerName:null,customMicrophoneName:null,showBodyMessage:"false",bubblesFilterType:"all",bubblesOrderType:"lastActivityDate",webinarsFilterType:"all",webinarsOrderType:"lastActivityDate",displayWebinarsAsGrid:"false",protectionAgainstMailTypeOffline:!1,channelMarkdown:"false",chrisPrankMode:"true",searchFilterValue:"NoFiltering",enableSingleSignOnWebAuthPopup:"false",enableSingleSignOnConfig:"false",extension:"false",enableDSCP:!1,filterIce:!1,dtx:!1,simulcast:!1,debugWebRTC:!1,unifiedPlan:!1,sipWiseMode:"false",fontSize:"62.5%",lastInactiveBubbleShownDate:null,meetingsOrderType:"lastActivityDate",meetingsFilterType:"all",filesOrderBy:"date",filesFilterBy:"all",enterKeyAction:"enterSend",activeTalker:!1,forceConsoleLog:!1,sfuJoinBundle:!1,geoip:"",applyCalendarPresence:!1,informationImSound:"ding",importantImSound:"important",emergencyImSound:"emergency",showNewAnalytics:!1,analyticsValidationMode:!1,sfuCustomMuteMode:!1,ccdPhoneTypeSelected:"computer",ccdProACDNumber:"",ccdOtherPhoneNumber:"",webrtcStats:"false",webrtcBundle:"false"},this.updateSubject=new r.Subject}static getInstance(){const e=window;return e.rainbow||(e.rainbow={}),e.rainbow.settingsService||(e.rainbow.settingsService=new i),e.rainbow.settingsService}configure(e=null){this.redirectVoIP="true"===localStorage.getItem("redirectVoIP"),this.languageCodes=this.languages.map(e=>e.settingCode);const t=this.getLocalStorageSettings();if(t.init)e&&(t.lang=this.getMappedLanguage(e),this.setAppliLanguageCode(t.lang)),Object.keys(t).forEach(e=>{null!==t[e]&&(this.settings[e]=t[e])});else{const t=navigator,n=t.languages?t.languages[0]:t.language||t.userLanguage,r=e||n;this.settings.lang=this.getMappedLanguage(r),this.setAppliLanguageCode(this.settings.lang),Object.keys(this.settings).forEach(e=>{localStorage.setItem(e,this.settings[e])})}this.sendUpdateEvent(o.RBEvent.create("SETTINGS_UPDATED"))}setSetting(e,t){this.settings[e]=t,localStorage.setItem(e,t)}getSetting(e){return this.settings[e]}getBooleanSetting(e){return"true"===this.settings[e]}sendUpdateEvent(e){this.updateSubject.next(e)}subscribeUpdateEvent(e,t){return this.updateSubject.subscribe(n=>{n.name===e&&t(n.data)})}getLocalStorageSettings(){const e={};return Object.keys(this.settings).forEach(t=>{e[t]=localStorage.getItem(t)}),e.nbMaxConversations?parseInt(e.nbMaxConversations,10)<15&&this.setSetting("nbMaxConversations","15"):e.nbMaxConversations=this.settings.nbMaxConversations,"default"===e.headsetMicrophone&&(e.headsetMicrophone=null),"default"===e.headsetSpeaker&&(e.headsetSpeaker=null),"default"===e.speakerphoneMicrophone&&(e.speakerphoneMicrophone=null),"default"===e.speakerphoneSpeaker&&(e.speakerphoneSpeaker=null),"default"===e.customMicrophone&&(e.customMicrophone=null),"default"===e.customSpeaker&&(e.customSpeaker=null),e}getRedirectVoIP(){return this.redirectVoIP}setRedirectVoIP(e){this.redirectVoIP=e,localStorage.setItem("redirectVoIP",e.toString())}isAutomaticHookOff(){return this.automaticHookOff}setAutomaticHookOff(e){this.automaticHookOff=e}getAutomaticHookOffTime(){return this.automaticHookOffTime}setAutomaticHookOffTime(e){this.automaticHookOffTime=e}setIceConfig(e){this.settings.iceConfig=e}getAvailableLanguages(){return this.languages}getAppliLanguage(){const e=this.languages.filter(e=>e.settingCode===this.settings.lang)[0];return e||this.defaultLanguage}getAppliLanguageCodeForServer(){const e=this.settings.lang.split("-");return 1===e.length?this.settings.lang:e[0]+"-"+e[1].toUpperCase()}setAppliLangageCodeFromServer(e){const t=e.split("-");let n=t[0];n&&(n=n.toLowerCase()),2===t.length&&(n+="-"+t[1].toLowerCase()),n=this.getMappedLanguage(n),n=this.languageCodes.indexOf(n)>=0?n:"en",this.setAppliLanguageCode(n)}setAppliLanguageCode(e,t=!1){t?this.setSetting("lang",e):this.settings.lang=e,this.sendUpdateEvent(o.RBEvent.create("LANGUAGE_UPDATED",e))}getBestLanguageForIsoCode(e){const t=this.getLanguageByIsoCode(e);if(t)return t;if(-1!==e.indexOf("-")){const t=e.split("-")[0];return this.getLanguageByIsoCode(t)}return this.getLanguageByIsoCode("en")}getSimpleLanguageCode(e){if(!e)return"en";const t=e.toLowerCase();return-1!==t.indexOf("-")?t.split("-")[0]:"en"}getLanguageByIsoCode(e){return this.languages.find(t=>t.isoCode===e)}getMappedLanguage(e){if(!e)return"en";const t=e.toLowerCase();switch(t.split("-")[0]){case"ar":return"ar";case"ca":return"ca";case"cs":return"cs";case"en":return"en";case"fr":return"fr";case"de":return"de";case"es":return"es-es";case"fi":return"fi";case"it":return"it";case"he":return"he";case"ja":return"ja";case"ko":return"ko";case"nl":return"nl";case"no":return"no";case"pt":return"pt-br"===t?"pt-br":"pt-pt";case"pl":return"pl";case"ru":return"ru";case"sv":return"sv-se";case"tr":return"tr";case"zh":return["zh-cn","zh-tw"].indexOf(t)>=0?t:"zh-cn";default:return"en"}}}t.SettingsService=i,t.default=i.getInstance()},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3),i=n(5),s=n(0),a=n(11),l=n(24),c=n(318),u=n(2);class d{constructor(){this.FeaturesEnum={COMPANY_ADMIN_COUNT:"COMPANY_ADMIN_COUNT",COMPANY_LOGO_MODIFICATION:"COMPANY_LOGO_MODIFICATION",COMPANY_DOMAIN_NAME_MODIFICATION:"COMPANY_DOMAIN_NAME_MODIFICATION",COMPANY_DETAILS_MODIFICATION:"COMPANY_DETAILS_MODIFICATION",COMPANY_SINGLE_SIGN_ON_SAML:"COMPANY_SINGLE_SIGN_ON_SAML",COMPANY_SINGLE_SIGN_ON_OIDC:"COMPANY_SINGLE_SIGN_ON_OIDC",WEBRTC_FOR_MOBILE:"WEBRTC_FOR_MOBILE",BUBBLE_PARTICIPANT_COUNT:"BUBBLE_PARTICIPANT_COUNT",TELEPHONY_BASIC_CALL:"TELEPHONY_BASIC_CALL",TELEPHONY_SECOND_CALL:"TELEPHONY_SECOND_CALL",TELEPHONY_TRANSFER_CALL:"TELEPHONY_TRANSFER_CALL",TELEPHONY_CONFERENCE_CALL:"TELEPHONY_CONFERENCE_CALL",TELEPHONY_DEFLECT_CALL:"TELEPHONY_DEFLECT_CALL",TELEPHONY_PHONE_BOOK:"TELEPHONY_PHONE_BOOK",TELEPHONY_VOICE_MAIL:"TELEPHONY_VOICE_MAIL",TELEPHONY_CALL_FORWARD:"TELEPHONY_CALL_FORWARD",TELEPHONY_NOMADIC:"TELEPHONY_NOMADIC",CONFERENCE_PARTICIPANT_COUNT:"CONFERENCE_PARTICIPANT_COUNT",WEBRTC_CONFERENCE_ALLOWED:"WEBRTC_CONFERENCE_ALLOWED",WEBRTC_CONFERENCE_PARTICIPANT_COUNT:"WEBRTC_CONFERENCE_PARTICIPANT_COUNT",WEBRTC_PARTICIPANT_ALLOWED:"WEBRTC_PARTICIPANT_ALLOWED",CONFERENCE_ALLOWED:"CONFERENCE_ALLOWED",CONFERENCE_DIAL_OUT:"CONFERENCE_DIAL_OUT",CONFERENCE_RECORDING:"CONFERENCE_RECORDING",MSO365_CALENDAR_PRESENCE:"MSO365_CALENDAR_PRESENCE",MSO365_DIRECTORY_PROVISIONING:"MSO365_DIRECTORY_PROVISIONING",MSO365_DIRECTORY_SEARCH:"MSO365_DIRECTORY_SEARCH",MSO365_CONTACT_SEARCH:"MSO365_CONTACT_SEARCH",MS_OUTLOOK_PLUGIN:"MS_OUTLOOK_PLUGIN",MS_SKYPE_PLUGIN:"MS_SKYPE_PLUGIN",FILE_SHARING_QUOTA_GB:"FILE_SHARING_QUOTA_GB",GOOGLE_CALENDAR_PRESENCE:"GOOGLE_CALENDAR_PRESENCE",WEBRTC_P2P_RECORDING:"WEBRTC_P2P_RECORDING",BUBBLE_PROMOTE_MEMBER:"BUBBLE_PROMOTE_MEMBER",BUBBLE_GUESTS_ALLOWED:"BUBBLE_GUESTS_ALLOWED",BUBBLE_ACTIVE_SPEAKER:"BUBBLE_ACTIVE_SPEAKER",TELEPHONY_WEBRTC_GATEWAY:"TELEPHONY_WEBRTC_GATEWAY",TELEPHONY_WEBRTC_PSTN_CALLING:"TELEPHONY_WEBRTC_PSTN_CALLING",ANALYTICS_DASHBOARD_EC:"ANALYTICS_DASHBOARD_EC",ANALYTICS_DASHBOARD_BP:"ANALYTICS_DASHBOARD_BP",TELEPHONY_CALL_SUBJECT:"CALL_SUBJECT",CHANNEL_CREATE:"CHANNEL_CREATE",CHANNEL_CREATE_ADMIN_ROLE_BYPASS:"CHANNEL_CREATE_ADMIN_ROLE_BYPASS",CHANNEL_ACTIVATED:"CHANNEL_ACTIVATED",MANAGE_ANDROID_TV:"MANAGE_ANDROID_TV",USE_ANDROID_TV:"USE_ANDROID_TV",MASSPRO_USER_PROVISIONING_CSV:"MASSPRO_USER_PROVISIONING_CSV",SEARCH_BY_TAGS:"SEARCH_BY_TAGS",TELEPHONY_3DPARTY_ASSOC:"TELEPHONY_3DPARTY_ASSOC",WEBCLIENT_UI_2_0:"WEBCLIENT_UI_2_0",WEBRTC_UNIFIED_PLAN:"WEBRTC_UNIFIED_PLAN",WEBRTC_CONFERENCE_SIMULCAST:"WEBRTC_CONFERENCE_SIMULCAST",USE_CLOUD_PBX:"USE_CLOUD_PBX",USE_OXO_MANAGED_PBX:"USE_OXO_MANAGED_PBX",SOFTPHONE_MODE_ONLY:"SOFTPHONE_MODE_ONLY",GIVE_REQUEST_REMOTE_CONTROL:"GIVE_REQUEST_REMOTE_CONTROL",BUBBLE_MAX_LOAD_STARTUP:"BUBBLE_MAX_LOAD_STARTUP",BUBBLE_COUNT:"BUBBLE_COUNT",BUBBLE_MEETING_SCHEDULER:"BUBBLE_MEETING_SCHEDULER",BUBBLE_TALKING_TIME:"BUBBLE_TALKING_TIME",APP_PERMISSIONS:"APP_PERMISSIONS",FREE_UI_CUSTOMIZATION:"FREE_UI_CUSTOMIZATION",PREMIUM_UI_CUSTOMIZATION:"PREMIUM_UI_CUSTOMIZATION",TELEPHONY_MAKE_CALL_CTI_APP:"TELEPHONY_MAKE_CALL_CTI_APP",CLOUD_PBX_WELCOME:"CLOUD_PBX_WELCOME",BUBBLE_TAG_COUNT:"BUBBLE_TAG_COUNT",TELEPHONY_CCD_AGENT:"TELEPHONY_CCD_AGENT",ALERT_NOTIFICATIONS_ALLOWED:"ALERT_NOTIFICATIONS_ALLOWED",BUBBLE_FOLDER_COUNT:"BUBBLE_FOLDER_COUNT",BUBBLE_POP_OUT_VIDEO_SHARING:"BUBBLE_POP_OUT_VIDEO_SHARING"},this.started=!1,this.features={},this.profiles=[],this.mainOffers=[],this.thirdPartyApps=null,this.profileEventHandler=null,this.rxSubject=new a.Subject,this.timer=null,this.contactService=u.default}static getInstance(){const e=window;return e.rainbow||(e.rainbow={}),e.rainbow.profileService||(e.rainbow.profileService=new d),e.rainbow.profileService}start(){return r(this,void 0,void 0,(function*(){try{s.default.info(""),s.default.info("[profileService] === STARTING ==="),this.attachHandlers(),yield this.getServerProfile(),this.started=!0,s.default.info("[profileService] === STARTED ==="),this.rxSubject.next(l.RBEvent.create("ON_PROFILE_FEATURES_UPDATED"))}catch(e){throw s.default.info("[profileService] === STARTING FAILURE === "+e.message),e}}))}stop(){return r(this,void 0,void 0,(function*(){s.default.info("[profileService] === STOPPING ==="),this.detachHandlers(),this.started=!1,s.default.info("[profileService] === STOPPED ===")}))}reconnect(){this.restart()}restart(){s.default.info("[profileService] === RESTART ==="),this.attachHandlers(),this.onUserUpdateNeeded()}subscribe(e){return this.rxSubject.subscribe(e)}attachHandlers(){this.detachHandlers(),s.default.info("[profileService] attachHandlers"),this.profileEventHandler=i.default.addHandler(e=>this.onManagementMessageReceived(e),null,"message","management")}detachHandlers(){s.default.info("[profileService] detachHandlers"),this.profileEventHandler&&(i.default.deleteHandler(this.profileEventHandler),this.profileEventHandler=null)}onManagementMessageReceived(e){try{const t=$(e).find("userprofile");if(s.default.info("[profileService] onManagementMessageReceived  -- on userprofile management message received"),t.length)switch(t.attr("action")){case"create":case"update":case"delete":this.onUserUpdateNeeded();break;default:s.default.info("[profileService] onManagementMessageReceived  -- unknown action")}return!0}catch(t){return s.default.error("[profileService] onManagementMessageReceived ERROR "+t),!0}}onUserUpdateNeeded(){this.timer||(this.timer=setTimeout(()=>r(this,void 0,void 0,(function*(){try{yield this.getServerProfile(),this.rxSubject.next(l.RBEvent.create("ON_PROFILE_FEATURES_UPDATED")),this.timer=null}catch(e){this.timer=null,s.default.info("[profileService] === onUserUpdateNeeded FAILURE === "+e.message)}})),3e3))}getServerProfile(){return Promise.all([this.getServerProfiles(),this.getServerProfilesFeatures()])}getServerProfiles(){return r(this,void 0,void 0,(function*(){try{const e=`${config.restServerUrl}/api/rainbow/enduser/v1.0/users/${this.contactService.userContact.dbId}/profiles`,t=o.default.getRequestHeader(),n=yield fetch(e,{method:"GET",headers:t});if(!n.ok)throw n;const r=yield n.json();this.profiles=[],this.mainOffers=[],r.data.forEach(e=>{s.default.debug("[profileService] getServerProfiles === response === "+e),this.profiles.push(e);const t=c.Offer.createFromProfileData(e);(t.isExclusive||t.isDefault)&&this.mainOffers.push(t)}),this.mainOffers.sort(c.Offer.offerComparator)}catch(e){let t="getServerProfiles failure: no server response";throw e&&(t="getServerProfiles failure: "+JSON.stringify(e)),s.default.error("[profileService] "+t),new Error(t)}}))}getServerProfilesFeatures(){return r(this,void 0,void 0,(function*(){try{const e=`${config.restServerUrl}/api/rainbow/enduser/v1.0/users/${this.contactService.userContact.dbId}/profiles/features`,t=o.default.getRequestHeader(),n=yield fetch(e,{method:"GET",headers:t});if(!n.ok)throw n;const r=yield n.json();this.features={},r.data.forEach(e=>{s.default.debug("[profileService] getServerProfilesFeatures === response === "+JSON.stringify(e)),e.hasOwnProperty("featureUniqueRef")&&(this.features[e.featureUniqueRef]=e)})}catch(e){let t="getServerProfilesFeatures failure: no server response";throw e&&(t="getServerProfilesFeatures failure: "+JSON.stringify(e)),s.default.error("[profileService] "+t),new Error(t)}}))}isFeatureEnabled(e,t=null){return t||(t=this.features),!(!config.urgencyNotifReceptionForced||"ALERT_NOTIFICATIONS_ALLOWED"!==e)||(this.started&&t.hasOwnProperty(e)&&t[e].hasOwnProperty("featureType")&&"boolean"===t[e].featureType&&t[e].hasOwnProperty("isEnabled")?t[e].isEnabled:(s.default.info("[profileService] isFeatureEnabled("+e+"): service not started or feature not enabled"),!1))}getFeatureLimitMax(e){if(this.started&&this.features.hasOwnProperty(e)&&this.features[e].hasOwnProperty("featureType")&&"number"===this.features[e].featureType&&this.features[e].hasOwnProperty("limitMax")){const t=this.features[e].limitMax;return s.default.debug("[profileService] getFeatureLimitMax("+e+"): "+t),t}return s.default.info("[profileService] getFeatureLimitMax("+e+"): service not started or feature not enabled"),0}getFeatureLimitMin(e){if(this.started&&this.features.hasOwnProperty(e)&&this.features[e].hasOwnProperty("featureType")&&"number"===this.features[e].featureType&&this.features[e].hasOwnProperty("limitMin")){const t=this.features[e].limitMin;return s.default.debug("[profileService] getFeatureLimitMin("+e+"): "+t),t}return s.default.info("[profileService] getFeatureLimitMin("+e+"): service not started or feature not enabled"),0}getMyProfileOffer(){return this.mainOffers.length>0?this.mainOffers.slice(-1)[0]:null}getMyProfileName(){const e=this.getMyProfileOffer();return e?e.name:null}getMyProfiles(){let e=[];return this.started?e=this.profiles:s.default.warn("[profileService] getMyProfiles(): service not started"),e}getMyProfileFeatures(){const e={};return this.started?Object.keys(this.features).forEach(t=>{const n=this.features[t],r={};Object.keys(n).filter(e=>"featureUniqueRef"===e||"featureType"===e||"limitMin"===e||"limitMax"===e||"isEnabled"===e).forEach(e=>{r[e]=n[e]}),e[t]=r}):s.default.warn("[profileService] getMyProfileFeatures(): service not started"),e}getThirdPartyApps(e=!1){return r(this,void 0,void 0,(function*(){try{if(null!==this.thirdPartyApps&&!e)return s.default.info("[profileService] getThirdPartyApps -- from cache"),this.thirdPartyApps;const t=config.restServerUrl+"/api/rainbow/authentication/v1.0/oauth/tokens?format=medium",n=o.default.getRequestHeader(),r=yield fetch(t,{method:"GET",headers:n});if(!r.ok)throw r;const i=yield r.json();return s.default.info("[profileService] getThirdPartyApps from server -- success"),this.thirdPartyApps=i&&i.data?i.data:[],this.thirdPartyApps}catch(t){let e="getThirdPartyApps from server failed -- no answer from server";throw t&&(e="getThirdPartyApps from server failed -- "+JSON.stringify(t)),s.default.error("[profileService] "+e),new Error(e)}}))}revokeThirdPartyAccess(e){return r(this,void 0,void 0,(function*(){try{if(!e)throw s.default.warn("[profileService] revokeThirdPartyAccess missing token"),new Error("No tokenId");s.default.info("[profileService] revokeThirdPartyAccess with token -- "+e);const t=`${config.restServerUrl}/api/rainbow/authentication/v1.0/oauth/tokens/${e}`,n=o.default.getRequestHeader(),r=yield fetch(t,{method:"DELETE",headers:n});if(!r.ok)throw r;const i=yield r.json();return s.default.info("[profileService] revokeThirdPartyAccess -- success"),this.thirdPartyApps=i&&i.data?i.data:[],this.thirdPartyApps.forEach((t,n)=>{t.id===e&&this.thirdPartyApps.splice(n,1)}),this.thirdPartyApps}catch(t){let e="revokeThirdPartyAccess from server failed -- no answer from server";throw t&&(e="revokeThirdPartyAccess from server failed -- "+JSON.stringify(t)),s.default.error("[profileService] "+e),new Error(e)}}))}getProfilesByName(e){return this.profiles.filter(t=>-1!==t.profileName.toLowerCase().indexOf(e))}setUserData(e){return r(this,void 0,void 0,(function*(){try{const t=`${config.restServerUrl}/api/rainbow/enduser/v1.0/users/${u.default.userContact.dbId}`,n=o.default.getPostHeader(),r=JSON.stringify(e),i=yield fetch(t,{method:"PUT",headers:n,body:r});if(!i.ok)throw i;const a=yield i.json();return s.default.info(`[profileService] setUserData ${r} -- success`),a}catch(t){let e="setUserData failure: no server response";throw t&&(e="setUserData failure: "+JSON.stringify(t)),s.default.error("[profileService] "+e),new Error(e)}}))}}t.ProfileService=d,t.default=d.getInstance()},function(e,t,n){n.d(t,"a",(function(){return o}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}},function(e,t,n){n.d(t,"a",(function(){return u}));var r=n(51),o=n(12),i=n(41),s=n(53),a=n(30),l=n(62),c=n(21),u=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,a=function(e,t,n){if(e){if(e instanceof o.a)return e;if(e[i.a])return e[i.a]()}return e||t||n?new o.a(e,t,n):new o.a(s.a)}(e,t,n);if(r?a.add(r.call(a,this.source)):a.add(this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){c.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),Object(r.a)(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=d(t))((function(t,r){var o;o=n.subscribe((function(t){try{e(t)}catch(n){r(n),o&&o.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[a.a]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:Object(l.b)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=d(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function d(e){if(e||(e=c.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(29),o=new class{constructor(){}sdk(e){if(r.sdkConfig.verboseLog){const t=(new Date).toUTCString();e=e||"",console.log("%c"+t+" | Rainbow Web SDK  | "+e,"color:green")}}webrtc(e){if(r.sdkConfig.verboseLog){const t=(new Date).toUTCString();console.log("%c"+t+" | RTCWEB | "+e,"color:green")}}info(e){if(r.sdkConfig.verboseLog){const t=(new Date).toUTCString();console.info("%c"+t+" | Rainbow Web SDK  | "+e,"color:green")}}warn(e){if(r.sdkConfig.verboseLog){const t=(new Date).toUTCString();console.warn(t+" | Rainbow Web SDK  | "+e)}}error(e){if(r.sdkConfig.verboseLog){const t=(new Date).toUTCString();console.error(t+" | Rainbow Web SDK  | "+e)}}debug(e){if(r.sdkConfig.verboseLog){const t=(new Date).toUTCString();console.debug("%c"+t+" | Rainbow Web SDK  | "+e,"color:green")}}time(e){r.sdkConfig.measurePerformance&&console.time(e)}timeLog(e){r.sdkConfig.measurePerformance&&console.timeLog(e)}timeEnd(e){r.sdkConfig.measurePerformance&&console.timeEnd(e)}};t.rainbowLogger=o},function(e,t,n){n.r(t),n.d(t,"Observable",(function(){return r.a})),n.d(t,"ConnectableObservable",(function(){return u})),n.d(t,"GroupedObservable",(function(){return f})),n.d(t,"observable",(function(){return h.a})),n.d(t,"Subject",(function(){return i.a})),n.d(t,"BehaviorSubject",(function(){return p.a})),n.d(t,"ReplaySubject",(function(){return L})),n.d(t,"AsyncSubject",(function(){return B})),n.d(t,"asap",(function(){return z})),n.d(t,"asapScheduler",(function(){return V})),n.d(t,"async",(function(){return J})),n.d(t,"asyncScheduler",(function(){return K})),n.d(t,"queue",(function(){return y})),n.d(t,"queueScheduler",(function(){return D})),n.d(t,"animationFrame",(function(){return Z})),n.d(t,"animationFrameScheduler",(function(){return X})),n.d(t,"VirtualTimeScheduler",(function(){return ee})),n.d(t,"VirtualAction",(function(){return te})),n.d(t,"Scheduler",(function(){return v})),n.d(t,"Subscription",(function(){return a.a})),n.d(t,"Subscriber",(function(){return s.a})),n.d(t,"Notification",(function(){return I})),n.d(t,"NotificationKind",(function(){return w})),n.d(t,"pipe",(function(){return ne.a})),n.d(t,"noop",(function(){return re})),n.d(t,"identity",(function(){return oe.a})),n.d(t,"isObservable",(function(){return ie})),n.d(t,"ArgumentOutOfRangeError",(function(){return se})),n.d(t,"EmptyError",(function(){return ae})),n.d(t,"ObjectUnsubscribedError",(function(){return R.a})),n.d(t,"UnsubscriptionError",(function(){return le.a})),n.d(t,"TimeoutError",(function(){return ce})),n.d(t,"bindCallback",(function(){return pe})),n.d(t,"bindNodeCallback",(function(){return ve})),n.d(t,"combineLatest",(function(){return Pe})),n.d(t,"concat",(function(){return Ge})),n.d(t,"defer",(function(){return Ve})),n.d(t,"empty",(function(){return S})),n.d(t,"forkJoin",(function(){return ze})),n.d(t,"from",(function(){return Le})),n.d(t,"fromEvent",(function(){return Qe})),n.d(t,"fromEventPattern",(function(){return Xe})),n.d(t,"generate",(function(){return Ze})),n.d(t,"iif",(function(){return tt})),n.d(t,"interval",(function(){return rt})),n.d(t,"merge",(function(){return it})),n.d(t,"never",(function(){return at})),n.d(t,"of",(function(){return k})),n.d(t,"onErrorResumeNext",(function(){return lt})),n.d(t,"pairs",(function(){return ct})),n.d(t,"partition",(function(){return pt})),n.d(t,"race",(function(){return mt})),n.d(t,"range",(function(){return bt})),n.d(t,"throwError",(function(){return O})),n.d(t,"timer",(function(){return yt})),n.d(t,"using",(function(){return St})),n.d(t,"zip",(function(){return Et})),n.d(t,"scheduled",(function(){return Fe})),n.d(t,"EMPTY",(function(){return C})),n.d(t,"NEVER",(function(){return st})),n.d(t,"config",(function(){return Ot.a}));var r=n(9),o=n(8),i=n(23),s=n(12),a=n(14),l=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new c(e,n),o=t.subscribe(r);return r.closed||(r.connection=n.connect()),o},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return o.a(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(s.a),u=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return o.a(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.a).add(this.source.subscribe(new d(this.getSubject(),this))),e.closed&&(this._connection=null,e=a.a.EMPTY)),e},t.prototype.refCount=function(){return(e=this).lift(new l(e));var e},t}(r.a),d=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return o.a(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(i.b);s.a,s.a;(function(e){function t(t,n,r){var o=e.call(this,n)||this;return o.key=t,o.group=n,o.parent=r,o}o.a(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)}})(s.a);var f=function(e){function t(t,n,r){var o=e.call(this)||this;return o.key=t,o.groupSubject=n,o.refCountSubscription=r,o}return o.a(t,e),t.prototype._subscribe=function(e){var t=new a.a,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new _(n)),t.add(r.subscribe(e)),t},t}(r.a),_=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return o.a(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(a.a),h=n(30),p=n(77),m=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return o.a(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(o){n=!0,r=!!o&&o||new Error(o)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return o.a(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(a.a)),g=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return o.a(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(m),v=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),b=function(e){function t(n,r){void 0===r&&(r=v.now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return o.a(t,e),t.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,o):e.prototype.schedule.call(this,n,r,o)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(v),D=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.a(t,e),t}(b))(g),y=D,C=new r.a((function(e){return e.complete()}));function S(e){return e?function(e){return new r.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):C}function E(e){return e&&"function"==typeof e.schedule}var w,T=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}};function M(e,t){return new r.a((function(n){var r=new a.a,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function j(e,t){return t?M(e,t):new r.a(T(e))}function k(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return E(n)?(e.pop(),M(e,n)):j(e)}function O(e,t){return t?new r.a((function(n){return t.schedule(A,0,{error:e,subscriber:n})})):new r.a((function(t){return t.error(e)}))}function A(e){var t=e.error;e.subscriber.error(t)}w||(w={});var I=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return k(this.value);case"E":return O(this.error);case"C":return S()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}(),P=function(e){function t(t,n,r){void 0===r&&(r=0);var o=e.call(this,t)||this;return o.scheduler=n,o.delay=r,o}return o.a(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new x(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(I.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(I.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(I.createComplete()),this.unsubscribe()},t}(s.a),x=function(){return function(e,t){this.notification=e,this.destination=t}}(),R=n(31),F=n(63),L=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var o=e.call(this)||this;return o.scheduler=r,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=t<1?1:t,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return o.a(t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new N(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,i=r.length;if(this.closed)throw new R.a;if(this.isStopped||this.hasError?t=a.a.EMPTY:(this.observers.push(e),t=new F.a(this,e)),o&&e.add(e=new P(e,o)),n)for(var s=0;s<i&&!e.closed;s++)e.next(r[s]);else for(s=0;s<i&&!e.closed;s++)e.next(r[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||y).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,o=r.length,i=0;i<o&&!(e-r[i].time<n);)i++;return o>t&&(i=Math.max(i,o-t)),i>0&&r.splice(0,i),r},t}(i.a),N=function(){return function(e,t){this.time=e,this.value=t}}(),B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return o.a(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),a.a.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),a.a.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(i.a),U=1,H=function(){return Promise.resolve()}(),W={};function Y(e){return e in W&&(delete W[e],!0)}var $=function(e){var t=U++;return W[t]=!0,H.then((function(){return Y(t)&&e()})),t},q=function(e){Y(e)},G=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return o.a(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=$(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(q(n),t.scheduled=void 0)},t}(m),V=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.a(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,o=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<o&&(e=n.shift()));if(this.active=!1,t){for(;++r<o&&(e=n.shift());)e.unsubscribe();throw t}},t}(b))(G),z=V,K=new b(m),J=K,Q=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return o.a(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(m),X=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.a(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,o=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<o&&(e=n.shift()));if(this.active=!1,t){for(;++r<o&&(e=n.shift());)e.unsubscribe();throw t}},t}(b))(Q),Z=X,ee=function(e){function t(t,n){void 0===t&&(t=te),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this,t,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return o.a(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(b),te=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var o=e.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.index=r,o.active=!0,o.index=t.index=r,o}return o.a(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(n,r)},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var o=e.actions;return o.push(this),o.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(m),ne=n(62);function re(){}var oe=n(35);function ie(e){return!!e&&(e instanceof r.a||"function"==typeof e.lift&&"function"==typeof e.subscribe)}var se=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}(),ae=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),le=n(42),ce=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}();function ue(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new de(e,t))}}var de=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new fe(e,this.project,this.thisArg))},e}(),fe=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return o.a(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(s.a),_e=n(51),he=n(17);function pe(e,t,n){if(t){if(!E(t))return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return pe(e,n).apply(void 0,r).pipe(ue((function(e){return Object(he.a)(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var i,s=this,a={context:s,subject:i,callbackFunc:e,scheduler:n};return new r.a((function(r){if(n){var o={args:t,subscriber:r,params:a};return n.schedule(me,0,o)}if(!i){i=new B;try{e.apply(s,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.next(e.length<=1?e[0]:e),i.complete()}]))}catch(l){Object(_e.a)(i)?i.error(l):console.warn(l)}}return i.subscribe(r)}))}}function me(e){var t=this,n=e.args,r=e.subscriber,o=e.params,i=o.callbackFunc,s=o.context,a=o.scheduler,l=o.subject;if(!l){l=o.subject=new B;try{i.apply(s,n.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length<=1?e[0]:e;t.add(a.schedule(ge,0,{value:r,subject:l}))}]))}catch(c){l.error(c)}}this.add(l.subscribe(r))}function ge(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function ve(e,t,n){if(t){if(!E(t))return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return ve(e,n).apply(void 0,r).pipe(ue((function(e){return Object(he.a)(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var i={subject:void 0,args:t,callbackFunc:e,scheduler:n,context:this};return new r.a((function(r){var o=i.context,s=i.subject;if(n)return n.schedule(be,0,{params:i,subscriber:r,context:o});if(!s){s=i.subject=new B;try{e.apply(o,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.shift();n?s.error(n):(s.next(e.length<=1?e[0]:e),s.complete())}]))}catch(a){Object(_e.a)(s)?s.error(a):console.warn(a)}}return s.subscribe(r)}))}}function be(e){var t=this,n=e.params,r=e.subscriber,o=e.context,i=n.callbackFunc,s=n.args,a=n.scheduler,l=n.subject;if(!l){l=n.subject=new B;try{i.apply(o,s.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.shift();if(r)t.add(a.schedule(ye,0,{err:r,subject:l}));else{var o=e.length<=1?e[0]:e;t.add(a.schedule(De,0,{value:o,subject:l}))}}]))}catch(c){this.add(a.schedule(ye,0,{err:c,subject:l}))}}this.add(l.subscribe(r))}function De(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function ye(e){var t=e.err;e.subject.error(t)}var Ce=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.a(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(s.a),Se=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=r,o.index=0,o}return o.a(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(s.a),Ee=n(37);function we(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var Te=we(),Me=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function je(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var ke=n(50),Oe=function(e){if(e&&"function"==typeof e[h.a])return r=e,function(e){var t=r[h.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Me(e))return T(e);if(je(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,Ee.a),e};if(e&&"function"==typeof e[Te])return t=e,function(e){for(var n=t[Te]();;){var r=void 0;try{r=n.next()}catch(o){return e.error(o),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,r,o=Object(ke.a)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+o+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function Ae(e,t,n,o,i){if(void 0===i&&(i=new Se(e,n,o)),!i.closed)return t instanceof r.a?t.subscribe(i):Oe(t)(i)}var Ie={};function Pe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=void 0,r=void 0;return E(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(he.a)(e[0])&&(e=e[0]),j(e,r).lift(new xe(n))}var xe=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new Re(e,this.resultSelector))},e}(),Re=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return o.a(t,e),t.prototype._next=function(e){this.values.push(Ie),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Ae(this,r,void 0,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n){var r=this.values,o=r[n],i=this.toRespond?o===Ie?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(Ce);function Fe(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[h.a]}(e))return function(e,t){return new r.a((function(n){var r=new a.a;return r.add(t.schedule((function(){var o=e[h.a]();r.add(o.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(je(e))return function(e,t){return new r.a((function(n){var r=new a.a;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(Me(e))return M(e,t);if(function(e){return e&&"function"==typeof e[Te]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,o=new a.a;return o.add((function(){r&&"function"==typeof r.return&&r.return()})),o.add(t.schedule((function(){r=e[Te](),o.add(t.schedule((function(){if(!n.closed){var e,t;try{var o=r.next();e=o.value,t=o.done}catch(i){return void n.error(i)}t?n.complete():(n.next(e),this.schedule())}})))}))),o}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function Le(e,t){return t?Fe(e,t):e instanceof r.a?e:new r.a(Oe(e))}var Ne=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,n}return o.a(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(s.a),Be=(s.a,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.a(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(s.a));function Ue(e,t){if(!t.closed){if(e instanceof r.a)return e.subscribe(t);var n;try{n=Oe(e)(t)}catch(o){t.error(o)}return n}}function He(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(He((function(n,r){return Le(e(n,r)).pipe(ue((function(e,o){return t(n,e,r,o)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new We(e,n))})}s.a;var We=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new Ye(e,this.project,this.concurrent))},e}(),Ye=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=e.call(this,t)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return o.a(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new Ne(this),n=this.destination;n.add(t);var r=Ue(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(Be);function $e(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),He(oe.a,e)}function qe(){return $e(1)}function Ge(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return qe()(k.apply(void 0,e))}function Ve(e){return new r.a((function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?Le(n):S()).subscribe(t)}))}function ze(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if(Object(he.a)(n))return Ke(n,null);if(Object(ke.a)(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return Ke(r.map((function(e){return n[e]})),r)}}if("function"==typeof e[e.length-1]){var o=e.pop();return Ke(e=1===e.length&&Object(he.a)(e[0])?e[0]:e,null).pipe(ue((function(e){return o.apply(void 0,e)})))}return Ke(e,null)}function Ke(e,t){return new r.a((function(n){var r=e.length;if(0!==r)for(var o=new Array(r),i=0,s=0,a=function(a){var l=Le(e[a]),c=!1;n.add(l.subscribe({next:function(e){c||(c=!0,s++),o[a]=e},error:function(e){return n.error(e)},complete:function(){++i!==r&&c||(s===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=o[n],e}),{}):o),n.complete())}}))},l=0;l<r;l++)a(l);else n.complete()}))}var Je=n(36);function Qe(e,t,n,o){return Object(Je.a)(n)&&(o=n,n=void 0),o?Qe(e,t,n).pipe(ue((function(e){return Object(he.a)(e)?o.apply(void 0,e):o(e)}))):new r.a((function(r){!function e(t,n,r,o,i){var s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var a=t;t.addEventListener(n,r,i),s=function(){return a.removeEventListener(n,r,i)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var l=t;t.on(n,r),s=function(){return l.off(n,r)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var c=t;t.addListener(n,r),s=function(){return c.removeListener(n,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var u=0,d=t.length;u<d;u++)e(t[u],n,r,o,i)}o.add(s)}(e,t,(function(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)}),r,n)}))}function Xe(e,t,n){return n?Xe(e,t).pipe(ue((function(e){return Object(he.a)(e)?n.apply(void 0,e):n(e)}))):new r.a((function(n){var r,o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)};try{r=e(o)}catch(i){return void n.error(i)}if(Object(Je.a)(t))return function(){return t(o,r)}}))}function Ze(e,t,n,o,i){var s,a;if(1==arguments.length){var l=e;a=l.initialState,t=l.condition,n=l.iterate,s=l.resultSelector||oe.a,i=l.scheduler}else void 0===o||E(o)?(a=e,s=oe.a,i=o):(a=e,s=o);return new r.a((function(e){var r=a;if(i)return i.schedule(et,0,{subscriber:e,iterate:n,condition:t,resultSelector:s,state:r});for(;;){if(t){var o=void 0;try{o=t(r)}catch(c){return void e.error(c)}if(!o){e.complete();break}}var l=void 0;try{l=s(r)}catch(c){return void e.error(c)}if(e.next(l),e.closed)break;try{r=n(r)}catch(c){return void e.error(c)}}}))}function et(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(i){return void t.error(i)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(i){return void t.error(i)}if(!r)return void t.complete();if(t.closed)return}var o;try{o=e.resultSelector(e.state)}catch(i){return void t.error(i)}if(!t.closed&&(t.next(o),!t.closed))return this.schedule(e)}}function tt(e,t,n){return void 0===t&&(t=C),void 0===n&&(n=C),Ve((function(){return e()?t:n}))}function nt(e){return!Object(he.a)(e)&&e-parseFloat(e)+1>=0}function rt(e,t){return void 0===e&&(e=0),void 0===t&&(t=J),(!nt(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=J),new r.a((function(n){return n.add(t.schedule(ot,e,{subscriber:n,counter:0,period:e})),n}))}function ot(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}function it(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,o=null,i=e[e.length-1];return E(i)?(o=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof i&&(n=e.pop()),null===o&&1===e.length&&e[0]instanceof r.a?e[0]:$e(n)(j(e,o))}var st=new r.a(re);function at(){return st}function lt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return C;var n=e[0],o=e.slice(1);return 1===e.length&&Object(he.a)(n)?lt.apply(void 0,n):new r.a((function(e){var t=function(){return e.add(lt.apply(void 0,o).subscribe(e))};return Le(n).subscribe({next:function(t){e.next(t)},error:t,complete:t})}))}function ct(e,t){return t?new r.a((function(n){var r=Object.keys(e),o=new a.a;return o.add(t.schedule(ut,0,{keys:r,index:0,subscriber:n,subscription:o,obj:e})),o})):new r.a((function(t){for(var n=Object.keys(e),r=0;r<n.length&&!t.closed;r++){var o=n[r];e.hasOwnProperty(o)&&t.next([o,e[o]])}t.complete()}))}function ut(e){var t=e.keys,n=e.index,r=e.subscriber,o=e.subscription,i=e.obj;if(!r.closed)if(n<t.length){var s=t[n];r.next([s,i[s]]),o.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:o,obj:i}))}else r.complete()}function dt(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}function ft(e,t){return function(n){return n.lift(new _t(e,t))}}var _t=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new ht(e,this.predicate,this.thisArg))},e}(),ht=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return o.a(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)},t}(s.a);function pt(e,t,n){return[ft(t,n)(new r.a(Oe(e))),ft(dt(t,n))(new r.a(Oe(e)))]}function mt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!Object(he.a)(e[0]))return e[0];e=e[0]}return j(e,void 0).lift(new gt)}var gt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new vt(e))},e}(),vt=function(e){function t(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return o.a(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=Ae(this,e[n],void 0,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}},t.prototype.notifyNext=function(e,t,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var o=this.subscriptions[r];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(t)},t}(Ce);function bt(e,t,n){return void 0===e&&(e=0),new r.a((function(r){void 0===t&&(t=e,e=0);var o=0,i=e;if(n)return n.schedule(Dt,0,{index:o,count:t,start:e,subscriber:r});for(;;){if(o++>=t){r.complete();break}if(r.next(i++),r.closed)break}}))}function Dt(e){var t=e.start,n=e.index,r=e.count,o=e.subscriber;n>=r?o.complete():(o.next(t),o.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}function yt(e,t,n){void 0===e&&(e=0);var o=-1;return nt(t)?o=Number(t)<1?1:Number(t):E(t)&&(n=t),E(n)||(n=J),new r.a((function(t){var r=nt(e)?e:+e-n.now();return n.schedule(Ct,r,{index:0,period:o,subscriber:t})}))}function Ct(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}function St(e,t){return new r.a((function(n){var r,o;try{r=e()}catch(s){return void n.error(s)}try{o=t(r)}catch(s){return void n.error(s)}var i=(o?Le(o):C).subscribe(n);return function(){i.unsubscribe(),r&&r.unsubscribe()}}))}function Et(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),j(e,void 0).lift(new wt(n))}var wt=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new Tt(e,this.resultSelector))},e}(),Tt=function(e){function t(t,n,r){void 0===r&&(r=Object.create(null));var o=e.call(this,t)||this;return o.resultSelector=n,o.iterators=[],o.active=0,o.resultSelector="function"==typeof n?n:void 0,o}return o.a(t,e),t.prototype._next=function(e){var t=this.iterators;Object(he.a)(e)?t.push(new jt(e)):"function"==typeof e[Te]?t.push(new Mt(e[Te]())):t.push(new kt(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++)if("function"==typeof(s=e[r]).hasValue&&!s.hasValue())return;var o=!1,i=[];for(r=0;r<t;r++){var s,a=(s=e[r]).next();if(s.hasCompleted()&&(o=!0),a.done)return void n.complete();i.push(a.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),o&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(s.a),Mt=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},e}(),jt=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[Te]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),kt=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.parent=n,o.observable=r,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return o.a(t,e),t.prototype[Te]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return Ue(this.observable,new Ne(this))},t}(Be),Ot=n(21)},function(e,t,n){n.d(t,"a",(function(){return u}));var r=n(8),o=n(36),i=n(53),s=n(14),a=n(41),l=n(21),c=n(37),u=function(e){function t(n,r,o){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=i.a;break;case 1:if(!n){s.destination=i.a;break}if("object"==typeof n){n instanceof t?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new d(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new d(s,n,r,o)}return s}return r.a(t,e),t.prototype[a.a]=function(){return this},t.create=function(e,n,r){var o=new t(e,n,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(s.a),d=function(e){function t(t,n,r,s){var a,l=e.call(this)||this;l._parentSubscriber=t;var c=l;return Object(o.a)(n)?a=n:n&&(a=n.next,r=n.error,s=n.complete,n!==i.a&&(c=Object.create(n),Object(o.a)(c.unsubscribe)&&l.add(c.unsubscribe.bind(c)),c.unsubscribe=l.unsubscribe.bind(l))),l._context=c,l._next=a,l._error=r,l._complete=s,l}return r.a(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;l.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=l.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(c.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(c.a)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};l.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),l.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!l.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return l.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(u)},function(e,t,n){var r;e.exports=(r=r||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},o=r.lib={},i=o.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=o.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,o=e.sigBytes;if(this.clamp(),r%4)for(var i=0;i<o;i++){var s=n[i>>>2]>>>24-i%4*8&255;t[r+i>>>2]|=s<<24-(r+i)%4*8}else for(i=0;i<o;i+=4)t[r+i>>>2]=n[i>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],o=function(t){t=t;var n=987654321,r=4294967295;return function(){var o=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return o/=4294967296,(o+=.5)*(e.random()>.5?1:-1)}},i=0;i<t;i+=4){var a=o(4294967296*(n||e.random()));n=987654071*a(),r.push(4294967296*a()|0)}return new s.init(r,t)}}),a=r.enc={},l=a.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new s.init(n,t/2)}},c=a.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new s.init(n,t)}},u=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},d=o.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,o=n.sigBytes,i=this.blockSize,a=o/(4*i),l=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*i,c=e.min(4*l,o);if(l){for(var u=0;u<l;u+=i)this._doProcessBlock(r,u);var d=r.splice(0,l);n.sigBytes-=c}return new s.init(d,c)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),f=(o.Hasher=d.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}}),r.algo={});return r}(Math),r)},function(e,t,n){n.d(t,"a",(function(){return a}));var r=n(17),o=n(50),i=n(36),s=n(42),a=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this._parentOrParents,a=this._ctorUnsubscribe,c=this._unsubscribe,u=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var d=0;d<n.length;++d)n[d].remove(this);if(Object(i.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){t=h instanceof s.a?l(h.errors):[h]}}if(Object(r.a)(u)){d=-1;for(var f=u.length;++d<f;){var _=u[d];if(Object(o.a)(_))try{_.unsubscribe()}catch(h){t=t||[],h instanceof s.a?t=t.concat(l(h.errors)):t.push(h)}}}if(t)throw new s.a(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function l(e){return e.reduce((function(e,t){return e.concat(t instanceof s.a?t.errors:t)}),[])}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>{if(!e)return null;if(config&&config.debug)return e;let t="";return 0===e.indexOf("+")&&(t="+"),t=e.length>4?t+"*".repeat(e.length-4-t.length)+e.slice(e.length-4):e,t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(11),o=n(222);class i{constructor(e,t,n,o,s,a,l,c=null,u=null,d=null,f=null,_=null,h=null,p=null,m=null,g=null,v=null){this.urgencyAck=!1,this.urgencyHandler=null,this.translatedText=null,this.historyIndex=null,this.fileErrorMsg=null,this.attachedMsgId=null,this.forwardedMsg=null,this.id=e,this.type=t,this.date=n,this.from=o,this.side=s;const b=emojione?emojione.toShort:e=>e;this.data=b(a),this.status=l,this.fileId=c,this.isMarkdown=u,this.additionalContent=d,this.subject=f,this.fileName=_,this.answeredMsgId=h,this.answeredMsgDate=p,this.geoloc=m,this.alternativeContent=g,this.mentions=v,this.receiptStatus=i.ReceiptStatus.NONE,this.serverAckTimer=null,this.index=null,this.showCorrectedMessages=!1,this.replaceMsgs=[],this.rxSubject=new r.Subject,this.isMerged=!1}static create(e,t,n,r,o,s,a=!1,l=null,c=null,u=null,d=null,f=null,_=null){const h=l&&l["form/json"]?i.Type.FORM:i.Type.CHAT;return new i(e,h,t,n,r,o,s,null,a,l,c,null,u,d,null,f,_)}static createFromMsg(e){const t=i.create(e.id,e.date,e.from,e.side,e.data,e.status,e.isMarkdown);return e.fileId&&(t.type=i.Type.FS,t.fileId=e.fileId,t.fileName=e.fileName),e.geoloc&&(t.geoloc=e.geoloc),t}static createFileSharingMessage(e,t,n,r,o,s,a,l,c,u,d=null){const f=new i(e,i.Type.FS,t,n,r,o,s,a,null,null,null,l,null,null,u,null,d);return c&&(f.attachedMsgId=c.attachedMsgId,f.attachIndex=c.index,f.attachNumber=c.number),f}static createFileMessage(e,t,n,r,o,s){return new i(e,i.Type.FILE,t,n,r,o,s)}static createWebRTCMessage(e,t,n,r,o,s){return new i(e,i.Type.WEBRTC,t,n,r,o,s)}static createBubbleAdminMessage(e,t,n,r){return new i(e,i.Type.CHAT,t,n,i.Side.ADMIN,r+"MsgRoom",null)}static createRecordingAdminMessage(e,t,n,r,o){return new i(e,i.Type.RECORDING,t,n,i.Side.ADMIN,o+"Recording",null)}sendUpdateEvent(e=null){this.rxSubject.next(e)}listenUpdateEvent(e){return this.rxSubject.subscribe(e)}isTextModified(){return this.replaceMsgs.length>0}isModified(){return this.replaceMsgs.length>0&&""!==this.getLastTextModified()}isDeleted(){return 0===this.getLastTextModified().length}getLastTextModified(){return this.replaceMsgs.length>0?this.replaceMsgs[this.replaceMsgs.length-1].body:this.data}addReplaceMsg(e,t){const n=o.ReplaceMsg.create(e,t);this.replaceMsgs.push(n)}setReceiptStatus(e){return this.serverAckTimer&&e>i.ReceiptStatus.IN_PROGRESS&&(clearTimeout(this.serverAckTimer),this.serverAckTimer=null),e>this.receiptStatus&&(this.receiptStatus=e),this.sendUpdateEvent(),this}getInfoForLogs(){const e=this.data.length?this.data.substr(0,1)+"***"+this.data.substr(this.data.length-1):"";return"Id "+this.id+", type "+this.type.value+", side "+this.side+", date "+this.date+" and data "+e}}i.Type={CHAT:{key:0,value:"Chat"},FILE:{key:1,value:"File"},FS:{key:2,value:"FileSharing"},WEBRTC:{key:4,value:"WebRTC CAll"},RECORDING:{key:5,value:"Recording"},FORM:{key:6,value:"FORM"},FORWARD:{key:7,value:"FORWARD"}},i.ReceiptStatus={NONE:0,ERROR:1,IN_PROGRESS:2,SENT:3,UNREAD:4,READ:5},i.ReceiptStatusText=["close","error--filled","calllog","check","done","read"],i.Side={LEFT:"L",RIGHT:"R",ADMIN:"ADMIN"},t.Message=i,t.AnswerMessage=class{constructor(e,t,n){this.name=e,this.messageAnswered=t,this.answeredMessageData=n}}},function(e,t,n){n.d(t,"a",(function(){return r}));var r=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}()},function(e,t,n){var r;e.exports=(r=n(13),n(61),n(280),n(281),n(46),n(47),n(72),n(217),n(282),n(218),n(283),n(284),n(285),n(73),n(286),n(40),n(20),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),r)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(11);class o{constructor(e){this.logo=null,this.nameForLogs="",this.banner=null,this.office365ScopesGranted=[],this.visibility="public",o.attributes.forEach(t=>{void 0!==e[t.name]?this[t.name]=e[t.name]:void 0!==t.defaultValue&&(this[t.name]=t.defaultValue)}),this.state=e.state?e.state:"USA"===e.country?"AL":"CAN"===e.country?"AB":null,this.name&&(this.filterName=this.name.toLowerCase()),this.rxSubject=new r.Subject}static create(e,t){return new o({id:e,name:t})}static createFromData(e){const t=new o(e);return t.selectedThemeCustomers||(t.selectedThemeCustomers={}),t.selectedTheme||(t.selectedTheme={}),t}static prune(e,t){const n=Object.assign({},e);return delete n.dataLocation,delete n.businessSpecific,n.selectedTheme&&n.selectedTheme.hasOwnProperty("isFromBp")&&delete n.selectedTheme.isFromBp,n.selectedThemeCustomers&&n.selectedThemeCustomers.hasOwnProperty("isFromBp")&&delete n.selectedThemeCustomers.isFromBp,delete n.giphyEnabled,n.isBP?"VAD"!==n.bpType&&"DR"!==n.bpType&&delete n.bpBusinessType:(delete n.bpType,delete n.bpBusinessModel,delete n.bpApplicantNumber,delete n.bpCRDid,delete n.bpHasRightToSell,delete n.bpHasRightToConnect,delete n.bpIsContractAccepted),""===n.economicActivityClassification&&delete n.economicActivityClassification,t&&(t.isSuperadmin()||t.isBPAdminFinance())||(delete n.bpType,delete n.adminHasRightToUpdateSubscriptions,delete n.adminAllowedUpdateSubscriptionsOps),t&&t.isSuperadmin()||delete n.superadminComment,t&&(t.isSuperadmin()||null!==n.supportEmail&&""!==n.supportEmail)||delete n.supportEmail,t&&(t.isSuperadmin()||null!==n.privateDC&&""!==n.privateDC)||delete n.privateDC,n}updateFromData(e){o.attributes.forEach(t=>{void 0!==e[t.name]&&(this[t.name]=e[t.name])})}getNameForLogs(){return!this.nameForLogs&&this.name&&(this.nameForLogs=this.name.charAt(0)+this.name.replace(/[^\s](?=.{1,}$)/g,"*").substr(1)),this.nameForLogs}isActive(){return"active"===this.status}isInitializing(){return"initializing"===this.status}isInvited(){return"invited"===this.status}isFreemium(){return"freemium"===this.offerType}isPremium(){return"premium"===this.offerType}isVAD(){return this.isBP&&"VAD"===this.bpType}isIR(){return this.isBP&&"IR"===this.bpType}isDR(){return this.isBP&&"DR"===this.bpType}isEC(){return!this.isBP}onChange(e){return this.rxSubject.subscribe(e)}sendChangeEvent(e,t=null){this.rxSubject.next({type:e,value:t})}getSelectedWhiteThemeId(){return this.selectedTheme?this.selectedTheme.light:null}setSelectedWhiteThemeId(e){this.selectedTheme||(this.selectedTheme={}),this.selectedTheme.light=e}getSelectedDarkThemeId(){return this.selectedTheme?this.selectedTheme.dark:null}setSelectedDarkThemeId(e){this.selectedTheme||(this.selectedTheme={}),this.selectedTheme.dark=e}setSelectedTheme(e){e.isWhiteType()?this.setSelectedWhiteThemeId(e.id):this.setSelectedDarkThemeId(e.id)}getSelectedCustomerWhiteThemeId(){return this.selectedThemeCustomers?this.selectedThemeCustomers.light:null}setSelectedCustomerWhiteThemeId(e){this.selectedThemeCustomers||(this.selectedThemeCustomers={}),this.selectedThemeCustomers.light=e}getSelectedCustomerDarkThemeId(){return this.selectedThemeCustomers?this.selectedThemeCustomers.dark:null}setSelectedCustomerDarkThemeId(e){this.selectedThemeCustomers||(this.selectedThemeCustomers={}),this.selectedThemeCustomers.dark=e}setSelectedThemeCustomers(e){e.isWhiteType()?this.setSelectedCustomerWhiteThemeId(e.id):this.setSelectedCustomerDarkThemeId(e.id)}}o.StatusValues=["initializing","active","alerting","hold","terminated"],o.VisibilityValuesWithOrganization=["public","private","organization","closed","isolated"],o.VisibilityValues=["public","private","closed","isolated"],o.SizeValues=["self-employed","1-10 employees","11-50 employees","51-200 employees","201-500 employees","501-1000 employees","1001-5000 employees","5001-10,000 employees","10,001+ employees"],o.OfferTypes=["freemium","premium"],o.BPTypes=["VAD","DR","IR"],o.BPTypeLabels={IR:"Indirect Reseller",VAD:"Value Added Distributor",DR:"Direct Reseller"},o.BPBusinessModels=["resell"],o.BPBusinessModelLabels={resell:"Resell",referral:"Referral"},o.adminAllowedUpdateSubscriptionsOperations=["all","increase_only"],o.BPBusinessTypes={DEFAULT:"default",VOICE_BY_ALE:"voice_by_ale",VOICE_BY_PARTNER:"voice_by_partner",CONFERENCE:"conference"},o.EconomicActivityClassificationTypes={NONE:"notDefined-f",A:"agriculture",B:"mining",C:"manufacturing",D:"electricity",E:"water supply",F:"construction",G:"wholesale",H:"transportation",I:"accommodation",J:"information and communication",K:"financial",L:"real estate activities",M:"professional",N:"administrative",O:"public administration",P:"education",Q:"human health",R:"arts",S:"other service activities",T:"activities of households as employer",U:"activities of extraterritorial organisations and bodies"},o.PrivateDCValues=["HDS"],o.attributes=[{name:"id",defaultValue:void 0},{name:"name",defaultValue:""},{name:"creationDate",defaultValue:void 0},{name:"companyContactId",defaultValue:void 0},{name:"adminEmail",defaultValue:""},{name:"supportEmail",defaultValue:void 0},{name:"status",defaultValue:"active"},{name:"economicActivityClassification",defaultValue:"NONE"},{name:"website",defaultValue:void 0},{name:"description",defaultValue:void 0},{name:"visibility",defaultValue:"private"},{name:"visibleBy",defaultValue:[]},{name:"organisationId",defaultValue:""},{name:"userSelfRegisterEnabled",defaultValue:!1},{name:"userSelfRegisterAllowedDomains",defaultValue:[]},{name:"offerType",defaultValue:"freemium"},{name:"street",defaultValue:void 0},{name:"city",defaultValue:void 0},{name:"postalCode",defaultValue:void 0},{name:"country",defaultValue:void 0},{name:"state",defaultValue:null},{name:"size",defaultValue:void 0},{name:"slogan",defaultValue:void 0},{name:"isBP",defaultValue:!1},{name:"bpType",defaultValue:void 0},{name:"bpBusinessModel",defaultValue:void 0},{name:"bpApplicantNumber",defaultValue:void 0},{name:"bpCRDid",defaultValue:void 0},{name:"bpHasRightToSell",defaultValue:void 0},{name:"bpId",defaultValue:void 0},{name:"bpHasRightToConnect",defaultValue:void 0},{name:"adminHasRightToUpdateSubscriptions",defaultValue:!1},{name:"adminAllowedUpdateSubscriptionsOps",defaultValue:"all"},{name:"externalReference",defaultValue:void 0},{name:"externalReference2",defaultValue:void 0},{name:"lastAvatarUpdateDate",defaultValue:null},{name:"lastBannerUpdateDate",defaultValue:null},{name:"avatarShape",defaultValue:"circle"},{name:"catalogId",defaultValue:void 0},{name:"office365Tenant",defaultValue:void 0},{name:"office365ScopesGranted",defaultValue:void 0},{name:"isCentrex",defaultValue:void 0},{name:"tenantCallNumber",defaultValue:void 0},{name:"tenantName",defaultValue:void 0},{name:"numberUsers",defaultValue:void 0},{name:"dataLocation",defaultValue:void 0},{name:"privateDC",defaultValue:void 0},{name:"businessSpecific",defaultValue:void 0},{name:"superadminComment",defaultValue:void 0},{name:"bpBusinessType",defaultValue:[]},{name:"voIPSettings",defaultValue:void 0},{name:"allowUsersSelectTheme",defaultValue:!0},{name:"allowUsersSelectPublicTheme",defaultValue:!0},{name:"selectedTheme",defaultValue:void 0},{name:"selectedThemeCustomers",defaultValue:void 0},{name:"tryNewUiCustomisation",defaultValue:void 0},{name:"softphoneOnlyCustomisation",defaultValue:void 0},{name:"fileSharingCustomisation",defaultValue:"enabled"},{name:"userTitleNameCustomisation",defaultValue:void 0},{name:"useRoomCustomisation",defaultValue:"enabled"},{name:"phoneMeetingCustomisation",defaultValue:"enabled"},{name:"useChannelCustomisation",defaultValue:"enabled"},{name:"useScreenSharingCustomisation",defaultValue:"enabled"},{name:"useWebRTCVideoCustomisation",defaultValue:"enabled"},{name:"useWebRTCAudioCustomisation",defaultValue:"enabled"},{name:"instantMessagesCustomisation",defaultValue:"enabled"},{name:"userProfileCustomisation",defaultValue:"enabled"},{name:"fileStorageCustomisation",defaultValue:"enabled"},{name:"overridePresenceCustomisation",defaultValue:"enabled"},{name:"changeSettingsCustomisation",defaultValue:"enabled"},{name:"changeTelephonyCustomisation",defaultValue:"enabled"},{name:"recordingConversationCustomisation",defaultValue:"enabled"},{name:"useGifCustomisation",defaultValue:"enabled"},{name:"useDialOutCustomisation",defaultValue:"enabled"},{name:"selectedAppCustomisationTemplate",defaultValue:void 0},{name:"mobilePermanentConnectionMode",defaultValue:void 0},{name:"alertNotificationSending",defaultValue:"disabled"},{name:"alertNotificationReception",defaultValue:"disabled"},{name:"allowCloudPbxRecording",defaultValue:void 0},{name:"cloudPbxRecordingInboundOnly",defaultValue:void 0},{name:"defaultLicenseGroup",defaultValue:void 0}],t.Company=o},function(e,t,n){var r,o,i,s,a,l,c,u,d,f,_,h,p,m,g,v,b,D,y;e.exports=(r=n(13),n(40),void(r.lib.Cipher||(o=r,i=o.lib,s=i.Base,a=i.WordArray,l=i.BufferedBlockAlgorithm,c=o.enc,c.Utf8,u=c.Base64,d=o.algo.EvpKDF,f=i.Cipher=l.extend({cfg:s.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?y:b}return function(t){return{encrypt:function(n,r,o){return e(r).encrypt(t,n,r,o)},decrypt:function(n,r,o){return e(r).decrypt(t,n,r,o)}}}}()}),i.StreamCipher=f.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),_=o.mode={},h=i.BlockCipherMode=s.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),p=_.CBC=function(){var e=h.extend();function t(e,t,n){var r=this._iv;if(r){var o=r;this._iv=void 0}else o=this._prevBlock;for(var i=0;i<n;i++)e[t+i]^=o[i]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize;t.call(this,e,n,o),r.encryptBlock(e,n),this._prevBlock=e.slice(n,n+o)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize,i=e.slice(n,n+o);r.decryptBlock(e,n),t.call(this,e,n,o),this._prevBlock=i}}),e}(),m=(o.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,o=r<<24|r<<16|r<<8|r,i=[],s=0;s<r;s+=4)i.push(o);var l=a.create(i,r);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},i.BlockCipher=f.extend({cfg:f.cfg.extend({mode:p,padding:m}),reset:function(){f.reset.call(this);var e=this.cfg,t=e.iv,n=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=n.createEncryptor;else r=n.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==r?this._mode.init(this,t&&t.words):(this._mode=r.call(n,this,t&&t.words),this._mode.__creator=r)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4}),g=i.CipherParams=s.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),v=(o.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;if(n)var r=a.create([1398893684,1701076831]).concat(n).concat(t);else r=t;return r.toString(u)},parse:function(e){var t=u.parse(e),n=t.words;if(1398893684==n[0]&&1701076831==n[1]){var r=a.create(n.slice(2,4));n.splice(0,4),t.sigBytes-=16}return g.create({ciphertext:t,salt:r})}},b=i.SerializableCipher=s.extend({cfg:s.extend({format:v}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var o=e.createEncryptor(n,r),i=o.finalize(t),s=o.cfg;return g.create({ciphertext:i,key:n,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),D=(o.kdf={}).OpenSSL={execute:function(e,t,n,r){r||(r=a.random(8));var o=d.create({keySize:t+n}).compute(e,r),i=a.create(o.words.slice(t),4*n);return o.sigBytes=4*t,g.create({key:o,iv:i,salt:r})}},y=i.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:D}),encrypt:function(e,t,n,r){var o=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize);r.iv=o.iv;var i=b.encrypt.call(this,e,t,o.key,r);return i.mixIn(o),i},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var o=r.kdf.execute(n,e.keySize,e.ivSize,t.salt);return r.iv=o.iv,b.decrypt.call(this,e,t,o.key,r)}}))))},function(e,t,n){n.d(t,"a",(function(){return o}));var r=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack,r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=new class{dispatchEvent(e,t=null){document.dispatchEvent(new CustomEvent(e,{detail:t}))}};t.eventsService=r},function(e,t,n){n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var r=n(8),o=n(9),i=n(12),s=n(14),a=n(31),l=n(63),c=n(41),u=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r.a(t,e),t}(i.a),d=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.a(t,e),t.prototype[c.a]=function(){return new u(this)},t.prototype.lift=function(e){var t=new f(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new a.a;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new a.a;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new a.a;return this.hasError?(e.error(this.thrownError),s.a.EMPTY):this.isStopped?(e.complete(),s.a.EMPTY):(this.observers.push(e),new l.a(this,e))},t.prototype.asObservable=function(){var e=new o.a;return e.source=this,e},t.create=function(e,t){return new f(e,t)},t}(o.a),f=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r.a(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):s.a.EMPTY},t}(d)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t){this.name=null,this.data=null,this.name=e,this.data=t}static create(e,t=null){return new r(e,t)}}t.RBEvent=r},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(54),i=n(71),s=n(11),a=n(333),l=n(75),c=n(0),u=n(2),d=n(3),f=n(33),_=n(38);class h{constructor(){this.started=!1,this.listeners=[],this.currentOrder="date",this.voiceMessageFileDescriptors=[],this.fileDescriptors=[],this.receivedFileDescriptors=[],this.mergedFileDescriptors=[],this.contactService=u.default,this.logger=c.default,this.errorHelperService=_.default,this.eventService=f.default,this.deleteFileWoConfirm=!1,this.fileDescriptorsSubject=null,this.publicFileDownload=[],this.publicFileDownloadSubject=null,this.startedSubject=new s.BehaviorSubject(!1),this.retrieveFileDescriptorPromises=[],this.authService=d.default}static getInstance(){const e=window;return e.rainbow||(e.rainbow={}),e.rainbow.fileStorageService||(e.rainbow.fileStorageService=new h),e.rainbow.fileStorageService}start(){return r(this,void 0,void 0,(function*(){this.started=!1,this.portalURL=config.restServerUrl+"/api/rainbow/filestorage/v1.0/files",this.fileDescriptors=[],this.receivedFileDescriptors=[],this.mergedFileDescriptors=[],this.voiceMessageFileDescriptors=[],this.fileDescriptorsSubject=new s.Subject,this.publicFileDownload=[],this.publicFileDownloadSubject=new s.Subject,this.contactService.userContact.fileStorageEnabledSubject.pipe(l.distinctUntilChanged()).subscribe(e=>r(this,void 0,void 0,(function*(){if(e){this.logger.info("[FileStorageService] === STARTING ===");try{this.consumptionData={},yield this.getFileDescriptorsFromServer(),this.started=!0,this.logger.info("[FileStorageService] === STARTED ==="),this.startedSubject.next(!0),this.contactService.userContact.fileStorageEnabledSubject.pipe(l.distinctUntilChanged()).subscribe(e=>{e||this.stop()})}catch(t){this.logger.error("[FileStorageService] === STARTING === failure -- "+t.message),this.startedSubject.next(!1)}this.retrieveUserConsumption(),this.retrieveVoiceMessageFileDescriptorsListPerOwner().then(()=>{this.logger.info("[FileStorageService] === STARTED (retrieveVoiceMessageFileDescriptorsListPerOwner)")}).catch(()=>{this.logger.error("[FileStorageService] === STARTING === failure -- (retrieveVoiceMessageFileDescriptorsListPerOwner)")}),this.listeners.push(this.eventService.subscribe("ROOM_UPDATE_EVENT",(e,t,n)=>{n&&"remove"===n&&(this.logger.info("[FileStorageService] ROOM_UPDATE_EVENT REMOVED for roomId="+t.dbId),this.removeRoomFileViewer(t))}))}else this.logger.info("start skipped - fileStorageEnabled : false")})))}))}stop(){return r(this,void 0,void 0,(function*(){this.logger.info("[FileStorageService] === STOPPING ==="),this.started&&(this.started=!1),this.listeners&&this.listeners.forEach(e=>{e()}),this.logger.info("[FileStorageService] === STOPPED ==="),this.startedSubject.next(!1)}))}reinit(e){return r(this,void 0,void 0,(function*(){this.contactService&&this.contactService.userContact&&!this.contactService.userContact.fileStorageEnabled?this.logger.info("reinit skipped - fileStorageEnabled : "+this.contactService.userContact.fileStorageEnabled):e?yield this.reinitInternal():this.reinitInternal()}))}reinitInternal(){return r(this,void 0,void 0,(function*(){try{yield this.retrieveFileDescriptorsListPerOwner(),yield this.retrieveReceivedFiles(this.contactService.userContact.dbId),this.orderDocuments(),this.logger.info("[FileStorageService] reinitInternal done")}catch(e){throw this.logger.error("[FileStorageService] reinitInternal failure -- "+e.message),e}}))}removeRoomFileViewer(e){if(this.contactService&&this.contactService.userContact&&!this.contactService.userContact.fileStorageEnabled)return void this.logger.info("removeRoomFileViewer skipped - fileStorageEnabled : "+this.contactService.userContact.fileStorageEnabled);let t;this.logger.info("[FileStorageService] >removeRoomFileViewer: "+e.dbId);do{if(t=this.getFileDescriptorByViewerId(e.dbId),t){const n=t.viewers.find(t=>t.viewerId===e.dbId);n&&(this.logger.info("[FileStorageService] >viewer found delete it"),t.viewers.splice(t.viewers.indexOf(n),1))}}while(t)}getNewDocuments(e){switch(e){case"mine":return this.fileDescriptors;case"received":return this.receivedFileDescriptors;default:return this.mergedFileDescriptors}}getDocuments(e,t){return this.currentOrder!==e&&(this.currentOrder=e,this.orderDocuments()),t?this.receivedFileDescriptors:this.fileDescriptors}getFileDescriptorById(e){for(const t of this.fileDescriptors)if(t.id===e)return t;for(const t of this.receivedFileDescriptors)if(t.id===e)return t;return null}getFileDescriptorByViewerId(e){for(const t of this.fileDescriptors)for(const n of t.viewers)if(n.viewerId===e)return t;for(const t of this.receivedFileDescriptors)if(t.id===e)return t;return null}getReceivedFileDescriptorsFromConversation(e){if(e.contact){const t=this.receivedFileDescriptors.filter(t=>e.contact.dbId===t.ownerId&&void 0!==t.viewers.find(e=>e.viewerId===this.contactService.userContact.dbId));return t||[]}if(e.room){const t=this.receivedFileDescriptors.filter(t=>t.ownerId!==this.contactService.userContact.dbId&&void 0!==t.viewers.find(t=>t.viewerId===e.room.dbId));return t||[]}return[]}getReceivedFilesFromContact(e){return this.receivedFileDescriptors.filter(t=>t.ownerId===e)}getSentFilesToContact(e){return this.contactService&&this.contactService.userContact&&!this.contactService.userContact.fileStorageEnabled?(this.logger.info("getSentFilesToContact skipped - fileStorageEnabled : "+this.contactService.userContact.fileStorageEnabled),[]):this.fileDescriptors.filter(t=>{for(let n=0;n<t.viewers.length;n++)if(t.viewers[n].viewerId===e)return!0;return!1})}getReceivedFilesForRoom(e){return this.receivedFileDescriptors.filter(t=>{for(let n=0;n<t.viewers.length;n++)if(t.viewers[n].viewerId===e&&t.ownerId!==this.contactService.userContact.dbId)return!0;return!1})}getConsumptionData(){return this.consumptionData}getVoiceMessageFileDescriptorByMsgId(e){return this.voiceMessageFileDescriptors.find(t=>null!==t.tags&&t.tags.msgId===e)}createFileDescriptor(e,t,n,o=[],i=null){return r(this,void 0,void 0,(function*(){try{const r={fileName:e,extension:t,size:n,viewers:o};i&&(r.voicemessage=!0,r.encoding=!0,r.duration=i.duration);const s=this.portalURL,a=this.authService.getPostHeader(),l=JSON.stringify(r),c=yield fetch(s,{method:"POST",headers:a,body:l});if(!c.ok)throw c;const u=(yield c.json()).data,d=this.createFileDescriptorFromData(u);return d&&this.fileDescriptors.push(d),this.logger.info("[FileStorageService] createFileDescriptor -- "+d.id+" -- success"),this.orderDocuments(),d}catch(r){const e=yield this.errorHelperService.getErrorInfo(r,"createFileDescriptor");throw 403153===e.error.errorDetailsCode&&(this.contactService.userContact.fileSharingEnabled=!1,this.contactService.userContact.rxSubject.next()),this.logger.error("[fileStorageService] "+e.message),e.error}}))}createFileDescriptorFromData(e){if(e){let t=[];e.viewers&&(t=i.FileViewer.createFromData(e.viewers));let n=e.url;n||(n=config.restServerUrl+"/api/rainbow/fileserver/v1.0/files/"+e.id);const r=e.isUploaded?"uploaded":"not_uploaded",s=e.tags&&"voicemail"===e.tags.purpose;let a="unknown";return a=null===e.isClean?"notScanned":!0===e.isClean?"isClean":"isInfected",o.FileDescriptor.create(e.id,n,e.ownerId,e.fileName,e.extension,e.typeMIME,e.size,e.registrationDate,e.uploadedDate,e.dateToSort,t,r,e.thumbnail,e.orientation,e.original_w,e.original_h,e.tags,a,s)}return null}deleteFileDescriptor(e){return r(this,void 0,void 0,(function*(){try{const t=`${this.portalURL}/${e}`,n=this.authService.getRequestHeader(),r=yield fetch(t,{method:"DELETE",headers:n});if(!r.ok)throw r;this.logger.info("[FileStorageService] deleteFileDescriptor -- SUCCESS"),this.deleteFileDescriptorFromCache(e),this.eventService.publish("ON_FILE_REMOVED_FROM_STORE_EVENT",{fileId:e}),this.retrieveUserConsumption()}catch(t){const e=yield this.errorHelperService.getErrorInfo(t,"deleteFileDescriptor");throw this.logger.error("[fileStorageService] "+e.message),e.error}}))}deleteAllFileDescriptor(){return r(this,void 0,void 0,(function*(){try{const e=this.portalURL+"/all",t=this.authService.getRequestHeader(),n=yield fetch(e,{method:"DELETE",headers:t});if(!n.ok)throw n;this.logger.info("[FileStorageService] deleteAllFileDescriptor -- success"),this.deleteAllFilesDescriptorsFromCache(),this.retrieveUserConsumption()}catch(e){const t=yield this.errorHelperService.getErrorInfo(e,"deleteAllFileDescriptor");throw this.logger.error("[fileStorageService] "+t.message),t.error}}))}getFileDescriptorsFromServer(){return r(this,void 0,void 0,(function*(){try{yield Promise.all([this.retrieveFileDescriptorsListPerOwner(),this.retrieveReceivedFiles(this.contactService.userContact.dbId)]),this.orderDocuments()}catch(e){}}))}retrieveFileDescriptorsListPerOwner(){return r(this,void 0,void 0,(function*(){try{this.fileDescriptors=[];const e=this.portalURL+"?format=full&limit=1000",t=this.authService.getRequestHeader(),n=yield fetch(e,{method:"GET",headers:t});if(!n.ok)throw n;const r=yield n.json();let o=r.data;if(!o)return this.fileDescriptors;const i=r.limit,s=r.total;let a=null;if(s<=i)a=Promise.resolve([]);else{let e=i;const t=s/i,n=[];for(let r=1;r<t;r++)n.push(this.retrieveFileDescriptorsListPerOwnerwithOffset(e,i)),e+=i;a=Promise.all(n)}(yield a).forEach(e=>{o=o.concat(e)});for(const l of o){const e=this.createFileDescriptorFromData(l);this.fileDescriptors.push(e)}return this.logger.info("[FileStorageService] retrieveFileDescriptorsListPerOwner -- success"),this.fileDescriptors}catch(e){const t=yield this.errorHelperService.getErrorInfo(e,"retrieveFileDescriptorsListPerOwner");throw this.logger.error("[fileStorageService] "+t.message),t.error}}))}retrieveFileDescriptorsListPerOwnerwithOffset(e,t){return r(this,void 0,void 0,(function*(){const n=`${this.portalURL}?format=full&limit=${t}&offset=${e}`,r=this.authService.getRequestHeader(),o=yield fetch(n,{method:"GET",headers:r});if(!o.ok)throw o;return(yield o.json()).data}))}retrieveVoiceMessageFileDescriptorsListPerOwner(){return r(this,void 0,void 0,(function*(){try{const e=this.portalURL+"?format=full&path=/voice-messages",t=this.authService.getRequestHeader(),n=yield fetch(e,{method:"GET",headers:t});if(!n.ok)throw n;const r=(yield n.json()).data;return r?(this.voiceMessageFileDescriptors=r.reduce((e,t)=>{const n=this.createFileDescriptorFromData(t);return"not_uploaded"===n.state?(this.logger.info(`[FileStorageService] file ${n.fileName} not uploaded`),n.ownerId===this.contactService.userContact.dbId?(this.logger.info(`[FileStorageService] file ${n.fileName} is our property, we can delete it`),this.deleteFileDescriptor(n.id)):this.logger.info(`[FileStorageService] file ${n.fileName} is NOT our property, we CANNOT delete it`)):e.push(n),e},[]),this.logger.info("[FileStorageService] retrieveVoiceMessageFileDescriptorsListPerOwner -- success"),this.voiceMessageFileDescriptors):[]}catch(e){const t=yield this.errorHelperService.getErrorInfo(e,"retrieveVoiceMessageFileDescriptorsListPerOwner");throw this.logger.error("[fileStorageService] "+t.message),t.error}}))}retrieveFilesReceivedFromPeer(e,t){return r(this,void 0,void 0,(function*(){try{const n=`${this.portalURL}/viewers/${e}?ownerId=${t}&format=full`,r=this.authService.getRequestHeader(),o=yield fetch(n,{method:"GET",headers:r});if(!o.ok)throw o;const i=(yield o.json()).data.map(e=>this.createFileDescriptorFromData(e));return this.logger.info("[FileStorageService] retrieveFilesReceivedFromPeer success"),i}catch(n){const e=yield this.errorHelperService.getErrorInfo(n,"retrieveFilesReceivedFromPeer");throw this.logger.error("[fileStorageService] "+e.message),e.error}}))}retrieveSentFiles(e){return r(this,void 0,void 0,(function*(){try{this.logger.info("[FileStorageService] >retrieveSentFiles");const t=`${this.portalURL}?format=full&viewerId=${e}`,n=this.authService.getRequestHeader(),r=yield fetch(t,{method:"GET",headers:n});if(!r.ok)throw r;return(yield r.json()).data.reduce((e,t)=>{const n=this.createFileDescriptorFromData(t);return n.state===o.FileState.NOT_UPLOADED?this.logger.warn(`[FileStorageService] file ${n.fileName} not uploaded`):e.push(n),e},[])}catch(t){const e=yield this.errorHelperService.getErrorInfo(t,"retrieveSentFiles");throw this.logger.error("[fileStorageService] "+e.message),e.error}}))}retrieveReceivedFilesForRoom(e){return r(this,void 0,void 0,(function*(){try{const t=`${this.portalURL}/viewers/${e}?format=full`,n=this.authService.getRequestHeader(),r=yield fetch(t,{method:"GET",headers:n});if(!r.ok)throw r;const o=(yield r.json()).data;return o?o.reduce((t,n)=>{if(n.ownerId!==this.contactService.userContact.dbId){n.viewers=[];const r=this.createFileDescriptorFromData(n);if(!r.viewers.length){const t=i.FileViewer.createFromData([{viewerId:e,type:"room"}])[0];r.viewers.push(t)}t.push(r),this.receivedFileDescriptors.find(e=>e.id===n.id)||this.receivedFileDescriptors.push(r)}return t},[]):[]}catch(t){const e=yield this.errorHelperService.getErrorInfo(t,"retrieveReceivedFilesForRoom");throw this.logger.error("[fileStorageService] "+e.message),e.error}}))}retrieveReceivedFiles(e){return r(this,void 0,void 0,(function*(){try{this.receivedFileDescriptors=[];const t=`${this.portalURL}/viewers/${e}?format=full&limit=1000`,n=this.authService.getRequestHeader(),r=yield fetch(t,{method:"GET",headers:n});if(!r.ok)throw r;const o=yield r.json();let i=o.data;if(!i)return this.receivedFileDescriptors;const s=o.limit,a=o.total;let l=null;if(a<=s)l=Promise.resolve([]);else{let t=s;const n=a/s,r=[];for(let o=1;o<n;o++)r.push(this.retrieveReceivedFilesWithOffset(e,t,s)),t+=s;l=Promise.all(r)}return(yield l).forEach(e=>{i=i.concat(e)}),this.receivedFileDescriptors=i.reduce((e,t)=>{const n=this.createFileDescriptorFromData(t);if(n.ownerId!==this.contactService.userContact.dbId){const t=this.getFileDescriptorById(n.id);t&&(n.previewBlob=t.previewBlob,n.previewBlobSubject.next(URL.createObjectURL(n.previewBlob))),e.push(n)}return e},[]),this.logger.info("[FileStorageService] retrieveReceivedFiles -- success"),this.receivedFileDescriptors}catch(t){const e=yield this.errorHelperService.getErrorInfo(t,"retrieveReceivedFiles");throw this.logger.error("[fileStorageService] "+e.message),e.error}}))}retrieveReceivedFilesWithOffset(e,t,n){return r(this,void 0,void 0,(function*(){const r=`${this.portalURL}/viewers/${e}?format=full&limit=1000&limit=${n}&offset=${t}`,o=this.authService.getRequestHeader(),i=yield fetch(r,{method:"GET",headers:o});return(yield i.json()).data}))}retrieveUserConsumption(){return r(this,void 0,void 0,(function*(){try{const e=config.restServerUrl+"/api/rainbow/filestorage/v1.0/users/consumption",t=this.authService.getRequestHeader(),n=yield fetch(e,{method:"GET",headers:t});if(!n.ok)throw n;return this.consumptionData=(yield n.json()).data,this.logger.info("[FileStorageService] retrieveUserConsumption success"),this.eventService.publish("ON_CONSUMPTION_DATA_UPDATED_EVENT"),this.consumptionData}catch(e){const t=yield this.errorHelperService.getErrorInfo(e,"retrieveUserConsumption");throw this.logger.error("[fileStorageService] "+t.message),t.error}}))}deleteFileViewer(e,t){return r(this,void 0,void 0,(function*(){try{const n=`${this.portalURL}/${t}/viewers/${e}`,r=this.authService.getRequestHeader(),o=yield fetch(n,{method:"DELETE",headers:r});if(!o.ok)throw o;this.logger.info("[FileStorageService] deleteFileViewer "+o.statusText);const i=this.getFileDescriptorById(t);if(i){const t=i.viewers.findIndex(t=>t.viewerId===e);-1!==t&&i.viewers.splice(t,1)}}catch(n){const e=yield this.errorHelperService.getErrorInfo(n,"deleteFileViewer");throw this.logger.error("[fileStorageService] "+e.message),e.error}}))}addFileViewer(e,t,n){return r(this,void 0,void 0,(function*(){const r=this.getFileDescriptorById(e);if(r){if(r.isAlreadyFileViewer(t))return r;try{const o=`${this.portalURL}/${e}/viewers`,s=this.authService.getPostHeader(),a=JSON.stringify({viewerId:t,type:n}),l=yield fetch(o,{method:"POST",headers:s,body:a});if(!l.ok)throw l;this.logger.info("[FileStorageService] addFileViewer success");const c=i.FileViewer.createFromData([{viewerId:t,type:n}])[0];return r.viewers.push(c),r}catch(o){const e=yield this.errorHelperService.getErrorInfo(o,"addFileViewer");throw this.logger.error("[fileStorageService] "+e.message),e.error}}return null}))}copyFileToUserCloudStorage(e){return r(this,void 0,void 0,(function*(){try{const t=`${this.portalURL}/${e}/copy`,n=this.authService.getPostHeader(),r=yield fetch(t,{method:"POST",headers:n});if(!r.ok)throw r;const o=(yield r.json()).data;return this.logger.info(`[FileStorageService] copyFileToUserCloudStorage | copyFile ${e} -- success`),yield this.retrieveAndStoreOneFileDescriptor(o.id,!0)}catch(t){const e=yield this.errorHelperService.getErrorInfo(t,"copyFileToUserCloudStorage");throw this.logger.error("[fileStorageService] "+e.message),e.error}}))}retrieveOneFileDescriptor(e){return this.retrieveFileDescriptorPromises[e]?(this.logger.info(`[FileStorageService] retrieveOneFileDescriptor for ${e} already lauched`),this.retrieveFileDescriptorPromises[e]):(this.retrieveFileDescriptorPromises[e]=(()=>r(this,void 0,void 0,(function*(){try{this.logger.info("[FileStorageService] retrieveOneFileDescriptor "+e);const t=`${this.portalURL}/${e}?format=full`,n=this.authService.getRequestHeader(),r=yield fetch(t,{method:"GET",headers:n});if(!r.ok)throw r;const o=(yield r.json()).data,i=this.createFileDescriptorFromData(o);return this.logger.info(`[FileStorageService] retrieveOneFileDescriptor ${e} -- success`),delete this.retrieveFileDescriptorPromises[e],i}catch(t){const e=yield this.errorHelperService.getErrorInfo(t,"retrieveOneFileDescriptor");throw this.logger.error("[fileStorageService] "+e.message),e.error}})))(),this.retrieveFileDescriptorPromises[e])}retrieveAndStoreOneFileDescriptor(e,t=!1){const n=this.getFileDescriptorById(e);return n&&!t?(this.logger.info("[FileStorageService] retrieveAndStoreOneFileDescriptor -- return existing fileDescriptor "+e),Promise.resolve(n)):this.retrieveOneFileDescriptor(e).then(e=>{n&&n.isImage()&&(e.previewBlob=n.previewBlob,e.previewBlobSubject.next(e.previewBlob));const t=this.fileDescriptors.find(t=>t.id===e.id);t&&t.update(e);const r=this.receivedFileDescriptors.find(t=>t.id===e.id);return r&&r.update(e),t||r||(e.ownerId===this.contactService.userContact.dbId?(this.fileDescriptors.push(e),this.logger.info("[FileStorageService] retrieveAndStoreOneFileDescriptor -- fileDescriptor "+e.id+" -- now stored in my files")):(this.receivedFileDescriptors.push(e),this.logger.info("[FileStorageService] retrieveAndStoreOneFileDescriptor -- fileDescriptor "+e.id+" -- now stored in received files")),this.fileDescriptorsSubject.next({action:"new",fd:e})),this.orderDocuments(),this.eventService.publish("ON_FILE_DESCRIPTOR_RECEIVED_EVENT",{fileId:e.id}),Promise.resolve(e)}).catch(e=>(this.logger.warn("[FileStorageService] Error on getting FileDescriptor: "+e.errorDetailsCode),e.status>=400&&e.status<500&&n&&(404===e.status&&this.deleteFileDescriptorFromCache(n.id),this.orderDocuments(),this.logger.debug("[FileStorageService] Sending ON_FILE_REMOVED_FROM_STORE_EVENT"),this.eventService.publish("ON_FILE_REMOVED_FROM_STORE_EVENT",{fileId:n.id})),Promise.reject(e)))}deleteFileDescriptorFromCache(e){this.logger.info("[FileStorageService] deleteFileDescriptorFromCache "+e);for(let t=0;t<this.receivedFileDescriptors.length;t++){const n=this.receivedFileDescriptors[t];if(n.id===e){this.receivedFileDescriptors.splice(t,1),n.setState(o.FileState.DELETED);break}}for(let t=0;t<this.fileDescriptors.length;t++){const n=this.fileDescriptors[t];if(n.id===e){this.fileDescriptors.splice(t,1),n.setState(o.FileState.DELETED);break}}this.orderDocuments()}deleteAllFilesDescriptorsFromCache(){this.logger.info("[FileStorageService] deleteAllFilesDesceiptorsFromCache"),this.fileDescriptors.forEach(e=>{e.setState(o.FileState.DELETED),this.receivedFileDescriptors.forEach((t,n)=>{t.id===e.id&&this.receivedFileDescriptors.splice(n,1)})}),this.fileDescriptors=[],this.orderDocuments(),this.fileDescriptorsSubject.next({action:"listUpdate"})}orderDocuments(e="all"){this.logger.debug("[FileStorageService] orderDocuments");let t=null;switch(e){case"mine":t=this.fileDescriptors;break;case"received":t=this.receivedFileDescriptors;break;default:this.mergedFileDescriptors=this.fileDescriptors.concat(this.receivedFileDescriptors),t=this.mergedFileDescriptors}switch(this.currentOrder){default:t.sort((e,t)=>t.time-e.time);break;case"name":t.sort((e,t)=>e.fileName.localeCompare(t.fileName));break;case"size":t.sort((e,t)=>e.size-t.size)}}extractFileIdFromUrl(e){const t=e.split("/");return t.pop()||t.pop()}retrieveAndStoreOneVoiceMessageFileDescriptor(e){this.retrieveOneFileDescriptor(e).then(t=>{if(t.tags&&"/voice-messages"===t.tags.path)if(void 0!==this.voiceMessageFileDescriptors.find(t=>t.id===e)){const n=this.voiceMessageFileDescriptors.findIndex(e=>e.id===t.id);n>-1&&this.voiceMessageFileDescriptors.splice(n,1,t),this.logger.info("[FileStorageService] getRetrieveAndStoreOneVoiceMessageFileDescriptor "+e+" -- success")}else this.voiceMessageFileDescriptors.push(t)})}deleteVoiceMessageFileDescriptor(e){this.logger.info("[FileStorageService] deleteVoiceMessageFileDescriptore "+e);const t=this.voiceMessageFileDescriptors.find(t=>t.id===e);if(void 0!==t){const e=this.voiceMessageFileDescriptors.findIndex(e=>e.id===t.id);e>-1&&this.voiceMessageFileDescriptors.splice(e,1)}}updateAFileDescriptorLocally(e){this.fileDescriptors=this.fileDescriptors.map(t=>t.id===e.id?e:t),this.receivedFileDescriptors=this.receivedFileDescriptors.map(t=>t.id===e.id?e:t),this.orderDocuments()}getPublicFileDownloads(){return this.publicFileDownload}clearPublicFileDownloads(){this.publicFileDownload=[]}findPublicFileDownload(e){return this.publicFileDownload.find(t=>t.url===e)}updatePublicFileDownloadArray(e,t){this.logger.info("[FileStorageService] >updatePublicFileDownloadArray"),e.forEach(e=>{const n=this.findPublicFileDownload(e.url);if(n)this.logger.info("[FileStorageService] file ("+e.url+") Found - to update"),n.receivedBytes=e.receivedBytes,n.savePath=e.savePath,n.isDownloadFinished()&&n.openFolderOnceDownloadFinished&&(this.logger.debug("[FileStorageService] showItemInFolder auto on download completion"),t.showItemInFolder(n.savePath)),this.logger.debug("[FileStorageService] fileName="+n.fileName),this.logger.debug("[FileStorageService] file receivedBytes="+n.receivedBytes),this.logger.debug("[FileStorageService] file totalBytes="+n.totalBytes),this.logger.debug("[FileStorageService] file savePath="+n.savePath),n.progressSubject.next();else{this.logger.info("[FileStorageService] file Not Found");const t=a.FilePublicDownload.create(e.url,e.fileName,e.totalBytes,e.receivedBytes,e.savePath);this.publicFileDownload.unshift(t)}this.publicFileDownloadSubject.next()})}removePublicFileDownload(e){if(!e||!e.url)return;const t=this.publicFileDownload.indexOf(e);t>=0&&(this.publicFileDownload.splice(t,1),this.publicFileDownloadSubject.next())}}t.FileStorageService=h,t.default=h.getInstance()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(11),o=n(0);class i{constructor(){this.appActive=!0,this.appActiveSubject=null,this.detectionInterval=180,this.detectionTimeout=null,this.onActivityListener=null,this.appConnectivitySubject=null,this.connectivityTimeout=null,this.connectivityUp=!1,this.cdn="",this.cdnImages="",this.cdnServer="";const e=window;e.moduleIds||(e.moduleIds=[]),e.config||(e.config={xmpp:{protocol:"wss",currentServer:null,port:"443",pingInterval:"60000"},webservices:{protocol:"https",currentServer:null,port:"443"}}),this.updateCDN(),this.appActiveSubject=new r.Subject,this.onActivityListener=()=>{this.appActive||this.onStateChanged("active"),this.detectionTimeout&&(clearTimeout(this.detectionTimeout),this.detectionTimeout=null),window.document.removeEventListener("mousemove",this.onActivityListener),window.document.removeEventListener("keypress",this.onActivityListener),setTimeout(()=>{this.startTimer()},2e3)},this.appConnectivitySubject=new r.Subject,this.connectivityUp=navigator.onLine,window.addEventListener("offline",()=>{o.default.debug("[MainService] Connectivity change : down"),this.connectivityTimeout&&(clearInterval(this.connectivityTimeout),this.connectivityTimeout=null),this.connectivityUp&&(this.connectivityUp=!1,this.connectivityTimeout=setTimeout(()=>{this.appConnectivitySubject.next(!1)},2500))}),window.addEventListener("online",()=>{o.default.debug("[MainService] Connectivity change : up"),this.connectivityTimeout&&(clearInterval(this.connectivityTimeout),this.connectivityTimeout=null),this.connectivityUp||(this.connectivityUp=!0,this.connectivityTimeout=setTimeout(()=>{this.appConnectivitySubject.next(!0)},1e3))}),this.broadcastChannelSubject=new r.Subject,this.broadcastChannel=new BroadcastChannel("rainbowBroadcastChannel"),this.broadcastChannel.onmessage=e=>{this.broadcastChannelSubject.next(e)}}static getInstance(){const e=window;return e.rainbow||(e.rainbow={}),e.rainbow.mainService||(e.rainbow.mainService=new i),e.rainbow.mainService}configure(e=null){o.default.info("[MainService] STARTED"),e&&e.isDesktopApp()?(e.idle.setDetectionInterval(this.detectionInterval),e.idle.onStateChanged.addListener(e=>{this.onStateChanged(e)})):this.startTimer()}subscribe(e){return this.appActiveSubject.subscribe(e)}subscribeToConnectivityEvents(e){return this.appConnectivitySubject.subscribe(e)}updateCDN(){}onStateChanged(e){this.appActive="active"===e,this.appActiveSubject.next(this.appActive)}startTimer(){this.detectionTimeout&&(clearTimeout(this.detectionTimeout),this.detectionTimeout=null),this.detectionTimeout=setTimeout(()=>{this.onStateChanged("idle")},1e3*this.detectionInterval),window.document.addEventListener("mousemove",this.onActivityListener),window.document.addEventListener("keypress",this.onActivityListener)}isDesktopApp(){const e=navigator.userAgent.toLowerCase();return e.indexOf("qtwebengine")>-1||e.indexOf("electron/")>-1}broadcastChannelSubscribe(e){return this.broadcastChannelSubject.subscribe(e)}postBroadcastChannelMessage(e){this.broadcastChannel.postMessage(e)}}t.MainService=i,t.default=i.getInstance()},function(e,t,n){var r=n(313),o=n(314),i=o;i.v1=r,i.v4=o,e.exports=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SDK={OK:1,ERROR:-1,ERRORUNAUTHORIZED:-2,ERRORXMPP:-4,ERRORXMPPJID:-8,ERRORBADREQUEST:-16,ERRORUNSUPPORTED:-32,ERRORNOTFOUND:-64}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.sdkConfig={verboseLog:!1,measurePerformance:!1,unifiedPlan:!1,videoQuality:"1080p",newModels:!0,experimentalModels:!1,displayOrder:"FL",credentials:{appID:"",appSecret:"",host:"openrainbow.com"},features:{bots:!0,channels:!0,conference:!0,telephony:!0,profileService:!0,roomService:!0,favoriteService:!0,conversationService:!0}}},function(e,t,n){n.d(t,"a",(function(){return r}));var r=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},function(e,t,n){n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(18),o=n(18),i=n(6),s=n(26),a=n(0);class l{constructor(){this.userColors=["#ca8741","#e44647","#c62582","#9b4ce7","#6573ee","#1b70e0","#6ec7d9","#98d1b1","#7fbd40","#b2d334","#dcd232","#f1be00"],this.userColorNames=["purple-lavender","purple-violet","red-coral","blue-jeanlouisdavid","green-mint","green-yellow","orange-jade","pink-lady","yellow-submarine","blue-teal"]}static getInstance(){const e=window;return e.rainbow||(e.rainbow={}),e.rainbow.userInfoService||(e.rainbow.userInfoService=new l),e.rainbow.userInfoService}getAvatarImage(e,t,n,i,a){if(!(a=void 0!==a&&a))return t?this.createDefaultAvatarImage(t,n):null;let l=config.webservices.protocol+"://"+config.webservices.currentServer;s.default.cdn&&(l=s.default.cdnServer);let c=l+"/api/avatar/"+e+"?size="+(i||256);return a&&(c+="&update="+r.MD5(o.enc.Latin1.parse(a)).toString(o.enc.Hex)),{src:c}}getNameInformation(e,t){const n={displayName:"",initials:""};return 1!==t.length&&2!==e.length?"FL"===i.default.getSetting("displayOrder")?(n.displayName=e+" "+t,n.initials=e.charAt(0).toUpperCase()+t.charAt(0).toUpperCase()):(n.displayName=t+" "+e,n.initials=t.charAt(0).toUpperCase()+e.charAt(0).toUpperCase()):("FL"===i.default.getSetting("displayOrder")?n.displayName=e+" "+t:n.displayName=t+" "+e,n.initials=e.charAt(0).toUpperCase()+e.charAt(1).toUpperCase()),n}createDefaultAvatarImage(e,t){const n=new Image,r=document.createElement("canvas");r.width=n.width=225,r.height=n.height=225;const o=r.getContext("2d");return o.rect(0,0,225,225),o.fillStyle=t,o.fill(),o.font="bold 100px Helvetica",o.textAlign="center",o.fillStyle="white",o.fillText(e,110,150),n.src=r.toDataURL("image/png"),n}computeUserColor(e){const t={colorIndex:0,color:this.userColors[0],colorName:this.userColorNames[0]};try{const n=e.toUpperCase();let r=0;for(let e=0;e<n.length;e++)r+=n.charCodeAt(e);t.colorIndex=r%12,t.color=this.userColors[t.colorIndex],t.colorName=this.userColorNames[t.colorIndex]}catch(n){a.default.error("[UserInfoService] computeUserColor failure"),t.colorIndex=1,t.color=this.userColors[t.colorIndex],t.colorName=this.userColorNames[t.colorIndex]}return t}}t.UserInfoService=l,t.default=l.getInstance()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(){this.$rootScope=null}static getInstance(){const e=window;return e.rainbow||(e.rainbow={}),e.rainbow.eventService||(e.rainbow.eventService=new r),e.rainbow.eventService}configure(e=null){this.$rootScope=e}subscribe(e,t){return this.$rootScope?this.$rootScope.$on(e,t):()=>{}}unsubscribe(e){e()}publish(e,...t){this.$rootScope&&this.$rootScope.$broadcast(e,...t)}publishWithApply(e,...t){this.$rootScope&&this.$rootScope.$apply(()=>{this.$rootScope.$broadcast(e,...t)})}setVariable(e,t){this.$rootScope[e]=t}getVariable(e){return this.$rootScope[e]}}t.EventService=r,t.default=r.getInstance()},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(18),i=n(18),s=n(226),a=n(11),l=n(76),c=n(24),u=n(74),d=n(11),f=n(6),_=n(3),h=n(26),p=n(5),m=n(7),g=n(2),v=n(25),b=n(0),D=n(39),y=n(219),C=n(33),S=n(38);class E{}t.AbstractRoomService=E;class w extends E{constructor(){super(),this.ROOM_UPDATE_EVENT="ROOM_UPDATE_EVENT",this.ROOM_USER_UPDATE_EVENT="ROOM_USER_UPDATE_EVENT",this.ROOM_AVATAR_UPDATE_EVENT="ROOM_AVATAR_UPDATE_EVENT",this.ROOM_HISTORY_UPDATE_EVENT="ROOM_HISTORY_UPDATE_EVENT",this.ROOM_ADMIN_MESSAGE_EVENT="ROOM_ADMIN_MESSAGE_EVENT",this.ROOM_INVITATION="ROOM_INVITATION",this.ROOM_ADD_CONF_ENDPOINT_EVENT="ROOM_ADD_CONF_ENDPOINT_EVENT",this.ROOM_REMOVE_CONF_ENDPOINT_EVENT="ROOM_REMOVE_CONF_ENDPOINT_EVENT",this.ROOM_ADD_USERS_EVENT="ROOM_ADD_USERS_EVENT",this.ROOM_DELETE_USERS_EVENT="ROOM_DELETE_USERS_EVENT",this.RoomUserStatus={INVITED:"invited",ACCEPTED:"accepted",UNSUBSCRIBED:"unsubscribed",REJECTED:"rejected",DELETED:"deleted"},this.openInviteIdByRoomIdSubject=new a.Subject,this.rxSubject=new a.Subject,this.portalURL=null,this.listeners=[],this.xmppConnectionSubscription=null,this.roomPresenceWaitingList=[],this.userContact=null,this.invitationCounter=0,this.meetingInvitationCounter=0,this._rooms={},this.roomsByJids={},this.roomsInProgress={},this.updateLater={},this.maxRoomsUsers=0,this.maxRoomsStartupLoad=0,this.personalAudioRoomId="",this.currentPersonalAudioRoomId="",this.openInviteIdByRoomId={},this.getRoomByJidPromises={},this._roomTags=[],this.roomPresenceRef=null,this.roomMessageRef=null,this.roomInfoMessageRef=null,this.roomMessageConfigRef=null,this.roomHistoryInfoRef=null,this.roomNotificationRef=null,this.settingsService=f.default,this.contactService=g.default,this.profileService=m.default,this.authService=_.default,this.eventService=C.default,this.logger=b.default,this.xmppService=p.default,this.fileStorageService=v.default,this.errorHelperService=S.default,this.i18n=D.default}get rooms(){return this._rooms}set rooms(e){this._rooms=e}get roomTags(){return this._roomTags}set roomTags(e){this._roomTags=e}static getInstance(){const e=window;return e.rainbow||(e.rainbow={}),e.rainbow.roomService||(e.rainbow.roomService=new w),e.rainbow.roomService}start(){return r(this,void 0,void 0,(function*(){try{if(this.userContact=this.contactService.userContact,this.userContact&&!this.userContact.roomsEnabled)return void this.logger.info("[roomService] === Start skipped - roomsEnabled : false");this.portalURL=config.restServerUrl+"/api/rainbow/enduser/v1.0/",this.invitationCounter=0,this.meetingInvitationCounter=0,this.rooms={},this.roomsByJids={},this.roomsInProgress={},this.updateLater={},this.maxRoomsUsers=m.default.getFeatureLimitMax(m.default.FeaturesEnum.BUBBLE_PARTICIPANT_COUNT),this.maxRoomsStartupLoad=m.default.getFeatureLimitMax(m.default.FeaturesEnum.BUBBLE_MAX_LOAD_STARTUP),this.personalAudioRoomId="",this.currentPersonalAudioRoomId="",this.openInviteIdByRoomId={},this.getRoomByJidPromises={},this.roomTags=[],this.logger.info(""),this.logger.info("[roomService] === STARTING ==="),this.attachHandlers(),yield this.getServerRooms(),this.computeInvitationCounter(),this.retrieveOpenInviteData(),this.profileService.isFeatureEnabled(m.default.FeaturesEnum.CONFERENCE_ALLOWED)&&(this.retrievePersonalAudioRoom(),this.retrieveCurrentPersonalAudioRoom()),this.logger.info("[roomService] === STARTED ===")}catch(e){this.logger.error("[roomService] === STARTING FAILURE === "+e.message),this.computeInvitationCounter(),this.reconnect()}}))}stop(){return r(this,void 0,void 0,(function*(){this.logger.info(""),this.logger.info("[roomService] === STOPPING ==="),this.listeners.forEach(e=>{e()}),this.rooms={},this.roomsByJids={},this.roomPresenceWaitingList=[],this.logger.info("[roomService] === STOPPED ===")}))}attachHandlers(){this.logger.info("[roomService] attachHandlers"),this.roomPresenceRef&&(this.xmppService.connection.deleteHandler(this.roomPresenceRef),this.roomPresenceRef=null),this.roomPresenceRef=this.xmppService.connection.addHandler(e=>this.onRoomPresence(e),"http://jabber.org/protocol/muc#user","presence"),this.roomMessageRef&&(this.xmppService.connection.deleteHandler(this.roomMessageRef),this.roomMessageRef=null),this.roomMessageRef=this.xmppService.connection.addHandler(e=>this.onRoomMessage(e),"jabber:x:conference","message"),this.roomInfoMessageRef&&(this.xmppService.connection.deleteHandler(this.roomInfoMessageRef),this.roomInfoMessageRef=null),this.roomInfoMessageRef=this.xmppService.connection.addHandler(e=>this.onRoomInfoMessage(e),null,"message","groupchat"),this.roomMessageConfigRef&&(this.xmppService.connection.deleteHandler(this.roomMessageConfigRef),this.roomMessageConfigRef=null),this.roomMessageConfigRef=this.xmppService.connection.addHandler(e=>this.onRoomMessageConfig(e),null,"message","management"),this.roomHistoryInfoRef&&(this.xmppService.connection.deleteHandler(this.roomHistoryInfoRef),this.roomHistoryInfoRef=null),this.roomHistoryInfoRef=this.xmppService.connection.addHandler(e=>this.onRoomHistoryInfoMessage(e),"jabber:iq:notification","message"),this.roomNotificationRef&&(this.xmppService.connection.deleteHandler(this.roomNotificationRef),this.roomNotificationRef=null),this.roomNotificationRef=this.xmppService.connection.addHandler(e=>this.onRoomNotificationMessage(e),"jabber:x:bubble:conference","message"),this.listeners.forEach(e=>{e()}),this.xmppConnectionSubscription&&this.xmppConnectionSubscription.unsubscribe(),this.xmppConnectionSubscription=this.xmppService.subscribeToConnectionEvents(e=>{this.onConnectionStateChange(e)})}reconnect(e=0){return r(this,void 0,void 0,(function*(){if(!this.userContact||this.userContact.roomsEnabled)try{this.logger.info("[roomService] reconnect"),e++,this.attachHandlers(),yield this.getServerRooms(),this.computeInvitationCounter(),this.retrieveOpenInviteData(),this.profileService.isFeatureEnabled(this.profileService.FeaturesEnum.CONFERENCE_ALLOWED)&&(this.retrievePersonalAudioRoom(),this.retrieveCurrentPersonalAudioRoom()),this.logger.info("[roomService] reconnect success")}catch(t){this.logger.error("[roomService] reconnect failure -- "+t.message),1===e&&this.reconnect(e)}else this.logger.info("[roomService] === Reconnect skipped - roomsEnabled : false")}))}onConnectionStateChange(e){this.logger.info("[roomService] onConnectionStateChange status:"+e.name),"ON_XMPP_DISCONNECTED"===e.name&&this.rooms&&(Object.keys(this.rooms).forEach(e=>{const t=this.rooms[e];t&&(t.initPresenceAck=!1,t.initPresInterval&&(this.logger.info("[roomService] onConnectionStateChange cancel initPresence retryer for room: "+t.jid+" "+t.getNameForLogs()),t.initPresInterval.unsubscribe(),t.initPresInterval=null),t.initPresPromise&&(this.logger.info("[roomService] onConnectionStateChange remove initPresPromise for room: "+t.jid+" "+t.getNameForLogs()),t.initPresPromise=null,t.initPresPromiseResolve=null))}),this.roomPresenceWaitingList=[])}subscribe(e){return this.rxSubject.subscribe(e)}sendEvent(e,t){this.rxSubject.next({type:e,value:t})}getRooms(){const e=[];return Object.keys(this.rooms).forEach(t=>{e.push(this.rooms[t])}),e}searchRooms(e){const t=e.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(/[ -]+/);return this.getRooms().filter(e=>{if(!g.default.userContact.phoneMeetingsEnabled&&e.isMeetingRoom())return!1;if("accepted"!==e.status)return!1;e.filterName=e.name.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"");const n=e.filterName.split(/[ -]+/);return t.every(e=>n.some((t,r)=>!(!t.length||-1===t.indexOf(e))&&(n[r]="",!0)))})}getRoomInvitations(){return this.getRooms().filter(e=>"invited"===e.status&&"Rainbow_OutlookCreation_InternalUseOnly"!==e.desc&&!e.isMeetingRoom()&&!e.isWebinarRoom())}getMeetingInvitations(){return this.getRooms().filter(e=>!e.isWebinarRoom()&&"invited"===e.status&&"Rainbow_OutlookCreation_InternalUseOnly"!==e.desc&&e.isMeetingRoom()&&!e.isWebinarRoom())}getWebinarInvitations(){return this.getRooms().filter(e=>"invited"===e.status&&e.isWebinarRoom()&&null!==e.webinarId)}getMyRooms(){return this.getRooms().filter(e=>e.owner)}getRoomById(e){return this.rooms[e]}getRoomByJid(e){return this.roomsByJids[e]}getRoomsByContainerId(e){return this.getRooms().filter(t=>t.containerId===e)}computeInvitationCounter(){this.invitationCounter=0,this.meetingInvitationCounter=0,Object.keys(this.rooms).forEach(e=>{const t=this.rooms[e];"invited"===t.status&&(t.isMeetingRoom()?this.meetingInvitationCounter+=1:this.invitationCounter+=1)})}getOrderedRooms(e){const t=this.getRooms();switch(e){case"lastActivityDate":return t.sort((e,t)=>t.getLastActivityDate().getTime()-e.getLastActivityDate().getTime());case"creationDate":return t.sort((e,t)=>t.getCreationDate().getTime()-e.getCreationDate().getTime());default:return t.sort((e,t)=>e.name.localeCompare(t.name))}}getMyOrderedRooms(e){const t=this.getMyRooms();switch(e){case"lastActivityDate":return t.sort((e,t)=>t.getLastActivityDate().getTime()-e.getLastActivityDate().getTime());case"creationDate":return t.sort((e,t)=>t.getCreationDate().getTime()-e.getCreationDate().getTime());default:return t.sort((e,t)=>e.name.localeCompare(t.name))}}updateRoomFromServer(e){return r(this,void 0,void 0,(function*(){this.logger.info(`updateRoomFromServer(${e.dbId})`);try{const t=yield fetch(`${this.portalURL}rooms/${e.dbId}?format=full`,{headers:_.default.getRequestHeader()}),n=(yield t.json()).data;yield this.getAllRoomsParticipants([n]),this.updateRoomData(e,n)}catch(t){this.logger.error("updateRoomFromServer -- FAILURE -- "+t.message)}}))}updateRoomData(e,t){if(e.name=t.name,e.desc=t.topic,e.conference=t.conference,e.users=[],t.users.forEach(t=>{const n=g.default.getContactById(t.userId);n&&(e.users.push({contact:n,status:t.status,date:new Date(t.additionDate),privilege:t.privilege}),g.default.isUserContact(n)&&(e.status=t.status))}),this.refreshMemberAndOrganizerLists(e),e.isModerator=e.status!==this.RoomUserStatus.UNSUBSCRIBED&&e.isUserModerator(g.default.userContact),t.lastAvatarUpdateDate&&t.lastAvatarUpdateDate!==e.lastAvatarUpdate){e.lastAvatarUpdate=t.lastAvatarUpdateDate;const n=h.default.cdn?h.default.cdnServer:config.restServerUrl,r=o.MD5(i.enc.Latin1.parse(e.lastAvatarUpdate)).toString(i.enc.Hex);e.avatar=`${n}/api/room-avatar/${e.dbId}?size=512&update=${r}`}e.updateAvatarInfo(),e.guestEmails=t.guestEmails,e.guestPhoneNumbers=t.conference&&t.conference.guestPhoneNumbers?t.conference.guestPhoneNumbers:[],e.confEndpoints=t.confEndpoints}getServerRoom(e){return r(this,void 0,void 0,(function*(){try{const t=`${this.portalURL}rooms/${e}?format=full`,n=this.authService.getRequestHeader(),r=yield fetch(t,{method:"GET",headers:n});if(!r.ok)throw r;const o=(yield r.json()).data;this.logger.info(`[roomService] getServerRoom(${e}) -- SUCCESS`);const i=yield this.getAllRoomsParticipants([o]);return this.createRoomFromData(i[0])}catch(t){const e=yield this.errorHelperService.getErrorInfo(t,"getServerRoom");throw this.logger.error("[roomService] "+e.message),e.error}}))}getServerRoomByJid(e){return this.logger.info(`[roomService] getServerRoomByJid(${e})`),this.getRoomByJidPromises[e]||(this.getRoomByJidPromises[e]=(()=>r(this,void 0,void 0,(function*(){try{const t=`${this.portalURL}rooms/jids/${e}?format=full`,n=this.authService.getRequestHeader(),r=yield fetch(t,{method:"GET",headers:n});if(!r.ok)throw r;const o=(yield r.json()).data;this.logger.info(`[roomService] getServerRoomByJid(${e}) -- SUCCESS`);const i=yield this.getAllRoomsParticipants([o]);return delete this.getRoomByJidPromises[e],this.createRoomFromData(i[0])}catch(t){const n=yield this.errorHelperService.getErrorInfo(t,"getServerRoomByJid");throw this.logger.error("[roomService] "+n.message),delete this.getRoomByJidPromises[e],n.error}})))()),this.getRoomByJidPromises[e]}getServerRooms(){return r(this,void 0,void 0,(function*(){const e=(t,n,o)=>r(this,void 0,void 0,(function*(){try{const r=`${this.portalURL}rooms?format=full&userId=${this.userContact.dbId}&sortField=lastActivityDate&status=invited&status=accepted&status=unsubscribed&offset=${t}&limit=${n}`,i=this.authService.getRequestHeader(),s=yield fetch(r,{method:"GET",headers:i});if(!s.ok)throw s;const a=yield s.json();return o=o.concat(a.data),this.logger.info(`[roomService] getServerRooms retrieved ${a.data.length} rooms, total ${o.length}, existing ${a.total}`),o.length===a.total?(this.logger.info("[roomService] getServerRooms no need to loop again. All rooms retrieved..."),o):(t+=n,this.logger.info("[roomService] getServerRooms need another loop to get more rooms... "),yield e(t,n,o))}catch(r){throw(yield this.errorHelperService.getErrorInfo(r,"getSetOfRooms")).error}}));try{const n=this.maxRoomsStartupLoad?this.maxRoomsStartupLoad:1e3,r=yield e(0,n,[]);this.logger.info(`[roomService] getServerRooms successfully: find ${r.length} room(s)`);try{(yield this.getAllRoomsParticipants(r)).forEach(e=>{this.createRoomFromData(e,!0)})}catch(t){this.logger.info("[roomService] getServerRooms issue while retrieving all participant"),r.forEach(e=>{this.createRoomFromData(e,!0)})}this.sendInitialPresenceForAllRooms()}catch(t){const e="getServerRooms failure: "+(t.data?t.data.errorDetails:t.message);throw this.logger.error("[roomService] "+e),new Error(e)}}))}getRoomParticipants(e){return r(this,void 0,void 0,(function*(){try{const t=100,n=e.id,r=e.activeUsersCounter;let o=e.users.concat();if(r>t){o=[];const i=r/t+1;let s=0;const a=[];for(let e=1;e<i;e++)a.push(this.getRoomParticipantPage(n,s,t)),s+=t;(yield Promise.all(a)).forEach(e=>{o=o.concat(e.data)}),e.users=o}return o}catch(t){const e=yield this.errorHelperService.getErrorInfo(t,"getSetOfUsers");throw this.logger.error("[roomService] "+e.message),e.error}}))}getRoomParticipantPage(e,t,n){return r(this,void 0,void 0,(function*(){try{const r=`${this.portalURL}rooms/${e}/users?format=full&offset=${t}&limit=${n}`,o=_.default.getRequestHeader(),i=yield fetch(r,{method:"GET",headers:o});if(!i.ok)throw i;return yield i.json()}catch(r){const e=yield this.errorHelperService.getErrorInfo(r,"getRoomParticipantPage");throw this.logger.error("[roomService] "+e.message),e.error}}))}getAllRoomsParticipants(e){return r(this,void 0,void 0,(function*(){try{const t=performance.now(),n=(yield Promise.all(e.map(e=>this.getRoomParticipants(e)))).reduce((e,t)=>(t.forEach(t=>{e[t.jid_im]||(e[t.jid_im]=!0)}),e),{}),r=Object.keys(n).filter(e=>{const t=g.default.getContactByJid(e);return!t||t.temp});r&&r.length&&(yield g.default.getContactsByJids(r)),yield Promise.all(e.map(e=>g.default.getContactByDBId(e.creator)));const o=performance.now();return this.logger.info(`[roomService] getAllRoomsParticipants - get "${r.length} participants in ${Math.round(o-t)} ms`),e}catch(t){throw this.logger.error("[roomService] "+t.message),t}}))}createRoomFromData(e,t=!1){const n=s.Room.create(e.id,e.jid,e.name,e.topic,e.creationDate,e.confEndpoints,e.history,e.customData,e.conference,e.avatar,e.isActive,e.lastActivityDate,e.autoRegister,e.autoAcceptInvitation,e.tags,e.containerId,e.containerName),r=g.default.dbContacts[e.creator];r?(n.ownerContact=r,n.owner=r.jid===g.default.userContact.jid):this.logger.warn("[roomService] createRoomFromData -- failure -- Impossible to find owner of room "+e.name+" --- ignored"),e.users.forEach(e=>{const t=g.default.getContactById(e.userId);t&&(n.users.push({contact:t,status:e.status,date:new Date(e.additionDate),privilege:e.privilege}),g.default.isUserContact(t)&&(n.status=e.status))}),n.guestEmails=e.guestEmails,n.guestPhoneNumbers=e.conference&&e.conference.guestPhoneNumbers?e.conference.guestPhoneNumbers:[],this.refreshMemberAndOrganizerLists(n);const a=n.getUserByJid(g.default.userContact.jid);if(n.isModerator=a&&a.status!==this.RoomUserStatus.UNSUBSCRIBED&&n.isUserModerator(g.default.userContact),this.rooms[n.dbId]&&(this.rooms[n.dbId].initPresPromise&&(n.initPresPromise=this.rooms[n.dbId].initPresPromise,n.initPresInterval=this.rooms[n.dbId].initPresInterval,n.initPresPromiseResolve=this.rooms[n.dbId].initPresPromiseResolve),n.rxSubject=this.rooms[n.dbId].rxSubject,n.initPresenceAck=this.rooms[n.dbId].initPresenceAck),n.updateAvatarInfo(),e.lastAvatarUpdateDate){const t=h.default.cdn?h.default.cdnServer:config.restServerUrl;n.avatar=t+"/api/room-avatar/"+e.id+"?size=512&update="+o.MD5(i.enc.Latin1.parse(e.lastAvatarUpdateDate)).toString(i.enc.Hex)}return n.conference&&n.conference.webinarId&&(n.webinarId=n.conference.webinarId),this.rooms[n.dbId]=n,this.roomsByJids[n.jid]=n,this.eventService.publish(this.ROOM_UPDATE_EVENT,n),this.sendEvent(this.ROOM_UPDATE_EVENT,n),"accepted"!==n.status||!n.isActive||n.initPresenceAck||t||this.sendInitialRoomPresenceSync(n),n}refreshMemberAndOrganizerLists(e){e.organizers=[],e.members=[],e.users.forEach(t=>{(t.status===this.RoomUserStatus.ACCEPTED||t.status===this.RoomUserStatus.INVITED||e.ownerContact&&t.contact.jid===e.ownerContact.jid)&&(t.privilege===s.Room.Privilege.MODERATOR?e.organizers.push(t):e.members.push(t))})}equalContactsArrayByDbId(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n].dbId!==t[n].dbId)return!1;return!0}getOrCreateRoomWithContacts(e,t){return r(this,void 0,void 0,(function*(){try{let n=null;const r=[].concat([g.default.userContact],e).sort(this.sortObjectByProperty("dbId"));if(this.getMyRooms().some(e=>!(!e||e.status!==this.RoomUserStatus.ACCEPTED||!this.equalContactsArrayByDbId(e.users.map(e=>e.contact).sort(this.sortObjectByProperty("dbId")),r))&&(n=e,this.logger.debug("[roomService] getOrCreateRoomWithContacts - Found Room "+e.getNameForLogs()),!0)),n)return t.length&&(yield this.addRoomUsers(n,null,t)),n;const o=yield this.retrieveRoomConsumption();if(o>m.default.getFeatureLimitMax(m.default.FeaturesEnum.BUBBLE_COUNT))return this.eventService.publish("ON_OPEN_GLOBAL_POPUP",{popupTitle:"createBubble",popupBody:"maxCollabSpaceReached",okLabel:"ok"}),null;const i=g.default.userContact.initials+" "+this.i18n.translate("new")+" "+this.i18n.translate("bubble")+" ",s=this.getMyRooms().filter(e=>e&&0===e.name.indexOf(i));let a=null,l=1;for(;!a;){const e=i+l.toString();s.sort(this.sortObjectByProperty("name")).some(t=>t&&t.name===e)||(a=e),l++}return yield this.createRoomWithContacts(a,"",e,t)}catch(n){throw this.logger.error("[roomService] getOrCreateRoomWithContacts failure"),n}}))}createRoomWithContacts(e,t,n,o){return r(this,void 0,void 0,(function*(){try{const r=yield this.createRoom(e,t,!0,null,!0,null,!0);return yield this.addRoomUsers(r,n,o),r}catch(r){const e=r&&r.message?"createRoomWithContacts failure: "+r.message:"createRoomWithContacts failure";throw this.logger.error("[roomService] "+e),r&&r.errorDetailsLabel?r:new Error(e)}}))}setAvatarRoom(e,t,n=512,o=512){return r(this,void 0,void 0,(function*(){if(!t)return e;try{const r=yield u.resizeImage(t,n,o),i=u.getBinaryData(r),s=`${this.portalURL}rooms/${e.id}/avatar`,a=this.authService.getPostHeader("image/"+i.type),l=yield fetch(s,{method:"POST",headers:a,body:i.data});if(!l.ok)throw l;return yield l.json(),this.logger.info("[roomService] setAvatarRoom -- SUCCESS"),e.avatar=`${config.restServerUrl}/api/room-avatar/${e.id}?size=512&rand=${y.default()}`,e}catch(r){const e=yield this.errorHelperService.getErrorInfo(r,"setAvatarRoom");throw this.logger.error("[roomService] "+e.message),e.error}}))}deleteAvatarRoom(e){return r(this,void 0,void 0,(function*(){const t=`${this.portalURL}rooms/${e}/avatar`,n=this.authService.getRequestHeader(),r=yield fetch(t,{method:"DELETE",headers:n});if(!r.ok)throw r;this.logger.info("[roomService] avatar room sucessfully deleted")}))}pushContactInRoom(e,t){return r(this,void 0,void 0,(function*(){try{const n=yield this.contactService.getContactByDBId(e.userId);t.users.push({contact:n,status:e.status,date:new Date(e.additionDate),privilege:e.privilege}),this.contactService.isUserContact(n)&&(t.status=e.status),this.logger.info("[roomService] pushContactInRoom success")}catch(n){this.logger.info("[roomService] pushContactInRoom failure : "+n.message)}}))}addRoomUser(e,t,n=null,o=null,i=!1){return r(this,void 0,void 0,(function*(){try{if(e.users.some(e=>(e.status===this.RoomUserStatus.INVITED||e.status===this.RoomUserStatus.ACCEPTED||e.status===this.RoomUserStatus.REJECTED)&&e.contact.dbId===t.dbId))return this.logger.debug(`[roomService] user: ${t.dbId} already invited or accepted, will not be added`),e;if(e.users.filter(e=>e.status!==this.RoomUserStatus.DELETED).length>=this.maxRoomsUsers){const e=new Error("addRoomUser failure - Not Allowed : Participants max limit has been reached: "+this.maxRoomsUsers);throw e.status=e.errorDetailsCode="403",e.errorDetailsLabel="MaximumNumberRoomUsersReach",e.errorDetailsCode="403620",this.logger.error("[roomService] "+e.message),e}const r="boolean"==typeof i&&i?this.RoomUserStatus.ACCEPTED:this.RoomUserStatus.INVITED,a=n||"JustForFun",l=o||s.Room.Privilege.USER,c=`${this.portalURL}rooms/${e.dbId}/users`,u=this.authService.getPostHeader(),d=JSON.stringify({userId:t.dbId,privilege:l,reason:a,status:r}),f=yield fetch(c,{method:"POST",headers:u,body:d});if(!f.ok)throw f;this.logger.info(`[roomService] addRoomUser ${t.nameForLogs} to room ${e.dbId} (${e.getNameForLogs()}) success`);const _=(yield f.json()).data,h=e.getUserByJid(_.jid_im);return h?(h.status=_.status,h.date=new Date,h.privilege=_.privilege):e.users.push({contact:t,status:r,date:new Date,privilege:l}),this.refreshMemberAndOrganizerLists(e),this.eventService.publish(this.ROOM_UPDATE_EVENT,e),this.sendEvent(this.ROOM_UPDATE_EVENT,e),e}catch(r){const e=yield this.errorHelperService.getErrorInfo(r,"addRoomUser");throw this.logger.error("[roomService] "+e.message),e.error}}))}addRoomUsers(e,t,n=null){return r(this,void 0,void 0,(function*(){try{const r=[];t.forEach(t=>{e.users.some(n=>{if(n.contact.dbId===t.dbId){switch(n.status){case this.RoomUserStatus.REJECTED:case this.RoomUserStatus.UNSUBSCRIBED:r.push(this.ownerReinviteRejectedUser(e,t));break;case this.RoomUserStatus.DELETED:r.push(this.ownerReinviteDeletedUser(e,t))}return!0}return!1})||r.push(this.addRoomUser(e,t))}),yield Promise.all(r),this.logger.info("[roomService] addRoomUsers success"),this.eventService.publish(this.ROOM_ADD_USERS_EVENT,e),this.inviteGuestEmailToJoinRoom(e,n)}catch(r){const e="addRoomUsers failure: "+r.message;throw this.logger.error("[roomService] "+e),r}}))}deleteRoomUsers(e,t){return r(this,void 0,void 0,(function*(){try{const n=[];return t.forEach(t=>{e.users.some(e=>e.contact.dbId===t.dbId)&&n.push(this.ownerDeletesUserFromRoom(e,t))}),yield Promise.all(n),this.logger.info("[roomService] deleteRoomUsers success"),this.eventService.publish(this.ROOM_DELETE_USERS_EVENT,e),e}catch(n){const e="deleteRoomUsers failure: "+n.message;throw this.logger.error("[roomService] "+e),new Error(e)}}))}addRoomAndroidTVs(e,t){return r(this,void 0,void 0,(function*(){try{const n=[];return t.forEach(t=>{null!==t&&n.push(this.addRoomAndroidTV(e,t))}),yield Promise.all(n),this.logger.info("[roomService] addRoomAndroidTVs success"),this.eventService.publish(this.ROOM_ADD_USERS_EVENT,e),e}catch(n){const e="addRoomAndroidTVs failure: "+n.message;throw this.logger.error("[roomService] "+e),new Error(e)}}))}addRoomAndroidTV(e,t){return r(this,void 0,void 0,(function*(){try{const n="androidtv",r="moderator",o="accepted",i=`${this.portalURL}rooms/${e.dbId}/users`,s=this.authService.getPostHeader(),a=JSON.stringify({userId:t.dbId,privilege:r,reason:n,status:o}),l=yield fetch(i,{method:"POST",headers:s,body:a});if(!l.ok)throw l;this.logger.info(`[roomService] addRoomAndroidTV ${t.nameForLog} to room ${e.dbId} (${e.getNameForLogs()}) success`);const c=(yield l.json()).data,u=e.getUserByJid(c.jid_im);return u?(u.status=c.status,u.date=new Date,u.privilege=c.privilege):e.users.push({contact:t,status:o,date:new Date,privilege:r}),this.refreshMemberAndOrganizerLists(e),this.eventService.publish(this.ROOM_UPDATE_EVENT,e),e}catch(n){if(n.data&&n.data.errorDetails){const r=`addRoomAndroidTV ${t.nameForLog} to room ${e.dbId} (${e.getNameForLogs()}) failure: ${n.data.errorDetails}`;throw this.logger.error("[roomService] "+r),new Error(r)}const r=yield this.errorHelperService.getErrorInfo(n,"addRoomAndroidTV");throw this.logger.error("[roomService] "+r.message),r.error}}))}sendInitialPresenceForAllRooms(){Object.keys(this.rooms).forEach(e=>{const t=this.rooms[e];t&&!t.initPresPromise&&!t.initPresenceAck&&"accepted"===t.status&&t.isActive&&this.roomPresenceWaitingList.push(t)}),this.sendInitialPresenceForRoomsByParts(15)}allSettled(e){const t=e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e})));return Promise.all(t)}sendInitialPresenceForRoomsByParts(e=10,t=!1){if(!this.roomPresenceWaitingList||!this.roomPresenceWaitingList.length)return;this.logger.info("[roomService] sendInitialPresenceForRoomsByParts");const n=this.roomPresenceWaitingList.length,r=[],o=t?3e4:7500;for(let i=0;i<e;i++)this.roomPresenceWaitingList[i]&&r.push(this.sendInitialRoomPresenceSync(this.roomPresenceWaitingList[i],o));r.length&&this.allSettled(r).then(()=>{this.logger.info("[roomService] sendInitialPresenceForRoomsByParts -- done for group -- presences remaining "+this.roomPresenceWaitingList.length);const e=n===this.roomPresenceWaitingList.length;this.sendInitialPresenceForRoomsByParts(15,e)})}sendInitialRoomPresence(e,t=0){const n=t?" -- attempt "+t:"";this.logger.info("[roomService] sendInitialRoomPresence "+n+" -- "+e.getNameForLogs()+" -- "+e.dbId);const r=l.$pres({to:e.jid+"/"+this.xmppService.fullJid});r.c("x",{xmlns:"http://jabber.org/protocol/muc"}).c("history",{maxchars:"0"}),this.xmppService.send(r)}sendInitialRoomPresenceSync(e,t=7500){return e.initPresPromise?e.initPresPromise:e.initPresenceAck?(this.logger.info(`[roomService] sendInitialRoomPresenceSync -- ${e.getNameForLogs()} -- ${e.dbId} -- room already activated`),Promise.resolve()):(e.initPresPromise=new Promise((n,r)=>{e.initPresPromiseResolve=n,this.sendInitialRoomPresence(e,0);let o=0;e.initPresInterval=d.interval(t).subscribe(()=>{o<3?(o+=1,this.sendInitialRoomPresence(e,o)):(this.logger.error("[roomService] sendInitialRoomPresenceSync : no response after "+o+" retries => clean presence promise and interval for "+e.getNameForLogs()+" -- "+e.jid),r("[roomService] sendInitialRoomPresenceSync : no response"),e.initPresPromise=null,e.initPresInterval&&(e.initPresInterval.unsubscribe(),e.initPresInterval=null),e=this.rooms[e.dbId],this.eventService.publish(this.ROOM_UPDATE_EVENT,e))})}),e.initPresPromise)}sendUnavailableRoomPresence(e){const t=l.$pres({to:e.jid+"/"+g.default.userContact.jid,type:"unavailable"});t.c("x",{xmlns:"http://jabber.org/protocol/muc"}),this.xmppService.send(t)}sendAvailableRoomPresence(e){const t=l.$pres({to:e.jid+"/"+g.default.userContact.jid,type:"available"});t.c("x",{xmlns:"http://jabber.org/protocol/muc"}),this.xmppService.send(t)}createRoom(e,t,n,o,i=!0,a=null,l=null,c=!1,u=!1,d=!1,f=!0){return r(this,void 0,void 0,(function*(){const r=e.charAt(0)+"***"+e.slice(-1);try{this.logger.info('[roomService] createRoom "'+r+'"'),(void 0===i||i&&"boolean"!=typeof i)&&(i=!0),l=l||"true";const h=n?"all":"none",p=Boolean(c),m={name:e,topic:t,history:h,disableNotifications:i,mediaType:null,createConversation:l,autoAcceptInvitation:p,muteUponEntry:u,disableTimeStats:!1,playEntryTone:f};a&&(m.mediaType=a),d&&(m.disableTimeStats=d);const v=this.portalURL+"rooms/",b=this.authService.getPostHeader(),D=JSON.stringify(m),y=yield fetch(v,{method:"POST",headers:b,body:D});if(!y.ok)throw y;const C=(yield y.json()).data;try{yield this.setAvatarRoom(C,o)}catch(_){}if(this.rooms[C.id])return this.logger.info('[roomService] createRoom -- room "'+r+'" already exists'),this.rooms[C.id];const S=s.Room.create(C.id,C.jid,C.name,C.topic,C.creationDate,C.confEndpoints,C.history,C.customData,C.conference,C.avatar,C.isActive,C.lastActivityDate,C.autoRegister,C.autoAcceptInvitation,C.tags,C.containerId,C.containerName);return S.ownerContact=g.default.userContact,S.owner=!0,S.isModerator=!0,S.status="accepted",C.users.forEach(e=>{const t=g.default.getContactById(e.userId);t&&(S.users.push({contact:t,status:e.status,date:new Date(e.additionDate),privilege:e.privilege}),g.default.isUserContact(t)&&(S.status=e.status))}),this.refreshMemberAndOrganizerLists(S),this.rooms[S.dbId]=S,this.roomsByJids[S.jid]=S,this.logger.info('[roomService] createRoom "'+r+'" -- success'),yield this.sendInitialRoomPresenceSync(S),this.rooms[S.dbId]}catch(_){const e=yield this.errorHelperService.getErrorInfo(_,"getServerInvitation");throw this.logger.error("[invitationService] "+e.message),e.error}}))}updateRoomUser(e,t,n=null,o=null){return r(this,void 0,void 0,(function*(){try{const r={status:void 0,privilege:void 0};n&&(r.status=n),o&&(r.privilege=o);const i=`${this.portalURL}rooms/${e.dbId}/users/${t.dbId}`,s=this.authService.getPostHeader(),a=JSON.stringify(r),l=yield fetch(i,{method:"PUT",headers:s,body:a});if(!l.ok)throw l;this.logger.info(`[roomService] updateRoomUser ${t.nameForLogs} to room ${e.dbId} (${e.getNameForLogs()}) success`);const c=(yield l.json()).data;return e.users.forEach(e=>{e.contact.jid===c.jid_im&&(e.privilege=c.privilege,e.status=c.status)}),this.refreshMemberAndOrganizerLists(e),this.eventService.publish(this.ROOM_UPDATE_EVENT,e),this.sendEvent(this.ROOM_UPDATE_EVENT,e),e}catch(r){if(r.data&&r.data.errorDetails){const n="updateRoomUser "+t.nameForLogs+" to room "+e.dbId+"("+e.getNameForLogs()+") failure: "+r.data.errorDetails;throw this.logger.error("[roomService] "+n),new Error(n)}const n=yield this.errorHelperService.getErrorInfo(r,"updateRoomUser");throw this.logger.error("[roomService] "+n.message),n.error}}))}ownerArchiveRoom(e){return r(this,void 0,void 0,(function*(){this.logger.info("[roomService] ownerArchiveRoom");const t=[];e.users.forEach(n=>{g.default.isUserContact(n.contact)||n.status===this.RoomUserStatus.DELETED||n.status===this.RoomUserStatus.REJECTED||t.push(this.unsubscribeUserFromRoom(e,n.contact))});try{yield Promise.all(t),this.logger.info("[roomService] unsubscribe all other users successfully"),yield this.unsubscribeMeFromRoom(e),this.logger.info("[roomService] ownerArchiveRoom successfully")}catch(n){this.logger.error("[roomService] ownerArchiveRoom failure "+n.message)}}))}unsubscribeUserFromRoom(e,t){return this.updateRoomUser(e,t,this.RoomUserStatus.UNSUBSCRIBED)}ownerDeletesUserFromRoom(e,t){return r(this,void 0,void 0,(function*(){try{this.logger.info("[roomService] ownerDeletesUserFromRoom");const n=`${this.portalURL}rooms/${e.dbId}/users/${t.dbId}`,r=this.authService.getRequestHeader(),o=yield fetch(n,{method:"DELETE",headers:r});if(!o.ok)throw o;return this.logger.info(`[roomService] ownerDeletesUserFromRoom ${t.dbId} from room ${e.dbId} (${e.getNameForLogs()}) success`),this.eventService.publish(this.ROOM_UPDATE_EVENT,e),this.sendEvent(this.ROOM_UPDATE_EVENT,e),e}catch(n){if(n.data&&n.data.errorDetails){const r="ownerDeletesUserFromRoom "+t.dbId+" from room "+e.dbId+"("+e.getNameForLogs()+") failure: "+n.data.errorDetails;throw this.logger.error("[roomService] "+r),new Error(r)}const r=yield this.errorHelperService.getErrorInfo(n,"ownerDeletesUserFromRoom");throw this.logger.error("[roomService] "+r.message),r.error}}))}ownerReinviteRejectedUser(e,t,n=null,o=null,i=!1){return r(this,void 0,void 0,(function*(){try{return yield this.ownerDeletesUserFromRoom(e,t),yield this.addRoomUser(e,t,n,o,i),this.logger.info("[roomService] ownerReinviteRejectedUser "+t.dbId+" from room "+e.dbId+"("+e.getNameForLogs()+") success"),e}catch(r){const e="ownerReinviteRejectedUser failure: "+r.message;throw this.logger.error("[roomService] "+e),new Error(e)}}))}ownerReinviteDeletedUser(e,t,n=null,o=null,i=!1){return r(this,void 0,void 0,(function*(){try{return yield this.addRoomUser(e,t,n,o,i),this.logger.info("[roomService] ownerReinviteDeletedUser "+t.dbId+" from room "+e.dbId+"("+e.getNameForLogs()+") success"),e}catch(r){const e="ownerReinviteDeletedUser failure: "+r.message;throw this.logger.error("[roomService] "+e),new Error(e)}}))}ownerDeleteRoom(e){return r(this,void 0,void 0,(function*(){const t=e.dbId;try{if(!t)return this.logger.error("[roomService] ownerDeleteRoom failure because the roomId is empty ..."),null;const n=`${this.portalURL}rooms/${t}`,r=this.authService.getRequestHeader(),o=yield fetch(n,{method:"DELETE",headers:r});if(!o.ok)throw o;return this.logger.info("[roomService] ownerDeleteRoom "+e.dbId+"("+e.getNameForLogs()+") success"),delete this.rooms[e.dbId],this.eventService.publish(this.ROOM_UPDATE_EVENT,e),this.sendEvent(this.ROOM_UPDATE_EVENT,e),e.rxSubject.next(),e}catch(n){let r="ownerDeleteRoom ("+t+") failure: unknown error occurred";throw n&&n.data&&(r="ownerDeleteRoom ("+t+") failure: "+n.data.errorDetails),n&&404===n.status&&(this.logger.info("[roomService] ownerDeleteRoom "+e.dbId+"("+e.getNameForLogs()+") not found, deleting it from local storage"),delete this.rooms[e.dbId],this.eventService.publish(this.ROOM_UPDATE_EVENT,e),this.sendEvent(this.ROOM_UPDATE_EVENT,e)),this.logger.error("[roomService] "+r),new Error(r)}}))}ownerUpdateRoom(e){return r(this,void 0,void 0,(function*(){try{this.logger.info("[roomService] ownerUpdateRoom");const t=`${this.portalURL}rooms/${e.dbId}`,n=this.authService.getPostHeader(),r=JSON.stringify({name:e.name,topic:e.desc,visibility:e.type?"public":"private"}),o=yield fetch(t,{method:"PUT",headers:n,body:r});if(!o.ok)throw o;const i=(yield o.json()).data;return this.rooms[i.id].desc=i.topic,this.rooms[i.id].type="private"===i.visibility?s.Room.Type.PRIVATE:s.Room.Type.PUBLIC,this.logger.info("[roomService] ownerUpdateRoom successfully ("+i.id+", "+i.jid+")"),this.rooms[i.id]}catch(t){const e="ownerUpdateRoom failure: "+t.data.errorDetails;throw this.logger.error("[roomService] "+e),new Error(e)}}))}checkPromoteOwner(e,t){return r(this,void 0,void 0,(function*(){try{const n=`${this.portalURL}rooms/${e.dbId}/owners/${t.dbId}/check`,r=this.authService.getPostHeader(),o=yield fetch(n,{method:"GET",headers:r});if(!o.ok)throw o;this.logger.info("[roomService] checkPromoteOwner "+t.nameForLogs+" to room "+e.dbId+"("+e.getNameForLogs()+") success")}catch(n){const e=yield n.json();this.logger.error("[roomService] Error checkPromoteOwner");const r=e.errorDetailsCode;let o=null,i=null,s=null;const a=new RBError("");throw 409002===r&&e.errorDetailsData&&(Array.isArray(e.errorDetailsData)?(e.errorDetailsData.forEach(e=>{"BUBBLE_PARTICIPANT_COUNT"===e.feature?o=this.i18n.translate("promoteToOwnerFailureParticipantCountReached",{name:t.displayName,maxValue:e.maxValue}):"WEBRTC_CONFERENCE_ALLOWED"===e.feature?s=this.i18n.translate("promoteToOwnerFailureWebRtcConferenceAllowed",{name:t.displayName}):"BUBBLE_PROMOTE_MEMBER"===e.feature&&(i=this.i18n.translate("promoteToOwnerFailureBubblePromoteMember",{name:t.displayName}))}),o?(a.message=o,a.details={promotePossible:!1}):s?(a.message=this.i18n.translate("promoteOrganizerToOwnerMsg",{name:t.displayName}),a.details={promotePossible:!0,secondMessage:s}):i&&(a.message=this.i18n.translate("promoteOrganizerToOwnerMsg",{name:t.displayName}),a.details={promotePossible:!0,secondMessage:i})):(a.message=this.i18n.translate("promoteToOwnerFailureNotInRoom",{name:t.displayName}),a.details={promotePossible:!1})),a}}))}getCheckPromoteErrorMsg(e,t){let n="";return e&&e.errorDetailsData&&e.errorDetailsData.length>0&&e.errorDetailsData.every(e=>"BUBBLE_PARTICIPANT_COUNT"===e.feature&&(n=this.i18n.translate("promoteToOwnerFailureParticipantCountReached",{name:t.displayName}),!0)),n}changeRoomOwner(e,t){return r(this,void 0,void 0,(function*(){try{if(this.logger.info("[roomService] changeRoomOwner"),!e||!t){const e="changeRoomOwner error: - missing room or new owner";throw this.logger.error("[roomService] "+e),new Error(e)}const n=e.confEndpoints&&e.confEndpoints.length?e.confEndpoints[0].confEndpointId:"";yield this.deleteRoomConferenceEndPoint(e,n);const r=`${this.portalURL}rooms/${e.dbId}`,o=this.authService.getPostHeader(),i=JSON.stringify({owner:t.dbId}),s=yield fetch(r,{method:"PUT",headers:o,body:i});if(!s.ok)throw s;return e.ownerContact=t,e.owner=t.jid===g.default.userContact.jid,this.logger.info("[roomService] changeRoomOwner successfully ("+e.dbId+")"),this.rooms[e.dbId]}catch(n){if(n.data&&n.data.errorDetails){const e="changeRoomOwner failure: "+n.data.errorDetails;throw this.logger.error("[roomService] "+e),new Error(e)}const e=yield this.errorHelperService.getErrorInfo(n,"changeRoomOwner");throw this.logger.error("[roomService] "+e.message),e.error}}))}ownerUpdateRoomCustomData(e){return r(this,void 0,void 0,(function*(){try{this.logger.info("[roomService] ownerUpdateRoomCustomData");const t=`${this.portalURL}rooms/${e.dbId}/custom-data`,n=this.authService.getPostHeader(),r=JSON.stringify({customData:e.customData}),o=yield fetch(t,{method:"PUT",headers:n,body:r});if(!o.ok)throw o;const i=(yield o.json()).data;return this.logger.info("[roomService] ownerUpdateRoomCustomData successfully got ("+JSON.stringify(i,null,4)+")"),i.customData||{}}catch(t){if(t.data&&t.data.errorDetails){const e="ownerUpdateRoomCustomData failure: "+t.data.errorDetails;throw this.logger.error("[roomService] "+e),new Error(e)}const e=yield this.errorHelperService.getErrorInfo(t,"ownerUpdateRoomCustomData");throw this.logger.error("[roomService] "+e.message),e.error}}))}ownerUpdateRoomNameAndDescription(e){return r(this,void 0,void 0,(function*(){try{this.logger.info("[roomService] ownerUpdateRoomNameAndDescription");const t=`${this.portalURL}rooms/${e.dbId}`,n=this.authService.getPostHeader(),r=JSON.stringify({name:e.name,topic:e.desc,visibility:e.type?"public":"private"}),o=yield fetch(t,{method:"PUT",headers:n,body:r});if(!o.ok)throw o;const i=(yield o.json()).data;return this.rooms[i.id].desc=i.topic,this.rooms[i.id].type="private"===i.visibility?s.Room.Type.PRIVATE:s.Room.Type.PUBLIC,(i.conference||i.confEndpoints)&&(this.rooms[i.id].conference=i.conference?i.conference:null,this.rooms[i.id].confEndpoints=i.confEndpoints?i.confEndpoints:[]),this.logger.info("[roomService] ownerUpdateRoomNameAndDescription successfully ("+i.id+", "+i.jid+")"),this.rooms[i.id]}catch(t){if(t.data&&t.data.errorDetails){const e="ownerUpdateRoomNameAndDescription failure: "+t.data.errorDetails;this.logger.error("[roomService] "+e)}const e=yield this.errorHelperService.getErrorInfo(t,"ownerUpdateRoomNameAndDescription");throw this.logger.error("[roomService] "+e.message),e.error}}))}ownerUpdateAutoRegister(e){return r(this,void 0,void 0,(function*(){try{this.logger.info("[roomService] ownerUpdateAutoRegister");const t=`${this.portalURL}rooms/${e.dbId}`,n=this.authService.getPostHeader(),r=JSON.stringify({autoRegister:e.getAutoRegister()}),o=yield fetch(t,{method:"PUT",headers:n,body:r});if(!o.ok)throw o;const i=(yield o.json()).data;return this.rooms[i.id].setAutoRegister(i.autoRegister),this.rooms[i.id].desc=i.topic,this.rooms[i.id].type="private"===i.visibility?s.Room.Type.PRIVATE:s.Room.Type.PUBLIC,(i.conference||i.confEndpoints)&&(this.rooms[i.id].conference=i.conference?i.conference:null,this.rooms[i.id].confEndpoints=i.confEndpoints?i.confEndpoints:[]),this.logger.info("[roomService] ownerUpdateAutoRegister successfully ("+i.id+", "+i.jid+")"),this.rooms[i.id]}catch(t){if(t.data&&t.data.errorDetails){const e="ownerUpdateAutoRegister failure: "+t.data.errorDetails;throw this.logger.error("[roomService] "+e),new Error(e)}const e=yield this.errorHelperService.getErrorInfo(t,"ownerUpdateAutoRegister");throw this.logger.error("[roomService] "+e.message),e.error}}))}moderatorUpdateRoomConfig(e){return r(this,void 0,void 0,(function*(){try{this.logger.info("[roomService] moderatorUpdateRoomConfig");const t=`${this.portalURL}rooms/${e.dbId}`,n=this.authService.getPostHeader(),r=JSON.stringify({muteUponEntry:e.getMuteUponEntry(),disableTimeStats:e.getDisableTimeStats(),playEntryTone:e.getPlayEntryTone()}),o=yield fetch(t,{method:"PUT",headers:n,body:r});if(!o.ok)throw o;const i=(yield o.json()).data;return(i.conference||i.confEndpoints)&&(this.rooms[i.id].conference=i.conference?i.conference:null,this.rooms[i.id].confEndpoints=i.confEndpoints?i.confEndpoints:[]),this.logger.info("[roomService] moderatorUpdateRoomConfig successfully ("+i.id+", "+i.jid+")"),this.rooms[i.id]}catch(t){if(t.data&&t.data.errorDetails){const e="moderatorUpdateRoomConfig failure: "+t.data.errorDetails;throw this.logger.error("[roomService] "+e),new Error(e)}const e=yield this.errorHelperService.getErrorInfo(t,"ownerUpdateAutoRegister");throw this.logger.error("[roomService] "+e.message),e.error}}))}updateMyRoomUser(e,t){return r(this,void 0,void 0,(function*(){try{const n=`${this.portalURL}rooms/${e.dbId}/users/${g.default.userContact.dbId}`,r=this.authService.getPostHeader(),o=JSON.stringify({status:t}),i=yield fetch(n,{method:"PUT",headers:r,body:o});if(!i.ok)throw i;return this.logger.info("[roomService] updateMyRoomUser "+g.default.userContact.nameForLogs+" to room "+e.dbId+"("+e.getNameForLogs()+") success"),e}catch(n){if(n.data&&n.data.errorDetails){const t="updateMyRoomUser "+g.default.userContact.nameForLogs+" to room "+e.dbId+"("+e.getNameForLogs()+") failure: "+n.data.errorDetails;throw this.logger.error("[roomService] "+t),new Error(t)}const t=yield this.errorHelperService.getErrorInfo(n,"ownerUpdateAutoRegister");throw this.logger.error("[roomService] "+t.message),t.error}}))}unsubscribeMeFromRoom(e){return this.updateMyRoomUser(e,this.RoomUserStatus.UNSUBSCRIBED)}participantCloseRoom(e){return r(this,void 0,void 0,(function*(){const t=g.default.userContact.dbId;try{this.logger.info("[roomService] participantCloseRoom");const n=`${this.portalURL}rooms/${e.dbId}/users/${t}`,r=this.authService.getRequestHeader(),o=yield fetch(n,{method:"DELETE",headers:r});if(!o.ok)throw o;return this.logger.info("[roomService] participantCloseRoom "+t+" from room "+e.dbId+"("+e.getNameForLogs()+") success"),delete this.rooms[e.dbId],this.eventService.publish(this.ROOM_UPDATE_EVENT,e),this.sendEvent(this.ROOM_UPDATE_EVENT,e),e}catch(n){if(n.data&&n.data.errorDetails){const r="participantCloseRoom "+t+" from room "+e.dbId+"("+e.getNameForLogs()+") failure: "+n.data.errorDetails;throw this.logger.error("[roomService] "+r),new Error(r)}const r=yield this.errorHelperService.getErrorInfo(n,"participantCloseRoom");throw this.logger.error("[roomService] "+r.message),r.error}}))}acceptRoomInvitation(e){return this.updateMyRoomUser(e,this.RoomUserStatus.ACCEPTED)}declineRoomInvitation(e){return this.updateMyRoomUser(e,this.RoomUserStatus.REJECTED)}getRoomConferenceEndPoint(e,t){return r(this,void 0,void 0,(function*(){try{this.logger.info("[roomService] getRoomConferenceEndPoint");const n=`${this.portalURL}rooms/${e.dbId}/conference/${t}`,r=this.authService.getRequestHeader(),o=yield fetch(n,{method:"GET",headers:r});if(!o.ok)throw o;const i=(yield o.json()).data;return this.logger.info("[roomService] getRoomConferenceEndPoint "+t+" from room "+e.dbId+"success"),i}catch(n){if(n.data&&n.data.errorDetails){const r="getRoomConferenceEndPoint "+t+" from room "+e.dbId+"failure: "+n.data.errorDetails;throw this.logger.error("[roomService] "+r),new Error(r)}const r=yield this.errorHelperService.getErrorInfo(n,"getRoomConferenceEndPoint");throw this.logger.error("[roomService] "+r.message),r.error}}))}addRoomConferenceEndPoint(e,t,n,o){return r(this,void 0,void 0,(function*(){try{if(this.logger.info("[roomService] addRoomConferenceEndPoint"),!t)throw new Error("No ConferenceEndPoint to associate with Room");let r=!1;if(e.confEndpoints.forEach(e=>{e.confEndpointId===t.id&&(r=!0)}),r)return this.logger.info("[roomService] addRoomConferenceEndPoint : already attached to room !"),e;const i=[];n&&"pstnAudio"===n&&Object.keys(this.rooms).forEach(e=>{this.rooms[e].conference&&!this.rooms[e].conference.scheduled&&this.rooms[e].getPstnConfEndpointId()===t.id&&i.push(this.deleteRoomConferenceEndPoint(this.rooms[e],t.id))}),yield Promise.all(i);const s=`${this.portalURL}rooms/${e.dbId}/conferences`,a=this.authService.getPostHeader(),l=JSON.stringify({confId:t.id,createConversation:o||"true"}),c=yield fetch(s,{method:"POST",headers:a,body:l});if(!c.ok)throw c;const u=(yield c.json()).data;return this.logger.debug("[roomService] addRoomConferenceEndPoint response data:"+JSON.stringify(u)),e.confEndpoints.push(u),this.logger.info("[roomService] addRoomConferenceEndPoint "+t.id+" to room "+e.dbId+"success"),this.eventService.publish(this.ROOM_ADD_CONF_ENDPOINT_EVENT,e),this.sendEvent("ROOM_ADD_CONF_ENDPOINT_EVENT",e),e}catch(r){const e=yield this.errorHelperService.getErrorInfo(r,"addRoomConferenceEndPoint");throw this.logger.error("[roomService] "+e.message),e.error}}))}deleteRoomConferenceEndPoint(e,t){return r(this,void 0,void 0,(function*(){try{if(this.logger.info("[roomService] deleteRoomConferenceEndPoint"),!e||!t)return void this.logger.info("[roomService] deleteRoomConferenceEndPoint : missing parameters ");let n=!1;if(e.confEndpoints&&e.confEndpoints.length)for(let s=0;s<e.confEndpoints.length;s++)if(e.confEndpoints[s].confEndpointId===t){n=!0;break}if(!n)return void this.logger.info("[roomService] deleteRoomConferenceEndPoint : room has no such conference attached");const r=`${this.portalURL}rooms/${e.dbId}/conferences/${t}`,o=this.authService.getRequestHeader(),i=yield fetch(r,{method:"DELETE",headers:o});if(!i.ok)throw i;e.confEndpoints=(yield i.json()).data,this.logger.info("[roomService] deleteRoomConferenceEndPoint "+t+" from room "+e.dbId+"success"),this.eventService.publish(this.ROOM_REMOVE_CONF_ENDPOINT_EVENT,e),this.sendEvent("ROOM_REMOVE_CONF_ENDPOINT_EVENT",e)}catch(n){const r=(yield n.json()).data,o="deleteRoomConferenceEndPoint "+t+" from room "+e.dbId+"failure: "+r.errorDetails;if(this.logger.error("[roomService] "+o),404!==n.status)throw new Error(o);e.confEndpoints=[],this.eventService.publish(this.ROOM_REMOVE_CONF_ENDPOINT_EVENT,e),this.sendEvent("ROOM_REMOVE_CONF_ENDPOINT_EVENT",e)}}))}inviteGuestEmailToJoinRoom(e,t){return r(this,void 0,void 0,(function*(){try{if(!t||!t.length)return null;this.logger.info("[roomService] inviteGuestEmailToJoinRoom");const n=`${this.portalURL}rooms/${e.dbId}/invitations`,r=this.authService.getPostHeader(),o=JSON.stringify({scenario:"chat",emails:t,lang:g.default.userContact.language}),i=yield fetch(n,{method:"POST",headers:r,body:o});if(!i.ok)throw i;return this.eventService.publish("ROOM_UPDATE_EVENT",e),e}catch(n){const e=yield this.errorHelperService.getErrorInfo(n,"inviteGuestEmailToJoinRoom");throw this.logger.error("[roomService] "+e.message),e.error}}))}ownerCancelGuestFromRoom(e,t){return r(this,void 0,void 0,(function*(){try{if(this.logger.info("[roomService] ownerCancelGuestFromRoom"),!t||!t.length)return Promise.resolve(e);const n={emails:t,scenario:"chat",lang:g.default.userContact.language};e&&e.isMyPersonalMeetingRoom()&&e.getPstnConfEndpointId()&&(n.scenario="pstn-conference",n.confId=e.getPstnConfEndpointId());const r=`${this.portalURL}rooms/${e.dbId}/invitations/cancel`,o=this.authService.getPostHeader(),i=JSON.stringify(n),s=yield fetch(r,{method:"POST",headers:o,body:i});if(!s.ok)throw s;return e.guestEmails=(yield s.json()).guestEmails,this.eventService.publish("ROOM_UPDATE_EVENT",e),e}catch(n){const e=yield this.errorHelperService.getErrorInfo(n,"ownerCancelGuestFromRoom");throw this.logger.error("[roomService] "+e.message),e.error}}))}notifyRoomUsersJoinConference(e,t,n){return r(this,void 0,void 0,(function*(){const r=e.getPstnConfEndpointId();try{if(this.logger.info("[roomService] notifyRoomUsersJoinConference"),!r)return e;const o=e.desc,i={scenario:"pstn-conference",confId:r,noMail:"false",update:"false",users:t?t.map(e=>e.dbId):void 0,emails:n,instantMessage:o,lang:g.default.userContact.language},s=`${this.portalURL}rooms/${e.dbId}/invitations`,a=this.authService.getPostHeader(),l=JSON.stringify(i),c=yield fetch(s,{method:"POST",headers:a,body:l});if(!c.ok)throw c;return this.logger.info("[roomService] notifyRoomUsersJoinConference "+r+" from room "+e.dbId+"success"),this.rooms[e.dbId].guestEmails=n,this.eventService.publish("ROOM_UPDATE_EVENT",this.rooms[e.dbId]),this.rooms[e.dbId]}catch(o){if(o.data&&o.data.errorDetails){const t="notifyRoomUsersJoinConference "+r+" from room "+e.dbId+"failure: "+o.data.errorDetails;throw this.logger.error("[roomService] "+t),new Error(t)}const t=yield this.errorHelperService.getErrorInfo(o,"notifyRoomUsersJoinConference");throw this.logger.error("[roomService] "+t.message),t.error}}))}notifyUsersCancelConference(e,t,n){return r(this,void 0,void 0,(function*(){const r=e.getPstnConfEndpointId();try{if(this.logger.debug("[roomService] notifyUsersCancelConference"),!r)return e;const o={scenario:"pstn-conference",confId:r,noMail:"false",users:t?t.map(e=>e.dbId):void 0,emails:n,lang:g.default.userContact.language},i=`${this.portalURL}rooms/${e.dbId}/invitations`,s=this.authService.getPostHeader(),a=JSON.stringify(o),l=yield fetch(i,{method:"DELETE",headers:s,body:a});if(!l.ok)throw l;return this.logger.info("[roomService] notifyUsersCancelConference "+r+" from room "+e.dbId+"success"),this.rooms[e.dbId].guestEmails=this.rooms[e.dbId].guestEmails.filter(e=>-1===n.indexOf(e)),this.eventService.publish("ROOM_UPDATE_EVENT",this.rooms[e.dbId]),this.rooms[e.dbId]}catch(o){if(o.data&&o.data.errorDetails){const t="notifyUsersCancelConference "+r+" from room "+e.dbId+"failure: "+o.data.errorDetails;throw this.logger.error("[roomService] "+t),new Error(t)}const t=yield this.errorHelperService.getErrorInfo(o,"notifyUsersCancelConference");throw this.logger.error("[roomService] "+t.message),t.error}}))}getRoomByConferenceEndpointId(e){return r(this,void 0,void 0,(function*(){try{this.logger.info("[roomService] getRoomFromConferenceEndpointId");const t=`${this.portalURL}rooms?userId=${g.default.userContact.dbId}&confId=${e}&format=full`,n=this.authService.getRequestHeader(),r=yield fetch(t,{method:"GET",headers:n});if(!r.ok)throw r;this.logger.info("[roomService] getRoomFromConferenceEndpointId -- "+e+" -- success");const o=(yield r.json()).data;if(o.length)return this.getRoomById(o[0].id)||this.createRoomFromData(o[0]),this.getRoomById(o[0].id);throw this.logger.info("[roomService] getRoomFromConferenceEndpointId -- no room with confId "+e),new Error("no room with confId "+e)}catch(t){if(t.data&&t.data.errorDetails){const n="getRoomFromConferenceEndpointId -- "+e+" -- failure: "+t.data.errorDetails;throw this.logger.error("[roomService] "+n),new Error(n)}const n=yield this.errorHelperService.getErrorInfo(t,"getRoomByConferenceEndpointId");throw this.logger.error("[roomService] "+n.message),n.error}}))}onRoomMessage(e){return r(this,void 0,void 0,(function*(){this.logger.info("[roomService] onRoomMessage");try{const t=$(e).find("event");if(t.length>0){const e=t.attr("name");if("conferenceAdd"===e||"conferenceRemove"===e||"invitation"===e)return!0}const n=$(e).find("x").attr("thread"),r=yield this.getServerRoom(n);return r.isMeetingRoom()&&this.eventService.publish("MEETING_CREATED_EVENT",r),this.computeInvitationCounter(),this.eventService.publish(this.ROOM_INVITATION,r),this.eventService.publish(this.ROOM_UPDATE_EVENT,r),this.sendEvent(this.ROOM_UPDATE_EVENT,r),!0}catch(t){return this.logger.error("[roomService] onRoomMessage error "+t),!0}}))}onRoomNotificationMessage(e){try{const t=$(e),n=t.find("x");if(t.find("event").length&&n.length){const e=t.find("event").attr("name");if(!e||"invitation"!==e)return!0;const r=$(n[0]).attr("roomid");if(!r)return this.logger.info("[roomService] onRoomNotificationMessage error -- missing roomId"),!0;this.logger.info("[roomService] onRoomNotificationMessage : room event message with roomId "+r+" and event name "+e),this.getServerRoom(r).then(e=>{e.isMeetingRoom()&&this.eventService.publish("MEETING_CREATED_EVENT",e),e.isWebinarRoom()&&(e.webinarId=t.find("x[webinarid]").attr("webinarid")),"true"===this.settingsService.getSetting("autoAcceptRoomInvite")?this.acceptRoomInvitation(e):(this.computeInvitationCounter(),this.eventService.publish(this.ROOM_INVITATION,e),this.eventService.publish(this.ROOM_UPDATE_EVENT,e),this.sendEvent(this.ROOM_UPDATE_EVENT,e),"accepted"===e.status&&e.confEndpoints&&e.confEndpoints.length&&"webrtc"===e.confEndpoints[0].mediaType&&this.eventService.publish("ON_CONFERENCE_STARTED_INVITATION",e),this.logger.info("[roomService] onRoomNotificationMessage -- get server room success for roomId "+e.dbId+" and roomJid"+e.jid+" and name "+e.getNameForLogs()))}).catch(e=>{this.logger.error("[roomService] onRoomNotificationMessage failure :  impossible to get associated room : "+e.message)})}return!0}catch(t){return this.logger.error("[roomService] onRoomNotificationMessage error "+t),!0}}onRoomInfoMessage(e){this.logger.info("[roomService] onRoomInfoMessage");try{if($(e).find("event").length>0){this.logger.info("[roomService] onRoomInfoMessage : room event message");const t=$(e).attr("from"),n=this.xmppService.getBareJidFromJid(t),r=$(e).find("event").attr("jid"),o=$(e).find("event").attr("name"),i=$(e).attr("id");if(this.logger.info("[roomService] onRoomInfoMessage : room event message with parameters "+n+" || "+r+" || "+o+" || "+i),n&&r&&o&&i){const e=this.getRoomByJid(n);if(!e)return this.manageEventForNonExistingRoom(n,o,r),!0;const t=e.getUserByJid(r);switch(t&&"deleted"!==t.status&&this.eventService.publish(this.ROOM_ADMIN_MESSAGE_EVENT,n,r,o,i),o){case"conferenceAdd":if(e.isWebinarRoom())return!0;setTimeout(()=>{this.getServerRoom(e.dbId).then(n=>{const r=n.confEndpoints&&n.confEndpoints[0]?n.confEndpoints[0].confEndpointId:void 0;if(n.getPstnConfEndpointId()&&n.isMeetingRoom()&&(this.currentPersonalAudioRoomId=e.dbId),!n.isMeetingRoom()&&!g.default.userContact.webrtcAudioEnabled)return!0;this.logger.info("[roomService] onRoomInfoMessage : conferenceAdd event with conferenceObject related to room : "+r),this.eventService.publish("ROOM_UPDATE_CONFID",n),this.eventService.publish("ROOM_ADD_CONF_ENDPOINT_EVENT",n),this.sendEvent("ROOM_ADD_CONF_ENDPOINT_EVENT",n),n.rxSubject.next(c.RBEvent.create("ROOM_ADD_CONF_ENDPOINT_EVENT")),this.eventService.publish("ON_CONFERENCE_STARTED_INVITATION",n,t)})},1e3);break;case"conferenceRemove":if(e.isWebinarRoom())return!0;this.getServerRoom(e.dbId).then(t=>{e.getPstnConfEndpointId()&&!t.getPstnConfEndpointId()&&(this.currentPersonalAudioRoomId=""),this.logger.info("[roomService] onRoomInfoMessage : conferenceRemove event"),this.eventService.publish("ROOM_REMOVE_CONF_ENDPOINT_EVENT",t),this.sendEvent("ROOM_REMOVE_CONF_ENDPOINT_EVENT",t),t.rxSubject.next(c.RBEvent.create("ROOM_REMOVE_CONF_ENDPOINT_EVENT")),this.eventService.publish("ON_CONFERENCE_ENDED_INVITATION",t)});break;case"invitation":!e.isUserModerator(g.default.userContact)||t&&t.status!==this.RoomUserStatus.DELETED||this.getServerRoom(e.dbId).then(t=>{this.eventService.publish(this.ROOM_UPDATE_EVENT,t),this.sendEvent(this.ROOM_UPDATE_EVENT,e)})}}}else if($(e).find("subject").length>0){const t=$(e).attr("from"),n=this.xmppService.getBareJidFromJid(t),r=this.getRoomByJid(n),o=$(e).find("subject").text();r&&o&&(this.logger.info("[roomService] onRoomInfoMessage : update subject of room"),r.desc=o,this.eventService.publish(this.ROOM_UPDATE_EVENT,r),this.sendEvent(this.ROOM_UPDATE_EVENT,r))}return!0}catch(t){return this.logger.error("[roomService] onRoomInfoMessage error "+t),!0}}onRoomHistoryInfoMessage(e){const t=$(e).find("changed");if(t.length>0){const e=t.attr("with"),n=this.getRoomByJid(e);this.logger.debug("[roomService] onRoomHistoryInfoMessage with "+e),this.eventService.publish(this.ROOM_HISTORY_UPDATE_EVENT,n)}return!0}onRoomMessageConfig(e){return r(this,void 0,void 0,(function*(){try{const n=$(e),r=n.find("room"),o=r.attr("userjid"),i=r.attr("status"),s=n.find("delay");if(s.length>0&&"Offline Storage"===s.text())return!0;if(r.length>0){const e=r.attr("roomid"),s=`[roomService] onRoomMessageConfig -- management -- ${e} --`,a=this.getRoomById(e);let l=!1;if(a){const e=r.attr("topic"),c=r.attr("name");(c||e)&&(this.logger.info(s+" update name or topic"),a.name=c,a.desc=e||"",l=!0);const u=r.find("guests");u.length>0&&"update"===u.attr("action")&&(this.logger.info(s+" update guests"),a.guestEmails=[],a.guestPhoneNumbers=[],$(u).find("email").each((e,t)=>{a.guestEmails.push(t.textContent)}),$(u).find("phone-number").each((e,t)=>{a.guestPhoneNumbers.push(t.textContent)}));const d=r.attr("customData");if(d)try{const e=this.extractHtmlContent(d);a.customData=JSON.parse(e),this.logger.info(s+" handle customData")}catch(t){this.logger.error(`${s} handle customData -- FAILURE -- ${t.message}`),a.customData="{}"}const f=n.find("avatar"),_=r.attr("lastAvatarUpdateDate"),h=f.length>0&&"delete"===f.attr("action")?"delete":"update";if(a&&(_||"delete"===h)&&(this.logger.info(s+" update avatar"),l=!0),i){this.logger.info(s+" update user status");const e=a.getUserByJid(o);e?this.updateUserStatus(a,e,i):(this.logger.info(s+" update user status -- room exists, but user not. Update the room"),l=!0)}const p=r.attr("privilege");if(p){this.logger.info(`${s} update user's privilege ${p}`);const e=o?a.getUserByJid(o):null;if(l=!0,"owner"===p&&e&&e.contact&&e.contact.jid===g.default.userContact.jid){a.ownerContact=e.contact,a.owner=!0;const t=this.i18n.translate("promotedToOwner",{name:escape(a.name)});this.eventService.publish("GLOBAL_NOTIFY_MESSAGE_EVENT",t)}e&&e.contact&&(yield g.default.getContactByDBId(e.contact.dbId,!0))}const m=r.find("tags");if(m&&m.length){this.logger.info(s+" update room tags");const e=m.attr("action");this.logger.info(`${s} action = ${e}`);const t=m.find("tag");"update"===e&&(a.tags=[],t&&t.length&&t.each((e,t)=>{const n=t.getAttribute("value"),r=t.getAttribute("color"),o=t.getAttribute("emoji"),i={};n&&(i.tag=n),r&&(i.color=r),o&&(i.emoji=o),a.tags.push(i)}))}l&&(yield this.updateRoomFromServer(a)),this.eventService.publish(this.ROOM_UPDATE_EVENT,a),this.sendEvent(this.ROOM_UPDATE_EVENT,a),a.rxSubject.next()}else if(void 0===a&&e&&!this.roomsInProgress[e]&&"deleted"!==i&&"rejected"!==i){this.logger.info(s+" room does not exist, create new one"),this.roomsInProgress[e]=!0;const t=yield this.getServerRoom(e);delete this.roomsInProgress[e],this.logger.info(s+" sendInitialRoomPresence to the new room"),this.sendInitialRoomPresence(t),this.updateLater[e]&&(delete this.updateLater[e],this.logger.info("[roomService] onRoomMessageConfig -- later update of the new room"),this.getServerRoom(e).then(e=>{e.updateAvatarInfo()}))}else this.roomsInProgress[e]&&(this.updateLater[e]=e)}const a=n.find("openinvite");if(a.length>0){this.logger.info("[roomService] onRoomMessageConfig -- openinvite");const e=a.attr("action"),t=a.find("roomid").text(),n=a.find("openinviteid").text(),r=a.find("roomType").text();switch(e){case"update":{let e=!1;"personal_audio_room"!==r||t||(e=!0),Object.keys(this.openInviteIdByRoomId).forEach(o=>{this.openInviteIdByRoomId[o]&&this.openInviteIdByRoomId[o].openInviteId===n&&o!==t&&(this.logger.info("[roomService] onRoomMessageConfig -- openinviteId removed from "+o),delete this.openInviteIdByRoomId[o],this.openInviteIdByRoomIdSubject.next({openInviteId:n,roomType:r,id:t,action:"deleted"})),e&&"personal_audio_room"===this.openInviteIdByRoomId[o].roomType&&delete this.openInviteIdByRoomId[o]})}case"create":t&&n&&(this.openInviteIdByRoomId[t]={},this.openInviteIdByRoomId[t].roomType=r,this.openInviteIdByRoomId[t].openInviteId=n,this.openInviteIdByRoomId[t].openInviteLink=(config.webservices.protocol+"://meet."+config.webservices.server).replace(".red",".com")+"/"+n,this.openInviteIdByRoomIdSubject.next({openInviteId:n,roomType:r,id:t,action:"updated"}),this.logger.info("[roomService] onRoomMessageConfig -- openinviteId "+n+" assigned to room "+t),this.eventService.publish("ON_OPEN_INVITE_ID_UPDATED_EVENT",this.rooms[t]),"personal_audio_room"===r&&this.eventService.publish("ON_PERSONAL_MEETING_OPEN_INVITE_ID_UPDATED_EVENT"));break;case"delete":Object.keys(this.openInviteIdByRoomId).forEach(e=>{this.openInviteIdByRoomId[e]&&this.openInviteIdByRoomId[e].openInviteId===n&&e===t&&(this.logger.info("[roomService] onRoomMessageConfig -- openinviteId removed from "+e),delete this.openInviteIdByRoomId[e],this.openInviteIdByRoomIdSubject.next({openInviteId:n,roomType:r,id:t,action:"deleted"}),this.eventService.publish("ON_OPEN_INVITE_ID_DELETED_EVENT",this.rooms[t]))});break;default:this.logger.info("[roomService] onRoomMessageConfig -- openinviteId - unkown action : "+e)}}const l=n.find("meeting");if("management"===n.attr("type")&&l.length>0){this.logger.debug("[roomService] onRoomMessageConfig -- management meeting event");const e=l.attr("action"),t=l.find("roomid").length?l.find("roomid").text():"";switch(e){case"saved":this.currentPersonalAudioRoomId="",this.logger.debug("meeting saved: "+t),this.sendEvent("ON_MEETING_SAVED_EVENT",t);break;case"deleted":this.logger.debug("meeting deleted: "+t),this.currentPersonalAudioRoomId="",this.sendEvent("ON_MEETING_DELETED_EVENT",t);break;case"created":this.logger.debug("meeting created: "+t),this.personalAudioRoomId=t,this.currentPersonalAudioRoomId=t,this.sendEvent("ON_MEETING_CREATED_EVENT",t);break;case"updated":this.logger.debug("meeting updated: "+t),this.personalAudioRoomId=t,this.currentPersonalAudioRoomId=t,this.sendEvent("ON_MEETING_UPDATED_EVENT",t)}}const c=n.find("roomscontainer");if("management"===n.attr("type")&&c.length>0){const e=c.attr("containerid"),t=c.attr("name");switch(c.attr("action")){case"update":{const n=[],r=c.find("added");r.length&&(r.find("roomid").each((e,t)=>{n.push(t.textContent)}),n.forEach(n=>{this.rooms[n]&&(this.rooms[n].containerId=e,this.rooms[n].containerName=t)}));const o=[],i=c.find("removed");i.length&&(i.find("roomid").each((e,t)=>{o.push(t.textContent)}),o.forEach(e=>{this.rooms[e]&&(this.rooms[e].containerId="",this.rooms[e].containerName="")})),(n.length||o.length)&&this.sendEvent(this.ROOM_UPDATE_EVENT,null);break}case"create":{const n=[],r=c.find("added");r.length&&(r.find("roomid").each((e,t)=>{n.push(t.textContent)}),n.forEach(n=>{this.rooms[n]&&(this.rooms[n].containerId=e,this.rooms[n].containerName=t)})),n.length&&this.sendEvent(this.ROOM_UPDATE_EVENT,null);break}case"delete":{const t=this.getRoomsByContainerId(e);t.forEach(e=>{this.rooms[e.dbId].containerId="",this.rooms[e.dbId].containerName=""}),t.length&&this.sendEvent(this.ROOM_UPDATE_EVENT,null);break}}}return!0}catch(n){return this.logger.info("[roomService] onRoomMessageConfig  -- failure -- "+n.message),!0}}))}extractHtmlContent(e){const t=new DOMParser;let n="{}";try{n=t.parseFromString(e,"text/html").documentElement.textContent}catch(r){this.logger.error("[roomService] error in extractHtmlContent:"+r.message),n="{}"}return n}onRoomPresence(e){try{const t=$(e),n=t.attr("from"),r=this.xmppService.getBareJidFromJid(n);let o=this.xmppService.getResourceFromJid(n);const i=t.find("status");let s=null;i.each((e,t)=>{"332"===$(t).attr("code")&&(s="332"),"338"===$(t).attr("code")&&(s="338"),"339"===$(t).attr("code")&&(s="339")});const a=this.getRoomByJid(r);return a&&("338"===s?(this.logger.info("[roomService] onRoomPresence - "+a.dbId+"- Deactivated"),a.isActive=!1,this.eventService.publish(this.ROOM_UPDATE_EVENT,a),this.sendEvent(this.ROOM_UPDATE_EVENT,a)):"339"===s?(this.logger.info("[roomService] onRoomPresence - "+a.dbId+"- Reactivated"),a.initPresenceAck=!1,this.sendInitialRoomPresenceSync(a),a.isActive=!0,this.eventService.publish(this.ROOM_UPDATE_EVENT,a),this.sendEvent(this.ROOM_UPDATE_EVENT,a)):(this.logger.info("[roomService] onRoomPresence -- "+a.dbId),-1!==o.indexOf("/")&&(o=this.xmppService.getBareJidFromJid(o)),g.default.isUserContactJid(o)?"332"===s?(this.logger.error("[roomService] disconnected from room "+a.getNameForLogs()+" because of a system shutdown"),a.initPresenceAck=!1,this.sendInitialRoomPresenceSync(a)):(a.initPresenceAck=!0,this.roomPresenceWaitingList&&this.roomPresenceWaitingList.length&&this.roomPresenceWaitingList.forEach((e,t)=>{e.dbId===a.dbId&&this.roomPresenceWaitingList.splice(t,1)}),a.initPresPromise&&(this.logger.info("[roomService] onRoomPresence - initPresPromise resolved"),a.initPresPromiseResolve(a),a.initPresInterval&&(a.initPresInterval.unsubscribe(),a.initPresInterval=null),a.initPresPromise=null,a.initPresPromiseResolve=null,this.eventService.publish(this.ROOM_UPDATE_EVENT,a),this.sendEvent(this.ROOM_UPDATE_EVENT,a))):a.dbId&&!this.rooms[a.dbId]&&this.getServerRoom(a.dbId))),!0}catch(t){return this.logger.error("[roomService] onRoomPresence error "+t),!0}}updateUserStatus(e,t,n){if(this.logger.info("[roomService] "+t.status+" || "+n),g.default.isUserContactJid(t.contact.jid)&&t.status!==n)switch(this.logger.info("[roomService] my new status "+n),n){case"deleted":delete this.roomsByJids[e.jid],delete this.rooms[e.dbId],this.logger.info("[roomService] deleteRoom successfully ("+e.dbId+")"),this.sendUnavailableRoomPresence(e),this.computeInvitationCounter(),e.isMeetingRoom()&&this.eventService.publish("MEETING_DELETE_EVENT",e),this.eventService.publish(this.ROOM_UPDATE_EVENT,e,"remove"),this.sendEvent(this.ROOM_UPDATE_EVENT,e);break;case"unsubscribed":this.logger.info("[roomService] unsubscribed successfully ("+e.dbId+")"),this.sendUnavailableRoomPresence(e),e.status=this.RoomUserStatus.UNSUBSCRIBED,t.status=n,e.updateAvatarInfo(),e.isModerator=!1,e.initPresenceAck=!1,this.computeInvitationCounter(),this.eventService.publish(this.ROOM_UPDATE_EVENT,e),this.sendEvent(this.ROOM_UPDATE_EVENT,e);break;case"accepted":e.status=this.RoomUserStatus.ACCEPTED,t.status=n,this.fileStorageService.retrieveReceivedFilesForRoom(e.dbId).then(()=>{this.sendInitialRoomPresenceSync(e),e.updateAvatarInfo(),this.computeInvitationCounter(),this.eventService.publish(this.ROOM_UPDATE_EVENT,e),this.sendEvent(this.ROOM_UPDATE_EVENT,e),this.getServerRoom(e.dbId).then(e=>{this.eventService.publish(this.ROOM_UPDATE_EVENT,e),this.sendEvent(this.ROOM_UPDATE_EVENT,e),e.confEndpoints&&e.confEndpoints.length&&"webrtc"===e.confEndpoints[0].mediaType&&this.eventService.publish("ON_CONFERENCE_STARTED_INVITATION",e)}).catch(()=>{this.logger.warn("[roomService] getServerRoom "+e.dbId+" failed")})});break;case"rejected":delete this.roomsByJids[e.jid],delete this.rooms[e.dbId],e.status=this.RoomUserStatus.REJECTED,t.status=n,this.computeInvitationCounter(),this.eventService.publish(this.ROOM_UPDATE_EVENT,e),this.sendEvent(this.ROOM_UPDATE_EVENT,e)}else t&&!g.default.isUserContactJid(t.contact.jid)&&(this.logger.info("[roomService] Update user with status "+n),t.status===this.RoomUserStatus.DELETED&&n===this.RoomUserStatus.ACCEPTED&&(t.date=new Date,t.privilege===s.Room.Privilege.MODERATOR&&(t.privilege=s.Room.Privilege.USER)),t.status=n,e.updateAvatarInfo(),this.refreshMemberAndOrganizerLists(e),this.eventService.publish(this.ROOM_UPDATE_EVENT,e),this.sendEvent(this.ROOM_UPDATE_EVENT,e),this.sendEvent(this.ROOM_USER_UPDATE_EVENT,{room:e,user:t}))}findRoomsWithConfId(e){return this.getRooms().filter(t=>!(!t.confEndpoints||!t.confEndpoints.length)&&t.confEndpoints.some(t=>t.confEndpointId===e))}removeConfIdInAllRooms(e){const t=[];return e.forEach(e=>{e.confEndpoints&&e.confEndpoints.length>0&&t.push(this.deleteRoomConferenceEndPoint(e,e.confEndpoints[0].confEndpointId))}),Promise.all(t)}resetOpenInviteId(e){return r(this,void 0,void 0,(function*(){try{const t=`{this.portalURL}users/${g.default.userContact.dbId}"/public-links/reset`,n=_.default.getRequestHeader(),r=JSON.stringify({roomId:e}),o=yield fetch(t,{method:"PUT",headers:n,body:r});if(!o.ok)throw o;const i=(yield o.json()).data;return i&&i.openInviteId&&i.roomId&&(this.logger.info("[roomService] resetOpenInviteId success - openinviteId "+i.openInviteId+" bound to room "+e),this.openInviteIdByRoomId[i.roomId]={},this.openInviteIdByRoomId[i.roomId].roomType=i.roomType,this.openInviteIdByRoomId[i.roomId].openInviteId=i.openInviteId,this.openInviteIdByRoomId[i.roomId].openInviteLink=(config.webservices.protocol+"://meet."+config.webservices.server).replace(".red",".com")+"/"+i.openInviteId),i.openInviteId}catch(t){const e="resetOpenInviteId failure";throw this.logger.error("[contactService] "+e),new Error(e)}}))}bindOpenInviteIdToRoom(e){return r(this,void 0,void 0,(function*(){try{const t=`${this.portalURL}users/${g.default.userContact.dbId}/public-links/bind`,n=this.authService.getPostHeader(),r=JSON.stringify({roomId:e.dbId}),o=yield fetch(t,{method:"POST",headers:n,body:r});if(!o.ok)throw o;const i=(yield o.json()).data;if(i&&i.roomId&&i.roomType&&i.openInviteId)return this.logger.info(`[roomService] createRoomOpenInviteId -- SUCCESS - room ${i.roomId} with type ${i.roomType} bound to openInviteId ${i.openInviteId}`),this.openInviteIdByRoomId[i.roomId]={},this.openInviteIdByRoomId[i.roomId].roomType=i.roomType,this.openInviteIdByRoomId[i.roomId].openInviteId=i.openInviteId,this.openInviteIdByRoomId[i.roomId].openInviteLink=(config.webservices.protocol+"://meet."+config.webservices.server).replace(".red",".com")+"/"+i.openInviteId,this.rooms[e.dbId];throw new Error("[roomService] No or unvalid openInviteData")}catch(t){const e=yield this.errorHelperService.getErrorInfo(t,"bindOpenInviteIdToRoom");throw this.logger.error("[roomService] "+e.message),e.error}}))}unbindOpenInviteFromRoom(e){return r(this,void 0,void 0,(function*(){try{const t=`${this.portalURL}users/${g.default.userContact.dbId}/public-links/unbind`,n=this.authService.getPostHeader(),r=JSON.stringify({roomId:e}),o=yield fetch(t,{method:"PUT",headers:n,body:r});if(!o.ok)throw o;return void this.logger.info("[roomService] openInvite successfully unbound")}catch(t){const e=yield this.errorHelperService.getErrorInfo(t,"unbindOpenInviteFromRoom");throw this.logger.error("[roomService] "+e.message),e.error}}))}joinRoomUsingOpenInviteId(e){return r(this,void 0,void 0,(function*(){try{const t=config.restServerUrl+"/api/rainbow/enduser/v1.0/rooms/open-invites",n=this.authService.getPostHeader(),r=JSON.stringify({openInviteId:e}),o=yield fetch(t,{method:"POST",headers:n,body:r});if(!o.ok)throw o;const i=(yield o.json()).data;if(i&&i.roomId)return i.roomId;throw new Error("No roomId info in openInvitation")}catch(t){const e=yield this.errorHelperService.getErrorInfo(t,"unbindOpenInviteFromRoom");throw this.logger.error("[roomService] "+e.message),e.error}}))}retrieveOpenInviteData(e=null,t=null){return r(this,void 0,void 0,(function*(){this.logger.debug("[roomService] retrieveOpenInviteData - type: "+e+" - roomId: "+t);try{let n="";t&&(n+="?roomId="+t),e&&(n+=n?"&type="+e:"?type="+e);const r=this.portalURL+"users/"+g.default.userContact.dbId+"/public-links"+n,o=this.authService.getRequestHeader(),i=yield fetch(r,{method:"GET",headers:o});if(!i.ok)throw i;const s=(yield i.json()).data;s&&s.length?(this.logger.debug("[roomService] retrieveOpenInviteData -- SUCCESS - found "+s.length),s.forEach(e=>{e.roomId&&(this.openInviteIdByRoomId[e.roomId]={},this.openInviteIdByRoomId[e.roomId].roomType=e.roomType,this.openInviteIdByRoomId[e.roomId].openInviteId=e.openInviteId,this.openInviteIdByRoomId[e.roomId].openInviteLink=(config.webservices.protocol+"://meet."+config.webservices.server).replace(".red",".com")+"/"+e.openInviteId,this.logger.debug("[roomService] retrieveOpenInviteData - openInviteId "+e.openInviteId+" set for room "+e.roomId))})):this.logger.debug("[roomService] retrieveOpenInviteData -- FAILURE - none found")}catch(n){const e=yield this.errorHelperService.getErrorInfo(n,"retrieveOpenInviteData");throw this.logger.error("[roomService] "+e.message),e.error}}))}retrieveOpenInviteIdForRoom(e){return r(this,void 0,void 0,(function*(){this.logger.debug("[roomService] retrieveOpenInviteIdForRoom - roomId: "+e);try{const t=`${this.portalURL}rooms/${e}/public-links`,n=this.authService.getRequestHeader(),r=yield fetch(t,{method:"GET",headers:n});if(!r.ok)throw r;const o=(yield r.json()).data;return o.openInviteId&&(this.openInviteIdByRoomId[e]={},this.openInviteIdByRoomId[e].roomType="default",this.openInviteIdByRoomId[e].openInviteId=o.openInviteId,this.openInviteIdByRoomId[e].openInviteLink=(config.webservices.protocol+"://meet."+config.webservices.server).replace(".red",".com")+"/"+o.openInviteId,this.logger.debug("[roomService] retrieveOpenInviteIdForRoom - openInviteId "+o.openInviteId+" set for room "+e)),o.openInviteId}catch(t){const e=yield this.errorHelperService.getErrorInfo(t,"retrieveOpenInviteIdForRoom");throw this.logger.error("[roomService] "+e.message),e.error}}))}updateRoomConfEndpoint(e,t){const n=this.findRoomsWithConfId(e);n&&n.length&&n.forEach(n=>{n.confEndpoints.forEach(n=>{n.confEndpointId===e&&(n.confEndpointId=t)}),this.getServerRoom(n.dbId).then(e=>{this.eventService.publish(this.ROOM_UPDATE_EVENT,e)}),this.sendEvent("ROOM_ADD_CONF_ENDPOINT_EVENT",n)})}retrievePersonalAudioRoom(e=!1){return r(this,void 0,void 0,(function*(){if(!e&&this.personalAudioRoomId&&this.getRoomById(this.personalAudioRoomId))return this.logger.debug("[roomService] retrievePersonalAudioRoom from service data"),this.getRoomById(this.personalAudioRoomId);try{this.logger.debug("[roomService] retrievePersonalAudioRoom from server");const e=this.portalURL+"meetings/personal",t=this.authService.getRequestHeader(),n=yield fetch(e,{method:"GET",headers:t});if(!n.ok)throw n;const r=(yield n.json()).data;if(r.id){this.personalAudioRoomId=r.id;const e=this.getRoomById(r.id);return e?this.updateRoomData(e,r):this.createRoomFromData(r),this.getRoomById(r.id)}throw new Error("Wrong data from server")}catch(t){const e=yield this.errorHelperService.getErrorInfo(t,"retrievePersonalAudioRoom");throw this.logger.error("[roomService] "+e.message),e.error}}))}retrieveCurrentPersonalAudioRoom(e=!1){return r(this,void 0,void 0,(function*(){if(!e&&this.currentPersonalAudioRoomId&&this.getRoomById(this.currentPersonalAudioRoomId))return this.logger.debug("[roomService] retrieveCurrentPersonalAudioRoom from service data"),this.getRoomById(this.currentPersonalAudioRoomId);try{this.logger.debug("[roomService] retrieveCurrentPersonalAudioRoom from server");const e=this.portalURL+"meetings/current",t=this.authService.getRequestHeader(),n=yield fetch(e,{method:"GET",headers:t});if(!n.ok)throw n;const r=(yield n.json()).data;if(r.id){this.currentPersonalAudioRoomId=r.id;const e=this.getRoomById(r.id);return e?this.updateRoomData(e,r):this.createRoomFromData(r),this.getRoomById(r.id)}const o=new Error("Wrong data from server");throw this.logger.info("[roomService] "+o.message),o}catch(t){const e=yield this.errorHelperService.getErrorInfo(t,"retrieveCurrentPersonalAudioRoom");throw this.logger.error("[roomService] "+e.message),e.error}}))}reUseMeetingRoom(e){return r(this,void 0,void 0,(function*(){if(this.logger.debug("[roomService] reUseMeetingRoom - "+e),!e){const e=new Error("reUseMeetingRoom - missing parameter");throw this.logger.error(e.message),e}const t=this.getRoomById(e);t&&!t.isActive&&this.sendAvailableRoomPresence(t);try{const t=`${this.portalURL}meetings/${e}/reuse`,n=this.authService.getRequestHeader(),r=yield fetch(t,{method:"GET",headers:n});if(!r.ok)throw r;const o=(yield r.json()).data;if(o.id){this.currentPersonalAudioRoomId=o.id;const e=this.getRoomById(o.id);return e?this.updateRoomData(e,o):this.createRoomFromData(o),this.getRoomById(o.id)}throw new Error("Wrong data from server")}catch(n){const e=yield this.errorHelperService.getErrorInfo(n,"reUseMeetingRoom");throw this.logger.error("[roomService] "+e.message),e.error}}))}deletePersonalMeetingRoom(){return r(this,void 0,void 0,(function*(){this.logger.debug("[roomService] deletePersonalMeetingRoom");try{const e=this.portalURL+"meetings/delete",t=this.authService.getPostHeader(),n=yield fetch(e,{method:"PUT",headers:t});if(!n.ok)throw n;const r=(yield n.json()).data;if(r.id){let e=this.getRoomById(r.id);return e?this.updateRoomData(e,r):this.createRoomFromData(r),this.currentPersonalAudioRoomId=r.id,this.personalAudioRoomId=r.id,this.eventService.publish("ON_MEETING_CREATED_EVENT",r.id),e=this.getRoomById(r.id),e}throw new Error("Wrong data from server")}catch(e){const t=yield this.errorHelperService.getErrorInfo(e,"deletePersonalMeetingRoom");throw this.logger.error("[roomService] "+t.message),t.error}}))}saveCurrentPersonalMeetingRoom(e){return r(this,void 0,void 0,(function*(){this.logger.debug("[roomService] saveCurrentPersonalMeetingRoom");try{const t=this.portalURL+"meetings/save",n=this.authService.getPostHeader(),r=yield fetch(t,{method:"PUT",headers:n,body:JSON.stringify({name:e})});if(!r.ok)throw r;const o=(yield r.json()).data;if(o.id){this.currentPersonalAudioRoomId=o.id;let e=this.getRoomById(o.id);return e?this.updateRoomData(e,o):this.createRoomFromData(o),this.currentPersonalAudioRoomId=o.id,this.personalAudioRoomId=o.id,this.eventService.publish("ON_MEETING_CREATED_EVENT",o.id),e=this.getRoomById(o.id),e}throw new Error("Wrong data from server")}catch(t){const e=yield this.errorHelperService.getErrorInfo(t,"saveCurrentPersonalMeetingRoom");throw this.logger.error("[roomService] "+e.message),e.error}}))}getPersonalAudioRoomOpenInviteIdLink(){return this.getOpenInviteIdLinkForRoom(this.personalAudioRoomId)}getOpenInviteIdLinkForRoom(e){return this.openInviteIdByRoomId[e]?this.openInviteIdByRoomId[e].openInviteLink:null}getOpenInviteIdForRoom(e){return this.openInviteIdByRoomId[e]?this.openInviteIdByRoomId[e].openInviteId:null}getName(e){return e.name}sortObjectByProperty(e){return(t,n)=>t[e]<n[e]?-1:t[e]>n[e]?1:0}retrieveRoomConsumption(){return r(this,void 0,void 0,(function*(){this.logger.debug("[roomService] retrieveRoomConsumption");try{const e=this.portalURL+"rooms/consumption",t=this.authService.getRequestHeader(),n=yield fetch(e,{method:"GET",headers:t});if(!n.ok)throw n;const r=(yield n.json()).data;return this.logger.debug("[roomService] retrieveRoomConsumption -- SUCCESS -- "+r.currentValue),r.currentValue}catch(e){const t=yield this.errorHelperService.getErrorInfo(e,"retrieveRoomConsumption");throw this.logger.error("[roomService] "+t.message),t.error}}))}startAdHocConference(e,t=[]){return r(this,void 0,void 0,(function*(){this.logger.debug(`[roomService] startAdHocConference with ${e} and ${t}`);try{const n=this.portalURL+"adhoc",r=_.default.getPostHeader(),o=yield fetch(n,{method:"PUT",headers:r,body:JSON.stringify({calleeId:e,participantIds:t})});if(!o.ok)throw o;const i=(yield o.json()).data;return this.logger.debug("[roomService] startAdHocConference -- SUCCESS -- "),i}catch(n){const e=yield this.errorHelperService.getErrorInfo(n,"startAdHocConference");throw this.logger.error("[roomService] "+e.message),e.error}}))}manageEventForNonExistingRoom(e,t,n){return r(this,void 0,void 0,(function*(){try{setTimeout(()=>r(this,void 0,void 0,(function*(){this.logger.debug("[roomService] manageEventForNonExistingRoom for "+e);let r=this.getRoomByJid(e);r||(r=yield this.getServerRoomByJid(e));const o=r.getUserByJid(n);if("conferenceAdd"===t){if(!r.isMeetingRoom()&&!g.default.userContact.webrtcAudioEnabled)return r;this.eventService.publish("ROOM_ADD_CONF_ENDPOINT_EVENT",r),this.sendEvent("ROOM_ADD_CONF_ENDPOINT_EVENT",r),this.eventService.publish("ON_CONFERENCE_STARTED_INVITATION",r,o)}return r})),4e3)}catch(o){const e=yield this.errorHelperService.getErrorInfo(o,"manageEventForNonExistingRoom");throw this.logger.error("[roomService] "+e.message),e.error}}))}}t.RoomService=w,t.default=w.getInstance()},function(e,t,n){function r(e){return e}n.d(t,"a",(function(){return r}))},function(e,t,n){function r(e){return"function"==typeof e}n.d(t,"a",(function(){return r}))},function(e,t,n){function r(e){setTimeout((function(){throw e}),0)}n.d(t,"a",(function(){return r}))},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(39);class i{constructor(){this.message="",this.error=null}}t.ErrorHelperInfo=i;class s{constructor(){}static getInstance(){const e=window;return e.rainbow||(e.rainbow={}),e.rainbow.errorHelperService||(e.rainbow.errorHelperService=new s),e.rainbow.errorHelperService}getErrorInfo(e,t=null,n=null){return r(this,void 0,void 0,(function*(){const r=new i;if(e instanceof Error&&(r.message=e.message,r.error=e),e instanceof Response){const o=yield e.json(),i=o&&o.errorDetailsCode?o.errorDetailsCode:e.status,s=this.getStatusText(o,e),a=this.getErrorText(o),l=e.url?e.url.match(/api\/rainbow\/(\w+)\//)[1]:void 0,c=e.headers&&e.headers.get("x-rainbow-request-id")?` (x-rainbow-request-id:${e.headers.get("x-rainbow-request-id")})`:"";t&&(r.message=t+" -- "),r.message+=`${s} -- ${a}`,c&&(r.message+=c),r.error=new Error(r.message),r.error.status=e.status,r.error.fieldErrors=this.getBadRequestFieldErrors(o,e),r.error.errorDetails=a,r.error.errorDetailsCode=i,r.error.errorDetailsLabel=this.getErrorCodeLabel(i,l),r.error.translatedMessage=this.getTranslatedErrorMessage(r.error,n,l),r.error.portal=l,o&&o.errorDetailsData&&(r.error.errorDetailsData=o.errorDetailsData)}return r}))}getTranslatedErrorMessage(e,t,n){let r="";return e.errorDetailsCode&&(r=this.getLocalizedError(e.errorDetailsCode,t,n)),r}getLocalizedError(e,t,n){let r="";const i=this.getErrorCodeLabel(e,n);if(i){const e=o.default.translate(i,t);e!==i&&(r=e)}return r}getErrorText(e){if(!e)return"Unknow error - Something goes really wrong";let t="";return e.errorDetails?e.errorDetails instanceof Array?e.errorDetails.forEach(e=>{t+=e.msg}):e.errorDetails.msg?t+=JSON.stringify(e.errorDetails.msg):t+=e.errorDetails:e.errorMsg&&(t+=e.errorMsg),t}getStatusText(e,t){switch(e){case-1:return"Service unavailable";case 400:return"Bad request";case 401:return"Authorization failure";case 403:return"Access is forbidden";case 404:return"Resource not found";case 413:return"Request Entity Too Large";case 415:return"Unsupported Media Type";case 500:return"Internal server error";default:return t.statusText?t.statusText:"Unknown error"}}getBadRequestFieldErrors(e,t){const n={},r=e?e.errorDetails:null;return 400===t.status&&r&&(r instanceof Array?r.forEach(e=>{n[e.param]||(n[e.param]={ok:!1,message:e.msg,value:e.value})}):r.param&&(n[r.param]={ok:!1,message:r.msg,value:r.value}),e&&400511===e.errorDetailsCode&&(n.office365Tenant={ok:!1,message:s.ERROR_CODE_LABELS[400511]}),e&&400601===e.errorDetailsCode&&(n.outgoingPrefix={ok:!1,message:s.ERROR_CODE_LABELS[400601]},n.numberingPrefix={ok:!1,message:s.ERROR_CODE_LABELS[400601]})),n}getErrorCodeLabel(e,t){return t&&s.PORTAL_ERROR_CODE_LABELS[t]&&s.PORTAL_ERROR_CODE_LABELS[t][e]?s.PORTAL_ERROR_CODE_LABELS[t][e]:s.ERROR_CODE_LABELS[e]}}s.ERROR_CODE_LABELS={"-1":"unknownError",0:"errorNoServerResponse",400:"Bad request",4e5:"Bad request",400210:"invalidPhoneNumber",400400:"errorWrongPassword",400500:"invalidFile",400504:"companyNameAlreadyExist",400505:"BPCompanyWithoutPaymentConfigurationData",400506:"NoActiveSubscriptionToOffer",400509:"errorDecreaseSubscriptionForbidden",400511:"ActiveDirectoryDomainAlreadyUsed",400552:"BPCompanyAndECCompanyMustNotBeSame",400601:"outboundAndInternalPrefixesCantBeIdentical",400973:"noCreateUserPermission",400975:"userAlreadyExistsInOtherCompany",400983:"userAlreadyExistsInOtherCompany",400990:"noUserFound",400993:"noUserFound",401:"Authorization failure",401102:"Authorization failure",401202:"errorInvalidToken",401500:"errorUnauthorized",401501:"errorLoginForbidden",401510:"errorUnauthorized",401520:"errorUserNotActive",401521:"errorUserNotActive",403:"Forbidden",403e3:"accessDeniedNotRequiredRole",403001:"accessDeniedNotOwner",403034:"cantDeselectDefaultWebRTCGateway",403035:"cantDeleteDefaultWebRTCGateway",403060:"confLockMsg",403072:"errorIsoMd5Mismatch",403153:"notAllowedToAccessMeeting",403154:"notAllowedToAccessMeeting",403200:"notAllowedToChangeRole",403203:"notAllowedToChangeRole",403204:"notAllowedToMoveExistingUserToThisCompany",403205:"notAllowedToManageUser",403301:"notAllowedToManageCompany",403304:"notAllowedToAddAnotherAdmin",403311:"errorRemoveSyncOngoingSubscriptionForbidden",403315:"errorRemoveSubscriptionForbidden",403316:"errorRemoveAdminAllocatedSubscriptionForbidden",403317:"errorRemoveClientAllocatedSubscriptionForbidden",403400:"notAllowedDeleteAppOwner",403500:"notAllowedBlacklistedEmail",403501:"notAllowedBlacklistedEmail",403503:"NotAllowedSelfRegistrationEmail",403504:"notAllowedLoggedInUserEmail",403507:"notAllowedSupportEmail",403513:"companyNotABpCompany",403516:"companyNotABpCompany",403517:"companySeenAsTerminated",403518:"companyBpTypeIncompatible",403519:"companyAlreadyLinkedToBp",403520:"companyNotVadBp",403526:"isolatedUser",403531:"resetPasswordBlocked",403532:"resetPasswordForbidden",403608:"errorAssignSubscriptionSyncOngoing",403609:"errorAssignSubscriptionSyncOngoing",403610:"maxSubscriptionAllocationReached",403611:"notAllowedToCreateAnEquipment",403615:"maximumNumberConferenceParticipantsReach",403616:"subscriptionCompanyAdminEssentialAlreadyExists",403617:"roleCompanyAdminEssentialAlreadyExists",403620:"MaximumNumberRoomUsersReach",403621:"MaximumNumberConvUsersReach",403624:"notAllowedRemoveService",403625:"errorAllocatedSubscriptionRemoveForbidden",403626:"restrictedConvAccess",403630:"uploadErrorMaxQuotaReached",403655:"userAlreadyCompanyMember",403670:"errorOperationForbiddenOnGuest",403700:"errorDeleteSiteWithSystems",403701:"errorDeleteOrganisationLinkedCompany",403702:"errorDeleteCompanyWithSubscriptions",403703:"errorDeleteCompanyWithSites",403704:"errorDeleteCompanyWithUsers",403705:"errorDeleteCompanyStillTerminated",403706:"errorRemoveBusinessPartnerRole",403719:"externalTrunkChangeForbidden",403721:"numberingPlanCantBeUpdated",403722:"outgoingPrefixChangeForbidden",403723:"cannotRemoveCompanyPublicNumber",403724:"notAllowedDeleteCloudPbxWithPublicNumbers",403725:"notAllowedDeleteCloudPbxWithUsedExtensions",404:"resourceNotFound",404e3:"resourceNotFound",404001:"resourceNotFoundUpdateImpossible",404002:"resourceNotFoundDeleteImpossible",404116:"archivedOrDeletedConversation",404300:"noValidOfferReferenceInACTISFile",404301:"offerNotFound",409e3:"userAlreadyCreated",409005:"inviteUsersError",409011:"noMessagesToExport",409251:"DDIAlreadyAssociatedToCompany",409552:"internalNumberAlreadyUsed",409555:"publicNumberAlreadyExists",409557:"notAllowedDeleteUserAssociatedToCloudPbx",409600:"userAlreadyExist",409601:"invitationReSentConflict",409602:"userAlreadyNetworkMember",409603:"invitationReSentConflict",409620:"offerAlreadySubscribed",409623:"conferenceOfferAlreadySubscribed",409625:"errorUpdateSyncOngoingSubscriptionForbidden",409800:"companyNotIrBp",409801:"companyNotLinkedToBp",409802:"actisCompanyAdminMismatch",409803:"actisCompanyNameMismatch",413e3:"uploadErrorTooLarge",500:"errorInternalServerError",1001:"extensionNotLinkedToEquipment",1002:"extensionHasNoIdentifier",1003:"extensionDoesNotExist",1004:"extensionLookupFailure",1005:"extensionConflict",1006:"nonUniqueEquipmentForExtension",1007:"userAlreadyAssociatedToExtension",1008:"extensionAssociatedToAnotherUser",1009:"failedToAttachExtension",1010:"userHasNoExtension",1011:"userHasTooManyExtensions",1012:"failedToDetachExtension"},s.PORTAL_ERROR_CODE_LABELS={massprovisioning:{4e5:"invalidValue",400501:"invalidFile",400502:"invalidColumnName",400504:"invalidFile",400506:"invalidValueInActionColumn",400508:"noDataToImport",400600:"deviceTypeCannotBeUpdated",400601:"duplicateDeviceIds",400602:"duplicateMacAdresses",400603:"invalidDeviceTypes",400604:"missingDeviceTypeInLines",400605:"invalidEquipment",403610:"errorMaxSubscriptionReached",404600:"deviceDoesNotExist",404601:"noCloudPbxInCompany"},rvcpprovisioning:{403e3:"overflowConfigurationChangesStillInProgress",403622:"noVoiceLicenceAllocatedToUser",403694:"forbiddenOperationEquipmentHasGroups",403699:"forbiddenOperationEquipmentHasWelcomeService",403728:"forbiddenOperationEquipmentHasDevices",403744:"forbiddenOperationUserAlreadyAssocToWelcome",403745:"forbiddenOperationGroupAlreadyAssocToWelcome",403752:"forbiddenOperationMoreThanThreeConsecutiveMenus",403754:"forbiddenOperationMenuLinkedToAnotherMenu",403765:"forbiddenOperationMenuAlreadyLinkedToAnotherMenu",403767:"forbiddenOperationSubMenuLinkedToItsParent",409556:"companyHasAlreadyACloudPbx",409560:"macAddressAlreadyUsed",409561:"deviceStillUsedByUser",409562:"deviceAlreadyUsed",409563:"deviceAlreadyUsedByAnotherSystem",403739:"forbiddenOperationWelcomeServiceUsed",413e3:"fileTooLarge",415e3:"audioFileTypeNotSupported"},authentication:{401102:"Authorization failure",401103:"Authorization failure",401500:"Authorization failure",401520:"Forbidden",401521:"Forbidden",401522:"Forbidden",401523:"Forbidden",401530:"Authorization failure",401600:"Authorization failure",401700:"Authorization failure",403e3:"Authorization failure",5e5:"errorInternalServerError",503e3:"resourceNotFound"},webinar:{403135:"WebinarInvalidRegistrationId"}},t.ErrorHelperService=s,t.default=s.getInstance()},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(6),i=n(0),s=n(4),a=n(11);class l{constructor(){this.isInitialized=!1,this.subject=new a.Subject,this.subscription=o.default.subscribeUpdateEvent("LANGUAGE_UPDATED",()=>{this.updateTranslationLanguage()})}static getInstance(){const e=window;return e.rainbow||(e.rainbow={}),e.rainbow.i18nService||(e.rainbow.i18nService=new l),e.rainbow.i18nService}subscribe(e){return this.subject.subscribe(e)}configure(e){return r(this,void 0,void 0,(function*(){this.translator=e,yield this.updateTranslationLanguage()}))}translate(e,t=null){return this.translator?this.translator.instant(e,t):e}getCurrentLanguage(){return this.translator?this.translator.use():"en"}updateTranslationLanguage(){return r(this,void 0,void 0,(function*(){try{const e=o.default.getAppliLanguage();if(this.translator){const t=yield this.translator.use(e.code);i.default.info(`[I18nService] updateTranslationLanguage -- "${t}" labels are loaded`),this.isInitialized=!0,this.subject.next()}s.locale(e.codeMoment)}catch(e){i.default.error("[I18nService] updateTranslationLanguage -- failure")}}))}}t.I18nService=l,t.default=l.getInstance()},function(e,t,n){var r,o,i,s,a,l,c,u;e.exports=(u=n(13),n(72),n(73),o=(r=u).lib,i=o.Base,s=o.WordArray,a=r.algo,l=a.MD5,c=a.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:l,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=n.hasher.create(),o=s.create(),i=o.words,a=n.keySize,l=n.iterations;i.length<a;){c&&r.update(c);var c=r.update(e).finalize(t);r.reset();for(var u=1;u<l;u++)c=r.finalize(c),r.reset();o.concat(c)}return o.sigBytes=4*a,o}}),r.EvpKDF=function(e,t,n){return c.create(n).compute(e,t)},u.EvpKDF)},function(e,t,n){n.d(t,"a",(function(){return r}));var r=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},function(e,t,n){n.d(t,"a",(function(){return r}));var r=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(11),o=n(19),i=n(18);class s{constructor(e=null,t=null,n=null){this.id=null,this.dbId=null,this.jid=null,this.fullJid=null,this.jidtel=null,this.login=null,this.temp=!1,this.roster=!1,this.initialized=!1,this.isTerminated=!1,this.ask=null,this.subscription=null,this.guest=!1,this.confId=null,this.conversation=null,this.personalAudioRoomOpenInviteId=null,this.personalAudioRoomOpenInviteIdSubject=null,this.capabilities=null,this.groups=null,this.nameUpdatePrio=null,this.rxSubject=new r.Subject,this.isBot=!1,this.isBotSharing=!1,this.status=null,this.telStatus=null,this.imStatus=null,this.oldImStatus=null,this.imStatusStamp=null,this.resources=null,this.lastActivityDate=null,this.lastActivityMessage=null,this.statusMessage=null,this.message=null,this.loginEmail=null,this.lastname=null,this.firstname=null,this.initials=null,this.name=null,this.nickname=null,this.title=null,this.jobTitle=null,this.company=null,this.isInDefaultCompany=!1,this.language=null,this.country=null,this.timezone=null,this.tags=null,this._displayName=null,this.nameForLogs=null,this.displayShortName=null,this.displayOrder="FL",this._avatar=null,this.defaultAvatar=null,this.avatarSrc=null,this.calendarState=null,this.phoneProCan=null,this.pbxId=null,this.organisationId=null,this.siteId=null,this.systemId=null,this.phoneNumberId=null,this.phonePbx=null,this.phoneInternalNumber=null,this.mobilePro=null,this.mobileProCan=null,this.isMobileProShared=!1,this.phonePerso=null,this.phonePersoCan=null,this.isPhonePersoShared=!1,this.mobilePerso=null,this.mobilePersoCan=null,this.isMobilePersoShared=!1,this.isVirtualTerm=!1,this.systDeviceName=null,this.voicemailNumber=null,this.hasPhoneNumber=!1,this.hasPhoneProDdiNumber=!1,this.phoneNumbersInitialized=!1,this.isCCDAgentEnabled=!1,this.emailPro=null,this.emailPerso=null,this.note1=null,this.note2=null,this.department=null,this.otherPhoneNumbers=null,this.postalCode=null,this.state=null,this.street=null,this.city=null,this.businessCompanyId=null,this.companyName=null,this.isTv=!1,this.rainbowTvData=null,this.roles=null,this.adminType=null,this.customData=null,this.userTitleNameEnabled=!1,this.alertNotificationEnabledForMyCompany=!1,this._guestMode=!1,this.guestModeSubject=new r.BehaviorSubject(this._guestMode),this.giphyEnabled=!0,this.telephonySettingsEnabled=!0,this.recordConversationEnabled=!0,this.changeSettingsEnabled=!0,this.newUiEnabled=!1,this.denySelfRegister=!1,this._fileSharingEnabled=!1,this._fileStorageEnabled=!1,this._instantMessagesEnabled=!1,this._changePresenceEnabled=!1,this._phoneMeetingsEnabled=!1,this._channelsEnabled=!1,this._roomsEnabled=!1,this._webrtcAudioEnabled=!1,this._webrtcVideoEnabled=!1,this._webrtcSharingEnabled=!1,this._modifyProfileEnabled=!1,this._useDialOutEnabled=!1,this.id=e,this.dbId=null,this.jid=e,this.fullJid=null,this.jidtel=null,this.login=null,this.temp=!1,this.roster=!1,this.initialized=!1,this.ask="none",this.subscription="none",this.guest=!1,this.confId="",this.conversation=null,this.personalAudioRoomOpenInviteId=null,this.personalAudioRoomOpenInviteIdSubject=new r.BehaviorSubject(this.personalAudioRoomOpenInviteId),this.capabilities=null,this.groups=null,this.nameUpdatePrio=s.NameUpdatePrio.MAX_UPDATE_PRIO,this.status="unknown",this.telStatus="",this.imStatus="offline",this.oldImStatus=null,this.imStatusStamp=[],this.resources={},this.mobileResource=null,this.lastActivityDate=null,this.lastActivityMessage=null,this.statusMessage=null,this.message="",this.loginEmail="",this.lastname="",this.firstname="",this.initials="",this.name={value:this._displayName},this.nameForLogs="",this._displayName=t||e,this.nickname="",this.title="",this.jobTitle="",this.company=n,this.isInDefaultCompany=!1,this.language=null,this.country="",this.timezone="",this.tags=null,this.defaultAvatar=null,this._avatar=null,this.avatarSrc=null,this.calendarState={},this.phonePro="",this.phoneProCan="",this.pbxId="",this.phonePbx="",this.phoneInternalNumber="",this.mobilePro="",this.mobileProCan="",this.isMobileProShared=!1,this.phonePerso="",this.phonePersoCan="",this.isPhonePersoShared=!1,this.mobilePerso="",this.mobilePersoCan="",this.isMobilePersoShared=!1,this.isVirtualTerm=!1,this.systDeviceName=null,this.emailPro="",this.emailPerso="",this.note1="",this.note2="",this.department="",this.otherPhoneNumbers=[],this.postalCode="",this.state="",this.street="",this.city="",this.businessCompanyId="",this.companyName="",this.isTv=!1,this.rainbowTvData={},this.roles=null,this.adminType=null,this.newUiEnabled=!1,this._fileSharingEnabled=!0,this._fileStorageEnabled=!0,this.fileStorageEnabledSubject=new r.BehaviorSubject(!0),this._instantMessagesEnabled=!0,this._changePresenceEnabled=!0,this._phoneMeetingsEnabled=!0,this.phoneMeetingsEnabledSubject=new r.BehaviorSubject(!0),this._channelsEnabled=!0,this._roomsEnabled=!0,this._webrtcAudioEnabled=!0,this._webrtcVideoEnabled=!0,this._webrtcSharingEnabled=!0,this._modifyProfileEnabled=!0,this._useDialOutEnabled=!0,this.userTitleNameEnabled=!0,this.giphyEnabled=!0,this.isCCDAgentEnabled=!1,this.denySelfRegister=!1}get guestMode(){return this._guestMode}set guestMode(e){this._guestMode=e,this.guestModeSubject.next(this._guestMode)}updateFromUserData(e){this.dbId=e.id,this.loginEmail=e.loginEmail,this.firstname=e.firstName,this.lastname=e.lastName,this.nickname=e.nickName?e.nickName:"",this.title=e.title?e.title:"",this.jobTitle=e.jobTitle?e.jobTitle:"",this.organisationId=e.organisationId,this.siteId=e.siteId,this.country=e.country?e.country:"FRA",this.timezone=e.timezone,this.roles=e.roles,this.adminType=e.adminType,this.isBot=!1,this.isBotSharing=!1,this.isTerminated=e.isTerminated,this.isInDefaultCompany=e.isInDefaultCompany,this.lastAvatarUpdateDate=e.lastAvatarUpdateDate,this.initialized=e.isInitialized,this.guestMode=!!e.guestMode&&e.guestMode,this.personalAudioRoomOpenInviteId=e.personalAudioRoomOpenInviteId?e.personalAudioRoomOpenInviteId:this.personalAudioRoomOpenInviteId,this.personalAudioRoomOpenInviteIdSubject.next(this.personalAudioRoomOpenInviteId),this.isTv=e.isTv,this.tags=e.tags,this.department=e.department,this.customData=e.customData,this.denySelfRegister=e.denySelfRegister,e.jid_im&&(this.id=e.jid_im,this.jid=e.jid_im,this.jidtel=e.jid_tel),this.company&&this.company.id===e.companyId||(this.company=o.Company.create(e.companyId,e.companyName)),e.fileSharingCustomisation&&(this._fileSharingEnabled="enabled"===e.fileSharingCustomisation),e.fileStorageCustomisation&&(this.fileStorageEnabled="enabled"===e.fileStorageCustomisation),e.userTitleNameCustomisation&&(this.userTitleNameEnabled="enabled"===e.userTitleNameCustomisation),e.instantMessagesCustomisation&&(this._instantMessagesEnabled="enabled"===e.instantMessagesCustomisation),e.overridePresenceCustomisation&&(this._changePresenceEnabled="enabled"===e.overridePresenceCustomisation),e.phoneMeetingCustomisation&&(this.phoneMeetingsEnabled="enabled"===e.phoneMeetingCustomisation),e.useChannelCustomisation&&(this._channelsEnabled="enabled"===e.useChannelCustomisation),e.useRoomCustomisation&&(this._roomsEnabled="enabled"===e.useRoomCustomisation),e.useWebRTCAudioCustomisation&&(this._webrtcAudioEnabled="enabled"===e.useWebRTCAudioCustomisation),e.useWebRTCVideoCustomisation&&(this._webrtcVideoEnabled="enabled"===e.useWebRTCVideoCustomisation),e.useScreenSharingCustomisation&&(this._webrtcSharingEnabled="enabled"===e.useScreenSharingCustomisation),e.userProfileCustomisation&&(this._modifyProfileEnabled="enabled"===e.userProfileCustomisation),e.useGifCustomisation&&(this.giphyEnabled="enabled"===e.useGifCustomisation),e.changeTelephonyCustomisation&&(this.telephonySettingsEnabled="enabled"===e.changeTelephonyCustomisation),e.recordingConversationCustomisation&&(this.recordConversationEnabled="enabled"===e.recordingConversationCustomisation),e.changeSettingsCustomisation&&(this.changeSettingsEnabled="enabled"===e.changeSettingsCustomisation),e.useDialOutCustomisation&&(this.useDialOutEnabled="enabled"===e.useDialOutCustomisation),e.tryNewUiCustomisation&&(this.newUiEnabled="enabled"===e.tryNewUiCustomisation),this.phonePro=this.phoneProCan="",this.phonePbx="",this.phoneInternalNumber="",this.pbxId="",this.mobilePro=this.mobileProCan="",this.phonePerso=this.phonePersoCan="",this.mobilePerso=this.mobilePersoCan="",this.voicemailNumber="",this.systemId="",this.phoneNumberId="",this.hasPhoneNumber=!1,this.hasPhoneProDdiNumber=!1,this.isCCDAgentEnabled=!1,this.customData||(this.customData={}),e.emails&&(this.emailPerso="",e.emails.forEach(e=>{switch(e.type){case"work":this.emailPro=e.email;break;case"home":this.emailPerso=e.email}})),e.phoneNumbers&&(e.phoneNumbers.forEach(e=>{const t=e.number,n=e.numberE164,r=e.deviceType;switch(this.hasPhoneNumber=!0,e.type){case"work":"landline"===r&&(e.isCloudPbxDDI?(this.phonePro=e.number,this.phoneProCan=e.numberE164,this.hasPhoneProDdiNumber=!0):this.hasPhoneProDdiNumber||(this.phonePro=t,this.phoneProCan=n),e.isFromSystem&&(this.phonePbx=e.shortNumber,this.isCCDAgentEnabled="CCD agent"===e.userType,e.internalNumber&&(this.phoneInternalNumber=e.internalNumber,"Remote Extension"===e.deviceName||"Any Device"===e.deviceName||0===e.deviceName.search("UA VIRTUAL")?this.isVirtualTerm=!0:this.isVirtualTerm=!1),this.systDeviceName=e.deviceName?e.deviceName:null,this.pbxId=e.pbxId,this.voicemailNumber=e.voiceMailNumber,this.systemId=e.systemId,this.phoneNumberId=e.phoneNumberId)),"mobile"===r&&(this.mobilePro=t,this.isMobileProShared=e.isVisibleByOthers,this.mobileProCan=n);break;case"home":"landline"===r&&(this.phonePerso=t,this.isPhonePersoShared=e.isVisibleByOthers,this.phonePersoCan=n),"mobile"===r&&(this.mobilePerso=t,this.isMobilePersoShared=e.isVisibleByOthers,this.mobilePersoCan=n)}}),this.phoneNumbersInitialized=!0),this.computeDisplayName()}containsEmail(e){const t=e.toLowerCase();return!(!this.loginEmail||this.loginEmail.toLowerCase()!==t)||!(!this.emailPro||this.emailPro.toLowerCase()!==t)||!(!this.emailPerso||this.emailPerso.toLowerCase()!==t)}containsPhoneNumber(e){return!!e&&[this.phonePbx,this.phoneInternalNumber,this.phonePro,this.phoneProCan,this.mobilePro,this.mobileProCan,this.phonePerso,this.phonePersoCan,this.mobilePerso,this.mobilePersoCan].includes(e)}getGroups(){return this.groups}setGroups(e){this.groups=e}getPersonalAudioRoomOpenInviteId(){return this.personalAudioRoomOpenInviteId}setPersonalAudioRoomOpenInviteId(e){this.personalAudioRoomOpenInviteId=e,this.personalAudioRoomOpenInviteIdSubject.next(this.personalAudioRoomOpenInviteId)}set avatar(e){this._avatar=e}get avatar(){return this._avatar?this._avatar:this.avatarSrc?(this._avatar={src:this.avatarSrc},this.defaultAvatar=null,this.rxSubject.next({name:"avatar"}),this._avatar):this.defaultAvatar}getAvatarInBase64(){return new Promise(e=>{try{if(this.avatar&&this.avatar.src||e(void 0),this.avatar.src&&!this.avatar.src.startsWith("data:image/png")){const t=new Image,n=document.createElement("canvas");n.width=120,n.height=120;const r=n.getContext("2d");r.rect(0,0,120,120),r.fillStyle=this.color,r.fill(),t.onload=()=>{r.drawImage(t,0,0,120,120),e(n.toDataURL("image/png"))},t.src=this.avatar.src}else e(this.avatar.src)}catch(t){e(void 0)}})}getAvatar(e=256,t=!1){if(this.dbId&&this.lastAvatarUpdateDate){const t=i.MD5(i.enc.Latin1.parse(this.lastAvatarUpdateDate)).toString(i.enc.Hex);this.avatarSrc=`${this.avatarServerURL}/api/avatar/${this.dbId}?size=${e}&update=${t}`}this.createTextAvatarImage(),this.isTv&&(this.defaultAvatar={src:"/resources/skins/rainbow/images/misc/androidtv.svg"}),!t&&this.lastAvatarUpdateDate||(this.avatar=null)}createTextAvatarImage(){const e=new Image,t=document.createElement("canvas");t.width=e.width=225,t.height=e.height=225;const n=t.getContext("2d");n.rect(0,0,225,225),n.fillStyle=this.color,n.fill(),n.font="bold 100px Helvetica",n.textAlign="center",n.fillStyle="white",n.fillText(this.initials,110,150),e.src=t.toDataURL("image/png"),this.defaultAvatar=e}get displayName(){return this._displayName}set displayName(e){this._displayName=e,this.nameForLogs=config&&config.debug?e:e.charAt(0)+e.replace(/[^\s](?=.{1,}$)/g,"*").substr(1),this.name.value=e,this.rxSubject.next({name:"displayName"})}updateName(e,t){this.firstname=e,this.lastname=t,this.computeDisplayName(),this.getAvatar()}computeDisplayName(){const e=this.firstname?this.firstname.charAt(0).toUpperCase()+this.firstname.slice(1):null,t=this.lastname?this.lastname.charAt(0).toUpperCase()+this.lastname.slice(1):null,n=this.nickname?this.nickname.charAt(0).toUpperCase()+this.nickname.slice(1):null;this.isTv?(this.displayName=e||t,this.initials=this.displayName.charAt(0)):t&&e?"FL"===this.displayOrder?(this.displayName=e+" "+t,this.displayShortName=e+" "+t.charAt(0),this.initials=e.charAt(0)+t.charAt(0)):(this.displayName=t+" "+e,this.displayShortName=t+" "+e.charAt(0),this.initials=t.charAt(0)+e.charAt(0)):t&&!e?(this.displayName=this.displayShortName=t,this.initials=t.charAt(0)):n?(this.displayName=n,this.displayShortName=n,this.initials=n.charAt(0)):this.loginEmail?(this.displayName=this.loginEmail,this.displayShortName=this.loginEmail,this.initials=this.loginEmail.substring(0,2).toUpperCase()):e?(this.displayName=e,this.initials=e.charAt(0)):(this.displayName="Anonymous",this.displayShortName="Anonymous",this.initials="A");const r=this.displayName.toUpperCase();let o=0;for(let i=0;i<r.length;i++)o+=r.charCodeAt(i);this.colorIndex=o%12,this.color=s.textAvatarColor[this.colorIndex],this.colorName=s.textAvatarName[this.colorIndex]}isCPaaSGuest(){return this.roles.indexOf("guest")>=0}isGuest(){return this.guestMode}isAnonymousGuest(){return"A"===this.initials||"Anonymous"===this.displayName}isBadGuest(){return this.displayName.startsWith("__guest__")||this.displayName.startsWith("__##__guest__##__")}isGuestInitialized(){return null!==this.firstname&&this.firstname.length>0&&null!==this.lastname&&this.lastname.length>0&&"__##__guest__##__"!==this.firstname}hasAdminRights(){return this.isSuperadmin()||this.isBusinessAdmin()||this.isAdmin()||this.isBPAdmin()}isSuperadmin(){return this.roles.indexOf("superadmin")>=0}isBusinessAdmin(){return this.roles.indexOf("business_admin")>=0}isOrganizationAdmin(){return this.roles.indexOf("admin")>=0&&this.adminType===s.AdminType.ORGANIZATION_ADMIN}isCompanyAdmin(){return this.roles.indexOf("admin")>=0&&this.adminType===s.AdminType.COMPANY_ADMIN}isSiteAdmin(){return this.roles.indexOf("admin")>=0&&this.adminType===s.AdminType.SITE_ADMIN}isAdmin(){return this.roles.indexOf("admin")>=0&&(!this.isOrganizationAdmin()||!this.isBPAdmin())}isECAdmin(){return this.company&&!this.company.isBP&&this.isAdmin()}isBPAdmin(){return this.isBPAdminOperations()||this.isBPAdminFinance()}isBPAdminOperations(){return this.company&&this.company.isBP&&this.roles.indexOf("bp_admin")>=0}isBPAdminFinance(){return this.company&&this.company.isBP&&this.roles.indexOf("bp_finance")>=0}isBPAdminDR(){return this.isBPAdmin()&&this.company.isDR()}isBPAdminVAD(){return this.isBPAdmin()&&this.company.isVAD()}isBPAdminIR(){return this.isBPAdmin()&&this.company.isIR()}isDirectoryAdmin(){return this.roles.indexOf("directory_admin")>=0}getAdminType(){return this.roles.indexOf("admin")>=0?this.adminType:s.AdminType.UNDEFINED}set fileSharingEnabled(e){this._fileSharingEnabled=e,this.rxSubject.next({name:"fileSharingEnabled"})}get fileSharingEnabled(){return this._fileSharingEnabled}set fileStorageEnabled(e){this._fileStorageEnabled=e,this.fileStorageEnabledSubject.next(this._fileStorageEnabled),this.rxSubject.next({name:"fileStorageEnabled"})}get fileStorageEnabled(){return this._fileStorageEnabled}set instantMessagesEnabled(e){this._instantMessagesEnabled=e,this.rxSubject.next({name:"instantMessagesEnabled"})}get instantMessagesEnabled(){return this._instantMessagesEnabled}set changePresenceEnabled(e){this._changePresenceEnabled=e,this.rxSubject.next({name:"changePresenceEnabled"})}get changePresenceEnabled(){return this._changePresenceEnabled}set phoneMeetingsEnabled(e){this._phoneMeetingsEnabled=e,this.phoneMeetingsEnabledSubject.next(this._phoneMeetingsEnabled),this.rxSubject.next({name:"phoneMeetingsEnabled"})}get phoneMeetingsEnabled(){return this._phoneMeetingsEnabled}set channelsEnabled(e){this._channelsEnabled=e,this.rxSubject.next({name:"channelsEnabled"})}get channelsEnabled(){return this._channelsEnabled}set roomsEnabled(e){this._roomsEnabled=e,this.rxSubject.next({name:"roomsEnabled"})}get roomsEnabled(){return this._roomsEnabled}set webrtcAudioEnabled(e){this._webrtcAudioEnabled=e,this.rxSubject.next({name:"webrtcAudioEnabled"})}get webrtcAudioEnabled(){return this._webrtcAudioEnabled}set webrtcVideoEnabled(e){this._webrtcVideoEnabled=e,this.rxSubject.next({name:"webrtcVideoEnabled"})}get webrtcVideoEnabled(){return this._webrtcVideoEnabled}set webrtcSharingEnabled(e){this._webrtcSharingEnabled=e,this.rxSubject.next({name:"webrtcSharingEnabled"})}get webrtcSharingEnabled(){return this._webrtcSharingEnabled}set modifyProfileEnabled(e){this._modifyProfileEnabled=e,this.rxSubject.next({name:"modifyProfileEnabled"})}get modifyProfileEnabled(){return this._modifyProfileEnabled}set useDialOutEnabled(e){this._useDialOutEnabled=e,this.rxSubject.next({name:"useDialOutEnabled"})}get useDialOutEnabled(){return this._useDialOutEnabled}toString(){return this.nameForLogs}}s.AdminType={ORGANIZATION_ADMIN:"organization_admin",COMPANY_ADMIN:"company_admin",SITE_ADMIN:"site_admin",UNDEFINED:"undefined"},s.NameUpdatePrio={NO_UPDATE_PRIO:0,OUTLOOK_UPDATE_PRIO:1,SERVER_UPDATE_PRIO:2,MAX_UPDATE_PRIO:99},s.textAvatarColor=["#ca8741","#e44647","#c62582","#9b4ce7","#6573ee","#1b70e0","#6ec7d9","#98d1b1","#7fbd40","#b2d334","#dcd232","#f1be00"],s.textAvatarName=["purple-lavender","purple-violet","red-coral","blue-jeanlouisdavid","green-mint","green-yellow","orange-jade","pink-lady","yellow-submarine","blue-teal"],t.Contact=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t,n="",r=!1){this.isFavorite=!1,this.users=[],this.sortedUserList=[],this.id=e,this.name=t,this.comment=n,this.isFavorite=r}static createFromData(e){return new r(e.id,e.name,e.comment,e.isFavorite)}}t.Group=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(266),o=n(267),i=n(78),s=n(268),a=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this._parentOrParents,a=this._ctorUnsubscribe,c=this._unsubscribe,u=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var d=0;d<n.length;++d)n[d].remove(this);if(i.isFunction(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){t=h instanceof s.UnsubscriptionError?l(h.errors):[h]}}if(r.isArray(u)){d=-1;for(var f=u.length;++d<f;){var _=u[d];if(o.isObject(_))try{_.unsubscribe()}catch(h){t=t||[],h instanceof s.UnsubscriptionError?t=t.concat(l(h.errors)):t.push(h)}}}if(t)throw new s.UnsubscriptionError(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function l(e){return e.reduce((function(e,t){return e.concat(t instanceof s.UnsubscriptionError?t.errors:t)}),[])}t.Subscription=a},function(e,t,n){var r,o,i;e.exports=(i=n(13),o=(r=i).lib.WordArray,r.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var o=[],i=0;i<n;i+=3)for(var s=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;a<4&&i+.75*a<n;a++)o.push(r.charAt(s>>>6*(3-a)&63));var l=r.charAt(64);if(l)for(;o.length%4;)o.push(l);return o.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var i=0;i<n.length;i++)r[n.charCodeAt(i)]=i}var s=n.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return function(e,t,n){for(var r=[],i=0,s=0;s<t;s++)if(s%4){var a=n[e.charCodeAt(s-1)]<<s%4*2,l=n[e.charCodeAt(s)]>>>6-s%4*2;r[i>>>2]|=(a|l)<<24-i%4*8,i++}return o.create(r,i)}(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},i.enc.Base64)},function(e,t,n){var r;e.exports=(r=n(13),function(e){var t=r,n=t.lib,o=n.WordArray,i=n.Hasher,s=t.algo,a=[];!function(){for(var t=0;t<64;t++)a[t]=4294967296*e.abs(e.sin(t+1))|0}();var l=s.MD5=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,o=e[r];e[r]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,s=e[t+0],l=e[t+1],_=e[t+2],h=e[t+3],p=e[t+4],m=e[t+5],g=e[t+6],v=e[t+7],b=e[t+8],D=e[t+9],y=e[t+10],C=e[t+11],S=e[t+12],E=e[t+13],w=e[t+14],T=e[t+15],M=i[0],j=i[1],k=i[2],O=i[3];M=c(M,j,k,O,s,7,a[0]),O=c(O,M,j,k,l,12,a[1]),k=c(k,O,M,j,_,17,a[2]),j=c(j,k,O,M,h,22,a[3]),M=c(M,j,k,O,p,7,a[4]),O=c(O,M,j,k,m,12,a[5]),k=c(k,O,M,j,g,17,a[6]),j=c(j,k,O,M,v,22,a[7]),M=c(M,j,k,O,b,7,a[8]),O=c(O,M,j,k,D,12,a[9]),k=c(k,O,M,j,y,17,a[10]),j=c(j,k,O,M,C,22,a[11]),M=c(M,j,k,O,S,7,a[12]),O=c(O,M,j,k,E,12,a[13]),k=c(k,O,M,j,w,17,a[14]),M=u(M,j=c(j,k,O,M,T,22,a[15]),k,O,l,5,a[16]),O=u(O,M,j,k,g,9,a[17]),k=u(k,O,M,j,C,14,a[18]),j=u(j,k,O,M,s,20,a[19]),M=u(M,j,k,O,m,5,a[20]),O=u(O,M,j,k,y,9,a[21]),k=u(k,O,M,j,T,14,a[22]),j=u(j,k,O,M,p,20,a[23]),M=u(M,j,k,O,D,5,a[24]),O=u(O,M,j,k,w,9,a[25]),k=u(k,O,M,j,h,14,a[26]),j=u(j,k,O,M,b,20,a[27]),M=u(M,j,k,O,E,5,a[28]),O=u(O,M,j,k,_,9,a[29]),k=u(k,O,M,j,v,14,a[30]),M=d(M,j=u(j,k,O,M,S,20,a[31]),k,O,m,4,a[32]),O=d(O,M,j,k,b,11,a[33]),k=d(k,O,M,j,C,16,a[34]),j=d(j,k,O,M,w,23,a[35]),M=d(M,j,k,O,l,4,a[36]),O=d(O,M,j,k,p,11,a[37]),k=d(k,O,M,j,v,16,a[38]),j=d(j,k,O,M,y,23,a[39]),M=d(M,j,k,O,E,4,a[40]),O=d(O,M,j,k,s,11,a[41]),k=d(k,O,M,j,h,16,a[42]),j=d(j,k,O,M,g,23,a[43]),M=d(M,j,k,O,D,4,a[44]),O=d(O,M,j,k,S,11,a[45]),k=d(k,O,M,j,T,16,a[46]),M=f(M,j=d(j,k,O,M,_,23,a[47]),k,O,s,6,a[48]),O=f(O,M,j,k,v,10,a[49]),k=f(k,O,M,j,w,15,a[50]),j=f(j,k,O,M,m,21,a[51]),M=f(M,j,k,O,S,6,a[52]),O=f(O,M,j,k,h,10,a[53]),k=f(k,O,M,j,y,15,a[54]),j=f(j,k,O,M,l,21,a[55]),M=f(M,j,k,O,b,6,a[56]),O=f(O,M,j,k,T,10,a[57]),k=f(k,O,M,j,g,15,a[58]),j=f(j,k,O,M,E,21,a[59]),M=f(M,j,k,O,p,6,a[60]),O=f(O,M,j,k,C,10,a[61]),k=f(k,O,M,j,_,15,a[62]),j=f(j,k,O,M,D,21,a[63]),i[0]=i[0]+M|0,i[1]=i[1]+j|0,i[2]=i[2]+k|0,i[3]=i[3]+O|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;n[o>>>5]|=128<<24-o%32;var i=e.floor(r/4294967296),s=r;n[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),n[14+(o+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t.sigBytes=4*(n.length+1),this._process();for(var a=this._hash,l=a.words,c=0;c<4;c++){var u=l[c];l[c]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return a},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,r,o,i,s){var a=e+(t&n|~t&r)+o+s;return(a<<i|a>>>32-i)+t}function u(e,t,n,r,o,i,s){var a=e+(t&r|n&~r)+o+s;return(a<<i|a>>>32-i)+t}function d(e,t,n,r,o,i,s){var a=e+(t^n^r)+o+s;return(a<<i|a>>>32-i)+t}function f(e,t,n,r,o,i,s){var a=e+(n^(t|~r))+o+s;return(a<<i|a>>>32-i)+t}t.MD5=i._createHelper(l),t.HmacMD5=i._createHmacHelper(l)}(Math),r.MD5)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(230),o=n(231),i=n(57),s=n(401),a=n(402);function l(e){return e.reduce((function(e,n){return"b"!==n.type||"SimpleBlock"!==n.name?e:t.ebmlBlock(n.data).frames.some((function(e){return"9d012a"===e.slice(3,6).toString("hex")}))?e.concat(n):e}),[])}function c(e){var n=u("VP8 ",e);return u("RIFF",m([new t.Buffer("WEBP","ascii"),n]))}function u(e,n){var r=new t.Buffer(4);return r.writeUInt32LE(n.byteLength,0),m([new t.Buffer(e.substr(0,4),"ascii"),r,n,new t.Buffer(n.byteLength%2==0?0:1)])}function d(e,t){for(var n=-1,r=0;r<t.length;r++){var o=t[r];if(o.name===e){if("m"!==o.type)return void t.splice(r,1);if(o.isEnd){if(-1==n)throw new Error("Detected "+e+" closing element before finding the start");return void t.splice(n,r-n+1)}n=r}}}function f(e,t){for(var n=[],r=-1,o=0;o<t.length;o++){var i=t[o];if(i.name===e){if("m"!==i.type){n.push(t[o]);break}if(i.isEnd){if(-1==r)throw new Error("Detected "+e+" closing element before finding the start");n=t.slice(r,o+1);break}r=o}}return n}function _(e){var t=new o.default;return e.reduce((function(e,n){return e.concat(t.encode([n]))}),[]).reduce((function(e,t){return e+t.byteLength}),0)}function h(e,n,r){var o=r.duration,i=r.clusterPtrs,s=r.cues,a=e.slice(0);if("number"==typeof o){var l=!1;a.forEach((function(e){"f"===e.type&&"Duration"===e.name&&(l=!0,e.data=b(o,8))})),l||p(a,"Info",[{name:"Duration",type:"f",data:b(o,8)}])}Array.isArray(s)&&p(a,"Cues",function(e,t){var n=[];return e.forEach((function(e){var r=e.CueTrack,o=e.CueClusterPosition,i=e.CueTime;n.push({name:"CuePoint",type:"m",isEnd:!1}),n.push({name:"CueTime",type:"u",data:g(i)}),n.push({name:"CueTrackPositions",type:"m",isEnd:!1}),n.push({name:"CueTrack",type:"u",data:g(r)}),n.push({name:"CueClusterPosition",type:"u",data:g(o+t)}),n.push({name:"CueTrackPositions",type:"m",isEnd:!0}),n.push({name:"CuePoint",type:"m",isEnd:!0})})),n}(s,n));var c=[];return Array.isArray(i)&&(console.warn("append cluster pointers to seekhead is deprecated. please use cues"),c=function(e,n){var r=[];return e.forEach((function(e){r.push({name:"Seek",type:"m",isEnd:!1}),r.push({name:"SeekID",type:"b",data:new t.Buffer([31,67,182,117])}),r.push({name:"SeekPosition",type:"u",data:g(e+n)}),r.push({name:"Seek",type:"m",isEnd:!0})})),r}(i,n)),p(a,"SeekHead",c,!0),a}function p(e,t,n,r){void 0===r&&(r=!1);for(var o=-1,i=0;i<e.length;i++){var s=e[i];if("m"===s.type&&s.name===t&&!1===s.isEnd){o=i;break}}o>=0?Array.prototype.splice.apply(e,[o+1,0].concat(n)):r?[].concat([{name:t,type:"m",isEnd:!1}],n,[{name:t,type:"m",isEnd:!0}]).reverse().forEach((function(t){e.unshift(t)})):(e.push({name:t,type:"m",isEnd:!1}),n.forEach((function(t){e.push(t)})),e.push({name:t,type:"m",isEnd:!0}))}function m(e){for(var n=0,r=0;n<e.length;++n)r+=e[n].length;var o=t.Buffer.allocUnsafe(r),i=0;for(n=0;n<e.length;++n){var s=e[n];s.copy(o,i),i+=s.length}return o}function g(e){for(var n=1;e>=Math.pow(2,8*n);n++);if(n>=7)return console.warn("7bit or more bigger uint not supported."),new r.Uint64BE(e).toBuffer();var o=new t.Buffer(n);return o.writeUIntBE(e,0,n),o}function v(e){for(var n=1;e>=Math.pow(2,8*n);n++);if(n>=7)return console.warn("7bit or more bigger uint not supported."),new r.Int64BE(e).toBuffer();var o=new t.Buffer(n);return o.writeIntBE(e,0,n),o}function b(e,n){var r;if(void 0===n&&(n=8),8===n)return(r=new t.Buffer(8)).writeDoubleBE(e,0),r;if(4===n)return(r=new t.Buffer(4)).writeFloatBE(e,0),r;throw new Error("float type bits must 4bytes or 8bytes")}t.Buffer=i.Buffer,t.readVint=s.readVint,t.writeVint=s.writeVint,t.ebmlBlock=a,t.readBlock=function(e){return t.ebmlBlock(new t.Buffer(e))},t.encodeTag=function(e,n,r){return void 0===r&&(r=!1),m([e,r?new t.Buffer("01ffffffffffffff","hex"):t.writeVint(n.length),n])},t.WebPFrameFilter=function(e){return l(e).reduce((function(e,n){return t.ebmlBlock(n.data).frames.reduce((function(e,t){var n=c(t),r=new Blob([n],{type:"image/webp"});return e.concat(r)}),e)}),[])},t.WebPBlockFilter=l,t.VP8BitStreamToRiffWebPBuffer=c,t.createRIFFChunk=u,t.makeMetadataSeekable=function(e,n,r){var i=f("EBML",e),s=_(i)+12,a=e[e.length-1].dataEnd-s,l=f("Info",e);d("Duration",l),l.splice(1,0,{name:"Duration",type:"f",data:b(n,8)});for(var c=_(l),u=f("Tracks",e),h=_(u),p=47,m=[],v=5+15*r.length,D=[],y=-1,C=function(e){var n=p,o=n+c,i=o+h,l=i+v-a;if((m=[]).push({name:"SeekHead",type:"m",isEnd:!1}),m.push({name:"Seek",type:"m",isEnd:!1}),m.push({name:"SeekID",type:"b",data:new t.Buffer([21,73,169,102])}),m.push({name:"SeekPosition",type:"u",data:g(n)}),m.push({name:"Seek",type:"m",isEnd:!0}),m.push({name:"Seek",type:"m",isEnd:!1}),m.push({name:"SeekID",type:"b",data:new t.Buffer([22,84,174,107])}),m.push({name:"SeekPosition",type:"u",data:g(o)}),m.push({name:"Seek",type:"m",isEnd:!0}),m.push({name:"Seek",type:"m",isEnd:!1}),m.push({name:"SeekID",type:"b",data:new t.Buffer([28,83,187,107])}),m.push({name:"SeekPosition",type:"u",data:g(i)}),m.push({name:"Seek",type:"m",isEnd:!0}),m.push({name:"SeekHead",type:"m",isEnd:!0}),p=_(m),(D=[]).push({name:"Cues",type:"m",isEnd:!1}),r.forEach((function(e){var t=e.CueTrack,n=e.CueClusterPosition,r=e.CueTime;D.push({name:"CuePoint",type:"m",isEnd:!1}),D.push({name:"CueTime",type:"u",data:g(r)}),D.push({name:"CueTrackPositions",type:"m",isEnd:!1}),D.push({name:"CueTrack",type:"u",data:g(t)}),n-=s,n+=l,D.push({name:"CueClusterPosition",type:"u",data:g(n)}),D.push({name:"CueTrackPositions",type:"m",isEnd:!0}),D.push({name:"CuePoint",type:"m",isEnd:!0})})),D.push({name:"Cues",type:"m",isEnd:!0}),v=_(D),y===l)return"break";if(y=l,9===e)throw new Error("Failed to converge to a stable metadata size")},S=0;S<10;S++)if("break"===C(S))break;var E=[].concat.apply([],[i,{name:"Segment",type:"m",isEnd:!1,unknownSize:!0},m,l,u,D]);return(new o.default).encode(E)},t.removeElement=d,t.extractElement=f,t.putRefinedMetaData=function(e,n){Array.isArray(n.cueInfos)&&!Array.isArray(n.cues)&&(console.warn("putRefinedMetaData: info.cueInfos property is deprecated. please use info.cues"),n.cues=n.cueInfos);for(var r=[],i=[],s=0;s<e.length;s++){var a=e[s];if("m"===a.type&&"Segment"===a.name){if(r=e.slice(0,s),i=e.slice(s),a.unknownSize){i.shift();break}throw new Error("this metadata is not streaming webm file")}}if(!(i[i.length-1].dataEnd>0))throw new Error("metadata dataEnd has wrong number");var l,c=i[i.length-1].dataEnd,u=r[r.length-1].dataEnd,d=(new o.default).encode(r).byteLength-u,f=c-i[0].tagStart,_=(i[0].tagStart,i[0].tagStart,new t.Buffer([24,83,128,103])),p=new t.Buffer("01ffffffffffffff","hex"),m=_.byteLength+p.byteLength,g=f;for(l=1;l<20;l++){var v=h(i,d+(u+m+g-c),n),b=(new o.default).encode(v).byteLength;if(b===g)return(new o.default).encode([].concat(r,[{type:"m",name:"Segment",isEnd:!1,unknownSize:!0}],v));g=b}throw new Error("unable to refine metadata, stable size could not be found in "+l+" iterations!")},t.concat=m,t.encodeValueToBuffer=function(e){var n=new t.Buffer(0);if("m"===e.type)return e;switch(e.type){case"u":n=g(e.value);break;case"i":n=v(e.value);break;case"f":n=b(e.value);break;case"s":n=new t.Buffer(e.value,"ascii");break;case"8":n=new t.Buffer(e.value,"utf8");break;case"b":n=e.value;break;case"d":n=new r.Int64BE(e.value.getTime().toString()).toBuffer()}return Object.assign({},e,{data:n})},t.createUIntBuffer=g,t.createIntBuffer=v,t.createFloatBuffer=b,t.convertEBMLDateToJSDate=function(e){return e instanceof Date?e:new Date(new Date("2001-01-01T00:00:00.000Z").getTime()+Number(e)/1e3/1e3)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);class o{constructor(){this.queue=[],this.started=!1}static create(){return new o}add(e){this.queue.push(e),this.started||(this.started=!0,this.execute())}execute(){const e=this.queue.shift();if(e)try{this.timeoutPromise(2e4,e).then(()=>{this.execute()}).catch(e=>{const t=e&&e.message?e.message:"Unknown error";r.default.error("[PromiseQueue] execute failure -- "+t),this.execute()})}catch(t){const e=t&&t.message?t.message:"Unknown error",n=t&&t.stack?t.stack:"Unknown stack";r.default.error(`[PromiseQueue] execution exception  -- ${e} : ${n}`),this.execute()}else this.started=!1}timeoutPromise(e,t){let n=null;const r=new Promise((t,r)=>{n=setTimeout(()=>{r(new Error("Timed out in "+e+"ms."))},e)});return Promise.race([t(),r]).then(e=>(clearTimeout(n),e))}}t.PromiseQueue=o},function(e,t,n){function r(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return r}))},function(e,t,n){n.d(t,"a",(function(){return o}));var r=n(12);function o(e){for(;e;){var t=e,n=t.closed,o=t.destination,i=t.isStopped;if(n||i)return!1;e=o&&o instanceof r.a?o:null}return!0}},function(e,t,n){var r={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};r.localCName=r.generateIdentifier(),r.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},r.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},r.getDescription=function(e){var t=r.splitSections(e);return t&&t[0]},r.getMediaSections=function(e){var t=r.splitSections(e);return t.shift(),t},r.matchPrefix=function(e,t){return r.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},r.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1]}return n},r.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},r.parseIceOptions=function(e){return e.substr(14).split(" ")},r.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},r.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},r.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},r.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},r.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),o=0;o<r.length;o++)n[(t=r[o].trim().split("="))[0].trim()]=t[1];return n},r.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},r.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},r.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},r.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},r.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},r.getMid=function(e){var t=r.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},r.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},r.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:r.matchPrefix(e+t,"a=fingerprint:").map(r.parseFingerprint)}},r.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},r.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},r.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?r.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},r.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},r.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},r.getCryptoParameters=function(e,t){return r.matchPrefix(e+t,"a=crypto:").map(r.parseCryptoLine)},r.getIceParameters=function(e,t){var n=r.matchPrefix(e+t,"a=ice-ufrag:")[0],o=r.matchPrefix(e+t,"a=ice-pwd:")[0];return n&&o?{usernameFragment:n.substr(12),password:o.substr(10)}:null},r.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(e)[0].split(" "),o=3;o<n.length;o++){var i=n[o],s=r.matchPrefix(e,"a=rtpmap:"+i+" ")[0];if(s){var a=r.parseRtpMap(s),l=r.matchPrefix(e,"a=fmtp:"+i+" ");switch(a.parameters=l.length?r.parseFmtp(l[0]):{},a.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+i+" ").map(r.parseRtcpFb),t.codecs.push(a),a.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(a.name.toUpperCase())}}}return r.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(r.parseExtmap(e))})),t},r.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){n+=r.writeRtpMap(e),n+=r.writeFmtp(e),n+=r.writeRtcpFb(e)}));var o=0;return t.codecs.forEach((function(e){e.maxptime>o&&(o=e.maxptime)})),o>0&&(n+="a=maxptime:"+o+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach((function(e){n+=r.writeExtmap(e)})),n},r.parseRtpEncodingParameters=function(e){var t,n=[],o=r.parseRtpParameters(e),i=-1!==o.fecMechanisms.indexOf("RED"),s=-1!==o.fecMechanisms.indexOf("ULPFEC"),a=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),l=a.length>0&&a[0].ssrc,c=r.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));c.length>0&&c[0].length>1&&c[0][0]===l&&(t=c[0][1]),o.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var r={ssrc:l,codecPayloadType:parseInt(e.parameters.apt,10)};l&&t&&(r.rtx={ssrc:t}),n.push(r),i&&((r=JSON.parse(JSON.stringify(r))).fec={ssrc:l,mechanism:s?"red+ulpfec":"red"},n.push(r))}})),0===n.length&&l&&n.push({ssrc:l});var u=r.matchPrefix(e,"b=");return u.length&&(u=0===u[0].indexOf("b=TIAS:")?parseInt(u[0].substr(7),10):0===u[0].indexOf("b=AS:")?1e3*parseInt(u[0].substr(5),10)*.95-16e3:void 0,n.forEach((function(e){e.maxBitrate=u}))),n},r.parseRtcpParameters=function(e){var t={},n=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var o=r.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=o.length>0,t.compound=0===o.length;var i=r.matchPrefix(e,"a=rtcp-mux");return t.mux=i.length>0,t},r.parseMsid=function(e){var t,n=r.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(t=n[0].substr(7).split(" "))[0],track:t[1]};var o=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return o.length>0?{stream:(t=o[0].value.split(" "))[0],track:t[1]}:void 0},r.parseSctpDescription=function(e){var t,n=r.parseMLine(e),o=r.matchPrefix(e,"a=max-message-size:");o.length>0&&(t=parseInt(o[0].substr(19),10)),isNaN(t)&&(t=65536);var i=r.matchPrefix(e,"a=sctp-port:");if(i.length>0)return{port:parseInt(i[0].substr(12),10),protocol:n.fmt,maxMessageSize:t};if(r.matchPrefix(e,"a=sctpmap:").length>0){var s=r.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(s[0],10),protocol:s[1],maxMessageSize:t}}},r.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},r.generateSessionId=function(){return Math.random().toString().substr(2,21)},r.writeSessionBoilerplate=function(e,t,n){var o=void 0!==t?t:2;return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||r.generateSessionId())+" "+o+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.writeMediaSection=function(e,t,n,o){var i=r.writeRtpDescription(e.kind,t);if(i+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),i+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),i+="a=mid:"+e.mid+"\r\n",e.direction?i+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?i+="a=sendrecv\r\n":e.rtpSender?i+="a=sendonly\r\n":e.rtpReceiver?i+="a=recvonly\r\n":i+="a=inactive\r\n",e.rtpSender){var s="msid:"+o.id+" "+e.rtpSender.track.id+"\r\n";i+="a="+s,i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+s,e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+s,i+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),i},r.getDirection=function(e,t){for(var n=r.splitLines(e),o=0;o<n.length;o++)switch(n[o]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[o].substr(2)}return t?r.getDirection(t):"sendrecv"},r.getKind=function(e){return r.splitLines(e)[0].split(" ")[0].substr(2)},r.isRejected=function(e){return"0"===e.split(" ",2)[1]},r.parseMLine=function(e){var t=r.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},r.parseOLine=function(e){var t=r.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},r.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var t=r.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},e.exports=r},function(e,t,n){n.d(t,"a",(function(){return i}));var r=n(21),o=n(37),i={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(o.a)(e)},complete:function(){}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(66),o=n(11),i=n(60),s=n(4);class a{}a.DELETED="deleted",a.UPLOADING="uploading",a.UPLOADED="uploaded",a.NOT_UPLOADED="not_uploaded",a.DOWNLOADING="downloading",a.UNKNOWN="unknown",t.FileState=a;class l{constructor(e,t,n){this.icon=e,this.style=t,this.type=n}}class c{constructor(e){e?(this.availableThumbnail=e.availableThumbnail,this.md5sum=e.md5sum,this.size=e.size,this.wantThumbnailDate=e.wantThumbnailDate):this.availableThumbnail=!1}isThumbnailAvailable(){return this.availableThumbnail}}class u{static create(e,t,n,r,o,i,s,a,l,c,d,f,_,h,p,m,g,v,b){return new u(e,t,n,r,o,i,s,a,l,c,d,f,_,h,p,m,g,v,b)}constructor(e=null,t=null,n=null,i=null,s=null,a=null,l=null,u=null,d=null,f=null,_=null,h=null,p=null,m=0,g=0,v=0,b=null,D=null,y=!1){this.id=e,this.url=t,this.ownerId=n,this.fileName=i,this.extension=s,this.typeMIME=a,this.thumbnailPlaceholder=this.getThumbnailPlaceholderFromMimetype(a),this.size=l,this.registrationDate=u,this.uploadedDate=d,this.dateToSort=f,this.viewers=_,this.state=h,this.stateSubject=new r.BehaviorSubject(this.state),this.thumbnail=new c(p),this.fileToSend=void 0,this.previewBlob=void 0,this.previewBlobSubject=new r.BehaviorSubject(this.previewBlob),this.blobOrientation=void 0,this.blobOrientationSubject=new r.BehaviorSubject(this.blobOrientation),this.previewDownloaded=!1,this.tags=b,this.orientation=m||void 0,this.virusScanState=D,this.original_w=g||0,this.original_h=v||0,this.voiceMessage=y,this.time=this.getDate().getTime(),this.progressSubject=new o.Subject,this.loadingRef=0}isMicrosoftFile(){return["docx","doc","ppt","pptx","xls","xlsx"].some(e=>e===this.extension)}isThumbnailPossible(){return this.isImage()||this.isPDF()}isPDF(){return"application/pdf"===this.typeMIME}isSVG(){return"svg"===this.extension}isImage(){return this.typeMIME&&this.typeMIME.length>="image/".length&&"image/"===this.typeMIME.slice(0,"image/".length)}isAudioVideo(){return["avi","mpg","wma","mp3","wmv","mkv","mov","wav","ogg","mp4","aac"].some(e=>e===this.extension)}isUploaded(){return this.state&&this.state===a.UPLOADED}isPublicUrlExpired(){if(!this.publicUrlExpirationDate)return!1;const e=s();return s(this.publicUrlExpirationDate).isBefore(e)}isAlreadyFileViewer(e){return!(!this.ownerId||this.ownerId!==e)||!!this.viewers&&this.viewers.some(t=>t.viewerId===e)}getDisplayName(){return this.fileName.replace(/\.[^/.]+$/,"")}getDisplayNameTruncated(){const e=this.fileName.replace(/\.[^/.]+$/,"");return[i(e.substring(0,e.length-4)),i(e.slice(-4))]}getExtension(){return this.fileName.toUpperCase()===this.extension.toUpperCase()?"":"."+this.extension}getDuration(){return this.tags&&this.tags.duration?Math.floor(this.tags.duration):0}getThumbnailPlaceholderFromMimetype(e){return e?"image/vnd.adobe.photoshop"===e||"image/photoshop"===e||"image/x-photoshop"===e||"image/psd"===e||"application/photoshop"===e||"application/psd"===e?new l("psd-type","psdStyle","psd"):0===e.indexOf("image")?new l("image-type","imageStyle","image"):"application/msword"===e||/^application\/vnd.openxmlformats-officedocument.wordprocessingml.*$/.test(e)||"application/vnd.oasis.opendocument.text"===e?new l("document-type","docStyle","doc"):/^application\/vnd.ms-powerpoint.*$/.test(e)||/^application\/vnd.openxmlformats-officedocument.presentationml.*$/.test(e)||"application/vnd.oasis.opendocument.presentation"===e?new l("powerpoint-type","pptStyle","ppt"):0===e.indexOf("application/vnd.ms-excel")||/^application\/vnd.openxmlformats-officedocument.spreadsheetml.*$/.test(e)?new l("excel-type","xlsStyle","xls"):"application/pdf"===e||"application/vnd.oasis.opendocument.spreadsheet"===e?new l("pdf-type","pdfStyle","pdf"):0===e.indexOf("video/")?new l("video-type","videoStyle","video"):0===e.indexOf("audio/")?new l("audio-type","audioStyle","audio"):"text/plain"===e?new l("txt-type","txtStyle","txt"):"application/zip"===e||"application/x-rar-compressed"===e||"application/x-7z-compressed"===e||"application/x-tar"===e?new l("archive-type","archiveStyle","archive"):"application/illustrator"===e||0===e.indexOf("application/postscript")?new l("ai-type","aiStyle","ai"):"text/css"===e||"text/html"===e||"application/javascript"===e||"application/json"===e||"application/typescript"===e||"application/xml"===e?new l("code-type","codeStyle","code"):new l("unknown-type","otherStyle","other"):new l("unknown-type","otherStyle","other")}releaseURL(){this.localURL=void 0}setState(e){this.state=e,this.stateSubject.next(this.state)}setOriginalImageDimensions(e,t){this.original_w=e,this.original_h=t}update(e){this.id=e.id,this.url=e.url,this.ownerId=e.ownerId,this.fileName=e.fileName,this.extension=e.extension,this.typeMIME=e.typeMIME,this.size=e.size,this.registrationDate=e.registrationDate,this.uploadedDate=e.uploadedDate,this.dateToSort=e.dateToSort,this.viewers=e.viewers,this.setState(e.state),this.thumbnail=e.thumbnail,this.orientation=e.orientation,this.time=this.getDate().getTime()}getDate(){return this.uploadedDate?new Date(this.uploadedDate):this.registrationDate?new Date(this.registrationDate):new Date(this.dateToSort)}refreshFilePercent(){let e=0;this.chunkPercentArray.forEach(t=>{e+=t}),this.chunkPerformedPercent=Math.floor(e/this.chunkTotalNumber)}updateProgressInfo(){this.refreshFilePercent(),this.progressSubject.next({})}isInfected(){return"isInfected"===this.virusScanState}}t.FileDescriptor=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(265),o=n(269),i=n(270),s=n(271),a=n(68),l=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,i=o.toSubscriber(e,t,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||a.config.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),a.config.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){a.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),r.canReportError(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=c(t))((function(t,r){var o;o=n.subscribe((function(t){try{e(t)}catch(n){r(n),o&&o.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[i.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:s.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=c(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function c(e){if(e||(e=a.config.Promise||Promise),!e)throw new Error("no Promise impl found");return e}t.Observable=l},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(78),s=n(79),a=n(45),l=n(69),c=n(68),u=n(80),d=function(e){function t(n,r,o){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=s.empty;break;case 1:if(!n){i.destination=s.empty;break}if("object"==typeof n){n instanceof t?(i.syncErrorThrowable=n.syncErrorThrowable,i.destination=n,n.add(i)):(i.syncErrorThrowable=!0,i.destination=new f(i,n));break}default:i.syncErrorThrowable=!0,i.destination=new f(i,n,r,o)}return i}return o(t,e),t.prototype[l.rxSubscriber]=function(){return this},t.create=function(e,n,r){var o=new t(e,n,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(a.Subscription);t.Subscriber=d;var f=function(e){function t(t,n,r,o){var a,l=e.call(this)||this;l._parentSubscriber=t;var c=l;return i.isFunction(n)?a=n:n&&(a=n.next,r=n.error,o=n.complete,n!==s.empty&&(c=Object.create(n),i.isFunction(c.unsubscribe)&&l.add(c.unsubscribe.bind(c)),c.unsubscribe=l.unsubscribe.bind(l))),l._context=c,l._next=a,l._error=r,l._complete=o,l}return o(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=c.config.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):u.hostReportError(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;u.hostReportError(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};c.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),c.config.useDeprecatedSynchronousErrorHandling)throw n;u.hostReportError(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!c.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return c.config.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(u.hostReportError(r),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(d);t.SafeSubscriber=f},function(e,t,n){(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(388),o=n(389),i=n(390);function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=f(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),o=(e=a(e,r)).write(t,n);return o!==r&&(e=e.slice(0,o)),e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|_(t.length);return 0===(e=a(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?a(e,0):f(e,t);if("Buffer"===t.type&&i(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=a(e,t<0?0:0|_(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|_(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function _(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function h(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(r)return U(e).length;t=(""+t).toLowerCase(),r=!0}}function p(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return M(this,t,n);case"latin1":case"binary":return j(this,t,n);case"base64":return w(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,o);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,o){var i,s=1,a=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){var u=-1;for(i=n;i<a;i++)if(c(e,i)===c(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===l)return u*s}else-1!==u&&(i-=i-u),u=-1}else for(n+l>a&&(n=a-l),i=n;i>=0;i--){for(var d=!0,f=0;f<l;f++)if(c(e,i+f)!==c(t,f)){d=!1;break}if(d)return i}return-1}function b(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function D(e,t,n,r){return W(U(t,e.length-n),e,n,r)}function y(e,t,n,r){return W(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function C(e,t,n,r){return y(e,t,n,r)}function S(e,t,n,r){return W(H(t),e,n,r)}function E(e,t,n,r){return W(function(e,t){for(var n,r,o,i=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function w(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,s,a,l,c=e[o],u=null,d=c>239?4:c>223?3:c>191?2:1;if(o+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(i=e[o+1]))&&(l=(31&c)<<6|63&i)>127&&(u=l);break;case 3:i=e[o+1],s=e[o+2],128==(192&i)&&128==(192&s)&&(l=(15&c)<<12|(63&i)<<6|63&s)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:i=e[o+1],s=e[o+2],a=e[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(l=(15&c)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),o+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function M(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function j(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function k(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=B(e[i]);return o}function O(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function A(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,o,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function P(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function x(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function R(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,i){return i||R(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,i){return i||R(e,0,n,8),o.write(e,t,n,r,52,8),n+8}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=s(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var s=e[n];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,o),o+=s.length}return r},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):p.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,o){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(i,s),c=this.slice(r,o),u=e.slice(t,n),d=0;d<a;++d)if(c[d]!==u[d]){i=c[d],s=u[d];break}return i<s?-1:s<i?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return D(this,e,t,n);case"ascii":return y(this,e,t,n);case"latin1":case"binary":return C(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var o=t-e;n=new l(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},l.prototype.readUInt8=function(e,t){return t||A(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||A(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||A(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||A(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||A(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||A(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||A(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||A(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||A(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||I(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||I(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):x(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);I(this,e,t,n,o-1,-o)}var i=0,s=1,a=0;for(this[t]=255&e;++i<n&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);I(this,e,t,n,o-1,-o)}var i=n-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):x(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!l.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var s=l.isBuffer(e)?e:U(new l(e,r).toString()),a=s.length;for(i=0;i<n-t;++i)this[i+t]=s[i%a]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function H(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(N,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(65))},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(335),i=n(75),s=n(2);class a extends o.NgPgiConferenceService{constructor(){super(),this.contactService=s.ContactService.getInstance()}static getInstance(){const e=window;return e.rainbow||(e.rainbow={}),e.rainbow.pgiConferenceService||(e.rainbow.pgiConferenceService=new a),e.rainbow.pgiConferenceService}start(e){this.contactService.userContact.phoneMeetingsEnabledSubject.pipe(i.distinctUntilChanged()).subscribe(t=>t?super.start(e):(this.logger.info("start skipped - phoneMeetingsEnabled : "+this.contactService.userContact.phoneMeetingsEnabled),null))}makeSnapshotForConfId(e){const t=Object.create(null,{makeSnapshotForConfId:{get:()=>super.makeSnapshotForConfId}});return r(this,void 0,void 0,(function*(){return this.contactService&&this.contactService.userContact&&!this.contactService.userContact.phoneMeetingsEnabled?(this.logger.info("makeSnapshotForConfId skipped - phoneMeetingsEnabled : "+this.contactService.userContact.phoneMeetingsEnabled),null):yield t.makeSnapshotForConfId.call(this,e)}))}removeConferenceSession(e){return this.contactService&&this.contactService.userContact&&!this.contactService.userContact.phoneMeetingsEnabled?(this.logger.info("removeConferenceSession skipped - phoneMeetingsEnabled : "+this.contactService.userContact.phoneMeetingsEnabled),null):super.removeConferenceSession(e)}updateOrCreateConferenceSession(e,t){return this.contactService&&this.contactService.userContact&&!this.contactService.userContact.phoneMeetingsEnabled?(this.logger.info("updateOrCreateConferenceSession skipped - phoneMeetingsEnabled : "+this.contactService.userContact.phoneMeetingsEnabled),null):super.updateOrCreateConferenceSession(e,t)}updateConference(e,t){const n=Object.create(null,{updateConference:{get:()=>super.updateConference}});return r(this,void 0,void 0,(function*(){return this.contactService&&this.contactService.userContact&&!this.contactService.userContact.phoneMeetingsEnabled?(this.logger.info("updateConference skipped - phoneMeetingsEnabled : "+this.contactService.userContact.phoneMeetingsEnabled),null):yield n.updateConference.call(this,e,t)}))}getPstnInstantConferenceEndpoint(){return this.contactService&&this.contactService.userContact&&!this.contactService.userContact.phoneMeetingsEnabled?(this.logger.info("getPstnInstantConferenceEndpoint skipped - phoneMeetingsEnabled : "+this.contactService.userContact.phoneMeetingsEnabled),null):super.getPstnInstantConferenceEndpoint()}getPstnInstantConferenceEndpointId(){return this.contactService&&this.contactService.userContact&&!this.contactService.userContact.phoneMeetingsEnabled?(this.logger.info("getPstnInstantConferenceEndpointId skipped - phoneMeetingsEnabled : "+this.contactService.userContact.phoneMeetingsEnabled),null):super.getPstnInstantConferenceEndpointId()}retrievePstnConferences(){const e=Object.create(null,{retrievePstnConferences:{get:()=>super.retrievePstnConferences}});return r(this,void 0,void 0,(function*(){return this.contactService&&this.contactService.userContact&&!this.contactService.userContact.phoneMeetingsEnabled?(this.logger.info("retrievePstnConferences skipped - phoneMeetingsEnabled : "+this.contactService.userContact.phoneMeetingsEnabled),null):yield e.retrievePstnConferences.call(this)}))}retrieveConference(e,t=!1){const n=Object.create(null,{retrieveConference:{get:()=>super.retrieveConference}});return r(this,void 0,void 0,(function*(){return this.contactService&&this.contactService.userContact&&!this.contactService.userContact.phoneMeetingsEnabled?(this.logger.info("retrieveConference skipped - phoneMeetingsEnabled : "+this.contactService.userContact.phoneMeetingsEnabled),null):yield n.retrieveConference.call(this,e,t)}))}updateOrCreatePstnConferenceEndpoint(e){return this.contactService&&this.contactService.userContact&&!this.contactService.userContact.phoneMeetingsEnabled?(this.logger.info("updateOrCreatePstnConferenceEndpoint skipped - phoneMeetingsEnabled : "+this.contactService.userContact.phoneMeetingsEnabled),null):super.updateOrCreatePstnConferenceEndpoint(e)}getConferenceSessionWithConnId(e){return this.contactService&&this.contactService.userContact&&!this.contactService.userContact.phoneMeetingsEnabled?(this.logger.info("getConferenceSessionWithConnId skipped - phoneMeetingsEnabled : "+this.contactService.userContact.phoneMeetingsEnabled),null):super.getConferenceSessionWithConnId(e)}getConferenceSessionById(e){return this.contactService&&this.contactService.userContact&&!this.contactService.userContact.phoneMeetingsEnabled?(this.logger.info("getConferenceSessionById skipped - phoneMeetingsEnabled : "+this.contactService.userContact.phoneMeetingsEnabled),null):super.getConferenceSessionById(e)}subscribeToPstnSession(e){const t=Object.create(null,{subscribeToPstnSession:{get:()=>super.subscribeToPstnSession}});return r(this,void 0,void 0,(function*(){return this.contactService&&this.contactService.userContact&&!this.contactService.userContact.phoneMeetingsEnabled?(this.logger.info("subscribeToPstnSession skipped - phoneMeetingsEnabled : "+this.contactService.userContact.phoneMeetingsEnabled),null):t.subscribeToPstnSession.call(this,e)}))}unSubscribeParticipantFromPstnSession(e,t){const n=Object.create(null,{unSubscribeParticipantFromPstnSession:{get:()=>super.unSubscribeParticipantFromPstnSession}});return r(this,void 0,void 0,(function*(){return this.contactService&&this.contactService.userContact&&!this.contactService.userContact.phoneMeetingsEnabled?(this.logger.info("unSubscribeParticipantFromPstnSession skipped - phoneMeetingsEnabled : "+this.contactService.userContact.phoneMeetingsEnabled),null):n.unSubscribeParticipantFromPstnSession.call(this,e,t)}))}startPstnConference(e){const t=Object.create(null,{startPstnConference:{get:()=>super.startPstnConference}});return r(this,void 0,void 0,(function*(){return this.contactService&&this.contactService.userContact&&!this.contactService.userContact.phoneMeetingsEnabled?(this.logger.info("startPstnConference skipped - phoneMeetingsEnabled : "+this.contactService.userContact.phoneMeetingsEnabled),null):t.startPstnConference.call(this,e)}))}stopPstnConference(e){const t=Object.create(null,{stopPstnConference:{get:()=>super.stopPstnConference}});return r(this,void 0,void 0,(function*(){return this.contactService&&this.contactService.userContact&&!this.contactService.userContact.phoneMeetingsEnabled?(this.logger.info("stopPstnConference skipped - phoneMeetingsEnabled : "+this.contactService.userContact.phoneMeetingsEnabled),null):t.stopPstnConference.call(this,e)}))}joinPstnConference(e,t,n,o){const i=Object.create(null,{joinPstnConference:{get:()=>super.joinPstnConference}});return r(this,void 0,void 0,(function*(){return this.contactService&&this.contactService.userContact&&!this.contactService.userContact.phoneMeetingsEnabled?(this.logger.info("joinPstnConference skipped - phoneMeetingsEnabled : "+this.contactService.userContact.phoneMeetingsEnabled),null):i.joinPstnConference.call(this,e,t,n,o)}))}disconnectParticipant(e,t){const n=Object.create(null,{disconnectParticipant:{get:()=>super.disconnectParticipant}});return r(this,void 0,void 0,(function*(){return this.contactService&&this.contactService.userContact&&!this.contactService.userContact.phoneMeetingsEnabled?(this.logger.info("disconnectParticipant skipped - phoneMeetingsEnabled : "+this.contactService.userContact.phoneMeetingsEnabled),null):n.disconnectParticipant.call(this,e,t)}))}retrievePstnPhoneNumbers(e=!1){const t=Object.create(null,{retrievePstnPhoneNumbers:{get:()=>super.retrievePstnPhoneNumbers}});return r(this,void 0,void 0,(function*(){return this.contactService&&this.contactService.userContact&&!this.contactService.userContact.phoneMeetingsEnabled?(this.logger.info("retrievePstnPhoneNumbers skipped - phoneMeetingsEnabled : "+this.contactService.userContact.phoneMeetingsEnabled),null):t.retrievePstnPhoneNumbers.call(this,e)}))}resetPersonalMeetingRoom(){const e=Object.create(null,{resetPersonalMeetingRoom:{get:()=>super.resetPersonalMeetingRoom}});return r(this,void 0,void 0,(function*(){return this.contactService&&this.contactService.userContact&&!this.contactService.userContact.phoneMeetingsEnabled?(this.logger.info("resetPersonalMeetingRoom skipped - phoneMeetingsEnabled : "+this.contactService.userContact.phoneMeetingsEnabled),null):e.resetPersonalMeetingRoom.call(this)}))}subscribeToMyConferenceSessions(e){return this.contactService&&this.contactService.userContact&&!this.contactService.userContact.phoneMeetingsEnabled?(this.logger.info("subscribeToMyConferenceSessions skipped - phoneMeetingsEnabled : "+this.contactService.userContact.phoneMeetingsEnabled),null):super.subscribeToMyConferenceSessions(e)}}t.PgiConferenceService=a,t.default=a.getInstance()},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(33),i=n(19),s=n(18),a=n(18),l=n(0),c=n(3),u=n(26),d=n(32),f=n(38),_=n(5);class h{constructor(){this.eventService=o.default,this.logger=l.default,this.authService=c.default,this.mainService=u.default,this.userInfoService=d.default,this.xmppService=_.default,this.companies={},this.eventService.subscribe("ON_COMPANY_CHANGE_EVENT",(e,t)=>{this.getCompanyById(t,!0)}),this.xmppService.subscribeToConnectionEvents(e=>{"ON_XMPP_DISCONNECTED"===e.name&&"LOGOUT"===e.data.reason&&(this.companies={})})}static getInstance(){const e=window;return e.rainbow||(e.rainbow={}),e.rainbow.companyService||(e.rainbow.companyService=new h),e.rainbow.companyService}getCompanyById(e,t=!1){return r(this,void 0,void 0,(function*(){try{if(!e)throw new Error("missing companyId");let n=this.companies[e];if(n&&!t)return this.logger.info("[companyService] getCompanyById (cache) "+e+" - success"),n;const r=this.authService.getRequestHeader();let o=`${config.restServerUrl}/api/rainbow/enduser/v1.0/companies/${e}`;o+="?selectedThemeObj=true";const s=yield fetch(o,{method:"GET",headers:r});if(!s.ok)throw new Error(s.statusText);const a=yield s.json();return n?(n.updateFromData(a.data),this.logger.info(`getCompanyById (update) ${e} - success`)):(n=i.Company.createFromData(a.data),this.companies[n.id]=n,this.logger.info(`getCompanyById ${e} - success`)),this.getCompanyLogo(n),this.getCompanyBanner(n),n}catch(n){const e="getCompanyById -- FAILURE -- "+n.message;throw this.logger.error(e),new Error(e)}}))}searchCompanies(e,t=null,n=null,o=null){return r(this,void 0,void 0,(function*(){try{let r=`${config.restServerUrl}/api/rainbow/enduser/v1.0/companies?name=${encodeURIComponent(e)}&format=full`;null!=t&&(r+="&hasBP="+t),null!=n&&(r+="&isBP="+n),o&&(r+="&bpType="+o);const s=this.authService.getRequestHeader(),a=yield fetch(r,{method:"GET",headers:s});if(!a.ok)throw new Error(a.statusText);const l=yield a.json(),c=l.data.reduce((e,t)=>{if("Default"!==t.name&&"Rainbow"!==t.name&&"active"===t.status){let n=this.companies[t.id];n||(n=i.Company.createFromData(t),this.companies[n.id]=n,this.getCompanyLogo(n)),e.push(n)}return e},[]);return this.logger.info("searchCompanies with criteria '"+e+"' - success - found "+l.length+" companies : returns "+c.length+" companies"),c}catch(r){const e="searchCompanies -- FAILURE -- "+r.message;throw this.logger.error(e),new Error(e)}}))}getCompanyAdminsData(e){return r(this,void 0,void 0,(function*(){try{let t=`${config.restServerUrl}/api/rainbow/enduser/v1.0/companies/${e}/administrators`;t+="?selectedThemeObj=true";const n=this.authService.getRequestHeader(),r=yield fetch(t,{method:"GET",headers:n});if(!r.ok)throw new Error(r.statusText);return(yield r.json()).data}catch(t){const e="getCompanyAdminsData -- FAILURE -- "+t.message;throw this.logger.error(e),new Error(e)}}))}getCompanyUsers(e,t,n){return r(this,void 0,void 0,(function*(){try{const t=`${config.restServerUrl}/api/rainbow/search/v1.0/users?companyId=${e}&limit=${n}`,r=this.authService.getRequestHeader(),o=yield fetch(t,{method:"GET",headers:r});if(!o.ok)throw new Error(o.statusText);yield o.json()}catch(t){const e="getCompanyUsers -- FAILURE -- "+t.message;throw this.logger.error(e),new Error(e)}}))}getCompanyLogo(e){return r(this,void 0,void 0,(function*(){try{const t=this.userInfoService.computeUserColor(e.name),n=e.name.substr(0,1);return e.logo=this.userInfoService.getAvatarImage(e.id,n,t.color,130,e.lastAvatarUpdateDate),this.eventService.publish("ON_COMPANY_LOGO_UPDATED",e.id),this.logger.info("[getCompanyLogo] - "+e.getNameForLogs()+" - success"),e.sendChangeEvent("logo"),e}catch(t){throw new Error("getCompanyLogo -- FAILURE -- "+t.message)}}))}getCompanyBanner(e){return r(this,void 0,void 0,(function*(){return new Promise(t=>{const n=new Image;n.onload=()=>{e.banner=n,this.eventService.publish("ON_COMPANY_BANNER_UPDATED",e.id),this.logger.info("[getCompanyBanner] - "+e.getNameForLogs()+" - success"),t(e)},n.onerror=()=>{this.logger.error("[companyService] Load banner for "+e.getNameForLogs()+" failure"),t(e)};let r="/cacheV2/images/company-banner-01.svg";if(e.lastBannerUpdateDate){let t=config.webservices.protocol+"://"+config.webservices.currentServer;this.mainService.cdn&&(t=this.mainService.cdnServer),r=t+"/api/banner/"+e.id+"?size=831",r+="&update="+a.MD5(s.enc.Latin1.parse(e.lastBannerUpdateDate)).toString(s.enc.Hex)}n.src=r})}))}getCompanyAlertNotificationState(e){return r(this,void 0,void 0,(function*(){if(config.urgencyNotifEmissionForced)return!0;try{const t=`${config.restServerUrl}/api/rainbow/subscription/v1.0/companies/${e.id}/subscriptions/features`,n=this.authService.getRequestHeader(),r=yield fetch(t,{method:"GET",headers:n});if(!r.ok)throw new Error(r.statusText);const o=(yield r.json()).data.find(e=>"ALERT_NOTIFICATIONS_ALLOWED"===e.featureUniqueRef);if(o)return o.isEnabled}catch(t){const e=yield f.default.getErrorInfo(t,"getCompanySubscriptions");this.logger.warn("[roomService] "+e.message)}return!1}))}}t.CompanyService=h,t.default=h.getInstance()},function(e,t,n){(function(t){var n,r=/[&<>"'`]/g,o=RegExp(r.source),i="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,a=i||s||Function("return this")(),l=(n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},function(e){return null==n?void 0:n[e]}),c=Object.prototype.toString,u=a.Symbol,d=u?u.prototype:void 0,f=d?d.toString:void 0;function _(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==c.call(e)}(e))return f?f.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}try{e.exports=function(e){var t;return(e=null==(t=e)?"":_(t))&&o.test(e)?e.replace(r,l):e}}catch(h){}}).call(this,n(65))},function(e,t,n){var r,o,i,s,a,l;e.exports=(l=n(13),o=(r=l).lib,i=o.Base,s=o.WordArray,(a=r.x64={}).Word=i.extend({init:function(e,t){this.high=e,this.low=t}}),a.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var o=e[r];n.push(o.high),n.push(o.low)}return s.create(n,this.sigBytes)},clone:function(){for(var e=i.clone.call(this),t=e.words=this.words.slice(0),n=t.length,r=0;r<n;r++)t[r]=t[r].clone();return e}}),l)},function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(35);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(e)}function i(e){return 0===e.length?r.a:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},function(e,t,n){n.d(t,"a",(function(){return o}));var r=n(8),o=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r.a(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n(14).a)},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3),i=n(0),s=n(39),a=n(38);class l{constructor(){this.portalURL=null,this.errorHelperService=a.default,this.datacenters=[{name:"France","alpha-3":"FRA","alpha-2":"FR",region:"Europe"},{name:"Germany","alpha-3":"DEU","alpha-2":"DE",region:"Europe"},{name:"Canada","alpha-3":"CAN","alpha-2":"CA",region:"America"},{name:"Singapore","alpha-3":"SGP","alpha-2":"SG",region:"Asia-Pacific"}],this.countries=[{name:"Australia","alpha-3":"AUS","country-code":"036","alpha-2":"AU"},{name:"Austria","alpha-3":"AUT","country-code":"040","alpha-2":"AT"},{name:"Belgium","alpha-3":"BEL","country-code":"056","alpha-2":"BE"},{name:"Brazil","alpha-3":"BRA","country-code":"076","alpha-2":"BR"},{name:"Canada","alpha-3":"CAN","country-code":"124","alpha-2":"CA"},{name:"China","alpha-3":"CHN","country-code":"156","alpha-2":"CN"},{name:"Czech Republic","alpha-3":"CZE","country-code":"203","alpha-2":"CZ"},{name:"Denmark","alpha-3":"DNK","country-code":"208","alpha-2":"DK"},{name:"Finland","alpha-3":"FIN","country-code":"246","alpha-2":"FI"},{name:"France","alpha-3":"FRA","country-code":"250",default:!0,"alpha-2":"FR"},{name:"Germany","alpha-3":"DEU","country-code":"276","alpha-2":"DE"},{name:"Hong Kong","alpha-3":"HKG","country-code":"344","alpha-2":"HK"},{name:"Ireland","alpha-3":"IRL","country-code":"372","alpha-2":"IE"},{name:"Israel","alpha-3":"ISR","country-code":"376","alpha-2":"IL"},{name:"Italy","alpha-3":"ITA","country-code":"380","alpha-2":"IT"},{name:"Mexico","alpha-3":"MEX","country-code":"484","alpha-2":"MX"},{name:"Netherlands","alpha-3":"NLD","country-code":"528","alpha-2":"NL"},{name:"Norway","alpha-3":"NOR","country-code":"578","alpha-2":"NO"},{name:"Poland","alpha-3":"POL","country-code":"616","alpha-2":"PL"},{name:"Portugal","alpha-3":"PRT","country-code":"620","alpha-2":"PT"},{name:"Russia","alpha-3":"RUS","country-code":"643","alpha-2":"RU"},{name:"South Africa","alpha-3":"ZAF","country-code":"710","alpha-2":"ZA"},{name:"South Korea","alpha-3":"KOR","country-code":"410","alpha-2":"KR"},{name:"Spain","alpha-3":"ESP","country-code":"724","alpha-2":"ES"},{name:"Sweden","alpha-3":"SWE","country-code":"752","alpha-2":"SE"},{name:"Switzerland","alpha-3":"CHE","country-code":"756","alpha-2":"CH"},{name:"Taiwan","alpha-3":"TWN","country-code":"158","alpha-2":"TW"},{name:"Turkey","alpha-3":"TUR","country-code":"792","alpha-2":"TR"},{name:"United Kingdom","alpha-3":"GBR","country-code":"826","alpha-2":"GB"},{name:"United States of America","alpha-3":"USA","country-code":"840","alpha-2":"US"},{name:"Afghanistan","alpha-3":"AFG","country-code":"004","alpha-2":"AF"},{name:"Albania","alpha-3":"ALB","country-code":"008","alpha-2":"AL"},{name:"Algeria","alpha-3":"DZA","country-code":"012","alpha-2":"DZ"},{name:"Andorra","alpha-3":"AND","country-code":"020","alpha-2":"AD"},{name:"Angola","alpha-3":"AGO","country-code":"024","alpha-2":"AO"},{name:"Anguilla","alpha-3":"AIA","country-code":"660","alpha-2":"AI"},{name:"Antigua and Barbuda","alpha-3":"ATG","country-code":"028","alpha-2":"AG"},{name:"Argentina","alpha-3":"ARG","country-code":"032","alpha-2":"AR"},{name:"Armenia","alpha-3":"ARM","country-code":"051","alpha-2":"AM"},{name:"Aruba","alpha-3":"ABW","country-code":"533","alpha-2":"AW"},{name:"Azerbaijan","alpha-3":"AZE","country-code":"031","alpha-2":"AZ"},{name:"Bahamas","alpha-3":"BHS","country-code":"044","alpha-2":"BS"},{name:"Bahrain","alpha-3":"BHR","country-code":"048","alpha-2":"BH"},{name:"Bangladesh","alpha-3":"BGD","country-code":"050","alpha-2":"BD"},{name:"Barbados","alpha-3":"BRB","country-code":"052","alpha-2":"BB"},{name:"Belarus","alpha-3":"BLR","country-code":"112","alpha-2":"BY"},{name:"Belize","alpha-3":"BLZ","country-code":"084","alpha-2":"BZ"},{name:"Benin","alpha-3":"BEN","country-code":"204","alpha-2":"BJ"},{name:"Bermuda","alpha-3":"BMU","country-code":"060","alpha-2":"BM"},{name:"Bhutan","alpha-3":"BTN","country-code":"064","alpha-2":"BT"},{name:"Bolivia","alpha-3":"BOL","country-code":"068","alpha-2":"BO"},{name:"Bosnia and Herzegovina","alpha-3":"BIH","country-code":"070","alpha-2":"BA"},{name:"Botswana","alpha-3":"BWA","country-code":"072","alpha-2":"BW"},{name:"British Virgin Islands","alpha-3":"VGB","country-code":"092","alpha-2":"VG"},{name:"Brunei Darussalam","alpha-3":"BRN","country-code":"096","alpha-2":"BN"},{name:"Bulgaria","alpha-3":"BGR","country-code":"100","alpha-2":"BG"},{name:"Burkina Faso","alpha-3":"BFA","country-code":"854","alpha-2":"BF"},{name:"Burundi","alpha-3":"BDI","country-code":"108","alpha-2":"BI"},{name:"Cambodia","alpha-3":"KHM","country-code":"116","alpha-2":"KH"},{name:"Cameroon","alpha-3":"CMR","country-code":"120","alpha-2":"CM"},{name:"Cape Verde","alpha-3":"CPV","country-code":"132","alpha-2":"CV"},{name:"Cayman Islands","alpha-3":"CYM","country-code":"136","alpha-2":"KY"},{name:"Central African Republic","alpha-3":"CAF","country-code":"140","alpha-2":"CF"},{name:"Chad","alpha-3":"TCD","country-code":"148","alpha-2":"TD"},{name:"Chile","alpha-3":"CHL","country-code":"152","alpha-2":"CL"},{name:"Colombia","alpha-3":"COL","country-code":"170","alpha-2":"CO"},{name:"Comoros","alpha-3":"COM","country-code":"174","alpha-2":"KM"},{name:"Congo","alpha-3":"COG","country-code":"178","alpha-2":"CG"},{name:"Congo, Democratic Republic of","alpha-3":"COD","country-code":"180","alpha-2":"CD"},{name:"Costa Rica","alpha-3":"CRI","country-code":"188","alpha-2":"CR"},{name:"Ivory Coast","alpha-3":"CIV","country-code":"384","alpha-2":"CI"},{name:"Croatia","alpha-3":"HRV","country-code":"191","alpha-2":"HR"},{name:"Cyprus","alpha-3":"CYP","country-code":"196","alpha-2":"CY"},{name:"Djibouti","alpha-3":"DJI","country-code":"262","alpha-2":"DJ"},{name:"Dominica","alpha-3":"DMA","country-code":"212","alpha-2":"DM"},{name:"Dominican Republic","alpha-3":"DOM","country-code":"214","alpha-2":"DO"},{name:"Ecuador","alpha-3":"ECU","country-code":"218","alpha-2":"EC"},{name:"El Salvador","alpha-3":"SLV","country-code":"222","alpha-2":"SV"},{name:"Egypt","alpha-3":"EGY","country-code":"818","alpha-2":"EG"},{name:"Eritrea","alpha-3":"ERI","country-code":"232","alpha-2":"ER"},{name:"Estonia","alpha-3":"EST","country-code":"233","alpha-2":"EE"},{name:"Ethiopia","alpha-3":"ETH","country-code":"231","alpha-2":"ET"},{name:"Fiji","alpha-3":"FJI","country-code":"242","alpha-2":"FJ"},{name:"French Guiana","alpha-3":"GUF","country-code":"254","alpha-2":"GF"},{name:"French Polynesia","alpha-3":"PYF","country-code":"258","alpha-2":"PF"},{name:"Gabon","alpha-3":"GAB","country-code":"266","alpha-2":"GA"},{name:"Gambia","alpha-3":"GMB","country-code":"270","alpha-2":"GM"},{name:"Georgia","alpha-3":"GEO","country-code":"268","alpha-2":"GE"},{name:"Ghana","alpha-3":"GHA","country-code":"288","alpha-2":"GH"},{name:"Greece","alpha-3":"GRC","country-code":"300","alpha-2":"GR"},{name:"Grenada","alpha-3":"GRD","country-code":"308","alpha-2":"GD"},{name:"Guadeloupe","alpha-3":"GLP","country-code":"312","alpha-2":"GP"},{name:"Guatemala","alpha-3":"GTM","country-code":"320","alpha-2":"GT"},{name:"Guinea","alpha-3":"GIN","country-code":"324","alpha-2":"GN"},{name:"Guyana","alpha-3":"GUY","country-code":"328","alpha-2":"GY"},{name:"Haiti","alpha-3":"HTI","country-code":"332","alpha-2":"HT"},{name:"Honduras","alpha-3":"HND","country-code":"340","alpha-2":"HN"},{name:"Hungary","alpha-3":"HUN","country-code":"348","alpha-2":"HU"},{name:"Iceland","alpha-3":"ISL","country-code":"352","alpha-2":"IS"},{name:"India","alpha-3":"IND","country-code":"356","alpha-2":"IN"},{name:"Indonesia","alpha-3":"IDN","country-code":"360","alpha-2":"ID"},{name:"Iraq","alpha-3":"IRQ","country-code":"368","alpha-2":"IQ"},{name:"Jamaica","alpha-3":"JAM","country-code":"388","alpha-2":"JM"},{name:"Japan","alpha-3":"JPN","country-code":"392","alpha-2":"JP"},{name:"Jordan","alpha-3":"JOR","country-code":"400","alpha-2":"JO"},{name:"Kazakhstan","alpha-3":"KAZ","country-code":"398","alpha-2":"KZ"},{name:"Kenya","alpha-3":"KEN","country-code":"404","alpha-2":"KE"},{name:"Kuwait","alpha-3":"KWT","country-code":"414","alpha-2":"KW"},{name:"Kyrgyzstan","alpha-3":"KGZ","country-code":"417","alpha-2":"KG"},{name:"Latvia","alpha-3":"LVA","country-code":"428","alpha-2":"LV"},{name:"Lebanon","alpha-3":"LBN","country-code":"422","alpha-2":"LB"},{name:"Lesotho","alpha-3":"LSO","country-code":"426","alpha-2":"LS"},{name:"Liberia","alpha-3":"LBR","country-code":"430","alpha-2":"LR"},{name:"Libya","alpha-3":"LBY","country-code":"434","alpha-2":"LY"},{name:"Liechtenstein","alpha-3":"LIE","country-code":"438","alpha-2":"LI"},{name:"Lithuania","alpha-3":"LTU","country-code":"440","alpha-2":"LT"},{name:"Luxembourg","alpha-3":"LUX","country-code":"442","alpha-2":"LU"},{name:"Macao","alpha-3":"MAC","country-code":"446","alpha-2":"MO"},{name:"Macedonia","alpha-3":"MKD","country-code":"807","alpha-2":"MK"},{name:"Madagascar","alpha-3":"MDG","country-code":"450","alpha-2":"MG"},{name:"Malawi","alpha-3":"MWI","country-code":"454","alpha-2":"MW"},{name:"Malaysia","alpha-3":"MYS","country-code":"458","alpha-2":"MY"},{name:"Maldives","alpha-3":"MDV","country-code":"462","alpha-2":"MV"},{name:"Mali","alpha-3":"MLI","country-code":"466","alpha-2":"ML"},{name:"Malta","alpha-3":"MLT","country-code":"470","alpha-2":"MT"},{name:"Mauritius","alpha-3":"MUS","country-code":"480","alpha-2":"MU"},{name:"Mayotte","alpha-3":"MYT","country-code":"175","alpha-2":"YT"},{name:"Moldova","alpha-3":"MDA","country-code":"498","alpha-2":"MD"},{name:"Monaco","alpha-3":"MCO","country-code":"492","alpha-2":"MC"},{name:"Mongolia","alpha-3":"MNG","country-code":"496","alpha-2":"MN"},{name:"Montenegro","alpha-3":"MNE","country-code":"499","alpha-2":"ME"},{name:"Montserrat","alpha-3":"MSR","country-code":"500","alpha-2":"MS"},{name:"Morocco","alpha-3":"MAR","country-code":"504","alpha-2":"MA"},{name:"Mozambique","alpha-3":"MOZ","country-code":"508","alpha-2":"MZ"},{name:"Myanmar","alpha-3":"MMR","country-code":"104","alpha-2":"MM"},{name:"Namibia","alpha-3":"NAM","country-code":"516","alpha-2":"NA"},{name:"Nepal","alpha-3":"NPL","country-code":"524","alpha-2":"NP"},{name:"New Zealand","alpha-3":"NZL","country-code":"554","alpha-2":"NZ"},{name:"Nicaragua","alpha-3":"NIC","country-code":"558","alpha-2":"NI"},{name:"Niger","alpha-3":"NER","country-code":"562","alpha-2":"NE"},{name:"Nigeria","alpha-3":"NGA","country-code":"566","alpha-2":"NG"},{name:"Oman","alpha-3":"OMN","country-code":"512","alpha-2":"OM"},{name:"Pakistan","alpha-3":"PAK","country-code":"586","alpha-2":"PK"},{name:"Palestine","alpha-3":"PSE","country-code":"275","alpha-2":"PS"},{name:"Panama","alpha-3":"PAN","country-code":"591","alpha-2":"PA"},{name:"Paraguay","alpha-3":"PRY","country-code":"600","alpha-2":"PY"},{name:"Peru","alpha-3":"PER","country-code":"604","alpha-2":"PE"},{name:"Philippines","alpha-3":"PHL","country-code":"608","alpha-2":"PH"},{name:"Puerto Rico","alpha-3":"PRI","country-code":"630","alpha-2":"PR"},{name:"Qatar","alpha-3":"QAT","country-code":"634","alpha-2":"QA"},{name:"Romania","alpha-3":"ROU","country-code":"642","alpha-2":"RO"},{name:"Rwanda","alpha-3":"RWA","country-code":"646","alpha-2":"RW"},{name:"Saint Kitts and Nevis","alpha-3":"KNA","country-code":"659","alpha-2":"KN"},{name:"Saint Lucia","alpha-3":"LCA","country-code":"662","alpha-2":"LC"},{name:"Saint Vincent and the Grenadines","alpha-3":"VCT","country-code":"670","alpha-2":"VC"},{name:"Saudi Arabia","alpha-3":"SAU","country-code":"682","alpha-2":"SA"},{name:"Senegal","alpha-3":"SEN","country-code":"686","alpha-2":"SN"},{name:"Serbia","alpha-3":"SRB","country-code":"688","alpha-2":"RS"},{name:"Sierra Leone","alpha-3":"SLE","country-code":"694","alpha-2":"SL"},{name:"Singapore","alpha-3":"SGP","country-code":"702","alpha-2":"SG"},{name:"Slovakia","alpha-3":"SVK","country-code":"703","alpha-2":"SK"},{name:"Slovenia","alpha-3":"SVN","country-code":"705","alpha-2":"SI"},{name:"South Sudan","alpha-3":"SSD","country-code":"728","alpha-2":"SS"},{name:"Sri Lanka","alpha-3":"LKA","country-code":"144","alpha-2":"LK"},{name:"Sudan","alpha-3":"SDN","country-code":"729","alpha-2":"SD"},{name:"Swaziland","alpha-3":"SWZ","country-code":"748","alpha-2":"SZ"},{name:"Tajikistan","alpha-3":"TJK","country-code":"762","alpha-2":"TJ"},{name:"Tanzania","alpha-3":"TZA","country-code":"834","alpha-2":"TZ"},{name:"Thailand","alpha-3":"THA","country-code":"764","alpha-2":"TH"},{name:"Togo","alpha-3":"TGO","country-code":"768","alpha-2":"TG"},{name:"Trinidad and Tobago","alpha-3":"TTO","country-code":"780","alpha-2":"TT"},{name:"Tunisia","alpha-3":"TUN","country-code":"788","alpha-2":"TN"},{name:"Turkmenistan","alpha-3":"TKM","country-code":"795","alpha-2":"TM"},{name:"Turks and Caicos Islands","alpha-3":"TCA","country-code":"796","alpha-2":"TC"},{name:"Uganda","alpha-3":"UGA","country-code":"800","alpha-2":"UG"},{name:"Ukraine","alpha-3":"UKR","country-code":"804","alpha-2":"UA"},{name:"United Arab Emirates","alpha-3":"ARE","country-code":"784","alpha-2":"AE"},{name:"Virgin Islands, US","alpha-3":"VIR","country-code":"850","alpha-2":"VI"},{name:"Uruguay","alpha-3":"URY","country-code":"858","alpha-2":"UY"},{name:"Uzbekistan","alpha-3":"UZB","country-code":"860","alpha-2":"UZ"},{name:"Venezuela","alpha-3":"VEN","country-code":"862","alpha-2":"VE"},{name:"Vietnam","alpha-3":"VNM","country-code":"704","alpha-2":"VN"},{name:"Zambia","alpha-3":"ZMB","country-code":"894","alpha-2":"ZM"},{name:"Zimbabwe","alpha-3":"ZWE","country-code":"716","alpha-2":"ZW"}],this.statesOfCanada={AB:"Alberta",BC:"British Columbia",MB:"Manitoba",NB:"New Brunswick",NL:"Newfoundland and Labrador",NS:"Nova Scotia",NT:"Northwest Territories",NU:"Nunavut",ON:"Ontario",PE:"Prince Edward Island",QC:"Quebec",SK:"Saskatchewan",YT:"Yukon"},this.statesOfAmerica={AL:"Alabama",AK:"Alaska",AZ:"Arizona",AR:"Arkansas",AA:"Armed Forces America",AE:"Armed Forces",AP:"Armed Forces Pacific",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VI:"Virgin Islands",VA:"Virginia",WA:"Washington",DC:"Washington DC",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"},this.countryToInternationalCallingCodeMapping={AD:"376",AE:"971",AF:"93",AG:"1268",AI:"1264",AL:"355",AM:"374",AN:"599",AO:"244",AQ:"672",AR:"54",AS:"1684",AT:"43",AU:"61",AW:"297",AZ:"994",BA:"387",BB:"1246",BD:"880",BE:"32",BF:"226",BG:"359",BH:"973",BI:"257",BJ:"229",BL:"590",BM:"1441",BN:"673",BO:"591",BR:"55",BS:"1242",BT:"975",BW:"267",BY:"375",BZ:"501",CA:"1",CC:"61",CD:"243",CF:"236",CG:"242",CH:"41",CI:"225",CK:"682",CL:"56",CM:"237",CN:"86",CO:"57",CR:"506",CU:"53",CV:"238",CX:"61",CY:"357",CZ:"420",DE:"49",DJ:"253",DK:"45",DM:"1767",DO:"1809",DZ:"213",EC:"593",EE:"372",EG:"20",ER:"291",ES:"34",ET:"251",FI:"358",FJ:"679",FK:"500",FM:"691",FO:"298",FR:"33",GA:"241",GB:"44",GD:"1473",GE:"995",GH:"233",GI:"350",GL:"299",GM:"220",GN:"224",GQ:"240",GR:"30",GT:"502",GU:"1671",GW:"245",GY:"592",HK:"852",HN:"504",HR:"385",HT:"509",HU:"36",ID:"62",IE:"353",IL:"972",IM:"44",IN:"91",IQ:"964",IR:"98",IS:"354",IT:"39",JM:"1876",JO:"962",JP:"81",KE:"254",KG:"996",KH:"855",KI:"686",KM:"269",KN:"1869",KP:"850",KR:"82",KW:"965",KY:"1345",KZ:"7",LA:"856",LB:"961",LC:"1758",LI:"423",LK:"94",LR:"231",LS:"266",LT:"370",LU:"352",LV:"371",LY:"218",MA:"212",MC:"377",MD:"373",ME:"382",MF:"1599",MG:"261",MH:"692",MK:"389",ML:"223",MM:"95",MN:"976",MO:"853",MP:"1670",MR:"222",MS:"1664",MT:"356",MU:"230",MV:"960",MW:"265",MX:"52",MY:"60",MZ:"258",NA:"264",NC:"687",NE:"227",NG:"234",NI:"505",NL:"31",NO:"47",NP:"977",NR:"674",NU:"683",NZ:"64",OM:"968",PA:"507",PE:"51",PF:"689",PG:"675",PH:"63",PK:"92",PL:"48",PM:"508",PN:"870",PR:"1",PT:"351",PW:"680",PY:"595",QA:"974",RO:"40",RS:"381",RU:"7",RW:"250",SA:"966",SB:"677",SC:"248",SD:"249",SE:"46",SG:"65",SH:"290",SI:"386",SK:"421",SL:"232",SM:"378",SN:"221",SO:"252",SR:"597",ST:"239",SV:"503",SY:"963",SZ:"268",TC:"1649",TD:"235",TG:"228",TH:"66",TJ:"992",TK:"690",TL:"670",TM:"993",TN:"216",TO:"676",TR:"90",TT:"1868",TV:"688",TW:"886",TZ:"255",UA:"380",UG:"256",US:"1",UY:"598",UZ:"998",VA:"39",VC:"1784",VE:"58",VG:"1284",VI:"1340",VN:"84",VU:"678",WF:"681",WS:"685",XK:"381",YE:"967",YT:"262",ZA:"27",ZM:"260",ZW:"263"},this.countryToLanguageMapping={ad:"ca",ae:"ar",af:"fa,ps",ag:"en",ai:"en",al:"sq",am:"hy",an:"nl,en",ao:"pt",ar:"es",as:"en,sm",at:"de",au:"en",aw:"nl,pap",ax:"sv",ba:"bs,hr,sr",bb:"en",bd:"bn",be:"nl,fr,de",bf:"fr",bh:"ar",bi:"fr",bj:"fr",bl:"fr",bm:"en",bn:"ms",bo:"es,qu,ay",br:"pt",bs:"en",bt:"dz",bv:"no",bw:"en,tn",by:"be,ru",bz:"en",ca:"en,fr",cc:"en",cd:"fr",cf:"fr",cg:"fr",ch:"de,fr,it,rm",ci:"fr",ck:"en,rar",cl:"es",cm:"fr,en",cn:"zh",co:"es",cr:"es",cu:"es",cv:"pt",cx:"en",cy:"el,tr",cz:"cs","// de":"de",dj:"fr,ar,so",dk:"da",dm:"en",do:"es",dz:"ar",ec:"es",ee:"et",eg:"ar",eh:"ar,es,fr",er:"ti,ar,en",es:"ast,ca,es,eu,gl",et:"am,om",fi:"fi,sv,se",fj:"en",fk:"en",fm:"en",ga:"fr",gb:"en,ga,cy,gd,kw",gd:"en",ge:"ka",gf:"fr",gg:"en",gh:"en",gi:"en",gl:"kl,da",gm:"en",gn:"fr",gp:"fr",gq:"es,fr,pt",gr:"el",gs:"en",gt:"es",gu:"en,ch",gw:"pt",gy:"en",hk:"zh,en",hm:"en",hn:"es",ht:"fr,ht",ie:"en,ga",il:"he",im:"en",in:"hi,en",io:"en",iq:"ar,ku",ir:"fa",it:"it,de,fr",je:"en",jm:"en",jo:"ar",jp:"ja",ke:"sw,en",kg:"ky,ru",kh:"km",ki:"en",km:"ar,fr",kn:"en",kp:"ko",kr:"ko,en",kw:"ar",ky:"en",kz:"kk,ru",la:"lo",lb:"ar,fr",lc:"en",li:"de",lk:"si,ta",lr:"en",ls:"en,st",lu:"lb,fr,de",ly:"ar",ma:"ar",mc:"fr",md:"ru,uk,ro",me:"srp,sq,bs,hr,sr",mf:"fr",mg:"mg,fr",mh:"en,mh",ml:"fr",mm:"my",mo:"zh,pt",mp:"ch",mq:"fr",mr:"ar,fr",ms:"en",mt:"mt,en",mu:"mfe,fr,en",mv:"dv",mw:"en,ny",mx:"es",my:"ms",mz:"pt",na:"en,sf,de",nc:"fr",ne:"fr",nf:"en,pih",ng:"en",ni:"es",no:"nb,nn,no,se",np:"ne",nr:"na,en",nu:"niu,en",nz:"mi,en",om:"ar",pa:"es",pe:"es",pf:"fr",pg:"en,tpi,ho",ph:"en,tl",pk:"en,ur",pm:"fr",pn:"en,pih",pr:"es,en",ps:"ar,he",pw:"en,pau,ja,sov,tox",py:"es,gn",qa:"ar",re:"fr",rs:"sr",rw:"rw,fr,en",sa:"ar",sb:"en",sc:"fr,en,crs",sd:"ar,en",se:"sv",sg:"en,ms,zh,ta",sh:"en",si:"sl",sj:"no",sl:"en",sm:"it",sn:"fr",so:"so,ar",sr:"nl",st:"pt",ss:"en",sv:"es",sy:"ar",sz:"en,ss",tc:"en",td:"fr,ar",tf:"fr",tg:"fr",tj:"tg,ru",tk:"tkl,en,sm",tl:"pt,tet",tm:"tk",tn:"ar",to:"en",tt:"en",tv:"en",tw:"zh",tz:"sw,en",ua:"uk",ug:"en,sw",um:"en",us:"en",uy:"es",uz:"uz,kaa",va:"it",vc:"en",ve:"es",vg:"en",vi:"en",vn:"vi",vu:"bi,en,fr",wf:"fr",ws:"sm,en",ye:"ar",yt:"fr",za:"zu,xh,af,st,tn,en",zm:"en",zw:"en,sn,nd "}}static getInstance(){const e=window;return e.rainbow||(e.rainbow={}),e.rainbow.countryService||(e.rainbow.countryService=new l),e.rainbow.countryService}start(){return r(this,void 0,void 0,(function*(){i.default.info(""),i.default.info("[countryService] === STARTING ==="),this.portalURL=config.restServerUrl+"/api/rainbow/enduser/v1.0/";try{const e=yield this.getAvailableCountries();this.countries=e.map(e=>{const t={name:e.fullname,"alpha-3":e.isoAlpha3Code,"alpha-2":e.isoAlpha2Code};return"FRA"===e.isoAlpha3Code&&(t.default=!0),t})}catch(e){i.default.info("[countryService] === warning === "+e.message)}i.default.info("[countryService] === STARTED  === "+this.countries.length+" countries"),i.default.info("")}))}stop(){return r(this,void 0,void 0,(function*(){i.default.info("[countryService] STOPPED")}))}getCountries(){const e=this.countries.map(e=>{const t=this.getCountryLabel(e["alpha-2"]);if(t){const n=s.default.translate(t);n&&n!==t&&(e.name=n)}return e});return e.sort((e,t)=>e.name.localeCompare(t.name,s.default.getCurrentLanguage())),e}getCountryStates(e){return e&&"USA"===e["alpha-3"]?this.statesOfAmerica:e&&"CAN"===e["alpha-3"]?this.statesOfCanada:{}}getCountry(e,t=null){if(!e)return t?this.getDefaultCountry():null;const n=this.countries.filter(t=>t["alpha-3"]===e);return n.length>0?n[0]:null}getDefaultCountry(){const e=this.countries.filter(e=>!0===e.default);return e.length>0?e[0]:this.countries[0]}getCountryName(e){return this.getCountry(e)?this.getCountry(e).name:null}getCountryCode(e){return e?e["alpha-3"]:null}getStateName(e,t){return e&&t?"USA"===e?this.statesOfAmerica[t]:"CAN"===e?this.statesOfCanada[t]:"":""}getDefaultState(e){return e&&"USA"===e["alpha-3"]?"AL":e&&"CAN"===e["alpha-3"]?"AB":null}getAlpha2Code(e){if(!e)return null;const t=this.countries.filter(t=>t["alpha-3"]===e);return t.length>0?t[0]["alpha-2"]:null}getCountryLabel(e){let t=null;return t=3===e.length?this.getAlpha2Code(e):e,t?"country"+t:null}getDataCenterLabel(e,t){let n=this.getRegionLabel(e.name);if(e.country===t)n=this.getCountryLabel(e.country);else{const t=this.datacenters.find(t=>t["alpha-3"]===e.country);t&&(n=this.getRegionLabel(t.region))}return n}getRegionLabel(e){return e}getInternationalCallingCode(e){if(!e)return;const t=e.toUpperCase();return this.countryToInternationalCallingCodeMapping[t]}mapCountryToLanguages(e){if(!e)return;const t=e.toLowerCase();return void 0!==this.countryToLanguageMapping[t]?this.countryToLanguageMapping[t].split(","):[t]}getAvailableCountries(){return r(this,void 0,void 0,(function*(){try{const e=yield fetch(this.portalURL+"/countries",{method:"GET",headers:o.default.getRequestHeader()});if(!e.ok)throw e;return(yield e.json()).data}catch(e){const t=yield this.errorHelperService.getErrorInfo(e,"getAvailableCountries");throw i.default.error("[countryService] "+t.message),t.error}}))}}t.CountryService=l,t.default=l.getInstance()},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(67),s=n(70),a=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return o(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new s.ObjectUnsubscribedError;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(i.Subject);t.BehaviorSubject=a},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(55),s=n(56),a=n(45),l=n(70),c=n(81),u=n(69),d=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return o(t,e),t}(s.Subscriber);t.SubjectSubscriber=d;var f=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return o(t,e),t.prototype[u.rxSubscriber]=function(){return new d(this)},t.prototype.lift=function(e){var t=new _(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new l.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new l.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new l.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new l.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new l.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(e.complete(),a.Subscription.EMPTY):(this.observers.push(e),new c.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new i.Observable;return e.source=this,e},t.create=function(e,t){return new _(e,t)},t}(i.Observable);t.Subject=f;var _=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return o(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):a.Subscription.EMPTY},t}(f);t.AnonymousSubject=_},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=!1;t.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),t.$$rxSubscriber=t.rxSubscriber},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}();t.ObjectUnsubscribedError=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});class r{}r.USER="user",r.ROOM="room";class o{constructor(e,t){this.viewerId=null,this.type=null,this.contact=null,this.room=null,this.channel=null,this.viewerId=e,this.type=t}static createFromData(e){return e.map(e=>new o(e.viewerId,e.type))}}t.FileViewer=o},function(e,t,n){var r,o,i,s,a,l,c,u;e.exports=(u=n(13),o=(r=u).lib,i=o.WordArray,s=o.Hasher,a=r.algo,l=[],c=a.SHA1=s.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],s=n[3],a=n[4],c=0;c<80;c++){if(c<16)l[c]=0|e[t+c];else{var u=l[c-3]^l[c-8]^l[c-14]^l[c-16];l[c]=u<<1|u>>>31}var d=(r<<5|r>>>27)+a+l[c];d+=c<20?1518500249+(o&i|~o&s):c<40?1859775393+(o^i^s):c<60?(o&i|o&s|i&s)-1894007588:(o^i^s)-899497514,a=s,s=i,i=o<<30|o>>>2,o=r,r=d}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),r.SHA1=s._createHelper(c),r.HmacSHA1=s._createHmacHelper(c),u.SHA1)},function(e,t,n){var r,o,i,s;e.exports=(r=n(13),i=(o=r).lib.Base,s=o.enc.Utf8,void(o.algo.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=s.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),i=this._iKey=t.clone(),a=o.words,l=i.words,c=0;c<n;c++)a[c]^=1549556828,l[c]^=909522486;o.sigBytes=i.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.resizeImage=function(e,t,n){return new Promise((r,o)=>{const i=new Image;i.onload=()=>{let e=i.width,o=i.height;e>o?e>t&&(o*=t/e,e=t):o>n&&(e*=n/o,o=n);const s=document.createElement("canvas");s.width=e,s.height=o,i.width=e,i.height=o,i.crossOrigin="Anonymous",s.getContext("2d").drawImage(i,0,0,e,o);const a=new Image;a.src=s.toDataURL("image/png"),r(a)},i.onerror=()=>{o()},i.src=e})},t.getBinaryData=function(e){const t=e.src.indexOf("image/")+6,n=e.src.indexOf(";base64,"),r=e.src.slice(n+8),o=e.src.slice(t,n),i=window.atob(r),s=i.length,a=new Uint8Array(s);for(let l=0;l<s;l++)a[l]=i.charCodeAt(l);return{type:o,data:a}}},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(56);t.distinctUntilChanged=function(e,t){return function(n){return n.lift(new s(e,t))}};var s=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.compare,this.keySelector))},e}(),a=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.keySelector=r,o.hasKey=!1,"function"==typeof n&&(o.compare=n),o}return o(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(o){return this.destination.error(o)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(o){return this.destination.error(o)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))},t}(i.Subscriber)},function(e,t,n){var r;window,r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/strophe.js")}({"./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){"object"==typeof window&&(n=window)}e.exports=n},"./src/bosh.js":
/*!*********************!*\
  !*** ./src/bosh.js ***!
  \*********************/
/*! no exports provided */function(e,t,n){n.r(t);var r=n(/*! core */"./src/core.js"),o=r.default.Strophe,i=r.default.$build;o.Request=function(e,t,n,r){this.id=++o._requestId,this.xmlData=e,this.data=o.serialize(e),this.origFunc=t,this.func=t,this.rid=n,this.date=NaN,this.sends=r||0,this.abort=!1,this.dead=null,this.age=function(){return this.date?(new Date-this.date)/1e3:0},this.timeDead=function(){return this.dead?(new Date-this.dead)/1e3:0},this.xhr=this._newXHR()},o.Request.prototype={getResponse:function(){var e=null;if(this.xhr.responseXML&&this.xhr.responseXML.documentElement){if("parsererror"===(e=this.xhr.responseXML.documentElement).tagName)throw o.error("invalid response received"),o.error("responseText: "+this.xhr.responseText),o.error("responseXML: "+o.serialize(this.xhr.responseXML)),new Error("parsererror")}else if(this.xhr.responseText){if(o.debug("Got responseText but no responseXML; attempting to parse it with DOMParser..."),!(e=(new DOMParser).parseFromString(this.xhr.responseText,"application/xml").documentElement))throw new Error("Parsing produced null node");if(e.querySelector("parsererror")){o.error("invalid response received: "+e.querySelector("parsererror").textContent),o.error("responseText: "+this.xhr.responseText);var t=new Error;throw t.name=o.ErrorCondition.BAD_FORMAT,t}}return e},_newXHR:function(){var e=null;return window.XMLHttpRequest?(e=new XMLHttpRequest).overrideMimeType&&e.overrideMimeType("text/xml; charset=utf-8"):window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),e.onreadystatechange=this.func.bind(null,this),e}},o.Bosh=function(e){this._conn=e,this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.hold=1,this.wait=60,this.window=5,this.errors=0,this.inactivity=null,this.lastResponseHeaders=null,this._requests=[]},o.Bosh.prototype={strip:null,_buildBody:function(){var e=i("body",{rid:this.rid++,xmlns:o.NS.HTTPBIND});return null!==this.sid&&e.attrs({sid:this.sid}),this._conn.options.keepalive&&this._conn._sessionCachingSupported()&&this._cacheSession(),e},_reset:function(){this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.errors=0,this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)},_connect:function(e,t,n){this.wait=e||this.wait,this.hold=t||this.hold,this.errors=0;var r=this._buildBody().attrs({to:this._conn.domain,"xml:lang":"en",wait:this.wait,hold:this.hold,content:"text/xml; charset=utf-8",ver:"1.6","xmpp:version":"1.0","xmlns:xmpp":o.NS.BOSH});n&&r.attrs({route:n});var i=this._conn._connect_cb;this._requests.push(new o.Request(r.tree(),this._onRequestStateChange.bind(this,i.bind(this._conn)),r.tree().getAttribute("rid"))),this._throttledRequestHandler()},_attach:function(e,t,n,r,i,s,a){this._conn.jid=e,this.sid=t,this.rid=n,this._conn.connect_callback=r,this._conn.domain=o.getDomainFromJid(this._conn.jid),this._conn.authenticated=!0,this._conn.connected=!0,this.wait=i||this.wait,this.hold=s||this.hold,this.window=a||this.window,this._conn._changeConnectStatus(o.Status.ATTACHED,null)},_restore:function(e,t,n,r,i){var s=JSON.parse(window.sessionStorage.getItem("strophe-bosh-session"));if(!(null!=s&&s.rid&&s.sid&&s.jid&&(null==e||o.getBareJidFromJid(s.jid)===o.getBareJidFromJid(e)||null===o.getNodeFromJid(e)&&o.getDomainFromJid(s.jid)===e))){var a=new Error("_restore: no restoreable session.");throw a.name="StropheSessionError",a}this._conn.restored=!0,this._attach(s.jid,s.sid,s.rid,t,n,r,i)},_cacheSession:function(){this._conn.authenticated?this._conn.jid&&this.rid&&this.sid&&window.sessionStorage.setItem("strophe-bosh-session",JSON.stringify({jid:this._conn.jid,rid:this.rid,sid:this.sid})):window.sessionStorage.removeItem("strophe-bosh-session")},_connect_cb:function(e){var t=e.getAttribute("type");if(null!==t&&"terminate"===t){var n=e.getAttribute("condition");o.error("BOSH-Connection failed: "+n);var r=e.getElementsByTagName("conflict");return null!==n?("remote-stream-error"===n&&r.length>0&&(n="conflict"),this._conn._changeConnectStatus(o.Status.CONNFAIL,n)):this._conn._changeConnectStatus(o.Status.CONNFAIL,"unknown"),this._conn._doDisconnect(n),o.Status.CONNFAIL}this.sid||(this.sid=e.getAttribute("sid"));var i=e.getAttribute("requests");i&&(this.window=parseInt(i,10));var s=e.getAttribute("hold");s&&(this.hold=parseInt(s,10));var a=e.getAttribute("wait");a&&(this.wait=parseInt(a,10));var l=e.getAttribute("inactivity");l&&(this.inactivity=parseInt(l,10))},_disconnect:function(e){this._sendTerminate(e)},_doDisconnect:function(){this.sid=null,this.rid=Math.floor(4294967295*Math.random()),this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)},_emptyQueue:function(){return 0===this._requests.length},_callProtocolErrorHandlers:function(e){var t=this._getRequestStatus(e),n=this._conn.protocolErrorHandlers.HTTP[t];n&&n.call(this,t)},_hitError:function(e){this.errors++,o.warn("request errored, status: "+e+", number of errors: "+this.errors),this.errors>4&&this._conn._onDisconnectTimeout()},_no_auth_received:function(e){o.warn("Server did not yet offer a supported authentication mechanism. Sending a blank poll request."),e=e?e.bind(this._conn):this._conn._connect_cb.bind(this._conn);var t=this._buildBody();this._requests.push(new o.Request(t.tree(),this._onRequestStateChange.bind(this,e),t.tree().getAttribute("rid"))),this._throttledRequestHandler()},_onDisconnectTimeout:function(){this._abortAllRequests()},_abortAllRequests:function(){for(;this._requests.length>0;){var e=this._requests.pop();e.abort=!0,e.xhr.abort(),e.xhr.onreadystatechange=function(){}}},_onIdle:function(){var e=this._conn._data;if(this._conn.authenticated&&0===this._requests.length&&0===e.length&&!this._conn.disconnecting&&(o.info("no requests during idle cycle, sending blank request"),e.push(null)),!this._conn.paused){if(this._requests.length<2&&e.length>0){for(var t=this._buildBody(),n=0;n<e.length;n++)null!==e[n]&&("restart"===e[n]?t.attrs({to:this._conn.domain,"xml:lang":"en","xmpp:restart":"true","xmlns:xmpp":o.NS.BOSH}):t.cnode(e[n]).up());delete this._conn._data,this._conn._data=[],this._requests.push(new o.Request(t.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),t.tree().getAttribute("rid"))),this._throttledRequestHandler()}if(this._requests.length>0){var r=this._requests[0].age();null!==this._requests[0].dead&&this._requests[0].timeDead()>Math.floor(o.SECONDARY_TIMEOUT*this.wait)&&this._throttledRequestHandler(),r>Math.floor(o.TIMEOUT*this.wait)&&(o.warn("Request "+this._requests[0].id+" timed out, over "+Math.floor(o.TIMEOUT*this.wait)+" seconds since last activity"),this._throttledRequestHandler())}}},_getRequestStatus:function(e,t){var n;if(4===e.xhr.readyState)try{n=e.xhr.status}catch(r){o.error("Caught an error while retrieving a request's status, reqStatus: "+n)}return void 0===n&&(n="number"==typeof t?t:0),n},_onRequestStateChange:function(e,t){if(o.debug("request id "+t.id+"."+t.sends+" state changed to "+t.xhr.readyState),t.abort)t.abort=!1;else if(4===t.xhr.readyState){var n=this._getRequestStatus(t);if(this.lastResponseHeaders=t.xhr.getAllResponseHeaders(),this.disconnecting&&n>=400)return this._hitError(n),void this._callProtocolErrorHandlers(t);var r=n>0&&n<500,i=t.sends>this._conn.maxRetries;if((r||i)&&(this._removeRequest(t),o.debug("request id "+t.id+" should now be removed")),200===n){var s=this._requests[0]===t;(this._requests[1]===t||s&&this._requests.length>0&&this._requests[0].age()>Math.floor(o.SECONDARY_TIMEOUT*this.wait))&&this._restartRequest(0),this._conn.nextValidRid(Number(t.rid)+1),o.debug("request id "+t.id+"."+t.sends+" got 200"),e(t),this.errors=0}else 0===n||n>=400&&n<600||n>=12e3?(o.error("request id "+t.id+"."+t.sends+" error "+n+" happened"),this._hitError(n),this._callProtocolErrorHandlers(t),n>=400&&n<500&&(this._conn._changeConnectStatus(o.Status.DISCONNECTING,null),this._conn._doDisconnect())):o.error("request id "+t.id+"."+t.sends+" error "+n+" happened");r||i?i&&!this._conn.connected&&this._conn._changeConnectStatus(o.Status.CONNFAIL,"giving-up"):this._throttledRequestHandler()}},_processRequest:function(e){var t=this,n=this._requests[e],r=this._getRequestStatus(n,-1);if(n.sends>this._conn.maxRetries)this._conn._onDisconnectTimeout();else{var i=n.age(),s=!isNaN(i)&&i>Math.floor(o.TIMEOUT*this.wait),a=null!==n.dead&&n.timeDead()>Math.floor(o.SECONDARY_TIMEOUT*this.wait),l=4===n.xhr.readyState&&(r<1||r>=500);if((s||a||l)&&(a&&o.error("Request ".concat(this._requests[e].id," timed out (secondary), restarting")),n.abort=!0,n.xhr.abort(),n.xhr.onreadystatechange=function(){},this._requests[e]=new o.Request(n.xmlData,n.origFunc,n.rid,n.sends),n=this._requests[e]),0===n.xhr.readyState){o.debug("request id "+n.id+"."+n.sends+" posting");try{var c=this._conn.options.contentType||"text/xml; charset=utf-8";n.xhr.open("POST",this._conn.service,!this._conn.options.sync),void 0!==n.xhr.setRequestHeader&&n.xhr.setRequestHeader("Content-Type",c),this._conn.options.withCredentials&&(n.xhr.withCredentials=!0)}catch(f){return o.error("XHR open failed: "+f.toString()),this._conn.connected||this._conn._changeConnectStatus(o.Status.CONNFAIL,"bad-service"),void this._conn.disconnect()}var u=function(){if(n.date=new Date,t._conn.options.customHeaders){var e=t._conn.options.customHeaders;for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.xhr.setRequestHeader(r,e[r])}n.xhr.send(n.data)};if(n.sends>1){var d=1e3*Math.min(Math.floor(o.TIMEOUT*this.wait),Math.pow(n.sends,3));setTimeout((function(){u()}),d)}else u();n.sends++,this._conn.xmlOutput!==o.Connection.prototype.xmlOutput&&(n.xmlData.nodeName===this.strip&&n.xmlData.childNodes.length?this._conn.xmlOutput(n.xmlData.childNodes[0]):this._conn.xmlOutput(n.xmlData)),this._conn.rawOutput!==o.Connection.prototype.rawOutput&&this._conn.rawOutput(n.data)}else o.debug("_processRequest: "+(0===e?"first":"second")+" request has readyState of "+n.xhr.readyState)}},_removeRequest:function(e){o.debug("removing request");for(var t=this._requests.length-1;t>=0;t--)e===this._requests[t]&&this._requests.splice(t,1);e.xhr.onreadystatechange=function(){},this._throttledRequestHandler()},_restartRequest:function(e){var t=this._requests[e];null===t.dead&&(t.dead=new Date),this._processRequest(e)},_reqToData:function(e){try{return e.getResponse()}catch(t){if("parsererror"!==t.message)throw t;this._conn.disconnect("strophe-parsererror")}},_sendTerminate:function(e){o.info("_sendTerminate was called");var t=this._buildBody().attrs({type:"terminate"});e&&t.cnode(e.tree());var n=new o.Request(t.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),t.tree().getAttribute("rid"));this._requests.push(n),this._throttledRequestHandler()},_send:function(){var e=this;clearTimeout(this._conn._idleTimeout),this._throttledRequestHandler(),this._conn._idleTimeout=setTimeout((function(){return e._conn._onIdle()}),100)},_sendRestart:function(){this._throttledRequestHandler(),clearTimeout(this._conn._idleTimeout)},_throttledRequestHandler:function(){this._requests?o.debug("_throttledRequestHandler called with "+this._requests.length+" requests"):o.debug("_throttledRequestHandler called with undefined requests"),this._requests&&0!==this._requests.length&&(this._requests.length>0&&this._processRequest(0),this._requests.length>1&&Math.abs(this._requests[0].rid-this._requests[1].rid)<this.window&&this._processRequest(1))}}},"./src/core.js":
/*!*********************!*\
  !*** ./src/core.js ***!
  \*********************/
/*! exports provided: Strophe, $build, $iq, $msg, $pres, SHA1, MD5, default */function(e,t,n){n.r(t),n.d(t,"Strophe",(function(){return f})),n.d(t,"$build",(function(){return l})),n.d(t,"$iq",(function(){return u})),n.d(t,"$msg",(function(){return c})),n.d(t,"$pres",(function(){return d}));var r=n(/*! md5 */"./src/md5.js");n.d(t,"MD5",(function(){return r.default}));var o=n(/*! sha1 */"./src/sha1.js");n.d(t,"SHA1",(function(){return o.default}));var i=n(/*! utils */"./src/utils.js");function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return new f.Builder(e,t)}function c(e){return new f.Builder("message",e)}function u(e){return new f.Builder("iq",e)}function d(e){return new f.Builder("presence",e)}var f={VERSION:"1.3.1",NS:{HTTPBIND:"http://jabber.org/protocol/httpbind",BOSH:"urn:xmpp:xbosh",CLIENT:"jabber:client",AUTH:"jabber:iq:auth",ROSTER:"jabber:iq:roster",PROFILE:"jabber:iq:profile",DISCO_INFO:"http://jabber.org/protocol/disco#info",DISCO_ITEMS:"http://jabber.org/protocol/disco#items",MUC:"http://jabber.org/protocol/muc",SASL:"urn:ietf:params:xml:ns:xmpp-sasl",STREAM:"http://etherx.jabber.org/streams",FRAMING:"urn:ietf:params:xml:ns:xmpp-framing",BIND:"urn:ietf:params:xml:ns:xmpp-bind",SESSION:"urn:ietf:params:xml:ns:xmpp-session",VERSION:"jabber:iq:version",STANZAS:"urn:ietf:params:xml:ns:xmpp-stanzas",XHTML_IM:"http://jabber.org/protocol/xhtml-im",XHTML:"http://www.w3.org/1999/xhtml"},XHTML:{tags:["a","blockquote","br","cite","em","img","li","ol","p","span","strong","ul","body"],attributes:{a:["href"],blockquote:["style"],br:[],cite:["style"],em:[],img:["src","alt","style","height","width"],li:["style"],ol:["style"],p:["style"],span:["style"],strong:[],ul:["style"],body:[]},css:["background-color","color","font-family","font-size","font-style","font-weight","margin-left","margin-right","text-align","text-decoration"],validTag:function(e){for(var t=0;t<f.XHTML.tags.length;t++)if(e===f.XHTML.tags[t])return!0;return!1},validAttribute:function(e,t){if(void 0!==f.XHTML.attributes[e]&&f.XHTML.attributes[e].length>0)for(var n=0;n<f.XHTML.attributes[e].length;n++)if(t===f.XHTML.attributes[e][n])return!0;return!1},validCSS:function(e){for(var t=0;t<f.XHTML.css.length;t++)if(e===f.XHTML.css[t])return!0;return!1}},Status:{ERROR:0,CONNECTING:1,CONNFAIL:2,AUTHENTICATING:3,AUTHFAIL:4,CONNECTED:5,DISCONNECTED:6,DISCONNECTING:7,ATTACHED:8,REDIRECT:9,CONNTIMEOUT:10},ErrorCondition:{BAD_FORMAT:"bad-format",CONFLICT:"conflict",MISSING_JID_NODE:"x-strophe-bad-non-anon-jid",NO_AUTH_MECH:"no-auth-mech",UNKNOWN_REASON:"unknown"},LogLevel:{DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4},ElementType:{NORMAL:1,TEXT:3,CDATA:4,FRAGMENT:11},TIMEOUT:1.1,SECONDARY_TIMEOUT:.1,addNamespace:function(e,t){f.NS[e]=t},forEachChild:function(e,t,n){for(var r=0;r<e.childNodes.length;r++){var o=e.childNodes[r];o.nodeType!==f.ElementType.NORMAL||t&&!this.isTagEqual(o,t)||n(o)}},isTagEqual:function(e,t){return e.tagName===t},_xmlGenerator:null,_makeGenerator:function(){var e;return void 0===document.implementation.createDocument||document.implementation.createDocument&&document.documentMode&&document.documentMode<10?(e=this._getIEXmlDom()).appendChild(e.createElement("strophe")):e=document.implementation.createDocument("jabber:client","strophe",null),e},xmlGenerator:function(){return f._xmlGenerator||(f._xmlGenerator=f._makeGenerator()),f._xmlGenerator},_getIEXmlDom:function(){for(var e=null,t=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument","Microsoft.XMLDOM"],n=0;n<t.length&&null===e;n++)try{e=new ActiveXObject(t[n])}catch(r){e=null}return e},xmlElement:function(e){if(!e)return null;for(var t=f.xmlGenerator().createElement(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r)if("string"==typeof r||"number"==typeof r)t.appendChild(f.xmlTextNode(r));else if("object"===a(r)&&"function"==typeof r.sort)for(var o=0;o<r.length;o++){var i=r[o];"object"===a(i)&&"function"==typeof i.sort&&void 0!==i[1]&&null!==i[1]&&t.setAttribute(i[0],i[1])}else if("object"===a(r))for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&void 0!==r[s]&&null!==r[s]&&t.setAttribute(s,r[s])}return t},xmlescape:function(e){return(e=(e=(e=(e=e.replace(/\&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/'/g,"&apos;")).replace(/"/g,"&quot;")},xmlunescape:function(e){return(e=(e=(e=(e=e.replace(/\&amp;/g,"&")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&apos;/g,"'")).replace(/&quot;/g,'"')},xmlTextNode:function(e){return f.xmlGenerator().createTextNode(e)},xmlHtmlNode:function(e){var t;return DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)),t},getText:function(e){if(!e)return null;var t="";0===e.childNodes.length&&e.nodeType===f.ElementType.TEXT&&(t+=e.nodeValue);for(var n=0;n<e.childNodes.length;n++)e.childNodes[n].nodeType===f.ElementType.TEXT&&(t+=e.childNodes[n].nodeValue);return f.xmlescape(t)},copyElement:function(e){var t;if(e.nodeType===f.ElementType.NORMAL){t=f.xmlElement(e.tagName);for(var n=0;n<e.attributes.length;n++)t.setAttribute(e.attributes[n].nodeName,e.attributes[n].value);for(var r=0;r<e.childNodes.length;r++)t.appendChild(f.copyElement(e.childNodes[r]))}else e.nodeType===f.ElementType.TEXT&&(t=f.xmlGenerator().createTextNode(e.nodeValue));return t},createHtml:function(e){var t;if(e.nodeType===f.ElementType.NORMAL){var n=e.nodeName.toLowerCase();if(f.XHTML.validTag(n))try{t=f.xmlElement(n);for(var r=0;r<f.XHTML.attributes[n].length;r++){var o=f.XHTML.attributes[n][r],i=e.getAttribute(o);if(null!=i&&""!==i&&!1!==i&&0!==i)if("style"===o&&"object"===a(i)&&void 0!==i.cssText&&(i=i.cssText),"style"===o){for(var s=[],l=i.split(";"),c=0;c<l.length;c++){var u=l[c].split(":"),d=u[0].replace(/^\s*/,"").replace(/\s*$/,"").toLowerCase();if(f.XHTML.validCSS(d)){var _=u[1].replace(/^\s*/,"").replace(/\s*$/,"");s.push(d+": "+_)}}s.length>0&&(i=s.join("; "),t.setAttribute(o,i))}else t.setAttribute(o,i)}for(var h=0;h<e.childNodes.length;h++)t.appendChild(f.createHtml(e.childNodes[h]))}catch(g){t=f.xmlTextNode("")}else{t=f.xmlGenerator().createDocumentFragment();for(var p=0;p<e.childNodes.length;p++)t.appendChild(f.createHtml(e.childNodes[p]))}}else if(e.nodeType===f.ElementType.FRAGMENT){t=f.xmlGenerator().createDocumentFragment();for(var m=0;m<e.childNodes.length;m++)t.appendChild(f.createHtml(e.childNodes[m]))}else e.nodeType===f.ElementType.TEXT&&(t=f.xmlTextNode(e.nodeValue));return t},escapeNode:function(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"").replace(/\\/g,"\\5c").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")},unescapeNode:function(e){return"string"!=typeof e?e:e.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")},getNodeFromJid:function(e){return e.indexOf("@")<0?null:e.split("@")[0]},getDomainFromJid:function(e){var t=f.getBareJidFromJid(e);if(t.indexOf("@")<0)return t;var n=t.split("@");return n.splice(0,1),n.join("@")},getResourceFromJid:function(e){var t=e.split("/");return t.length<2?null:(t.splice(0,1),t.join("/"))},getBareJidFromJid:function(e){return e?e.split("/")[0]:null},_handleError:function(e){void 0!==e.stack&&f.fatal(e.stack),e.sourceURL?f.fatal("error: "+this.handler+" "+e.sourceURL+":"+e.line+" - "+e.name+": "+e.message):e.fileName?f.fatal("error: "+this.handler+" "+e.fileName+":"+e.lineNumber+" - "+e.name+": "+e.message):f.fatal("error: "+e.message)},log:function(e,t){e===this.LogLevel.FATAL&&"object"===a(window.console)&&"function"==typeof window.console.error&&window.console.error(t)},debug:function(e){this.log(this.LogLevel.DEBUG,e)},info:function(e){this.log(this.LogLevel.INFO,e)},warn:function(e){this.log(this.LogLevel.WARN,e)},error:function(e){this.log(this.LogLevel.ERROR,e)},fatal:function(e){this.log(this.LogLevel.FATAL,e)},serialize:function(e){if(!e)return null;"function"==typeof e.tree&&(e=e.tree());var t=s(Array(e.attributes.length).keys()).map((function(t){return e.attributes[t].nodeName}));t.sort();var n=t.reduce((function(t,n){return"".concat(t," ").concat(n,'="').concat(f.xmlescape(e.attributes.getNamedItem(n).value),'"')}),"<".concat(e.nodeName));if(e.childNodes.length>0){n+=">";for(var r=0;r<e.childNodes.length;r++){var o=e.childNodes[r];switch(o.nodeType){case f.ElementType.NORMAL:n+=f.serialize(o);break;case f.ElementType.TEXT:n+=f.xmlescape(o.nodeValue);break;case f.ElementType.CDATA:n+="<![CDATA["+o.nodeValue+"]]>"}}n+="</"+e.nodeName+">"}else n+="/>";return n},_requestId:0,_connectionPlugins:{},addConnectionPlugin:function(e,t){f._connectionPlugins[e]=t},Builder:function(e,t){"presence"!==e&&"message"!==e&&"iq"!==e||(t&&!t.xmlns?t.xmlns=f.NS.CLIENT:t||(t={xmlns:f.NS.CLIENT})),this.nodeTree=f.xmlElement(e,t),this.node=this.nodeTree}};f.Builder.prototype={tree:function(){return this.nodeTree},toString:function(){return f.serialize(this.nodeTree)},up:function(){return this.node=this.node.parentNode,this},root:function(){return this.node=this.nodeTree,this},attrs:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(void 0===e[t]?this.node.removeAttribute(t):this.node.setAttribute(t,e[t]));return this},c:function(e,t,n){var r=f.xmlElement(e,t,n);return this.node.appendChild(r),"string"!=typeof n&&"number"!=typeof n&&(this.node=r),this},cnode:function(e){var t,n=f.xmlGenerator();try{t=void 0!==n.importNode}catch(o){t=!1}var r=t?n.importNode(e,!0):f.copyElement(e);return this.node.appendChild(r),this.node=r,this},t:function(e){var t=f.xmlTextNode(e);return this.node.appendChild(t),this},h:function(e){var t=document.createElement("body");t.innerHTML=e;for(var n=f.createHtml(t);n.childNodes.length>0;)this.node.appendChild(n.childNodes[0]);return this}},f.Handler=function(e,t,n,r,o,i,s){this.handler=e,this.ns=t,this.name=n,this.type=r,this.id=o,this.options=s||{matchBareFromJid:!1,ignoreNamespaceFragment:!1},this.options.matchBare&&(f.warn('The "matchBare" option is deprecated, use "matchBareFromJid" instead.'),this.options.matchBareFromJid=this.options.matchBare,delete this.options.matchBare),this.options.matchBareFromJid?this.from=i?f.getBareJidFromJid(i):null:this.from=i,this.user=!0},f.Handler.prototype={getNamespace:function(e){var t=e.getAttribute("xmlns");return t&&this.options.ignoreNamespaceFragment&&(t=t.split("#")[0]),t},namespaceMatch:function(e){var t=this,n=!1;return!this.ns||(f.forEachChild(e,null,(function(e){t.getNamespace(e)===t.ns&&(n=!0)})),n||this.getNamespace(e)===this.ns)},isMatch:function(e){var t=e.getAttribute("from");this.options.matchBareFromJid&&(t=f.getBareJidFromJid(t));var n=e.getAttribute("type");return!(!this.namespaceMatch(e)||this.name&&!f.isTagEqual(e,this.name)||this.type&&(Array.isArray(this.type)?-1===this.type.indexOf(n):n!==this.type)||this.id&&e.getAttribute("id")!==this.id||this.from&&t!==this.from)},run:function(e){var t=null;try{t=this.handler(e)}catch(n){throw f._handleError(n),n}return t},toString:function(){return"{Handler: "+this.handler+"("+this.name+","+this.id+","+this.ns+")}"}},f.TimedHandler=function(e,t){this.period=e,this.handler=t,this.lastCalled=(new Date).getTime(),this.user=!0},f.TimedHandler.prototype={run:function(){return this.lastCalled=(new Date).getTime(),this.handler()},reset:function(){this.lastCalled=(new Date).getTime()},toString:function(){return"{TimedHandler: "+this.handler+"("+this.period+")}"}},f.Connection=function(e,t){var n=this;this.service=e,this.options=t||{};var r=this.options.protocol||"";for(var o in 0===e.indexOf("ws:")||0===e.indexOf("wss:")||0===r.indexOf("ws")?this._proto=new f.Websocket(this):this._proto=new f.Bosh(this),this.jid="",this.domain=null,this.features=null,this._sasl_data={},this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.protocolErrorHandlers={HTTP:{},websocket:{}},this._idleTimeout=null,this._disconnectTimeout=null,this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.do_authentication=!0,this.paused=!1,this.restored=!1,this._data=[],this._uniqueId=0,this._sasl_success_handler=null,this._sasl_failure_handler=null,this._sasl_challenge_handler=null,this.maxRetries=5,this._idleTimeout=setTimeout((function(){return n._onIdle()}),100),i.default.addCookies(this.options.cookies),this.registerSASLMechanisms(this.options.mechanisms),f._connectionPlugins)if(Object.prototype.hasOwnProperty.call(f._connectionPlugins,o)){var s=function(){};s.prototype=f._connectionPlugins[o],this[o]=new s,this[o].init(this)}},f.Connection.prototype={reset:function(){this._proto._reset(),this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.restored=!1,this._data=[],this._requests=[],this._uniqueId=0},pause:function(){this.paused=!0},resume:function(){this.paused=!1},getUniqueId:function(e){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));return"string"==typeof e||"number"==typeof e?t+":"+e:t+""},addProtocolErrorHandler:function(e,t,n){this.protocolErrorHandlers[e][t]=n},connect:function(e,t,n,r,o,i,s){this.jid=e,this.authzid=f.getBareJidFromJid(this.jid),this.authcid=s||f.getNodeFromJid(this.jid),this.pass=t,this.servtype="xmpp",this.connect_callback=n,this.disconnecting=!1,this.connected=!1,this.authenticated=!1,this.restored=!1,this.domain=f.getDomainFromJid(this.jid),this._changeConnectStatus(f.Status.CONNECTING,null),this._proto._connect(r,o,i)},attach:function(e,t,n,r,o,i,s){if(!(this._proto instanceof f.Bosh)){var a=new Error('The "attach" method can only be used with a BOSH connection.');throw a.name="StropheSessionError",a}this._proto._attach(e,t,n,r,o,i,s)},restore:function(e,t,n,r,o){if(!this._sessionCachingSupported()){var i=new Error('The "restore" method can only be used with a BOSH connection.');throw i.name="StropheSessionError",i}this._proto._restore(e,t,n,r,o)},_sessionCachingSupported:function(){if(this._proto instanceof f.Bosh){if(!JSON)return!1;try{sessionStorage.setItem("_strophe_","_strophe_"),sessionStorage.removeItem("_strophe_")}catch(e){return!1}return!0}return!1},xmlInput:function(e){},xmlOutput:function(e){},rawInput:function(e){},rawOutput:function(e){},nextValidRid:function(e){},send:function(e){if(null!==e){if("function"==typeof e.sort)for(var t=0;t<e.length;t++)this._queueData(e[t]);else"function"==typeof e.tree?this._queueData(e.tree()):this._queueData(e);this._proto._send()}},flush:function(){clearTimeout(this._idleTimeout),this._onIdle()},sendPresence:function(e,t,n,r){var o=this,i=null;"function"==typeof e.tree&&(e=e.tree());var s=e.getAttribute("id");if(s||(s=this.getUniqueId("sendPresence"),e.setAttribute("id",s)),"function"==typeof t||"function"==typeof n){var a=this.addHandler((function(e){i&&o.deleteTimedHandler(i),"error"===e.getAttribute("type")?n&&n(e):t&&t(e)}),null,"presence",null,s);r&&(i=this.addTimedHandler(r,(function(){return o.deleteHandler(a),n&&n(null),!1})))}return this.send(e),s},sendIQ:function(e,t,n,r){var o=this,i=null;"function"==typeof e.tree&&(e=e.tree());var s=e.getAttribute("id");if(s||(s=this.getUniqueId("sendIQ"),e.setAttribute("id",s)),"function"==typeof t||"function"==typeof n){var a=this.addHandler((function(e){i&&o.deleteTimedHandler(i);var r=e.getAttribute("type");if("result"===r)t&&t(e);else{if("error"!==r){var s=new Error("Got bad IQ type of ".concat(r));throw s.name="StropheError",s}n&&n(e)}}),null,"iq",["error","result"],s);r&&(i=this.addTimedHandler(r,(function(){return o.deleteHandler(a),n&&n(null),!1})))}return this.send(e),s},_queueData:function(e){if(null===e||!e.tagName||!e.childNodes){var t=new Error("Cannot queue non-DOMElement.");throw t.name="StropheError",t}this._data.push(e)},_sendRestart:function(){var e=this;this._data.push("restart"),this._proto._sendRestart(),this._idleTimeout=setTimeout((function(){return e._onIdle()}),100)},addTimedHandler:function(e,t){var n=new f.TimedHandler(e,t);return this.addTimeds.push(n),n},deleteTimedHandler:function(e){this.removeTimeds.push(e)},addHandler:function(e,t,n,r,o,i,s){var a=new f.Handler(e,t,n,r,o,i,s);return this.addHandlers.push(a),a},deleteHandler:function(e){this.removeHandlers.push(e);var t=this.addHandlers.indexOf(e);t>=0&&this.addHandlers.splice(t,1)},registerSASLMechanisms:function(e){this.mechanisms={},(e=e||[f.SASLAnonymous,f.SASLExternal,f.SASLMD5,f.SASLOAuthBearer,f.SASLXOAuth2,f.SASLPlain,f.SASLSHA1]).forEach(this.registerSASLMechanism.bind(this))},registerSASLMechanism:function(e){this.mechanisms[e.prototype.name]=e},disconnect:function(e){if(this._changeConnectStatus(f.Status.DISCONNECTING,e),f.info("Disconnect was called because: "+e),this.connected){var t=!1;this.disconnecting=!0,this.authenticated&&(t=d({xmlns:f.NS.CLIENT,type:"unavailable"})),this._disconnectTimeout=this._addSysTimedHandler(3e3,this._onDisconnectTimeout.bind(this)),this._proto._disconnect(t)}else f.info("Disconnect was called before Strophe connected to the server"),this._proto._abortAllRequests(),this._doDisconnect()},_changeConnectStatus:function(e,t,n){for(var r in f._connectionPlugins)if(Object.prototype.hasOwnProperty.call(f._connectionPlugins,r)){var o=this[r];if(o.statusChanged)try{o.statusChanged(e,t)}catch(i){f.error("".concat(r," plugin caused an exception changing status: ").concat(i))}}if(this.connect_callback)try{this.connect_callback(e,t,n)}catch(s){f._handleError(s),f.error("User connection callback caused an exception: ".concat(s))}},_doDisconnect:function(e){"number"==typeof this._idleTimeout&&clearTimeout(this._idleTimeout),null!==this._disconnectTimeout&&(this.deleteTimedHandler(this._disconnectTimeout),this._disconnectTimeout=null),f.info("_doDisconnect was called"),this._proto._doDisconnect(),this.authenticated=!1,this.disconnecting=!1,this.restored=!1,this.handlers=[],this.timedHandlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this._changeConnectStatus(f.Status.DISCONNECTED,e),this.connected=!1},_dataRecv:function(e,t){var n=this;f.info("_dataRecv called");var r=this._proto._reqToData(e);if(null!==r){for(this.xmlInput!==f.Connection.prototype.xmlInput&&(r.nodeName===this._proto.strip&&r.childNodes.length?this.xmlInput(r.childNodes[0]):this.xmlInput(r)),this.rawInput!==f.Connection.prototype.rawInput&&(t?this.rawInput(t):this.rawInput(f.serialize(r)));this.removeHandlers.length>0;){var o=this.removeHandlers.pop(),i=this.handlers.indexOf(o);i>=0&&this.handlers.splice(i,1)}for(;this.addHandlers.length>0;)this.handlers.push(this.addHandlers.pop());if(this.disconnecting&&this._proto._emptyQueue())this._doDisconnect();else{var s=r.getAttribute("type");if(null!==s&&"terminate"===s){if(this.disconnecting)return;var a=r.getAttribute("condition"),l=r.getElementsByTagName("conflict");return null!==a?("remote-stream-error"===a&&l.length>0&&(a="conflict"),this._changeConnectStatus(f.Status.CONNFAIL,a)):this._changeConnectStatus(f.Status.CONNFAIL,f.ErrorCondition.UNKOWN_REASON),void this._doDisconnect(a)}f.forEachChild(r,null,(function(e){var t=n.handlers;n.handlers=[];for(var r=0;r<t.length;r++){var o=t[r];try{(!o.isMatch(e)||!n.authenticated&&o.user||o.run(e))&&n.handlers.push(o)}catch(i){f.warn("Removing Strophe handlers due to uncaught exception: "+i.message)}}}))}}},mechanisms:{},_connect_cb:function(e,t,n){var r;f.info("_connect_cb was called"),this.connected=!0;try{r=this._proto._reqToData(e)}catch(l){if(l.name!==f.ErrorCondition.BAD_FORMAT)throw l;this._changeConnectStatus(f.Status.CONNFAIL,f.ErrorCondition.BAD_FORMAT),this._doDisconnect(f.ErrorCondition.BAD_FORMAT)}if(r&&(this.xmlInput!==f.Connection.prototype.xmlInput&&(r.nodeName===this._proto.strip&&r.childNodes.length?this.xmlInput(r.childNodes[0]):this.xmlInput(r)),this.rawInput!==f.Connection.prototype.rawInput&&(n?this.rawInput(n):this.rawInput(f.serialize(r))),this._proto._connect_cb(r)!==f.Status.CONNFAIL))if(r.getElementsByTagNameNS?r.getElementsByTagNameNS(f.NS.STREAM,"features").length>0:r.getElementsByTagName("stream:features").length>0||r.getElementsByTagName("features").length>0){var o=[],i=r.getElementsByTagName("mechanism");if(i.length>0)for(var s=0;s<i.length;s++){var a=f.getText(i[s]);this.mechanisms[a]&&o.push(this.mechanisms[a])}0!==o.length||0!==r.getElementsByTagName("auth").length?!1!==this.do_authentication&&this.authenticate(o):this._proto._no_auth_received(t)}else this._proto._no_auth_received(t)},sortMechanismsByPriority:function(e){for(var t=0;t<e.length-1;++t){for(var n=t,r=t+1;r<e.length;++r)e[r].prototype.priority>e[n].prototype.priority&&(n=r);if(n!==t){var o=e[t];e[t]=e[n],e[n]=o}}return e},_attemptSASLAuth:function(e){e=this.sortMechanismsByPriority(e||[]);for(var t=!1,n=0;n<e.length;++n)if(e[n].prototype.test(this)){this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null),this._sasl_challenge_handler=this._addSysHandler(this._sasl_challenge_cb.bind(this),null,"challenge",null,null),this._sasl_mechanism=new e[n],this._sasl_mechanism.onStart(this);var r=l("auth",{xmlns:f.NS.SASL,mechanism:this._sasl_mechanism.name});if(this._sasl_mechanism.isClientFirst){var o=this._sasl_mechanism.onChallenge(this,null);r.t(btoa(o))}this.send(r.tree()),t=!0;break}return t},_attemptLegacyAuth:function(){null===f.getNodeFromJid(this.jid)?(this._changeConnectStatus(f.Status.CONNFAIL,f.ErrorCondition.MISSING_JID_NODE),this.disconnect(f.ErrorCondition.MISSING_JID_NODE)):(this._changeConnectStatus(f.Status.AUTHENTICATING,null),this._addSysHandler(this._auth1_cb.bind(this),null,null,null,"_auth_1"),this.send(u({type:"get",to:this.domain,id:"_auth_1"}).c("query",{xmlns:f.NS.AUTH}).c("username",{}).t(f.getNodeFromJid(this.jid)).tree()))},authenticate:function(e){this._attemptSASLAuth(e)||this._attemptLegacyAuth()},_sasl_challenge_cb:function(e){var t=atob(f.getText(e)),n=this._sasl_mechanism.onChallenge(this,t),r=l("response",{xmlns:f.NS.SASL});return""!==n&&r.t(btoa(n)),this.send(r.tree()),!0},_auth1_cb:function(e){var t=u({type:"set",id:"_auth_2"}).c("query",{xmlns:f.NS.AUTH}).c("username",{}).t(f.getNodeFromJid(this.jid)).up().c("password").t(this.pass);return f.getResourceFromJid(this.jid)||(this.jid=f.getBareJidFromJid(this.jid)+"/strophe"),t.up().c("resource",{}).t(f.getResourceFromJid(this.jid)),this._addSysHandler(this._auth2_cb.bind(this),null,null,null,"_auth_2"),this.send(t.tree()),!1},_sasl_success_cb:function(e){var t=this;if(this._sasl_data["server-signature"]){var n,r=atob(f.getText(e)).match(/([a-z]+)=([^,]+)(,|$)/);if("v"===r[1]&&(n=r[2]),n!==this._sasl_data["server-signature"])return this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_data={},this._sasl_failure_cb(null)}f.info("SASL authentication succeeded."),this._sasl_mechanism&&this._sasl_mechanism.onSuccess(),this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null);var o=[],i=function(e,n){for(;e.length;)t.deleteHandler(e.pop());return t._sasl_auth1_cb(n),!1};return o.push(this._addSysHandler((function(e){return i(o,e)}),null,"stream:features",null,null)),o.push(this._addSysHandler((function(e){return i(o,e)}),f.NS.STREAM,"features",null,null)),this._sendRestart(),!1},_sasl_auth1_cb:function(e){this.features=e;for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];"bind"===n.nodeName&&(this.do_bind=!0),"session"===n.nodeName&&(this.do_session=!0)}if(!this.do_bind)return this._changeConnectStatus(f.Status.AUTHFAIL,null),!1;this._addSysHandler(this._sasl_bind_cb.bind(this),null,null,null,"_bind_auth_2");var r=f.getResourceFromJid(this.jid);return r?this.send(u({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:f.NS.BIND}).c("resource",{}).t(r).tree()):this.send(u({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:f.NS.BIND}).tree()),!1},_sasl_bind_cb:function(e){var t;if("error"===e.getAttribute("type"))return f.info("SASL binding failed."),e.getElementsByTagName("conflict").length>0&&(t=f.ErrorCondition.CONFLICT),this._changeConnectStatus(f.Status.AUTHFAIL,t,e),!1;var n=e.getElementsByTagName("bind");if(!(n.length>0))return f.info("SASL binding failed."),this._changeConnectStatus(f.Status.AUTHFAIL,null,e),!1;var r=n[0].getElementsByTagName("jid");r.length>0&&(this.jid=f.getText(r[0]),this.do_session?(this._addSysHandler(this._sasl_session_cb.bind(this),null,null,null,"_session_auth_2"),this.send(u({type:"set",id:"_session_auth_2"}).c("session",{xmlns:f.NS.SESSION}).tree())):(this.authenticated=!0,this._changeConnectStatus(f.Status.CONNECTED,null)))},_sasl_session_cb:function(e){if("result"===e.getAttribute("type"))this.authenticated=!0,this._changeConnectStatus(f.Status.CONNECTED,null);else if("error"===e.getAttribute("type"))return f.info("Session creation failed."),this._changeConnectStatus(f.Status.AUTHFAIL,null,e),!1;return!1},_sasl_failure_cb:function(e){return this._sasl_success_handler&&(this.deleteHandler(this._sasl_success_handler),this._sasl_success_handler=null),this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_mechanism&&this._sasl_mechanism.onFailure(),this._changeConnectStatus(f.Status.AUTHFAIL,null,e),!1},_auth2_cb:function(e){return"result"===e.getAttribute("type")?(this.authenticated=!0,this._changeConnectStatus(f.Status.CONNECTED,null)):"error"===e.getAttribute("type")&&(this._changeConnectStatus(f.Status.AUTHFAIL,null,e),this.disconnect("authentication failed")),!1},_addSysTimedHandler:function(e,t){var n=new f.TimedHandler(e,t);return n.user=!1,this.addTimeds.push(n),n},_addSysHandler:function(e,t,n,r,o){var i=new f.Handler(e,t,n,r,o);return i.user=!1,this.addHandlers.push(i),i},_onDisconnectTimeout:function(){return f.info("_onDisconnectTimeout was called"),this._changeConnectStatus(f.Status.CONNTIMEOUT,null),this._proto._onDisconnectTimeout(),this._doDisconnect(),!1},_onIdle:function(){for(var e=this;this.addTimeds.length>0;)this.timedHandlers.push(this.addTimeds.pop());for(;this.removeTimeds.length>0;){var t=this.removeTimeds.pop(),n=this.timedHandlers.indexOf(t);n>=0&&this.timedHandlers.splice(n,1)}for(var r=(new Date).getTime(),o=[],i=0;i<this.timedHandlers.length;i++){var s=this.timedHandlers[i];!this.authenticated&&s.user||(s.lastCalled+s.period-r<=0?s.run()&&o.push(s):o.push(s))}this.timedHandlers=o,clearTimeout(this._idleTimeout),this._proto._onIdle(),this.connected&&(this._idleTimeout=setTimeout((function(){return e._onIdle()}),100))}},f.SASLMechanism=function(e,t,n){this.name=e,this.isClientFirst=t,this.priority=n},f.SASLMechanism.prototype={test:function(e){return!0},onStart:function(e){this._connection=e},onChallenge:function(e,t){throw new Error("You should implement challenge handling!")},onFailure:function(){this._connection=null},onSuccess:function(){this._connection=null}},f.SASLAnonymous=function(){},f.SASLAnonymous.prototype=new f.SASLMechanism("ANONYMOUS",!1,20),f.SASLAnonymous.prototype.test=function(e){return null===e.authcid},f.SASLPlain=function(){},f.SASLPlain.prototype=new f.SASLMechanism("PLAIN",!0,50),f.SASLPlain.prototype.test=function(e){return null!==e.authcid},f.SASLPlain.prototype.onChallenge=function(e){var t=e.authzid;return t+="\0",t+=e.authcid,t+="\0",t+=e.pass,i.default.utf16to8(t)},f.SASLSHA1=function(){},f.SASLSHA1.prototype=new f.SASLMechanism("SCRAM-SHA-1",!0,70),f.SASLSHA1.prototype.test=function(e){return null!==e.authcid},f.SASLSHA1.prototype.onChallenge=function(e,t,n){var s=n||r.default.hexdigest(1234567890*Math.random()),a="n="+i.default.utf16to8(e.authcid);return a+=",r=",a+=s,e._sasl_data.cnonce=s,e._sasl_data["client-first-message-bare"]=a,a="n,,"+a,this.onChallenge=function(e,t){for(var n,r,s,a,l,c,u,d,f="c=biws,",_="".concat(e._sasl_data["client-first-message-bare"],",").concat(t,","),h=e._sasl_data.cnonce,p=/([a-z]+)=([^,]+)(,|$)/;t.match(p);){var m=t.match(p);switch(t=t.replace(m[0],""),m[1]){case"r":n=m[2];break;case"s":r=m[2];break;case"i":s=m[2]}}if(n.substr(0,h.length)!==h)return e._sasl_data={},e._sasl_failure_cb();_+=f+="r="+n,r=atob(r),r+="\0\0\0";var g=i.default.utf16to8(e.pass);for(a=c=o.default.core_hmac_sha1(g,r),u=1;u<s;u++){for(l=o.default.core_hmac_sha1(g,o.default.binb2str(c)),d=0;d<5;d++)a[d]^=l[d];c=l}a=o.default.binb2str(a);var v=o.default.core_hmac_sha1(a,"Client Key"),b=o.default.str_hmac_sha1(a,"Server Key"),D=o.default.core_hmac_sha1(o.default.str_sha1(o.default.binb2str(v)),_);for(e._sasl_data["server-signature"]=o.default.b64_hmac_sha1(b,_),d=0;d<5;d++)v[d]^=D[d];return f+",p="+btoa(o.default.binb2str(v))},a},f.SASLMD5=function(){},f.SASLMD5.prototype=new f.SASLMechanism("DIGEST-MD5",!1,60),f.SASLMD5.prototype.test=function(e){return null!==e.authcid},f.SASLMD5.prototype._quote=function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'},f.SASLMD5.prototype.onChallenge=function(e,t,n){for(var o=/([a-z]+)=("[^"]+"|[^,"]+)(?:,|$)/,s=n||r.default.hexdigest(""+1234567890*Math.random()),a="",l=null,c="";t.match(o);){var u=t.match(o);switch(t=t.replace(u[0],""),u[2]=u[2].replace(/^"(.+)"$/,"$1"),u[1]){case"realm":a=u[2];break;case"nonce":c=u[2];break;case"qop":u[2];break;case"host":l=u[2]}}var d=e.servtype+"/"+e.domain;null!==l&&(d=d+"/"+l);var f=i.default.utf16to8(e.authcid+":"+a+":"+this._connection.pass),_=r.default.hash(f)+":"+c+":"+s,h="AUTHENTICATE:"+d,p="";return p+="charset=utf-8,",p+="username="+this._quote(i.default.utf16to8(e.authcid))+",",p+="realm="+this._quote(a)+",",p+="nonce="+this._quote(c)+",",p+="nc=00000001,",p+="cnonce="+this._quote(s)+",",p+="digest-uri="+this._quote(d)+",",p+="response="+r.default.hexdigest(r.default.hexdigest(_)+":"+c+":00000001:"+s+":auth:"+r.default.hexdigest(h))+",",p+="qop=auth",this.onChallenge=function(){return""},p},f.SASLOAuthBearer=function(){},f.SASLOAuthBearer.prototype=new f.SASLMechanism("OAUTHBEARER",!0,40),f.SASLOAuthBearer.prototype.test=function(e){return null!==e.pass},f.SASLOAuthBearer.prototype.onChallenge=function(e){var t="n,";return null!==e.authcid&&(t=t+"a="+e.authzid),t+=",",t+="",t+="auth=Bearer ",t+=e.pass,t+="",t+="",i.default.utf16to8(t)},f.SASLExternal=function(){},f.SASLExternal.prototype=new f.SASLMechanism("EXTERNAL",!0,10),f.SASLExternal.prototype.onChallenge=function(e){return e.authcid===e.authzid?"":e.authzid},f.SASLXOAuth2=function(){},f.SASLXOAuth2.prototype=new f.SASLMechanism("X-OAUTH2",!0,30),f.SASLXOAuth2.prototype.test=function(e){return null!==e.pass},f.SASLXOAuth2.prototype.onChallenge=function(e){var t="\0";return null!==e.authcid&&(t+=e.authzid),t+="\0",t+=e.pass,i.default.utf16to8(t)},t.default={Strophe:f,$build:l,$iq:u,$msg:c,$pres:d,SHA1:o.default,MD5:r.default,b64_hmac_sha1:o.default.b64_hmac_sha1,b64_sha1:o.default.b64_sha1,str_hmac_sha1:o.default.str_hmac_sha1,str_sha1:o.default.str_sha1}},"./src/md5.js":
/*!********************!*\
  !*** ./src/md5.js ***!
  \********************/
/*! exports provided: default */function(e,t,n){n.r(t),n.d(t,"default",(function(){return d}));var r=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},o=function(e){for(var t=[],n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t},i=function(e,t,n,o,i,s){return r((a=r(r(t,e),r(o,s)))<<(l=i)|a>>>32-l,n);var a,l},s=function(e,t,n,r,o,s,a){return i(t&n|~t&r,e,t,o,s,a)},a=function(e,t,n,r,o,s,a){return i(t&r|n&~r,e,t,o,s,a)},l=function(e,t,n,r,o,s,a){return i(t^n^r,e,t,o,s,a)},c=function(e,t,n,r,o,s,a){return i(n^(t|~r),e,t,o,s,a)},u=function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n,o,i,u,d=1732584193,f=-271733879,_=-1732584194,h=271733878,p=0;p<e.length;p+=16)n=d,o=f,i=_,u=h,d=s(d,f,_,h,e[p+0],7,-680876936),h=s(h,d,f,_,e[p+1],12,-389564586),_=s(_,h,d,f,e[p+2],17,606105819),f=s(f,_,h,d,e[p+3],22,-1044525330),d=s(d,f,_,h,e[p+4],7,-176418897),h=s(h,d,f,_,e[p+5],12,1200080426),_=s(_,h,d,f,e[p+6],17,-1473231341),f=s(f,_,h,d,e[p+7],22,-45705983),d=s(d,f,_,h,e[p+8],7,1770035416),h=s(h,d,f,_,e[p+9],12,-1958414417),_=s(_,h,d,f,e[p+10],17,-42063),f=s(f,_,h,d,e[p+11],22,-1990404162),d=s(d,f,_,h,e[p+12],7,1804603682),h=s(h,d,f,_,e[p+13],12,-40341101),_=s(_,h,d,f,e[p+14],17,-1502002290),f=s(f,_,h,d,e[p+15],22,1236535329),d=a(d,f,_,h,e[p+1],5,-165796510),h=a(h,d,f,_,e[p+6],9,-1069501632),_=a(_,h,d,f,e[p+11],14,643717713),f=a(f,_,h,d,e[p+0],20,-373897302),d=a(d,f,_,h,e[p+5],5,-701558691),h=a(h,d,f,_,e[p+10],9,38016083),_=a(_,h,d,f,e[p+15],14,-660478335),f=a(f,_,h,d,e[p+4],20,-405537848),d=a(d,f,_,h,e[p+9],5,568446438),h=a(h,d,f,_,e[p+14],9,-1019803690),_=a(_,h,d,f,e[p+3],14,-187363961),f=a(f,_,h,d,e[p+8],20,1163531501),d=a(d,f,_,h,e[p+13],5,-1444681467),h=a(h,d,f,_,e[p+2],9,-51403784),_=a(_,h,d,f,e[p+7],14,1735328473),f=a(f,_,h,d,e[p+12],20,-1926607734),d=l(d,f,_,h,e[p+5],4,-378558),h=l(h,d,f,_,e[p+8],11,-2022574463),_=l(_,h,d,f,e[p+11],16,1839030562),f=l(f,_,h,d,e[p+14],23,-35309556),d=l(d,f,_,h,e[p+1],4,-1530992060),h=l(h,d,f,_,e[p+4],11,1272893353),_=l(_,h,d,f,e[p+7],16,-155497632),f=l(f,_,h,d,e[p+10],23,-1094730640),d=l(d,f,_,h,e[p+13],4,681279174),h=l(h,d,f,_,e[p+0],11,-358537222),_=l(_,h,d,f,e[p+3],16,-722521979),f=l(f,_,h,d,e[p+6],23,76029189),d=l(d,f,_,h,e[p+9],4,-640364487),h=l(h,d,f,_,e[p+12],11,-421815835),_=l(_,h,d,f,e[p+15],16,530742520),f=l(f,_,h,d,e[p+2],23,-995338651),d=c(d,f,_,h,e[p+0],6,-198630844),h=c(h,d,f,_,e[p+7],10,1126891415),_=c(_,h,d,f,e[p+14],15,-1416354905),f=c(f,_,h,d,e[p+5],21,-57434055),d=c(d,f,_,h,e[p+12],6,1700485571),h=c(h,d,f,_,e[p+3],10,-1894986606),_=c(_,h,d,f,e[p+10],15,-1051523),f=c(f,_,h,d,e[p+1],21,-2054922799),d=c(d,f,_,h,e[p+8],6,1873313359),h=c(h,d,f,_,e[p+15],10,-30611744),_=c(_,h,d,f,e[p+6],15,-1560198380),f=c(f,_,h,d,e[p+13],21,1309151649),d=c(d,f,_,h,e[p+4],6,-145523070),h=c(h,d,f,_,e[p+11],10,-1120210379),_=c(_,h,d,f,e[p+2],15,718787259),f=c(f,_,h,d,e[p+9],21,-343485551),d=r(d,n),f=r(f,o),_=r(_,i),h=r(h,u);return[d,f,_,h]},d={hexdigest:function(e){return function(e){for(var t="",n=0;n<4*e.length;n++)t+="0123456789abcdef".charAt(e[n>>2]>>n%4*8+4&15)+"0123456789abcdef".charAt(e[n>>2]>>n%4*8&15);return t}(u(o(e),8*e.length))},hash:function(e){return function(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}(u(o(e),8*e.length))}}},"./src/sha1.js":
/*!*********************!*\
  !*** ./src/sha1.js ***!
  \*********************/
/*! exports provided: default */function(e,t,n){function r(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;var n,r,s,c,u,d,f,_,h=new Array(80),p=1732584193,m=-271733879,g=-1732584194,v=271733878,b=-1009589776;for(n=0;n<e.length;n+=16){for(c=p,u=m,d=g,f=v,_=b,r=0;r<80;r++)h[r]=r<16?e[n+r]:l(h[r-3]^h[r-8]^h[r-14]^h[r-16],1),s=a(a(l(p,5),o(r,m,g,v)),a(a(b,h[r]),i(r))),b=v,v=g,g=l(m,30),m=p,p=s;p=a(p,c),m=a(m,u),g=a(g,d),v=a(v,f),b=a(b,_)}return[p,m,g,v,b]}function o(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function i(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function s(e,t){var n=c(e);n.length>16&&(n=r(n,8*e.length));for(var o=new Array(16),i=new Array(16),s=0;s<16;s++)o[s]=909522486^n[s],i[s]=1549556828^n[s];var a=r(o.concat(c(t)),512+8*t.length);return r(i.concat(a),672)}function a(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function l(e,t){return e<<t|e>>>32-t}function c(e){for(var t=[],n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<24-n%32;return t}function u(e){for(var t,n,r="",o=0;o<4*e.length;o+=3)for(t=(e[o>>2]>>8*(3-o%4)&255)<<16|(e[o+1>>2]>>8*(3-(o+1)%4)&255)<<8|e[o+2>>2]>>8*(3-(o+2)%4)&255,n=0;n<4;n++)8*o+6*n>32*e.length?r+="=":r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t>>6*(3-n)&63);return r}function d(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>24-n%32&255);return t}n.r(t),n.d(t,"default",(function(){return f}));var f={b64_hmac_sha1:function(e,t){return u(s(e,t))},b64_sha1:function(e){return u(r(c(e),8*e.length))},binb2str:d,core_hmac_sha1:s,str_hmac_sha1:function(e,t){return d(s(e,t))},str_sha1:function(e){return d(r(c(e),8*e.length))}}},"./src/strophe.js":
/*!************************!*\
  !*** ./src/strophe.js ***!
  \************************/
/*! exports provided: default */function(e,t,n){n.r(t),function(e){var r=n(/*! core */"./src/core.js");n(/*! bosh */"./src/bosh.js"),n(/*! websocket */"./src/websocket.js"),n.d(t,"default",(function(){return r.default})),e.Strophe=r.default.Strophe,e.$build=r.default.$build,e.$iq=r.default.$iq,e.$msg=r.default.$msg,e.$pres=r.default.$pres}.call(this,n(/*! ./../node_modules/webpack/buildin/global.js */"./node_modules/webpack/buildin/global.js"))},"./src/utils.js":
/*!**********************!*\
  !*** ./src/utils.js ***!
  \**********************/
/*! exports provided: default */function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.r(t),n.d(t,"default",(function(){return o}));var o={utf16to8:function(e){var t,n,r="",o=e.length;for(t=0;t<o;t++)(n=e.charCodeAt(t))>=0&&n<=127?r+=e.charAt(t):n>2047?(r+=String.fromCharCode(224|n>>12&15),r+=String.fromCharCode(128|n>>6&63),r+=String.fromCharCode(128|n>>0&63)):(r+=String.fromCharCode(192|n>>6&31),r+=String.fromCharCode(128|n>>0&63));return r},addCookies:function(e){for(var t in e=e||{})if(Object.prototype.hasOwnProperty.call(e,t)){var n="",o="",i="",s=e[t],a="object"===r(s),l=escape(unescape(a?s.value:s));a&&(n=s.expires?";expires="+s.expires:"",o=s.domain?";domain="+s.domain:"",i=s.path?";path="+s.path:""),document.cookie=t+"="+l+n+o+i}}}},"./src/websocket.js":
/*!**************************!*\
  !*** ./src/websocket.js ***!
  \**************************/
/*! no exports provided */function(e,t,n){n.r(t);var r=n(/*! core */"./src/core.js"),o=r.default.Strophe,i=r.default.$build;o.Websocket=function(e){this._conn=e,this.strip="wrapper";var t=e.service;if(0!==t.indexOf("ws:")&&0!==t.indexOf("wss:")){var n="";"ws"===e.options.protocol&&"https:"!==window.location.protocol?n+="ws":n+="wss",n+="://"+window.location.host,0!==t.indexOf("/")?n+=window.location.pathname+t:n+=t,e.service=n}},o.Websocket.prototype={_buildStream:function(){return i("open",{xmlns:o.NS.FRAMING,to:this._conn.domain,version:"1.0"})},_check_streamerror:function(e,t){var n;if(0===(n=e.getElementsByTagNameNS?e.getElementsByTagNameNS(o.NS.STREAM,"error"):e.getElementsByTagName("stream:error")).length)return!1;for(var r=n[0],i="",s="",a=0;a<r.childNodes.length;a++){var l=r.childNodes[a];if("urn:ietf:params:xml:ns:xmpp-streams"!==l.getAttribute("xmlns"))break;"text"===l.nodeName?s=l.textContent:i=l.nodeName}var c="WebSocket stream error: ";return c+=i||"unknown",s&&(c+=" - "+s),o.error(c),this._conn._changeConnectStatus(t,i),this._conn._doDisconnect(),!0},_reset:function(){},_connect:function(){this._closeSocket(),this.socket=new WebSocket(this._conn.service,"xmpp"),this.socket.onopen=this._onOpen.bind(this),this.socket.onerror=this._onError.bind(this),this.socket.onclose=this._onClose.bind(this),this.socket.onmessage=this._connect_cb_wrapper.bind(this)},_connect_cb:function(e){if(this._check_streamerror(e,o.Status.CONNFAIL))return o.Status.CONNFAIL},_handleStreamStart:function(e){var t=!1,n=e.getAttribute("xmlns");"string"!=typeof n?t="Missing xmlns in <open />":n!==o.NS.FRAMING&&(t="Wrong xmlns in <open />: "+n);var r=e.getAttribute("version");return"string"!=typeof r?t="Missing version in <open />":"1.0"!==r&&(t="Wrong version in <open />: "+r),!t||(this._conn._changeConnectStatus(o.Status.CONNFAIL,t),this._conn._doDisconnect(),!1)},_connect_cb_wrapper:function(e){if(0===e.data.indexOf("<open ")||0===e.data.indexOf("<?xml")){var t=e.data.replace(/^(<\?.*?\?>\s*)*/,"");if(""===t)return;var n=(new DOMParser).parseFromString(t,"text/xml").documentElement;this._conn.xmlInput(n),this._conn.rawInput(e.data),this._handleStreamStart(n)&&this._connect_cb(n)}else if(0===e.data.indexOf("<close ")){var r=(new DOMParser).parseFromString(e.data,"text/xml").documentElement;this._conn.xmlInput(r),this._conn.rawInput(e.data);var i=r.getAttribute("see-other-uri");if(i){var s=this._conn.service;(s.indexOf("wss:")>=0&&i.indexOf("wss:")>=0||s.indexOf("ws:")>=0)&&(this._conn._changeConnectStatus(o.Status.REDIRECT,"Received see-other-uri, resetting connection"),this._conn.reset(),this._conn.service=i,this._connect())}else this._conn._changeConnectStatus(o.Status.CONNFAIL,"Received closing stream"),this._conn._doDisconnect()}else{var a=this._streamWrap(e.data),l=(new DOMParser).parseFromString(a,"text/xml").documentElement;this.socket.onmessage=this._onMessage.bind(this),this._conn._connect_cb(l,null,e.data)}},_disconnect:function(e){if(this.socket&&this.socket.readyState!==WebSocket.CLOSED){e&&this._conn.send(e);var t=i("close",{xmlns:o.NS.FRAMING});this._conn.xmlOutput(t.tree());var n=o.serialize(t);this._conn.rawOutput(n);try{this.socket.send(n)}catch(r){o.info("Couldn't send <close /> tag.")}}this._conn._doDisconnect()},_doDisconnect:function(){o.info("WebSockets _doDisconnect was called"),this._closeSocket()},_streamWrap:function(e){return"<wrapper>"+e+"</wrapper>"},_closeSocket:function(){if(this.socket)try{this.socket.onerror=null,this.socket.close()}catch(e){o.debug(e.message)}this.socket=null},_emptyQueue:function(){return!0},_onClose:function(e){this._conn.connected&&!this._conn.disconnecting?(o.error("Websocket closed unexpectedly"),this._conn._doDisconnect()):e&&1006===e.code&&!this._conn.connected&&this.socket?(o.error("Websocket closed unexcectedly"),this._conn._changeConnectStatus(o.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._conn._doDisconnect()):o.info("Websocket closed")},_no_auth_received:function(e){o.error("Server did not offer a supported authentication mechanism"),this._changeConnectStatus(o.Status.CONNFAIL,o.ErrorCondition.NO_AUTH_MECH),e&&e.call(this._conn),this._conn._doDisconnect()},_onDisconnectTimeout:function(){},_abortAllRequests:function(){},_onError:function(e){o.error("Websocket error "+e),this._conn._changeConnectStatus(o.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._disconnect()},_onIdle:function(){var e=this._conn._data;if(e.length>0&&!this._conn.paused){for(var t=0;t<e.length;t++)if(null!==e[t]){var n=void 0;n="restart"===e[t]?this._buildStream().tree():e[t];var r=o.serialize(n);this._conn.xmlOutput(n),this._conn.rawOutput(r),this.socket.send(r)}this._conn._data=[]}},_onMessage:function(e){var t,n='<close xmlns="urn:ietf:params:xml:ns:xmpp-framing" />';if(e.data===n)return this._conn.rawInput(n),this._conn.xmlInput(e),void(this._conn.disconnecting||this._conn._doDisconnect());if(0===e.data.search("<open ")){if(t=(new DOMParser).parseFromString(e.data,"text/xml").documentElement,!this._handleStreamStart(t))return}else{var r=this._streamWrap(e.data);t=(new DOMParser).parseFromString(r,"text/xml").documentElement}return this._check_streamerror(t,o.Status.ERROR)?void 0:this._conn.disconnecting&&"presence"===t.firstChild.nodeName&&"unavailable"===t.firstChild.getAttribute("type")?(this._conn.xmlInput(t),void this._conn.rawInput(o.serialize(t))):void this._conn._dataRecv(t,e.data)},_onOpen:function(){o.info("Websocket open");var e=this._buildStream();this._conn.xmlOutput(e.tree());var t=o.serialize(e);this._conn.rawOutput(t),this.socket.send(t)},_reqToData:function(e){return e},_send:function(){this._conn.flush()},_sendRestart:function(){clearTimeout(this._conn._idleTimeout),this._conn._onIdle.bind(this._conn)()}}}}).default},e.exports=r()},function(e,t,n){n.d(t,"a",(function(){return s}));var r=n(8),o=n(23),i=n(31),s=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return r.a(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(o.a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=function(e){return"function"==typeof e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(68),o=n(80);t.empty={closed:!0,next:function(e){},error:function(e){if(r.config.useDeprecatedSynchronousErrorHandling)throw e;o.hostReportError(e)},complete:function(){}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.hostReportError=function(e){setTimeout((function(){throw e}),0)}},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return o(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n(45).Subscription);t.SubjectSubscription=i},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},r=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},o={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},i=function(e){return function(t,n,i,s){var a=r(t),l=o[e][r(t)];return 2===a&&(l=l[n?0:1]),l.replace(/%d/i,t)}},s=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];e.defineLocale("ar",{months:s,monthsShort:s,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,(function(e){return n[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:6,doy:12}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},n={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},r=function(e){return function(r,o,i,s){var a=t(r),l=n[e][t(r)];return 2===a&&(l=l[o?0:1]),l.replace(/%d/i,r)}},o=["جانفي","فيفري","مارس","أفريل","ماي","جوان","جويلية","أوت","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];e.defineLocale("ar-dz",{months:o,monthsShort:o,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:0,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("ar-kw",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:0,doy:12}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},r={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},o=function(e){return function(t,o,i,s){var a=n(t),l=r[e][n(t)];return 2===a&&(l=l[o?0:1]),l.replace(/%d/i,t)}},i=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];e.defineLocale("ar-ly",{months:i,monthsShort:i,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:o("s"),ss:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:6,doy:12}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اثنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};e.defineLocale("ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,(function(e){return n[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:0,doy:6}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("ar-tn",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"};e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"bir neçə saniyə",ss:"%d saniyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gecə|səhər|gündüz|axşam/,isPM:function(e){return/^(gündüz|axşam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gecə":e<12?"səhər":e<17?"gündüz":"axşam"},dayOfMonthOrdinalParse:/\d{1,2}-(ıncı|inci|nci|üncü|ncı|uncu)/,ordinal:function(e){if(0===e)return e+"-ıncı";var n=e%10;return e+(t[n]||t[e%100-n]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
function t(e,t,n){var r,o;return"m"===n?t?"хвіліна":"хвіліну":"h"===n?t?"гадзіна":"гадзіну":e+" "+(r=+e,o={ss:t?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:t?"хвіліна_хвіліны_хвілін":"хвіліну_хвіліны_хвілін",hh:t?"гадзіна_гадзіны_гадзін":"гадзіну_гадзіны_гадзін",dd:"дзень_дні_дзён",MM:"месяц_месяцы_месяцаў",yy:"год_гады_гадоў"}[n].split("_"),r%10==1&&r%100!=11?o[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?o[1]:o[2])}e.defineLocale("be",{months:{format:"студзеня_лютага_сакавіка_красавіка_траўня_чэрвеня_ліпеня_жніўня_верасня_кастрычніка_лістапада_снежня".split("_"),standalone:"студзень_люты_сакавік_красавік_травень_чэрвень_ліпень_жнівень_верасень_кастрычнік_лістапад_снежань".split("_")},monthsShort:"студ_лют_сак_крас_трав_чэрв_ліп_жнів_вер_каст_ліст_снеж".split("_"),weekdays:{format:"нядзелю_панядзелак_аўторак_сераду_чацвер_пятніцу_суботу".split("_"),standalone:"нядзеля_панядзелак_аўторак_серада_чацвер_пятніца_субота".split("_"),isFormat:/\[ ?[Ууў] ?(?:мінулую|наступную)? ?\] ?dddd/},weekdaysShort:"нд_пн_ат_ср_чц_пт_сб".split("_"),weekdaysMin:"нд_пн_ат_ср_чц_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сёння ў] LT",nextDay:"[Заўтра ў] LT",lastDay:"[Учора ў] LT",nextWeek:function(){return"[У] dddd [ў] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[У мінулую] dddd [ў] LT";case 1:case 2:case 4:return"[У мінулы] dddd [ў] LT"}},sameElse:"L"},relativeTime:{future:"праз %s",past:"%s таму",s:"некалькі секунд",m:t,mm:t,h:t,hh:t,d:"дзень",dd:t,M:"месяц",MM:t,y:"год",yy:t},meridiemParse:/ночы|раніцы|дня|вечара/,isPM:function(e){return/^(дня|вечара)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночы":e<12?"раніцы":e<17?"дня":"вечара"},dayOfMonthOrdinalParse:/\d{1,2}-(і|ы|га)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-ы":e+"-і";case"D":return e+"-га";default:return e}},week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"яну_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Миналата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[Миналия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",ss:"%d секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",w:"седмица",ww:"%d седмици",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&n<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mɛkalo_Zuwɛnkalo_Zuluyekalo_Utikalo_Sɛtanburukalo_ɔkutɔburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_Mɛ_Zuw_Zul_Uti_Sɛt_ɔku_Now_Des".split("_"),weekdays:"Kari_Ntɛnɛn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Ntɛ_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm"},calendar:{sameDay:"[Bi lɛrɛ] LT",nextDay:"[Sini lɛrɛ] LT",nextWeek:"dddd [don lɛrɛ] LT",lastDay:"[Kunu lɛrɛ] LT",lastWeek:"dddd [tɛmɛnen lɛrɛ] LT",sameElse:"L"},relativeTime:{future:"%s kɔnɔ",past:"a bɛ %s bɔ",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lɛrɛ kelen",hh:"lɛrɛ %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},n={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};e.defineLocale("bn",{months:"জানুয়ারি_ফেব্রুয়ারি_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব্রু_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্ট_অক্টো_নভে_ডিসে".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পতিবার_শুক্রবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পতি_শুক্র_শনি".split("_"),weekdaysMin:"রবি_সোম_মঙ্গল_বুধ_বৃহ_শুক্র_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm সময়",LLLL:"dddd, D MMMM YYYY, A h:mm সময়"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কয়েক সেকেন্ড",ss:"%d সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[১২৩৪৫৬৭৮৯০]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/রাত|সকাল|দুপুর|বিকাল|রাত/,meridiemHour:function(e,t){return 12===e&&(e=0),"রাত"===t&&e>=4||"দুপুর"===t&&e<5||"বিকাল"===t?e+12:e},meridiem:function(e,t,n){return e<4?"রাত":e<10?"সকাল":e<17?"দুপুর":e<20?"বিকাল":"রাত"},week:{dow:0,doy:6}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},n={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};e.defineLocale("bn-bd",{months:"জানুয়ারি_ফেব্রুয়ারি_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব্রু_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্ট_অক্টো_নভে_ডিসে".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পতিবার_শুক্রবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পতি_শুক্র_শনি".split("_"),weekdaysMin:"রবি_সোম_মঙ্গল_বুধ_বৃহ_শুক্র_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm সময়",LLLL:"dddd, D MMMM YYYY, A h:mm সময়"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কয়েক সেকেন্ড",ss:"%d সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[১২৩৪৫৬৭৮৯০]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/রাত|ভোর|সকাল|দুপুর|বিকাল|সন্ধ্যা|রাত/,meridiemHour:function(e,t){return 12===e&&(e=0),"রাত"===t?e<4?e:e+12:"ভোর"===t||"সকাল"===t?e:"দুপুর"===t?e>=3?e:e+12:"বিকাল"===t||"সন্ধ্যা"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"রাত":e<6?"ভোর":e<12?"সকাল":e<15?"দুপুর":e<18?"বিকাল":e<20?"সন্ধ্যা":"রাত"},week:{dow:0,doy:6}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t={1:"༡",2:"༢",3:"༣",4:"༤",5:"༥",6:"༦",7:"༧",8:"༨",9:"༩",0:"༠"},n={"༡":"1","༢":"2","༣":"3","༤":"4","༥":"5","༦":"6","༧":"7","༨":"8","༩":"9","༠":"0"};e.defineLocale("bo",{months:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),monthsShort:"ཟླ་1_ཟླ་2_ཟླ་3_ཟླ་4_ཟླ་5_ཟླ་6_ཟླ་7_ཟླ་8_ཟླ་9_ཟླ་10_ཟླ་11_ཟླ་12".split("_"),monthsShortRegex:/^(ཟླ་\d{1,2})/,monthsParseExact:!0,weekdays:"གཟའ་ཉི་མ་_གཟའ་ཟླ་བ་_གཟའ་མིག་དམར་_གཟའ་ལྷག་པ་_གཟའ་ཕུར་བུ_གཟའ་པ་སངས་_གཟའ་སྤེན་པ་".split("_"),weekdaysShort:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),weekdaysMin:"ཉི_ཟླ_མིག_ལྷག_ཕུར_སངས_སྤེན".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[དི་རིང] LT",nextDay:"[སང་ཉིན] LT",nextWeek:"[བདུན་ཕྲག་རྗེས་མ], LT",lastDay:"[ཁ་སང] LT",lastWeek:"[བདུན་ཕྲག་མཐའ་མ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ལ་",past:"%s སྔན་ལ",s:"ལམ་སང",ss:"%d སྐར་ཆ།",m:"སྐར་མ་གཅིག",mm:"%d སྐར་མ",h:"ཆུ་ཚོད་གཅིག",hh:"%d ཆུ་ཚོད",d:"ཉིན་གཅིག",dd:"%d ཉིན་",M:"ཟླ་བ་གཅིག",MM:"%d ཟླ་བ",y:"ལོ་གཅིག",yy:"%d ལོ"},preparse:function(e){return e.replace(/[༡༢༣༤༥༦༧༨༩༠]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/མཚན་མོ|ཞོགས་ཀས|ཉིན་གུང|དགོང་དག|མཚན་མོ/,meridiemHour:function(e,t){return 12===e&&(e=0),"མཚན་མོ"===t&&e>=4||"ཉིན་གུང"===t&&e<5||"དགོང་དག"===t?e+12:e},meridiem:function(e,t,n){return e<4?"མཚན་མོ":e<10?"ཞོགས་ཀས":e<17?"ཉིན་གུང":e<20?"དགོང་དག":"མཚན་མོ"},week:{dow:0,doy:6}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
function t(e,t,n){return e+" "+function(e,t){return 2===t?function(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}(e):e}({mm:"munutenn",MM:"miz",dd:"devezh"}[n],e)}var n=[/^gen/i,/^c[ʼ\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],r=/^(genver|c[ʼ\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[ʼ\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,o=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];e.defineLocale("br",{months:"Genver_Cʼhwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_Cʼhwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Mercʼher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:o,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[ʼ\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:o,monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(genver|c[ʼ\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[ʼ\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warcʼhoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Decʼh da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s ʼzo",s:"un nebeud segondennoù",ss:"%d eilenn",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:function(e){switch(function e(t){return t>9?e(t%10):t}(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(añ|vet)/,ordinal:function(e){return e+(1===e?"añ":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(e){return"g.m."===e},meridiem:function(e,t,n){return e<12?"a.m.":"g.m."}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
function t(e,t,n){var r=e+" ";switch(n){case"ss":return r+(1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi");case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+(1===e?"minuta":2===e||3===e||4===e?"minute":"minuta");case"h":return t?"jedan sat":"jednog sata";case"hh":return r+(1===e?"sat":2===e||3===e||4===e?"sata":"sati");case"dd":return r+(1===e?"dan":"dana");case"MM":return r+(1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci");case"yy":return r+(1===e?"godina":2===e||3===e||4===e?"godine":"godina")}}e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("ca",{months:{standalone:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de març_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._març_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aquí %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"è";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t="leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),n="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_"),r=[/^led/i,/^úno/i,/^bře/i,/^dub/i,/^kvě/i,/^(čvn|červen$|června)/i,/^(čvc|červenec|července)/i,/^srp/i,/^zář/i,/^říj/i,/^lis/i,/^pro/i],o=/^(leden|únor|březen|duben|květen|červenec|července|červen|června|srpen|září|říjen|listopad|prosinec|led|úno|bře|dub|kvě|čvn|čvc|srp|zář|říj|lis|pro)/i;function i(e){return e>1&&e<5&&1!=~~(e/10)}function s(e,t,n,r){var o=e+" ";switch(n){case"s":return t||r?"pár sekund":"pár sekundami";case"ss":return t||r?o+(i(e)?"sekundy":"sekund"):o+"sekundami";case"m":return t?"minuta":r?"minutu":"minutou";case"mm":return t||r?o+(i(e)?"minuty":"minut"):o+"minutami";case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":return t||r?o+(i(e)?"hodiny":"hodin"):o+"hodinami";case"d":return t||r?"den":"dnem";case"dd":return t||r?o+(i(e)?"dny":"dní"):o+"dny";case"M":return t||r?"měsíc":"měsícem";case"MM":return t||r?o+(i(e)?"měsíce":"měsíců"):o+"měsíci";case"y":return t||r?"rok":"rokem";case"yy":return t||r?o+(i(e)?"roky":"let"):o+"lety"}}e.defineLocale("cs",{months:t,monthsShort:n,monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(leden|ledna|února|únor|březen|března|duben|dubna|květen|května|červenec|července|červen|června|srpen|srpna|září|říjen|října|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|úno|bře|dub|kvě|čvn|čvc|srp|zář|říj|lis|pro)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:s,ss:s,m:s,mm:s,h:s,hh:s,d:s,dd:s,M:s,MM:s,y:s,yy:s},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("cv",{months:"кӑрлач_нарӑс_пуш_ака_май_ҫӗртме_утӑ_ҫурла_авӑн_юпа_чӳк_раштав".split("_"),monthsShort:"кӑр_нар_пуш_ака_май_ҫӗр_утӑ_ҫур_авн_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кӗҫнерникун_эрнекун_шӑматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кӗҫ_эрн_шӑм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кҫ_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ]",LLL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm",LLLL:"dddd, YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ӗнер] LT [сехетре]",nextWeek:"[Ҫитес] dddd LT [сехетре]",lastWeek:"[Иртнӗ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(e){return e+(/сехет$/i.exec(e)?"рен":/ҫул$/i.exec(e)?"тан":"ран")},past:"%s каялла",s:"пӗр-ик ҫеккунт",ss:"%d ҫеккунт",m:"пӗр минут",mm:"%d минут",h:"пӗр сехет",hh:"%d сехет",d:"пӗр кун",dd:"%d кун",M:"пӗр уйӑх",MM:"%d уйӑх",y:"пӗр ҫул",yy:"%d ҫул"},dayOfMonthOrdinalParse:/\d{1,2}-мӗш/,ordinal:"%d-мӗш",week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t="";return e>20?t=40===e||50===e||60===e||80===e||100===e?"fed":"ain":e>0&&(t=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+t},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"på dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
function t(e,t,n,r){var o={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?o[n][0]:o[n][1]}e.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
function t(e,t,n,r){var o={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?o[n][0]:o[n][1]}e.defineLocale("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
function t(e,t,n,r){var o={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?o[n][0]:o[n][1]}e.defineLocale("de-ch",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t=["ޖެނުއަރީ","ފެބްރުއަރީ","މާރިޗު","އޭޕްރީލު","މޭ","ޖޫން","ޖުލައި","އޯގަސްޓު","ސެޕްޓެމްބަރު","އޮކްޓޯބަރު","ނޮވެމްބަރު","ޑިސެމްބަރު"],n=["އާދިއްތަ","ހޯމަ","އަންގާރަ","ބުދަ","ބުރާސްފަތި","ހުކުރު","ހޮނިހިރު"];e.defineLocale("dv",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:"އާދި_ހޯމަ_އަން_ބުދަ_ބުރާ_ހުކު_ހޮނި".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/މކ|މފ/,isPM:function(e){return"މފ"===e},meridiem:function(e,t,n){return e<12?"މކ":"މފ"},calendar:{sameDay:"[މިއަދު] LT",nextDay:"[މާދަމާ] LT",nextWeek:"dddd LT",lastDay:"[އިއްޔެ] LT",lastWeek:"[ފާއިތުވި] dddd LT",sameElse:"L"},relativeTime:{future:"ތެރޭގައި %s",past:"ކުރިން %s",s:"ސިކުންތުކޮޅެއް",ss:"d% ސިކުންތު",m:"މިނިޓެއް",mm:"މިނިޓު %d",h:"ގަޑިއިރެއް",hh:"ގަޑިއިރު %d",d:"ދުވަހެއް",dd:"ދުވަސް %d",M:"މަހެއް",MM:"މަސް %d",y:"އަހަރެއް",yy:"އަހަރު %d"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:7,doy:12}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(e,t){return e?"string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(e,t,n){return e>11?n?"μμ":"ΜΜ":n?"πμ":"ΠΜ"},isPM:function(e){return"μ"===(e+"").toLowerCase()[0]},meridiemParse:/[ΠΜ]\.?Μ?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[το προηγούμενο] dddd [{}] LT";default:return"[την προηγούμενη] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var n,r=this._calendarEl[e],o=t&&t.hours();return n=r,("undefined"!=typeof Function&&n instanceof Function||"[object Function]"===Object.prototype.toString.call(n))&&(r=r.apply(t)),r.replace("{}",o%12==1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"λίγα δευτερόλεπτα",ss:"%d δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},dayOfMonthOrdinalParse:/\d{1,2}η/,ordinal:"%dη",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:0,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:0,doy:6}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_aŭg_sept_okt_nov_dec".split("_"),weekdays:"dimanĉo_lundo_mardo_merkredo_ĵaŭdo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_ĵaŭ_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_ĵa_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"antaŭ %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4},invalidDate:"Fecha inválida"})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:0,doy:4},invalidDate:"Fecha inválida"})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:0,doy:6}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
function t(e,t,n,r){var o={s:["mõne sekundi","mõni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["ühe minuti","üks minut"],mm:[e+" minuti",e+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[e+" tunni",e+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[e+" kuu",e+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[e+" aasta",e+" aastat"]};return t?o[n][2]?o[n][2]:o[n][1]:r?o[n][0]:o[n][1]}e.defineLocale("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d päeva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},n={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"};e.defineLocale("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/قبل از ظهر|بعد از ظهر/,isPM:function(e){return/بعد از ظهر/.test(e)},meridiem:function(e,t,n){return e<12?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چند ثانیه",ss:"%d ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(e){return e.replace(/[۰-۹]/g,(function(e){return n[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},dayOfMonthOrdinalParse:/\d{1,2}م/,ordinal:"%dم",week:{dow:6,doy:12}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),n=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",t[7],t[8],t[9]];function r(e,r,o,i){var s="";switch(o){case"s":return i?"muutaman sekunnin":"muutama sekunti";case"ss":s=i?"sekunnin":"sekuntia";break;case"m":return i?"minuutin":"minuutti";case"mm":s=i?"minuutin":"minuuttia";break;case"h":return i?"tunnin":"tunti";case"hh":s=i?"tunnin":"tuntia";break;case"d":return i?"päivän":"päivä";case"dd":s=i?"päivän":"päivää";break;case"M":return i?"kuukauden":"kuukausi";case"MM":s=i?"kuukauden":"kuukautta";break;case"y":return i?"vuoden":"vuosi";case"yy":s=i?"vuoden":"vuotta"}return function(e,r){return e<10?r?n[e]:t[e]:e}(e,i)+" "+s}e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaður",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t=/(janv\.?|févr\.?|mars|avr\.?|mai|juin|juil\.?|août|sept\.?|oct\.?|nov\.?|déc\.?|janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i,n=[/^janv/i,/^févr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^août/i,/^sept/i,/^oct/i,/^nov/i,/^déc/i];e.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsRegex:t,monthsShortRegex:t,monthsStrictRegex:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i,monthsShortStrictRegex:/(janv\.?|févr\.?|mars|avr\.?|mai|juin|juil\.?|août|sept\.?|oct\.?|nov\.?|déc\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("fr-ch",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[ôfrûne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien minút",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("ga",{months:["Eanáir","Feabhra","Márta","Aibreán","Bealtaine","Meitheamh","Iúil","Lúnasa","Meán Fómhair","Deireadh Fómhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","Márt","Aib","Beal","Meith","Iúil","Lún","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["Dé Domhnaigh","Dé Luain","Dé Máirt","Dé Céadaoin","Déardaoin","Dé hAoine","Dé Sathairn"],weekdaysShort:["Domh","Luan","Máirt","Céad","Déar","Aoine","Sath"],weekdaysMin:["Do","Lu","Má","Cé","Dé","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amárach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inné ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s ó shin",s:"cúpla soicind",ss:"%d soicind",m:"nóiméad",mm:"%d nóiméad",h:"uair an chloig",hh:"%d uair an chloig",d:"lá",dd:"%d lá",M:"mí",MM:"%d míonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Màrt","An Giblean","An Cèitean","An t-Ògmhios","An t-Iuchar","An Lùnastal","An t-Sultain","An Dàmhair","An t-Samhain","An Dùbhlachd"],monthsShort:["Faoi","Gear","Màrt","Gibl","Cèit","Ògmh","Iuch","Lùn","Sult","Dàmh","Samh","Dùbh"],monthsParseExact:!0,weekdays:["Didòmhnaich","Diluain","Dimàirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["Dò","Lu","Mà","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-màireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-dè aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mìos",MM:"%d mìosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuño_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xuñ._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mércores_xoves_venres_sábado".split("_"),weekdaysShort:"dom._lun._mar._mér._xov._ven._sáb.".split("_"),weekdaysMin:"do_lu_ma_mé_xo_ve_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
function t(e,t,n,r){var o={s:["थोडया सॅकंडांनी","थोडे सॅकंड"],ss:[e+" सॅकंडांनी",e+" सॅकंड"],m:["एका मिणटान","एक मिनूट"],mm:[e+" मिणटांनी",e+" मिणटां"],h:["एका वरान","एक वर"],hh:[e+" वरांनी",e+" वरां"],d:["एका दिसान","एक दीस"],dd:[e+" दिसांनी",e+" दीस"],M:["एका म्हयन्यान","एक म्हयनो"],MM:[e+" म्हयन्यानी",e+" म्हयने"],y:["एका वर्सान","एक वर्स"],yy:[e+" वर्सांनी",e+" वर्सां"]};return r?o[n][0]:o[n][1]}e.defineLocale("gom-deva",{months:{standalone:"जानेवारी_फेब्रुवारी_मार्च_एप्रील_मे_जून_जुलय_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),format:"जानेवारीच्या_फेब्रुवारीच्या_मार्चाच्या_एप्रीलाच्या_मेयाच्या_जूनाच्या_जुलयाच्या_ऑगस्टाच्या_सप्टेंबराच्या_ऑक्टोबराच्या_नोव्हेंबराच्या_डिसेंबराच्या".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"जाने._फेब्रु._मार्च_एप्री._मे_जून_जुल._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),monthsParseExact:!0,weekdays:"आयतार_सोमार_मंगळार_बुधवार_बिरेस्तार_सुक्रार_शेनवार".split("_"),weekdaysShort:"आयत._सोम._मंगळ._बुध._ब्रेस्त._सुक्र._शेन.".split("_"),weekdaysMin:"आ_सो_मं_बु_ब्रे_सु_शे".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [वाजतां]",LTS:"A h:mm:ss [वाजतां]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [वाजतां]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [वाजतां]",llll:"ddd, D MMM YYYY, A h:mm [वाजतां]"},calendar:{sameDay:"[आयज] LT",nextDay:"[फाल्यां] LT",nextWeek:"[फुडलो] dddd[,] LT",lastDay:"[काल] LT",lastWeek:"[फाटलो] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s आदीं",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(वेर)/,ordinal:function(e,t){switch(t){case"D":return e+"वेर";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:0,doy:3},meridiemParse:/राती|सकाळीं|दनपारां|सांजे/,meridiemHour:function(e,t){return 12===e&&(e=0),"राती"===t?e<4?e:e+12:"सकाळीं"===t?e:"दनपारां"===t?e>12?e:e+12:"सांजे"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"राती":e<12?"सकाळीं":e<16?"दनपारां":e<20?"सांजे":"राती"}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
function t(e,t,n,r){var o={s:["thoddea sekondamni","thodde sekond"],ss:[e+" sekondamni",e+" sekond"],m:["eka mintan","ek minut"],mm:[e+" mintamni",e+" mintam"],h:["eka voran","ek vor"],hh:[e+" voramni",e+" voram"],d:["eka disan","ek dis"],dd:[e+" disamni",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineamni",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsamni",e+" vorsam"]};return r?o[n][0]:o[n][1]}e.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokallim"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokallim":e<16?"donparam":e<20?"sanje":"rati"}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t={1:"૧",2:"૨",3:"૩",4:"૪",5:"૫",6:"૬",7:"૭",8:"૮",9:"૯",0:"૦"},n={"૧":"1","૨":"2","૩":"3","૪":"4","૫":"5","૬":"6","૭":"7","૮":"8","૯":"9","૦":"0"};e.defineLocale("gu",{months:"જાન્યુઆરી_ફેબ્રુઆરી_માર્ચ_એપ્રિલ_મે_જૂન_જુલાઈ_ઑગસ્ટ_સપ્ટેમ્બર_ઑક્ટ્બર_નવેમ્બર_ડિસેમ્બર".split("_"),monthsShort:"જાન્યુ._ફેબ્રુ._માર્ચ_એપ્રિ._મે_જૂન_જુલા._ઑગ._સપ્ટે._ઑક્ટ્._નવે._ડિસે.".split("_"),monthsParseExact:!0,weekdays:"રવિવાર_સોમવાર_મંગળવાર_બુધ્વાર_ગુરુવાર_શુક્રવાર_શનિવાર".split("_"),weekdaysShort:"રવિ_સોમ_મંગળ_બુધ્_ગુરુ_શુક્ર_શનિ".split("_"),weekdaysMin:"ર_સો_મં_બુ_ગુ_શુ_શ".split("_"),longDateFormat:{LT:"A h:mm વાગ્યે",LTS:"A h:mm:ss વાગ્યે",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm વાગ્યે",LLLL:"dddd, D MMMM YYYY, A h:mm વાગ્યે"},calendar:{sameDay:"[આજ] LT",nextDay:"[કાલે] LT",nextWeek:"dddd, LT",lastDay:"[ગઇકાલે] LT",lastWeek:"[પાછલા] dddd, LT",sameElse:"L"},relativeTime:{future:"%s મા",past:"%s પહેલા",s:"અમુક પળો",ss:"%d સેકંડ",m:"એક મિનિટ",mm:"%d મિનિટ",h:"એક કલાક",hh:"%d કલાક",d:"એક દિવસ",dd:"%d દિવસ",M:"એક મહિનો",MM:"%d મહિનો",y:"એક વર્ષ",yy:"%d વર્ષ"},preparse:function(e){return e.replace(/[૧૨૩૪૫૬૭૮૯૦]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/રાત|બપોર|સવાર|સાંજ/,meridiemHour:function(e,t){return 12===e&&(e=0),"રાત"===t?e<4?e:e+12:"સવાર"===t?e:"બપોર"===t?e>=10?e:e+12:"સાંજ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"રાત":e<10?"સવાર":e<17?"બપોર":e<20?"સાંજ":"રાત"},week:{dow:0,doy:6}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY HH:mm",LLLL:"dddd, D [ב]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",ss:"%d שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(e){return 2===e?"שעתיים":e+" שעות"},d:"יום",dd:function(e){return 2===e?"יומיים":e+" ימים"},M:"חודש",MM:function(e){return 2===e?"חודשיים":e+" חודשים"},y:"שנה",yy:function(e){return 2===e?"שנתיים":e%10==0&&10!==e?e+" שנה":e+" שנים"}},meridiemParse:/אחה"צ|לפנה"צ|אחרי הצהריים|לפני הצהריים|לפנות בוקר|בבוקר|בערב/i,isPM:function(e){return/^(אחה"צ|אחרי הצהריים|בערב)$/.test(e)},meridiem:function(e,t,n){return e<5?"לפנות בוקר":e<10?"בבוקר":e<12?n?'לפנה"צ':"לפני הצהריים":e<18?n?'אחה"צ':"אחרי הצהריים":"בערב"}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"},r=[/^जन/i,/^फ़र|फर/i,/^मार्च/i,/^अप्रै/i,/^मई/i,/^जून/i,/^जुल/i,/^अग/i,/^सितं|सित/i,/^अक्टू/i,/^नव|नवं/i,/^दिसं|दिस/i];e.defineLocale("hi",{months:{format:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),standalone:"जनवरी_फरवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितंबर_अक्टूबर_नवंबर_दिसंबर".split("_")},monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},monthsParse:r,longMonthsParse:r,shortMonthsParse:[/^जन/i,/^फ़र/i,/^मार्च/i,/^अप्रै/i,/^मई/i,/^जून/i,/^जुल/i,/^अग/i,/^सित/i,/^अक्टू/i,/^नव/i,/^दिस/i],monthsRegex:/^(जनवरी|जन\.?|फ़रवरी|फरवरी|फ़र\.?|मार्च?|अप्रैल|अप्रै\.?|मई?|जून?|जुलाई|जुल\.?|अगस्त|अग\.?|सितम्बर|सितंबर|सित\.?|अक्टूबर|अक्टू\.?|नवम्बर|नवंबर|नव\.?|दिसम्बर|दिसंबर|दिस\.?)/i,monthsShortRegex:/^(जनवरी|जन\.?|फ़रवरी|फरवरी|फ़र\.?|मार्च?|अप्रैल|अप्रै\.?|मई?|जून?|जुलाई|जुल\.?|अगस्त|अग\.?|सितम्बर|सितंबर|सित\.?|अक्टूबर|अक्टू\.?|नवम्बर|नवंबर|नव\.?|दिसम्बर|दिसंबर|दिस\.?)/i,monthsStrictRegex:/^(जनवरी?|फ़रवरी|फरवरी?|मार्च?|अप्रैल?|मई?|जून?|जुलाई?|अगस्त?|सितम्बर|सितंबर|सित?\.?|अक्टूबर|अक्टू\.?|नवम्बर|नवंबर?|दिसम्बर|दिसंबर?)/i,monthsShortStrictRegex:/^(जन\.?|फ़र\.?|मार्च?|अप्रै\.?|मई?|जून?|जुल\.?|अग\.?|सित\.?|अक्टू\.?|नव\.?|दिस\.?)/i,calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",ss:"%d सेकंड",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/रात|सुबह|दोपहर|शाम/,meridiemHour:function(e,t){return 12===e&&(e=0),"रात"===t?e<4?e:e+12:"सुबह"===t?e:"दोपहर"===t?e>=10?e:e+12:"शाम"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"रात":e<10?"सुबह":e<17?"दोपहर":e<20?"शाम":"रात"},week:{dow:0,doy:6}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
function t(e,t,n){var r=e+" ";switch(n){case"ss":return r+(1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi");case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+(1===e?"minuta":2===e||3===e||4===e?"minute":"minuta");case"h":return t?"jedan sat":"jednog sata";case"hh":return r+(1===e?"sat":2===e||3===e||4===e?"sata":"sati");case"dd":return r+(1===e?"dan":"dana");case"MM":return r+(1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci");case"yy":return r+(1===e?"godina":2===e||3===e||4===e?"godine":"godina")}}e.defineLocale("hr",{months:{format:"siječnja_veljače_ožujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"siječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:return"[prošlu] [nedjelju] [u] LT";case 3:return"[prošlu] [srijedu] [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");function n(e,t,n,r){var o=e;switch(n){case"s":return r||t?"néhány másodperc":"néhány másodperce";case"ss":return o+(r||t)?" másodperc":" másodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return o+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" óra":" órája");case"hh":return o+(r||t?" óra":" órája");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return o+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" hónap":" hónapja");case"MM":return o+(r||t?" hónap":" hónapja");case"y":return"egy"+(r||t?" év":" éve");case"yy":return o+(r||t?" év":" éve")}return""}function r(e){return(e?"":"[múlt] ")+"["+t[this.day()]+"] LT[-kor]"}e.defineLocale("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan._feb._márc._ápr._máj._jún._júl._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return r.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return r.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("hy-am",{months:{format:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_"),standalone:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_")},monthsShort:"հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_"),weekdays:"կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_"),weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., HH:mm",LLLL:"dddd, D MMMM YYYY թ., HH:mm"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",ss:"%d վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiemParse:/գիշերվա|առավոտվա|ցերեկվա|երեկոյան/,isPM:function(e){return/^(ցերեկվա|երեկոյան)$/.test(e)},meridiem:function(e){return e<4?"գիշերվա":e<12?"առավոտվա":e<17?"ցերեկվա":"երեկոյան"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(ին|րդ)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-ին":e+"-րդ";default:return e}},week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
function t(e){return e%100==11||e%10!=1}function n(e,n,r,o){var i=e+" ";switch(r){case"s":return n||o?"nokkrar sekúndur":"nokkrum sekúndum";case"ss":return t(e)?i+(n||o?"sekúndur":"sekúndum"):i+"sekúnda";case"m":return n?"mínúta":"mínútu";case"mm":return t(e)?i+(n||o?"mínútur":"mínútum"):n?i+"mínúta":i+"mínútu";case"hh":return t(e)?i+(n||o?"klukkustundir":"klukkustundum"):i+"klukkustund";case"d":return n?"dagur":o?"dag":"degi";case"dd":return t(e)?n?i+"dagar":i+(o?"daga":"dögum"):n?i+"dagur":i+(o?"dag":"degi");case"M":return n?"mánuður":o?"mánuð":"mánuði";case"MM":return t(e)?n?i+"mánuðir":i+(o?"mánuði":"mánuðum"):n?i+"mánuður":i+(o?"mánuð":"mánuði");case"y":return n||o?"ár":"ári";case"yy":return t(e)?i+(n||o?"ár":"árum"):i+(n||o?"ár":"ári")}}e.defineLocale("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"令和",narrow:"㋿",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"平成",narrow:"㍻",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"昭和",narrow:"㍼",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"大正",narrow:"㍽",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"明治",narrow:"㍾",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"西暦",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"紀元前",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(元|\d+)年/,eraYearOrdinalParse:function(e,t){return"元"===t[1]?1:parseInt(t[1]||e,10)},months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日(ddd) HH:mm"},meridiemParse:/午前|午後/i,isPM:function(e){return"午後"===e},meridiem:function(e,t,n){return e<12?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:function(e){return e.week()!==this.week()?"[来週]dddd LT":"dddd LT"},lastDay:"[昨日] LT",lastWeek:function(e){return this.week()!==e.week()?"[先週]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}日/,ordinal:function(e,t){switch(t){case"y":return 1===e?"元年":e+"年";case"d":case"D":case"DDD":return e+"日";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"数秒",ss:"%d秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("ka",{months:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:{standalone:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),format:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_"),isFormat:/(წინა|შემდეგ)/},weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(e){return e.replace(/(წამ|წუთ|საათ|წელ|დღ|თვ)(ი|ე)/,(function(e,t,n){return"ი"===n?t+"ში":t+n+"ში"}))},past:function(e){return/(წამი|წუთი|საათი|დღე|თვე)/.test(e)?e.replace(/(ი|ე)$/,"ის წინ"):/წელი/.test(e)?e.replace(/წელი$/,"წლის წინ"):e},s:"რამდენიმე წამი",ss:"%d წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},dayOfMonthOrdinalParse:/0|1-ლი|მე-\d{1,2}|\d{1,2}-ე/,ordinal:function(e){return 0===e?e:1===e?e+"-ლი":e<20||e<=100&&e%20==0||e%100==0?"მე-"+e:e+"-ე"},week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t={0:"-ші",1:"-ші",2:"-ші",3:"-ші",4:"-ші",5:"-ші",6:"-шы",7:"-ші",8:"-ші",9:"-шы",10:"-шы",20:"-шы",30:"-шы",40:"-шы",50:"-ші",60:"-шы",70:"-ші",80:"-ші",90:"-шы",100:"-ші"};e.defineLocale("kk",{months:"қаңтар_ақпан_наурыз_сәуір_мамыр_маусым_шілде_тамыз_қыркүйек_қазан_қараша_желтоқсан".split("_"),monthsShort:"қаң_ақп_нау_сәу_мам_мау_шіл_там_қыр_қаз_қар_жел".split("_"),weekdays:"жексенбі_дүйсенбі_сейсенбі_сәрсенбі_бейсенбі_жұма_сенбі".split("_"),weekdaysShort:"жек_дүй_сей_сәр_бей_жұм_сен".split("_"),weekdaysMin:"жк_дй_сй_ср_бй_жм_сн".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгін сағат] LT",nextDay:"[Ертең сағат] LT",nextWeek:"dddd [сағат] LT",lastDay:"[Кеше сағат] LT",lastWeek:"[Өткен аптаның] dddd [сағат] LT",sameElse:"L"},relativeTime:{future:"%s ішінде",past:"%s бұрын",s:"бірнеше секунд",ss:"%d секунд",m:"бір минут",mm:"%d минут",h:"бір сағат",hh:"%d сағат",d:"бір күн",dd:"%d күн",M:"бір ай",MM:"%d ай",y:"бір жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(ші|шы)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t={1:"១",2:"២",3:"៣",4:"៤",5:"៥",6:"៦",7:"៧",8:"៨",9:"៩",0:"០"},n={"១":"1","២":"2","៣":"3","៤":"4","៥":"5","៦":"6","៧":"7","៨":"8","៩":"9","០":"0"};e.defineLocale("km",{months:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អា_ច_អ_ព_ព្រ_សុ_ស".split("_"),weekdaysMin:"អា_ច_អ_ព_ព្រ_សុ_ស".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/ព្រឹក|ល្ងាច/,isPM:function(e){return"ល្ងាច"===e},meridiem:function(e,t,n){return e<12?"ព្រឹក":"ល្ងាច"},calendar:{sameDay:"[ថ្ងៃនេះ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",ss:"%d វិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},dayOfMonthOrdinalParse:/ទី\d{1,2}/,ordinal:"ទី%d",preparse:function(e){return e.replace(/[១២៣៤៥៦៧៨៩០]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t={1:"೧",2:"೨",3:"೩",4:"೪",5:"೫",6:"೬",7:"೭",8:"೮",9:"೯",0:"೦"},n={"೧":"1","೨":"2","೩":"3","೪":"4","೫":"5","೬":"6","೭":"7","೮":"8","೯":"9","೦":"0"};e.defineLocale("kn",{months:"ಜನವರಿ_ಫೆಬ್ರವರಿ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂಬರ್_ಅಕ್ಟೋಬರ್_ನವೆಂಬರ್_ಡಿಸೆಂಬರ್".split("_"),monthsShort:"ಜನ_ಫೆಬ್ರ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂ_ಅಕ್ಟೋ_ನವೆಂ_ಡಿಸೆಂ".split("_"),monthsParseExact:!0,weekdays:"ಭಾನುವಾರ_ಸೋಮವಾರ_ಮಂಗಳವಾರ_ಬುಧವಾರ_ಗುರುವಾರ_ಶುಕ್ರವಾರ_ಶನಿವಾರ".split("_"),weekdaysShort:"ಭಾನು_ಸೋಮ_ಮಂಗಳ_ಬುಧ_ಗುರು_ಶುಕ್ರ_ಶನಿ".split("_"),weekdaysMin:"ಭಾ_ಸೋ_ಮಂ_ಬು_ಗು_ಶು_ಶ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[ಇಂದು] LT",nextDay:"[ನಾಳೆ] LT",nextWeek:"dddd, LT",lastDay:"[ನಿನ್ನೆ] LT",lastWeek:"[ಕೊನೆಯ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ನಂತರ",past:"%s ಹಿಂದೆ",s:"ಕೆಲವು ಕ್ಷಣಗಳು",ss:"%d ಸೆಕೆಂಡುಗಳು",m:"ಒಂದು ನಿಮಿಷ",mm:"%d ನಿಮಿಷ",h:"ಒಂದು ಗಂಟೆ",hh:"%d ಗಂಟೆ",d:"ಒಂದು ದಿನ",dd:"%d ದಿನ",M:"ಒಂದು ತಿಂಗಳು",MM:"%d ತಿಂಗಳು",y:"ಒಂದು ವರ್ಷ",yy:"%d ವರ್ಷ"},preparse:function(e){return e.replace(/[೧೨೩೪೫೬೭೮೯೦]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/ರಾತ್ರಿ|ಬೆಳಿಗ್ಗೆ|ಮಧ್ಯಾಹ್ನ|ಸಂಜೆ/,meridiemHour:function(e,t){return 12===e&&(e=0),"ರಾತ್ರಿ"===t?e<4?e:e+12:"ಬೆಳಿಗ್ಗೆ"===t?e:"ಮಧ್ಯಾಹ್ನ"===t?e>=10?e:e+12:"ಸಂಜೆ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"ರಾತ್ರಿ":e<10?"ಬೆಳಿಗ್ಗೆ":e<17?"ಮಧ್ಯಾಹ್ನ":e<20?"ಸಂಜೆ":"ರಾತ್ರಿ"},dayOfMonthOrdinalParse:/\d{1,2}(ನೇ)/,ordinal:function(e){return e+"ನೇ"},week:{dow:0,doy:6}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h:mm",LLLL:"YYYY년 MMMM D일 dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY년 MMMM D일",lll:"YYYY년 MMMM D일 A h:mm",llll:"YYYY년 MMMM D일 dddd A h:mm"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",ss:"%d초",m:"1분",mm:"%d분",h:"한 시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한 달",MM:"%d달",y:"일 년",yy:"%d년"},dayOfMonthOrdinalParse:/\d{1,2}(일|월|주)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"일";case"M":return e+"월";case"w":case"W":return e+"주";default:return e}},meridiemParse:/오전|오후/,isPM:function(e){return"오후"===e},meridiem:function(e,t,n){return e<12?"오전":"오후"}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},r=["کانونی دووەم","شوبات","ئازار","نیسان","ئایار","حوزەیران","تەمموز","ئاب","ئەیلوول","تشرینی یەكەم","تشرینی دووەم","كانونی یەکەم"];e.defineLocale("ku",{months:r,monthsShort:r,weekdays:"یه‌كشه‌ممه‌_دووشه‌ممه‌_سێشه‌ممه‌_چوارشه‌ممه‌_پێنجشه‌ممه‌_هه‌ینی_شه‌ممه‌".split("_"),weekdaysShort:"یه‌كشه‌م_دووشه‌م_سێشه‌م_چوارشه‌م_پێنجشه‌م_هه‌ینی_شه‌ممه‌".split("_"),weekdaysMin:"ی_د_س_چ_پ_ه_ش".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/ئێواره‌|به‌یانی/,isPM:function(e){return/ئێواره‌/.test(e)},meridiem:function(e,t,n){return e<12?"به‌یانی":"ئێواره‌"},calendar:{sameDay:"[ئه‌مرۆ كاتژمێر] LT",nextDay:"[به‌یانی كاتژمێر] LT",nextWeek:"dddd [كاتژمێر] LT",lastDay:"[دوێنێ كاتژمێر] LT",lastWeek:"dddd [كاتژمێر] LT",sameElse:"L"},relativeTime:{future:"له‌ %s",past:"%s",s:"چه‌ند چركه‌یه‌ك",ss:"چركه‌ %d",m:"یه‌ك خوله‌ك",mm:"%d خوله‌ك",h:"یه‌ك كاتژمێر",hh:"%d كاتژمێر",d:"یه‌ك ڕۆژ",dd:"%d ڕۆژ",M:"یه‌ك مانگ",MM:"%d مانگ",y:"یه‌ك ساڵ",yy:"%d ساڵ"},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,(function(e){return n[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:6,doy:12}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t={0:"-чү",1:"-чи",2:"-чи",3:"-чү",4:"-чү",5:"-чи",6:"-чы",7:"-чи",8:"-чи",9:"-чу",10:"-чу",20:"-чы",30:"-чу",40:"-чы",50:"-чү",60:"-чы",70:"-чи",80:"-чи",90:"-чу",100:"-чү"};e.defineLocale("ky",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_март_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),weekdays:"Жекшемби_Дүйшөмбү_Шейшемби_Шаршемби_Бейшемби_Жума_Ишемби".split("_"),weekdaysShort:"Жек_Дүй_Шей_Шар_Бей_Жум_Ише".split("_"),weekdaysMin:"Жк_Дй_Шй_Шр_Бй_Жм_Иш".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгүн саат] LT",nextDay:"[Эртең саат] LT",nextWeek:"dddd [саат] LT",lastDay:"[Кечээ саат] LT",lastWeek:"[Өткөн аптанын] dddd [күнү] [саат] LT",sameElse:"L"},relativeTime:{future:"%s ичинде",past:"%s мурун",s:"бирнече секунд",ss:"%d секунд",m:"бир мүнөт",mm:"%d мүнөт",h:"бир саат",hh:"%d саат",d:"бир күн",dd:"%d күн",M:"бир ай",MM:"%d ай",y:"бир жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(чи|чы|чү|чу)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
function t(e,t,n,r){var o={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?o[n][0]:o[n][1]}function n(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10;return n(0===t?e/10:t)}if(e<1e4){for(;e>=10;)e/=10;return n(e)}return n(e/=1e3)}e.defineLocale("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(e){return n(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return n(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",ss:"%d Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Méint",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("lo",{months:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),monthsShort:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),weekdays:"ອາທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysShort:"ທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysMin:"ທ_ຈ_ອຄ_ພ_ພຫ_ສກ_ສ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"ວັນdddd D MMMM YYYY HH:mm"},meridiemParse:/ຕອນເຊົ້າ|ຕອນແລງ/,isPM:function(e){return"ຕອນແລງ"===e},meridiem:function(e,t,n){return e<12?"ຕອນເຊົ້າ":"ຕອນແລງ"},calendar:{sameDay:"[ມື້ນີ້ເວລາ] LT",nextDay:"[ມື້ອື່ນເວລາ] LT",nextWeek:"[ວັນ]dddd[ໜ້າເວລາ] LT",lastDay:"[ມື້ວານນີ້ເວລາ] LT",lastWeek:"[ວັນ]dddd[ແລ້ວນີ້ເວລາ] LT",sameElse:"L"},relativeTime:{future:"ອີກ %s",past:"%sຜ່ານມາ",s:"ບໍ່ເທົ່າໃດວິນາທີ",ss:"%d ວິນາທີ",m:"1 ນາທີ",mm:"%d ນາທີ",h:"1 ຊົ່ວໂມງ",hh:"%d ຊົ່ວໂມງ",d:"1 ມື້",dd:"%d ມື້",M:"1 ເດືອນ",MM:"%d ເດືອນ",y:"1 ປີ",yy:"%d ປີ"},dayOfMonthOrdinalParse:/(ທີ່)\d{1,2}/,ordinal:function(e){return"ທີ່"+e}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t={ss:"sekundė_sekundžių_sekundes",m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"};function n(e,t,n,r){return t?o(n)[0]:r?o(n)[1]:o(n)[2]}function r(e){return e%10==0||e>10&&e<20}function o(e){return t[e].split("_")}function i(e,t,i,s){var a=e+" ";return 1===e?a+n(0,t,i[0],s):t?a+(r(e)?o(i)[1]:o(i)[0]):s?a+o(i)[1]:a+(r(e)?o(i)[1]:o(i)[2])}e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandžio_gegužės_birželio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegužė_birželis_liepa_rugpjūtis_rugsėjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadienį_pirmadienį_antradienį_trečiadienį_ketvirtadienį_penktadienį_šeštadienį".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:function(e,t,n,r){return t?"kelios sekundės":r?"kelių sekundžių":"kelias sekundes"},ss:i,m:n,mm:i,h:n,hh:i,d:n,dd:i,M:n,MM:i,y:n,yy:i},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t={ss:"sekundes_sekundēm_sekunde_sekundes".split("_"),m:"minūtes_minūtēm_minūte_minūtes".split("_"),mm:"minūtes_minūtēm_minūte_minūtes".split("_"),h:"stundas_stundām_stunda_stundas".split("_"),hh:"stundas_stundām_stunda_stundas".split("_"),d:"dienas_dienām_diena_dienas".split("_"),dd:"dienas_dienām_diena_dienas".split("_"),M:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),MM:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(e,t,n){return n?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function r(e,r,o){return e+" "+n(t[o],e,r)}function o(e,r,o){return n(t[o],e,r)}e.defineLocale("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pēc %s",past:"pirms %s",s:function(e,t){return t?"dažas sekundes":"dažām sekundēm"},ss:r,m:o,mm:r,h:o,hh:r,d:o,dd:r,M:o,MM:r,y:o,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var o=t.words[r];return 1===r.length?n?o[0]:o[1]:e+" "+t.correctGrammaticalCase(e,o)}};e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedjelje] [u] LT","[prošlog] [ponedjeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srijede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("mi",{months:"Kohi-tāte_Hui-tanguru_Poutū-te-rangi_Paenga-whāwhā_Haratua_Pipiri_Hōngoingoi_Here-turi-kōkā_Mahuru_Whiringa-ā-nuku_Whiringa-ā-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hōngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rātapu_Mane_Tūrei_Wenerei_Tāite_Paraire_Hātarei".split("_"),weekdaysShort:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),weekdaysMin:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hēkona ruarua",ss:"%d hēkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"[Во] dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"за %s",past:"пред %s",s:"неколку секунди",ss:"%d секунди",m:"една минута",mm:"%d минути",h:"еден час",hh:"%d часа",d:"еден ден",dd:"%d дена",M:"еден месец",MM:"%d месеци",y:"една година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&n<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),monthsParseExact:!0,weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",LTS:"A h:mm:ss -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -നു",LLLL:"dddd, D MMMM YYYY, A h:mm -നു"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",ss:"%d സെക്കൻഡ്",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiemParse:/രാത്രി|രാവിലെ|ഉച്ച കഴിഞ്ഞ്|വൈകുന്നേരം|രാത്രി/i,meridiemHour:function(e,t){return 12===e&&(e=0),"രാത്രി"===t&&e>=4||"ഉച്ച കഴിഞ്ഞ്"===t||"വൈകുന്നേരം"===t?e+12:e},meridiem:function(e,t,n){return e<4?"രാത്രി":e<12?"രാവിലെ":e<17?"ഉച്ച കഴിഞ്ഞ്":e<20?"വൈകുന്നേരം":"രാത്രി"}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
function t(e,t,n,r){switch(n){case"s":return t?"хэдхэн секунд":"хэдхэн секундын";case"ss":return e+(t?" секунд":" секундын");case"m":case"mm":return e+(t?" минут":" минутын");case"h":case"hh":return e+(t?" цаг":" цагийн");case"d":case"dd":return e+(t?" өдөр":" өдрийн");case"M":case"MM":return e+(t?" сар":" сарын");case"y":case"yy":return e+(t?" жил":" жилийн");default:return e}}e.defineLocale("mn",{months:"Нэгдүгээр сар_Хоёрдугаар сар_Гуравдугаар сар_Дөрөвдүгээр сар_Тавдугаар сар_Зургадугаар сар_Долдугаар сар_Наймдугаар сар_Есдүгээр сар_Аравдугаар сар_Арван нэгдүгээр сар_Арван хоёрдугаар сар".split("_"),monthsShort:"1 сар_2 сар_3 сар_4 сар_5 сар_6 сар_7 сар_8 сар_9 сар_10 сар_11 сар_12 сар".split("_"),monthsParseExact:!0,weekdays:"Ням_Даваа_Мягмар_Лхагва_Пүрэв_Баасан_Бямба".split("_"),weekdaysShort:"Ням_Дав_Мяг_Лха_Пүр_Баа_Бям".split("_"),weekdaysMin:"Ня_Да_Мя_Лх_Пү_Ба_Бя".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY оны MMMMын D",LLL:"YYYY оны MMMMын D HH:mm",LLLL:"dddd, YYYY оны MMMMын D HH:mm"},meridiemParse:/ҮӨ|ҮХ/i,isPM:function(e){return"ҮХ"===e},meridiem:function(e,t,n){return e<12?"ҮӨ":"ҮХ"},calendar:{sameDay:"[Өнөөдөр] LT",nextDay:"[Маргааш] LT",nextWeek:"[Ирэх] dddd LT",lastDay:"[Өчигдөр] LT",lastWeek:"[Өнгөрсөн] dddd LT",sameElse:"L"},relativeTime:{future:"%s дараа",past:"%s өмнө",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2} өдөр/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+" өдөр";default:return e}}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};function r(e,t,n,r){var o="";if(t)switch(n){case"s":o="काही सेकंद";break;case"ss":o="%d सेकंद";break;case"m":o="एक मिनिट";break;case"mm":o="%d मिनिटे";break;case"h":o="एक तास";break;case"hh":o="%d तास";break;case"d":o="एक दिवस";break;case"dd":o="%d दिवस";break;case"M":o="एक महिना";break;case"MM":o="%d महिने";break;case"y":o="एक वर्ष";break;case"yy":o="%d वर्षे"}else switch(n){case"s":o="काही सेकंदां";break;case"ss":o="%d सेकंदां";break;case"m":o="एका मिनिटा";break;case"mm":o="%d मिनिटां";break;case"h":o="एका तासा";break;case"hh":o="%d तासां";break;case"d":o="एका दिवसा";break;case"dd":o="%d दिवसां";break;case"M":o="एका महिन्या";break;case"MM":o="%d महिन्यां";break;case"y":o="एका वर्षा";break;case"yy":o="%d वर्षां"}return o.replace(/%d/i,e)}e.defineLocale("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),monthsParseExact:!0,weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",LTS:"A h:mm:ss वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm वाजता",LLLL:"dddd, D MMMM YYYY, A h:mm वाजता"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%sमध्ये",past:"%sपूर्वी",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/पहाटे|सकाळी|दुपारी|सायंकाळी|रात्री/,meridiemHour:function(e,t){return 12===e&&(e=0),"पहाटे"===t||"सकाळी"===t?e:"दुपारी"===t||"सायंकाळी"===t||"रात्री"===t?e>=12?e:e+12:void 0},meridiem:function(e,t,n){return e>=0&&e<6?"पहाटे":e<12?"सकाळी":e<17?"दुपारी":e<20?"सायंकाळी":"रात्री"},week:{dow:0,doy:6}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_Ġunju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diċembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_Ġun_Lul_Aww_Set_Ott_Nov_Diċ".split("_"),weekdays:"Il-Ħadd_It-Tnejn_It-Tlieta_L-Erbgħa_Il-Ħamis_Il-Ġimgħa_Is-Sibt".split("_"),weekdaysShort:"Ħad_Tne_Tli_Erb_Ħam_Ġim_Sib".split("_"),weekdaysMin:"Ħa_Tn_Tl_Er_Ħa_Ġi_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Għada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-bieraħ fil-]LT",lastWeek:"dddd [li għadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f’ %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siegħa",hh:"%d siegħat",d:"ġurnata",dd:"%d ġranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t={1:"၁",2:"၂",3:"၃",4:"၄",5:"၅",6:"၆",7:"၇",8:"၈",9:"၉",0:"၀"},n={"၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","၀":"0"};e.defineLocale("my",{months:"ဇန်နဝါရီ_ဖေဖော်ဝါရီ_မတ်_ဧပြီ_မေ_ဇွန်_ဇူလိုင်_သြဂုတ်_စက်တင်ဘာ_အောက်တိုဘာ_နိုဝင်ဘာ_ဒီဇင်ဘာ".split("_"),monthsShort:"ဇန်_ဖေ_မတ်_ပြီ_မေ_ဇွန်_လိုင်_သြ_စက်_အောက်_နို_ဒီ".split("_"),weekdays:"တနင်္ဂနွေ_တနင်္လာ_အင်္ဂါ_ဗုဒ္ဓဟူး_ကြာသပတေး_သောကြာ_စနေ".split("_"),weekdaysShort:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),weekdaysMin:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ယနေ.] LT [မှာ]",nextDay:"[မနက်ဖြန်] LT [မှာ]",nextWeek:"dddd LT [မှာ]",lastDay:"[မနေ.က] LT [မှာ]",lastWeek:"[ပြီးခဲ့သော] dddd LT [မှာ]",sameElse:"L"},relativeTime:{future:"လာမည့် %s မှာ",past:"လွန်ခဲ့သော %s က",s:"စက္ကန်.အနည်းငယ်",ss:"%d စက္ကန့်",m:"တစ်မိနစ်",mm:"%d မိနစ်",h:"တစ်နာရီ",hh:"%d နာရီ",d:"တစ်ရက်",dd:"%d ရက်",M:"တစ်လ",MM:"%d လ",y:"တစ်နှစ်",yy:"%d နှစ်"},preparse:function(e){return e.replace(/[၁၂၃၄၅၆၇၈၉၀]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};e.defineLocale("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),monthsParseExact:!0,weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आ._सो._मं._बु._बि._शु._श.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"Aको h:mm बजे",LTS:"Aको h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, Aको h:mm बजे",LLLL:"dddd, D MMMM YYYY, Aको h:mm बजे"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/राति|बिहान|दिउँसो|साँझ/,meridiemHour:function(e,t){return 12===e&&(e=0),"राति"===t?e<4?e:e+12:"बिहान"===t?e:"दिउँसो"===t?e>=10?e:e+12:"साँझ"===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"राति":e<12?"बिहान":e<16?"दिउँसो":e<20?"साँझ":"राति"},calendar:{sameDay:"[आज] LT",nextDay:"[भोलि] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडि",s:"केही क्षण",ss:"%d सेकेण्ड",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:0,doy:6}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],o=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",w:"één week",ww:"%d weken",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],o=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._må._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_må_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("oc-lnc",{months:{standalone:"genièr_febrièr_març_abril_mai_junh_julhet_agost_setembre_octòbre_novembre_decembre".split("_"),format:"de genièr_de febrièr_de març_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'octòbre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._març_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dimècres_dijòus_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[uèi a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[ièr a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aquí %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"è";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t={1:"੧",2:"੨",3:"੩",4:"੪",5:"੫",6:"੬",7:"੭",8:"੮",9:"੯",0:"੦"},n={"੧":"1","੨":"2","੩":"3","੪":"4","੫":"5","੬":"6","੭":"7","੮":"8","੯":"9","੦":"0"};e.defineLocale("pa-in",{months:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),monthsShort:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),weekdays:"ਐਤਵਾਰ_ਸੋਮਵਾਰ_ਮੰਗਲਵਾਰ_ਬੁਧਵਾਰ_ਵੀਰਵਾਰ_ਸ਼ੁੱਕਰਵਾਰ_ਸ਼ਨੀਚਰਵਾਰ".split("_"),weekdaysShort:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),weekdaysMin:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),longDateFormat:{LT:"A h:mm ਵਜੇ",LTS:"A h:mm:ss ਵਜੇ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ਵਜੇ",LLLL:"dddd, D MMMM YYYY, A h:mm ਵਜੇ"},calendar:{sameDay:"[ਅਜ] LT",nextDay:"[ਕਲ] LT",nextWeek:"[ਅਗਲਾ] dddd, LT",lastDay:"[ਕਲ] LT",lastWeek:"[ਪਿਛਲੇ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ਵਿੱਚ",past:"%s ਪਿਛਲੇ",s:"ਕੁਝ ਸਕਿੰਟ",ss:"%d ਸਕਿੰਟ",m:"ਇਕ ਮਿੰਟ",mm:"%d ਮਿੰਟ",h:"ਇੱਕ ਘੰਟਾ",hh:"%d ਘੰਟੇ",d:"ਇੱਕ ਦਿਨ",dd:"%d ਦਿਨ",M:"ਇੱਕ ਮਹੀਨਾ",MM:"%d ਮਹੀਨੇ",y:"ਇੱਕ ਸਾਲ",yy:"%d ਸਾਲ"},preparse:function(e){return e.replace(/[੧੨੩੪੫੬੭੮੯੦]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/ਰਾਤ|ਸਵੇਰ|ਦੁਪਹਿਰ|ਸ਼ਾਮ/,meridiemHour:function(e,t){return 12===e&&(e=0),"ਰਾਤ"===t?e<4?e:e+12:"ਸਵੇਰ"===t?e:"ਦੁਪਹਿਰ"===t?e>=10?e:e+12:"ਸ਼ਾਮ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"ਰਾਤ":e<10?"ਸਵੇਰ":e<17?"ਦੁਪਹਿਰ":e<20?"ਸ਼ਾਮ":"ਰਾਤ"},week:{dow:0,doy:6}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_"),r=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^paź/i,/^lis/i,/^gru/i];function o(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function i(e,t,n){var r=e+" ";switch(n){case"ss":return r+(o(e)?"sekundy":"sekund");case"m":return t?"minuta":"minutę";case"mm":return r+(o(e)?"minuty":"minut");case"h":return t?"godzina":"godzinę";case"hh":return r+(o(e)?"godziny":"godzin");case"ww":return r+(o(e)?"tygodnie":"tygodni");case"MM":return r+(o(e)?"miesiące":"miesięcy");case"yy":return r+(o(e)?"lata":"lat")}}e.defineLocale("pl",{months:function(e,r){return e?/D MMMM/.test(r)?n[e.month()]:t[e.month()]:t},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_śr_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedzielę o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W środę o] LT";case 6:return"[W sobotę o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:i,m:i,mm:i,h:i,hh:i,d:"1 dzień",dd:"%d dni",w:"tydzień",ww:i,M:"miesiąc",MM:i,y:"rok",yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("pt",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("pt-br",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"do_2ª_3ª_4ª_5ª_6ª_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",invalidDate:"Data inválida"})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
function t(e,t,n){var r=" ";return(e%100>=20||e>=100&&e%100==0)&&(r=" de "),e+r+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"săptămâni",MM:"luni",yy:"ani"}[n]}e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",ss:t,m:"un minut",mm:t,h:"o oră",hh:t,d:"o zi",dd:t,w:"o săptămână",ww:t,M:"o lună",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
function t(e,t,n){var r,o;return"m"===n?t?"минута":"минуту":e+" "+(r=+e,o={ss:t?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:t?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",ww:"неделя_недели_недель",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[n].split("_"),r%10==1&&r%100!=11?o[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?o[1]:o[2])}var n=[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i];e.defineLocale("ru",{months:{format:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),standalone:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_")},monthsShort:{format:"янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),standalone:"янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_")},weekdays:{standalone:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),format:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_"),isFormat:/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?] ?dddd/},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,monthsRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsShortRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsStrictRegex:/^(январ[яь]|феврал[яь]|марта?|апрел[яь]|ма[яй]|июн[яь]|июл[яь]|августа?|сентябр[яь]|октябр[яь]|ноябр[яь]|декабр[яь])/i,monthsShortStrictRegex:/^(янв\.|февр?\.|мар[т.]|апр\.|ма[яй]|июн[ья.]|июл[ья.]|авг\.|сент?\.|окт\.|нояб?\.|дек\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},calendar:{sameDay:"[Сегодня, в] LT",nextDay:"[Завтра, в] LT",lastDay:"[Вчера, в] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd, [в] LT":"[В] dddd, [в] LT";switch(this.day()){case 0:return"[В следующее] dddd, [в] LT";case 1:case 2:case 4:return"[В следующий] dddd, [в] LT";case 3:case 5:case 6:return"[В следующую] dddd, [в] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd, [в] LT":"[В] dddd, [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd, [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd, [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd, [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",ss:t,m:t,mm:t,h:"час",hh:t,d:"день",dd:t,w:"неделя",ww:t,M:"месяц",MM:t,y:"год",yy:t},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(e){return/^(дня|вечера)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночи":e<12?"утра":e<17?"дня":"вечера"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-й";case"D":return e+"-го";case"w":case"W":return e+"-я";default:return e}},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t=["جنوري","فيبروري","مارچ","اپريل","مئي","جون","جولاءِ","آگسٽ","سيپٽمبر","آڪٽوبر","نومبر","ڊسمبر"],n=["آچر","سومر","اڱارو","اربع","خميس","جمع","ڇنڇر"];e.defineLocale("sd",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/صبح|شام/,isPM:function(e){return"شام"===e},meridiem:function(e,t,n){return e<12?"صبح":"شام"},calendar:{sameDay:"[اڄ] LT",nextDay:"[سڀاڻي] LT",nextWeek:"dddd [اڳين هفتي تي] LT",lastDay:"[ڪالهه] LT",lastWeek:"[گزريل هفتي] dddd [تي] LT",sameElse:"L"},relativeTime:{future:"%s پوء",past:"%s اڳ",s:"چند سيڪنڊ",ss:"%d سيڪنڊ",m:"هڪ منٽ",mm:"%d منٽ",h:"هڪ ڪلاڪ",hh:"%d ڪلاڪ",d:"هڪ ڏينهن",dd:"%d ڏينهن",M:"هڪ مهينو",MM:"%d مهينا",y:"هڪ سال",yy:"%d سال"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("se",{months:"ođđajagemánnu_guovvamánnu_njukčamánnu_cuoŋománnu_miessemánnu_geassemánnu_suoidnemánnu_borgemánnu_čakčamánnu_golggotmánnu_skábmamánnu_juovlamánnu".split("_"),monthsShort:"ođđj_guov_njuk_cuo_mies_geas_suoi_borg_čakč_golg_skáb_juov".split("_"),weekdays:"sotnabeaivi_vuossárga_maŋŋebárga_gaskavahkku_duorastat_bearjadat_lávvardat".split("_"),weekdaysShort:"sotn_vuos_maŋ_gask_duor_bear_láv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geažes",past:"maŋit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mánnu",MM:"%d mánut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("si",{months:"ජනවාරි_පෙබරවාරි_මාර්තු_අප්‍රේල්_මැයි_ජූනි_ජූලි_අගෝස්තු_සැප්තැම්බර්_ඔක්තෝබර්_නොවැම්බර්_දෙසැම්බර්".split("_"),monthsShort:"ජන_පෙබ_මාර්_අප්_මැයි_ජූනි_ජූලි_අගෝ_සැප්_ඔක්_නොවැ_දෙසැ".split("_"),weekdays:"ඉරිදා_සඳුදා_අඟහරුවාදා_බදාදා_බ්‍රහස්පතින්දා_සිකුරාදා_සෙනසුරාදා".split("_"),weekdaysShort:"ඉරි_සඳු_අඟ_බදා_බ්‍රහ_සිකු_සෙන".split("_"),weekdaysMin:"ඉ_ස_අ_බ_බ්‍ර_සි_සෙ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [වැනි] dddd, a h:mm:ss"},calendar:{sameDay:"[අද] LT[ට]",nextDay:"[හෙට] LT[ට]",nextWeek:"dddd LT[ට]",lastDay:"[ඊයේ] LT[ට]",lastWeek:"[පසුගිය] dddd LT[ට]",sameElse:"L"},relativeTime:{future:"%sකින්",past:"%sකට පෙර",s:"තත්පර කිහිපය",ss:"තත්පර %d",m:"මිනිත්තුව",mm:"මිනිත්තු %d",h:"පැය",hh:"පැය %d",d:"දිනය",dd:"දින %d",M:"මාසය",MM:"මාස %d",y:"වසර",yy:"වසර %d"},dayOfMonthOrdinalParse:/\d{1,2} වැනි/,ordinal:function(e){return e+" වැනි"},meridiemParse:/පෙර වරු|පස් වරු|පෙ.ව|ප.ව./,isPM:function(e){return"ප.ව."===e||"පස් වරු"===e},meridiem:function(e,t,n){return e>11?n?"ප.ව.":"පස් වරු":n?"පෙ.ව.":"පෙර වරු"}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),n="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");function r(e){return e>1&&e<5}function o(e,t,n,o){var i=e+" ";switch(n){case"s":return t||o?"pár sekúnd":"pár sekundami";case"ss":return t||o?i+(r(e)?"sekundy":"sekúnd"):i+"sekundami";case"m":return t?"minúta":o?"minútu":"minútou";case"mm":return t||o?i+(r(e)?"minúty":"minút"):i+"minútami";case"h":return t?"hodina":o?"hodinu":"hodinou";case"hh":return t||o?i+(r(e)?"hodiny":"hodín"):i+"hodinami";case"d":return t||o?"deň":"dňom";case"dd":return t||o?i+(r(e)?"dni":"dní"):i+"dňami";case"M":return t||o?"mesiac":"mesiacom";case"MM":return t||o?i+(r(e)?"mesiace":"mesiacov"):i+"mesiacmi";case"y":return t||o?"rok":"rokom";case"yy":return t||o?i+(r(e)?"roky":"rokov"):i+"rokmi"}}e.defineLocale("sk",{months:t,monthsShort:n,weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:o,ss:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
function t(e,t,n,r){var o=e+" ";switch(n){case"s":return t||r?"nekaj sekund":"nekaj sekundami";case"ss":return o+(1===e?t?"sekundo":"sekundi":2===e?t||r?"sekundi":"sekundah":e<5?t||r?"sekunde":"sekundah":"sekund");case"m":return t?"ena minuta":"eno minuto";case"mm":return o+(1===e?t?"minuta":"minuto":2===e?t||r?"minuti":"minutama":e<5?t||r?"minute":"minutami":t||r?"minut":"minutami");case"h":return t?"ena ura":"eno uro";case"hh":return o+(1===e?t?"ura":"uro":2===e?t||r?"uri":"urama":e<5?t||r?"ure":"urami":t||r?"ur":"urami");case"d":return t||r?"en dan":"enim dnem";case"dd":return o+(1===e?t||r?"dan":"dnem":2===e?t||r?"dni":"dnevoma":t||r?"dni":"dnevi");case"M":return t||r?"en mesec":"enim mesecem";case"MM":return o+(1===e?t||r?"mesec":"mesecem":2===e?t||r?"meseca":"mesecema":e<5?t||r?"mesece":"meseci":t||r?"mesecev":"meseci");case"y":return t||r?"eno leto":"enim letom";case"yy":return o+(1===e?t||r?"leto":"letom":2===e?t||r?"leti":"letoma":e<5?t||r?"leta":"leti":t||r?"let":"leti")}}e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejšnjo] [nedeljo] [ob] LT";case 3:return"[prejšnjo] [sredo] [ob] LT";case 6:return"[prejšnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"pred %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",ss:"%d sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var o=t.words[r];return 1===r.length?n?o[0]:o[1]:e+" "+t.correctGrammaticalCase(e,o)}};e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t={words:{ss:["секунда","секунде","секунди"],m:["један минут","једне минуте"],mm:["минут","минуте","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],dd:["дан","дана","дана"],MM:["месец","месеца","месеци"],yy:["година","године","година"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var o=t.words[r];return 1===r.length?n?o[0]:o[1]:e+" "+t.correctGrammaticalCase(e,o)}};e.defineLocale("sr-cyrl",{months:"јануар_фебруар_март_април_мај_јун_јул_август_септембар_октобар_новембар_децембар".split("_"),monthsShort:"јан._феб._мар._апр._мај_јун_јул_авг._сеп._окт._нов._дец.".split("_"),monthsParseExact:!0,weekdays:"недеља_понедељак_уторак_среда_четвртак_петак_субота".split("_"),weekdaysShort:"нед._пон._уто._сре._чет._пет._суб.".split("_"),weekdaysMin:"не_по_ут_ср_че_пе_су".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){return["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"дан",dd:t.translate,M:"месец",MM:t.translate,y:"годину",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"[På] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?":e":1===t||2===t?":a":":e")},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t={1:"௧",2:"௨",3:"௩",4:"௪",5:"௫",6:"௬",7:"௭",8:"௮",9:"௯",0:"௦"},n={"௧":"1","௨":"2","௩":"3","௪":"4","௫":"5","௬":"6","௭":"7","௮":"8","௯":"9","௦":"0"};e.defineLocale("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",ss:"%d விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},dayOfMonthOrdinalParse:/\d{1,2}வது/,ordinal:function(e){return e+"வது"},preparse:function(e){return e.replace(/[௧௨௩௪௫௬௭௮௯௦]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/யாமம்|வைகறை|காலை|நண்பகல்|எற்பாடு|மாலை/,meridiem:function(e,t,n){return e<2?" யாமம்":e<6?" வைகறை":e<10?" காலை":e<14?" நண்பகல்":e<18?" எற்பாடு":e<22?" மாலை":" யாமம்"},meridiemHour:function(e,t){return 12===e&&(e=0),"யாமம்"===t?e<2?e:e+12:"வைகறை"===t||"காலை"===t||"நண்பகல்"===t&&e>=10?e:e+12},week:{dow:0,doy:6}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("te",{months:"జనవరి_ఫిబ్రవరి_మార్చి_ఏప్రిల్_మే_జూన్_జులై_ఆగస్టు_సెప్టెంబర్_అక్టోబర్_నవంబర్_డిసెంబర్".split("_"),monthsShort:"జన._ఫిబ్ర._మార్చి_ఏప్రి._మే_జూన్_జులై_ఆగ._సెప్._అక్టో._నవ._డిసె.".split("_"),monthsParseExact:!0,weekdays:"ఆదివారం_సోమవారం_మంగళవారం_బుధవారం_గురువారం_శుక్రవారం_శనివారం".split("_"),weekdaysShort:"ఆది_సోమ_మంగళ_బుధ_గురు_శుక్ర_శని".split("_"),weekdaysMin:"ఆ_సో_మం_బు_గు_శు_శ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[నేడు] LT",nextDay:"[రేపు] LT",nextWeek:"dddd, LT",lastDay:"[నిన్న] LT",lastWeek:"[గత] dddd, LT",sameElse:"L"},relativeTime:{future:"%s లో",past:"%s క్రితం",s:"కొన్ని క్షణాలు",ss:"%d సెకన్లు",m:"ఒక నిమిషం",mm:"%d నిమిషాలు",h:"ఒక గంట",hh:"%d గంటలు",d:"ఒక రోజు",dd:"%d రోజులు",M:"ఒక నెల",MM:"%d నెలలు",y:"ఒక సంవత్సరం",yy:"%d సంవత్సరాలు"},dayOfMonthOrdinalParse:/\d{1,2}వ/,ordinal:"%dవ",meridiemParse:/రాత్రి|ఉదయం|మధ్యాహ్నం|సాయంత్రం/,meridiemHour:function(e,t){return 12===e&&(e=0),"రాత్రి"===t?e<4?e:e+12:"ఉదయం"===t?e:"మధ్యాహ్నం"===t?e>=10?e:e+12:"సాయంత్రం"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"రాత్రి":e<10?"ఉదయం":e<17?"మధ్యాహ్నం":e<20?"సాయంత్రం":"రాత్రి"},week:{dow:0,doy:6}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juñu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t={0:"-ум",1:"-ум",2:"-юм",3:"-юм",4:"-ум",5:"-ум",6:"-ум",7:"-ум",8:"-ум",9:"-ум",10:"-ум",12:"-ум",13:"-ум",20:"-ум",30:"-юм",40:"-ум",50:"-ум",60:"-ум",70:"-ум",80:"-ум",90:"-ум",100:"-ум"};e.defineLocale("tg",{months:{format:"январи_феврали_марти_апрели_майи_июни_июли_августи_сентябри_октябри_ноябри_декабри".split("_"),standalone:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_")},monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"якшанбе_душанбе_сешанбе_чоршанбе_панҷшанбе_ҷумъа_шанбе".split("_"),weekdaysShort:"яшб_дшб_сшб_чшб_пшб_ҷум_шнб".split("_"),weekdaysMin:"яш_дш_сш_чш_пш_ҷм_шб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Имрӯз соати] LT",nextDay:"[Фардо соати] LT",lastDay:"[Дирӯз соати] LT",nextWeek:"dddd[и] [ҳафтаи оянда соати] LT",lastWeek:"dddd[и] [ҳафтаи гузашта соати] LT",sameElse:"L"},relativeTime:{future:"баъди %s",past:"%s пеш",s:"якчанд сония",m:"як дақиқа",mm:"%d дақиқа",h:"як соат",hh:"%d соат",d:"як рӯз",dd:"%d рӯз",M:"як моҳ",MM:"%d моҳ",y:"як сол",yy:"%d сол"},meridiemParse:/шаб|субҳ|рӯз|бегоҳ/,meridiemHour:function(e,t){return 12===e&&(e=0),"шаб"===t?e<4?e:e+12:"субҳ"===t?e:"рӯз"===t?e>=11?e:e+12:"бегоҳ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"шаб":e<11?"субҳ":e<16?"рӯз":e<19?"бегоҳ":"шаб"},dayOfMonthOrdinalParse:/\d{1,2}-(ум|юм)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"ม.ค._ก.พ._มี.ค._เม.ย._พ.ค._มิ.ย._ก.ค._ส.ค._ก.ย._ต.ค._พ.ย._ธ.ค.".split("_"),monthsParseExact:!0,weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา H:mm",LLLL:"วันddddที่ D MMMM YYYY เวลา H:mm"},meridiemParse:/ก่อนเที่ยง|หลังเที่ยง/,isPM:function(e){return"หลังเที่ยง"===e},meridiem:function(e,t,n){return e<12?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",ss:"%d วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",w:"1 สัปดาห์",ww:"%d สัปดาห์",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'ünji",4:"'ünji",100:"'ünji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};e.defineLocale("tk",{months:"Ýanwar_Fewral_Mart_Aprel_Maý_Iýun_Iýul_Awgust_Sentýabr_Oktýabr_Noýabr_Dekabr".split("_"),monthsShort:"Ýan_Few_Mar_Apr_Maý_Iýn_Iýl_Awg_Sen_Okt_Noý_Dek".split("_"),weekdays:"Ýekşenbe_Duşenbe_Sişenbe_Çarşenbe_Penşenbe_Anna_Şenbe".split("_"),weekdaysShort:"Ýek_Duş_Siş_Çar_Pen_Ann_Şen".split("_"),weekdaysMin:"Ýk_Dş_Sş_Çr_Pn_An_Şn".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[düýn] LT",lastWeek:"[geçen] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s soň",past:"%s öň",s:"birnäçe sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir gün",dd:"%d gün",M:"bir aý",MM:"%d aý",y:"bir ýyl",yy:"%d ýyl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'unjy";var r=e%10;return e+(t[r]||t[e%100-r]||t[e>=100?100:null])}},week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t="pagh_wa’_cha’_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(e,n,r,o){var i=function(e){var n=Math.floor(e%1e3/100),r=Math.floor(e%100/10),o=e%10,i="";return n>0&&(i+=t[n]+"vatlh"),r>0&&(i+=(""!==i?" ":"")+t[r]+"maH"),o>0&&(i+=(""!==i?" ":"")+t[o]),""===i?"pagh":i}(e);switch(r){case"ss":return i+" lup";case"mm":return i+" tup";case"hh":return i+" rep";case"dd":return i+" jaj";case"MM":return i+" jar";case"yy":return i+" DIS"}}e.defineLocale("tlh",{months:"tera’ jar wa’_tera’ jar cha’_tera’ jar wej_tera’ jar loS_tera’ jar vagh_tera’ jar jav_tera’ jar Soch_tera’ jar chorgh_tera’ jar Hut_tera’ jar wa’maH_tera’ jar wa’maH wa’_tera’ jar wa’maH cha’".split("_"),monthsShort:"jar wa’_jar cha’_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa’maH_jar wa’maH wa’_jar wa’maH cha’".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa’leS] LT",nextWeek:"LLL",lastDay:"[wa’Hu’] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(e){var t=e;return-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"},past:function(e){var t=e;return-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu’":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"},s:"puS lup",ss:n,m:"wa’ tup",mm:n,h:"wa’ rep",hh:n,d:"wa’ jaj",dd:n,M:"wa’ jar",MM:n,y:"wa’ DIS",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};e.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),meridiem:function(e,t,n){return e<12?n?"öö":"ÖÖ":n?"ös":"ÖS"},meridiemParse:/öö|ÖÖ|ös|ÖS/,isPM:function(e){return"ös"===e||"ÖS"===e},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'ıncı";var r=e%10;return e+(t[r]||t[e%100-r]||t[e>=100?100:null])}},week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
function t(e,t,n,r){var o={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n míut","'iens míut"],mm:[e+" míuts",e+" míuts"],h:["'n þora","'iensa þora"],hh:[e+" þoras",e+" þoras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return r||t?o[n][0]:o[n][1]}e.defineLocale("tzl",{months:"Januar_Fevraglh_Març_Avrïu_Mai_Gün_Julia_Guscht_Setemvar_Listopäts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gün_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Súladi_Lúneçi_Maitzi_Márcuri_Xhúadi_Viénerçi_Sáturi".split("_"),weekdaysShort:"Súl_Lún_Mai_Már_Xhú_Vié_Sát".split("_"),weekdaysMin:"Sú_Lú_Ma_Má_Xh_Vi_Sá".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi à] LT",nextDay:"[demà à] LT",nextWeek:"dddd [à] LT",lastDay:"[ieiri à] LT",lastWeek:"[sür el] dddd [lasteu à] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",ss:"%d ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("ug-cn",{months:"يانۋار_فېۋرال_مارت_ئاپرېل_ماي_ئىيۇن_ئىيۇل_ئاۋغۇست_سېنتەبىر_ئۆكتەبىر_نويابىر_دېكابىر".split("_"),monthsShort:"يانۋار_فېۋرال_مارت_ئاپرېل_ماي_ئىيۇن_ئىيۇل_ئاۋغۇست_سېنتەبىر_ئۆكتەبىر_نويابىر_دېكابىر".split("_"),weekdays:"يەكشەنبە_دۈشەنبە_سەيشەنبە_چارشەنبە_پەيشەنبە_جۈمە_شەنبە".split("_"),weekdaysShort:"يە_دۈ_سە_چا_پە_جۈ_شە".split("_"),weekdaysMin:"يە_دۈ_سە_چا_پە_جۈ_شە".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-يىلىM-ئاينىڭD-كۈنى",LLL:"YYYY-يىلىM-ئاينىڭD-كۈنى، HH:mm",LLLL:"dddd، YYYY-يىلىM-ئاينىڭD-كۈنى، HH:mm"},meridiemParse:/يېرىم كېچە|سەھەر|چۈشتىن بۇرۇن|چۈش|چۈشتىن كېيىن|كەچ/,meridiemHour:function(e,t){return 12===e&&(e=0),"يېرىم كېچە"===t||"سەھەر"===t||"چۈشتىن بۇرۇن"===t?e:"چۈشتىن كېيىن"===t||"كەچ"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"يېرىم كېچە":r<900?"سەھەر":r<1130?"چۈشتىن بۇرۇن":r<1230?"چۈش":r<1800?"چۈشتىن كېيىن":"كەچ"},calendar:{sameDay:"[بۈگۈن سائەت] LT",nextDay:"[ئەتە سائەت] LT",nextWeek:"[كېلەركى] dddd [سائەت] LT",lastDay:"[تۆنۈگۈن] LT",lastWeek:"[ئالدىنقى] dddd [سائەت] LT",sameElse:"L"},relativeTime:{future:"%s كېيىن",past:"%s بۇرۇن",s:"نەچچە سېكونت",ss:"%d سېكونت",m:"بىر مىنۇت",mm:"%d مىنۇت",h:"بىر سائەت",hh:"%d سائەت",d:"بىر كۈن",dd:"%d كۈن",M:"بىر ئاي",MM:"%d ئاي",y:"بىر يىل",yy:"%d يىل"},dayOfMonthOrdinalParse:/\d{1,2}(-كۈنى|-ئاي|-ھەپتە)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-كۈنى";case"w":case"W":return e+"-ھەپتە";default:return e}},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
function t(e,t,n){var r,o;return"m"===n?t?"хвилина":"хвилину":"h"===n?t?"година":"годину":e+" "+(r=+e,o={ss:t?"секунда_секунди_секунд":"секунду_секунди_секунд",mm:t?"хвилина_хвилини_хвилин":"хвилину_хвилини_хвилин",hh:t?"година_години_годин":"годину_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"}[n].split("_"),r%10==1&&r%100!=11?o[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?o[1]:o[2])}function n(e){return function(){return e+"о"+(11===this.hours()?"б":"")+"] LT"}}e.defineLocale("uk",{months:{format:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_"),standalone:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_")},monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:function(e,t){var n={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")};return!0===e?n.nominative.slice(1,7).concat(n.nominative.slice(0,1)):e?n[/(\[[ВвУу]\]) ?dddd/.test(t)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]:n.nominative},weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., HH:mm",LLLL:"dddd, D MMMM YYYY р., HH:mm"},calendar:{sameDay:n("[Сьогодні "),nextDay:n("[Завтра "),lastDay:n("[Вчора "),nextWeek:n("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return n("[Минулої] dddd [").call(this);case 1:case 2:case 4:return n("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",ss:t,m:t,mm:t,h:"годину",hh:t,d:"день",dd:t,M:"місяць",MM:t,y:"рік",yy:t},meridiemParse:/ночі|ранку|дня|вечора/,isPM:function(e){return/^(дня|вечора)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночі":e<12?"ранку":e<17?"дня":"вечора"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-й";case"D":return e+"-го";default:return e}},week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
var t=["جنوری","فروری","مارچ","اپریل","مئی","جون","جولائی","اگست","ستمبر","اکتوبر","نومبر","دسمبر"],n=["اتوار","پیر","منگل","بدھ","جمعرات","جمعہ","ہفتہ"];e.defineLocale("ur",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/صبح|شام/,isPM:function(e){return"شام"===e},meridiem:function(e,t,n){return e<12?"صبح":"شام"},calendar:{sameDay:"[آج بوقت] LT",nextDay:"[کل بوقت] LT",nextWeek:"dddd [بوقت] LT",lastDay:"[گذشتہ روز بوقت] LT",lastWeek:"[گذشتہ] dddd [بوقت] LT",sameElse:"L"},relativeTime:{future:"%s بعد",past:"%s قبل",s:"چند سیکنڈ",ss:"%d سیکنڈ",m:"ایک منٹ",mm:"%d منٹ",h:"ایک گھنٹہ",hh:"%d گھنٹے",d:"ایک دن",dd:"%d دن",M:"ایک ماہ",MM:"%d ماہ",y:"ایک سال",yy:"%d سال"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("uz",{months:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",ss:"%d фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần trước lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",ss:"%d giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",w:"một tuần",ww:"%d tuần",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("x-pseudo",{months:"J~áñúá~rý_F~ébrú~árý_~Márc~h_Áp~ríl_~Máý_~Júñé~_Júl~ý_Áú~gúst~_Sép~témb~ér_Ó~ctób~ér_Ñ~óvém~bér_~Décé~mbér".split("_"),monthsShort:"J~áñ_~Féb_~Már_~Ápr_~Máý_~Júñ_~Júl_~Áúg_~Sép_~Óct_~Ñóv_~Déc".split("_"),monthsParseExact:!0,weekdays:"S~úñdá~ý_Mó~ñdáý~_Túé~sdáý~_Wéd~ñésd~áý_T~húrs~dáý_~Fríd~áý_S~átúr~dáý".split("_"),weekdaysShort:"S~úñ_~Móñ_~Túé_~Wéd_~Thú_~Frí_~Sát".split("_"),weekdaysMin:"S~ú_Mó~_Tú_~Wé_T~h_Fr~_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~ódá~ý át] LT",nextDay:"[T~ómó~rró~w át] LT",nextWeek:"dddd [át] LT",lastDay:"[Ý~ést~érdá~ý át] LT",lastWeek:"[L~ást] dddd [át] LT",sameElse:"L"},relativeTime:{future:"í~ñ %s",past:"%s á~gó",s:"á ~féw ~sécó~ñds",ss:"%d s~écóñ~ds",m:"á ~míñ~úté",mm:"%d m~íñú~tés",h:"á~ñ hó~úr",hh:"%d h~óúrs",d:"á ~dáý",dd:"%d d~áýs",M:"á ~móñ~th",MM:"%d m~óñt~hs",y:"á ~ýéár",yy:"%d ý~éárs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("yo",{months:"Sẹ́rẹ́_Èrèlè_Ẹrẹ̀nà_Ìgbé_Èbibi_Òkùdu_Agẹmo_Ògún_Owewe_Ọ̀wàrà_Bélú_Ọ̀pẹ̀̀".split("_"),monthsShort:"Sẹ́r_Èrl_Ẹrn_Ìgb_Èbi_Òkù_Agẹ_Ògú_Owe_Ọ̀wà_Bél_Ọ̀pẹ̀̀".split("_"),weekdays:"Àìkú_Ajé_Ìsẹ́gun_Ọjọ́rú_Ọjọ́bọ_Ẹtì_Àbámẹ́ta".split("_"),weekdaysShort:"Àìk_Ajé_Ìsẹ́_Ọjr_Ọjb_Ẹtì_Àbá".split("_"),weekdaysMin:"Àì_Aj_Ìs_Ọr_Ọb_Ẹt_Àb".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Ònì ni] LT",nextDay:"[Ọ̀la ni] LT",nextWeek:"dddd [Ọsẹ̀ tón'bọ] [ni] LT",lastDay:"[Àna ni] LT",lastWeek:"dddd [Ọsẹ̀ tólọ́] [ni] LT",sameElse:"L"},relativeTime:{future:"ní %s",past:"%s kọjá",s:"ìsẹjú aayá die",ss:"aayá %d",m:"ìsẹjú kan",mm:"ìsẹjú %d",h:"wákati kan",hh:"wákati %d",d:"ọjọ́ kan",dd:"ọjọ́ %d",M:"osù kan",MM:"osù %d",y:"ọdún kan",yy:"ọdún %d"},dayOfMonthOrdinalParse:/ọjọ́\s\d{1,2}/,ordinal:"ọjọ́ %d",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"下午"===t||"晚上"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:function(e){return e.week()!==this.week()?"[下]dddLT":"[本]dddLT"},lastDay:"[昨天]LT",lastWeek:function(e){return this.week()!==e.week()?"[上]dddLT":"[本]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|周)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s后",past:"%s前",s:"几秒",ss:"%d 秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",w:"1 周",ww:"%d 周",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("zh-hk",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1200?"上午":1200===r?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("zh-mo",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"D/M/YYYY",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天] LT",nextDay:"[明天] LT",nextWeek:"[下]dddd LT",lastDay:"[昨天] LT",lastWeek:"[上]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}})}(n(4))},function(e,t,n){!function(e){
//! moment.js locale configuration
e.defineLocale("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天] LT",nextDay:"[明天] LT",nextWeek:"[下]dddd LT",lastDay:"[昨天] LT",lastWeek:"[上]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}})}(n(4))},function(e,t,n){var r;e.exports=(r=n(13),function(e){var t=r,n=t.lib,o=n.WordArray,i=n.Hasher,s=t.algo,a=[],l=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,o=0;o<64;)t(r)&&(o<8&&(a[o]=n(e.pow(r,.5))),l[o]=n(e.pow(r,1/3)),o++),r++}();var c=[],u=s.SHA256=i.extend({_doReset:function(){this._hash=new o.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],s=n[3],a=n[4],u=n[5],d=n[6],f=n[7],_=0;_<64;_++){if(_<16)c[_]=0|e[t+_];else{var h=c[_-15],p=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,m=c[_-2],g=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;c[_]=p+c[_-7]+g+c[_-16]}var v=r&o^r&i^o&i,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),D=f+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&u^~a&d)+l[_]+c[_];f=d,d=u,u=a,a=s+D|0,s=i,i=o,o=r,r=D+(b+v)|0}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+u|0,n[6]=n[6]+d|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;return n[o>>>5]|=128<<24-o%32,n[14+(o+64>>>9<<4)]=e.floor(r/4294967296),n[15+(o+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(u),t.HmacSHA256=i._createHmacHelper(u)}(Math),r.SHA256)},function(e,t,n){var r;e.exports=(r=n(13),n(61),function(){var e=r,t=e.lib.Hasher,n=e.x64,o=n.Word,i=n.WordArray,s=e.algo;function a(){return o.create.apply(o,arguments)}var l=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++)c[e]=a()}();var u=s.SHA512=t.extend({_doReset:function(){this._hash=new i.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],s=n[3],a=n[4],u=n[5],d=n[6],f=n[7],_=r.high,h=r.low,p=o.high,m=o.low,g=i.high,v=i.low,b=s.high,D=s.low,y=a.high,C=a.low,S=u.high,E=u.low,w=d.high,T=d.low,M=f.high,j=f.low,k=_,O=h,A=p,I=m,P=g,x=v,R=b,F=D,L=y,N=C,B=S,U=E,H=w,W=T,Y=M,$=j,q=0;q<80;q++){var G=c[q];if(q<16)var V=G.high=0|e[t+2*q],z=G.low=0|e[t+2*q+1];else{var K=c[q-15],J=K.high,Q=K.low,X=(J>>>1|Q<<31)^(J>>>8|Q<<24)^J>>>7,Z=(Q>>>1|J<<31)^(Q>>>8|J<<24)^(Q>>>7|J<<25),ee=c[q-2],te=ee.high,ne=ee.low,re=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,oe=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),ie=c[q-7],se=ie.high,ae=ie.low,le=c[q-16],ce=le.high,ue=le.low;V=(V=(V=X+se+((z=Z+ae)>>>0<Z>>>0?1:0))+re+((z+=oe)>>>0<oe>>>0?1:0))+ce+((z+=ue)>>>0<ue>>>0?1:0),G.high=V,G.low=z}var de,fe=L&B^~L&H,_e=N&U^~N&W,he=k&A^k&P^A&P,pe=O&I^O&x^I&x,me=(k>>>28|O<<4)^(k<<30|O>>>2)^(k<<25|O>>>7),ge=(O>>>28|k<<4)^(O<<30|k>>>2)^(O<<25|k>>>7),ve=(L>>>14|N<<18)^(L>>>18|N<<14)^(L<<23|N>>>9),be=(N>>>14|L<<18)^(N>>>18|L<<14)^(N<<23|L>>>9),De=l[q],ye=De.high,Ce=De.low,Se=Y+ve+((de=$+be)>>>0<$>>>0?1:0),Ee=ge+pe;Y=H,$=W,H=B,W=U,B=L,U=N,L=R+(Se=(Se=(Se=Se+fe+((de+=_e)>>>0<_e>>>0?1:0))+ye+((de+=Ce)>>>0<Ce>>>0?1:0))+V+((de+=z)>>>0<z>>>0?1:0))+((N=F+de|0)>>>0<F>>>0?1:0)|0,R=P,F=x,P=A,x=I,A=k,I=O,k=Se+(me+he+(Ee>>>0<ge>>>0?1:0))+((O=de+Ee|0)>>>0<de>>>0?1:0)|0}h=r.low=h+O,r.high=_+k+(h>>>0<O>>>0?1:0),m=o.low=m+I,o.high=p+A+(m>>>0<I>>>0?1:0),v=i.low=v+x,i.high=g+P+(v>>>0<x>>>0?1:0),D=s.low=D+F,s.high=b+R+(D>>>0<F>>>0?1:0),C=a.low=C+N,a.high=y+L+(C>>>0<N>>>0?1:0),E=u.low=E+U,u.high=S+B+(E>>>0<U>>>0?1:0),T=d.low=T+W,d.high=w+H+(T>>>0<W>>>0?1:0),j=f.low=j+$,f.high=M+Y+(j>>>0<$>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(u),e.HmacSHA512=t._createHmacHelper(u)}(),r.SHA512)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e=10)=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=t.length;let r="";for(let o=0;o<e;o++)r+=t.charAt(Math.floor(Math.random()*n));return r}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(11);class o{constructor(e,t,n,o,i,s,a,l,c,u,d,f,_,h,p,m){this.userRole="none",this.messageRetrieved=!1,this.messages=[],this.subscribed=!1,this.deleted=!1,this.invited=!1,this.type="SIMPLE",this.pageIndex=0,this.isLoading=!1,this.complete=!1,this.users=[],this.publishersRetreived=!1,this.loaded=!1,this.muted=!1,this.name=e,this.id=t,this.visibility=n,this.topic=o,this.creatorId=i,this.companyId=s,this.creationDate=a,this.type=d,this.users_count=l,this.subscribers_count=p,this.category=_,this.mode=h,this.lastAvatarUpdateDate=c;const g=this.lastAvatarUpdateDate?"&ts="+new Date(this.lastAvatarUpdateDate).getTime():"";if(this.avatar=config.restServerUrl+"/api/channel-avatar/"+t+"?size=256"+g,void 0!==u&&(this.subscribed=u),void 0!==d&&(this.userRole=d,this.subscribed="none"!==d),void 0!==f&&(this.invited=f),!this.mode)switch(this.visibility){case"company":this.mode="company_public";break;case"public":this.mode="all_public";break;case"private":this.mode="company_private"}this.updateSubject=new r.Subject,this.muted=m}static create(e){let t=new o(e.name,e.id,e.visibility,e.topic,e.creatorId,e.companyId,e.creationDate,e.users_count,e.lastAvatarUpdateDate,e.subscribed,e.type,e.invited,e.category,e.mode,e.subscribers_count,e.mute);return t.category||(t.category="globalnews"),t}isNotMember(){return this.userRole="none"}isOwner(){return"owner"===this.userRole}isPublisher(){return this.subscribed&&("owner"===this.userRole||"publisher"===this.userRole)}isMember(){return"member"===this.userRole}getAvatarSrc(){return this.lastAvatarUpdateDate?this.avatar:"/resources/skins/rainbow/images/channels/default_channel_avatar.png"}}t.Channel=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(){this.body=void 0,this.date=void 0,this.isRoom=!1,this.isSent=!1,this.messageId=void 0,this.otherJid=null,this.historyIndex=null}static SearchTextMsgResultFactory(){return()=>new r}}t.SearchTextMsgResult=r,t.SearchTextResult=class{constructor(e){this.room=null,this.contact=null,this.totalCount=0,this.convRes=[],this.otherJid=e}addMsgItem(e){this.convRes.push(e)}isRoom(){return this.conversation?null!=this.conversation.room:null!==this.room}};class o{constructor(){this._searchedText=null,this.normalizedSearchText=null,this.queryIds=[],this.results=[],this.totalCount=0,this.currentMessageId=null,this.isSearching=!1}get searchedText(){return this._searchedText}set searchedText(e){this._searchedText=e,this.normalizedSearchText=e?e.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,""):null}isEmpty(){return 0===this.queryIds.length||0===Object.keys(this.results).length}clearAll(){this.searchedText=null,this.queryIds=[],this.partResults=[],this.totalCount=0,this.currentMessageId=null,this.results.splice(0,this.results.length)}isCurrentQuery(e){return this.queryIds.indexOf(e)>-1}getResultByJid(e){return this.results.find(t=>t.otherJid===e)}}t.SearchTextConvResults=o,angular.module("rainbow").factory("SearchTextConvResultsFactory",(function(){return()=>new o})),angular.module("rainbow").factory("SearchTextMsgResultFactory",r.SearchTextMsgResultFactory)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});class r{static create(e,t){const n=emojione?emojione.toShort:e=>e;return new r(e,n(t))}constructor(e,t){this.id=e,this.body=t}}t.ReplaceMsg=r},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(16),o=n(5),i=n(25),s=n(2),a=n(0),l=n(34),c=n(4);class u{constructor(e,t,n,r,o){this.$rootScope=e,this.Conversation=t,this.fileServerService=n,this.webrtcGatewayService=r,this.conversationService=o}static create(e,t,n,r,o){return new u(e,t,n,r,o)}onChatMessageReceived(e){try{const t=$(e);return t.find("event").length>0||t.find("propose").length>0||t.find("received").length>0?(a.default.info("[ConversationServiceEventHandler] onChatMessageReceived ignore the message"),!0):(t.find("recording").length>0?(a.default.info("[ConversationServiceEventHandler] onChatMessageReceived : recording msg case"),this.onRecordingMessageReceived(e)):this.extractStanzaData(e).then(t=>{t&&(t.body||t.oob||t.conference||t.replace?(a.default.info("[ConversationServiceEventHandler] onChatMessageReceived"),this.handleChatMessage(t)):t.outgoingMessage||s.default.isUserContact(t.participant)||!t.status||this.handleStatusMessage(t.conversation,t.participant,e))}),!0)}catch(t){return a.default.error("[ConversationServiceEventHandler] onChatMessageReceived ERROR "+t),!0}}onConferenceMessageReceived(e){a.default.info("[ConversationServiceEventHandler] onConferenceMessageReceived");try{return 0===$(e).find("event").length?a.default.info("[ConversationServiceEventHandler] onConferenceMessageReceived ignore the message"):this.extractStanzaData(e).then(e=>{e.conference&&this.handleChatMessage(e)}),!0}catch(t){return a.default.error("[ConversationServiceEventHandler] onConferenceMessageReceived ERROR "+t),!0}}onRoomAdminMessageReceived(e,t,n,r){a.default.info("[ConversationServiceEventHandler] onRoomAdminMessageReceived");const o=e.addAdminBubbleMessage(t,new Date,n,r);e.setStatusMessage(t,this.Conversation.Status.ACTIVE),this.conversationService.sendAckReceivedMessage(e,o),e===this.conversationService.activeConversation&&this.$rootScope.appVisible||e.setMissedCounter(e.missedCounter+1),this.$rootScope.$broadcast("ON_CONVERSATION_MESSAGE_RECEIVED",o,e,!1),this.$rootScope.$broadcast("ON_CONVERSATIONS_UPDATED_EVENT",e,this.Conversation.EventType.IM)}onFileMessageReceived(e){a.default.info("[ConversationServiceEventHandler] onFileMessageReceived");try{return this.extractStanzaData(e).then(e=>{if(e.body){const t=e.conversation;t.addFileMessage(e.participant,e.date,e.body,e.messageId,e.urgency),t.setStatusMessage(e.participant,this.Conversation.Status.ACTIVE),this.$rootScope.$broadcast("ON_CONVERSATIONS_UPDATED_EVENT",t,this.Conversation.EventType.FILE)}}),!0}catch(t){return a.default.error("[ConversationServiceEventHandler] onFileMessageReceived ERROR "+t),!0}}onWebRTCMessageReceived(e){a.default.info("[ConversationServiceEventHandler] onWebRTCMessageReceived");try{return $(e).find("call_log").length>0?this.extractWebrtcStanzaData(e).then(e=>{if(e&&e.body){const t=e.conversation,n=t.addWebRTCMessage(e.participant,e.date,e.body,e.messageId);t.setStatusMessage(e.participant,this.Conversation.Status.ACTIVE),this.conversationService.sendAckReceivedMessage(t,n),"R"===n.side||e.state&&"answered"===e.state?this.conversationService.sendAckReadMessage(t,n):t===this.conversationService.activeConversation&&this.$rootScope.appVisible||t.setMissedCounter(t.missedCounter+1),this.$rootScope.$broadcast("ON_CONVERSATIONS_UPDATED_EVENT",t)}}):this.extractStanzaData(e).then(e=>{if(e&&e.body){const t=e.conversation;t.addWebRTCMessage(e.participant,e.date,e.body,e.messageId),t.setStatusMessage(e.participant,this.Conversation.Status.ACTIVE),this.$rootScope.$broadcast("ON_CONVERSATIONS_UPDATED_EVENT",t)}}),!0}catch(t){return a.default.error("[ConversationServiceEventHandler] onWebRTCMessageReceived error "+t),!0}}onManagementMessageReceived(e){try{const t=$(e),n=t.find("conversation");if(n){const e=n.attr("action");let t=null;if("create"===e){const e=o.default.getBareJidFromJid(n.find("peer").text()),r=n.find("type").text(),i=n.attr("id");t=this.conversationService.getConversationAsyncById(e,r,i)}else t=Promise.resolve(this.conversationService.getConversationByDbId(n.attr("id")));t.then(t=>{if(a.default.info("[ConversationServiceEventHandler] onManagementMessageReceived ("+e+" conversation)"),t)switch(e){case"create":{t.dbId=n.attr("id");const e=n.find("lastMessageDate").text();e&&e.length>0&&(t.lastModification=new Date(e)),t.missedCounter=parseInt(n.find("unreadMessageNumber").text(),10)||0,t.muted="true"===n.find("mute").text(),this.conversationService.favoriteService.updateFavoriteConversations(t),this.conversationService.orderConversations(),this.$rootScope.$broadcast("ON_CONVERSATIONS_UPDATED_EVENT")}break;case"delete":this.conversationService.removeConversation(t)}else if("create"===e){const e=o.default.getBareJidFromJid(n.find("peer").text()),t=n.attr("id"),r=new Date(n.find("lastMessageDate").text()),i=n.find("lastMessageText").text(),s=n.find("lastMessageSender").text(),l=parseInt(n.find("unreadMessageNumber").text(),10)||0,c="true"===n.find("mute").text(),u=n.find("type").text(),d="room"===u?"getRoomConversation":"getOrCreateOneToOneConversation";this.conversationService[d](e).then(e=>{a.default.info("[ConversationServiceEventHandler] onManagementMessageReceived update conversation ("+e.id+")"),e.dbId=t,e.lastModification=r?new Date(r):void 0,e.lastMessageText=i,e.lastMessageSender=s,e.muted=c,e.preload=!0,e.setMissedCounter(l),u===this.Conversation.Type.BOT&&(e.type=this.Conversation.Type.ONE_TO_ONE),this.conversationService.favoriteService.updateFavoriteConversations(e),this.$rootScope.$broadcast("ON_CONVERSATIONS_UPDATED_EVENT",e)})}})}if(t.find("mute")||t.find("unmute")){const e=t.find("mute");let n=!1;e.length&&(n=!e.text().length||"true"===e.text());const r=t.find("mute").attr("conversation")||t.find("unmute").attr("conversation"),o=this.conversationService.getConversationByDbId(r);o&&(a.default.info("[ConversationServiceEventHandler] onManagementMessageReceived : mute is changed to "+n),o.muted=n)}return!0}catch(t){return a.default.error("[ConversationServiceEventHandler] onManagementMessageReceived error "+t),!0}}onReceiptMessageReceived(e){try{let t=$(e);const n=o.default.getBareJidFromJid(t.attr("from")),i=t.find("message");s.default.isUserContactJid(n)&&i.length>0&&(t=$(i));const l=t.find("received");if(l.length&&l.length>0){a.default.info("[ConversationServiceEventHandler] onReceiptMessageReceived");const t=$(l).attr("id"),n=$(l).attr("entity"),o=$(l).attr("event");if("server"===n&&"received"===o){const e=this.conversationService.pendingMessages[t];if(e&&e.message){const n=e.message,o=e.conversation;a.default.info("[conversationService] Receive server ack ("+o.id+", "+n.id+")"),n.setReceiptStatus(r.Message.ReceiptStatus.SENT),o.updateMessage(n),delete this.conversationService.pendingMessages[t],this.$rootScope.$broadcast("ON_CONVERSATION_RECEIPT_RECEIVED",n,o,"server")}}else"client"===n&&this.extractStanzaData(e).then(t=>{this.handleReceiptReceiveMessage(t.conversation,e)})}else if(t.find("mark_as_read").length){a.default.info("[ConversationServiceEventHandler] onReceiptMessageReceived -- mark_as_read");const e=t.find("mark_as_read").attr("with"),n=this.conversationService.getConversationById(e);if(n)switch(t.find("mark_as_read").attr("id")){case"all-received":n.setMissedCounter(0);break;case"all-sent":n.ackReadAllSentMessages();break;default:a.default.error("[ConversationServiceEventHandler] onReceiptMessageReceived error - unknown read type")}}else t.find("voicemessage").length&&a.default.debug("[ConversationServiceEventHandler] onReceiptMessageReceived VoiceMessage detected");return!0}catch(t){return a.default.error("[ConversationServiceEventHandler] onReceiptMessageReceived error "+t),!0}}extractStanzaData(e){return new Promise((t,n)=>{let r=$(e);const i=r.attr("from"),a=o.default.getBareJidFromJid(i),l={};let c=null;const u=r.find("message");if(u.length>0&&s.default.isUserContactJid(a)){const e=$(r).find("sent forwarded message forwarded message");if(e&&e.length){const t=$(r).find("sent forwarded message").attr("id");r=$(e).find("forwarded message"),l.isForwarded=!0,c=this.handleCarbonMsg(u,l,r,t)}else c=this.handleCarbonMsg(u,l,r,null)}else{const e=$(r).find("forwarded[xmlns='urn:xmpp:forward:0']");if(e&&e.length){const n=r.attr("id");r=$(e).find("forwarded message"),l.isForwarded=!0,c=this.handleStandardMsg(l,r,i,n,t)}else c=this.handleStandardMsg(l,r,i,null,t)}c&&this.handleCommonData(e,l,r,c.conversationId,c.delay,c.resource,t,n)})}handleCommonData(e,t,n,r,o,i,c,u){const d="push"===n.find("retransmission").attr("source");if(t.date=new Date,t.offline=!1,"Offline Storage"===o.text()&&(t.date=new Date(o.attr("stamp")),t.offline=!0),d){let e=this.conversationService.getConversationById(r);if(e)u();else{const t=this.conversationService;(r.startsWith("room_")?t.getRoomConversation(r):t.getOrCreateOneToOneConversation(r)).then((function(t){e=t,u()}))}return}const f=this.conversationService.getConversationById(r);if(t.convReady=f&&null!==f.dbId,t.body||f||t.oob||t.conference)if(0===r.indexOf("room_")){const e=l.default.getRoomByJid(r),o=n.find("subject"),d=o.length&&""===o.text();e&&"accepted"!==e.status||d?a.default.info("[conversationServiceEvent] extractStanzaData -- ignore this stanza message"):this.conversationService.getRoomConversation(r).then((function(e){return t.conversation=e,t.conference&&t.conference.ownerjid?s.default.getOrCreateContact(t.conference.ownerjid):(i&&-1!==i.indexOf("/")&&(i=i.split("/")[0]),s.default.getOrCreateContact(i))})).then((function(e){t.participant=e,c(t)})).catch((function(e){a.default.error("[conversationServiceEventHandler] impossible to fetch conversation "+e.message),u()}))}else this.conversationService.getOrCreateOneToOneConversation(r).then((function(e){t.conversation=e,t.participant||(t.participant=e.contact),c(t)})).catch((function(e){a.default.error("[conversationServiceEventHandler] impossible to fetch conversation "+e.message),u()}));else if($(e).find("deleted")){const t=$(e).find("deleted")[0];if(t&&"all"===t.getAttribute("id")){const e=this.conversationService.getConversationById(t.getAttribute("with"));e&&(a.default.info("[conversationServiceEventHandler] Remove all messages for conversation "+e.id),e.reset())}c()}else a.default.debug("[conversationServiceEventHandler] ignored message stanza"),u()}handleStandardMsg(e,t,n,r,i){a.default.debug("[conversationServiceEventHandler] > handleStandardMsg "+r),e.outgoingMessage=!1,e.body=t.find("body").text(),e.messageId=r||t.attr("id"),e.carbon=!1,e.answeredMsg=t.find("answeredMsg"),e.alternativeContent=t.find("content"),e.attention=t.find("attention");let s=o.default.getBareJidFromJid(n);const l=o.default.getResourceFromJid(n),c=t.find("delay");e.urgency="std";const u=t.find("headers[xmlns='http://jabber.org/protocol/shim']");if(u&&u.length){const t=$(u).find("header[name='Urgency']");t&&t.length&&(e.urgency=t.text()),"undefined"===e.urgency&&(e.urgency="std")}const d=t.find("x[xmlns='jabber:x:oob']");if(d&&d.length){const t=$(d),n=t.find("url").text(),r=t.find("mime").text(),o=t.find("filename").text(),i=t.find("size").text();e.oob={url:n,mime:r,filename:o,filesize:i}}const f=t.find("geoloc");if(f&&f.length){const t=$(f),n=t.find("lon").text(),r=t.find("lat").text();e.geoloc={lon:n,lat:r}}const _=t.find("voicemessage");_&&_.length&&(e.voiceMessage=!0);const h=t.find("x[xmlns='jabber:x:audioconference']");if(h&&h.length){const t=$(h),n=t.attr("message"),r=t.attr("confendpointid"),o=h.attr("jid"),l=h.attr("type");if(e.conference={type:l,message:n,confendpointid:r,roomjid:o,ownerjid:s},"reminder"!==l)return a.default.debug("[conversationServiceEventHandler] ignored message stanza for conference"),i(e),null;s=o}const p=t.find("replace");p&&p.length&&(e.replace={id:p.attr("id")});const m=t.find("mention[xmlns='urn:xmpp:attention:0']");m.length&&(e.mentions=[],m.find("jid").each((t,n)=>{const r={};r.jid=$(n).text(),r.pos=parseInt($(n).attr("pos"),10),r.size=parseInt($(n).attr("size"),10),r.jid&&r.size&&e.mentions.push(r)})),e.additionalContent=null;const g=t.find("content[xmlns='urn:xmpp:content']");g&&g.each((function(){e.additionalContent||(e.additionalContent={});const t=$(this).attr("type"),n=$(this).text();"text/markdown"===t&&(e.markdown=!0,e.body=n),e.additionalContent[t]={type:t,message:n}}));const v=t.find("subject");v&&""!==v.text()&&(e.subject=v.text()),e.status=null;const b=t.find("composing"),D=t.find("paused"),y=t.find("active"),C=t.find("inactive");return b.length?e.status="composing":D.length?e.status="paused":y.length?e.status="active":C.length&&(e.status="inactive"),{conversationId:s,resource:l,delay:c}}handleCarbonMsg(e,t,n,r){const i=$(e),a=o.default.getBareJidFromJid(i.attr("from")),l=o.default.getResourceFromJid(i.attr("from")),c=o.default.getBareJidFromJid(i.attr("to")),u=o.default.getResourceFromJid(i.attr("to"));t.outgoingMessage=s.default.isUserContactJid(a),t.body=i.find("body").text(),t.participant=t.outgoingMessage?s.default.userContact:null,t.messageId=r||i.attr("id"),t.carbon=!0,t.answeredMsg=i.find("answeredMsg"),t.alternativeContent=i.find("content");const d=t.outgoingMessage?c:a,f=t.outgoingMessage?u:l,_=i.find("delay");t.urgency="std";const h=i.find("headers[xmlns='http://jabber.org/protocol/shim']");if(h&&h.length){const e=$(h).find("header[name='Urgency']");e&&e.length&&(t.urgency=e.text())}const p=i.find("x[xmlns='jabber:x:oob']");if(p&&p.length){const e=$(p),n=e.find("url").text(),r=e.find("mime").text(),o=e.find("filename").text(),i=e.find("size").text();t.oob={url:n,mime:r,filename:o,filesize:i}}const m=n.find("x[xmlns='jabber:x:audioconference']");if(m&&m.length){const e=$(m),n=e.attr("subject"),r=e.attr("confendpointid"),o=m.attr("jid"),i=m.attr("type");t.conference={type:i,subject:n,confendpointid:r,roomjid:o,ownerjid:d}}const g=e.find("replace");g&&g.length&&(t.replace={id:g.attr("id")});const v=e.find("mention[xmlns='urn:xmpp:attention:0']");v.length&&(t.mentions=[],v.find("jid").each((e,n)=>{const r={};r.jid=$(n).text(),r.pos=parseInt($(n).attr("pos"),10),r.size=parseInt($(n).attr("size"),10),r.jid&&r.size&&t.mentions.push(r)})),t.status=null;const b=n.find("composing"),D=n.find("paused"),y=n.find("active"),C=n.find("inactive");b.length?t.status="composing":D.length?t.status="paused":y.length?t.status="active":C.length&&(t.status="inactive");const S=i.find("geoloc");if(S&&S.length){const e=$(S),n=e.find("lon").text(),r=e.find("lat").text();t.geoloc={lon:n,lat:r}}const E=i.find("voicemessage");return E&&E.length&&(t.voiceMessage=!0),{conversationId:d,resource:f,delay:_}}extractWebrtcStanzaData(e){return new Promise((t,n)=>{a.default.debug("[conversationServiceEventHandler] extractWebrtcStanzaData");const r={};r.messageId=$(e).attr("id"),r.callerJid=$(e).find("caller").text(),r.calleeJid=$(e).find("callee").text(),r.state=$(e).find("state").text();let o=null;if(s.default.isUserContactJid(r.callerJid)?(o=r.calleeJid,r.participant=s.default.userContact):o=r.callerJid,-1!==o.indexOf("janusgateway"))return a.default.debug("[conversationServiceEventHandler] extractWebrtcStanzaData -- ignore Janus message"),void n();if(this.webrtcGatewayService.isMediaPillarJid(r.callerJid))return a.default.debug("[conversationServiceEventHandler] extractWebrtcStanzaData -- ignore MediaPillar message"),void t();let i=0;$(e).find("duration")&&(i=parseInt($(e).find("duration").text(),10)),r.duration=i>0?"("+c.duration(i,"ms").format("h[H] mm[m] ss[s]")+")":0;const l=$(e).find("date").text();l&&(r.date=new Date(l)),r.body="","missed"===r.state?r.body="missedCall||"+r.date:"answered"===r.state&&(r.body="activeCallMsg||"+r.date+"||"+r.duration),this.conversationService.getOrCreateOneToOneConversation(o).then(e=>{r.conversation=e,r.participant||(r.participant=e.contact),t(r)}).catch(e=>{a.default.error("[conversationServiceEventHandler] impossible to fetch conversation "+e.message),n()})})}handleChatMessage(e){a.default.info("[ConversationServiceEventHandler] handleChatMessage");const t=e.body;let n=null,r=e.conversation;if(r&&r.room&&(r.room.lastActivityDate=new Date),e.oob){const t=e.oob.url,o=e.oob.filename,s=i.default.extractFileIdFromUrl(t),l=e.attention&&e.attention.length;i.default.retrieveAndStoreOneFileDescriptor(s).then(t=>{n=r.addFileSharingMessage(e.participant,e.date,e.body,e.messageId,s,o,e.geoloc,e.urgency,e.isForwarded,l),this.acknowledgeHandledChatMessage(e,r,n),this.fileServerService.getBlobThumbnailFromFileDescriptor(t).then(e=>{const n=i.default.getFileDescriptorById(t.id);n.previewBlob=e,n.previewBlobSubject.next(n.previewBlob),this.$rootScope.$broadcast("ON_FILE_DESCRIPTOR_RECEIVED_EVENT",{fileId:n.id})}),this.$rootScope.$broadcast("ON_FILE_DESCRIPTOR_RECEIVED_EVENT",{fileId:t.id})}).catch((function(e){a.default.info("[ConversationServiceEventHandler] handleChatMessage error "+e)}))}else if(e.conference){const t={type:e.conference.type,message:e.conference.subject,confendpointid:e.conference.confendpointid,roomjid:e.conference.roomjid};if(r=this.conversationService.getConversationById(t.roomjid),this.$rootScope.$broadcast("ROOM_UPDATE_CONFID"),!r)return;n=r.addConferenceMessage(e.participant,e.date,e.messageId,t)}else if(e.replace)n=r.getMessageById(e.replace.id),n&&e.participant.jid!==n.from.jid?(a.default.warn("[ConversationServiceEventHandler] handleChatMessage : message Replaced by somebody else - Skip"),n=null):(n||(n=r.addChatMessage(e.participant,e.date,"",e.replace.id,null,e.markdown,e.subject,null,null,e.additionalContent)),n.addReplaceMsg(e.messageId,t),n.mentions=e.mentions,r.updateAfterReplaceEvent(n));else if(t.length>0){const t=e.answeredMsg?e.answeredMsg.text():null,o=e.answeredMsg?e.answeredMsg.attr("stamp"):null,i=e.alternativeContent.length>0?{type:e.alternativeContent.attr("type"),message:e.alternativeContent.text()}:null;if(n=r.addChatMessage(e.participant,e.date,e.body,e.messageId,null,e.markdown,e.subject,t,o,e.additionalContent,i,e.mentions,e.urgency),t){const e=r.getMessageById(t);e?(e.urgencyAck=!0,e.urgencyHandler&&e.urgencyHandler()):a.default.error("[ConversationServiceEventHandler] Not possible to handle answeredMsg because replied msg not found")}}n&&(n.isForwarded=!!e.isForwarded&&e.isForwarded,this.acknowledgeHandledChatMessage(e,r,n))}acknowledgeHandledChatMessage(e,t,n){if(a.default.info("[ConversationServiceEventHandler] acknowledgeHandledChatMessage"),!n)return n=t.getMessageById(e.messageId),void(t.room&&n&&n.side===r.Message.Side.RIGHT&&this.conversationService.sendAckReceivedMessage(t,n));n.side===r.Message.Side.LEFT?(t===this.conversationService.activeConversation&&"away"!==s.default.userContact.status&&this.$rootScope.appVisible&&!t.isFullScreenNoChat?this.conversationService.sendAckReadMessage(t,n):(this.conversationService.sendAckReceivedMessage(t,n),!e.offline&&e.convReady&&t.setMissedCounter(t.missedCounter+1)),n.isTextModified()&&(n.receiptStatus===r.Message.ReceiptStatus.READ&&this.conversationService.sendAckReadOrReceivedMessage(t,e.messageId,"read"),t.updateMessage(n))):(e.carbon?n.setReceiptStatus(r.Message.ReceiptStatus.SENT):n.setReceiptStatus(r.Message.ReceiptStatus.IN_PROGRESS),t.updateMessage(n)),t.setStatusMessage(e.participant,this.Conversation.Status.ACTIVE),this.$rootScope.$broadcast("ON_CONVERSATION_MESSAGE_RECEIVED",n,t,e.carbon),this.$rootScope.$broadcast("ON_CONVERSATIONS_UPDATED_EVENT",t)}handleReceiptReceiveMessage(e,t){a.default.info("[ConversationServiceEventHandler] handleReceiptReceiveMessage");const n=$(t).find("received[xmlns='urn:xmpp:receipts']");if(n.length){const o=$(n).attr("id"),i=e.getMessageById(o);if(i){let o=$(t).attr("from").split("/")[1];o||(o=$(t).attr("from"));const a=$(n).attr("event");(e.room&&s.default.isUserContactJid(o)||!e.room)&&("received"===a?i.setReceiptStatus(r.Message.ReceiptStatus.UNREAD):"read"===a&&(i.setReceiptStatus(r.Message.ReceiptStatus.READ),e.setMissedCounter(0))),s.default.isUserContactJid(o)&&"read"===a&&"L"===i.side&&e.setMissedCounter(0),e.updateMessage(i),this.$rootScope.$broadcast("ON_CONVERSATION_RECEIPT_RECEIVED",i,e,a),this.$rootScope.$broadcast("ON_CONVERSATIONS_UPDATED_EVENT",e)}else{const r=$(t).attr("from"),o=$(n).attr("event");let i="";r&&(i=r.split("/")[1]),i||(i=r),s.default.isUserContactJid(i)&&"read"===o&&(e.setMissedCounter(0),this.$rootScope.$broadcast("ON_CONVERSATIONS_UPDATED_EVENT",e))}}}handleStatusMessage(e,t,n){a.default.info("[conversationServiceEventHandler] handleStatusMessage ");let r="";r="thread"===$(n).children().prop("tagName")?this.Conversation.stringToStatus($($(n).children()[1]).prop("tagName")):this.Conversation.stringToStatus($(n).children().prop("tagName")),e.setStatusMessage(t,r),this.$rootScope.$broadcast("ON_CONVERSATIONS_STATUS_MESSAGE_EVENT",e,t,r)}onRecordingMessageReceived(e){a.default.info("[ConversationServiceEventHandler] onRecordingMessageReceived");try{const t=e.textContent;return this.extractStanzaData(e).then(e=>{if("start"===t){const n=e.conversation;n.addRecordingMessage(e.participant,e.date,t,e.messageId),n.setStatusMessage(e.participant,this.Conversation.Status.ACTIVE),n.videoCall&&(n.videoCall.isRecorded=!0),this.$rootScope.$broadcast("ON_CONVERSATIONS_UPDATED_EVENT",n),this.$rootScope.$broadcast("ON_RECORDING_START_MSG_RECEIVED")}else if("stop"===t){const n=e.conversation;n&&(n.addRecordingMessage(e.participant,e.date,t,e.messageId),n.videoCall&&(n.videoCall.isRecorded=!1)),this.$rootScope.$broadcast("ON_RECORDING_STOP_MSG_RECEIVED")}else"remoteStopVideo"===t?this.$rootScope.$broadcast("ON_RECORDING_REMOTESTOPVIDEO_MSG_RECEIVED"):"remoteChangeMediaVideo"===t?this.$rootScope.$broadcast("ON_RECORDING_REMOTECHANGEMEDIAVIDEO_MSG_RECEIVED"):"remoteStopSharing"===t?this.$rootScope.$broadcast("ON_RECORDING_REMOTESTOPSHARING_MSG_RECEIVED"):"remoteChangeMediaSharing"===t&&this.$rootScope.$broadcast("ON_RECORDING_REMOTECHANGEMEDIASHARING_MSG_RECEIVED")}),!0}catch(t){return a.default.error("[ConversationServiceEventHandler] onRecordingMessageReceived error "+t),!0}}}t.ConversationServiceEventHandler=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(11),o=n(24);class i{constructor(e,t,n,o,s,a=[],l=i.History.NONE,c={},u=null,d=null,f=!1,_=null,h="unlock",p=!1,m=[],g="",v=""){this.nameForLogs="",this.users=[],this.ownerContact=null,this.organizers=[],this.members=[],this.avatarContacts=[],this.owner=!1,this.isModerator=!1,this.status="none",this.rxSubject=new r.Subject,this.initPresPromise=null,this.initPresPromiseResolve=null,this.initPresInterval=null,this.initPresenceAck=!1,this.autoAcceptInvitation=!1,this.tags=[],this.foundByTag=!1,this.filterName=null,this.containerId="",this.containerName="",this.webinarId=null,this.dbId=e,this.jid=t,this.name=n,this.desc=o,this.creationDate=s,this.type=i.Type.PRIVATE,this.history=l,this.customData=c,this.confEndpoints=a,this.conference=u,this.avatar=d,this.isActive=f,this.lastActivityDate=_,this.autoRegister=h,this.autoAcceptInvitation=p,this.tags=m,this.containerId=g||"",this.autoAcceptInvitation=p,this.tags=m,this.containerId=g||"",this.containerName=v||""}static create(e,t,n,r,o,s,a,l,c,u,d,f=null,_="unlock",h=!1,p=[],m="",g=""){const v=new i(e,t,n,r,o,s,a,l,c,u,d,f,_,h,p,m,g);return v.lastActivityDate=f,v}toString(){return"Room "+this.dbId+" "+this.name+" "+this.jid}getCreationDate(){return this.creationDate?new Date(this.creationDate):new Date}getLastActivityDate(){return this.lastActivityDate?new Date(this.lastActivityDate):this.getCreationDate()}subscribe(e){return this.rxSubject.subscribe(e)}updateAvatarInfo(){if(this.avatar)return;const e=[],t=this.users.slice();t.sort((e,t)=>new Date(e.date)>new Date(t.date)?1:new Date(e.date)<new Date(t.date)?-1:0);for(let n=0;n<t.length;n++){const r=t[n].contact,o=t[n].status;if(!(this.ownerContact&&r.dbId===this.ownerContact.dbId||r.isAnonymousGuest()||r.isBadGuest()||r.isTerminated)&&(!this.owner&&!this.isModerator||"accepted"!==o&&"invited"!==o?"accepted"===o&&e.push(r):e.push(r),5===e.length))break}this.avatarContacts=e,this.rxSubject&&this.rxSubject.next(o.RBEvent.create("updateAvatarInfo",this.avatarContacts))}isUserOwner(e){return!!e&&this.ownerContact&&this.ownerContact.jid===e.jid}isUserModerator(e){return void 0!==this.getOrganizerFromContactJid(e.jid)}isUserStatusAccepted(e){const t=this.getUserByJid(e.jid);return void 0!==t&&"accepted"===t.status}isUserStatusAcceptedOrInvited(e){const t=this.getUserByJid(e.jid);return void 0!==t&&("accepted"===t.status||"invited"===t.status)}isUserStillBelongToRoom(e){const t=this.getUserByJid(e);return!t||"unsubscribed"!==t.status&&"deleted"!==t.status}getOrganizerFromContactJid(e){let t;return this.organizers.forEach(n=>{n.contact.jid===e&&(t=n)}),t}getUserByJid(e){for(let t=0;t<this.users.length;t++)if(e===this.users[t].contact.jid)return this.users[t];return null}getPstnConfEndpointId(){if(this.confEndpoints&&this.confEndpoints.length)for(let e=0;e<this.confEndpoints.length;e++)if("pstnAudio"===this.confEndpoints[e].mediaType)return this.confEndpoints[e].confEndpointId;return null}getSFUConfEndpointId(){if(this.confEndpoints&&this.confEndpoints.length)for(let e=0;e<this.confEndpoints.length;e++)if("webrtc"===this.confEndpoints[e].mediaType)return this.confEndpoints[e].confEndpointId;return null}getSFUSharingConfEndpointId(){if(this.confEndpoints&&this.confEndpoints.length)for(let e=0;e<this.confEndpoints.length;e++)if("webrtcSharingOnly"===this.confEndpoints[e].mediaType)return this.confEndpoints[e].confEndpointId;return null}isMyPersonalMeetingRoom(){return this.conference&&"pstnAudio"===this.conference.mediaType&&!this.conference.scheduled&&this.conference.personalMeeting&&this.owner}isMeetingRoom(){return this.conference&&"pstnAudio"===this.conference.mediaType}isWebinarRoom(){return this.conference&&this.conference.webinarId}isWebConferenceRoom(){return this.conference&&"pstnAudio"!==this.conference.mediaType&&null!==this.getSFUConfEndpointId()}isMeetingOrWebConferenceRoom(){return this.isMeetingRoom()||null!==this.getSFUConfEndpointId()}getNameForLogs(){if(!this.nameForLogs&&this.name){const e=this.name.replace(/[^\s](?=.{1,}$)/g,"*");this.nameForLogs=this.name.charAt(0)+e.substr(1)}return this.nameForLogs}getAutoRegister(){return this.autoRegister?this.autoRegister:"unlock"}setAutoRegister(e){this.autoRegister=e}getAutoAcceptInvitation(){return this.autoAcceptInvitation}setAutoAcceptInvitation(e){this.autoAcceptInvitation=e}getMuteUponEntry(){return this.conference?this.conference.muteUponEntry:"false"}setMuteUponEntry(e){this.conference&&(this.conference.muteUponEntry=e)}getDisableTimeStats(){return this.conference?this.conference.disableTimeStats:"false"}setDisableTimeStats(e){this.conference&&(this.conference.disableTimeStats=e)}getPlayEntryTone(){return this.conference?this.conference.playEntryTone:"true"}setPlayEntryTone(e){this.conference&&(this.conference.playEntryTone=e)}getAllAcceptedMembers(){return this.members.filter(e=>!e.contact.isBadGuest()&&!e.contact.isAnonymousGuest()&&!e.contact.isTerminated&&"accepted"===e.status)}getAllAcceptedUsers(){return this.users.filter(e=>!e.contact.isBadGuest()&&!e.contact.isAnonymousGuest()&&!e.contact.isTerminated&&"accepted"===e.status)}getTagColor(e){const t=this.tags.findIndex(t=>t.tag===e);return t>-1?this.tags[t].color:"#ff9900"}}i.Type={PRIVATE:0,PUBLIC:1},i.Privilege={USER:"user",MODERATOR:"moderator",GUEST:"guest"},i.History={ALL:"all",NONE:"none"},t.Room=i},function(e,t,n){var r,o,i,s,a;
/*! Moment Duration Format v2.2.2
 *  https://github.com/jsmreese/moment-duration-format
 *  Date: 2018-02-16
 *
 *  Duration format plugin function for the Moment.js library
 *  http://momentjs.com/
 *
 *  Copyright 2018 John Madhavan-Reese
 *  Released under the MIT license
 */s=this,a=function(e){var t=!1,n=!1,r=!1,o=!1,i="escape years months weeks days hours minutes seconds milliseconds general".split(" "),s=[{type:"seconds",targets:[{type:"minutes",value:60},{type:"hours",value:3600},{type:"days",value:86400},{type:"weeks",value:604800},{type:"months",value:2678400},{type:"years",value:31536e3}]},{type:"minutes",targets:[{type:"hours",value:60},{type:"days",value:1440},{type:"weeks",value:10080},{type:"months",value:44640},{type:"years",value:525600}]},{type:"hours",targets:[{type:"days",value:24},{type:"weeks",value:168},{type:"months",value:744},{type:"years",value:8760}]},{type:"days",targets:[{type:"weeks",value:7},{type:"months",value:31},{type:"years",value:365}]},{type:"months",targets:[{type:"years",value:12}]}];function a(e,t){return!(t.length>e.length)&&-1!==e.indexOf(t)}function l(e){for(var t="";e;)t+="0",e-=1;return t}function c(e,t){var n=e+"+"+v(T(t).sort(),(function(e){return e+":"+t[e]})).join(",");return c.cache[n]||(c.cache[n]=Intl.NumberFormat(e,t)),c.cache[n]}function u(e,t,i){var s,a,d,f=t.useToLocaleString,_=t.useGrouping,h=_&&t.grouping.slice(),p=t.maximumSignificantDigits,m=t.minimumIntegerDigits||1,g=t.fractionDigits||0,v=t.groupingSeparator,b=t.decimalSeparator;if(f&&i){var D,y={minimumIntegerDigits:m,useGrouping:_};return g&&(y.maximumFractionDigits=g,y.minimumFractionDigits=g),p&&e>0&&(y.maximumSignificantDigits=p),r?(o||((D=w({},t)).useGrouping=!1,D.decimalSeparator=".",e=parseFloat(u(e,D),10)),c(i,y).format(e)):(n||((D=w({},t)).useGrouping=!1,D.decimalSeparator=".",e=parseFloat(u(e,D),10)),e.toLocaleString(i,y))}var C=(p?e.toPrecision(p+1):e.toFixed(g+1)).split("e");d=C[1]||"",a=(C=C[0].split("."))[1]||"";var S=(s=C[0]||"").length,E=a.length,T=S+E,M=s+a;(p&&T===p+1||!p&&E===g+1)&&((M=function(e){for(var t=e.split("").reverse(),n=0,r=!0;r&&n<t.length;)n?"9"===t[n]?t[n]="0":(t[n]=(parseInt(t[n],10)+1).toString(),r=!1):(parseInt(t[n],10)<5&&(r=!1),t[n]="0"),n+=1;return r&&t.push("1"),t.reverse().join("")}(M)).length===T+1&&(S+=1),E&&(M=M.slice(0,-1)),s=M.slice(0,S),a=M.slice(S)),p&&(a=a.replace(/0*$/,""));var j=parseInt(d,10);j>0?a.length<=j?(s+=a+=l(j-a.length),a=""):(s+=a.slice(0,j),a=a.slice(j)):j<0&&(a=l(Math.abs(j)-s.length)+s+a,s="0"),p||((a=a.slice(0,g)).length<g&&(a+=l(g-a.length)),s.length<m&&(s=l(m-s.length)+s));var k,O="";if(_)for(C=s;C.length;)h.length&&(k=h.shift()),O&&(O=v+O),O=C.slice(-k)+O,C=C.slice(0,-k);else O=s;return a&&(O=O+b+a),O}function d(e,t){return e.label.length>t.label.length?-1:e.label.length<t.label.length?1:0}function f(e,t){var n=[];return g(T(t),(function(r){if("_durationLabels"===r.slice(0,15)){var o=r.slice(15).toLowerCase();g(T(t[r]),(function(i){i.slice(0,1)===e&&n.push({type:o,key:i,label:t[r][i]})}))}})),n}c.cache={};var _={durationLabelsStandard:{S:"millisecond",SS:"milliseconds",s:"second",ss:"seconds",m:"minute",mm:"minutes",h:"hour",hh:"hours",d:"day",dd:"days",w:"week",ww:"weeks",M:"month",MM:"months",y:"year",yy:"years"},durationLabelsShort:{S:"msec",SS:"msecs",s:"sec",ss:"secs",m:"min",mm:"mins",h:"hr",hh:"hrs",d:"dy",dd:"dys",w:"wk",ww:"wks",M:"mo",MM:"mos",y:"yr",yy:"yrs"},durationTimeTemplates:{HMS:"h:mm:ss",HM:"h:mm",MS:"m:ss"},durationLabelTypes:[{type:"standard",string:"__"},{type:"short",string:"_"}],durationPluralKey:function(e,t,n){return 1===t&&null===n?e:e+e}};function h(e){return"[object Array]"===Object.prototype.toString.call(e)}function p(e){return"[object Object]"===Object.prototype.toString.call(e)}function m(e,t){var n,r=0,o=e&&e.length||0;for("function"!=typeof t&&(n=t,t=function(e){return e===n});r<o;){if(t(e[r]))return e[r];r+=1}}function g(e,t){var n=0,r=e.length;if(e&&r)for(;n<r;){if(!1===t(e[n],n))return;n+=1}}function v(e,t){var n=0,r=e.length,o=[];if(!e||!r)return o;for(;n<r;)o[n]=t(e[n],n),n+=1;return o}function b(e,t){return v(e,(function(e){return e[t]}))}function D(e){var t=[];return g(e,(function(e){e&&t.push(e)})),t}function y(e){var t=[];return g(e,(function(e){m(t,e)||t.push(e)})),t}function C(e,t){var n=[];return g(e,(function(e){g(t,(function(t){e===t&&n.push(e)}))})),y(n)}function S(e,t){var n=[];return g(e,(function(r,o){if(!t(r))return n=e.slice(o),!1})),n}function E(e,t){return S(e.slice().reverse(),t).reverse()}function w(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function T(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function M(e,t){var n=0,r=e.length;if(!e||!r)return!1;for(;n<r;){if(!0===t(e[n],n))return!0;n+=1}return!1}function j(e){var t=[];return g(e,(function(e){t=t.concat(e)})),t}function k(e){return"3.6"===e(3.55,"en",{useGrouping:!1,minimumIntegerDigits:1,minimumFractionDigits:1,maximumFractionDigits:1})}function O(e){var t=!0;return!!((t=(t=(t=t&&"1"===e(1,"en",{minimumIntegerDigits:1}))&&"01"===e(1,"en",{minimumIntegerDigits:2}))&&"001"===e(1,"en",{minimumIntegerDigits:3}))&&(t=(t=(t=(t=t&&"100"===e(99.99,"en",{maximumFractionDigits:0,minimumFractionDigits:0}))&&"100.0"===e(99.99,"en",{maximumFractionDigits:1,minimumFractionDigits:1}))&&"99.99"===e(99.99,"en",{maximumFractionDigits:2,minimumFractionDigits:2}))&&"99.990"===e(99.99,"en",{maximumFractionDigits:3,minimumFractionDigits:3}))&&(t=(t=(t=(t=(t=t&&"100"===e(99.99,"en",{maximumSignificantDigits:1}))&&"100"===e(99.99,"en",{maximumSignificantDigits:2}))&&"100"===e(99.99,"en",{maximumSignificantDigits:3}))&&"99.99"===e(99.99,"en",{maximumSignificantDigits:4}))&&"99.99"===e(99.99,"en",{maximumSignificantDigits:5}))&&(t=(t=t&&"1,000"===e(1e3,"en",{useGrouping:!0}))&&"1000"===e(1e3,"en",{useGrouping:!1})))}function A(){var e,t=[].slice.call(arguments),n={};if(g(t,(function(t,r){if(!r){if(!h(t))throw"Expected array as the first argument to durationsFormat.";e=t}"string"!=typeof t&&"function"!=typeof t?"number"!=typeof t?p(t)&&w(n,t):n.precision=t:n.template=t})),!e||!e.length)return[];n.returnMomentTypes=!0;var r=v(e,(function(e){return e.format(n)})),o=C(i,y(b(j(r),"type"))),s=n.largest;return s&&(o=o.slice(0,s)),n.returnMomentTypes=!1,n.outputTypes=o,v(e,(function(e){return e.format(n)}))}function I(){var n=[].slice.call(arguments),o=w({},this.format.defaults),l=this.asMilliseconds(),c=this.asMonths();"function"==typeof this.isValid&&!1===this.isValid()&&(l=0,c=0);var j=l<0,k=e.duration(Math.abs(l),"milliseconds"),O=e.duration(Math.abs(c),"months");g(n,(function(e){"string"!=typeof e&&"function"!=typeof e?"number"!=typeof e?p(e)&&w(o,e):o.precision=e:o.template=e}));var A={years:"y",months:"M",weeks:"w",days:"d",hours:"h",minutes:"m",seconds:"s",milliseconds:"S"},I={escape:/\[(.+?)\]/,years:/\*?[Yy]+/,months:/\*?M+/,weeks:/\*?[Ww]+/,days:/\*?[Dd]+/,hours:/\*?[Hh]+/,minutes:/\*?m+/,seconds:/\*?s+/,milliseconds:/\*?S+/,general:/.+?/};o.types=i;var P=function(e){return m(i,(function(t){return I[t].test(e)}))},x=new RegExp(v(i,(function(e){return I[e].source})).join("|"),"g");o.duration=this;var R="function"==typeof o.template?o.template.apply(o):o.template,F=o.outputTypes,L=o.returnMomentTypes,N=o.largest,B=[];F||(h(o.stopTrim)&&(o.stopTrim=o.stopTrim.join("")),o.stopTrim&&g(o.stopTrim.match(x),(function(e){var t=P(e);"escape"!==t&&"general"!==t&&B.push(t)})));var U=e.localeData();U||(U={}),g(T(_),(function(e){"function"!=typeof _[e]?U["_"+e]||(U["_"+e]=_[e]):U[e]||(U[e]=_[e])})),g(T(U._durationTimeTemplates),(function(e){R=R.replace("_"+e+"_",U._durationTimeTemplates[e])}));var H=o.userLocale||e.locale(),W=o.useLeftUnits,Y=o.usePlural,$=o.precision,q=o.forceLength,G=o.useGrouping,V=o.trunc,z=o.useSignificantDigits&&$>0,K=z?o.precision:0,J=K,Q=o.minValue,X=!1,Z=o.maxValue,ee=!1,te=o.useToLocaleString,ne=o.groupingSeparator,re=o.decimalSeparator,oe=o.grouping;te=te&&(t||r);var ie=o.trim;h(ie)&&(ie=ie.join(" ")),null===ie&&(N||Z||z)&&(ie="all"),null!==ie&&!0!==ie&&"left"!==ie&&"right"!==ie||(ie="large"),!1===ie&&(ie="");var se=function(e){return e.test(ie)},ae=/large/,le=/small/,ce=/both/,ue=/mid/,de=/^all|[^sm]all/,fe=/final/,_e=N>0||M([ae,ce,de],se),he=M([le,ce,de],se),pe=M([ue,de],se),me=M([fe,de],se),ge=v(R.match(x),(function(e,t){var n=P(e);return"*"===e.slice(0,1)&&(e=e.slice(1),"escape"!==n&&"general"!==n&&B.push(n)),{index:t,length:e.length,text:"",token:"escape"===n?e.replace(I.escape,"$1"):e,type:"escape"===n||"general"===n?null:n}})),ve={index:0,length:0,token:"",text:"",type:null},be=[];W&&ge.reverse(),g(ge,(function(e){if(e.type)return(ve.type||ve.text)&&be.push(ve),void(ve=e);W?ve.text=e.token+ve.text:ve.text+=e.token})),(ve.type||ve.text)&&be.push(ve),W&&be.reverse();var De=C(i,y(D(b(be,"type"))));if(!De.length)return b(be,"text").join("");De=v(De,(function(e,t){var n,r=t+1===De.length,i=!t;n="years"===e||"months"===e?O.as(e):k.as(e);var s=Math.floor(n),a=n-s,l=m(be,(function(t){return e===t.type}));return i&&Z&&n>Z&&(ee=!0),r&&Q&&Math.abs(o.duration.as(e))<Q&&(X=!0),i&&null===q&&l.length>1&&(q=!0),k.subtract(s,e),O.subtract(s,e),{rawValue:n,wholeValue:s,decimalValue:r?a:0,isSmallest:r,isLargest:i,type:e,tokenLength:l.length}}));var ye=V?Math.floor:Math.round,Ce=function(e,t){var n=Math.pow(10,t);return ye(e*n)/n},Se=!1,Ee=!1,we=function(e,t){var n={useGrouping:G,groupingSeparator:ne,decimalSeparator:re,grouping:oe,useToLocaleString:te};return z&&(K<=0?(e.rawValue=0,e.wholeValue=0,e.decimalValue=0):(n.maximumSignificantDigits=K,e.significantDigits=K)),ee&&!Ee&&(e.isLargest?(e.wholeValue=Z,e.decimalValue=0):(e.wholeValue=0,e.decimalValue=0)),X&&!Ee&&(e.isSmallest?(e.wholeValue=Q,e.decimalValue=0):(e.wholeValue=0,e.decimalValue=0)),e.isSmallest||e.significantDigits&&e.significantDigits-e.wholeValue.toString().length<=0?$<0?e.value=Ce(e.wholeValue,$):0===$?e.value=ye(e.wholeValue+e.decimalValue):z?(e.value=V?Ce(e.rawValue,K-e.wholeValue.toString().length):e.rawValue,e.wholeValue&&(K-=e.wholeValue.toString().length)):(n.fractionDigits=$,e.value=V?e.wholeValue+Ce(e.decimalValue,$):e.wholeValue+e.decimalValue):z&&e.wholeValue?(e.value=Math.round(Ce(e.wholeValue,e.significantDigits-e.wholeValue.toString().length)),K-=e.wholeValue.toString().length):e.value=e.wholeValue,e.tokenLength>1&&(q||Se)&&(n.minimumIntegerDigits=e.tokenLength,Ee&&n.maximumSignificantDigits<e.tokenLength&&delete n.maximumSignificantDigits),!Se&&(e.value>0||""===ie||m(B,e.type)||m(F,e.type))&&(Se=!0),e.formattedValue=u(e.value,n,H),n.useGrouping=!1,n.decimalSeparator=".",e.formattedValueEn=u(e.value,n,"en"),2===e.tokenLength&&"milliseconds"===e.type&&(e.formattedValueMS=u(e.value,{minimumIntegerDigits:3,useGrouping:!1},"en").slice(0,2)),e};if((De=D(De=v(De,we))).length>1){var Te=function(e){return m(De,(function(t){return t.type===e}))},Me=function(e){var t=Te(e.type);t&&g(e.targets,(function(e){var n=Te(e.type);n&&parseInt(t.formattedValueEn,10)===e.value&&(t.rawValue=0,t.wholeValue=0,t.decimalValue=0,n.rawValue+=1,n.wholeValue+=1,n.decimalValue=0,n.formattedValueEn=n.wholeValue.toString(),Ee=!0)}))};g(s,Me)}return Ee&&(Se=!1,K=J,De=D(De=v(De,we))),!F||ee&&!o.trim?(_e&&(De=S(De,(function(e){return!e.isSmallest&&!e.wholeValue&&!m(B,e.type)}))),N&&De.length&&(De=De.slice(0,N)),he&&De.length>1&&(De=E(De,(function(e){return!e.wholeValue&&!m(B,e.type)&&!e.isLargest}))),pe&&(De=D(De=v(De,(function(e,t){return t>0&&t<De.length-1&&!e.wholeValue?null:e})))),!me||1!==De.length||De[0].wholeValue||!V&&De[0].isSmallest&&De[0].rawValue<Q||(De=[])):De=D(De=v(De,(function(e){return m(F,(function(t){return e.type===t}))?e:null}))),L?De:(g(be,(function(e){var t=A[e.type],n=m(De,(function(t){return t.type===e.type}));if(t&&n){var r=n.formattedValueEn.split(".");r[0]=parseInt(r[0],10),r[1]?r[1]=parseFloat("0."+r[1],10):r[1]=null;var o=U.durationPluralKey(t,r[0],r[1]),i=f(t,U),s=!1,l={};g(U._durationLabelTypes,(function(t){var n=m(i,(function(e){return e.type===t.type&&e.key===o}));n&&(l[n.type]=n.label,a(e.text,t.string)&&(e.text=e.text.replace(t.string,n.label),s=!0))})),Y&&!s&&(i.sort(d),g(i,(function(t){return l[t.type]===t.label?!a(e.text,t.label)&&void 0:a(e.text,t.label)?(e.text=e.text.replace(t.label,l[t.type]),!1):void 0})))}})),(be=v(be,(function(e){if(!e.type)return e.text;var t=m(De,(function(t){return t.type===e.type}));if(!t)return"";var n="";return W&&(n+=e.text),(j&&ee||!j&&X)&&(n+="< ",ee=!1,X=!1),(j&&X||!j&&ee)&&(n+="> ",ee=!1,X=!1),j&&(t.value>0||""===ie||m(B,t.type)||m(F,t.type))&&(n+="-",j=!1),"milliseconds"===e.type&&t.formattedValueMS?n+=t.formattedValueMS:n+=t.formattedValue,W||(n+=e.text),n}))).join("").replace(/(,| |:|\.)*$/,"").replace(/^(,| |:|\.)*/,""))}function P(){var e=this.duration,t=function(t){return e._data[t]},n=m(this.types,t),r=function(e,t){for(var n=e.length;n-=1;)if(t(e[n]))return e[n]}(this.types,t);switch(n){case"milliseconds":return"S __";case"seconds":case"minutes":return"*_MS_";case"hours":return"_HMS_";case"days":if(n===r)return"d __";case"weeks":return n===r?"w __":(null===this.trim&&(this.trim="both"),"w __, d __, h __");case"months":if(n===r)return"M __";case"years":return n===r?"y __":(null===this.trim&&(this.trim="both"),"y __, M __, d __");default:return null===this.trim&&(this.trim="both"),"y __, d __, h __, m __, s __"}}function x(e){if(!e)throw"Moment Duration Format init cannot find moment instance.";e.duration.format=A,e.duration.fn.format=I,e.duration.fn.format.defaults={trim:null,stopTrim:null,largest:null,maxValue:null,minValue:null,precision:0,trunc:!1,forceLength:null,userLocale:null,usePlural:!0,useLeftUnits:!1,useGrouping:!0,useSignificantDigits:!1,template:P,useToLocaleString:!0,groupingSeparator:",",decimalSeparator:".",grouping:[3]},e.updateLocale("en",_)}var R=function(e,t,n){return e.toLocaleString(t,n)};t=function(){try{(0).toLocaleString("i")}catch(e){return"RangeError"===e.name}return!1}()&&O(R),n=t&&k(R);var F=function(e,t,n){if("undefined"!=typeof window&&window&&window.Intl&&window.Intl.NumberFormat)return window.Intl.NumberFormat(t,n).format(e)};return r=O(F),o=r&&k(F),x(e),x},o=[n(4)],void 0===(i="function"==typeof(r=a)?r.apply(t,o):r)||(e.exports=i),s&&(s.momentDurationFormatSetup=s.moment?a(s.moment):a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t,n,r,o,i,s,a,l,c,u,d){this.participantId=e,this.userId=t,this.jid_im=n,this.jid_tel=r,this.participantRole=o,this.mute=i,this.held=s,this.confStartDate=a,this.startDate=l,this.phoneNumber=c,this.participantState=u,this.delegateCapability=d}static createFromData(e){return new r(e.participantId,e.userId,e.jid_im,e.jid_tel,e.participantRole,e.mute,e.held,e.confStartDate,e.startDate,e.phoneNumber,e.participantState,e.delegateCapability)}updateFromData(e){e.participantId&&(this.participantId=e.participantId),e.userId&&(this.userId=e.userId),this.jid_im=e.jid_im,e.jid_tel&&(this.jid_tel=e.jid_tel),this.participantRole=e.participantRole,this.mute=e.mute,this.held=e.held,this.confStartDate=e.confStartDate,this.startDate=e.startDate,this.phoneNumber=e.phoneNumber,this.participantState=e.participantState,this.delegateCapability=e.delegateCapability}}t.ConferenceParticipant=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(55),o=n(45);t.scheduleArray=function(e,t){return new r.Observable((function(n){var r=new o.Subscription,i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},function(e,t,n){(function(e){!function(t){var n,r=void 0!==e&&e,o="undefined"!=typeof Uint8Array&&Uint8Array,i="undefined"!=typeof ArrayBuffer&&ArrayBuffer,s=[0,0,0,0,0,0,0,0],a=Array.isArray||function(e){return!!e&&"[object Array]"==Object.prototype.toString.call(e)},l=4294967296;function c(e,a,c){var D=a?0:4,y=a?4:0,C=a?0:3,S=a?1:2,E=a?2:1,w=a?3:0,T=a?m:v,M=a?g:b,j=A.prototype,k="is"+e,O="_"+k;return j.buffer=void 0,j.offset=0,j[O]=!0,j.toNumber=I,j.toString=function(e){var t=this.buffer,n=this.offset,r=x(t,n+D),o=x(t,n+y),i="",s=!c&&2147483648&r;for(s&&(r=~r,o=l-o),e=e||10;;){var a=r%e*l+o;if(r=Math.floor(r/e),o=Math.floor(a/e),i=(a%e).toString(e)+i,!r&&!o)break}return s&&(i="-"+i),i},j.toJSON=I,j.toArray=u,r&&(j.toBuffer=d),o&&(j.toArrayBuffer=f),A[k]=function(e){return!(!e||!e[O])},t[e]=A,A;function A(e,t,r,a){return this instanceof A?function(e,t,r,a,c){o&&i&&(t instanceof i&&(t=new o(t)),a instanceof i&&(a=new o(a))),t||r||a||n?(_(t,r)||(c=r,a=t,r=0,t=new(n||Array)(8)),e.buffer=t,e.offset=r|=0,void 0!==a&&("string"==typeof a?function(e,t,n,r){var o=0,i=n.length,s=0,a=0;"-"===n[0]&&o++;for(var c=o;o<i;){var u=parseInt(n[o++],r);if(!(u>=0))break;a=a*r+u,s=s*r+Math.floor(a/l),a%=l}c&&(s=~s,a?a=l-a:s++),P(e,t+D,s),P(e,t+y,a)}(t,r,a,c||10):_(a,c)?h(t,r,a,c):"number"==typeof c?(P(t,r+D,a),P(t,r+y,c)):a>0?T(t,r,a):a<0?M(t,r,a):h(t,r,s,0))):e.buffer=p(s,0)}(this,e,t,r,a):new A(e,t,r,a)}function I(){var e=this.buffer,t=this.offset,n=x(e,t+D),r=x(e,t+y);return c||(n|=0),n?n*l+r:r}function P(e,t,n){e[t+w]=255&n,n>>=8,e[t+E]=255&n,n>>=8,e[t+S]=255&n,n>>=8,e[t+C]=255&n}function x(e,t){return 16777216*e[t+C]+(e[t+S]<<16)+(e[t+E]<<8)+e[t+w]}}function u(e){var t=this.buffer,r=this.offset;return n=null,!1!==e&&0===r&&8===t.length&&a(t)?t:p(t,r)}function d(t){var o=this.buffer,i=this.offset;if(n=r,!1!==t&&0===i&&8===o.length&&e.isBuffer(o))return o;var s=new r(8);return h(s,0,o,i),s}function f(e){var t=this.buffer,r=this.offset,s=t.buffer;if(n=o,!1!==e&&0===r&&s instanceof i&&8===s.byteLength)return s;var a=new o(8);return h(a,0,t,r),a.buffer}function _(e,t){var n=e&&e.length;return t|=0,n&&t+8<=n&&"string"!=typeof e[t]}function h(e,t,n,r){t|=0,r|=0;for(var o=0;o<8;o++)e[t++]=255&n[r++]}function p(e,t){return Array.prototype.slice.call(e,t,t+8)}function m(e,t,n){for(var r=t+8;r>t;)e[--r]=255&n,n/=256}function g(e,t,n){var r=t+8;for(n++;r>t;)e[--r]=255&-n^255,n/=256}function v(e,t,n){for(var r=t+8;t<r;)e[t++]=255&n,n/=256}function b(e,t,n){var r=t+8;for(n++;t<r;)e[t++]=255&-n^255,n/=256}c("Uint64BE",!0,!0),c("Int64BE",!0,!1),c("Uint64LE",!1,!0),c("Int64LE",!1,!1)}("string"!=typeof t.nodeName?t:this||{})}).call(this,n(57).Buffer)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(48),o=n(48),i=n(232).byEbmlID,s=function(){function e(){this._schema=i,this._buffers=[],this._stack=[]}return e.prototype.encode=function(e){var t=this;return r.concat(e.reduce((function(e,n){return e.concat(t.encodeChunk(n))}),[])).buffer},e.prototype.encodeChunk=function(e){return"m"===e.type?e.isEnd?this.endTag(e):this.startTag(e):this.writeTag(e),this.flush()},e.prototype.flush=function(){var e=this._buffers;return this._buffers=[],e},e.prototype.getSchemaInfo=function(e){for(var t=Object.keys(this._schema).map(Number),n=0;n<t.length;n++){var r=t[n];if(this._schema[r].name===e)return new o.Buffer(r.toString(16),"hex")}return null},e.prototype.writeTag=function(e){var t=e.name,n=this.getSchemaInfo(t),o=e.data;if(null==n)throw new Error("No schema entry found for "+t);var i=r.encodeTag(n,o);this._stack.length>0?this._stack[this._stack.length-1].children.push({tagId:n,elm:e,children:[],data:i}):this._buffers=this._buffers.concat(i)},e.prototype.startTag=function(e){var t=e.name,n=this.getSchemaInfo(t);if(null==n)throw new Error("No schema entry found for "+t);if(e.unknownSize){var i=r.encodeTag(n,new o.Buffer(0),e.unknownSize);this._buffers=this._buffers.concat(i)}else{var s={tagId:n,elm:e,children:[],data:null};this._stack.length>0&&this._stack[this._stack.length-1].children.push(s),this._stack.push(s)}},e.prototype.endTag=function(e){e.name;var t=this._stack.pop();if(null==t)throw new Error("EBML structure is broken");if(t.elm.name!==e.name)throw new Error("EBML structure is broken");var n=t.children.reduce((function(e,t){if(null===t.data)throw new Error("EBML structure is broken");return e.concat(t.data)}),[]),o=r.concat(n);"m"===t.elm.type?t.data=r.encodeTag(t.tagId,o,t.elm.unknownSize):t.data=r.encodeTag(t.tagId,o),this._stack.length<1&&(this._buffers=this._buffers.concat(t.data))},e}();t.default=s},function(e,t,n){var r={128:{name:"ChapterDisplay",level:4,type:"m",multiple:!0,minver:1,webm:!0,description:"Contains all possible strings to use for the chapter display."},131:{name:"TrackType",level:3,type:"u",mandatory:!0,minver:1,range:"1-254",description:"A set of track types coded on 8 bits (1: video, 2: audio, 3: complex, 0x10: logo, 0x11: subtitle, 0x12: buttons, 0x20: control)."},133:{name:"ChapString",cppname:"ChapterString",level:5,type:"8",mandatory:!0,minver:1,webm:!0,description:"Contains the string to use as the chapter atom."},134:{name:"CodecID",level:3,type:"s",mandatory:!0,minver:1,description:"An ID corresponding to the codec, see the codec page for more info."},136:{name:"FlagDefault",cppname:"TrackFlagDefault",level:3,type:"u",mandatory:!0,minver:1,default:1,range:"0-1",description:"Set if that track (audio, video or subs) SHOULD be active if no language found matches the user preference. (1 bit)"},137:{name:"ChapterTrackNumber",level:5,type:"u",mandatory:!0,multiple:!0,minver:1,webm:!1,range:"not 0",description:"UID of the Track to apply this chapter too. In the absense of a control track, choosing this chapter will select the listed Tracks and deselect unlisted tracks. Absense of this element indicates that the Chapter should be applied to any currently used Tracks."},145:{name:"ChapterTimeStart",level:4,type:"u",mandatory:!0,minver:1,webm:!0,description:"Timestamp of the start of Chapter (not scaled)."},146:{name:"ChapterTimeEnd",level:4,type:"u",minver:1,webm:!1,description:"Timestamp of the end of Chapter (timestamp excluded, not scaled)."},150:{name:"CueRefTime",level:5,type:"u",mandatory:!0,minver:2,webm:!1,description:"Timestamp of the referenced Block."},151:{name:"CueRefCluster",level:5,type:"u",mandatory:!0,webm:!1,description:"The Position of the Cluster containing the referenced Block."},152:{name:"ChapterFlagHidden",level:4,type:"u",mandatory:!0,minver:1,webm:!1,default:0,range:"0-1",description:"If a chapter is hidden (1), it should not be available to the user interface (but still to Control Tracks; see flag notes). (1 bit)"},16980:{name:"ContentCompAlgo",level:6,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"The compression algorithm used. Algorithms that have been specified so far are: 0 - zlib,   3 - Header Stripping"},16981:{name:"ContentCompSettings",level:6,type:"b",minver:1,webm:!1,description:"Settings that might be needed by the decompressor. For Header Stripping (ContentCompAlgo=3), the bytes that were removed from the beggining of each frames of the track."},17026:{name:"DocType",level:1,type:"s",mandatory:!0,default:"matroska",minver:1,description:"A string that describes the type of document that follows this EBML header. 'matroska' in our case or 'webm' for webm files."},17029:{name:"DocTypeReadVersion",level:1,type:"u",mandatory:!0,default:1,minver:1,description:"The minimum DocType version an interpreter has to support to read this file."},17030:{name:"EBMLVersion",level:1,type:"u",mandatory:!0,default:1,minver:1,description:"The version of EBML parser used to create the file."},17031:{name:"DocTypeVersion",level:1,type:"u",mandatory:!0,default:1,minver:1,description:"The version of DocType interpreter used to create the file."},17476:{name:"SegmentFamily",level:2,type:"b",multiple:!0,minver:1,webm:!1,bytesize:16,description:"A randomly generated unique ID that all segments related to each other must use (128 bits)."},17505:{name:"DateUTC",level:2,type:"d",minver:1,description:"Date of the origin of timestamp (value 0), i.e. production date."},17540:{name:"TagDefault",level:4,type:"u",mandatory:!0,minver:1,webm:!1,default:1,range:"0-1",description:"Indication to know if this is the default/original language to use for the given tag. (1 bit)"},17541:{name:"TagBinary",level:4,type:"b",minver:1,webm:!1,description:"The values of the Tag if it is binary. Note that this cannot be used in the same SimpleTag as TagString."},17543:{name:"TagString",level:4,type:"8",minver:1,webm:!1,description:"The value of the Element."},17545:{name:"Duration",level:2,type:"f",minver:1,range:"> 0",description:"Duration of the segment (based on TimecodeScale)."},17816:{name:"ChapterFlagEnabled",level:4,type:"u",mandatory:!0,minver:1,webm:!1,default:1,range:"0-1",description:"Specify wether the chapter is enabled. It can be enabled/disabled by a Control Track. When disabled, the movie should skip all the content between the TimeStart and TimeEnd of this chapter (see flag notes). (1 bit)"},18016:{name:"FileMimeType",level:3,type:"s",mandatory:!0,minver:1,webm:!1,description:"MIME type of the file."},18017:{name:"FileUsedStartTime",level:3,type:"u",divx:!0,description:"DivX font extension"},18018:{name:"FileUsedEndTime",level:3,type:"u",divx:!0,description:"DivX font extension"},18037:{name:"FileReferral",level:3,type:"b",webm:!1,description:"A binary value that a track/codec can refer to when the attachment is needed."},20529:{name:"ContentEncodingOrder",level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"Tells when this modification was used during encoding/muxing starting with 0 and counting upwards. The decoder/demuxer has to start with the highest order number it finds and work its way down. This value has to be unique over all ContentEncodingOrder elements in the segment."},20530:{name:"ContentEncodingScope",level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:1,range:"not 0",description:"A bit field that describes which elements have been modified in this way. Values (big endian) can be OR'ed. Possible values: 1 - all frame contents, 2 - the track's private data, 4 - the next ContentEncoding (next ContentEncodingOrder. Either the data inside ContentCompression and/or ContentEncryption)"},20531:{name:"ContentEncodingType",level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"A value describing what kind of transformation has been done. Possible values: 0 - compression, 1 - encryption"},20532:{name:"ContentCompression",level:5,type:"m",minver:1,webm:!1,description:"Settings describing the compression used. Must be present if the value of ContentEncodingType is 0 and absent otherwise. Each block must be decompressable even if no previous block is available in order not to prevent seeking."},20533:{name:"ContentEncryption",level:5,type:"m",minver:1,webm:!1,description:"Settings describing the encryption used. Must be present if the value of ContentEncodingType is 1 and absent otherwise."},21368:{name:"CueBlockNumber",level:4,type:"u",minver:1,default:1,range:"not 0",description:"Number of the Block in the specified Cluster."},22100:{name:"ChapterStringUID",level:4,type:"8",mandatory:!1,minver:3,webm:!0,description:"A unique string ID to identify the Chapter. Use for WebVTT cue identifier storage."},22337:{name:"WritingApp",level:2,type:"8",mandatory:!0,minver:1,description:'Writing application ("mkvmerge-0.3.3").'},22612:{name:"SilentTracks",cppname:"ClusterSilentTracks",level:2,type:"m",minver:1,webm:!1,description:"The list of tracks that are not used in that part of the stream. It is useful when using overlay tracks on seeking. Then you should decide what track to use."},25152:{name:"ContentEncoding",level:4,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:"Settings for one content encoding like compression or encryption."},25188:{name:"BitDepth",cppname:"AudioBitDepth",level:4,type:"u",minver:1,range:"not 0",description:"Bits per sample, mostly used for PCM."},25906:{name:"SignedElement",level:3,type:"b",multiple:!0,webm:!1,description:"An element ID whose data will be used to compute the signature."},26148:{name:"TrackTranslate",level:3,type:"m",multiple:!0,minver:1,webm:!1,description:"The track identification for the given Chapter Codec."},26897:{name:"ChapProcessCommand",cppname:"ChapterProcessCommand",level:5,type:"m",multiple:!0,minver:1,webm:!1,description:"Contains all the commands associated to the Atom."},26914:{name:"ChapProcessTime",cppname:"ChapterProcessTime",level:6,type:"u",mandatory:!0,minver:1,webm:!1,description:"Defines when the process command should be handled (0: during the whole chapter, 1: before starting playback, 2: after playback of the chapter)."},26916:{name:"ChapterTranslate",level:2,type:"m",multiple:!0,minver:1,webm:!1,description:"A tuple of corresponding ID used by chapter codecs to represent this segment."},26931:{name:"ChapProcessData",cppname:"ChapterProcessData",level:6,type:"b",mandatory:!0,minver:1,webm:!1,description:"Contains the command information. The data should be interpreted depending on the ChapProcessCodecID value. For ChapProcessCodecID = 1, the data correspond to the binary DVD cell pre/post commands."},26948:{name:"ChapProcess",cppname:"ChapterProcess",level:4,type:"m",multiple:!0,minver:1,webm:!1,description:"Contains all the commands associated to the Atom."},26965:{name:"ChapProcessCodecID",cppname:"ChapterProcessCodecID",level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"Contains the type of the codec used for the processing. A value of 0 means native Matroska processing (to be defined), a value of 1 means the DVD command set is used. More codec IDs can be added later."},29555:{name:"Tag",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:"Element containing elements specific to Tracks/Chapters."},29572:{name:"SegmentFilename",level:2,type:"8",minver:1,webm:!1,description:"A filename corresponding to this segment."},29766:{name:"AttachmentLink",cppname:"TrackAttachmentLink",level:3,type:"u",minver:1,webm:!1,range:"not 0",description:"The UID of an attachment that is used by this codec."},2459272:{name:"CodecName",level:3,type:"8",minver:1,description:"A human-readable string specifying the codec."},408125543:{name:"Segment",level:"0",type:"m",mandatory:!0,multiple:!0,minver:1,description:"This element contains all other top-level (level 1) elements. Typically a Matroska file is composed of 1 segment."},17530:{name:"TagLanguage",level:4,type:"s",mandatory:!0,minver:1,webm:!1,default:"und",description:"Specifies the language of the tag specified, in the Matroska languages form."},17827:{name:"TagName",level:4,type:"8",mandatory:!0,minver:1,webm:!1,description:"The name of the Tag that is going to be stored."},26568:{name:"SimpleTag",cppname:"TagSimple",level:3,recursive:"1",type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:"Contains general information about the target."},25542:{name:"TagAttachmentUID",level:4,type:"u",multiple:!0,minver:1,webm:!1,default:0,description:"A unique ID to identify the Attachment(s) the tags belong to. If the value is 0 at this level, the tags apply to all the attachments in the Segment."},25540:{name:"TagChapterUID",level:4,type:"u",multiple:!0,minver:1,webm:!1,default:0,description:"A unique ID to identify the Chapter(s) the tags belong to. If the value is 0 at this level, the tags apply to all chapters in the Segment."},25545:{name:"TagEditionUID",level:4,type:"u",multiple:!0,minver:1,webm:!1,default:0,description:"A unique ID to identify the EditionEntry(s) the tags belong to. If the value is 0 at this level, the tags apply to all editions in the Segment."},25541:{name:"TagTrackUID",level:4,type:"u",multiple:!0,minver:1,webm:!1,default:0,description:"A unique ID to identify the Track(s) the tags belong to. If the value is 0 at this level, the tags apply to all tracks in the Segment."},25546:{name:"TargetType",cppname:"TagTargetType",level:4,type:"s",minver:1,webm:!1,strong:"informational",description:'An  string that can be used to display the logical level of the target like "ALBUM", "TRACK", "MOVIE", "CHAPTER", etc (see TargetType).'},26826:{name:"TargetTypeValue",cppname:"TagTargetTypeValue",level:4,type:"u",minver:1,webm:!1,default:50,description:"A number to indicate the logical level of the target (see TargetType)."},25536:{name:"Targets",cppname:"TagTargets",level:3,type:"m",mandatory:!0,minver:1,webm:!1,description:"Contain all UIDs where the specified meta data apply. It is empty to describe everything in the segment."},307544935:{name:"Tags",level:1,type:"m",multiple:!0,minver:1,webm:!1,description:"Element containing elements specific to Tracks/Chapters. A list of valid tags can be found here."},17677:{name:"ChapProcessPrivate",cppname:"ChapterProcessPrivate",level:5,type:"b",minver:1,webm:!1,description:'Some optional data attached to the ChapProcessCodecID information. For ChapProcessCodecID = 1, it is the "DVD level" equivalent.'},17278:{name:"ChapCountry",cppname:"ChapterCountry",level:5,type:"s",multiple:!0,minver:1,webm:!1,description:"The countries corresponding to the string, same 2 octets as in Internet domains."},17276:{name:"ChapLanguage",cppname:"ChapterLanguage",level:5,type:"s",mandatory:!0,multiple:!0,minver:1,webm:!0,default:"eng",description:"The languages corresponding to the string, in the bibliographic ISO-639-2 form."},143:{name:"ChapterTrack",level:4,type:"m",minver:1,webm:!1,description:"List of tracks on which the chapter applies. If this element is not present, all tracks apply"},25539:{name:"ChapterPhysicalEquiv",level:4,type:"u",minver:1,webm:!1,description:'Specify the physical equivalent of this ChapterAtom like "DVD" (60) or "SIDE" (50), see complete list of values.'},28348:{name:"ChapterSegmentEditionUID",level:4,type:"u",minver:1,webm:!1,range:"not 0",description:"The EditionUID to play from the segment linked in ChapterSegmentUID."},28263:{name:"ChapterSegmentUID",level:4,type:"b",minver:1,webm:!1,range:">0",bytesize:16,description:"A segment to play in place of this chapter. Edition ChapterSegmentEditionUID should be used for this segment, otherwise no edition is used."},29636:{name:"ChapterUID",level:4,type:"u",mandatory:!0,minver:1,webm:!0,range:"not 0",description:"A unique ID to identify the Chapter."},182:{name:"ChapterAtom",level:3,recursive:"1",type:"m",mandatory:!0,multiple:!0,minver:1,webm:!0,description:"Contains the atom information to use as the chapter atom (apply to all tracks)."},17885:{name:"EditionFlagOrdered",level:3,type:"u",minver:1,webm:!1,default:0,range:"0-1",description:"Specify if the chapters can be defined multiple times and the order to play them is enforced. (1 bit)"},17883:{name:"EditionFlagDefault",level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,range:"0-1",description:"If a flag is set (1) the edition should be used as the default one. (1 bit)"},17853:{name:"EditionFlagHidden",level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,range:"0-1",description:"If an edition is hidden (1), it should not be available to the user interface (but still to Control Tracks; see flag notes). (1 bit)"},17852:{name:"EditionUID",level:3,type:"u",minver:1,webm:!1,range:"not 0",description:"A unique ID to identify the edition. It's useful for tagging an edition."},17849:{name:"EditionEntry",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!0,description:"Contains all information about a segment edition."},272869232:{name:"Chapters",level:1,type:"m",minver:1,webm:!0,description:"A system to define basic menus and partition data. For more detailed information, look at the Chapters Explanation."},18094:{name:"FileUID",level:3,type:"u",mandatory:!0,minver:1,webm:!1,range:"not 0",description:"Unique ID representing the file, as random as possible."},18012:{name:"FileData",level:3,type:"b",mandatory:!0,minver:1,webm:!1,description:"The data of the file."},18030:{name:"FileName",level:3,type:"8",mandatory:!0,minver:1,webm:!1,description:"Filename of the attached file."},18046:{name:"FileDescription",level:3,type:"8",minver:1,webm:!1,description:"A human-friendly name for the attached file."},24999:{name:"AttachedFile",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:"An attached file."},423732329:{name:"Attachments",level:1,type:"m",minver:1,webm:!1,description:"Contain attached files."},235:{name:"CueRefCodecState",level:5,type:"u",webm:!1,default:0,description:"The position of the Codec State corresponding to this referenced element. 0 means that the data is taken from the initial Track Entry."},21343:{name:"CueRefNumber",level:5,type:"u",webm:!1,default:1,range:"not 0",description:"Number of the referenced Block of Track X in the specified Cluster."},219:{name:"CueReference",level:4,type:"m",multiple:!0,minver:2,webm:!1,description:"The Clusters containing the required referenced Blocks."},234:{name:"CueCodecState",level:4,type:"u",minver:2,webm:!1,default:0,description:"The position of the Codec State corresponding to this Cue element. 0 means that the data is taken from the initial Track Entry."},178:{name:"CueDuration",level:4,type:"u",mandatory:!1,minver:4,webm:!1,description:"The duration of the block according to the segment time base. If missing the track's DefaultDuration does not apply and no duration information is available in terms of the cues."},240:{name:"CueRelativePosition",level:4,type:"u",mandatory:!1,minver:4,webm:!1,description:"The relative position of the referenced block inside the cluster with 0 being the first possible position for an element inside that cluster.",position:"clusterRelative"},241:{name:"CueClusterPosition",level:4,type:"u",mandatory:!0,minver:1,description:"The position of the Cluster containing the required Block.",position:"segment"},247:{name:"CueTrack",level:4,type:"u",mandatory:!0,minver:1,range:"not 0",description:"The track for which a position is given."},183:{name:"CueTrackPositions",level:3,type:"m",mandatory:!0,multiple:!0,minver:1,description:"Contain positions for different tracks corresponding to the timestamp."},179:{name:"CueTime",level:3,type:"u",mandatory:!0,minver:1,description:"Absolute timestamp according to the segment time base."},187:{name:"CuePoint",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,description:"Contains all information relative to a seek point in the segment."},475249515:{name:"Cues",level:1,type:"m",minver:1,description:'A top-level element to speed seeking access. All entries are local to the segment. Should be mandatory for non "live" streams.'},18406:{name:"ContentSigHashAlgo",level:6,type:"u",minver:1,webm:!1,default:0,description:"The hash algorithm used for the signature. A value of '0' means that the contents have not been signed but only encrypted. Predefined values: 1 - SHA1-160 2 - MD5"},18405:{name:"ContentSigAlgo",level:6,type:"u",minver:1,webm:!1,default:0,description:"The algorithm used for the signature. A value of '0' means that the contents have not been signed but only encrypted. Predefined values: 1 - RSA"},18404:{name:"ContentSigKeyID",level:6,type:"b",minver:1,webm:!1,description:"This is the ID of the private key the data was signed with."},18403:{name:"ContentSignature",level:6,type:"b",minver:1,webm:!1,description:"A cryptographic signature of the contents."},18402:{name:"ContentEncKeyID",level:6,type:"b",minver:1,webm:!1,description:"For public key algorithms this is the ID of the public key the the data was encrypted with."},18401:{name:"ContentEncAlgo",level:6,type:"u",minver:1,webm:!1,default:0,description:"The encryption algorithm used. The value '0' means that the contents have not been encrypted but only signed. Predefined values: 1 - DES, 2 - 3DES, 3 - Twofish, 4 - Blowfish, 5 - AES"},28032:{name:"ContentEncodings",level:3,type:"m",minver:1,webm:!1,description:"Settings for several content encoding mechanisms like compression or encryption."},196:{name:"TrickMasterTrackSegmentUID",level:3,type:"b",divx:!0,bytesize:16,description:"DivX trick track extenstions"},199:{name:"TrickMasterTrackUID",level:3,type:"u",divx:!0,description:"DivX trick track extenstions"},198:{name:"TrickTrackFlag",level:3,type:"u",divx:!0,default:0,description:"DivX trick track extenstions"},193:{name:"TrickTrackSegmentUID",level:3,type:"b",divx:!0,bytesize:16,description:"DivX trick track extenstions"},192:{name:"TrickTrackUID",level:3,type:"u",divx:!0,description:"DivX trick track extenstions"},237:{name:"TrackJoinUID",level:5,type:"u",mandatory:!0,multiple:!0,minver:3,webm:!1,range:"not 0",description:"The trackUID number of a track whose blocks are used to create this virtual track."},233:{name:"TrackJoinBlocks",level:4,type:"m",minver:3,webm:!1,description:"Contains the list of all tracks whose Blocks need to be combined to create this virtual track"},230:{name:"TrackPlaneType",level:6,type:"u",mandatory:!0,minver:3,webm:!1,description:"The kind of plane this track corresponds to (0: left eye, 1: right eye, 2: background)."},229:{name:"TrackPlaneUID",level:6,type:"u",mandatory:!0,minver:3,webm:!1,range:"not 0",description:"The trackUID number of the track representing the plane."},228:{name:"TrackPlane",level:5,type:"m",mandatory:!0,multiple:!0,minver:3,webm:!1,description:"Contains a video plane track that need to be combined to create this 3D track"},227:{name:"TrackCombinePlanes",level:4,type:"m",minver:3,webm:!1,description:"Contains the list of all video plane tracks that need to be combined to create this 3D track"},226:{name:"TrackOperation",level:3,type:"m",minver:3,webm:!1,description:"Operation that needs to be applied on tracks to create this virtual track. For more details look at the Specification Notes on the subject."},32123:{name:"ChannelPositions",cppname:"AudioPosition",level:4,type:"b",webm:!1,description:"Table of horizontal angles for each successive channel, see appendix."},159:{name:"Channels",cppname:"AudioChannels",level:4,type:"u",mandatory:!0,minver:1,default:1,range:"not 0",description:"Numbers of channels in the track."},30901:{name:"OutputSamplingFrequency",cppname:"AudioOutputSamplingFreq",level:4,type:"f",minver:1,default:"Sampling Frequency",range:"> 0",description:"Real output sampling frequency in Hz (used for SBR techniques)."},181:{name:"SamplingFrequency",cppname:"AudioSamplingFreq",level:4,type:"f",mandatory:!0,minver:1,default:8e3,range:"> 0",description:"Sampling frequency in Hz."},225:{name:"Audio",cppname:"TrackAudio",level:3,type:"m",minver:1,description:"Audio settings."},2327523:{name:"FrameRate",cppname:"VideoFrameRate",level:4,type:"f",range:"> 0",strong:"Informational",description:"Number of frames per second.  only."},3126563:{name:"GammaValue",cppname:"VideoGamma",level:4,type:"f",webm:!1,range:"> 0",description:"Gamma Value."},3061028:{name:"ColourSpace",cppname:"VideoColourSpace",level:4,type:"b",minver:1,webm:!1,bytesize:4,description:"Same value as in AVI (32 bits)."},21683:{name:"AspectRatioType",cppname:"VideoAspectRatio",level:4,type:"u",minver:1,default:0,description:"Specify the possible modifications to the aspect ratio (0: free resizing, 1: keep aspect ratio, 2: fixed)."},21682:{name:"DisplayUnit",cppname:"VideoDisplayUnit",level:4,type:"u",minver:1,default:0,description:"How DisplayWidth & DisplayHeight should be interpreted (0: pixels, 1: centimeters, 2: inches, 3: Display Aspect Ratio)."},21690:{name:"DisplayHeight",cppname:"VideoDisplayHeight",level:4,type:"u",minver:1,default:"PixelHeight",range:"not 0",description:"Height of the video frames to display. The default value is only valid when DisplayUnit is 0."},21680:{name:"DisplayWidth",cppname:"VideoDisplayWidth",level:4,type:"u",minver:1,default:"PixelWidth",range:"not 0",description:"Width of the video frames to display. The default value is only valid when DisplayUnit is 0."},21725:{name:"PixelCropRight",cppname:"VideoPixelCropRight",level:4,type:"u",minver:1,default:0,description:"The number of video pixels to remove on the right of the image."},21708:{name:"PixelCropLeft",cppname:"VideoPixelCropLeft",level:4,type:"u",minver:1,default:0,description:"The number of video pixels to remove on the left of the image."},21691:{name:"PixelCropTop",cppname:"VideoPixelCropTop",level:4,type:"u",minver:1,default:0,description:"The number of video pixels to remove at the top of the image."},21674:{name:"PixelCropBottom",cppname:"VideoPixelCropBottom",level:4,type:"u",minver:1,default:0,description:"The number of video pixels to remove at the bottom of the image (for HDTV content)."},186:{name:"PixelHeight",cppname:"VideoPixelHeight",level:4,type:"u",mandatory:!0,minver:1,range:"not 0",description:"Height of the encoded video frames in pixels."},176:{name:"PixelWidth",cppname:"VideoPixelWidth",level:4,type:"u",mandatory:!0,minver:1,range:"not 0",description:"Width of the encoded video frames in pixels."},21433:{name:"OldStereoMode",level:4,type:"u",maxver:"0",webm:!1,divx:!1,description:"DEPRECATED, DO NOT USE. Bogus StereoMode value used in old versions of libmatroska. (0: mono, 1: right eye, 2: left eye, 3: both eyes)."},21440:{name:"AlphaMode",cppname:"VideoAlphaMode",level:4,type:"u",minver:3,webm:!0,default:0,description:"Alpha Video Mode. Presence of this element indicates that the BlockAdditional element could contain Alpha data."},21432:{name:"StereoMode",cppname:"VideoStereoMode",level:4,type:"u",minver:3,webm:!0,default:0,description:"Stereo-3D video mode (0: mono, 1: side by side (left eye is first), 2: top-bottom (right eye is first), 3: top-bottom (left eye is first), 4: checkboard (right is first), 5: checkboard (left is first), 6: row interleaved (right is first), 7: row interleaved (left is first), 8: column interleaved (right is first), 9: column interleaved (left is first), 10: anaglyph (cyan/red), 11: side by side (right eye is first), 12: anaglyph (green/magenta), 13 both eyes laced in one Block (left eye is first), 14 both eyes laced in one Block (right eye is first)) . There are some more details on 3D support in the Specification Notes."},154:{name:"FlagInterlaced",cppname:"VideoFlagInterlaced",level:4,type:"u",mandatory:!0,minver:2,webm:!0,default:0,range:"0-1",description:"Set if the video is interlaced. (1 bit)"},224:{name:"Video",cppname:"TrackVideo",level:3,type:"m",minver:1,description:"Video settings."},26277:{name:"TrackTranslateTrackID",level:4,type:"b",mandatory:!0,minver:1,webm:!1,description:"The binary value used to represent this track in the chapter codec data. The format depends on the ChapProcessCodecID used."},26303:{name:"TrackTranslateCodec",level:4,type:"u",mandatory:!0,minver:1,webm:!1,description:"The chapter codec using this ID (0: Matroska Script, 1: DVD-menu)."},26364:{name:"TrackTranslateEditionUID",level:4,type:"u",multiple:!0,minver:1,webm:!1,description:"Specify an edition UID on which this translation applies. When not specified, it means for all editions found in the segment."},22203:{name:"SeekPreRoll",level:3,type:"u",mandatory:!0,multiple:!1,default:0,minver:4,webm:!0,description:"After a discontinuity, SeekPreRoll is the duration in nanoseconds of the data the decoder must decode before the decoded data is valid."},22186:{name:"CodecDelay",level:3,type:"u",multiple:!1,default:0,minver:4,webm:!0,description:"CodecDelay is The codec-built-in delay in nanoseconds. This value must be subtracted from each block timestamp in order to get the actual timestamp. The value should be small so the muxing of tracks with the same actual timestamp are in the same Cluster."},28587:{name:"TrackOverlay",level:3,type:"u",multiple:!0,minver:1,webm:!1,description:"Specify that this track is an overlay track for the Track specified (in the u-integer). That means when this track has a gap (see SilentTracks) the overlay track should be used instead. The order of multiple TrackOverlay matters, the first one is the one that should be used. If not found it should be the second, etc."},170:{name:"CodecDecodeAll",level:3,type:"u",mandatory:!0,minver:2,webm:!1,default:1,range:"0-1",description:"The codec can decode potentially damaged data (1 bit)."},2536e3:{name:"CodecDownloadURL",level:3,type:"s",multiple:!0,webm:!1,description:"A URL to download about the codec used."},3883072:{name:"CodecInfoURL",level:3,type:"s",multiple:!0,webm:!1,description:"A URL to find information about the codec used."},3839639:{name:"CodecSettings",level:3,type:"8",webm:!1,description:"A string describing the encoding setting used."},25506:{name:"CodecPrivate",level:3,type:"b",minver:1,description:"Private data only known to the codec."},2274716:{name:"Language",cppname:"TrackLanguage",level:3,type:"s",minver:1,default:"eng",description:"Specifies the language of the track in the Matroska languages form."},21358:{name:"Name",cppname:"TrackName",level:3,type:"8",minver:1,description:"A human-readable track name."},21998:{name:"MaxBlockAdditionID",level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"The maximum value of BlockAdditions for this track."},21375:{name:"TrackOffset",level:3,type:"i",webm:!1,default:0,description:"A value to add to the Block's Timestamp. This can be used to adjust the playback offset of a track."},2306383:{name:"TrackTimecodeScale",level:3,type:"f",mandatory:!0,minver:1,maxver:"3",webm:!1,default:1,range:"> 0",description:"DEPRECATED, DO NOT USE. The scale to apply on this track to work at normal speed in relation with other tracks (mostly used to adjust video speed when the audio length differs)."},2313850:{name:"DefaultDecodedFieldDuration",cppname:"TrackDefaultDecodedFieldDuration",level:3,type:"u",minver:4,range:"not 0",description:"The period in nanoseconds (not scaled by TimcodeScale)\nbetween two successive fields at the output of the decoding process (see the notes)"},2352003:{name:"DefaultDuration",cppname:"TrackDefaultDuration",level:3,type:"u",minver:1,range:"not 0",description:"Number of nanoseconds (not scaled via TimecodeScale) per frame ('frame' in the Matroska sense -- one element put into a (Simple)Block)."},28152:{name:"MaxCache",cppname:"TrackMaxCache",level:3,type:"u",minver:1,webm:!1,description:"The maximum cache size required to store referenced frames in and the current frame. 0 means no cache is needed."},28135:{name:"MinCache",cppname:"TrackMinCache",level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"The minimum number of frames a player should be able to cache during playback. If set to 0, the reference pseudo-cache system is not used."},156:{name:"FlagLacing",cppname:"TrackFlagLacing",level:3,type:"u",mandatory:!0,minver:1,default:1,range:"0-1",description:"Set if the track may contain blocks using lacing. (1 bit)"},21930:{name:"FlagForced",cppname:"TrackFlagForced",level:3,type:"u",mandatory:!0,minver:1,default:0,range:"0-1",description:"Set if that track MUST be active during playback. There can be many forced track for a kind (audio, video or subs), the player should select the one which language matches the user preference or the default + forced track. Overlay MAY happen between a forced and non-forced track of the same kind. (1 bit)"},185:{name:"FlagEnabled",cppname:"TrackFlagEnabled",level:3,type:"u",mandatory:!0,minver:2,webm:!0,default:1,range:"0-1",description:"Set if the track is usable. (1 bit)"},29637:{name:"TrackUID",level:3,type:"u",mandatory:!0,minver:1,range:"not 0",description:"A unique ID to identify the Track. This should be kept the same when making a direct stream copy of the Track to another file."},215:{name:"TrackNumber",level:3,type:"u",mandatory:!0,minver:1,range:"not 0",description:"The track number as used in the Block Header (using more than 127 tracks is not encouraged, though the design allows an unlimited number)."},174:{name:"TrackEntry",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,description:"Describes a track with all elements."},374648427:{name:"Tracks",level:1,type:"m",multiple:!0,minver:1,description:"A top-level block of information with many tracks described."},175:{name:"EncryptedBlock",level:2,type:"b",multiple:!0,webm:!1,description:"Similar to EncryptedBlock Structure)"},202:{name:"ReferenceTimeCode",level:4,type:"u",multiple:!1,mandatory:!0,minver:0,webm:!1,divx:!0,description:"DivX trick track extenstions"},201:{name:"ReferenceOffset",level:4,type:"u",multiple:!1,mandatory:!0,minver:0,webm:!1,divx:!0,description:"DivX trick track extenstions"},200:{name:"ReferenceFrame",level:3,type:"m",multiple:!1,minver:0,webm:!1,divx:!0,description:"DivX trick track extenstions"},207:{name:"SliceDuration",level:5,type:"u",default:0,description:"The (scaled) duration to apply to the element."},206:{name:"Delay",cppname:"SliceDelay",level:5,type:"u",default:0,description:"The (scaled) delay to apply to the element."},203:{name:"BlockAdditionID",cppname:"SliceBlockAddID",level:5,type:"u",default:0,description:"The ID of the BlockAdditional element (0 is the main Block)."},205:{name:"FrameNumber",cppname:"SliceFrameNumber",level:5,type:"u",default:0,description:"The number of the frame to generate from this lace with this delay (allow you to generate many frames from the same Block/Frame)."},204:{name:"LaceNumber",cppname:"SliceLaceNumber",level:5,type:"u",minver:1,default:0,divx:!1,description:"The reverse number of the frame in the lace (0 is the last frame, 1 is the next to last, etc). While there are a few files in the wild with this element, it is no longer in use and has been deprecated. Being able to interpret this element is not required for playback."},232:{name:"TimeSlice",level:4,type:"m",multiple:!0,minver:1,divx:!1,description:"Contains extra time information about the data contained in the Block. While there are a few files in the wild with this element, it is no longer in use and has been deprecated. Being able to interpret this element is not required for playback."},142:{name:"Slices",level:3,type:"m",minver:1,divx:!1,description:"Contains slices description."},30114:{name:"DiscardPadding",level:3,type:"i",minver:4,webm:!0,description:"Duration in nanoseconds of the silent data added to the Block (padding at the end of the Block for positive value, at the beginning of the Block for negative value). The duration of DiscardPadding is not calculated in the duration of the TrackEntry and should be discarded during playback."},164:{name:"CodecState",level:3,type:"b",minver:2,webm:!1,description:"The new codec state to use. Data interpretation is private to the codec. This information should always be referenced by a seek entry."},253:{name:"ReferenceVirtual",level:3,type:"i",webm:!1,description:"Relative position of the data that should be in position of the virtual block."},251:{name:"ReferenceBlock",level:3,type:"i",multiple:!0,minver:1,description:"Timestamp of another frame used as a reference (ie: B or P frame). The timestamp is relative to the block it's attached to."},250:{name:"ReferencePriority",cppname:"FlagReferenced",level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"This frame is referenced and has the specified cache priority. In cache only a frame of the same or higher priority can replace this frame. A value of 0 means the frame is not referenced."},155:{name:"BlockDuration",level:3,type:"u",minver:1,default:"TrackDuration",description:'The duration of the Block (based on TimecodeScale). This element is mandatory when DefaultDuration is set for the track (but can be omitted as other default values). When not written and with no DefaultDuration, the value is assumed to be the difference between the timestamp of this Block and the timestamp of the next Block in "display" order (not coding order). This element can be useful at the end of a Track (as there is not other Block available), or when there is a break in a track like for subtitle tracks. When set to 0 that means the frame is not a keyframe.'},165:{name:"BlockAdditional",level:5,type:"b",mandatory:!0,minver:1,webm:!1,description:"Interpreted by the codec as it wishes (using the BlockAddID)."},238:{name:"BlockAddID",level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:1,range:"not 0",description:"An ID to identify the BlockAdditional level."},166:{name:"BlockMore",level:4,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:"Contain the BlockAdditional and some parameters."},30113:{name:"BlockAdditions",level:3,type:"m",minver:1,webm:!1,description:"Contain additional blocks to complete the main one. An EBML parser that has no knowledge of the Block structure could still see and use/skip these data."},162:{name:"BlockVirtual",level:3,type:"b",webm:!1,description:"A Block with no data. It must be stored in the stream at the place the real Block should be in display order. (see Block Virtual)"},161:{name:"Block",level:3,type:"b",mandatory:!0,minver:1,description:"Block containing the actual data to be rendered and a timestamp relative to the Cluster Timecode. (see Block Structure)"},160:{name:"BlockGroup",level:2,type:"m",multiple:!0,minver:1,description:"Basic container of information containing a single Block or BlockVirtual, and information specific to that Block/VirtualBlock."},163:{name:"SimpleBlock",level:2,type:"b",multiple:!0,minver:2,webm:!0,divx:!0,description:"Similar to SimpleBlock Structure"},171:{name:"PrevSize",cppname:"ClusterPrevSize",level:2,type:"u",minver:1,description:"Size of the previous Cluster, in octets. Can be useful for backward playing.",position:"prevCluster"},167:{name:"Position",cppname:"ClusterPosition",level:2,type:"u",minver:1,webm:!1,description:"The Position of the Cluster in the segment (0 in live broadcast streams). It might help to resynchronise offset on damaged streams.",position:"segment"},22743:{name:"SilentTrackNumber",cppname:"ClusterSilentTrackNumber",level:3,type:"u",multiple:!0,minver:1,webm:!1,description:"One of the track number that are not used from now on in the stream. It could change later if not specified as silent in a further Cluster."},231:{name:"Timecode",cppname:"ClusterTimecode",level:2,type:"u",mandatory:!0,minver:1,description:"Absolute timestamp of the cluster (based on TimecodeScale)."},524531317:{name:"Cluster",level:1,type:"m",multiple:!0,minver:1,description:"The lower level element containing the (monolithic) Block structure."},19840:{name:"MuxingApp",level:2,type:"8",mandatory:!0,minver:1,description:'Muxing application or library ("libmatroska-0.4.3").'},31657:{name:"Title",level:2,type:"8",minver:1,webm:!1,description:"General name of the segment."},2807730:{name:"TimecodeScaleDenominator",level:2,type:"u",mandatory:!0,minver:4,default:"1000000000",description:"Timestamp scale numerator, see TimecodeScale."},2807729:{name:"TimecodeScale",level:2,type:"u",mandatory:!0,minver:1,default:"1000000",description:"Timestamp scale in nanoseconds (1.000.000 means all timestamps in the segment are expressed in milliseconds)."},27045:{name:"ChapterTranslateID",level:3,type:"b",mandatory:!0,minver:1,webm:!1,description:"The binary value used to represent this segment in the chapter codec data. The format depends on the ChapProcessCodecID used."},27071:{name:"ChapterTranslateCodec",level:3,type:"u",mandatory:!0,minver:1,webm:!1,description:"The chapter codec using this ID (0: Matroska Script, 1: DVD-menu)."},27132:{name:"ChapterTranslateEditionUID",level:3,type:"u",multiple:!0,minver:1,webm:!1,description:"Specify an edition UID on which this correspondance applies. When not specified, it means for all editions found in the segment."},4096955:{name:"NextFilename",level:2,type:"8",minver:1,webm:!1,description:"An escaped filename corresponding to the next segment."},4110627:{name:"NextUID",level:2,type:"b",minver:1,webm:!1,bytesize:16,description:"A unique ID to identify the next chained segment (128 bits)."},3965867:{name:"PrevFilename",level:2,type:"8",minver:1,webm:!1,description:"An escaped filename corresponding to the previous segment."},3979555:{name:"PrevUID",level:2,type:"b",minver:1,webm:!1,bytesize:16,description:"A unique ID to identify the previous chained segment (128 bits)."},29604:{name:"SegmentUID",level:2,type:"b",minver:1,webm:!1,range:"not 0",bytesize:16,description:"A randomly generated unique ID to identify the current segment between many others (128 bits)."},357149030:{name:"Info",level:1,type:"m",mandatory:!0,multiple:!0,minver:1,description:"Contains miscellaneous general information and statistics on the file."},21420:{name:"SeekPosition",level:3,type:"u",mandatory:!0,minver:1,description:"The position of the element in the segment in octets (0 = first level 1 element).",position:"segment"},21419:{name:"SeekID",level:3,type:"b",mandatory:!0,minver:1,description:"The binary ID corresponding to the element name.",type2:"ebmlID"},19899:{name:"Seek",cppname:"SeekPoint",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,description:"Contains a single seek entry to an EBML element."},290298740:{name:"SeekHead",cppname:"SeekHeader",level:1,type:"m",multiple:!0,minver:1,description:"Contains the position of other level 1 elements."},32379:{name:"SignatureElementList",level:2,type:"m",multiple:!0,webm:!1,i:"Cluster|Block|BlockAdditional",description:"A list consists of a number of consecutive elements that represent one case where data is used in signature. Ex:  means that the BlockAdditional of all Blocks in all Clusters is used for encryption."},32347:{name:"SignatureElements",level:1,type:"m",webm:!1,description:"Contains elements that will be used to compute the signature."},32437:{name:"Signature",level:1,type:"b",webm:!1,description:"The signature of the data (until a new."},32421:{name:"SignaturePublicKey",level:1,type:"b",webm:!1,description:"The public key to use with the algorithm (in the case of a PKI-based signature)."},32410:{name:"SignatureHash",level:1,type:"u",webm:!1,description:"Hash algorithm used (1=SHA1-160, 2=MD5)."},32394:{name:"SignatureAlgo",level:1,type:"u",webm:!1,description:"Signature algorithm used (1=RSA, 2=elliptic)."},458458727:{name:"SignatureSlot",level:-1,type:"m",multiple:!0,webm:!1,description:"Contain signature of some (coming) elements in the stream."},191:{name:"CRC-32",level:-1,type:"b",minver:1,webm:!1,description:"The CRC is computed on all the data of the Master element it's in. The CRC element should be the first in it's parent master for easier reading. All level 1 elements should include a CRC-32. The CRC in use is the IEEE CRC32 Little Endian",crc:!0},236:{name:"Void",level:-1,type:"b",minver:1,description:"Used to void damaged data, to avoid unexpected behaviors when using damaged data. The content is discarded. Also used to reserve space in a sub-element for later use."},17139:{name:"EBMLMaxSizeLength",level:1,type:"u",mandatory:!0,default:8,minver:1,description:"The maximum length of the sizes you'll find in this file (8 or less in Matroska). This does not override the element size indicated at the beginning of an element. Elements that have an indicated size which is larger than what is allowed by EBMLMaxSizeLength shall be considered invalid."},17138:{name:"EBMLMaxIDLength",level:1,type:"u",mandatory:!0,default:4,minver:1,description:"The maximum length of the IDs you'll find in this file (4 or less in Matroska)."},17143:{name:"EBMLReadVersion",level:1,type:"u",mandatory:!0,default:1,minver:1,description:"The minimum EBML version a parser has to support to read this file."},440786851:{name:"EBML",level:"0",type:"m",mandatory:!0,multiple:!0,minver:1,description:"Set the EBML characteristics of the data to follow. Each EBML document has to start with this."}},o={},i={byEbmlID:r,byName:o};for(var s in r)o[r[s].name.replace("-","_")]=parseInt(s,10);e.exports=i},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(6),i=n(3),s=n(5),a=n(2),l=n(0),c=n(38),u=n(33),d=n(415),f=n(11),_=n(4);class h{constructor(){this.logger=l.default,this.authService=i.default,this.xmppService=s.default,this.contactService=a.default,this.settingsService=o.default,this.errorHelperService=c.default,this.eventService=u.default,this.subscription=null,this.xmppHandler=null,this.rxSubject=new f.Subject,this.portalURL=null,this.receivedInvitations={},this.sentInvitations={},this.acceptedInvitationsArray=[],this.sentInvitationsArray=[],this.receivedInvitationsArray=[]}static getInstance(){const e=window;return e.rainbow||(e.rainbow={}),e.rainbow.invitationService||(e.rainbow.invitationService=new h),e.rainbow.invitationService}start(){return r(this,void 0,void 0,(function*(){this.logger.info(""),this.logger.info("[invitationService] === STARTING ==="),this.portalURL=config.restServerUrl+"/api/rainbow/enduser/v1.0/users/",this.attachHandlers(),this.getAllSentInvitations(),this.getAllReceivedInvitations(),this.logger.info("[invitationService] === STARTED ==="),this.subscription=this.xmppService.subscribeToContactEvents(e=>{"ON_ROSTER_CHANGED_EVENT"===e.name&&this.getAllSentInvitations()})}))}stop(){return r(this,void 0,void 0,(function*(){this.logger.info(""),this.logger.info("[invitationService] === STOPPING ==="),this.subscription&&this.subscription.unsubscribe(),this.logger.info("[invitationService] === STOPPED ===")}))}reconnect(){this.attachHandlers()}subscribe(e){return this.rxSubject.subscribe(e)}sendEvent(e,t=null){this.rxSubject.next({type:e,value:t}),this.eventService.publish(e,t)}attachHandlers(){this.logger.info("[invitationService] attachHandlers"),this.xmppHandler&&(s.default.connection.deleteHandler(this.xmppHandler),this.xmppHandler=null),this.xmppHandler=s.default.connection.addHandler(e=>this.onInvitationsUpdate(e),null,"message","management")}onInvitationsUpdate(e){const t=$(e).find("userinvite");if(t.length){const e=t.attr("id"),n=t.attr("type"),r=t.attr("action");switch(n){case"received":this.handleReceivedInvitation(e,r);break;case"sent":this.handleSentInvitation(e,r);break;default:this.logger.warn("[invitationService] onInvitationsUpdate - received unexpected type - "+n)}}return!0}handleReceivedInvitation(e,t){return r(this,void 0,void 0,(function*(){if(this.logger.info("[invitationService] handleReceivedInvitation"),"delete"===t)return delete this.receivedInvitations[e],void this.updateReceivedInvitationsArray();const n=yield this.getServerInvitation(e);let r=null,o="none";switch(n.status){case"pending":if(this.receivedInvitations[n.id]=n,r=n,o="ask",n.invitingUserId){const e=yield this.contactService.getContactByDBId(n.invitingUserId,!0);this.sendEvent("ON_INVITATION_RECEIVED",e)}break;case"accepted":case"auto-accepted":if(this.receivedInvitations[n.id]=n,this.sendEvent("ON_INVITATION_ACCEPTED",n.invitingUserId),n.invitingUserId){const e=yield this.contactService.getContactByDBId(n.invitingUserId,!0);this.eventService.publish("ON_CONTACT_UPDATED_EVENT",e)}break;default:delete this.receivedInvitations[n.id],o="unknown"}n.invitingUserId&&(yield this.updateContactInvitationStatus(n.invitingUserId,o,r)),this.updateReceivedInvitationsArray(),this.sendEvent("ON_INVITATION_CHANGED",n)}))}handleSentInvitation(e,t){return r(this,void 0,void 0,(function*(){if(this.logger.info("[invitationService] handleSentInvitation"),"delete"===t)return delete this.sentInvitations[e],void this.updateReceivedInvitationsArray();const n=yield this.getServerInvitation(e);let r=null;switch(n.status){case"pending":this.sentInvitations[n.id]=n,r="wait";break;case"accepted":case"auto-accepted":if(this.sendEvent("ON_INVITATION_ACCEPTED",n.invitedUserId),n.invitedUserId){const e=yield this.contactService.getContactByDBId(n.invitedUserId,!0);this.eventService.publish("ON_CONTACT_UPDATED_EVENT",e)}break;default:delete this.sentInvitations[n.id],r="unknown"}n.invitedUserId&&(yield this.updateContactInvitationStatus(n.invitedUserId,r,n)),this.updateSentInvitationsArray(),"resend"===t&&this.sendEvent("ON_INVITATIONS_RE_SEND",e)}))}updateReceivedInvitationsArray(){this.receivedInvitationsArray=[],this.acceptedInvitationsArray=[];for(const e in this.receivedInvitations)if(this.receivedInvitations.hasOwnProperty(e)){const t=this.receivedInvitations[e];switch(t.status){case"pending":this.receivedInvitationsArray.push(t);break;case"accepted":case"auto-accepted":this.acceptedInvitationsArray.push(t)}}this.receivedInvitationsArray.sort(this.sortInvitationArray),this.acceptedInvitationsArray=this.acceptedInvitationsArray.filter((function(e){const t=_(e.lastNotificationDate);return _.duration(_().diff(t)).asHours()<168})),this.acceptedInvitationsArray.sort(this.sortInvitationArray),this.sendEvent("ON_INVITATIONS_NUMBER_UPDATED")}updateSentInvitationsArray(){this.sentInvitationsArray=[];for(const e in this.sentInvitations)this.sentInvitations.hasOwnProperty(e)&&this.sentInvitationsArray.push(this.sentInvitations[e]);this.sentInvitationsArray.sort(this.sortInvitationArray),this.sendEvent("ON_INVITATIONS_NUMBER_UPDATED")}getServerInvitation(e){return r(this,void 0,void 0,(function*(){try{const t=`${this.portalURL}${this.contactService.userContact.dbId}/invitations/${e}`,n=this.authService.getRequestHeader(),r=yield fetch(t,{method:"GET",headers:n});if(!r.ok)throw r;const o=(yield r.json()).data;return this.logger.info("[invitationService] getServerInvitation success"),d.Invitation.createFromData(o)}catch(t){const e=yield this.errorHelperService.getErrorInfo(t,"getServerInvitation");throw this.logger.error("[invitationService] "+e.message),e.error}}))}getReceivedInvitations(){return this.receivedInvitationsArray}getAcceptedInvitations(){return this.acceptedInvitationsArray}getSentInvitations(){return this.sentInvitationsArray}getInvitationsNumberForCounter(){return this.receivedInvitationsArray.length}getAllInvitationsNumber(){return this.receivedInvitationsArray.length+this.sentInvitationsArray.length+this.acceptedInvitationsArray.length}getInvitation(e){let t=this.receivedInvitations[e];return t||(t=this.acceptedInvitationsArray[e]),t||(t=this.sentInvitations[e]),t}joinContactInvitation(e,t=""){return r(this,void 0,void 0,(function*(){try{this.logger.info(`[invitationService] joinContactInvitation contact (${e.jid})`);const n=`${this.portalURL}${this.contactService.userContact.dbId}/invitations`,r=this.authService.getPostHeader(),o={invitedUserId:e.dbId,customMessage:t},i=yield fetch(n,{method:"POST",headers:r,body:JSON.stringify(o)});if(!i.ok)throw i;this.logger.info(`[invitationService] joinContactInvitation - success (${e.jid})`),"unknown"===e.status&&this.updateContactInvitationStatus(e.dbId,"wait")}catch(n){const e=yield this.errorHelperService.getErrorInfo(n,"joinContactInvitation");throw this.logger.error("[invitationService] "+e.message),e.error}}))}sendInvitationByEmail(e,t=""){return r(this,void 0,void 0,(function*(){try{this.logger.info("[invitationService] sendInvitationByEmail");const n=this.settingsService.getAppliLanguageCodeForServer(),r=`${this.portalURL}${this.contactService.userContact.dbId}/invitations`,o=this.authService.getPostHeader(),i={email:e,lang:n,customMessage:t},s=yield fetch(r,{method:"POST",headers:o,body:JSON.stringify(i)});if(!s.ok)throw s;this.logger.info("[invitationService] sendInvitationByEmail - success")}catch(n){const e=yield this.errorHelperService.getErrorInfo(n,"sendInvitationByEmail");throw this.logger.error("[invitationService] "+e.message),e.error}}))}cancelOneSendInvitation(e){return r(this,void 0,void 0,(function*(){try{const t=`${this.portalURL}${e.invitingUserId}/invitations/${e.id}/cancel`,n=this.authService.getPostHeader(),r=yield fetch(t,{method:"POST",headers:n});if(!r.ok)throw r;this.logger.info("[invitationService] cancelOneSendInvitation success")}catch(t){const e=yield this.errorHelperService.getErrorInfo(t,"cancelOneSendInvitation");throw this.logger.error("[invitationService] "+e.message),e.error}}))}reSendInvitation(e){return r(this,void 0,void 0,(function*(){try{const t=`${config.restServerUrl}/api/rainbow/enduser/v1.0/users/${this.contactService.userContact.dbId}/invitations/${e}/re-send`,n=this.authService.getPostHeader(),r=yield fetch(t,{method:"POST",headers:n});if(!r.ok)throw r;this.logger.info(`[invitationService] reSendInvitation ${e} success`)}catch(t){const e=yield this.errorHelperService.getErrorInfo(t,"reSendInvitation");throw this.logger.error("[invitationService] "+e.message),e.error}}))}sendInvitationsParBulk(e){return r(this,void 0,void 0,(function*(){if(!e.length||e.length>100)throw this.logger.error("[invitationService] sendInvitationsParBulk mail list length not correct"),new Error("sendInvitationsParBulk mail list length not correct");try{const t=`${config.restServerUrl}/api/rainbow/enduser/v1.0/users/${this.contactService.userContact.dbId}/invitations/bulk`,n=this.authService.getPostHeader(),r=yield fetch(t,{method:"POST",headers:n,body:JSON.stringify({emails:e})});if(!r.ok)throw r;this.logger.info("[invitationService] sendInvitationsParBulk - success")}catch(t){const e=yield this.errorHelperService.getErrorInfo(t,"sendInvitationsParBulk");throw this.logger.error("[invitationService] "+e.message),e.error}}))}acceptInvitation(e){return r(this,void 0,void 0,(function*(){try{const t=`${this.portalURL}${e.invitedUserId}/invitations/${e.id}/accept`,n=this.authService.getPostHeader(),r=yield fetch(t,{method:"POST",headers:n});if(!r.ok)throw r;this.logger.info("[invitationService] acceptInvitation success")}catch(t){const n=yield this.errorHelperService.getErrorInfo(t,"acceptInvitation");if(!n.error.errorDetailsCode||409605!==n.error.errorDetailsCode)throw this.logger.error("[invitationService] "+n.message),n.error;{const t=yield this.contactService.getContactByDBId(e.invitingUserId,!0);this.eventService.publish("ON_CONTACT_UPDATED_EVENT",t)}}}))}declineInvitation(e){return r(this,void 0,void 0,(function*(){try{const t=`${this.portalURL}${e.invitedUserId}/invitations/${e.id}/decline`,n=this.authService.getPostHeader(),r=yield fetch(t,{method:"POST",headers:n});if(!r.ok)throw r;this.logger.info("[invitationService] declineInvitation success")}catch(t){const e=yield this.errorHelperService.getErrorInfo(t,"declineInvitation");throw this.logger.error("[invitationService] "+e.message),e.error}}))}updateContactInvitationStatus(e,t,n=null){return r(this,void 0,void 0,(function*(){const r=yield this.contactService.getContactByDBId(e);switch(t){case"ask":r.status="unknown",r.ask="ask",r.invitation=n;break;case"wait":r.status="wait",r.ask="subscribe",r.invitation=n;break;default:r.ask="none",r.invitation=null}this.contactService.updateContactRichStatus(r),r.rxSubject.next({name:"update",data:r})}))}sortInvitationArray(e,t){return new Date(t.lastNotificationDate).getTime()-new Date(e.lastNotificationDate).getTime()}getAllReceivedInvitations(){return r(this,void 0,void 0,(function*(){try{const e=`${this.portalURL}${this.contactService.userContact.dbId}/invitations/received?format=full&status=pending&limit=500`,t=this.authService.getRequestHeader(),n=yield fetch(e,{method:"GET",headers:t});if(!n.ok)throw n;const r=(yield n.json()).data;return this.logger.info(`[invitationService] getAllReceivedInvitations success (find ${r.length} invitations)`),this.receivedInvitations={},r.forEach(e=>{if("pending"===e.status&&"registration"!==e.type){const t=d.Invitation.createFromData(e);this.receivedInvitations[e.id]=t,e.invitingUserId&&this.updateContactInvitationStatus(e.invitingUserId,"ask",t)}else"accepted"!==e.status&&"auto-accepted"!==e.status||(this.receivedInvitations[e.id]=d.Invitation.createFromData(e))}),this.updateReceivedInvitationsArray(),this.receivedInvitations}catch(e){const t=yield this.errorHelperService.getErrorInfo(e,"getAllReceivedInvitations");throw this.logger.error("[invitationService] "+t.message),t.error}}))}getAllSentInvitations(){return r(this,void 0,void 0,(function*(){try{const e=`${this.portalURL}${this.contactService.userContact.dbId}/invitations/sent?format=full&status=pending&limit=500`,t=this.authService.getRequestHeader(),n=yield fetch(e,{method:"GET",headers:t});if(!n.ok)throw n;const r=(yield n.json()).data;return this.logger.info("[invitationService] getAllSentInvitations success (find "+r.length+" invitations)"),this.sentInvitations={},r.forEach(e=>{if("pending"===e.status&&!e.inviteToJoinMeeting){const t=d.Invitation.createFromData(e);this.sentInvitations[e.id]=t,void 0!==t.invitedUserId&&this.updateContactInvitationStatus(t.invitedUserId,"wait",t)}}),this.updateSentInvitationsArray(),this.sentInvitations}catch(e){const t=yield this.errorHelperService.getErrorInfo(e,"getAllSentInvitations");throw this.logger.error("[invitationService] "+t.message),t.error}}))}}t.InvitationService=h,t.default=h.getInstance()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(235);t.ConversationSDK=class{constructor(e){this.isFavorite=!1,this.messages=[],this.id=e.dbId,this.type=e.type,this.contactId=e.contact?e.contact.dbId:null,this.bubbleId=e.room?e.room.dbId:null,this.name=e.name?e.name.value:null,this.bubbleName=e.room?e.room.name:null,this.creationDate=e.creationDate,this.lastModificiationDate=e.lastModification,this.isFavorite=e.isFavorite,this.messages=e.messages?e.messages.map(e=>new r.MessageSDK(e)):[],this.lastMessage=e.lastMessageText}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.MessageSDK=class{constructor(e,t=null){this.shortFileDescriptor=null,this.alternativeContent=e.alternativeContent,this.answeredMsgId=e.answeredMsgId,this.id=e.id,this.type=e.type.value,this.data=e.data,this.date=e.date,this.senderId=e.from?e.from.dbId:"",this.isForwarded=e.isForwarded,this.receiptStatus=e.receiptStatus,this.status=e.status,this.urgency=e.urgency,this.shortFileDescriptor=t,this.fileId=e.fileId||"",this.messageHistory=e.replaceMsgs}}},function(e,t,n){var r=n(52);function o(e,t,n,o,i){var s=r.writeRtpDescription(e.kind,t);if(s+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),s+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":i||"active"),s+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?s+="a=sendrecv\r\n":e.rtpSender?s+="a=sendonly\r\n":e.rtpReceiver?s+="a=recvonly\r\n":s+="a=inactive\r\n",e.rtpSender){var a=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=a;var l="msid:"+(o?o.id:"-")+" "+a+"\r\n";s+="a="+l,s+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+l,e.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+l,s+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return s+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),s}function i(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},o=function(e,t,n,o){var i=r(e.parameters.apt,n),s=r(t.parameters.apt,o);return i&&s&&i.name.toLowerCase()===s.name.toLowerCase()};return e.codecs.forEach((function(r){for(var i=0;i<t.codecs.length;i++){var s=t.codecs[i];if(r.name.toLowerCase()===s.name.toLowerCase()&&r.clockRate===s.clockRate){if("rtx"===r.name.toLowerCase()&&r.parameters&&s.parameters.apt&&!o(r,s,e.codecs,t.codecs))continue;(s=JSON.parse(JSON.stringify(s))).numChannels=Math.min(r.numChannels,s.numChannels),n.codecs.push(s),s.rtcpFeedback=s.rtcpFeedback.filter((function(e){for(var t=0;t<r.rtcpFeedback.length;t++)if(r.rtcpFeedback[t].type===e.type&&r.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var r=0;r<t.headerExtensions.length;r++){var o=t.headerExtensions[r];if(e.uri===o.uri){n.headerExtensions.push(o);break}}})),n}function s(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function a(e,t){var n=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return n||e.addRemoteCandidate(t),!n}function l(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}e.exports=function(e,t){function n(t,n){n.addTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function c(t,n,r,o){var i=new Event("track");i.track=n,i.receiver=r,i.transceiver={receiver:r},i.streams=o,e.setTimeout((function(){t._dispatchEvent("track",i)}))}var u=function(n){var o=this,i=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){o[e]=i[e].bind(i)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",n=JSON.parse(JSON.stringify(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy)throw l("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all"}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced"}if(n.iceServers=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var r=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var o="string"==typeof r;return o&&(r=[r]),r=r.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||n?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(n=!0,!0)})),delete e.url,e.urls=o?r[0]:r,!!r.length}}))}(n.iceServers||[],t),this._iceGatherers=[],n.iceCandidatePoolSize)for(var s=n.iceCandidatePoolSize;s>0;s--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy}));else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=r.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(u.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(u.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),u.prototype.onicecandidate=null,u.prototype.onaddstream=null,u.prototype.ontrack=null,u.prototype.onremovestream=null,u.prototype.onsignalingstatechange=null,u.prototype.oniceconnectionstatechange=null,u.prototype.onconnectionstatechange=null,u.prototype.onicegatheringstatechange=null,u.prototype.onnegotiationneeded=null,u.prototype.ondatachannel=null,u.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},u.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},u.prototype.getConfiguration=function(){return this._config},u.prototype.getLocalStreams=function(){return this.localStreams},u.prototype.getRemoteStreams=function(){return this.remoteStreams},u.prototype._createTransceiver=function(e,t){var n=this.transceivers.length>0,r={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&n)r.iceTransport=this.transceivers[0].iceTransport,r.dtlsTransport=this.transceivers[0].dtlsTransport;else{var o=this._createIceAndDtlsTransports();r.iceTransport=o.iceTransport,r.dtlsTransport=o.dtlsTransport}return t||this.transceivers.push(r),r},u.prototype.addTrack=function(t,n){if(this._isClosed)throw l("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var r;if(this.transceivers.find((function(e){return e.track===t})))throw l("InvalidAccessError","Track already exists.");for(var o=0;o<this.transceivers.length;o++)this.transceivers[o].track||this.transceivers[o].kind!==t.kind||(r=this.transceivers[o]);return r||(r=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),r.track=t,r.stream=n,r.rtpSender=new e.RTCRtpSender(t,r.dtlsTransport),r.rtpSender},u.prototype.addStream=function(e){var n=this;if(t>=15025)e.getTracks().forEach((function(t){n.addTrack(t,e)}));else{var r=e.clone();e.getTracks().forEach((function(e,t){var n=r.getTracks()[t];e.addEventListener("enabled",(function(e){n.enabled=e.enabled}))})),r.getTracks().forEach((function(e){n.addTrack(e,r)}))}},u.prototype.removeTrack=function(t){if(this._isClosed)throw l("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find((function(e){return e.rtpSender===t}));if(!n)throw l("InvalidAccessError","Sender was not created by this connection.");var r=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map((function(e){return e.stream})).indexOf(r)&&this.localStreams.indexOf(r)>-1&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},u.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var n=t.getSenders().find((function(t){return t.track===e}));n&&t.removeTrack(n)}))},u.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},u.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},u.prototype._createIceGatherer=function(t,n){var r=this;if(n&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var o=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(o,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===Object.keys(e.candidate).length;o.state=n?"completed":"gathering",null!==r.transceivers[t].bufferedCandidateEvents&&r.transceivers[t].bufferedCandidateEvents.push(e)},o.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),o},u.prototype._gather=function(t,n){var o=this,i=this.transceivers[n].iceGatherer;if(!i.onlocalcandidate){var s=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,i.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),i.onlocalcandidate=function(e){if(!(o.usingBundle&&n>0)){var s=new Event("icecandidate");s.candidate={sdpMid:t,sdpMLineIndex:n};var a=e.candidate,l=!a||0===Object.keys(a).length;if(l)"new"!==i.state&&"gathering"!==i.state||(i.state="completed");else{"new"===i.state&&(i.state="gathering"),a.component=1,a.ufrag=i.getLocalParameters().usernameFragment;var c=r.writeCandidate(a);s.candidate=Object.assign(s.candidate,r.parseCandidate(c)),s.candidate.candidate=c,s.candidate.toJSON=function(){return{candidate:s.candidate.candidate,sdpMid:s.candidate.sdpMid,sdpMLineIndex:s.candidate.sdpMLineIndex,usernameFragment:s.candidate.usernameFragment}}}var u=r.getMediaSections(o._localDescription.sdp);u[s.candidate.sdpMLineIndex]+=l?"a=end-of-candidates\r\n":"a="+s.candidate.candidate+"\r\n",o._localDescription.sdp=r.getDescription(o._localDescription.sdp)+u.join("");var d=o.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));"gathering"!==o.iceGatheringState&&(o.iceGatheringState="gathering",o._emitGatheringStateChange()),l||o._dispatchEvent("icecandidate",s),d&&(o._dispatchEvent("icecandidate",new Event("icecandidate")),o.iceGatheringState="complete",o._emitGatheringStateChange())}},e.setTimeout((function(){s.forEach((function(e){i.onlocalcandidate(e)}))}),0)}},u.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null);n.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var r=new e.RTCDtlsTransport(n);return r.ondtlsstatechange=function(){t._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:r}},u.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var r=this.transceivers[e].dtlsTransport;r&&(delete r.ondtlsstatechange,delete r.onerror,delete this.transceivers[e].dtlsTransport)},u.prototype._transceive=function(e,n,o){var s=i(e.localCapabilities,e.remoteCapabilities);n&&e.rtpSender&&(s.encodings=e.sendEncodingParameters,s.rtcp={cname:r.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(s.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(s)),o&&e.rtpReceiver&&s.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),e.recvEncodingParameters.length?s.encodings=e.recvEncodingParameters:s.encodings=[{}],s.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(s.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(s.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(s))},u.prototype.setLocalDescription=function(e){var t,n,o=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(l("TypeError",'Unsupported type "'+e.type+'"'));if(!s("setLocalDescription",e.type,o.signalingState)||o._isClosed)return Promise.reject(l("InvalidStateError","Can not set local "+e.type+" in state "+o.signalingState));if("offer"===e.type)t=r.splitSections(e.sdp),n=t.shift(),t.forEach((function(e,t){var n=r.parseRtpParameters(e);o.transceivers[t].localCapabilities=n})),o.transceivers.forEach((function(e,t){o._gather(e.mid,t)}));else if("answer"===e.type){t=r.splitSections(o._remoteDescription.sdp),n=t.shift();var a=r.matchPrefix(n,"a=ice-lite").length>0;t.forEach((function(e,t){var s=o.transceivers[t],l=s.iceGatherer,c=s.iceTransport,u=s.dtlsTransport,d=s.localCapabilities,f=s.remoteCapabilities;if((!r.isRejected(e)||0!==r.matchPrefix(e,"a=bundle-only").length)&&!s.rejected){var _=r.getIceParameters(e,n),h=r.getDtlsParameters(e,n);a&&(h.role="server"),o.usingBundle&&0!==t||(o._gather(s.mid,t),"new"===c.state&&c.start(l,_,a?"controlling":"controlled"),"new"===u.state&&u.start(h));var p=i(d,f);o._transceive(s,p.codecs.length>0,!1)}}))}return o._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?o._updateSignalingState("have-local-offer"):o._updateSignalingState("stable"),Promise.resolve()},u.prototype.setRemoteDescription=function(o){var u=this;if(-1===["offer","answer"].indexOf(o.type))return Promise.reject(l("TypeError",'Unsupported type "'+o.type+'"'));if(!s("setRemoteDescription",o.type,u.signalingState)||u._isClosed)return Promise.reject(l("InvalidStateError","Can not set remote "+o.type+" in state "+u.signalingState));var d={};u.remoteStreams.forEach((function(e){d[e.id]=e}));var f=[],_=r.splitSections(o.sdp),h=_.shift(),p=r.matchPrefix(h,"a=ice-lite").length>0,m=r.matchPrefix(h,"a=group:BUNDLE ").length>0;u.usingBundle=m;var g=r.matchPrefix(h,"a=ice-options:")[0];return u.canTrickleIceCandidates=!!g&&g.substr(14).split(" ").indexOf("trickle")>=0,_.forEach((function(s,l){var c=r.splitLines(s),_=r.getKind(s),g=r.isRejected(s)&&0===r.matchPrefix(s,"a=bundle-only").length,v=c[0].substr(2).split(" ")[2],b=r.getDirection(s,h),D=r.parseMsid(s),y=r.getMid(s)||r.generateIdentifier();if(g||"application"===_&&("DTLS/SCTP"===v||"UDP/DTLS/SCTP"===v))u.transceivers[l]={mid:y,kind:_,protocol:v,rejected:!0};else{var C,S,E,w,T,M,j,k,O;!g&&u.transceivers[l]&&u.transceivers[l].rejected&&(u.transceivers[l]=u._createTransceiver(_,!0));var A,I,P=r.parseRtpParameters(s);g||(A=r.getIceParameters(s,h),(I=r.getDtlsParameters(s,h)).role="client"),j=r.parseRtpEncodingParameters(s);var x=r.parseRtcpParameters(s),R=r.matchPrefix(s,"a=end-of-candidates",h).length>0,F=r.matchPrefix(s,"a=candidate:").map((function(e){return r.parseCandidate(e)})).filter((function(e){return 1===e.component}));if(("offer"===o.type||"answer"===o.type)&&!g&&m&&l>0&&u.transceivers[l]&&(u._disposeIceAndDtlsTransports(l),u.transceivers[l].iceGatherer=u.transceivers[0].iceGatherer,u.transceivers[l].iceTransport=u.transceivers[0].iceTransport,u.transceivers[l].dtlsTransport=u.transceivers[0].dtlsTransport,u.transceivers[l].rtpSender&&u.transceivers[l].rtpSender.setTransport(u.transceivers[0].dtlsTransport),u.transceivers[l].rtpReceiver&&u.transceivers[l].rtpReceiver.setTransport(u.transceivers[0].dtlsTransport)),"offer"!==o.type||g)"answer"!==o.type||g||(S=(C=u.transceivers[l]).iceGatherer,E=C.iceTransport,w=C.dtlsTransport,T=C.rtpReceiver,M=C.sendEncodingParameters,k=C.localCapabilities,u.transceivers[l].recvEncodingParameters=j,u.transceivers[l].remoteCapabilities=P,u.transceivers[l].rtcpParameters=x,F.length&&"new"===E.state&&(!p&&!R||m&&0!==l?F.forEach((function(e){a(C.iceTransport,e)})):E.setRemoteCandidates(F)),m&&0!==l||("new"===E.state&&E.start(S,A,"controlling"),"new"===w.state&&w.start(I)),!i(C.localCapabilities,C.remoteCapabilities).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&C.sendEncodingParameters[0].rtx&&delete C.sendEncodingParameters[0].rtx,u._transceive(C,"sendrecv"===b||"recvonly"===b,"sendrecv"===b||"sendonly"===b),!T||"sendrecv"!==b&&"sendonly"!==b?delete C.rtpReceiver:(O=T.track,D?(d[D.stream]||(d[D.stream]=new e.MediaStream),n(O,d[D.stream]),f.push([O,T,d[D.stream]])):(d.default||(d.default=new e.MediaStream),n(O,d.default),f.push([O,T,d.default]))));else{(C=u.transceivers[l]||u._createTransceiver(_)).mid=y,C.iceGatherer||(C.iceGatherer=u._createIceGatherer(l,m)),F.length&&"new"===C.iceTransport.state&&(!R||m&&0!==l?F.forEach((function(e){a(C.iceTransport,e)})):C.iceTransport.setRemoteCandidates(F)),k=e.RTCRtpReceiver.getCapabilities(_),t<15019&&(k.codecs=k.codecs.filter((function(e){return"rtx"!==e.name}))),M=C.sendEncodingParameters||[{ssrc:1001*(2*l+2)}];var L,N=!1;"sendrecv"===b||"sendonly"===b?(N=!C.rtpReceiver,T=C.rtpReceiver||new e.RTCRtpReceiver(C.dtlsTransport,_),N&&(O=T.track,D&&"-"===D.stream||(D?(d[D.stream]||(d[D.stream]=new e.MediaStream,Object.defineProperty(d[D.stream],"id",{get:function(){return D.stream}})),Object.defineProperty(O,"id",{get:function(){return D.track}}),L=d[D.stream]):(d.default||(d.default=new e.MediaStream),L=d.default)),L&&(n(O,L),C.associatedRemoteMediaStreams.push(L)),f.push([O,T,L]))):C.rtpReceiver&&C.rtpReceiver.track&&(C.associatedRemoteMediaStreams.forEach((function(t){var n=t.getTracks().find((function(e){return e.id===C.rtpReceiver.track.id}));n&&function(t,n){n.removeTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}(n,t)})),C.associatedRemoteMediaStreams=[]),C.localCapabilities=k,C.remoteCapabilities=P,C.rtpReceiver=T,C.rtcpParameters=x,C.sendEncodingParameters=M,C.recvEncodingParameters=j,u._transceive(u.transceivers[l],!1,N)}}})),void 0===u._dtlsRole&&(u._dtlsRole="offer"===o.type?"active":"passive"),u._remoteDescription={type:o.type,sdp:o.sdp},"offer"===o.type?u._updateSignalingState("have-remote-offer"):u._updateSignalingState("stable"),Object.keys(d).forEach((function(t){var n=d[t];if(n.getTracks().length){if(-1===u.remoteStreams.indexOf(n)){u.remoteStreams.push(n);var r=new Event("addstream");r.stream=n,e.setTimeout((function(){u._dispatchEvent("addstream",r)}))}f.forEach((function(e){var t=e[0],r=e[1];n.id===e[2].id&&c(u,t,r,[n])}))}})),f.forEach((function(e){e[2]||c(u,e[0],e[1],[])})),e.setTimeout((function(){u&&u.transceivers&&u.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),Promise.resolve()},u.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},u.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},u.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}}),0))},u.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},u.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},u.prototype.createOffer=function(){var n=this;if(n._isClosed)return Promise.reject(l("InvalidStateError","Can not call createOffer after close"));var i=n.transceivers.filter((function(e){return"audio"===e.kind})).length,s=n.transceivers.filter((function(e){return"video"===e.kind})).length,a=arguments[0];if(a){if(a.mandatory||a.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==a.offerToReceiveAudio&&(i=!0===a.offerToReceiveAudio?1:!1===a.offerToReceiveAudio?0:a.offerToReceiveAudio),void 0!==a.offerToReceiveVideo&&(s=!0===a.offerToReceiveVideo?1:!1===a.offerToReceiveVideo?0:a.offerToReceiveVideo)}for(n.transceivers.forEach((function(e){"audio"===e.kind?--i<0&&(e.wantReceive=!1):"video"===e.kind&&--s<0&&(e.wantReceive=!1)}));i>0||s>0;)i>0&&(n._createTransceiver("audio"),i--),s>0&&(n._createTransceiver("video"),s--);var c=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.transceivers.forEach((function(o,i){var s=o.track,a=o.kind,l=o.mid||r.generateIdentifier();o.mid=l,o.iceGatherer||(o.iceGatherer=n._createIceGatherer(i,n.usingBundle));var c=e.RTCRtpSender.getCapabilities(a);t<15019&&(c.codecs=c.codecs.filter((function(e){return"rtx"!==e.name}))),c.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),o.remoteCapabilities&&o.remoteCapabilities.codecs&&o.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),c.headerExtensions.forEach((function(e){(o.remoteCapabilities&&o.remoteCapabilities.headerExtensions||[]).forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))}));var u=o.sendEncodingParameters||[{ssrc:1001*(2*i+1)}];s&&t>=15019&&"video"===a&&!u[0].rtx&&(u[0].rtx={ssrc:u[0].ssrc+1}),o.wantReceive&&(o.rtpReceiver=new e.RTCRtpReceiver(o.dtlsTransport,a)),o.localCapabilities=c,o.sendEncodingParameters=u})),"max-compat"!==n._config.bundlePolicy&&(c+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),c+="a=ice-options:trickle\r\n",n.transceivers.forEach((function(e,t){c+=o(e,e.localCapabilities,"offer",e.stream,n._dtlsRole),c+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===n.iceGatheringState||0!==t&&n.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,c+="a="+r.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(c+="a=end-of-candidates\r\n"))}));var u=new e.RTCSessionDescription({type:"offer",sdp:c});return Promise.resolve(u)},u.prototype.createAnswer=function(){var n=this;if(n._isClosed)return Promise.reject(l("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==n.signalingState&&"have-local-pranswer"!==n.signalingState)return Promise.reject(l("InvalidStateError","Can not call createAnswer in signalingState "+n.signalingState));var s=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.usingBundle&&(s+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),s+="a=ice-options:trickle\r\n";var a=r.getMediaSections(n._remoteDescription.sdp).length;n.transceivers.forEach((function(e,r){if(!(r+1>a)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?s+="m=application 0 DTLS/SCTP 5000\r\n":s+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?s+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(s+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(s+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var l;e.stream&&("audio"===e.kind?l=e.stream.getAudioTracks()[0]:"video"===e.kind&&(l=e.stream.getVideoTracks()[0]),l&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1}));var c=i(e.localCapabilities,e.remoteCapabilities);!c.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,s+=o(e,c,"answer",e.stream,n._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(s+="a=rtcp-rsize\r\n")}}));var c=new e.RTCSessionDescription({type:"answer",sdp:s});return Promise.resolve(c)},u.prototype.addIceCandidate=function(e){var t,n=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise((function(o,i){if(!n._remoteDescription)return i(l("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var s=e.sdpMLineIndex;if(e.sdpMid)for(var c=0;c<n.transceivers.length;c++)if(n.transceivers[c].mid===e.sdpMid){s=c;break}var u=n.transceivers[s];if(!u)return i(l("OperationError","Can not add ICE candidate"));if(u.rejected)return o();var d=Object.keys(e.candidate).length>0?r.parseCandidate(e.candidate):{};if("tcp"===d.protocol&&(0===d.port||9===d.port))return o();if(d.component&&1!==d.component)return o();if((0===s||s>0&&u.iceTransport!==n.transceivers[0].iceTransport)&&!a(u.iceTransport,d))return i(l("OperationError","Can not add ICE candidate"));var f=e.candidate.trim();0===f.indexOf("a=")&&(f=f.substr(2)),(t=r.getMediaSections(n._remoteDescription.sdp))[s]+="a="+(d.type?f:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+t.join("")}else for(var _=0;_<n.transceivers.length&&(n.transceivers[_].rejected||(n.transceivers[_].iceTransport.addRemoteCandidate({}),(t=r.getMediaSections(n._remoteDescription.sdp))[_]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+t.join(""),!n.usingBundle));_++);o()}))},u.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var n=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===t?n=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(n=e.rtpReceiver)})),!n)throw l("InvalidAccessError","Invalid selector.");return n.getStats()}var r=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&r.push(e[t].getStats())}))})),Promise.all(r).then((function(e){var t=new Map;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach((function(t){var n=e[t];if(n&&n.prototype&&n.prototype.getStats){var r=n.prototype.getStats;n.prototype.getStats=function(){return r.apply(this).then((function(e){var t=new Map;return Object.keys(e).forEach((function(n){var r;e[n].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(r=e[n]).type]||r.type,t.set(n,e[n])})),t}))}}}));var d=["createOffer","createAnswer"];return d.forEach((function(e){var t=u.prototype[e];u.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"==typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"==typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),(d=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach((function(e){var t=u.prototype[e];u.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)}),(function(t){"function"==typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=u.prototype[e];u.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),u}},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(10),i=n(22),s=n(26),a=n(6),l=n(3),c=n(33),u=n(5),d=n(2),f=n(25),_=n(233),h=n(7),p=n(34),m=n(29),g=n(28),v=new WeakMap,b=new WeakMap,D=new WeakMap,y=new WeakMap,C=new WeakMap,S=new WeakMap,E=new WeakMap,w=new WeakMap,T=new WeakMap,M=new WeakMap,j=new WeakMap,k=new WeakMap,O=new WeakMap,A=new WeakMap,I=new WeakMap,P=new WeakMap,x=new WeakMap,R=new WeakMap,F=new WeakMap;t.ConnectionService=class{constructor(e,t,n,r,s,_,p,m,g,L,N,B,U,H,W,Y,$,q,G,V){this.logService="ConnectionService | ",this.state="disconnected",this.hostUsed="",this.RAINBOW_ONCONNECTIONSTATECHANGED="rainbowconnectionstatechanged",this.RAINBOW_ONSTARTED="started",this.RAINBOW_ONSIGNED="signed",this.RAINBOW_ONSTOPPED="stopped",this.RAINBOW_CONNECTIONINPROGRESS="inProgress",this.RAINBOW_ONUSERTOKENRENEW="userTokenRenew",this.RAINBOW_ONUSERTOKENRENEWFAILED="userTokenRenewFailed",this.RAINBOW_ONAPPTOKENRENEW="applicationTokenRenew",this.RAINBOW_ONAPPTOKENRENEWFAILED="applicationTokenRenewFailed",this.RAINBOW_CONNECTIONCONNECTED="connected",this.RAINBOW_CONNECTIONDISCONNECTED="disconnected",this.RAINBOW_OFFICIAL_HOST="openrainbow.com",this.RAINBOW_BETA_HOST="openrainbow.net",this.RAINBOW_DEV_HOST="openrainbow.org",this.RAINBOW_SANDBOX_HOST="sandbox.openrainbow.com",this.RAINBOW_CPAASPREPROD_HOST="cpaaspreprod.openrainbow.net",this.RAINBOW_CHINA_HOST="myopenrainbow.com.cn",this.RAINBOW_CHINASANDBOX_HOST="sandbox.myopenrainbow.com.cn",c.default.configure(e),a.default.configure("en"),a.default.setSetting("apiMode","sdk"),v.set(this,t),b.set(this,n),D.set(this,r),y.set(this,s),C.set(this,_),S.set(this,p),E.set(this,m),w.set(this,g),T.set(this,L),M.set(this,N),j.set(this,B),k.set(this,U),O.set(this,H),A.set(this,W),I.set(this,Y),P.set(this,$),x.set(this,q),R.set(this,G),F.set(this,V),u.default.subscribeToConnectionEvents(e=>{let t="connected";"ON_XMPP_CONNECTING"===e.name&&(t="inProgress"),"ON_XMPP_DISCONNECTED"===e.name&&(t="LOGOUT"===e.data.reason?"unlogged":"disconnected"),"ON_XMPP_CONNECTED"===e.name&&(t="connected","RECONNECTION"===e.data.reason&&(i.eventsService.dispatchEvent(this.RAINBOW_ONCONNECTIONSTATECHANGED,"reconnecting"),this.reconnectServices())),this.state=t,o.rainbowLogger.sdk(this.logService+"[onChange] :: Connection state changed to "+t),i.eventsService.dispatchEvent(this.RAINBOW_ONCONNECTIONSTATECHANGED,t)}),l.default.subscribe(e=>{switch(e.name){case"ON_AUTH_TOKEN_RENEW":i.eventsService.dispatchEvent(this.RAINBOW_ONUSERTOKENRENEW);break;case"ON_AUTH_TOKEN_EXPIRE":i.eventsService.dispatchEvent(this.RAINBOW_ONUSERTOKENRENEWFAILED);break;case"ON_APP_TOKEN_RENEW":i.eventsService.dispatchEvent(this.RAINBOW_ONAPPTOKENRENEW);break;case"ON_APP_TOKEN_EXPIRE":i.eventsService.dispatchEvent(this.RAINBOW_ONAPPTOKENRENEWFAILED)}}),window.addEventListener("beforeunload",(function(){_.stop(),d.default.stop(),B.stop(),s.stop(),g.stop(),r.stop(),f.default.stop(),u.default.stop(),h.default.stop(),G.stop(),$.stop(),q.stop()}))}static get $inject(){return["$rootScope","configService","botService","fileServerService","groupService","videoService","favoriteService","webrtcServiceEventHandler","telephonyService","conferenceService","webConferenceService","conversationService","platformService","adminCompanyService","companyDirectoryService","adminUserService","channelService","webrtcGatewayService","recordsService","voiceMessageService"]}signin(e,t){return this.hostUsed=this.RAINBOW_SANDBOX_HOST,this.signinToRainbow(e,t,null)}signinOnRainbowOfficial(e,t){return this.hostUsed=this.RAINBOW_OFFICIAL_HOST,window.config.webservices.currentServer=this.RAINBOW_OFFICIAL_HOST,this.signinToRainbow(e,t,null)}signinOnRainbowBeta(e,t){return this.hostUsed=this.RAINBOW_BETA_HOST,this.signinToRainbow(e,t,null)}signinOnRainbowCPaasPreProd(e,t){return this.hostUsed=this.RAINBOW_CPAASPREPROD_HOST,this.signinToRainbow(e,t,null)}signinOnRainbowDev(e,t){return this.hostUsed=this.RAINBOW_DEV_HOST,this.signinToRainbow(e,t,null)}signinOnRainbowSandboxChina(e,t){return this.hostUsed=this.RAINBOW_CHINASANDBOX_HOST,this.signinToRainbow(e,t,null)}signinOnRainbowChina(e,t){return this.hostUsed=this.RAINBOW_CHINA_HOST,this.signinToRainbow(e,t,null)}signinOnRainbowHosted(e,t,n){return this.hostUsed=n,this.signinToRainbow(e,t,null)}signinSandBoxWithToken(e){return r(this,void 0,void 0,(function*(){return this.hostUsed=this.RAINBOW_SANDBOX_HOST,yield this.signinToRainbow(null,null,e)}))}signinOnRainbowOfficialWithToken(e){return r(this,void 0,void 0,(function*(){return this.hostUsed=this.RAINBOW_OFFICIAL_HOST,window.config.webservices.currentServer=this.RAINBOW_OFFICIAL_HOST,yield this.signinToRainbow(null,null,e)}))}signinOnRainbowBetaWithToken(e){return this.hostUsed=this.RAINBOW_BETA_HOST,this.signinToRainbow(null,null,e)}signinOnRainbowDevWithToken(e){return this.hostUsed=this.RAINBOW_DEV_HOST,this.signinToRainbow(null,null,e)}signinOnRainbowHostedWithToken(e,t){return this.hostUsed=t,this.signinToRainbow(null,null,e)}signinOnRainbowWithOICD(e){let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length;for(let o=0;o<30;o++)t+=n.charAt(Math.floor(Math.random()*r));const i=`https://openrainbow.com/api/rainbow/authentication/v1.0/oidc-client/jwt?id_token=${e}&challenge=${t}`;return new Promise((n,r)=>{if(!e)return o.rainbowLogger.sdk(this.logService+"[signinOnRainbowWithOICD] :: Argument strToken is null or undefined"),r("Argument strToken is null or undefined");let s=window.btoa(unescape(encodeURIComponent(window.sdk.key.appID+":"+window.SHA256(window.sdk.key.appSecret+t))));s="Basic "+s;const a=new Headers({"Content-Type":"application/x-www-form-urlencoded","X-Rainbow-App-Auth":s,Accept:"application/json"});fetch(i,{method:"get",mode:"cors",headers:a}).then(e=>{e.json().then(e=>{this.signinOnRainbowBetaWithToken(e.token).then(e=>n(e)).catch(e=>r(e))})}).catch(e=>r(e))})}styleSignInWithRainbowButton(e,t){const n=document.querySelector(".SignInWithRainbow");if(!n)return o.rainbowLogger.sdk(this.logService+"[styleSignInWithRainbowButton] :: Could not find a corresponding HTML element"),!1;let r,i,s,a,l,c;return t||(t="medium"),e||(e="blue"),"blue"===e?(l="#1b85e0",c="#FFFFFF"):"white"===e&&(l="#FFFFFF",c="#1b85e0"),"small"===t?(r="200px",i="20px",s="18px",a="12px"):"medium"===t?(r="250px",i="30px",s="26px",a="16px"):"large"===t&&(r="350px",i="40px",s="34px",a="22px"),n.style.backgroundColor=l,n.style.color=c,n.style.width=r,n.style.height=i,n.style.fontSize=a,n.style.border="0px",n.style.borderRadius="5px",n.innerHTML="Sign in with Rainbow",n.style.backgroundImage="url('https://hub.openrainbow.com/android-chrome-48x48.png')",n.style.backgroundPosition="left",n.style.backgroundRepeat="no-repeat",n.style.verticalAlign="middle",n.style.backgroundSize=s,n.style.backgroundOrigin="content-box",n.style.paddingLeft="13px",o.rainbowLogger.sdk(this.logService+"[styleSignInWithRainbowButton] :: Styled a corresponding HTML element"),!0}signout(){const e=C.get(this),t=S.get(this),n=E.get(this),r=b.get(this),s=j.get(this),a=T.get(this),l=M.get(this),c=P.get(this),m=w.get(this),v=D.get(this),k=y.get(this),L=O.get(this),N=A.get(this),B=I.get(this),U=x.get(this),H=R.get(this),W=F.get(this),Y={code:g.SDK.OK,label:"OK"};return o.rainbowLogger.sdk(this.logService+"[signout] :: Trying to sign out"),new Promise((g,b)=>{e.stop().then(()=>(o.rainbowLogger.sdk(this.logService+"[signout] :: Video service stopped"),t.stop())).then(()=>(o.rainbowLogger.sdk(this.logService+"[signout] :: Favorite service stopped"),W.stop())).then(()=>(o.rainbowLogger.sdk(this.logService+"[signout] :: VoiceMessage service stopped"),n.stop())).then(()=>(o.rainbowLogger.sdk(this.logService+"[signout] :: WebRTCEventHandler service stopped"),d.default.stop())).then(()=>(o.rainbowLogger.sdk(this.logService+"[signout] :: Contact service stopped"),r.stop())).then(()=>(o.rainbowLogger.sdk(this.logService+"[signout] :: Bot service stopped"),h.default.stop())).then(()=>(o.rainbowLogger.sdk(this.logService+"[signout] :: Profile service stopped"),s.stop())).then(()=>(o.rainbowLogger.sdk(this.logService+"[signout] :: Conversation service stopped"),a.stop())).then(()=>(o.rainbowLogger.sdk(this.logService+"[signout] :: Conference service stopped"),l.stop())).then(()=>{o.rainbowLogger.sdk(this.logService+"[signout] :: PTSN Conference service stopped")}).then(()=>(o.rainbowLogger.sdk(this.logService+"[signout] :: ChannelService service stopped"),c.stop())).then(()=>m.stop()).then(()=>(o.rainbowLogger.sdk(this.logService+"[signout] :: Telephony service stopped"),v.stop())).then(()=>(o.rainbowLogger.sdk(this.logService+"[signout] :: FileServer service stopped"),f.default.stop())).then(()=>(o.rainbowLogger.sdk(this.logService+"[signout] :: FileStorage service stopped"),_.default.stop())).then(()=>(o.rainbowLogger.sdk(this.logService+"[signout] :: Invitation service stopped"),k.stop())).then(()=>(o.rainbowLogger.sdk(this.logService+"[signout] :: Group service stopped"),p.default.stop())).then(()=>(o.rainbowLogger.sdk(this.logService+"[signout] :: Room service stopped"),L.stop())).then(()=>(o.rainbowLogger.sdk(this.logService+"[signout] :: Company Directory service stopped"),N.stop())).then(()=>(o.rainbowLogger.sdk(this.logService+"[signout] :: Admin User service stopped"),B.stop())).then(()=>(o.rainbowLogger.sdk(this.logService+"[signout] :: Invitation service stopped"),U.stop())).then(()=>(o.rainbowLogger.sdk(this.logService+"[signout] :: webrtcGateway service stopped"),u.default.stop())).then(()=>(o.rainbowLogger.sdk(this.logService+"[signout] :: Records service stopped"),H.stop())).then(()=>(o.rainbowLogger.sdk(this.logService+"[signout] :: XMPP service stopped"),o.rainbowLogger.sdk(this.logService+"[signout] :: Services Successfully unloaded!"),i.eventsService.dispatchEvent(this.RAINBOW_ONSTOPPED,null),g(Y))).catch(e=>(o.rainbowLogger.sdk(this.logService+"[signout] :: An error occurred during signout"),b(e)))})}updateUserPassword(e,t){return d.default.updateUserPassword(e,t,!1)}getState(){return this.state}getToken(){return l.default.token}refreshToken(){return r(this,void 0,void 0,(function*(){yield l.default.renewAuthToken(!1)}))}signinToRainbow(e,t,n){const r=C.get(this),a=E.get(this),c=b.get(this),v=j.get(this),L=T.get(this),N=M.get(this),B=P.get(this),U=w.get(this),H=D.get(this),W=y.get(this),Y=O.get(this),$=A.get(this),q=I.get(this),G=x.get(this),V=R.get(this),z=k.get(this),K=S.get(this),J=F.get(this);o.rainbowLogger.time("Auth");let Q=!1;return new Promise((b,D)=>{if(n)Q=!0,e=null,t=null;else{if(!e)return D({code:g.SDK.ERRORBADREQUEST,label:"Parameter 'login' is missing or empty"});if(!t)return D({code:g.SDK.ERRORBADREQUEST,label:"Parameter 'password' is missing or empty"})}s.default.configure(),o.rainbowLogger.sdk(this.logService+"[signin] :: Rainbow host used "+this.hostUsed),Q?o.rainbowLogger.sdk(this.logService+"[signin] :: Trying to sign-in with given token"):o.rainbowLogger.sdk(this.logService+"[signin] :: Trying to sign-in");const y={code:g.SDK.OK,label:"",account:null},C={appID:window.sdk.key.appID,appSecret:window.sdk.key.appSecret};l.default.removeCredentials(),o.rainbowLogger.time("RainbowSDK Performance - sdkLogOn"),l.default.sdkLogOn(e,t,this.hostUsed,C,n).then(()=>{o.rainbowLogger.timeEnd("RainbowSDK Performance - sdkLogOn"),y.account={},y.label="ok",y.account.userId=l.default.userId,y.account.companyId=l.default.companyId,y.account.loginEmail=l.default.login,y.account.roles=l.default.loggedInUser.roles,y.token=l.default.token,y.userData=l.default.loggedInUser;const e=[];o.rainbowLogger.sdk(this.logService+"[signin] :: Successfully sign-in with  | "+l.default.jidIm),i.eventsService.dispatchEvent(this.RAINBOW_ONSIGNED,y),l.default.startTokenSurvey(),o.rainbowLogger.sdk(this.logService+"[signin] :: Start services..."),o.rainbowLogger.time("RainbowSDK Performance - XMPPService"),u.default.start().then(()=>(o.rainbowLogger.timeEnd("RainbowSDK Performance - companyService"),o.rainbowLogger.sdk(this.logService+"[signin] :: Company service ready!"),o.rainbowLogger.time("RainbowSDK Performance - adminCompanyService"),Y.start(e))).then(()=>(o.rainbowLogger.timeEnd("RainbowSDK Performance - adminCompanyService"),o.rainbowLogger.sdk(this.logService+"[signin] :: Admin company service ready!"),o.rainbowLogger.time("RainbowSDK Performance - companyDirectoryService"),$.start(e))).then(()=>(o.rainbowLogger.timeEnd("RainbowSDK Performance - companyDirectoryService"),o.rainbowLogger.sdk(this.logService+"[signin] :: Company Directory Service company service ready!"),o.rainbowLogger.time("RainbowSDK Performance - adminUserService"),q.start(e))).then(()=>(o.rainbowLogger.timeEnd("RainbowSDK Performance - adminUserService"),o.rainbowLogger.sdk(this.logService+"[signin] :: Admin user service ready!"),o.rainbowLogger.time("RainbowSDK Performance - contactService"),d.default.start())).then(()=>{if(o.rainbowLogger.timeEnd("RainbowSDK Performance - contactService"),o.rainbowLogger.sdk(this.logService+"[signin] :: Contact service ready!"),o.rainbowLogger.time("RainbowSDK Performance - profileService"),m.sdkConfig.features.profileService)return h.default.start()}).then(()=>(o.rainbowLogger.timeEnd("RainbowSDK Performance - profileService"),o.rainbowLogger.sdk(this.logService+"[signin] :: Profile service ready!"),o.rainbowLogger.time("RainbowSDK Performance - invitationService"),_.default.start())).then(()=>(o.rainbowLogger.timeEnd("RainbowSDK Performance - invitationService"),o.rainbowLogger.sdk(this.logService+"[signin] :: Invitation service ready!"),o.rainbowLogger.time("RainbowSDK Performance - fileServerService"),H.start(e))).then(()=>(o.rainbowLogger.timeEnd("RainbowSDK Performance - fileServerService"),o.rainbowLogger.sdk(this.logService+"[signin] :: FileServer service ready!"),o.rainbowLogger.time("RainbowSDK Performance - fileStorageService"),f.default.start())).then(()=>{if(o.rainbowLogger.timeEnd("RainbowSDK Performance - fileStorageService"),o.rainbowLogger.sdk(this.logService+"[signin] :: FileStorage service ready!"),o.rainbowLogger.time("RainbowSDK Performance - roomService"),m.sdkConfig.features.roomService)return p.default.start()}).then(()=>(o.rainbowLogger.timeEnd("RainbowSDK Performance - roomService"),o.rainbowLogger.sdk(this.logService+"[signin] :: Room service ready!"),o.rainbowLogger.time("RainbowSDK Performance - groupService"),W.start(e))).then(()=>{if(o.rainbowLogger.timeEnd("RainbowSDK Performance - groupService"),o.rainbowLogger.sdk(this.logService+"[signin] :: Group service ready!"),o.rainbowLogger.time("RainbowSDK Performance - favoriteService"),m.sdkConfig.features.favoriteService)return K.start(e)}).then(()=>(o.rainbowLogger.timeEnd("RainbowSDK Performance - favoriteService"),o.rainbowLogger.sdk(this.logService+"[signin] :: Favorite service ready!"),o.rainbowLogger.time("RainbowSDK Performance - voiceMessageService"),J.start(e))).then(()=>(o.rainbowLogger.timeEnd("RainbowSDK Performance - voiceMessageService"),o.rainbowLogger.sdk(this.logService+"[signin] :: Voice Message Service service ready!"),o.rainbowLogger.time("RainbowSDK Performance - webrtcGatewayService"),G.start(e))).then(()=>(o.rainbowLogger.timeEnd("RainbowSDK Performance - webrtcGatewayService"),o.rainbowLogger.sdk(this.logService+"[signin] :: WebrtcGateway service ready!"),o.rainbowLogger.time("RainbowSDK Performance - videoService"),!0===m.sdkConfig.unifiedPlan&&(o.rainbowLogger.sdk(this.logService+"[videoService] :: Unified plan activated"),r.config||(r.config={}),r.config.unifiedPlan=!0),r.start(e))).then(()=>(o.rainbowLogger.timeEnd("RainbowSDK Performance - videoService"),o.rainbowLogger.sdk(this.logService+"[signin] :: Video service ready!"),o.rainbowLogger.time("RainbowSDK Performance - webrtcServiceEventHandler"),a.start(e))).then(()=>{if(o.rainbowLogger.timeEnd("RainbowSDK Performance - webrtcServiceEventHandler"),o.rainbowLogger.sdk(this.logService+"[signin] :: WebRTCEventHandler service ready!"),o.rainbowLogger.time("RainbowSDK Performance - telephonyService"),m.sdkConfig.features.telephony)return U.start(e)}).then(()=>(o.rainbowLogger.timeEnd("RainbowSDK Performance - telephonyService"),o.rainbowLogger.sdk(this.logService+"[signin] :: Telephony service ready!"),o.rainbowLogger.time("RainbowSDK Performance - webConferenceService"),N.start(e))).then(()=>{if(N.setActiveSpeakerValue(!1),o.rainbowLogger.timeEnd("RainbowSDK Performance - webConferenceService"),o.rainbowLogger.sdk(this.logService+"[signin] :: Web Conference service ready!"),o.rainbowLogger.time("RainbowSDK Performance - conversationService"),m.sdkConfig.features.conversationService)return v.start(e)}).then(()=>{o.rainbowLogger.timeEnd("RainbowSDK Performance - conversationService"),o.rainbowLogger.sdk(this.logService+"[signin] :: Conversation service ready!"),o.rainbowLogger.sdk(this.logService+"[signin] :: Send initial presence"),o.rainbowLogger.time("RainbowSDK Performance - sendPresenceFromConfiguration"),d.default.sendPresenceFromConfiguration()}).then(()=>{o.rainbowLogger.timeEnd("RainbowSDK Performance - sendPresenceFromConfiguration"),o.rainbowLogger.sdk(this.logService+"[signin] :: Initial presence sent !")}).then(()=>(o.rainbowLogger.time("RainbowSDK Performance - platformService"),z.start(e))).then(()=>{if(o.rainbowLogger.timeEnd("RainbowSDK Performance - platformService"),o.rainbowLogger.sdk(this.logService+"[signin] :: Platform service ready!"),o.rainbowLogger.time("RainbowSDK Performance - botService"),m.sdkConfig.features.bots)return c.start(e)}).then(()=>{if(o.rainbowLogger.timeEnd("RainbowSDK Performance - botService"),o.rainbowLogger.sdk(this.logService+"[signin] :: Bot service ready!"),o.rainbowLogger.time("RainbowSDK Performance - conferenceService"),m.sdkConfig.features.conference)return L.start(e)}).then(()=>(o.rainbowLogger.timeEnd("RainbowSDK Performance - conferenceService"),o.rainbowLogger.sdk(this.logService+"[signin] :: Conference service ready!"),o.rainbowLogger.time("RainbowSDK Performance - recordsService"),V.start(e))).then(()=>{if(o.rainbowLogger.timeEnd("RainbowSDK Performance - recordsService"),o.rainbowLogger.sdk(this.logService+"[signin] :: Records service ready!"),o.rainbowLogger.time("RainbowSDK Performance - channelService"),m.sdkConfig.features.channels)return B.start(e)}).then(()=>(o.rainbowLogger.timeEnd("RainbowSDK Performance - channelService"),o.rainbowLogger.sdk(this.logService+"[signin] :: Channel service ready!"),o.rainbowLogger.sdk(this.logService+"[signin] :: Services Successfully loaded!"),i.eventsService.dispatchEvent(this.RAINBOW_ONSTARTED,y),o.rainbowLogger.timeEnd("Auth"),b(y))).catch(()=>(o.rainbowLogger.sdk(this.logService+"[signin] :: Error during signin"),y.code=g.SDK.ERRORXMPP,y.label="errorXMPP",y.account=null,D(y)))}).catch(()=>(o.rainbowLogger.sdk(this.logService+"[signin] :: Error during signin"),y.code=g.SDK.ERRORUNAUTHORIZED,y.label="errorUnauthorized",D(y)))})}reconnectServices(){return r(this,void 0,void 0,(function*(){const e=C.get(this),t=E.get(this),n=j.get(this),r=T.get(this),i=P.get(this),s=w.get(this),a=D.get(this),l=y.get(this),c=S.get(this),u=F.get(this),m=v.get(this);try{return m.setVideoQuality(),e.attachHandlers(),t.attachHandlers(),n.reconnect(),r.reconnectService(),i.reconnect(),s.reconnect(),a.attachHandlers(),l.reconnect(),p.default.reconnect(),c.connect(),u.attachHandlers(),d.default.updateUserContactFullJid(),_.default.reconnect(),h.default.restart(),yield f.default.reinit(!1),yield n.reinit(),void(yield d.default.sendPresenceFromConfiguration(!0))}catch(g){o.rainbowLogger.error("[serviceLauncher] reconnectServices failure "+g.message)}}))}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=new WeakMap,o=n(2),i=n(29);class s{constructor(e){r.set(this,e)}static get $inject(){return["videoService"]}setSimulcast(e){return r.get(this).config.simulcast=e,e}setVideoQuality(e){const t=r.get(this);return e||(e=i.sdkConfig.videoQuality),"low"===e?(i.sdkConfig.videoQuality="low",t.videoQualityConfiguration={video:{fixedFrameRate:15,fixedVideoWidth:320,fixedVideoHeight:180},sharing:{fixedFrameRate:5,fixedVideoWidth:1280,fixedVideoHeight:720}}):"middle"===e?(i.sdkConfig.videoQuality="middle",t.videoQualityConfiguration={video:{fixedFrameRate:20,fixedVideoWidth:640,fixedVideoHeight:360},sharing:{fixedFrameRate:5,fixedVideoWidth:1280,fixedVideoHeight:720}}):"high"===e&&(i.sdkConfig.videoQuality="high",t.videoQualityConfiguration={video:{fixedFrameRate:25,fixedVideoWidth:1280,fixedVideoHeight:720},sharing:{fixedFrameRate:5,fixedVideoWidth:1920,fixedVideoHeight:1080}}),e}setVerboseLog(e){return i.sdkConfig.verboseLog=e,i.sdkConfig.verboseLog}useNewModels(e){return i.sdkConfig.newModels=e,i.sdkConfig.newModels}setDisplayOrder(e){if("FL"!==e&&"LF"!==e)throw new Error("Value should be set to either 'FL' or 'LF'");return i.sdkConfig.displayOrder=e,o.default.displayOrder=e,i.sdkConfig.displayOrder}}s.logService="ConfigService | ",t.ConfigService=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),o=n(22),i=n(2),s=n(5),a=n(28),l=new WeakMap;class c{constructor(e){this.RAINBOW_PRESENCE_ONLINE="online",this.RAINBOW_PRESENCE_AWAY="away",this.RAINBOW_PRESENCE_DONOTDISTURB="dnd",this.RAINBOW_PRESENCE_OFFLINE="xa",this.RAINBOW_PRESENCE_BUSY="busy",this.RAINBOW_PRESENCE_UNKNOW="unknow",this.RAINBOW_ONCONTACTPRESENCECHANGED="rainbowcontactpresencechanged",this.RAINBOW_ONPRESENCECHANGED="rainbowpresencechanged",this.RAINBOW_ONCONTACTRICHPRESENCECHANGED="rainbowcontactrichpresencechanged",this.RAINBOW_ONRICHPRESENCECHANGED="rainbowrichpresencechanged",l.set(this,e),s.default.subscribeToContactEvents(e=>{"ON_CONTACT_PRESENCE_EVENT"===e.name&&this.onPresenceChangedEvent(e.name,e.data)}),e.$on("$destroy",e.$on("ON_UPDATE_CONTACT_RICH_STATUS_EVENT",(e,t)=>this.onRichPresenceChangedEvent(e,t)))}static get $inject(){return["$rootScope"]}setPresenceTo(e){if(e!==this.RAINBOW_PRESENCE_DONOTDISTURB&&e!==this.RAINBOW_PRESENCE_AWAY&&e!==this.RAINBOW_PRESENCE_OFFLINE&&e!==this.RAINBOW_PRESENCE_ONLINE)throw new Error("Parameter 'strPresenceState' should be 'dnd', 'away', 'xa' (invisible) or 'online'");return r.rainbowLogger.sdk(c.logService+"[setPresenceTo] :: Set presence to "+e),i.default.changeMyPresence(e),{code:a.SDK.OK,label:"OK"}}onPresenceChangedEvent(e,t){const n=t.message||"''";t.jid===s.default.fullJid?(r.rainbowLogger.sdk(c.logService+"[onPresenceChangedEvent] :: Presence changed for me ("+t.jid+") to  "+t.status+" | "+n),o.eventsService.dispatchEvent(this.RAINBOW_ONPRESENCECHANGED,t)):(r.rainbowLogger.sdk(c.logService+"[onPresenceChangedEvent] :: Presence changed for contact ("+t.jid+") to  "+t.status+" | "+n),o.eventsService.dispatchEvent(this.RAINBOW_ONCONTACTPRESENCECHANGED,t))}onRichPresenceChangedEvent(e,t){const n=t.message||"''",o=t.telStatus||"''";if(s.default.fullJid.includes(t.jid)){r.rainbowLogger.sdk(c.logService+"[onPresenceChangedEvent] :: Rich Presence changed for myself to status "+t.status+", message "+n+" and telStatus "+o);const e=new CustomEvent(this.RAINBOW_ONRICHPRESENCECHANGED,{detail:t});document.dispatchEvent(e)}else{r.rainbowLogger.sdk(c.logService+"[onPresenceChangedEvent] :: Rich Presence changed for contact ("+t.jid+") to status "+t.status+", message "+n+" and telStatus "+o);const e=new CustomEvent(this.RAINBOW_ONCONTACTRICHPRESENCECHANGED,{detail:t});document.dispatchEvent(e)}}}c.logService="PresenceService | ",t.PresenceService=c},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3),i=n(10),s=n(2),a=n(7),l=new WeakMap,c=new WeakMap;class u{constructor(e,t){l.set(this,e),c.set(this,t)}static get $inject(){return["$rootScope","adminUserService"]}getProfile(){return o.default.loggedInUser}getProfileOffer(){return a.default.getMyProfileName()}updateFirstName(e){return r(this,void 0,void 0,(function*(){if(!e||"string"!=typeof e||e.length<1)throw new Error("Parameter 'strFirstname' is missing, empty or null");const t={firstName:e},n=yield a.default.setUserData(t);return i.rainbowLogger.sdk(u.logService+"[updateFirstName] :: First name updated"),n.data}))}updateLastName(e){return r(this,void 0,void 0,(function*(){if(!e||"string"!=typeof e||e.length<1)throw new Error("Parameter 'strFirstname' is missing, empty or null");const t={lastName:e},n=yield a.default.setUserData(t);return i.rainbowLogger.sdk(u.logService+"[updateFirstName] :: First name updated"),n.data}))}updatePhoneNumber(e,t,n,s){return r(this,void 0,void 0,(function*(){if(!e||"string"!=typeof e||["home","work","other"].indexOf(e)<0)throw new Error("Parameter 'type' is missing or not matching one of the following types: 'home', 'work', 'other'");if(!t||"string"!=typeof t||["landline","mobile","fax","other"].indexOf(t)<0)throw new Error("Parameter 'deviceType' is missing or not matching one of the following types 'landline', 'mobile', 'fax', 'other'");if("string"!=typeof n)throw new Error("Parameter 'strPhoneNumber' must be of type 'string' ");const r={type:e,deviceType:t,number:n};s&&"string"==typeof s&&(r.country=s);const l=o.default.loggedInUser;if(l.phoneNumbers.length){let o=!1;if(o=l.phoneNumbers.some(n=>n.type===e&&n.deviceType===t),o)l.phoneNumbers.push(r);else{const r={type:e,deviceType:t,number:n};l.phoneNumbers.push(r)}}else{const r={type:e,deviceType:t,number:n};l.phoneNumbers.push(r)}const c=yield a.default.setUserData(l);return i.rainbowLogger.sdk(u.logService+"[updatePhoneNumber] :: Phone number updated"),c.data}))}deletePhoneNumber(e,t){return r(this,void 0,void 0,(function*(){if(!e||"string"!=typeof e||["home","work","other"].indexOf(e)<0)throw new Error("Parameter 'type' is missing or not matching one of the following types: 'home', 'work', 'other'");if(!t||"string"!=typeof t||["landline","mobile","fax","other"].indexOf(t)<0)throw new Error("Parameter 'deviceType' is missing or not matching one of the following types 'landline', 'mobile', 'fax', 'other'");const n=o.default.loggedInUser;let r;if(!n.phoneNumbers.length)throw new Error("No phone numbers associated with the user profile");{const o=n.phoneNumbers;for(let n=0;n<o.length;n++)o[n].type===e&&o[n].deviceType===t&&o.splice(n,1);n.phoneNumbers=o,r=yield a.default.setUserData(n),i.rainbowLogger.sdk(u.logService+"[deletePhoneNumber] :: Phone number deleted")}return r.data}))}updatePhotoFromUrl(e){return r(this,void 0,void 0,(function*(){if(!e||"string"!=typeof e||e.length<1)throw new Error("Parameter 'imgUrl' is missing, empty or null");yield s.default.pushAvatarImage(e),i.rainbowLogger.sdk(u.logService+"[updatePhotoFromUrl] :: Photo updated")}))}updateWorkEmail(e){return r(this,void 0,void 0,(function*(){if(!e||"string"!=typeof e||e.length<1)throw new Error("Parameter 'strEmail' is missing, empty or null");const t=o.default.loggedInUser;let n=!1;if(t.emails.length){for(let r=0;r<t.emails.length;r++)"work"===t.emails[r].type&&(t.emails[r].email=e,n=!0);n||t.emails.push({email:e,type:"work"})}else t.emails=[{email:e,type:"work"}];const r={emails:t.emails},s=yield a.default.setUserData(r);return i.rainbowLogger.sdk(u.logService+"[updateWorkEmail] :: work email updated"),s.data}))}updatePersonalEmail(e){return r(this,void 0,void 0,(function*(){if(!e||"string"!=typeof e||e.length<1)throw new Error("Parameter 'strEmail' is missing, empty or null");const t=o.default.loggedInUser;let n=!1;if(t.emails.length){for(let r=0;r<t.emails.length;r++)"home"===t.emails[r].type&&(t.emails[r].email=e,n=!0);n||t.emails.push({email:e,type:"home"})}else t.emails=[{email:e,type:"home"}];const r={emails:t.emails},s=yield a.default.setUserData(r);return i.rainbowLogger.sdk(u.logService+"[updatePersonalEmail] :: work email updated"),s.data}))}deleteWorkEmail(){return r(this,void 0,void 0,(function*(){const e={emails:o.default.loggedInUser.emails.filter(e=>"work"!==e.type)},t=yield a.default.setUserData(e);return i.rainbowLogger.sdk(u.logService+"[deleteWorkEmails] :: work emails deleted"),t.data}))}deletePersonalEmail(){return r(this,void 0,void 0,(function*(){const e={emails:o.default.loggedInUser.emails.filter(e=>"home"!==e.type)},t=yield a.default.setUserData(e);return i.rainbowLogger.sdk(u.logService+"[deletePersonalEmails] :: personal emails deleted"),t.data}))}updateCountry(e){return r(this,void 0,void 0,(function*(){const t={country:e},n=yield a.default.setUserData(t);return i.rainbowLogger.sdk(u.logService+"[updateCountry] :: Country updated"),n.data}))}updateLanguage(e){return r(this,void 0,void 0,(function*(){const t={language:e},n=yield a.default.setUserData(t);return i.rainbowLogger.sdk(u.logService+"[updateLanguage] :: Language updated"),n.data}))}updateTitle(e){return r(this,void 0,void 0,(function*(){const t={title:e},n=yield a.default.setUserData(t);return i.rainbowLogger.sdk(u.logService+"[updateTitle] :: title updated"),n.data}))}updateNickName(e){return r(this,void 0,void 0,(function*(){const t={nickName:e},n=yield a.default.setUserData(t);return i.rainbowLogger.sdk(u.logService+"[updateNickName] :: nickname updated"),n.data}))}updateJobTitle(e){return r(this,void 0,void 0,(function*(){const t={jobTitle:e},n=yield a.default.setUserData(t);return i.rainbowLogger.sdk(u.logService+"[updateJobTitle] :: job title updated"),n.data}))}}u.logService="UserProfileService | ",t.UserProfileService=u},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(28),i=n(2),s=n(233),a=n(416),l=n(7),c=n(22),u=n(417),d=n(418),f=n(29),_=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap;class g{constructor(e,t,n,r){this.RAINBOW_ONCONTACTINFORMATIONCHANGED="rainbowcontactinformationchanged",this.RAINBOW_ONINFORMATIONCHANGED="rainbowinformationchanged",this.RAINBOW_ONCONTACTINVITATIONNUMBERCHANGED="rainbowsubscriptionnumberchanged",this.RAINBOW_ONCONTACTINVITATIONRECEIVED="rainbowinvitationreceived",_.set(this,e),h.set(this,t),p.set(this,n),m.set(this,r),e.$on("$destroy",e.$on("ON_CONTACT_UPDATED_EVENT",(e,t)=>this.onContactInformationUpdated(e,t))),e.$on("$destroy",e.$on("ON_USER_CONTACT_UPDATED_EVENT",(e,t)=>this.onInformationUpdated(e,t))),e.$on("$destroy",e.$on("ON_INVITATIONS_NUMBER_UPDATED",()=>this.onInvitationNumberChanged())),e.$on("$destroy",e.$on("ON_INVITATION_CHANGED",(e,t)=>this.onInvitationReceived(e,t)))}static get $inject(){return["$rootScope","directoryService","companyDirectoryService","phonebookService"]}onContactInformationUpdated(e,t){f.sdkConfig.newModels?c.eventsService.dispatchEvent(this.RAINBOW_ONCONTACTINFORMATIONCHANGED,new u.ContactSDK(t)):c.eventsService.dispatchEvent(this.RAINBOW_ONCONTACTINFORMATIONCHANGED,t)}onInformationUpdated(e,t){f.sdkConfig.newModels?c.eventsService.dispatchEvent(this.RAINBOW_ONINFORMATIONCHANGED,new u.ContactSDK(t)):c.eventsService.dispatchEvent(this.RAINBOW_ONINFORMATIONCHANGED,t)}onInvitationNumberChanged(){c.eventsService.dispatchEvent(this.RAINBOW_ONCONTACTINVITATIONNUMBERCHANGED,null)}onInvitationReceived(e,t){f.sdkConfig.newModels?c.eventsService.dispatchEvent(this.RAINBOW_ONCONTACTINVITATIONRECEIVED,new d.InvitationSDK(t)):c.eventsService.dispatchEvent(this.RAINBOW_ONCONTACTINVITATIONRECEIVED,t)}getContactByJID(e){return e?i.default.getContactByJid(e):{code:o.SDK.ERRORBADREQUEST,label:"Parameter 'strJID' is missing or empty"}}getContactById(e){return r(this,void 0,void 0,(function*(){if(!e)return{code:o.SDK.ERRORBADREQUEST,label:"Parameter 'strId' is missing or empty"};const t=yield i.default.getContactByDBId(e);return f.sdkConfig.newModels?new u.ContactSDK(t):t}))}getNetworkContacts(){return r(this,void 0,void 0,(function*(){const e=i.default.getContacts().filter((function(e){return e.id!==i.default.userContact.id&&!e.isBot&&e.roster}));return f.sdkConfig.newModels?e.map(e=>new u.ContactSDK(e)):e}))}getAll(){const e=i.default.getContacts().filter((function(e){return e.id!==i.default.userContact.id&&!e.isBot}));return f.sdkConfig.newModels?e.map(e=>new u.ContactSDK(e)):e}getConnectedUser(){if(f.sdkConfig.newModels){const e=i.default.userContact;return new u.ContactSDK(e)}return i.default.userContact||null}getConnectedUserPhone(){return i.default.userContact?0===i.default.userContact.pbxId.length?null:{phoneNumber:i.default.userContact.phonePbx,pbxId:i.default.userContact.pbxId}:null}searchByName(e,t,n=!1,o="",i=""){return r(this,void 0,void 0,(function*(){const r=h.get(this);if(!e)throw new Error("Parameter 'strName' is missing or empty");t||(t=20);const s=yield r.search(e,n,Math.min(t,1e3),o,i);return f.sdkConfig.newModels?s.map(e=>new u.ContactSDK(e)):s}))}searchPhonebook(e){return r(this,void 0,void 0,(function*(){const t=m.get(this),n=l.default.isFeatureEnabled(l.default.FeaturesEnum.TELEPHONY_PHONE_BOOK);if(!e)throw new Error("Parameter 'strPattern' is missing or empty");if(!n)throw new Error("The feature is not enabled for connected user");const r=yield t.search(e);return f.sdkConfig.newModels?r.map(e=>new u.ContactSDK(e)):r}))}searchOffice365(e){return r(this,void 0,void 0,(function*(){if(!e)throw new Error("Parameter 'strPattern' is missing or empty");const t=yield a.default.search(e);return f.sdkConfig.newModels?t.map(e=>new u.ContactSDK(e)):t}))}searchCompanyDirectory(e,t){return r(this,void 0,void 0,(function*(){const n=p.get(this);if(!e)throw new Error("Parameter 'strPattern' is missing or empty");if(!t)throw new Error("Parameter 'companyId' is missing or empty");const r=yield n.search(e,t);return f.sdkConfig.newModels?r.map(e=>new u.ContactSDK(e)):r}))}searchByLogin(e){return r(this,void 0,void 0,(function*(){const t=h.get(this);if(!e)throw new Error("Parameter 'strLogin' is missing or empty");const n=yield t.searchUserByLogin(e);return n?f.sdkConfig.newModels?new u.ContactSDK(n):n:null}))}searchByJid(e){return r(this,void 0,void 0,(function*(){const t=h.get(this);if(!e)throw new Error("Parameter 'strJid' is missing or empty");const n=yield t.searchUserByJid(e);return f.sdkConfig.newModels?new u.ContactSDK(n):n}))}searchById(e){return r(this,void 0,void 0,(function*(){if(!e)throw new Error("Parameter 'strId' is missing or empty");const t=yield i.default.getContactByDBId(e,!0);return t?f.sdkConfig.newModels?new u.ContactSDK(t):t:null}))}acceptInvitation(e){return r(this,void 0,void 0,(function*(){if(!e)return new Error("Parameter 'invitationId' is missing or null");const t=s.default.getInvitation(e);return yield s.default.acceptInvitation(t),{code:o.SDK.OK,label:"OK"}}))}declineInvitation(e){return r(this,void 0,void 0,(function*(){if(!e)throw new Error("Parameter 'invitationId' is missing or null");const t=s.default.getInvitation(e);return yield s.default.declineInvitation(t),{code:o.SDK.OK,label:"OK"}}))}addToNetwork(e){return r(this,void 0,void 0,(function*(){if(!e)throw new Error("Parameter 'contactId' is missing or null");const t=yield i.default.getContactByDBId(e);return yield s.default.joinContactInvitation(t)}))}sendInvitationByEmail(e,t){return r(this,void 0,void 0,(function*(){if(!e)throw new Error("Parameter 'email' is missing or null");return yield s.default.sendInvitationByEmail(e,t)}))}removeFromNetwork(e){return r(this,void 0,void 0,(function*(){if(!e)throw new Error("Parameter 'contactId' is missing or null");const t=yield i.default.getContactByDBId(e);return yield i.default.removeContact(t),{code:o.SDK.OK,label:"OK"}}))}getInvitationById(e){if(!e)throw new Error("Parameter 'invitationId' is missing or null");return s.default.getInvitation(e)}getInvitationsReceived(){const e=s.default.getReceivedInvitations();return f.sdkConfig.newModels&&e.length?e.map(e=>new d.InvitationSDK(e)):e}cancelInvitation(e){return r(this,void 0,void 0,(function*(){if(!e)throw new Error("Parameter 'invitationId' is missing or null");const t=s.default.getInvitation(e);yield s.default.cancelOneSendInvitation(t)}))}getInvitationsSent(){const e=s.default.getSentInvitations();return f.sdkConfig.newModels&&e.length?e.map(e=>new d.InvitationSDK(e)):e}updateUserCustomData(e){return r(this,void 0,void 0,(function*(){if(!e)throw new Error("Parameter 'customData' is missing or null");return yield i.default.updateUserContact({customData:e}),this.getConnectedUser()}))}}g.logService="ContactService | ",t.ContactsService=g},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(10),i=n(22),s=n(2),a=n(28),l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,f=new WeakMap;class _{constructor(e,t,n,r,o){this.RAINBOW_ONTELEPHONYCALLSTATECHANGED="rainbowontelephonycallstatechanged",this.RAINBOW_ONVOIPCALLSTATECHANGED="rainbowonvoipcallstatechanged",this.RAINBOW_ONTELEPHONYSTARTED="rainbowontelephonystarted",this.RAINBOW_ONTELEPHONYSTOPPED="rainbowontelephonystopped",this.RAINBOW_ONTELEPHONYFORWARDSTATECHANGED="rainbowontelephonyforwardstatechanged",this.RAINBOW_ONCALLNOMADICEVENT="rainbowoncallnomadicevent",this.RAINBOW_ONVOIPSTARTED="rainbowonvoipstarted",this.RAINBOW_ONVOIPSTOPPED="rainbowonvoipstopped",this.RAINBOW_ONVOICEMESSAGEUPDATED="rainbowonvoicemessageupdated",this.RAINBOW_TELEPHONYDIALING="dialing",this.RAINBOW_TELEPHONYRINGINGOUTGOING="ringingOutgoing",this.RAINBOW_TELEPHONYINCOMING="incomingCall",this.RAINBOW_TELEPHONYACTIVE="active",this.RAINBOW_TELEPHONYRELEASING="releasing",this.RAINBOW_TELEPHONYUNKNOW="Unknown",this.RAINBOW_TELEPHONYMUTE="rainbowtelephonymute",l.set(this,e),c.set(this,t),u.set(this,n),d.set(this,r),f.set(this,o),e.$on("$destroy",e.$on("ON_TELEPHONY_STATUS_CHANGED_EVENT",(e,t)=>this.onTelephonyStateChanged(e,t))),e.$on("$destroy",e.$on("ON_CALL_NOMADIC_EVENT",(e,t)=>this.onCallNomadicEvent(e,t))),e.$on("$destroy",e.$on("ON_CALL_UPDATED_EVENT",(e,t)=>this.onTelephonyCallChanged(e,t))),e.$on("$destroy",e.$on("ON_CALL_FORWARDED_EVENT",(e,t)=>this.onCallForwardChanged(e,t))),e.$on("$destroy",e.$on("ON_WEBRTCGATEWAY_STATE_CHG",(e,t)=>this.onVoIPStateChanged(e,t))),e.$on("$destroy",e.$on("ON_VOICE_MESSAGE_UPDATE_EVENT",(e,t)=>this.onVoiceMessageUpdated(e,t))),e.$on("$destroy",e.$on("ON_CONVERSATION_CALL_MUTED_UPDATED_EVENT",(e,t)=>this.onCallMuteEvent(e,t)))}static get $inject(){return["$rootScope","videoService","telephonyService","voiceMessageService","webrtcGatewayService"]}onTelephonyStateChanged(e,t){o.rainbowLogger.sdk(_.logService+"[onTelephonyStateChanged] :: PBX state changed to "+t),"started"===t?i.eventsService.dispatchEvent(this.RAINBOW_ONTELEPHONYSTARTED,null):i.eventsService.dispatchEvent(this.RAINBOW_ONTELEPHONYSTOPPED,null)}onCallNomadicEvent(e,t){o.rainbowLogger.sdk(_.logService+"[onCallNomadicEvent] :: Nomadic event received"),i.eventsService.dispatchEvent(this.RAINBOW_ONCALLNOMADICEVENT,t)}onTelephonyCallChanged(e,t){const n=f.get(this).isMediaPillarCallSituation(t);"Phone"!==t.type.value||n?n&&(o.rainbowLogger.sdk(_.logService+"[onTelephonyCallChanged] :: Telephony state changed to "+t),i.eventsService.dispatchEvent(this.RAINBOW_ONVOIPCALLSTATECHANGED,t)):(o.rainbowLogger.sdk(_.logService+"[onTelephonyCallChanged] :: Telephony state changed to "+t),i.eventsService.dispatchEvent(this.RAINBOW_ONTELEPHONYCALLSTATECHANGED,t))}onCallForwardChanged(e,t){o.rainbowLogger.sdk(_.logService+"[onCallForwardChanged] :: Forward state changed to "+t),i.eventsService.dispatchEvent(this.RAINBOW_ONTELEPHONYFORWARDSTATECHANGED,t)}onVoIPStateChanged(e,t){o.rainbowLogger.sdk(_.logService+"[onVoIPStateChanged] :: VoIP state changed to "+t?"true":"false"),t?i.eventsService.dispatchEvent(this.RAINBOW_ONVOIPSTARTED,null):i.eventsService.dispatchEvent(this.RAINBOW_ONVOIPSTOPPED,null)}onVoiceMessageUpdated(e,t){o.rainbowLogger.sdk(_.logService+"[onVoiceMessageUpdated] :: New Voice Message event received"),i.eventsService.dispatchEvent(this.RAINBOW_ONVOICEMESSAGEUPDATED,t)}onCallMuteEvent(e,t){o.rainbowLogger.sdk(_.logService+"[onCallMuteEvent] :: New Mute Event received"),i.eventsService.dispatchEvent(this.RAINBOW_TELEPHONYMUTE,t)}isTelephonyAvailable(){return u.get(this).started}isVoiceMailConfigured(){const e=u.get(this);return Boolean(e.voiceMailFeatureEnabled&&e.voicemailNumber)}getAgentVersion(){return u.get(this).agentStatus.agentVersion||"unknown"}getXMPPAgentStatus(){return u.get(this).agentStatus.xmppAgent||"unknown"}getPhoneAPIStatus(){return u.get(this).agentStatus.phoneApi||"unknown"}makeCall1PCC(e,t){return r(this,void 0,void 0,(function*(){const n=f.get(this);if(!e)throw new Error("Parameter 'strPhoneNumber' is missing or empty");const r=s.default.getContactByDBId(t);return n.mediaPillarMakeCall1PCC(e,r)}))}makeCall(e,t,n,o){return r(this,void 0,void 0,(function*(){const r=u.get(this);if(!t)throw new Error("Parameter 'strPhoneNumber' is missing or empty");if(e){const i=yield s.default.getContactByDBId(e);yield r.makeCall(i,t,n,o)}else yield r.makeCallByPhoneNumber(t,n,o);return{code:a.SDK.OK,label:"OK"}}))}callByNumber(e){return r(this,void 0,void 0,(function*(){const t=u.get(this);if(!e)throw new Error("Parameter 'strPhoneNumber' is missing or empty");return yield t.makeCallByPhoneNumber(e),{code:a.SDK.OK,label:"OK"}}))}callWithMessage(e,t,n,o){return r(this,void 0,void 0,(function*(){const r=u.get(this);if(!e)throw new Error("Parameter 'contactId' is missing or empty");if(!t)throw new Error("Parameter 'phoneNumber' is missing or empty");if(!n)throw new Error("Parameter 'callSubject' is missing or empty");const i=s.default.getContactByDBId(e);return yield r.makeCall(i,t,n,o),{code:a.SDK.OK,label:"OK"}}))}callWithSubject(e,t,n){return r(this,void 0,void 0,(function*(){const r=u.get(this);if(!e)throw new Error("Parameter 'contact' is missing or empty");if(!t)throw new Error("Parameter 'phoneNumber' is missing or empty");if(!n)throw new Error("Parameter 'callSubject' is missing or empty");const o=yield s.default.getContactByDBId(e);return yield r.makeCall(o,t,n),{code:a.SDK.OK,label:"OK"}}))}calls(){return u.get(this).calls}getActiveCall(){return u.get(this).getActiveCall()}release(e){return r(this,void 0,void 0,(function*(){const t=u.get(this);if(!e)throw new Error("Parameter 'call' is missing or null");return yield t.releaseCall(e),{code:a.SDK.OK,label:"OK"}}))}deflectToVM(e){return r(this,void 0,void 0,(function*(){const t=u.get(this);if(!e)throw new Error("Parameter 'call' is missing or null");if(!e.connectionId)throw new Error("Property 'connectionId' of the object 'call' is missing or null");if("Phone"!==e.type.value)throw new Error("Call must be of type 'Phone' (see call.type.value)");return yield t.deflectCallToVM(e),{code:a.SDK.OK,label:"OK"}}))}forwardToDevice(e){return r(this,void 0,void 0,(function*(){const t=u.get(this);if(!e||"string"!=typeof e||0===e.length)throw new Error("Parameter 'strPhoneNumber' is missing or empty");return t.forwardToDevice(e),{code:a.SDK.OK,label:"OK"}}))}forwardToVoicemail(){return r(this,void 0,void 0,(function*(){const e=u.get(this);return yield e.forwardToVoicemail(),{code:a.SDK.OK,label:"OK"}}))}cancelForward(){return r(this,void 0,void 0,(function*(){const e=u.get(this);return yield e.cancelForward(),{code:a.SDK.OK,label:"OK"}}))}getForwardStatusFromServer(){return r(this,void 0,void 0,(function*(){const e=u.get(this);yield e.getForwardStatus().then(()=>({code:a.SDK.OK,label:"OK"}))}))}getForwardStatus(){return u.get(this).getForwardObject()}answer(e){return r(this,void 0,void 0,(function*(){const t=u.get(this),n=f.get(this);if(!e)throw new Error("Parameter 'call' is missing or null");return e.mediaPillarCall?n.answerCall(e):yield t.answerCall(e),{code:a.SDK.OK,label:"OK"}}))}hold(e){return r(this,void 0,void 0,(function*(){const t=u.get(this);if(!e)throw new Error("Parameter 'call' is missing or null");return yield t.holdCall(e),{code:a.SDK.OK,label:"OK"}}))}retrieve(e){return r(this,void 0,void 0,(function*(){const t=u.get(this);if(!e)throw new Error("Parameter 'call' is missing or null");return yield t.retrieveCall(e),{code:a.SDK.OK,label:"OK"}}))}transferCall(e,t){return r(this,void 0,void 0,(function*(){const n=u.get(this);if(!e)throw new Error("Parameter 'activeCall' is missing or null");if(!t)throw new Error("Parameter 'heldCall' is missing or null");return yield n.transfertCall(e,t),{code:a.SDK.OK,label:"OK"}}))}conferenceCall(e,t){return r(this,void 0,void 0,(function*(){const n=u.get(this);if(!e)throw new Error("Parameter 'activeCall' is missing or null");if(!t)throw new Error("Parameter 'heldCall' is missing or null");return yield n.conferenceCall(e,t),{code:a.SDK.OK,label:"OK"}}))}fetchVoiceMailMessagesNumber(){return r(this,void 0,void 0,(function*(){const e=d.get(this);return yield e.getVoiceMessagesCounters()}))}muteCall(e,t){const n=f.get(this);if(!e)throw new Error("Parameter 'call' is missing or null");n.muteAudio(e,!0,t)}unmuteCall(e,t){const n=f.get(this);if(!e)throw new Error("Parameter 'call' is missing or null");n.muteAudio(e,!1,t)}nomadicLogin(e,t,n){return r(this,void 0,void 0,(function*(){const r=u.get(this);if(!e)throw new Error("Parameter 'phoneNumber' is missing or null");yield r.nomadicLogin(e,t,n)}))}nomadicLogout(){return r(this,void 0,void 0,(function*(){const e=u.get(this);yield e.nomadicLogout()}))}getNomadicState(){return r(this,void 0,void 0,(function*(){const e=u.get(this);yield e.getNomadicStatus()}))}setExternalNomadicNumber(e){return r(this,void 0,void 0,(function*(){const t=u.get(this);if(!e)throw new Error("Parameter 'phoneNumber' is missing or null");if("string"!=typeof e)throw new Error("Parameter 'phoneNumber' is not a string");yield t.nomadicLogin(e)}))}setNomadicOfficePhone(e=!0){return r(this,void 0,void 0,(function*(){const t=u.get(this);yield t.nomadicLoginOnOfficePhone(),e&&t.nomadicLogout()}))}setNomadicVoIP(){return r(this,void 0,void 0,(function*(){const e=f.get(this),t=u.get(this),n=e.getMyMediaPillarRemoteExtension();yield t.nomadicLogin(n)}))}setNomadicWebRTC(){return r(this,void 0,void 0,(function*(){const e=f.get(this),t=u.get(this),n=e.getMyMediaPillarRemoteExtension();yield t.nomadicLogin(n)}))}isDeskPhoneAvailable(){return!s.default.userContact.isVirtualTerm}isVoIPAvailable(){return f.get(this).isMediaPillarAvailable()}logonCCD(e,t,n,o){return r(this,void 0,void 0,(function*(){const r=u.get(this);if(!e)throw new Error("Parameter 'endpointTel' is missing or empty");return yield r.logonCCD(e,t,n,o)}))}logoffCCD(e,t,n,o){return r(this,void 0,void 0,(function*(){const r=u.get(this);if(!e)throw new Error("Parameter 'endpointTel' is missing or empty");return yield r.logoffCCD(e,t,n,o)}))}withdrawalCCD(e,t,n){return r(this,void 0,void 0,(function*(){const r=u.get(this);return yield r.withdrawalCCD(e,t,n)}))}wrapupCCD(e,t,n,o){return r(this,void 0,void 0,(function*(){return u.get(this).wrapupCCD(e,t,n,o)}))}sendDTMF(e,t){return r(this,void 0,void 0,(function*(){const n=c.get(this),r=u.get(this);if(!e)throw new Error("Parameter 'dialString' is missing or empty");if(!t)throw new Error("Parameter 'call' is missing or empty");if("Video"===t.type.value)return n.sendDTMF(e,t,!1);if("Phone"===t.type.value)return r.sendDtmf(t,e);if("Video"!==t.type.value||"Phone"!==t.type.value)throw new Error("Parameter 'call' must be of type 'Video' or 'Phone'");return!0}))}}_.logService="TelephonyService | ",t.PbxService=_},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(29),i=n(10),s=n(22),a=n(2),l=n(234),c=new WeakMap,u=new WeakMap,d=new WeakMap;class f{constructor(e,t,n){this.RAINBOW_ONCONVERSATIONSMISSEDCOUNTERCHANGED="rainbowconversationsmissedcounterchanged",this.RAINBOW_ONCONVERSATIONSCHANGED="rainbowconversationschanged",this.RAINBOW_ONCONVERSATIONREMOVED="rainbowconversationremoved",this.RAINBOW_ONCONVERSATIONCHANGED="rainbowconversationchanged",c.set(this,e),u.set(this,t),d.set(this,n),e.$on("$destroy",e.$on("ON_CONVERSATIONS_UPDATED_EVENT",(e,t)=>this.onConversationsChanged(e,t))),e.$on("$destroy",e.$on("ON_CONVERSATION_REMOVE_EVENT",(e,t)=>this.onConversationsRemoved(e,t))),e.$on("$destroy",e.$on("ON_CONVERSATION_UPDATED_EVENT",(e,t)=>this.onConversationChanged(e,t))),e.$on("$destroy",e.$on("ON_MISSED_COUNTER_CHANGED_EVENT",(e,t)=>this.onConversationsCounterChanged(e,t)))}static get $inject(){return["$rootScope","Conversation","conversationService"]}onConversationsChanged(e,t){t&&(o.sdkConfig.newModels?s.eventsService.dispatchEvent(this.RAINBOW_ONCONVERSATIONSCHANGED,new l.ConversationSDK(t)):s.eventsService.dispatchEvent(this.RAINBOW_ONCONVERSATIONSCHANGED,t))}onConversationsRemoved(e,t){o.sdkConfig.newModels?s.eventsService.dispatchEvent(this.RAINBOW_ONCONVERSATIONREMOVED,new l.ConversationSDK(t)):s.eventsService.dispatchEvent(this.RAINBOW_ONCONVERSATIONREMOVED,t)}onConversationChanged(e,t){o.sdkConfig.newModels?s.eventsService.dispatchEvent(this.RAINBOW_ONCONVERSATIONCHANGED,new l.ConversationSDK(t)):s.eventsService.dispatchEvent(this.RAINBOW_ONCONVERSATIONCHANGED,t)}onConversationsCounterChanged(e,t){s.eventsService.dispatchEvent(this.RAINBOW_ONCONVERSATIONSMISSEDCOUNTERCHANGED,t)}getAllConversations(){return r(this,void 0,void 0,(function*(){const e=d.get(this).getConversations();return o.sdkConfig.newModels?e.map(e=>new l.ConversationSDK(e)):e}))}getCallById(e){const t=d.get(this);if(!e)throw new Error("Parameter 'strCallId' is missing or empty");const n=t.getConversations();let r=null;return n.forEach((function(t){t.videoCall&&t.videoCall.id===e?r=t.videoCall:t.audioCall&&t.audioCall.id===e&&(r=t.audioCall)})),r}getConversationById(e){const t=d.get(this);if(!e)throw new Error("Parameter 'conversationId' is missing or empty");const n=t.getConversationByDbId(e);return o.sdkConfig.newModels?new l.ConversationSDK(n):n}getConversationByIdDeprecated(e){const t=d.get(this);if(!e)throw new Error("Parameter 'conversationId' is missing or empty");return t.getConversationById(e)}getConversationByBubbleId(e){const t=d.get(this);if(!e)throw new Error("Parameter 'bubbleId' is missing or empty");const n=t.getConversationByRoomDbId(e);return o.sdkConfig.newModels?new l.ConversationSDK(n):n}openConversationForContact(e){return r(this,void 0,void 0,(function*(){const t=d.get(this);if(!e)throw new Error("Parameter 'contact' is missing or null");return i.rainbowLogger.sdk(f.logService+"[openConversationForContact] :: Trying to open a conversation for a contact"),yield t.getOrCreateOneToOneConversation(e.jid)}))}getConversationByContactId(e){return r(this,void 0,void 0,(function*(){const t=d.get(this);if(!e)throw new Error("Parameter 'contactId' is missing or null");i.rainbowLogger.sdk(f.logService+"[openConversationForContact] :: Trying to get conversation by contactId");const n=yield a.default.getContactByDBId(e),r=yield t.getOrCreateOneToOneConversation(n.jid);return o.sdkConfig.newModels?new l.ConversationSDK(r):r}))}openConversationForBubble(e){return r(this,void 0,void 0,(function*(){const t=d.get(this);if(!e)throw new Error("Prameter 'bubble' is missing or null");i.rainbowLogger.sdk(f.logService+"[openConversationForBubble] :: Try to create or get a conversation for a bubble ");const n=yield t.getRoomConversation(e.jid);return o.sdkConfig.newModels?new l.ConversationSDK(n):n}))}closeConversation(e){return r(this,void 0,void 0,(function*(){const t=d.get(this);if(!e)throw new Error("Parameter 'conversationId' is missing or null");const n=this.getConversationById(e);yield t.closeConversation(n)}))}closeConversationDeprecated(e){return r(this,void 0,void 0,(function*(){const t=d.get(this);if(!e)throw new Error("Parametr 'conversation' is missing or null");yield t.closeConversation(e)}))}}f.logService="ConversationsService | ",t.ConversationsService=f},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(22),i=n(10),s=n(16),a=n(28),l=n(25),c=n(34),u=n(29),d=n(234),f=n(235),_=new WeakMap,h=new WeakMap,p=new WeakMap;class m{constructor(e,t,n){this.RAINBOW_ONNEWIMMESSAGERECEIVED="rainbownewimmessagereceived",this.RAINBOW_ONNEWIMRECEIPTRECEIVED="rainbownewimreceiptreceived",this.RAINBOW_ONNEWPARTICIPANTSTATUS="rainbownewparticipantstatus",_.set(this,e),h.set(this,t),p.set(this,n),e.$on("$destroy",e.$on("ON_CONVERSATION_MESSAGE_RECEIVED",(e,t,n,r)=>this.onNewImMessageReceived(e,t,n,r))),e.$on("$destroy",e.$on("ON_CONVERSATION_RECEIPT_RECEIVED",(e,t,n,r)=>this.onNewImReceiptReceived(e,t,n,r))),e.$on("$destroy",e.$on("ON_CONVERSATIONS_STATUS_MESSAGE_EVENT",(e,t,n,r)=>this.onNewParticipantStatus(e,t,n,r)))}static get $inject(){return["$rootScope","conversationService","Conversation"]}onNewImMessageReceived(e,t,n,r){u.sdkConfig.newModels?o.eventsService.dispatchEvent(this.RAINBOW_ONNEWIMMESSAGERECEIVED,{message:new f.MessageSDK(t),conversation:new d.ConversationSDK(n),cc:r}):o.eventsService.dispatchEvent(this.RAINBOW_ONNEWIMMESSAGERECEIVED,{message:t,conversation:n,cc:r})}onNewImReceiptReceived(e,t,n,r){u.sdkConfig.newModels?o.eventsService.dispatchEvent(this.RAINBOW_ONNEWIMRECEIPTRECEIVED,{message:new f.MessageSDK(t),conversation:new d.ConversationSDK(n),evt:r}):o.eventsService.dispatchEvent(this.RAINBOW_ONNEWIMRECEIPTRECEIVED,{message:t,conversation:n,evt:r})}onNewParticipantStatus(e,t,n,r){r&&r.value&&(u.sdkConfig.newModels?o.eventsService.dispatchEvent(this.RAINBOW_ONNEWPARTICIPANTSTATUS,{participant:t,conversation:new d.ConversationSDK(n),status:r.value}):o.eventsService.dispatchEvent(this.RAINBOW_ONNEWPARTICIPANTSTATUS,{participant:t,conversation:n,status:r.value}))}getMessagesFromConversation(e,t=30){return r(this,void 0,void 0,(function*(){const n=h.get(this);if(!e)throw new Error("Parameter 'conversationId' is missing or null");t=t?Math.min(t,100):30;const r=n.getConversationByDbId(e);if(!r)throw new Error("Could not find the conversation with the following ID: "+e);const o=yield n.conversationServiceBulkHistoryHandler.getHistoryPage(r,t);return u.sdkConfig.newModels?new d.ConversationSDK(o):r}))}getMessageFromConversationById(e,t){const n=h.get(this);if(!e)throw new Error("Parameter 'conversationId' is missing or null");if(!t)throw new Error("Parameter 'strMessageId' is missing or empty");const r=n.getConversationByDbId(e).getMessageById(t);let o;return r&&r.fileId&&(r.shortFileDescriptor=l.default.getFileDescriptorById(r.fileId),o=r.shortFileDescriptor),u.sdkConfig.newModels?new f.MessageSDK(r,o):r}getMessageFromBubbleById(e,t){const n=h.get(this),r=p.get(this);if(!e)throw new Error("Parameter 'bubble' is missing or null");if(!t)throw new Error("Parameter 'strMessageId' is missing or empty");const o=n.getConversationByRoomDbId(e.dbId);if(!o)throw new Error("Parameter 'bubble' don't have a conversation");if(o.type!==r.Type.ROOM)throw new Error("Parameter 'conversation' is not a bubble conversation");const i=o.getMessageById(t);let s;return i&&i.fileId&&(i.shortFileDescriptor=l.default.getFileDescriptorById(i.fileId),s=i.shortFileDescriptor),u.sdkConfig.newModels?new f.MessageSDK(i,s):i}sendMessageToConversation(e,t,n,r,o="std"){const i=h.get(this),s=i.getConversationByDbId(e);if(!s)throw new Error("Parameter 'conversation' is missing or null");if(!t)throw new Error("Parameter 'strMessage' is missing or empty");if("string"!=typeof t)throw new Error("Parameter 'strMessage' must be a string");if(t.length>1024)throw new Error("Parameter 'strMessage' should be shorter than 1024 characters");let a=null;if(r){if(r.length>1024)throw new Error("Parameter 'alternativeContent.message' should be shorter than 1024 characters");if(!n||"text"!==n&&"markdown"!==n&&"rainbow/json"!==n)throw new Error("Parameter 'alternativeContent.type' should be set to either 'text', 'markdown' or 'rainbow/json'");"rainbow/json"===n&&(r=JSON.stringify(r)),a={type:n,message:r}}if("high"!==o&&"middle"!==o&&"low"!==o&&"std"!==o)throw new Error("Parameter 'urgency' should be set to either 'high', 'middle', 'low' or 'std'");const l=i.sendChatMessage(s,t,a,null,null,o);return u.sdkConfig.newModels?new f.MessageSDK(l):l}sendCorrectedChatMessage(e,t,n){const r=h.get(this);if(i.rainbowLogger.sdk(m.logService+"[sendCorrectedChatMessage] :: Trying to send a corrected message"),!e)throw new Error("Parameter 'conversationId' is missing or null");if(!t)throw new Error("Parameter 'strMessage' is missing or empty");if(t.length>1024)throw new Error("Parameter 'strMessage' should be shorter than 1024 characters");if(!n)throw new Error("Parameter 'messageId' is missing or empty");const o=r.getConversationByDbId(e);r.sendCorrectedChatMessage(o,t,n);const s=o.getMessageById(n);return u.sdkConfig.newModels?new f.MessageSDK(s):s}replyToMessage(e,t,n){return r(this,void 0,void 0,(function*(){const r=h.get(this);if(e){if(t){if(n){const o=r.getConversationByDbId(e),i=o.getMessageById(n),s=r.sendChatMessage(o,t,null,i);return u.sdkConfig.newModels?new f.MessageSDK(s):s}throw new Error("Parameter 'answerMessageId' is missing or null")}throw new Error("Parameter 'strMessage' is missing or null")}throw new Error("Parameter 'conversationId' is missing or null")}))}deleteMessage(e,t){const n=h.get(this);if(!e)throw new Error("Parameter 'conversationId' is missing or null");if(!t)throw new Error("Parameter 'messageId' is missing or empty");const r=n.getConversationByDbId(e);n.sendCorrectedChatMessage(r,"",t);const o=r.getMessageById(t);return u.sdkConfig.newModels?new f.MessageSDK(o):o}sendIsTypingStateInConversation(e,t){return r(this,void 0,void 0,(function*(){const n=h.get(this);if(e){if("boolean"!=typeof t)throw new Error("Parameter 'status' is missing or null - should be a boolean");{const r=n.getConversationByDbId(e);if(!r)throw new Error("Parameter 'conversationId': this conversation doesn't exist");return void n.sendIsTypingState(r,t)}}throw new Error("Parameter 'conversationId' is missing or null")}))}sendMessageToBubble(e,t){return r(this,void 0,void 0,(function*(){const n=h.get(this);if(!e)throw new Error("Parameter 'bubble' is missing or null");if(!t)throw new Error("Parameter 'strMessage' is missing or empty");if(t.length>1024)throw new Error("Parameter 'strMessage' should be shorter than 1024 characters");const r=yield n.getRoomConversation(e.jid);if(!r)throw new Error("No 'conversation' found");let o;return e.isActive||(yield c.default.sendInitialRoomPresenceSync(e)),o=n.sendChatMessage(r,t),u.sdkConfig.newModels?new f.MessageSDK(o):o}))}sendIsTypingStateInBubble(e,t){return r(this,void 0,void 0,(function*(){const n=h.get(this);if(!e)throw new Error("Parameter 'bubble' is missing or null");if("boolean"!=typeof t)throw new Error("Parameter 'status' is missing or null");if(!e.jid)throw new Error("Parameter 'bubble': this bubble is not a valid one");const r=yield n.getRoomConversation(e.jid);if(!r)throw new Error("No 'conversation' found for this bubble");n.sendIsTypingState(r,t)}))}removeAllMessagesFromConversation(e){return r(this,void 0,void 0,(function*(){const t=h.get(this),n=p.get(this);if(!e)throw new Error("Parameter 'conversationId' is missing or null");const r=t.getConversationByDbId(e);if(r.type!==n.Type.ONE_TO_ONE&&r.type!==n.Type.BOT)throw new Error("Parameter 'conversation' is not a one-to-one conversation");return yield t.removeAllMessages(r),{code:a.SDK.OK,label:"OK"}}))}markMessageFromConversationAsRead(e,t){const n=h.get(this);if(!t)throw new Error("Parameter 'messageId' is missing or empty");if(!e)throw new Error("Parameter 'conversationId' is missing or null");const r=n.getConversationByDbId(e),o=r.getMessageById(t);if(o.receiptStatus===s.Message.ReceiptStatus.READ)throw new Error("Parameter 'message' is aldready marked as read");return n.sendAckReadMessage(r,o),o.receiptStatus===s.Message.ReceiptStatus.READ&&n.decreaseMissedIMCounterForConversation(r),{code:a.SDK.OK,label:"OK"}}}m.logService="IMService | ",t.ImService=m},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(29),i=n(6),s=n(5),a=n(1),l=n(10),c=n(22),u=n(28),d=n(2),f=new WeakMap,_=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap,g=new WeakMap,v=new WeakMap;class b{constructor(e,t,n,r,o,i,s){this.DetectRTC=window.DetectRTC,this.RAINBOW_ONWEBRTCCALLSTATECHANGED="rainbowonwebrtccallstatechanged",this.RAINBOW_ONWEBRTCMEDIADEVICECHANGED="rainbowonwebrtcmediadevicechanged",this.RAINBOW_ONWEBRTCERRORHANDLED="rainbowonwebrtcerrorhandled",this.RAINBOW_ONWEBRTCSTREAMADDED="rainbowonwebrtcstreamadded",this.RAINBOW_ONWEBRTCTRACKCHANGED="rainbowonwebrtctrackchanged",this.RAINBOW_ONCHROMESTOPSCREENSHARINGTRIGGERED="rainbowonchromestopscreensharingtriggered",this.RAINBOW_ONWEBRTCTMEDIAERROROCCURED="rainbowonwebrtcmediaerroroccured",this.RAINBOW_ONWEBRTCTRECORDSTARTED="rainbowonwebrtcrecordstarted",this.RAINBOW_ONWEBRTCTRECORDSTOPPED="rainbowonwebrtcrecordstopped",this.RAINBOW_ONWEBRTCTRECORDPAUSED="rainbowonwebrtcrecordpaused",this.RAINBOW_ONWEBRTCTRECORDREMOTESTARTED="rainbowonwebrtcrecordremotestarted",this.RAINBOW_ONWEBRTCTRECORDREMOTESTOPPED="rainbowonwebrtcrecordremotestopped",this.RAINBOW_ONWEBRTCTRECORDDONE="rainbowonwebrtcrecorddone",this.RAINBOW_ONWEBRTCTRECORDERROR="rainbowonwebrtcrecorderror",f.set(this,e),_.set(this,t),h.set(this,n),p.set(this,r),m.set(this,o),g.set(this,i),v.set(this,s),e.$on("$destroy",e.$on("ON_CALL_UPDATED_EVENT",(e,t)=>this.onWebRTCCallChanged(e,t))),e.$on("$destroy",e.$on("ON_WEBRTC_CALL_ERROR_EVENT",(e,t)=>this.onWebRTCErrorHandled(e,t))),e.$on("$destroy",e.$on("ON_WEBRTC_REMOTE_STREAM_ADDED",(e,t)=>this.onWebRTCRemoteStreamAdded(e,t))),e.$on("$destroy",e.$on("ON_WEBRTC_CALL_ESCALATION_SUCCESS",(e,t)=>this.onWebRTCEscalation(e,t))),e.$on("$destroy",e.$on("ON_WEBRTC_CALL_ESCALATION",(e,t)=>this.onWebRTCEscalation(e,t))),e.$on("$destroy",e.$on("ON_CHROME_STOP_SCREEN_SHARING_TRIGGERED",()=>this.onChromeStopScreenSharingTrigerred())),e.$on("$destroy",e.$on("ON_WEBRTC_RECORD_SAVED",(e,t,n,r)=>this.onWebRTCRecordingData(e,t,n,r))),e.$on("$destroy",e.$on("ON_WEBRTC_RECORD_ERROR",()=>this.onWebRTCRecordingError())),e.$on("$destroy",e.$on("ON_RECORDING_START_MSG_RECEIVED",()=>this.onWebRTCRecordingStartedByRemote())),e.$on("$destroy",e.$on("ON_RECORDING_STOP_MSG_RECEIVED",()=>this.onWebRTCRecordingStoppedByRemote()))}static get $inject(){return["$rootScope","videoService","platformService","extensionSharingService","webrtcGatewayService","recordsService","conversationService"]}onWebRTCCallChanged(e,t){const n=m.get(this),r=_.get(this);t.type.value!==a.Call.Type.WEBRTC.value||n.isMediaPillarCallSituation(t)||(c.eventsService.dispatchEvent(this.RAINBOW_ONWEBRTCCALLSTATECHANGED,t),"active"===t.status.value&&t.unifiedPlanActivated&&r.attachDistantMediaStreamsUnifiedPlan(t))}onWebRTCErrorHandled(e,t){c.eventsService.dispatchEvent(this.RAINBOW_ONWEBRTCERRORHANDLED,t)}onWebRTCRemoteStreamAdded(e,t){setTimeout(()=>{c.eventsService.dispatchEvent(this.RAINBOW_ONWEBRTCSTREAMADDED,t)},100)}onWebRTCEscalation(e,t){setTimeout(()=>{c.eventsService.dispatchEvent(this.RAINBOW_ONWEBRTCTRACKCHANGED,t)},100)}onChromeStopScreenSharingTrigerred(){setTimeout(()=>{c.eventsService.dispatchEvent(this.RAINBOW_ONCHROMESTOPSCREENSHARINGTRIGGERED,null)},100)}onWebRTCRecordingData(e,t,n,r){c.eventsService.dispatchEvent(this.RAINBOW_ONWEBRTCTRECORDDONE,[t,n,r])}onWebRTCRecordingError(){c.eventsService.dispatchEvent(this.RAINBOW_ONWEBRTCTRECORDERROR,null)}onWebRTCRecordingStartedByRemote(){c.eventsService.dispatchEvent(this.RAINBOW_ONWEBRTCTRECORDREMOTESTARTED,null)}onWebRTCRecordingStoppedByRemote(){c.eventsService.dispatchEvent(this.RAINBOW_ONWEBRTCTRECORDREMOTESTOPPED,null)}setUnifiedPlan(){const e=_.get(this);if(!0===o.sdkConfig.unifiedPlan){if(!e.config)return l.rainbowLogger.sdk("WebRTC Service: Unified plan set to true"),e.config={},e.config.unifiedPlan=!0,!0;l.rainbowLogger.sdk("WebRTC Service: Unified plan set to true"),e.config.unifiedPlan=!0}return!1}canMakeAudioVideoCall(){return("https:"===location.protocol||"chrome-extension:"===location.protocol)&&this.DetectRTC.isWebRTCSupported&&this.DetectRTC.isGetUserMediaSupported}hasAMicrophone(){return this.DetectRTC.hasMicrophone}hasACamera(){return this.DetectRTC.hasWebcam}useMicrophone(e){return e?(i.default.setSetting("microphone",e),i.default.setSetting("headsetMicrophone",e),{code:u.SDK.OK,label:"OK"}):{code:u.SDK.ERRORBADREQUEST,label:"Parameter 'strMicrophoneId' is missing or empty"}}useSpeaker(e){const t=h.get(this);return e?(i.default.setSetting("speaker",e),i.default.setSetting("headsetSpeaker",e),i.default.setSetting("ringingSpeaker",e),t.setSpeakerForElement(document.getElementById("largevideo"),e),{code:u.SDK.OK,label:"OK"}):{code:u.SDK.ERRORBADREQUEST,label:"Parameter 'strSpeakerId' is missing or empty"}}useCamera(e){return e?(i.default.setSetting("camera",e),{code:u.SDK.OK,label:"OK"}):{code:u.SDK.ERRORBADREQUEST,label:"Parameter 'strCameraId' is missing or empty"}}callInAudio(e,t){return r(this,void 0,void 0,(function*(){const n=_.get(this);if(!e)return{code:u.SDK.ERRORBADREQUEST,label:"Parameter 'contactId' is missing or null"};if(!this.canMakeAudioVideoCall())return{code:u.SDK.ERRORUNSUPPORTED,label:"WebRTC is not supported by your browser"};this.setUnifiedPlan();const r=yield d.default.getContactByDBId(e);return n.makeCall(r,"audio",t),{code:u.SDK.OK,label:"OK"}}))}callInVideo(e,t){return r(this,void 0,void 0,(function*(){const n=_.get(this);if(!e)return{code:u.SDK.ERRORBADREQUEST,label:"Parameter 'contactId' is missing or null"};if(!this.canMakeAudioVideoCall())return{code:u.SDK.ERRORUNSUPPORTED,label:"WebRTC is not supported by your browser"};const r=yield d.default.getContactByDBId(e);return this.setUnifiedPlan(),n.makeCall(r,"video",t),{code:u.SDK.OK,label:"OK"}}))}callInSharing(e,t){return r(this,void 0,void 0,(function*(){const n=_.get(this);if(e){if(navigator.userAgent.indexOf("Chrome")>-1){const r=d.default.getContactByDBId(e),o=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return parseInt(o[2],10)>72?(n.makeDesktopSharingCall(r,"sharingOnly",t),{code:u.SDK.OK,label:"OK"}):(yield this.canMakeDesktopSharingCall(),this.setUnifiedPlan(),n.makeDesktopSharingCall(r,"sharingOnly",t),{code:u.SDK.OK,label:"OK"})}{const r=d.default.getContactByDBId(e);return this.setUnifiedPlan(),n.makeDesktopSharingCall(r,"sharingOnly",t),{code:u.SDK.OK,label:"OK"}}}throw new Error("Parameter 'contactId' is missing or null")}))}callinAudioWithSharing(e,t){return r(this,void 0,void 0,(function*(){const n=_.get(this),r=navigator.userAgent;if(!e)return{code:u.SDK.ERRORBADREQUEST,label:"Parameter 'contactId' is missing or null"};if(r.indexOf("Chrome")>-1){const r=yield d.default.getContactByDBId(e),o=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);if(parseInt(o[2],10)>72)return n.makeDesktopSharingCall(r,t),{code:u.SDK.OK,label:"OK"};yield this.canMakeDesktopSharingCall(),this.setUnifiedPlan(),n.makeDesktopSharingCall(r,t)}else{const r=yield d.default.getContactByDBId(e);this.setUnifiedPlan(),n.makeDesktopSharingCall(r,t)}return{code:u.SDK.OK,label:"OK"}}))}answerInAudio(e){const t=_.get(this);return e?this.canMakeAudioVideoCall()?(this.setUnifiedPlan(),t.answerCall(e,"audio"),{code:u.SDK.OK,label:"OK"}):{code:u.SDK.ERRORUNSUPPORTED,label:"WebRTC is not supported by your browser"}:{code:u.SDK.ERRORBADREQUEST,label:"Parameter 'call' is missing or null"}}answerInVideo(e){const t=_.get(this);return e?this.canMakeAudioVideoCall()?(this.setUnifiedPlan(),t.answerCall(e,"video"),{code:u.SDK.OK,label:"OK"}):{code:u.SDK.ERRORUNSUPPORTED,label:"WebRTC is not supported by your browser"}:{code:u.SDK.ERRORBADREQUEST,label:"Parameter 'call' is missing or null"}}getPeerConnectionForCall(e){return e?e.id?s.default.connection.jingle.sessions[e.id].peerconnection:{code:u.SDK.ERRORBADREQUEST,label:"Can not get the call ID"}:{code:u.SDK.ERRORBADREQUEST,label:"Parameter 'call' is missing or null"}}showLocalVideo(){const e=_.get(this);return this.canMakeAudioVideoCall()?(e.attachLocalMediaStreams(!0),{code:u.SDK.OK,label:"OK"}):{code:u.SDK.ERRORUNSUPPORTED,label:"WebRTC is not supported by your browser"}}hideLocalVideo(){const e=_.get(this);return this.canMakeAudioVideoCall()?(e.attachLocalMediaStreams(!1),{code:u.SDK.OK,label:"OK"}):{code:u.SDK.ERRORUNSUPPORTED,label:"WebRTC is not supported by your browser"}}showRemoteVideo(e){const t=_.get(this);return e?this.canMakeAudioVideoCall()?(t.attachDistantMediaStreams(!0,e),{code:u.SDK.OK,label:"OK"}):{code:u.SDK.ERRORUNSUPPORTED,label:"WebRTC is not supported by your browser"}:{code:u.SDK.ERRORBADREQUEST,label:"Parameter 'call' is missing or null"}}hideRemoteVideo(e){const t=_.get(this);return e?this.canMakeAudioVideoCall()?(t.attachDistantMediaStreams(!1,e),{code:u.SDK.OK,label:"OK"}):{code:u.SDK.ERRORUNSUPPORTED,label:"WebRTC is not supported by your browser"}:{code:u.SDK.ERRORBADREQUEST,label:"Parameter 'call' is missing or null"}}addVideoToCall(e){const t=_.get(this);return this.canMakeAudioVideoCall()?(this.setUnifiedPlan(),t.addVideoToCall(e,!1),{code:u.SDK.OK,label:"OK"}):{code:u.SDK.ERRORUNSUPPORTED,label:"WebRTC is not supported by your browser"}}addSharingToCall(e){return r(this,void 0,void 0,(function*(){const t=_.get(this),n=navigator.userAgent;if(!e)throw new Error("Parameter 'call' is missing or null");if(!(n.indexOf("Chrome")>-1))return this.setUnifiedPlan(),t.addSharingToCall(e),{code:u.SDK.OK,label:"OK"};{const n=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);parseInt(n[2],10)>72&&t.addSharingToCall(e),yield this.canMakeDesktopSharingCall(),this.setUnifiedPlan(),t.addSharingToCall(e)}return{code:u.SDK.OK,label:"OK"}}))}removeVideoFromCall(e){const t=_.get(this);return this.canMakeAudioVideoCall()?(this.setUnifiedPlan(),t.removeVideoFromCall(e),{code:u.SDK.OK,label:"OK"}):{code:u.SDK.ERRORUNSUPPORTED,label:"WebRTC is not supported by your browser"}}removeSharingFromCall(e){const t=_.get(this);return this.setUnifiedPlan(),t.removeSharingFromCall(e),{code:u.SDK.OK,label:"OK"}}release(e){const t=_.get(this);return e?(this.canMakeAudioVideoCall()||l.rainbowLogger.sdk(b.logService+"release called but WebRTC is not supported by your browser"),t.rejectCall(e),{code:u.SDK.OK,label:"OK"}):{code:u.SDK.ERRORBADREQUEST,label:"Parameter 'call' is missing or null"}}muteAudioCall(e){const t=_.get(this);return e?this.canMakeAudioVideoCall()?(t.muteAudio(e,!0),{code:u.SDK.OK,label:"OK"}):{code:u.SDK.ERRORUNSUPPORTED,label:"WebRTC is not supported by your browser"}:{code:u.SDK.ERRORBADREQUEST,label:"Parameter 'conversation' is missing or null"}}unmuteAudioCall(e){const t=_.get(this);return e?this.canMakeAudioVideoCall()?(t.muteAudio(e,!1),{code:u.SDK.OK,label:"OK"}):{code:u.SDK.ERRORUNSUPPORTED,label:"WebRTC is not supported by your browser"}:{code:u.SDK.ERRORBADREQUEST,label:"Parameter 'conversation' is missing or null"}}getLocalStreamsFromCall(e){if(!e||!("id"in e))return{code:u.SDK.ERRORBADREQUEST,label:"Parameter 'call' is missing or empty"};if(e.type!==a.Call.Type.WEBRTC)return{code:u.SDK.ERRORNOTFOUND,label:"This call is not an audio or audio/video call"};const t=s.default.connection.jingle.sessions[e.id];return t?t.localStreams:[]}getRemoteStreamsFromCall(e){if(!e||!("id"in e))return{code:u.SDK.ERRORBADREQUEST,label:"Parameter 'call' is missing or empty"};if(e.type!==a.Call.Type.WEBRTC)return{code:u.SDK.ERRORNOTFOUND,label:"This call is not an audio or audio/video call"};const t=s.default.connection.jingle.sessions[e.id];return t?t.remoteStreamsObject:[]}setChromeExtensionIdForSharing(e){const t=p.get(this);return e?(t.setExtensionId(e),t.start(),{code:u.SDK.OK,label:"OK"}):{code:u.SDK.ERRORBADREQUEST,label:"Parameter 'strExtensionId' is missing or empty"}}canMakeDesktopSharingCall(){return r(this,void 0,void 0,(function*(){const e=p.get(this),t=navigator.userAgent;if(t.indexOf("Firefox")>-1)return{code:u.SDK.OK,label:"OK"};if(!(t.indexOf("Chrome")>-1)){if(yield e.isExtensionInstalled())return b.isChromeExtensionInstalled=!0,{code:u.SDK.OK,label:"OK"};throw b.isChromeExtensionInstalled=!1,new Error("Not Chrome Extension installed for desktop sharing")}{const e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);if(parseInt(e[2],10)>72)return{code:u.SDK.OK,label:"OK"}}}))}startRecording(e,t,n,r,o,i){const s=g.get(this),a=v.get(this);if(l.rainbowLogger.sdk(b.logService+"[startRecording] :: Enter"),!e)return{code:u.SDK.ERRORBADREQUEST,label:"Parameter 'call' is missing or null"};if(!t)return{code:u.SDK.ERRORBADREQUEST,label:"Parameter 'fileName' is missing or null"};if(n=null==n||n,r=null==r||r,o=null!=o&&o,i=null==i?"video/webm;codecs=vp9":i,l.rainbowLogger.sdk(b.logService+"[startRecording] :: Prepare recording..."),s.createRecord(e.id,null,n?"REMOTE":"LOCAL",r,t,o,i)){s.setOnPauseCallback(()=>{l.rainbowLogger.sdk(b.logService+"[onRTCChange] :: WebRTC recording paused"),c.eventsService.dispatchEvent(this.RAINBOW_ONWEBRTCTRECORDPAUSED,null)}),l.rainbowLogger.sdk(b.logService+"[startRecording] :: Start recording"),s.startRecording();const t=a.getConversationById(e.conversationId);return t?(l.rainbowLogger.sdk(b.logService+"[startRecording] :: Notify remote peer"),a.sendRecordingMessage(t,"start")):l.rainbowLogger.sdk(b.logService+"[startRecording] :: No conversation found - can't notify remote peer"),l.rainbowLogger.sdk(b.logService+"[startRecording] :: WebRTC recording started"),c.eventsService.dispatchEvent(this.RAINBOW_ONWEBRTCTRECORDSTARTED,null),{code:u.SDK.OK,label:"OK"}}return l.rainbowLogger.sdk(b.logService+"[startRecording] :: can't start a webRTC recording"),c.eventsService.dispatchEvent(this.RAINBOW_ONWEBRTCTRECORDERROR,null),{code:u.SDK.ERRORBADREQUEST,label:"Can't record the conversation"}}stopRecording(e){const t=g.get(this),n=v.get(this);l.rainbowLogger.sdk(b.logService+"[stopRecording] :: Stop current WebRTC recording"),t.setOnPauseCallback(null),t.stopRecording();const r=n.getConversationById(e.conversationId);return r?(l.rainbowLogger.sdk(b.logService+"[stopRecording] :: Notify remote peer"),n.sendRecordingMessage(r,"stop")):l.rainbowLogger.sdk(b.logService+"[stopRecording] :: No conversation found - can't notify remote peer"),c.eventsService.dispatchEvent(this.RAINBOW_ONWEBRTCTRECORDSTOPPED,null),{code:u.SDK.OK,label:"OK"}}}b.logService="WebRTCService | ",b.isChromeExtensionInstalled=!1,t.WebRTCService=b},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(10),i=n(22),s=n(226),a=n(49),l=n(2),c=n(34),u=new WeakMap,d=new WeakMap,f=new WeakMap,_=new WeakMap,h=new WeakMap;class p{constructor(e,t,n,r,o){this.RAINBOW_ONBUBBLEINVITATIONTOJOINRECEIVED="rainbowbubblerequesttojoin",this.RAINBOW_ONBUBBLEUPDATED="rainbowbubbleupdated",this.RAINBOW_ONBUBBLEAVATARUPDATED="rainbowbubbleavatarupdated",this.RAINBOW_ONBUBBLEDEACTIVATED="rainbowonbubbledeactivated",u.set(this,e),d.set(this,t),f.set(this,n),_.set(this,r),h.set(this,o),o.$on("$destroy",o.$on(c.default.ROOM_UPDATE_EVENT,(e,t)=>this.onBubbleUpdatedEvent(e,t))),o.$on("$destroy",o.$on(c.default.ROOM_AVATAR_UPDATE_EVENT,()=>this.onAvatarUpdatedEvent())),o.$on("$destroy",o.$on("ROOM_INVITATION",(e,t)=>this.onRoomInvitationEvent(e,t)))}static get $inject(){return["videoService","conversationService","conferenceService","webConferenceService","$rootScope"]}onBubbleUpdatedEvent(e,t){t&&!1===t.isActive?i.eventsService.dispatchEvent(this.RAINBOW_ONBUBBLEDEACTIVATED,t):i.eventsService.dispatchEvent(this.RAINBOW_ONBUBBLEUPDATED,t)}onAvatarUpdatedEvent(){i.eventsService.dispatchEvent(this.RAINBOW_ONBUBBLEAVATARUPDATED,null)}onRoomInvitationEvent(e,t){i.eventsService.dispatchEvent(this.RAINBOW_ONBUBBLEINVITATIONTOJOINRECEIVED,t)}createBubble(e,t,n=!1,i=!1,s=null,a=!1){return r(this,void 0,void 0,(function*(){const r=d.get(this);let l=null;const u=t||"",f=Boolean(n),_=Boolean(i),h=Boolean(a);if(!e)throw new Error("Parameter 'strName' is missing or empty");l=yield c.default.createRoom(e,u,f,s,_,!1,!1,h);const m=yield r.getRoomConversation(l.jid);return o.rainbowLogger.sdk(p.logService+"[createBubble] :: New bubble "+e+" created successfully"),c.default.sendInitialRoomPresence(m.room),l}))}deleteBubble(e){return r(this,void 0,void 0,(function*(){if(!(e=e&&e.dbId?c.default.getRoomById(e.dbId):null))throw new Error("Parameter 'bubble' is missing or null");const t=yield this.closeBubble(e);return c.default.ownerDeleteRoom(t)}))}deleteAllBubbles(){return r(this,void 0,void 0,(function*(){const e=a.PromiseQueue.create();c.default.getMyRooms().forEach(t=>{e.add(()=>this.deleteBubble(t))})}))}inviteContactToBubble(e,t,n=!1,o=!0){return r(this,void 0,void 0,(function*(){if(t=t&&t.dbId?c.default.getRoomById(t.dbId):null,!e)throw new Error("Parameter 'contactId' is missing or null");if(!t)throw new Error("Parameter 'bubble' is missing or null");let r=s.Room.Privilege.USER;n&&(r=s.Room.Privilege.MODERATOR);let i=!1;"boolean"==typeof o&&(i=!o);let a=!1,u=!1,d=!1,f=!1,_=!1;t.users.forEach(t=>{if(t.contact.id===e)switch(t.status){case"invited":d=!0;break;case"accepted":a=!0;break;case"unsubscribed":u=!0;break;case"rejected":f=!0;break;case"deleted":_=!0}});const h=yield l.default.getContactByDBId(e);if(a||d)throw new Error("Contact has been already invited or is already a member of the room");if(u||f){const e=yield c.default.ownerReinviteRejectedUser(t,h,null,r,i);return e.updateAvatarInfo(),e}if(_){const e=yield c.default.ownerReinviteDeletedUser(t,h,null,r);return e.updateAvatarInfo(),e}const p=yield c.default.addRoomUser(t,h,null,r,i);return p.updateAvatarInfo(),p}))}removeContactFromBubble(e,t){return r(this,void 0,void 0,(function*(){if(t=t&&t.dbId?c.default.getRoomById(t.dbId):null,!e)throw new Error("Parameter 'contactId' is missing or null");if(!t)throw new Error("Parameter 'bubble' is missing or is null");let n="";t.users.forEach(t=>{t.contact.id===e&&(n=t.status)});const r=yield l.default.getContactByDBId(e);switch(n){case c.default.RoomUserStatus.INVITED:{const e=yield c.default.ownerDeletesUserFromRoom(t,r);return e.updateAvatarInfo(),e}case c.default.RoomUserStatus.ACCEPTED:{const e=yield c.default.unsubscribeUserFromRoom(t,r);return e.updateAvatarInfo(),e}default:return t}}))}promoteContactToModerator(e,t){return r(this,void 0,void 0,(function*(){if(t=t&&t.dbId?c.default.getRoomById(t.dbId):null,!e)throw new Error("Parameter 'contactId' is missing or null");if(!t)throw new Error("Parameter 'bubble' is missing or is null");const n=yield l.default.getContactByDBId(e),r=yield c.default.updateRoomUser(t,n,null,"moderator");return r.updateAvatarInfo(),r}))}demoteContactFromModerator(e,t){return r(this,void 0,void 0,(function*(){if(t=t&&t.dbId?c.default.getRoomById(t.dbId):null,!e)throw new Error("Parameter 'contactId' is missing or null");if(!t)throw new Error("Parameter 'bubble' is missing or is null");const n=yield l.default.getContactByDBId(e),r=yield c.default.updateRoomUser(t,n,null,"user");return r.updateAvatarInfo(),r}))}changeOwner(e,t){return r(this,void 0,void 0,(function*(){if(t=t&&t.dbId?c.default.getRoomById(t.dbId):null,!e)throw new Error("Parameter 'contactId' is missing or null");if(!t)throw new Error("Parameter 'bubble' is missing or is null");const n=yield l.default.getContactByDBId(e),r=yield c.default.changeRoomOwner(t,n);return r.updateAvatarInfo(),r}))}acceptInvitationToJoinBubble(e){return r(this,void 0,void 0,(function*(){if(!(e=e&&e.dbId?c.default.getRoomById(e.dbId):null))throw new Error("Parameter 'bubble' is missing or null");return yield c.default.acceptRoomInvitation(e),e}))}declineInvitationToJoinBubble(e){return r(this,void 0,void 0,(function*(){if(!(e=e&&e.dbId?c.default.getRoomById(e.dbId):null))throw new Error("Parameter 'bubble' is missing or null");return yield c.default.declineRoomInvitation(e)}))}leaveBubble(e){return r(this,void 0,void 0,(function*(){if(!(e=e&&e.dbId?c.default.getRoomById(e.dbId):null))throw new Error("Parameter 'bubble' is missing or null");let t=!1;if(e.users.forEach(e=>{l.default.isUserContact(e)||"moderator"===e.privilege&&"accepted"===e.status&&(t=!0)}),!t)throw new Error("Can't leave the bubble. No other moderator");switch(e.status){case c.default.RoomUserStatus.UNSUBSCRIBED:return yield c.default.participantCloseRoom(e);default:return yield c.default.unsubscribeMeFromRoom(e)}}))}closeBubble(e){return r(this,void 0,void 0,(function*(){if(!(e=e&&e.dbId?c.default.getRoomById(e.dbId):null))throw new Error("Parameter 'bubble' is missing or null");return this.isBubbleArchived(e)||(yield c.default.ownerArchiveRoom(e)),e}))}isBubbleArchived(e){let t=!0;return(e=e&&e.dbId?c.default.getRoomById(e.dbId):null)?e.status!==c.default.RoomUserStatus.UNSUBSCRIBED?t=!1:e.users.forEach(e=>{e.status!==c.default.RoomUserStatus.UNSUBSCRIBED&&e.status!==c.default.RoomUserStatus.DELETED&&(t=!1)}):t=!1,t}getAllBubbles(){return c.default.getRooms()}getAllOwnedBubbles(){return c.default.getMyRooms()}getAllPendingBubbles(){return c.default.getRooms().filter(e=>"invited"===e.status)}getAllInactiveBubbles(){return c.default.getRooms().filter(e=>!1===e.isActive)}getBubbleById(e){if(!e)throw new Error("Parameter 'strBubbleId' is missing or empty");return c.default.getRoomById(e)}updateNameForBubble(e,t){return r(this,void 0,void 0,(function*(){if(t=t&&t.dbId?c.default.getRoomById(t.dbId):null,!e)throw new Error("Parameter 'strName' is missing or empty");if(!t)throw new Error("Parameter 'bubble' is missing or empty");return t.name=e,yield c.default.ownerUpdateRoom(t)}))}updateDescriptionForBubble(e,t){return r(this,void 0,void 0,(function*(){if(t=t&&t.dbId?c.default.getRoomById(t.dbId):null,!e)throw new Error("Parameter 'strDescription' is missing or empty");if(!t)throw new Error("Parameter 'bubble' is missing or empty");return t.desc=e,yield c.default.ownerUpdateRoom(t)}))}updateAvatarForBubble(e,t){return r(this,void 0,void 0,(function*(){if(t=t&&t.dbId?c.default.getRoomById(t.dbId):null,!e)throw new Error("Parameter 'urlAvatar' is missing or empty");if(!t)throw new Error("Parameter 'bubble' is missing or empty");return t.id=t.dbId,yield c.default.setAvatarRoom(t,e)}))}deleteAvatarFromBubble(e){return r(this,void 0,void 0,(function*(){if(!(e=e&&e.dbId?c.default.getRoomById(e.dbId):null))throw new Error("Parameter 'bubble' is missing or empty");yield c.default.deleteAvatarRoom(e.dbId)}))}updateCustomDataForBubble(e,t){return r(this,void 0,void 0,(function*(){if(t=t&&t.dbId?c.default.getRoomById(t.dbId):null,!e)throw new Error("Parameter 'customData' is missing or empty");if(!t)throw new Error("Parameter 'bubble' is missing or empty");t.customData=e;const n=c.default.ownerUpdateRoomCustomData(t);return t.customData=n,t}))}deleteCustomDataForBubble(e){return r(this,void 0,void 0,(function*(){if(!(e=e&&e.dbId?c.default.getRoomById(e.dbId):null))throw new Error("Parameter 'bubble' is missing or empty");e.customData={};const t=yield c.default.ownerUpdateRoomCustomData(e);return e.customData=t,e}))}getBubbleFromServer(e){return r(this,void 0,void 0,(function*(){if(!e||!e.dbId)throw new Error("Parameter 'bubble' missing or not correct");return yield c.default.getServerRoom(e.dbId)}))}}p.logService="BubblesService | ",t.BubblesService=p},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(28),i=n(22),s=n(2),a=n(7),l=n(34),c=new WeakMap,u=new WeakMap,d=new WeakMap,f=new WeakMap,_=new WeakMap;t.ConferencesService=class{constructor(e,t,n,r,o){this.confBubble=null,this.confBubbleType="",this.RAINBOW_ONWEBCONFERENCEUPDATED="rainbowwebconferenceupdated",this.RAINBOW_ONWEBRTCMEDIAERROROCCURED="rainbowwebrtcmediaerroroccured",this.RAINBOW_ONBUBBLESHARINGCONFERENCESTARTED="rainbowbubblesharingconferencestarted",this.RAINBOW_ONBUBBLECONFERENCESTARTED="rainbowbubbleconferencestarted",this.RAINBOW_ONBUBBLECONFERENCETALKERACTIVE="rainbowonwebconferencetalkeractive",this.RAINBOW_ONWEBCONFERENCEDELEGATED="rainbowonwebconferencedelegated",c.set(this,e),u.set(this,t),d.set(this,n),f.set(this,r),_.set(this,o),o.$on("$destroy",o.$on("ON_CONFERENCE_UPDATED_EVENT",(e,t)=>this.onConferenceUpdated(e,t))),o.$on("$destroy",o.$on("ON_WEBRTC_GETUSERMEDIA_ERROR",(e,t)=>this.onWebRtcGetUserMediaError(e,t))),o.$on("$destroy",o.$on("ON_CONFERENCE_PARTICIPANT_EVENT",(e,t)=>this.onConferenceParticipantEvent(e,t))),o.$on("$destroy",o.$on("ON_CONFERENCE_STARTED_INVITATION",(e,t)=>this.onConferenceStartedInvitation(e,t))),o.$on("$destroy",o.$on("ON_CONFERENCE_TALKER_EVENT",(e,t)=>this.onConferenceTalkerEvent(e,t))),o.$on("$destroy",o.$on("ON_CONFERENCE_DELEGATED_EVENT",(e,t,n)=>this.onWebConferenceDelegated(e,t,n)))}static get $inject(){return["videoService","conversationService","conferenceService","webConferenceService","$rootScope"]}onConferenceUpdated(e,t){t&&i.eventsService.dispatchEvent(this.RAINBOW_ONWEBCONFERENCEUPDATED,t)}onWebRtcGetUserMediaError(e,t){i.eventsService.dispatchEvent(this.RAINBOW_ONWEBRTCMEDIAERROROCCURED,t)}onConferenceParticipantEvent(e,t){i.eventsService.dispatchEvent(this.RAINBOW_ONWEBCONFERENCEUPDATED,t)}onConferenceStartedInvitation(e,t){const n=t.confEndpoints;n&&n.forEach(e=>{"webrtc"===e.mediaType&&i.eventsService.dispatchEvent(this.RAINBOW_ONBUBBLECONFERENCESTARTED,t),"webrtcSharingOnly"===e.mediaType&&i.eventsService.dispatchEvent(this.RAINBOW_ONBUBBLESHARINGCONFERENCESTARTED,t)})}onConferenceTalkerEvent(e,t){t&&i.eventsService.dispatchEvent(this.RAINBOW_ONBUBBLECONFERENCETALKERACTIVE,t)}onWebConferenceDelegated(e,t,n){const r={oldConferenceId:t,newConferenceId:n};i.eventsService.dispatchEvent(this.RAINBOW_ONWEBCONFERENCEDELEGATED,r)}isWebConferenceAllowed(){return a.default.isFeatureEnabled(a.default.FeaturesEnum.WEBRTC_CONFERENCE_ALLOWED)}hasActiveWebConferenceSession(){return f.get(this).hasActiveConferenceSession()}getWebConferenceBubble(){return f.get(this).getRelatedRoomToActiveConferenceSession()}setActiveSpeakerValue(e){return f.get(this).setActiveSpeakerValue(e),e}startOrJoinWebConference(e){return r(this,void 0,void 0,(function*(){const t=f.get(this);if(!(e=e&&e.dbId?l.default.getRoomById(e.dbId):null))throw new Error("Parameter 'bubble' is missing or empty");if(this.hasActiveWebConferenceSession())throw new Error("Already in a conference");return e.confEndpoints.length&&(yield t.makeSnapshotForConfId(e.confEndpoints[0].confEndpointId,"webrtc",!0)),yield t.bubbleStartOrJoinWebConference(e),this.confBubble=e,this.confBubbleType="webrtc",l.default.getRoomById(e.dbId)}))}stopWebConference(){return r(this,void 0,void 0,(function*(){const e=f.get(this),t=d.get(this);if(this.confBubble=this.confBubble&&this.confBubble.dbId?l.default.getRoomById(this.confBubble.dbId):null,!this.hasActiveWebConferenceSession()||!this.confBubble)throw new Error("No known conference in a Bubble");let n="";n="webrtc"===this.confBubbleType?this.confBubble.getSFUConfEndpointId():this.confBubble.getSFUSharingConfEndpointId();const r=e.getConferenceSessionById(n),o=r?r.getParticipantByJid(s.default.userContact.jid):null;if("moderator"!==o.role)return yield t.disconnectsParticipant(n,o.participantId,this.confBubbleType),this.confBubble=null,void(this.confBubbleType=null);yield t.stopConference(n,"webrtc",this.confBubble.dbId),this.confBubble=null,this.confBubbleType=null}))}muteConferenceAudio(e){return r(this,void 0,void 0,(function*(){const t=d.get(this),n=e.getConnectedParticipantByJid(s.default.userContact.jid).participantId;if(!e)throw new Error("Parameter 'conferenceSession' is missing or empty");if(!n)throw new Error("Couldn't retrieve participant ID - make sure the conference is active and you are connected");yield t.updateParticipantState(e.id,n,"mute","webrtc")}))}unmuteConferenceAudio(e){return r(this,void 0,void 0,(function*(){const t=d.get(this),n=e.getConnectedParticipantByJid(s.default.userContact.jid).participantId;if(!e)throw new Error("Parameter 'conferenceSession' is missing or empty");if(!n)throw new Error("Couldn't retrieve participant ID - make sure the conference is active and you are connected");yield t.updateParticipantState(e.id,n,"unmute","webrtc")}))}muteConferenceParticipant(e,t){return r(this,void 0,void 0,(function*(){const n=d.get(this);if(!e)throw new Error("Parameter 'conferenceSession' is missing or empty");if(!t)throw new Error("Parameter 'participantId' is missing or empty");yield n.updateParticipantState(e.id,t,"mute","webrtc")}))}unmuteConferenceParticipant(e,t){return r(this,void 0,void 0,(function*(){const n=d.get(this);if(!e)throw new Error("Parameter 'conferenceSession' is missing or empty");if(!t)throw new Error("Parameter 'participantId' is missing or empty");yield n.updateParticipantState(e.id,t,"unmute","webrtc")}))}muteAllConferenceParticipants(e){return r(this,void 0,void 0,(function*(){const t=d.get(this);if(!e)throw new Error("Parameter 'conferenceSession' is missing or empty");const n=e.participants;for(let r=0;r<n.length;r++)"moderator"!==n[r].role&&(yield t.updateParticipantState(e.id,n[r].participantId,"mute","webrtc"))}))}unmuteAllConferenceParticipants(e){return r(this,void 0,void 0,(function*(){const t=d.get(this);if(!e)throw new Error("Parameter 'conferenceSession' is missing or empty");const n=e.participants;for(let r=0;r<n.length;r++)"moderator"!==n[r].role&&(yield t.updateParticipantState(e.id,n[r].participantId,"unmute","webrtc"))}))}addVideoToConference(e){const t=f.get(this);if(!e)throw new Error("Parameter 'conferenceSession' is missing or empty");return t.addMediaToConferenceSession(e,"video")}addSharingToConference(e){const t=f.get(this);if(!e)throw new Error("Parameter 'conferenceSession' is missing or empty");return t.addMediaToConferenceSession(e,"sharing")}removeVideoFromConference(e){const t=f.get(this);if(!e)throw new Error("Parameter 'conferenceSession' is missing or empty");return t.removeMediaFromConferenceSession(e,"video"),e}removeSharingFromConference(e){const t=f.get(this);if(!e)throw new Error("Parameter 'conferenceSession' is missing or empty");return t.removeMediaFromConferenceSession(e,"sharing"),e}showLocalVideo(e){const t=f.get(this);if(!e)throw new Error("Parameter 'conferenceSession' is missing or empty");return t.attachLocalMediaStream(!0,e),t.isActiveSpeakerEnabled(),e}showRemoteVideo(e){const t=f.get(this);if(!e)throw new Error("Parameter 'conferenceSession' is missing or empty");return t.isActiveSpeakerEnabled()?t.attachGalleryMediaStreams(e):t.attachDistantMediaStream(!0,e),e}getConferenceSessionById(e){const t=f.get(this);if(!e)throw new Error("Parameter 'conferenceId' is missing or empty");return t.getConferenceSessionById(e)}updateGalleryPublisher(e,t,n){return r(this,void 0,void 0,(function*(){const r=f.get(this);if(!e)throw new Error("Parameter 'conferenceSession' is missing or empty");if(!t)throw new Error("Parameter 'galleryElementId' is missing or empty");if(!n)throw new Error("Parameter 'newPublisher' is missing or empty");if(r.getRelatedPublisherToElement(e.id,t))for(let n=0;n<e.videoGallery.length;n++)e.videoGallery[n].id===t&&(e.videoGallery[n].sessionId?r.dropRemoteVideoSession(e,e.videoGallery[n].sessionId):r.reInitialiseVideoGalleryElementById(e,t));yield r.subscribeToPublisher(e.id,n,t)}))}removeGalleryPublisher(e,t){const n=f.get(this);if(!e)throw new Error("Parameter 'conferenceSession' is missing or empty");if(!t)throw new Error("Parameter 'galleryElementId' is missing or empty");return n.dropRemoteVideoSession(e,t),{code:o.SDK.OK,label:`Publisher from ${t} successfully removed`}}setVideoGalleryElementsNumber(e){return f.get(this).setVideoGalleryElementsNumber(e),e}removePipVideo(){return c.get(this).removeConferencePip()}updateMainVideoSession(e,t){const n=f.get(this);if(e){if(t){n.updateMainScreenSession(e,t);const r=n.getConferenceSessionById(e);return n.attachDistantMediaStream(!0,r),n.getConferenceSessionById(e)}throw new Error("Parameter 'sessionId' is missing or empty")}throw new Error("Parameter 'conferenceId' is missing or empty")}disconnectParticipant(e,t,n="webrtc"){return r(this,void 0,void 0,(function*(){const r=d.get(this);if(!e)throw new Error("Parameter 'conferenceId' is missing or empty");if(!t)throw new Error("Parameter 'participantId' is missing or empty");yield r.disconnectsParticipant(e,t,n)}))}getListOfAvailableRemoteVideoPublishers(e){const t=f.get(this);if(!e)throw new Error("Parameter 'conferenceSession' is missing or empty");const n={all:[],notActive:[]};return n.all=e.getListOfRemoteVideoPublishers(),n.notActive=t.getListOfAvailableRemoteVideoPublishers(e.id),n}delegateConferenceToParticipant(e,t){return r(this,void 0,void 0,(function*(){const n=f.get(this);if(!e)throw new Error("Parameter 'conferenceId' is missing or empty");if(!t)throw new Error("Parameter 'participantId' is missing or empty");return yield n.delegateConferenceToParticipant(e,t)}))}toggleAutoStreamQuality(e){return f.get(this).setDisableAutoUpdateSubstreamLevels(!e),e}getElementStreamQuality(e){const t=document.getElementById(e);if(t&&"video"===t.localName)return{height:t.videoHeight,width:t.videoWidth};throw new Error("Can not find the video stream attached to an element with the following ID: "+e)}}},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(10),i=n(22),s=n(44),a=n(28),l=n(2),c=new WeakMap,u=new WeakMap;class d{constructor(e,t){this.RAINBOW_ONGROUPCREATED="rainbowgroupcreated",this.RAINBOW_ONGROUPUPDATED="rainbowgroupupdated",this.RAINBOW_ONGROUPDELETED="rainbowgroupdeleted",this.RAINBOW_ONGROUPUSERADDED="rainbowgroupuseradded",this.RAINBOW_ONGROUPUSERREMOVED="rainbowgroupuserdeleted",u.set(this,e),c.set(this,t),t.$on("$destroy",t.$on(e.ON_UPDATE_GROUP_EVENT,(e,t)=>this.onGroupUpdated(e,t))),t.$on("$destroy",t.$on(e.ON_CREATED_GROUP_EVENT,(e,t)=>this.onGroupCreated(e,t))),t.$on("$destroy",t.$on(e.ON_REMOVED_GROUP_EVENT,(e,t)=>this.onGroupDeleted(e,t))),t.$on("$destroy",t.$on(e.ON_ADD_GROUP_USER_EVENT,(e,t,n)=>this.onGroupUserAdded(e,t,n))),t.$on("$destroy",t.$on(e.ON_REMOVE_GROUP_USER_EVENT,(e,t,n)=>this.onGroupUserRemoved(e,t,n)))}static get $inject(){return["groupService","$rootScope"]}onGroupUpdated(e,t){return r(this,void 0,void 0,(function*(){const e=u.get(this),n=yield e.getGroup(t);i.eventsService.dispatchEvent(this.RAINBOW_ONGROUPUPDATED,n)}))}onGroupCreated(e,t){return r(this,void 0,void 0,(function*(){const e=u.get(this),n=yield e.getGroup(t);i.eventsService.dispatchEvent(this.RAINBOW_ONGROUPCREATED,n)}))}onGroupDeleted(e,t){i.eventsService.dispatchEvent(this.RAINBOW_ONGROUPDELETED,t)}onGroupUserAdded(e,t,n){return r(this,void 0,void 0,(function*(){const e=u.get(this),r=yield e.getGroup(t);i.eventsService.dispatchEvent(this.RAINBOW_ONGROUPUSERADDED,{group:r,userId:n})}))}onGroupUserRemoved(e,t,n){return r(this,void 0,void 0,(function*(){const e=u.get(this),r=yield e.getGroup(t);i.eventsService.dispatchEvent(this.RAINBOW_ONGROUPUSERREMOVED,{group:r,userId:n})}))}createGroup(e,t,n){return r(this,void 0,void 0,(function*(){const r=u.get(this);let i=null;const a=t||"";let l=!1;if("boolean"==typeof n&&(l=n),!e)throw new Error("Parameter 'strName' is missing or empty");i=new s.Group(null,e,a,l);const c=yield r.addGroup(i);return o.rainbowLogger.sdk(d.logService+"[createGroup] :: New group created successfully"),c}))}deleteGroup(e){return r(this,void 0,void 0,(function*(){const t=u.get(this);if(!e)throw new Error("Parameter 'group' is missing or empty");return yield t.removeGroup(e.id),o.rainbowLogger.sdk(d.logService+"[deleteGroup] :: Group deleted successfully"),{code:a.SDK.OK,label:"OK"}}))}deleteAllGroups(){return r(this,void 0,void 0,(function*(){const e=u.get(this),t=[],n=e.getGroupsAsArray();return n.forEach(n=>{t.push((t=>e.removeGroup(t.id))(n))}),yield Promise.all(t),o.rainbowLogger.sdk(d.logService+"[deleteAllGroups] :: All groups deleted successfully"),{code:a.SDK.OK,label:"OK"}}))}getAll(){return u.get(this).getGroupsAsArray()}getFavoritesGroups(){return u.get(this).getGroupsAsArray().filter(e=>e.isFavorite)}setGroupAsFavorite(e){return r(this,void 0,void 0,(function*(){const t=u.get(this);return e.isFavorite=!0,yield t.updateGroup(e),e}))}unsetGroupAsFavorite(e){return r(this,void 0,void 0,(function*(){const t=u.get(this);return e.isFavorite=!1,yield t.updateGroup(e),e}))}getGroupById(e){const t=u.get(this);let n=null;return t.getGroupsAsArray().some(t=>e===t.id&&(n=t,!0)),n}getDetailedGroupById(e){return r(this,void 0,void 0,(function*(){const t=u.get(this);if(!e)throw new Error("Parameter 'id' is missing or empty");return yield t.getGroup(e)}))}addContactInGroup(e,t){return r(this,void 0,void 0,(function*(){const n=u.get(this);if(!e)throw new Error("Parameter 'contactId' is missing or null");if(!t)throw new Error("Parameter 'group' is missing or null");const r=yield l.default.getContactByDBId(e),i=yield n.addGroupUser(t,r);return o.rainbowLogger.sdk(d.logService+"[addContactInGroup] :: Contact added successfully"),i}))}removeContactFromGroup(e,t){return r(this,void 0,void 0,(function*(){const n=u.get(this);if(!e)throw new Error("Parameter 'contact' is missing or null");if(!t)throw new Error("Parameter 'group' is missing or null");const r=yield l.default.getContactByDBId(e);return n.removeGroupUser(t.id,r)}))}}d.logService="GroupService  | ",t.GroupsService=d},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(22),i=new WeakMap,s=new WeakMap;t.CallsLogService=class{constructor(e,t){this.RAINBOW_ONCALLLOGUPDATED="rainbowcalllogupdated",this.RAINBOW_ONCALLLOGACKUPDATED="rainbowcalllogackupdated",this.initialized=!1,i.set(this,e),s.set(this,t),e.$on("$destroy",e.$on("ON_CALL_LOG_UPDATED",()=>this.onCallLogUpdated())),e.$on("$destroy",e.$on("ON_CALL_LOG_ACK_UPDATED",(e,t)=>this.onCallLogAckUpdated(e,t)))}static get $inject(){return["$rootScope","callLogService"]}onCallLogUpdated(){o.eventsService.dispatchEvent(this.RAINBOW_ONCALLLOGUPDATED,null)}onCallLogAckUpdated(e,t){o.eventsService.dispatchEvent(this.RAINBOW_ONCALLLOGACKUPDATED,t)}getAll(){return r(this,void 0,void 0,(function*(){const e=s.get(this),t=yield e.getSimplifiedCallLogs();for(let n=0;n<t.length;n++){let e=0,r=t[n].duration;if(r&&"string"==typeof r&&r.match(/^(?:(?:([01]?\d|2[0-3])h )?([0-5]?\d)m )?([0-5]?\ds)$/)){r=r.replace(/[hms]/g,"");const o=r.split(" ").reverse();for(let t=0;t<o.length;t++)e+=o[t]*Math.pow(60,t);t[n].duration=1e3*e}}return t}))}getMissedCallLogCounter(){return s.get(this).getMissedCallLogCounter()}getMissedCallLogNumber(){return s.get(this).getNumberMissedCallLogs()}deleteOneCallLog(e){return s.get(this).deleteOneCallLog(e),!0}deleteCallLogsForContact(e){return s.get(this).deleteCallLogsForContact(e)}deleteAllCallLogs(){return s.get(this).deleteAllCallLogs()}markCallLogAsRead(e){return s.get(this).markCallLogAsRead(e)}markAllCallsLogsAsRead(){return s.get(this).markAllCallsLogsAsRead()}isInitialized(){return this.initialized}}},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(10),i=n(22),s=new WeakMap;class a{constructor(e){this.RAINBOW_ONFAVORITECREATED="rainbowonfavoritecreated",this.RAINBOW_ONFAVORITEDELETED="rainbowonfavoritedeleted",s.set(this,e),window.addEventListener("ON_FAVORITE_CREATED",e=>this.onFavoriteCreated(e)),window.addEventListener("ON_FAVORITE_DELETED",e=>this.onFavoriteDeleted(e))}static get $inject(){return["favoriteService"]}onFavoriteCreated(e){i.eventsService.dispatchEvent(this.RAINBOW_ONFAVORITECREATED,e.detail)}onFavoriteDeleted(e){i.eventsService.dispatchEvent(this.RAINBOW_ONFAVORITEDELETED,e.detail)}fetchAllFavorites(){return r(this,void 0,void 0,(function*(){const e=s.get(this),t=yield e.getServerFavorites();return o.rainbowLogger.sdk(a.logService+"[fetchAllFavorites] :: Successfully fetched the Favorites"),t}))}createFavorite(e,t){return r(this,void 0,void 0,(function*(){const n=s.get(this);if(!e)throw new Error(a.logService+"[createFavorite] :: Error: parameter 'id' is missing or null. Needs to be an id of an user or a bubble");if(!t)throw new Error(a.logService+"[createFavorite] :: Error: parameter 'favoriteType' is missing or null");if("bubble"!==t&&"user"!==t)throw new Error(a.logService+'[createFavorite] :: Error: favoriteType should be set to "user" or "bubble"');"bubble"===t&&(t="room"),yield n.addServerFavorite(e,t)}))}deleteFavorite(e){return r(this,void 0,void 0,(function*(){const t=s.get(this);if(!e)throw o.rainbowLogger.sdk(a.logService+"[deleteFavorite] :: Error: parameter 'id' is missing or null"),new Error(a.logService+"[deleteFavorite] :: Error: parameter 'id' is missing or null");return yield t.removeServerFavorite(e)}))}}a.logService="FavoritesService | ",t.FavoritesService=a},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(10),i=n(22),s=n(2),a=n(25),l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap;class f{constructor(e,t,n,r){this.RAINBOW_ONFILEUPLOADED_ERROR="rainbowfileuploadederror",this.RAINBOW_ONFILEDOWNLOADED="rainbowonfiledownloaded",this.RAINBOW_ONFILEDOWNLOADED_ERROR="rainbowfiledownloadederror",this.RAINBOW_ONCHUNKLOADMESSAGE="rainbowonchunkloadmessage",this.RAINBOW_ONFILEUPLOADED="rainbowfileuploaded",this.eventsMap={success:{download:this.RAINBOW_ONFILEDOWNLOADED,upload:this.RAINBOW_ONFILEUPLOADED},error:{download:this.RAINBOW_ONFILEDOWNLOADED_ERROR,upload:this.RAINBOW_ONFILEUPLOADED_ERROR}},c.set(this,e),u.set(this,t),d.set(this,n),l.set(this,r),r.$on("$destroy",r.$on("ON_FILE_TRANSFER_EVENT",(e,t)=>this.onFileTransferChanged(e,t)))}static get inject(){return["Conversation","fileServerService","conversationService","$rootScope"]}onFileTransferChanged(e,t){t.result&&t.type?(o.rainbowLogger.sdk(f.logService+"[onFileTransferChanged] ::  File transfered"),i.eventsService.dispatchEvent(this.eventsMap[t.result][t.type],t)):"uploading"!==(t=t.fileDesc).state&&"downloading"!==t.state||i.eventsService.dispatchEvent(this.RAINBOW_ONCHUNKLOADMESSAGE,t)}addFileToConversation(e,t,n){const r=d.get(this);return new Promise((o,i)=>{if("string"==typeof t){const s=new XMLHttpRequest;s.open("GET",t,!0),s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){const a=s.response,l=new File([a],t.replace(/^.*[\\/]/,""));if(l.size>1e8)return i("The file is too large (limited to 100MB)");r.sendFSMessage(e,l,n).then(e=>o(e))}},s.responseType="blob",s.send()}else{if(t.size>1e8)return i("The file is too large (limited to 100MB)");r.sendFSMessage(e,t,n).then(e=>o(e))}})}uploadFileToConversation(e,t,n){return r(this,void 0,void 0,(function*(){const r=c.get(this),i=d.get(this);if(!e)throw new Error("Parameter 'conversationId' is missing or null");if(!t)throw new Error("Parameter 'file' is missing or null");const s=yield i.getConversationByDbId(e);if(s.type!==r.Type.ONE_TO_ONE)throw new Error("Parameter 'conversation' is not a one-to-one conversation");return o.rainbowLogger.sdk(f.logService+"[uploadFileToConversation] ::  Add file to the conversation "+s.id),yield this.addFileToConversation(s,t,n)}))}uploadFile(e,t,n){return r(this,void 0,void 0,(function*(){const r=u.get(this);if(!e)throw new Error("Parameter 'file' is missing or null");const o=yield a.default.createFileDescriptor(e.name,e.name.split(".").pop(),e.size,[],!1);return yield r.uploadAFileByChunk(o,e,t,n)}))}uploadExistingFileToConversation(e,t,n=""){return r(this,void 0,void 0,(function*(){const r=d.get(this);if(!e)throw new Error("Parameter 'conversation' is missing or null");if(!t)throw new Error("Parameter 'fileDescriptor' is missing or null");o.rainbowLogger.sdk(f.logService+"[uploadExistingFileToConversation] ::  Upload existing file to conversation "+e);const i=r.getConversationByDbId(e);return yield r.sendEFSMessage(i,t,n)}))}uploadFileToBubble(e,t,n){return r(this,void 0,void 0,(function*(){const r=c.get(this),i=d.get(this);if(!e)throw new Error("Parameter 'bubble' is missing or null");if(!t)throw new Error("Parameter 'file' is missing or null");const s=i.getConversationByRoomDbId(e.dbId);if(!s)throw new Error("Parameter 'bubble' don't have a conversation");if(s.type!==r.Type.ROOM)throw new Error("Parameter 'conversation' is not a bubble conversation");return o.rainbowLogger.sdk(f.logService+"[uploadFileToBubble] ::  Trying to add a file to the bubble "+e.dbId),yield this.addFileToConversation(s,t,n)}))}downloadFile(e){return r(this,void 0,void 0,(function*(){const t=u.get(this);if(!e)throw new Error("Parameter 'fileDescriptor' is missing or null");return o.rainbowLogger.sdk(f.logService+"[downloadFile] ::  Trying to get a file"),yield t.getBlobFromFileDescriptor(e,!0)}))}removeFile(e){return r(this,void 0,void 0,(function*(){if(!e)throw new Error("Parameter 'fileDescriptor' is missing or null");if(e.id||e.url){o.rainbowLogger.sdk(f.logService+"[removeFile] ::  Trying to remove a file");let t=e.id;if(!t){const n=e.url.split("/");t=n.pop()||n.pop()}return yield a.default.deleteFileDescriptor(t),void o.rainbowLogger.sdk(f.logService+"[removeFile] ::  File removed")}throw new Error("Parameter 'fileDescriptor' does not contain sufficient information to remove the file - no id or url property")}))}getFileDescriptorFromId(e){return o.rainbowLogger.sdk(f.logService+"[getFileDescriptorFromId] ::  Get file descriptor "+e),a.default.getFileDescriptorById(e)}getFileDescriptorUrl(e,t){return r(this,void 0,void 0,(function*(){const n=u.get(this);return yield n.getFileDescriptorUrl(e,t)}))}getFilesReceivedInConversation(e){return r(this,void 0,void 0,(function*(){const t=c.get(this),n=d.get(this);if(!e)throw new Error("Parameter 'conversationId' is missing or null");const r=yield n.getConversationByDbId(e);if(r.type!==t.Type.ONE_TO_ONE)throw new Error("Parameter 'conversation' is not a one-to-one conversation");o.rainbowLogger.sdk(f.logService+"[getFilesReceivedInConversation] ::  Get files received in conversation "+r.id+"...");const i=yield a.default.retrieveFilesReceivedFromPeer(s.default.userContact.dbId,r.contact.dbId);return o.rainbowLogger.sdk(f.logService+"[getFilesReceivedInConversation] ::  Shared "+i.length),i}))}getFilesReceivedInBubble(e){return r(this,void 0,void 0,(function*(){if(!e)throw new Error("Parameter 'bubble' is missing or null");return o.rainbowLogger.sdk(f.logService+"[getFilesReceivedInBubble] ::  Get files received in bubble "+e.dbId),yield a.default.retrieveReceivedFilesForRoom(e.dbId)}))}getFilesSentInConversation(e){return r(this,void 0,void 0,(function*(){const t=c.get(this),n=d.get(this);if(!e)throw new Error("Parameter 'conversationId' is missing or null");const r=yield n.getConversationByDbId(e);if(r.type!==t.Type.ONE_TO_ONE)throw new Error("Parameter 'conversation' is not a one-to-one conversation");return o.rainbowLogger.sdk(f.logService+"[getFilesSentInConversation] :: Get files sent in conversation "+r.id),a.default.retrieveSentFiles(r.contact.dbId)}))}getFilesSentInBubble(e){return r(this,void 0,void 0,(function*(){if(!e)throw new Error("Parameter 'bubble' is missing or null");return o.rainbowLogger.sdk(f.logService+"[getFilesSentInBubble] :: Get files sent in bubble "+e.dbId),a.default.retrieveSentFiles(e.dbId)}))}getUserQuotaConsumption(){return r(this,void 0,void 0,(function*(){return a.default.retrieveUserConsumption()}))}getAllFilesSent(){return a.default.getDocuments("date",!1)}getAllFilesReceived(){return a.default.getDocuments("date",!0)}cancelCurrentFileTransfer(e){return r(this,void 0,void 0,(function*(){const t=u.get(this);if(!e)throw new Error("Parameter 'id' is missing or null");const n=a.default.getFileDescriptorById(e);if(null===n)throw new Error("Could not find a file with the id "+e);if("downloading"!==n.state&&"uploading"!==n.state)throw new Error("File Status is not set to 'downloading' or 'uploading'");return t.cancelCurrentFiletransfer(e),"not_uploaded"!==n.state&&"uploading"!==n.state?(n.state="uploaded",n):"not_uploaded"!==n.state&&"uploading"===n.state?(n.state="not_uploaded",n):n}))}}f.logService="FilesStorageService | ",t.FilesStorageService=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(7);t.CapabilitiesService=class{constructor(){}getAll(){return r.default.getMyProfileFeatures()}getUserSubscription(){return r.default.getMyProfileName()}isFeatureEnabled(e){return r.default.isFeatureEnabled(e)}hasS4BExtensionEnabled(){return r.default.isFeatureEnabled("MS_SKYPE_PLUGIN")}hasOutlookExtensionEnabled(){return r.default.isFeatureEnabled("MS_OUTLOOK_PLUGIN")}hasCalendarPresenceEnabled(){return r.default.isFeatureEnabled("MSO365_CALENDAR_PRESENCE")}hasTelephonyBasicCallEnabled(){return r.default.isFeatureEnabled("TELEPHONY_BASIC_CALL")}hasTelephonySecondCallEnabled(){return r.default.isFeatureEnabled("TELEPHONY_SECOND_CALL")}hasTelephonyTransferCallEnabled(){return r.default.isFeatureEnabled("TELEPHONY_TRANSFER_CALL")}hasTelephonyConferenceCallEnabled(){return r.default.isFeatureEnabled("TELEPHONY_CONFERENCE_CALL")}hasTelephonyDeflectCallEnabled(){return r.default.isFeatureEnabled("TELEPHONY_DEFLECT_CALL")}hasTelephonyForwardCallEnabled(){return r.default.isFeatureEnabled("TELEPHONY_FORWARD_CALL")}hasTelephonyPhoneBookEnabled(){return r.default.isFeatureEnabled("TELEPHONY_PHONE_BOOK")}hasTelephonyVoiceMailEnabled(){return r.default.isFeatureEnabled("TELEPHONY_VOICE_MAIL")}hasWebRTCAudioMobileEnabled(){return r.default.isFeatureEnabled("WEBRTC_FOR_MOBILE")}hasWebRTCVideoMobileEnabled(){return r.default.isFeatureEnabled("WEBRTC_FOR_MOBILE_VIDEO")}hasBridgeConferenceEnabled(){return r.default.isFeatureEnabled("CONFERENCE_ALLOWED")}hasBridgeConferenceRecordEnabled(){return r.default.isFeatureEnabled("CONFERENCE_RECORDING")}hasBridgeConferenceDialOutEnabled(){return r.default.isFeatureEnabled("CONFERENCE_DIAL_OUT")}maxParticipantsPerBubbleAllowed(){return r.default.getFeatureLimitMax("BUBBLE_PARTICIPANT_COUNT")}maxParticipantsPerBridgeConferenceAllowed(){return r.default.getFeatureLimitMax("CONFERENCE_PARTICIPANT_COUNT")}maxFileStorageQuotaAllowed(){return r.default.getFeatureLimitMax("FILE_SHARING_QUOTA_GB")}}},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=new WeakMap,i=new WeakMap,s=new WeakMap,a=n(19);t.AdminService=class{constructor(e,t,n){this.logService="AdminService | ",o.set(this,e),i.set(this,t),s.set(this,n)}static get $inject(){return["User","adminCompanyService","adminUserService"]}createEssentialCompany(e,t){return r(this,void 0,void 0,(function*(){const n=i.get(this),r=a.Company.create(null,"");return r.name=e,r.country=t,yield n.createCompanyEndUser(r)}))}createCompany(e,t,n){return r(this,void 0,void 0,(function*(){const r=i.get(this),o=a.Company.create(null,"");return o.name=e,o.country=t,n&&(o.state=n),o.economicActivityClassification="",yield r.createCompany(o)}))}removeCompany(e){return r(this,void 0,void 0,(function*(){const t=i.get(this);return yield t.deleteCompany(e)}))}removeCompanyDeprecated(e){return r(this,void 0,void 0,(function*(){const t=i.get(this);return yield t.deleteCompany(e.id)}))}createUserForCompany(e,t,n,i,a,l){return r(this,void 0,void 0,(function*(){const r=o.get(this),c=s.get(this),u=r.create();return u.loginEmail=e,u.firstName=t,u.lastName=n,u.password=i,u.language="en",u.companyId=a,u.adminType="undefined",u.isActive=!0,u.isInitialized=!0,l&&(u.tags=l&&Array.isArray(l)?l:[l]),yield c.createUser(u)}))}createUserForCompanyDeprecated(e,t,n,i,a,l){return r(this,void 0,void 0,(function*(){const r=o.get(this),c=s.get(this),u=r.create();return u.loginEmail=e,u.firstName=t,u.lastName=n,u.password=i,u.language="en",u.companyId=a,u.adminType="undefined",u.isActive=!0,u.isInitialized=!0,l&&(u.tags=l&&Array.isArray(l)?l:[l]),yield c.createUser(u)}))}removeUserFromCompany(e){return r(this,void 0,void 0,(function*(){const t=s.get(this);return yield t.deleteUser(e)}))}fetchUsersByPattern(e,t=1,n=10){return r(this,void 0,void 0,(function*(){const r=s.get(this);return yield r.getUsers(null,t,n,e,!1,null,!1)}))}fetchUsersByTag(e,t=1,n=10){return r(this,void 0,void 0,(function*(){const r=s.get(this);return yield r.getUsers(null,t,n,"",!1,null,!1,e)}))}updateUserTags(e,t){return r(this,void 0,void 0,(function*(){const n=s.get(this);if(!e)throw new Error(this.logService+"[updateUserTags] :: Error: parameter 'user' is missing or null");if(!e.id)throw new Error(this.logService+"[updateUserTags] :: Error: parameter 'user.id' is missing or null");if(t instanceof Array!=1)throw new Error(this.logService+"[updateUserTags] :: Error: parameter 'tags' must be an array");if(t instanceof Array&&(t.length<1||t.length>5))throw new Error(this.logService+"[updateUserTags] :: Error: parameter 'tags' must be an array with at least 1 and maximum 5 elements");return e.tags=t,yield n.updateUser(e)}))}setVisibilityForCompany(e,t){return r(this,void 0,void 0,(function*(){const n=i.get(this);return yield n.addVisibility(e.id,t.id)}))}}},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(10),i=n(22),s=n(28),a=n(2),l=new WeakMap,c=new WeakMap;class u{constructor(e,t){this.RAINBOW_ONCHANNELUPDATED="rainbowchannelupdate",this.RAINBOW_ONCHANNELMESSAGERECEIVED="rainbowchannelmessagereceived",this.RAINBOW_ONCHANNELRETRACTMESSAGERECEIVED="rainbowchannelretractmessage",this.RAINBOW_ONCHANNELDELETED="rainbowchanneldeleted",this.RAINBOW_ONCHANNELAVATARUPDATED="rainbowchannelavatarupdate",this.RAINBOW_ONCHANNELUSERSUBSCRIBED="rainbowchannelusersubscribed",this.RAINBOW_ONCHANNELUSERUNSUBSCRIBED="rainbowchanneluserunsubscribed",l.set(this,e),c.set(this,t),e.$on("$destroy",e.$on("CHANNEL_MESSAGE_RECEIVED",(e,t,n)=>this.onMessageReceived(e,t,n))),e.$on("$destroy",e.$on("CHANNEL_UPDATE_EVENT",(e,t,n)=>this.onChannelUpdated(e,t,n))),e.$on("$destroy",e.$on("CHANNEL_USERS_UPDATE_EVENT",(e,t,n)=>this.onChannelUsersUpdated(e,t,n))),e.$on("$destroy",e.$on("ON_UPDATE_CHANNEL_AVATAR",(e,t)=>this.onChannelAvatarUpdated(e,t))),e.$on("$destroy",e.$on("CHANNEL_USER_SUBSCRIPTION_EVENT",(e,t,n,r)=>this.onUserSubscriptionChange(e,t,n,r)))}static get $inject(){return["$rootScope","channelService"]}onMessageReceived(e,t,n){const r=n.channelId?n.channelId:n;o.rainbowLogger.sdk(u.logService+"[ChannelsService] :: EVENT onMessageReceived"),this.fetchChannel(r).then(e=>{0===t?i.eventsService.dispatchEvent(this.RAINBOW_ONCHANNELMESSAGERECEIVED,n):(o.rainbowLogger.sdk(u.logService+"[ChannelsService] :: EVENT onMessageReceived - retracted message"),i.eventsService.dispatchEvent(this.RAINBOW_ONCHANNELRETRACTMESSAGERECEIVED,{channel:e,message:n}))})}onChannelUpdated(e,t,n){o.rainbowLogger.sdk(u.logService+"[ChannelsService] :: EVENT: onChannelUpdated("+t+") id:"+n),3!==t?this.fetchChannel(n).then(e=>{i.eventsService.dispatchEvent(this.RAINBOW_ONCHANNELUPDATED,{channel:e,updateType:t})}):i.eventsService.dispatchEvent(this.RAINBOW_ONCHANNELDELETED,n)}onChannelUsersUpdated(e,t,n){o.rainbowLogger.sdk(u.logService+"[ChannelsService] :: EVENT onChannelUsersUpdated:"+t),this.fetchChannel(t).then(e=>{i.eventsService.dispatchEvent(this.RAINBOW_ONCHANNELUPDATED,{channel:e,users:n})})}onChannelAvatarUpdated(e,t){this.fetchChannel(t).then(e=>{o.rainbowLogger.sdk(u.logService+"[ChannelsService] :: EVENT onChannelAvatarUpdated"+e.id),i.eventsService.dispatchEvent(this.RAINBOW_ONCHANNELAVATARUPDATED,e)})}onUserSubscriptionChange(e,t,n,r){let s=null;this.fetchChannel(n).then(e=>(s=e,a.default.getContactByDBId(r,!0))).then(e=>{e=e||r,4===t?(o.rainbowLogger.sdk(u.logService+"[ChannelsService] :: EVENT onUserSubscriptionChange: user subscribed to a channel: "+n),i.eventsService.dispatchEvent(this.RAINBOW_ONCHANNELUSERSUBSCRIBED,{channel:s,user:e})):(o.rainbowLogger.sdk(u.logService+"[ChannelsService] :: EVENT onUserSubscriptionChange: user unsubscribed from a channel: "+n),i.eventsService.dispatchEvent(this.RAINBOW_ONCHANNELUSERUNSUBSCRIBED,{channel:s,user:e}))})}fetchMyChannels(){return r(this,void 0,void 0,(function*(){const e=c.get(this);return yield e.getMyChannels()}))}createPublicChannel(e,t="",n=""){return r(this,void 0,void 0,(function*(){const r=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[createPublicChannel] :: Trying to create a new public channel"),!e)throw new Error("Parameter 'channelName' is missing or empty");const i=yield r.createChannel(e,"company_public",t,n,!1);return o.rainbowLogger.sdk(u.logService+"[createPublicChannel] :: Public Channel created: "+i.id),i}))}createClosedChannel(e,t="",n=""){return r(this,void 0,void 0,(function*(){const r=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[createClosedChannel] :: Trying to create a new closed channel"),!e)throw new Error("Parameter 'channelName' is missing or empty");const i=r.createChannel(e,"company_closed",t,n,!1);return o.rainbowLogger.sdk(u.logService+"[createClosedChannel] :: created: "+i.id),i}))}deleteChannel(e){return r(this,void 0,void 0,(function*(){const t=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[deleteChannel] :: Trying to delete a channel"),!e)throw new Error("Parameter 'id' is missing or empty");return yield t.deleteChannel(e),o.rainbowLogger.sdk(u.logService+"[deleteChannel] :: deleted: "+e),{code:s.SDK.OK,label:"OK"}}))}fetchChannelsByName(e){return r(this,void 0,void 0,(function*(){const t=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[fetchChannelsByName] :: Trying to fetch channels by name"),!e)throw new Error("Parameter 'name' is missing or empty");const n={};n.name=e;const r=yield t.findChannels(n);return o.rainbowLogger.sdk(u.logService+"[fetchChannelsByName] :: fetched: "+r.length),r}))}fetchChannelsByTopic(e){return r(this,void 0,void 0,(function*(){const t=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[fetchChannelsByTopic] :: Trying to fetch channels by topic"),!e)throw new Error("Parameter 'topic' is missing or empty");const n={};n.topic=e;const r=yield t.findChannels(n);return o.rainbowLogger.sdk(u.logService+"[fetchChannelsByTopic] :: fetched: "+r.length),r}))}fetchChannelsByCategory(e){return r(this,void 0,void 0,(function*(){const t=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[fetchChannelsByCategory] :: Trying to fetch channels by category"),!e)throw new Error("Parameter 'category' is missing or empty");const n={};n.category=e;const r=t.findChannels(n);return o.rainbowLogger.sdk(u.logService+"[fetchChannelsByCategory] :: fetched: "+r.length),r}))}fetchChannel(e){return r(this,void 0,void 0,(function*(){const t=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[fetchChannel] :: Trying to fetch a channel..."),!e)throw new Error("Parameter 'id' is missing or empty");const n=t.getChannel(e);return o.rainbowLogger.sdk(u.logService+"[fetchChannel] :: fetched: "+n.id),n}))}createItem(e,t,n,i,a){return r(this,void 0,void 0,(function*(){const r=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[createItem] :: Trying to create item"),!e)throw new Error("Parmeter 'channel' is missing or empty");if(!t)throw new Error("Parmeter 'message' is missing or empty");if(a&&-1===["basic","markdown","html","data"].indexOf(a))throw new Error("Parameter 'itemType' could be 'asic', 'markdown', 'html' or 'data'");return n=n||"",i=i||"",a=a?"urn:xmpp:channels:"+a:"urn:xmpp:channels:basic",yield r.publishToChannel(e.id,null,a,t,n,i),o.rainbowLogger.sdk(u.logService+"[createItem] :: created: "+e.id),{code:s.SDK.OK,label:"OK"}}))}subscribeToChannelById(e){return r(this,void 0,void 0,(function*(){const t=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[subscribeToChannelById] :: Trying to subscribe to a channel..."),!e)throw new Error("Parameter 'id' is missing or null");const n=t.getChannelFromCache(e);if(n)yield t.subscribeToChannel(n),o.rainbowLogger.sdk(u.logService+"[subscribeToChannelById] :: subscribed: "+e);else{const n=yield t.getChannel(e);if(!n)return{code:s.SDK.ERRORBADREQUEST,label:"No channel found with id "+e};yield t.subscribeToChannel(n),o.rainbowLogger.sdk(u.logService+"[subscribeToChannelById] :: subscribed: "+e)}return{code:s.SDK.OK,label:"OK"}}))}subscribeToChannel(e){return r(this,void 0,void 0,(function*(){const t=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[subscribeToChannel] :: Trying to subscribe to a channel..."),!e)throw new Error("Paameter 'channel' is missing or null");yield t.subscribeToChannel(e)}))}unsubscribeFromChannelById(e){return r(this,void 0,void 0,(function*(){const t=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[unsubscribeFromChannelById] :: Trying to unsubscribe from a channel..."),!e)throw new Error("Parameter 'id' is missing or empty");const n=t.getChannelFromCache(e);if(n)yield t.unsubscribeToChannel(n),o.rainbowLogger.sdk(u.logService+"[unsubscribeFromChannelById] :: unsubscribed: "+e);else{const n=t.getChannel(e);if(!n)return{code:s.SDK.ERRORBADREQUEST,label:"No channel found with id "+e};yield t.unsubscribeToChannel(n),o.rainbowLogger.sdk(u.logService+"[unsubscribeFromChannelById] :: unsubscribed: "+e)}return{code:s.SDK.OK,label:"OK"}}))}unsubscribeFromChannel(e){return r(this,void 0,void 0,(function*(){const t=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[unsubscribeFromChannel] :: Trying to unsubscribe from a channel..."),!e)throw new Error("Parameter 'channel' is missing or null");return yield t.unsubscribeToChannel(e),o.rainbowLogger.sdk(u.logService+"[unsubscribeFromChannel] :: unsubscribed: "+e.id),{code:s.SDK.OK,label:"OK"}}))}updateChannel(e,t="",n="public",i=30,s=6e4,a=null,l=""){return r(this,void 0,void 0,(function*(){const r=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[updateChannel] :: Trying to update a channel..."),!e)throw new Error("Parameter 'id' is missing or empty");const d={};null!==t&&(d.topic=t),null!==n&&(d.mode="company"===n?"company_public":"company_closed"),null!==i&&(d.maxItems=i),null!==s&&(d.maxPayloadSize=s),null!==a&&(d.name=a),null!==l&&(d.cateogry=l);const f=yield r.updateChannel(e,d);return f.visibility=d.visibility,o.rainbowLogger.sdk(u.logService+"[updateChannel] :: updated: "+e),f}))}updateChannelVisibility(e,t){return r(this,void 0,void 0,(function*(){const n=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[updateChannelVisibility] :: Trying to update visibility of a channel..."),!e)throw new Error("Parameter 'id' is missing or empty");if(!t)throw new Error("Parameter 'visibility' is missing or empty");const r={};null!==t&&(r.mode="company"===t?"company_public":"company_closed");const i=yield n.updateChannel(e,r);return o.rainbowLogger.sdk(u.logService+"[updateChannelVisibility] :: updated: "+e),i}))}updateChannelVisibilityToPublic(e){return r(this,void 0,void 0,(function*(){const t=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[updateChannelVisibilityToPublic] :: Trying to update visibility to visible for a channel"),!e)throw new Error("Parameter 'id' is missing or empty");const n=yield t.updateChannel(e,{mode:"company_public"});return o.rainbowLogger.sdk(u.logService+"[updateChannelVisibilityToPublic] :: updated: "+e),n}))}updateChannelVisibilityToClosed(e){return r(this,void 0,void 0,(function*(){const t=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[updateChannelVisibilityToPublic] :: Trying to update visibility to visible for a channel"),!e)throw new Error("Parameter 'id' is missing or empty");const n=yield t.updateChannel(e,{mode:"company_closed"});return o.rainbowLogger.sdk(u.logService+"[updateChannelVisibilityToPublic] :: updated: "+e),n}))}updateChannelName(e,t){return r(this,void 0,void 0,(function*(){const n=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[updateChannelName] :: Trying to update the name of a channel"),!e)throw new Error("Parameter 'id' is missing or empty");const r={};null!==t&&(r.name=t);const i=n.updateChannel(e,r);return o.rainbowLogger.sdk(u.logService+"[updateChannelName] :: updated: "+e),i}))}updateChannelTopic(e,t){return r(this,void 0,void 0,(function*(){const n=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[updateChannelTopic] :: Try to update the topic of a channel"),!e)throw new Error("Parameter 'id' is missing or empty");const r={};null!==t&&(r.topic=t);const i=n.updateChannel(e,r);return o.rainbowLogger.sdk(u.logService+"[updateChannelTopic] :: updated: "+e),i}))}updateChannelCategory(e,t){return r(this,void 0,void 0,(function*(){const n=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[updateChannelCategory] :: Try to update the category of a channel"),!e)throw new Error("Parameter 'id' is missing or empty");const r={};null!==t&&(r.category=t);const i=n.updateChannel(e,r);return o.rainbowLogger.sdk(u.logService+"[updateChannelCategory] :: updated: "+e),i}))}updateChannelAvatar(e,t){return r(this,void 0,void 0,(function*(){const n=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[updateChannelAvatar] :: Try to update the avatar of a channel"),!e)throw new Error("Parameter 'id' is missing or empty");if(!t)throw new Error("Parameter 'urlAvatar' is missing or empty");return n.uploadChannelAvatar(e,t,512),o.rainbowLogger.sdk(u.logService+"[updateChannelAvatar] :: updated: "+e.id),{code:s.SDK.OK,label:"OK"}}))}deleteChannelAvatar(e){return r(this,void 0,void 0,(function*(){const t=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[deleteChannelAvatar] :: Try to delete the avatar of a channel"),!e)throw new Error("Parameter 'id' is missing or empty");return t.deleteChannelAvatar(e),o.rainbowLogger.sdk(u.logService+"[deleteChannelAvatar] :: updated: "+e),{code:s.SDK.OK,label:"OK"}}))}fetchUsers(e,t){return r(this,void 0,void 0,(function*(){const n=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[fetchUsers] :: Trying to fetch users of a channel"),!e)throw new Error("Parameter 'id' is missing or empty");return(yield n.getChannelUsers(e,t)).data}))}deleteAllUsersFromChannel(e){return r(this,void 0,void 0,(function*(){const t=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[deleteAllUsersFromChannel] :: Trying to get delete all users of a channel..."),!e)throw new Error("Parameter 'id' is missing or empty");yield t.removeAllUsersFromChannel(e);const n=yield t.getChannel(e);return o.rainbowLogger.sdk(u.logService+"[deleteAllUsersFromChannel] :: deleted: "+e),n}))}updateChannelUsers(e,t,n="member"){return r(this,void 0,void 0,(function*(){const r=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[updateChannelUsers] :: Trying to update users of a channel"),!e)throw new Error("Parameter 'id' is missing or empty");const i=yield r.updateChannelUsers(e,t,n);return o.rainbowLogger.sdk(u.logService+"[updateChannelUsers] :: updated: "+e),i}))}addMembersToChannel(e,t){return r(this,void 0,void 0,(function*(){const n=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[addMembersToChannel] :: Trying to add members to a channel"),!e)throw new Error("Parameter 'id' is missing or empty");const r=yield n.updateChannelUsers(e,t,"member");return o.rainbowLogger.sdk(u.logService+"[addMembersToChannel] :: added: "+e),r}))}addPublishersToChannel(e,t){return r(this,void 0,void 0,(function*(){const n=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[addPublishersToChannel] :: Trying to add publishers to a channel"),!e)throw new Error("Parameter 'id' is missing or empty");const r=yield n.updateChannelUsers(e,t,"publisher");return o.rainbowLogger.sdk(u.logService+"[addPublishersToChannel] :: added: "+e),r}))}addOwnersToChannel(e,t){return r(this,void 0,void 0,(function*(){const n=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[addOwnersToChannel] :: Trying to add owners to a channel"),!e)throw new Error("Parameter 'id' is missing or empty");const r=yield n.updateChannelUsers(e,t,"owner");return o.rainbowLogger.sdk(u.logService+"[addOwnersToChannel] :: added: "+e),r}))}deleteUsersFromChannel(e,t){return r(this,void 0,void 0,(function*(){const n=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[deleteUsersFromChannel] :: Trying to delete users from a channel"),!e)throw new Error("Parameter 'id' is missing or empty");const r=yield n.updateChannelUsers(e,t,"none");return o.rainbowLogger.sdk(u.logService+"[deleteUsersFromChannel] :: deleted: "+e),r}))}fetchItems(e,t=10,n,i){return r(this,void 0,void 0,(function*(){const r=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[fetchItems] :: Try to fetch items of a channel"),!e)throw new Error("Parameter 'id' is missing or empty");const s=r.getChannelItems(e,t,n,i);return o.rainbowLogger.sdk(u.logService+"[fetchItems] :: fetched: "+e),s}))}deleteItem(e,t){return r(this,void 0,void 0,(function*(){const n=c.get(this);if(o.rainbowLogger.sdk(u.logService+"[deleteItem] :: Trying to delete an item."),!e)throw new Error("Parameter 'channelId' is missing or empty");if(!t)throw new Error("Parameter 'itemId' is missing or empty");yield n.deleteChannelItem(e,t),o.rainbowLogger.sdk(u.logService+"[deleteItem] :: Item deleted: "+t)}))}}u.logService="ChannelsService | ",t.ChannelsService=u},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(10),i=n(22),s=n(6),a=n(29),l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,f=new WeakMap,_=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap,g=new WeakMap,v=new WeakMap,b=new WeakMap,D=new WeakMap,y=new WeakMap,C=new WeakMap,S=new WeakMap,E=new WeakMap,w=new WeakMap;t.SdkService=class{constructor(e,t,n,r,o,i,s,a,T,M,j,k,O,A,I,P,x,R){this.eventHandler=null,this.logService="SDKService | ",this.isReady=!1,this.RAINBOW_ONREADY="ready",this.RAINBOW_ONLOADED="loaded",l.set(this,e),c.set(this,t),u.set(this,n),d.set(this,r),f.set(this,o),_.set(this,i),h.set(this,s),p.set(this,a),m.set(this,T),g.set(this,M),v.set(this,j),b.set(this,k),D.set(this,O),y.set(this,A),C.set(this,I),S.set(this,P),E.set(this,x),w.set(this,R),this.connection=e,this.config=t,this.presence=n,this.contacts=r,this.conversations=o,this.im=i,this.telephony=s,this.webRTC=a,this.bubbles=T,this.conferences=M,this.groups=j,this.callsLog=k,this.userProfile=O,this.favorites=A,this.fileStorage=I,this.caps=P,this.channels=x,this.admin=R,this.detectRTC=this.detectRTC.bind(this),this.load=this.load.bind(this),this.ready=this.ready.bind(this),this.initializeAuto=this.initializeAuto.bind(this),this.start=this.start.bind(this)}static get $inject(){return["connectionService","configService","presenceService","contactsService","conversationsService","imService","pbxService","webRTCService","bubblesService","conferencesService","groupsService","callsLogService","userProfileService","favoritesService","filesStorageService","capabilitiesService","channelsService","adminService"]}version(){return window.sdkversion}mode(){return s.default.getSetting("apiMode")}setVerboseLog(e){return a.sdkConfig.verboseLog=e,a.sdkConfig.verboseLog}setKeyFromConfig(e,t){return o.rainbowLogger.sdk(this.logService+"[setKeyFromConfig] :: Linked to application ID "+e+" from configuration file"),a.sdkConfig.credentials.appID=e,a.sdkConfig.credentials.appSecret=t,!0}hasBeenLaunchedFromConfig(e){const t=e?"YES":"NO";return o.rainbowLogger.sdk(this.logService+"[hasBeenLaunchedFromConfig] :: SDK launched from a configuration file "+t),sdk.hasBeenLaunchedFromConfig=e,sdk.hasBeenLaunchedFromConfig}initialize(e,t){return r(this,void 0,void 0,(function*(){return e&&e.length>0?(sdk.key.appID=e,o.rainbowLogger.sdk(this.logService+"[initialize] :: Initialize the SDK for the application "+sdk.key.appID)):o.rainbowLogger.sdk(this.logService+"[initialize] :: Initialize the SDK without an application key"),t&&t.length>0&&(sdk.key.appSecret=t),yield this.detectRTC(),o.rainbowLogger.sdk(this.logService+"[initialize] :: SDK Initialized successfully!"),!0}))}detectRTC(){return r(this,void 0,void 0,(function*(){const e=window.DetectRTC;yield e.load(),this.initializeAuto()}))}load(e){e&&(o.rainbowLogger.sdk(this.logService+"Loading Rainbow Web SDK with custom config"),Object.assign(a.sdkConfig,e),s.default.setSetting("displayOrder",a.sdkConfig.displayOrder)),this.start(),o.rainbowLogger.sdk(this.logService+"[load] :: Rainbow SDK loaded!"),i.eventsService.dispatchEvent(this.RAINBOW_ONLOADED,null)}ready(){o.rainbowLogger.sdk(this.logService+"[ready] :: Rainbow SDK ready!"),i.eventsService.dispatchEvent(this.RAINBOW_ONREADY,null)}initializeAuto(){const e=window.sdkversion,t=window.DetectRTC,n=window.config;o.rainbowLogger.sdk(this.logService+"[initialize ] :: Initializing the Rainbow SDK..."),o.rainbowLogger.sdk(this.logService+"[initialize ] :: -----------------------------"),o.rainbowLogger.sdk(this.logService+"[initialize ] :: Platform    | "+t.osName+" "+t.osVersion),o.rainbowLogger.sdk(this.logService+"[initialize ] :: Screen      | "+window.screen.width+"x"+window.screen.height),o.rainbowLogger.sdk(this.logService+"[initialize ] :: Cookie      | "+navigator.cookieEnabled),o.rainbowLogger.sdk(this.logService+"[initialize ] :: Java        | "+navigator.javaEnabled()),o.rainbowLogger.sdk(this.logService+"[initialize ] :: Server      | "+n.webservices.server),o.rainbowLogger.sdk(this.logService+"[initialize ] :: Version WEB | "+version),o.rainbowLogger.sdk(this.logService+"[initialize ] :: Version SDK | "+e),o.rainbowLogger.sdk(this.logService+"[initialize ] :: Browser     | "+t.browser.name+" "+t.browser.fullVersion),o.rainbowLogger.sdk(this.logService+"[initialize ] :: Microphone  | "+t.hasMicrophone),o.rainbowLogger.sdk(this.logService+"[initialize ] :: Camera      | "+t.hasWebcam),o.rainbowLogger.sdk(this.logService+"[initialize ] :: Speakers    | "+t.hasSpeakers),o.rainbowLogger.sdk(this.logService+"[initialize ] :: WebRTC      | "+t.isWebRTCSupported),o.rainbowLogger.sdk(this.logService+"[initialize ] :: Mode        | "+this.mode()),o.rainbowLogger.sdk(this.logService+"[initialize ] :: verboseLog  | "+a.sdkConfig.verboseLog),o.rainbowLogger.sdk(this.logService+"[initialize ] :: appID       | "+sdk.key.appID),o.rainbowLogger.sdk(this.logService+"[initialize ] :: -----------------------------"),o.rainbowLogger.sdk(this.logService+"[initialize ] :: Initialized!"),this.ready()}start(){window.config.webservices.currentServer=window.config.webservices.server,this.isReady=!0}}},function(e,t){window.version="2.87.0"},function(e,t){window.sdkversion="v2.0.0-ltsbeta"},function(e,t){window.config={xmpp:{protocol:"wss",server:"sandbox.openrainbow.com",port:"443",pingInterval:"60000"},webservices:{protocol:"https",server:"sandbox.openrainbow.com",port:"443"},cpaas:{protocol:"https",server:"",port:"8887"}}},function(e,t){window.app=angular.module("rainbow",[]),window.rainbowAdmin=angular.module("rainbowAdmin",[]),window.rainbow=angular.module("rainbow",["rainbowAdmin"])},function(e,t,n){n.r(t),n(355),n(358),n(361),n(364),n(366);var r=n(10),o=n(0),i=n.n(o);angular.module("rainbow").moduleIds=[],n(261),n(263),n(264),n(54),n(71),n(275),n(276),n(277),n(278),n(279),n(309),n(220),n(310),n(221),n(311),n(43),n(312),n(16),n(1),n(315),n(316),n(317),n(222),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(225),n(354),n(369),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(387),i.a.configure(r.rainbowLogger),angular.module("rainbow").factory("rainbowLogger",()=>r.rainbowLogger),n(391),n(392),n(393),n(394),n(397),n(398),n(408),n(409),n(410),n(411),n(412)},function(e,t,n){(function(n,r){var o;!function(){function i(e,t){var n=0,r=!1,o=window.setInterval((function(){e()&&(window.clearInterval(o),t(r)),n++>50&&(window.clearInterval(o),t(r=!0))}),10)}var s,a="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";if(S="object"==typeof n&&"object"==typeof n.versions&&n.versions.node&&!n.browser){var l=n.versions.node.toString().replace("v","");a="Nodejs/"+l+" (NodeOS) AppleWebKit/"+l+" (KHTML, like Gecko) Nodejs/"+l+" Nodejs/"+l}s=void 0!==r?r:window,"undefined"==typeof window&&("undefined"==typeof window&&void 0!==r&&(r.navigator={userAgent:a,getUserMedia:function(){}},s.window=r),"undefined"==typeof location&&(s.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(s.screen={width:0,height:0}));var c=window.navigator;void 0!==c?(void 0!==c.webkitGetUserMedia&&(c.getUserMedia=c.webkitGetUserMedia),void 0!==c.mozGetUserMedia&&(c.getUserMedia=c.mozGetUserMedia)):c={getUserMedia:function(){},userAgent:a};var u,d,f=!!/Android|webOS|iPhone|iPad|iPod|BB10|BlackBerry|IEMobile|Opera Mini|Mobile|mobile/i.test(c.userAgent||""),_=!(-1===c.userAgent.indexOf("Edge")||!c.msSaveOrOpenBlob&&!c.msSaveBlob),h=!!window.opera||c.userAgent.indexOf(" OPR/")>=0,p=c.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(c.userAgent),m=/^((?!chrome|android).)*safari/i.test(c.userAgent),g=!!window.chrome&&!h,v="undefined"!=typeof document&&!!document.documentMode&&!_,b={Android:function(){return c.userAgent.match(/Android/i)},BlackBerry:function(){return c.userAgent.match(/BlackBerry|BB10/i)},iOS:function(){return c.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return c.userAgent.match(/Opera Mini/i)},Windows:function(){return c.userAgent.match(/IEMobile/i)},any:function(){return b.Android()||b.BlackBerry()||b.iOS()||b.Opera()||b.Windows()},getOsName:function(){var e="Unknown OS";return b.Android()&&(e="Android"),b.BlackBerry()&&(e="BlackBerry"),b.iOS()&&(e="iOS"),b.Opera()&&(e="Opera Mini"),b.Windows()&&(e="Windows"),e}},D="Unknown OS",y="Unknown OS Version",C=function(){for(var e,t=c.appVersion,n=c.userAgent,r="-",o=[{s:"Chrome OS",r:/CrOS/},{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}],i=0;e=o[i];i++)if(e.r.test(n)){r=e.s;break}var s="-";switch(/Windows/.test(r)&&(/Windows (.*)/.test(r)&&(s=/Windows (.*)/.exec(r)[1]),r="Windows"),r){case"Mac OS X":/Mac OS X (10[\.\_\d]+)/.test(n)&&(s=/Mac OS X (10[\.\_\d]+)/.exec(n)[1]);break;case"Android":/Android ([\.\_\d]+)/.test(n)&&(s=/Android ([\.\_\d]+)/.exec(n)[1]);break;case"iOS":/OS (\d+)_(\d+)_?(\d+)?/.test(n)&&(s=(s=/OS (\d+)_(\d+)_?(\d+)?/.exec(t))[1]+"."+s[2]+"."+(0|s[3]))}return{osName:r,osVersion:s}}();C&&C.osName&&"-"!=C.osName?(D=C.osName,y=C.osVersion):b.any()&&"Android"==(D=b.getOsName())&&(y=!!(d=(u=(u||c.userAgent).toLowerCase()).match(/android\s([0-9\.]*)/))&&d[1]);var S="object"==typeof n&&"object"==typeof n.versions&&n.versions.node;"Unknown OS"===D&&S&&(D="Nodejs",y=n.versions.node.toString().replace("v",""));var E=!1,w=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach((function(e){"undefined"!=typeof document&&"function"==typeof document.createElement&&(!E&&e in document.createElement("canvas")&&(E=!0),!w&&e in document.createElement("video")&&(w=!0))}));var T=/^(192\.168\.|169\.254\.|10\.|172\.(1[6-9]|2\d|3[01]))/,M=/([0-9]{1,3}(\.[0-9]{1,3}){3})/,j=/[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7}/,k=[],O=[],A=[],I=[];c.mediaDevices&&c.mediaDevices.enumerateDevices&&(c.enumerateDevices=function(e){var t=c.mediaDevices.enumerateDevices();t&&t.then?c.mediaDevices.enumerateDevices().then(e).catch((function(){e([])})):e([])});var P=!1;("undefined"!=typeof MediaStreamTrack&&"getSources"in MediaStreamTrack||c.mediaDevices&&c.mediaDevices.enumerateDevices)&&(P=!0);var x=!1,R=!1,F=!1,L=!1,N=!1,B=window.DetectRTC||{};B.browser=function(){var e,t,n,r=(c.appVersion,c.userAgent),o=c.appName,i=""+parseFloat(c.appVersion),s=parseInt(c.appVersion,10);if(h){o="Opera";try{s=(i=c.userAgent.split("OPR/")[1].split(" ")[0]).split(".")[0]}catch(a){i="0.0.0.0",s=0}}else v?((t=r.indexOf("rv:"))>0?i=r.substring(t+3):(t=r.indexOf("MSIE"),i=r.substring(t+5)),o="IE"):g?(t=r.indexOf("Chrome"),o="Chrome",i=r.substring(t+7)):m?-1!==r.indexOf("CriOS")?(t=r.indexOf("CriOS"),o="Chrome",i=r.substring(t+6)):-1!==r.indexOf("FxiOS")?(t=r.indexOf("FxiOS"),o="Firefox",i=r.substring(t+6)):(t=r.indexOf("Safari"),o="Safari",i=r.substring(t+7),-1!==(t=r.indexOf("Version"))&&(i=r.substring(t+8)),-1!==c.userAgent.indexOf("Version/")&&(i=c.userAgent.split("Version/")[1].split(" ")[0])):p?(t=r.indexOf("Firefox"),o="Firefox",i=r.substring(t+8)):(e=r.lastIndexOf(" ")+1)<(t=r.lastIndexOf("/"))&&(o=r.substring(e,t),i=r.substring(t+1),o.toLowerCase()===o.toUpperCase()&&(o=c.appName));return _&&(o="Edge",i=c.userAgent.split("Edge/")[1]),-1!==(n=i.search(/[; \)]/))&&(i=i.substring(0,n)),s=parseInt(""+i,10),isNaN(s)&&(i=""+parseFloat(c.appVersion),s=parseInt(c.appVersion,10)),{fullVersion:i,version:s,name:o,isPrivateBrowsing:!1}}(),function(e){var t;try{if(window.webkitRequestFileSystem)window.webkitRequestFileSystem(window.TEMPORARY,1,(function(){t=!1}),(function(e){t=!0}));else if(window.indexedDB&&/Firefox/.test(window.navigator.userAgent)){var n;try{(n=window.indexedDB.open("test")).onerror=function(){return!0}}catch(r){t=!0}void 0===t&&i((function(){return"done"===n.readyState}),(function(e){e||(t=!n.result)}))}else if(function(e){var t=e.toLowerCase();if(0===t.indexOf("msie")&&0===t.indexOf("trident"))return!1;var n=/(?:msie|rv:)\s?([\d\.]+)/.exec(t);return!!(n&&parseInt(n[1],10)>=10)}(window.navigator.userAgent)){t=!1;try{window.indexedDB||(t=!0)}catch(r){t=!0}}else if(window.localStorage&&/Safari/.test(window.navigator.userAgent)){try{window.localStorage.setItem("test",1)}catch(r){t=!0}void 0===t&&(t=!1,window.localStorage.removeItem("test"))}}catch(r){t=!1}i((function(){return void 0!==t}),(function(n){e(t)}))}((function(e){B.browser.isPrivateBrowsing=!!e})),B.browser["is"+B.browser.name]=!0,B.osName=D,B.osVersion=y;var U=("object"==typeof n&&"object"==typeof n.versions&&n.versions["node-webkit"],!1);["RTCPeerConnection","webkitRTCPeerConnection","mozRTCPeerConnection","RTCIceGatherer"].forEach((function(e){U||e in window&&(U=!0)})),B.isWebRTCSupported=U,B.isORTCSupported="undefined"!=typeof RTCIceGatherer;var H=!1;(B.browser.isChrome&&B.browser.version>=35||B.browser.isFirefox&&B.browser.version>=34||B.browser.isEdge&&B.browser.version>=17||"Android"===B.osName&&B.browser.isChrome)&&(H=!0),(c.getDisplayMedia||c.mediaDevices&&c.mediaDevices.getDisplayMedia)&&(H=!0),/^(https:|chrome-extension:)$/g.test(location.protocol||"")||("undefined"!=typeof document&&"string"==typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(B.browser.isChrome||B.browser.isEdge||B.browser.isOpera)||B.browser.isFirefox)&&(H=!1),B.isScreenCapturingSupported=H;var W={isSupported:!1,isCreateMediaStreamSourceSupported:!1};["AudioContext","webkitAudioContext","mozAudioContext","msAudioContext"].forEach((function(e){W.isSupported||e in window&&(W.isSupported=!0,window[e]&&"createMediaStreamSource"in window[e].prototype&&(W.isCreateMediaStreamSourceSupported=!0))})),B.isAudioContextSupported=W.isSupported,B.isCreateMediaStreamSourceSupported=W.isCreateMediaStreamSourceSupported;var Y=!1;B.browser.isChrome&&B.browser.version>31&&(Y=!0),B.isRtpDataChannelsSupported=Y;var $=!1;(B.browser.isFirefox&&B.browser.version>28||B.browser.isChrome&&B.browser.version>25||B.browser.isOpera&&B.browser.version>=11)&&($=!0),B.isSctpDataChannelsSupported=$,B.isMobileDevice=f;var q=!1;(c.getUserMedia||c.mediaDevices&&c.mediaDevices.getUserMedia)&&(q=!0),B.browser.isChrome&&B.browser.version>=46&&!/^(https:|chrome-extension:)$/g.test(location.protocol||"")&&"undefined"!=typeof document&&"string"==typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(q="Requires HTTPs"),"Nodejs"===B.osName&&(q=!1),B.isGetUserMediaSupported=q;var G,V,z,K="";screen.width&&(K+=(screen.width?screen.width:"")+" x "+(screen.height?screen.height:"")),B.displayResolution=K,B.displayAspectRatio=(G=screen.width,V=screen.height,z=function e(t,n){return 0==n?t:e(n,t%n)}(G,V),G/z/(V/z)).toFixed(2),B.isCanvasSupportsStreamCapturing=E,B.isVideoSupportsStreamCapturing=w,"Chrome"==B.browser.name&&B.browser.version>=53&&(B.isCanvasSupportsStreamCapturing||(B.isCanvasSupportsStreamCapturing="Requires chrome flag: enable-experimental-web-platform-features"),B.isVideoSupportsStreamCapturing||(B.isVideoSupportsStreamCapturing="Requires chrome flag: enable-experimental-web-platform-features")),B.DetectLocalIPAddress=function(e,t){if(B.isWebRTCSupported){var n=!0,r=!0;!function(e,t){function n(t){if(t){var n=M.exec(t);if(n){var r=n[1],i=t.match(T);void 0===o[r]&&e(r,i,!0),o[r]=!0}}else e()}function r(){c.localDescription.sdp.split("\n").forEach((function(e){e&&0===e.indexOf("a=candidate:")&&n(e)}))}if("undefined"!=typeof document&&"function"==typeof document.getElementById){var o={},i=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;if(!i){var s=document.getElementById("iframe");if(!s)return;var a=s.contentWindow;i=a.RTCPeerConnection||a.mozRTCPeerConnection||a.webkitRTCPeerConnection}if(i){var l=null;"Chrome"===B.browser&&B.browser.version<58&&(l={optional:[{RtpDataChannels:!0}]});var c=new i({iceServers:[{urls:"stun:stun.l.google.com:19302"}]},l);if(t&&(c.addStream?c.addStream(t):c.addTrack&&t.getTracks()[0]&&c.addTrack(t.getTracks()[0],t)),c.onicecandidate=function(e){e.candidate&&e.candidate.candidate?n(e.candidate.candidate):n()},!t)try{c.createDataChannel("sctp",{})}catch(u){}B.isPromisesSupported?c.createOffer().then((function(e){c.setLocalDescription(e).then(r)})):c.createOffer((function(e){c.setLocalDescription(e,r,(function(){}))}),(function(){}))}}}((function(t){t?t.match(T)?e("Local: "+t,n=!1,r):t.match(j)?e("Public: "+t,n,r=!1):e("Public: "+t,n,r):e()}),t)}},B.isWebSocketsSupported="WebSocket"in window&&2===window.WebSocket.CLOSING,B.isWebSocketsBlocked=!B.isWebSocketsSupported,"Nodejs"===B.osName&&(B.isWebSocketsSupported=!0,B.isWebSocketsBlocked=!1),B.checkWebSocketsSupport=function(e){e=e||function(){};try{var t,n=new WebSocket("wss://echo.websocket.org:443/");n.onopen=function(){B.isWebSocketsBlocked=!1,t=(new Date).getTime(),n.send("ping")},n.onmessage=function(){B.WebsocketLatency=(new Date).getTime()-t+"ms",e(),n.close(),n=null},n.onerror=function(){B.isWebSocketsBlocked=!0,e()}}catch(r){B.isWebSocketsBlocked=!0,e()}},B.load=function(e){(function(e){if(P)if(!c.enumerateDevices&&window.MediaStreamTrack&&window.MediaStreamTrack.getSources&&(c.enumerateDevices=window.MediaStreamTrack.getSources.bind(window.MediaStreamTrack)),!c.enumerateDevices&&c.enumerateDevices&&(c.enumerateDevices=c.enumerateDevices.bind(c)),c.enumerateDevices){k=[],O=[],A=[],I=[],x=!1,R=!1,F=!1,L=!1,N=!1;var t={};c.enumerateDevices((function(n){k=[],O=[],A=[],I=[],n.forEach((function(e){var n={};for(var r in e)try{"function"!=typeof e[r]&&(n[r]=e[r])}catch(o){}t[n.deviceId+n.label+n.kind]||("audio"===n.kind&&(n.kind="audioinput"),"video"===n.kind&&(n.kind="videoinput"),n.deviceId||(n.deviceId=n.id),n.id||(n.id=n.deviceId),n.label?("videoinput"!==n.kind||N||(N=!0),"audioinput"!==n.kind||L||(L=!0)):(n.isCustomLabel=!0,"videoinput"===n.kind?n.label="Camera "+(I.length+1):"audioinput"===n.kind?n.label="Microphone "+(O.length+1):"audiooutput"===n.kind?n.label="Speaker "+(A.length+1):n.label="Please invoke getUserMedia once.",void 0!==B&&B.browser.isChrome&&B.browser.version>=46&&!/^(https:|chrome-extension:)$/g.test(location.protocol||"")&&"undefined"!=typeof document&&"string"==typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(n.label="HTTPs is required to get label of this "+n.kind+" device.")),"audioinput"===n.kind&&(x=!0,-1===O.indexOf(n)&&O.push(n)),"audiooutput"===n.kind&&(R=!0,-1===A.indexOf(n)&&A.push(n)),"videoinput"===n.kind&&(F=!0,-1===I.indexOf(n)&&I.push(n)),k.push(n),t[n.deviceId+n.label+n.kind]=n)})),void 0!==B&&(B.MediaDevices=k,B.hasMicrophone=x,B.hasSpeakers=R,B.hasWebcam=F,B.isWebsiteHasWebcamPermissions=N,B.isWebsiteHasMicrophonePermissions=L,B.audioInputDevices=O,B.audioOutputDevices=A,B.videoInputDevices=I),e&&e()}))}else e&&e();else e&&e()})(e=e||function(){})},B.MediaDevices=void 0!==k?k:[],B.hasMicrophone=x,B.hasSpeakers=R,B.hasWebcam=F,B.isWebsiteHasWebcamPermissions=N,B.isWebsiteHasMicrophonePermissions=L,B.audioInputDevices=O,B.audioOutputDevices=A,B.videoInputDevices=I;var J=!1;"undefined"!=typeof document&&"function"==typeof document.createElement&&"setSinkId"in document.createElement("video")&&(J=!0),B.isSetSinkIdSupported=J;var Q=!1;B.browser.isFirefox&&"undefined"!=typeof mozRTCPeerConnection?"getSenders"in mozRTCPeerConnection.prototype&&(Q=!0):B.browser.isChrome&&"undefined"!=typeof webkitRTCPeerConnection&&"getSenders"in webkitRTCPeerConnection.prototype&&(Q=!0),B.isRTPSenderReplaceTracksSupported=Q;var X=!1;B.browser.isFirefox&&B.browser.version>38&&(X=!0),B.isRemoteStreamProcessingSupported=X;var Z=!1;"undefined"!=typeof MediaStreamTrack&&"applyConstraints"in MediaStreamTrack.prototype&&(Z=!0),B.isApplyConstraintsSupported=Z;var ee=!1;B.browser.isFirefox&&B.browser.version>=43&&(ee=!0),B.isMultiMonitorScreenCapturingSupported=ee,B.isPromisesSupported=!!("Promise"in window),B.version="1.4.0",void 0===B&&(window.DetectRTC={});var te=window.MediaStream;void 0===te&&"undefined"!=typeof webkitMediaStream&&(te=webkitMediaStream),B.MediaStream=void 0!==te&&"function"==typeof te&&Object.keys(te.prototype),"undefined"!=typeof MediaStreamTrack?B.MediaStreamTrack=Object.keys(MediaStreamTrack.prototype):B.MediaStreamTrack=!1;var ne=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;B.RTCPeerConnection=void 0!==ne&&Object.keys(ne.prototype),window.DetectRTC=B,e.exports=B,void 0===(o=function(){return B}.apply(t,[]))||(e.exports=o)}()}).call(this,n(262),n(65))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l,c=[],u=!1,d=-1;function f(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&_())}function _(){if(!u){var e=a(f);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||u||a(_)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){function n(e,t,n,r){this.name="RainbowError",this.message=e,this.details=t,this.detailsCode=n,this.detailsData=r,this.stack=(new Error).stack}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,window.RBError=n},function(e,t){angular.module("rainbow").factory("CompanyInvitation",[function(){function e(e,t,n,r,o,i,s,a,l,c,u,d,f,_){this.id=e,this.companyId=t,this.companyName=n,this.invitedUserId=r,this.invitedUserEmail=o,this.invitingAdminId=i,this.invitingAdminLoginEmail=s,this.invitationDate=a,this.lastNotificationDate=l,this.requestedNotificationLanguage=c,this.status=u,this.acceptationDate=d,this.declinationDate=f,this.invitedToBeCompanyAdmin=_}return e.createFromData=function(t){return new e(t.id,t.companyId,t.companyName,t.invitedUserId,t.invitedUserEmail,t.invitingAdminId,t.invitingAdminLoginEmail,t.invitationDate,t.lastNotificationDate,t.requestedNotificationLanguage,t.status,t.acceptationDate,t.declinationDate,t.invitedToBeCompanyAdmin)},e}])},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(56);t.canReportError=function(e){for(;e;){var t=e,n=t.closed,o=t.destination,i=t.isStopped;if(n||i)return!1;e=o&&o instanceof r.Subscriber?o:null}return!0}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=function(e){return null!==e&&"object"==typeof e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}();t.UnsubscriptionError=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(56),o=n(69),i=n(79);t.toSubscriber=function(e,t,n){if(e){if(e instanceof r.Subscriber)return e;if(e[o.rxSubscriber])return e[o.rxSubscriber]()}return e||t||n?new r.Subscriber(e,t,n):new r.Subscriber(i.empty)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(272);function o(e){return 0===e.length?r.identity:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)},t.pipeFromArray=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.identity=function(e){return e}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r={"./af":82,"./af.js":82,"./ar":83,"./ar-dz":84,"./ar-dz.js":84,"./ar-kw":85,"./ar-kw.js":85,"./ar-ly":86,"./ar-ly.js":86,"./ar-ma":87,"./ar-ma.js":87,"./ar-sa":88,"./ar-sa.js":88,"./ar-tn":89,"./ar-tn.js":89,"./ar.js":83,"./az":90,"./az.js":90,"./be":91,"./be.js":91,"./bg":92,"./bg.js":92,"./bm":93,"./bm.js":93,"./bn":94,"./bn-bd":95,"./bn-bd.js":95,"./bn.js":94,"./bo":96,"./bo.js":96,"./br":97,"./br.js":97,"./bs":98,"./bs.js":98,"./ca":99,"./ca.js":99,"./cs":100,"./cs.js":100,"./cv":101,"./cv.js":101,"./cy":102,"./cy.js":102,"./da":103,"./da.js":103,"./de":104,"./de-at":105,"./de-at.js":105,"./de-ch":106,"./de-ch.js":106,"./de.js":104,"./dv":107,"./dv.js":107,"./el":108,"./el.js":108,"./en-au":109,"./en-au.js":109,"./en-ca":110,"./en-ca.js":110,"./en-gb":111,"./en-gb.js":111,"./en-ie":112,"./en-ie.js":112,"./en-il":113,"./en-il.js":113,"./en-in":114,"./en-in.js":114,"./en-nz":115,"./en-nz.js":115,"./en-sg":116,"./en-sg.js":116,"./eo":117,"./eo.js":117,"./es":118,"./es-do":119,"./es-do.js":119,"./es-mx":120,"./es-mx.js":120,"./es-us":121,"./es-us.js":121,"./es.js":118,"./et":122,"./et.js":122,"./eu":123,"./eu.js":123,"./fa":124,"./fa.js":124,"./fi":125,"./fi.js":125,"./fil":126,"./fil.js":126,"./fo":127,"./fo.js":127,"./fr":128,"./fr-ca":129,"./fr-ca.js":129,"./fr-ch":130,"./fr-ch.js":130,"./fr.js":128,"./fy":131,"./fy.js":131,"./ga":132,"./ga.js":132,"./gd":133,"./gd.js":133,"./gl":134,"./gl.js":134,"./gom-deva":135,"./gom-deva.js":135,"./gom-latn":136,"./gom-latn.js":136,"./gu":137,"./gu.js":137,"./he":138,"./he.js":138,"./hi":139,"./hi.js":139,"./hr":140,"./hr.js":140,"./hu":141,"./hu.js":141,"./hy-am":142,"./hy-am.js":142,"./id":143,"./id.js":143,"./is":144,"./is.js":144,"./it":145,"./it-ch":146,"./it-ch.js":146,"./it.js":145,"./ja":147,"./ja.js":147,"./jv":148,"./jv.js":148,"./ka":149,"./ka.js":149,"./kk":150,"./kk.js":150,"./km":151,"./km.js":151,"./kn":152,"./kn.js":152,"./ko":153,"./ko.js":153,"./ku":154,"./ku.js":154,"./ky":155,"./ky.js":155,"./lb":156,"./lb.js":156,"./lo":157,"./lo.js":157,"./lt":158,"./lt.js":158,"./lv":159,"./lv.js":159,"./me":160,"./me.js":160,"./mi":161,"./mi.js":161,"./mk":162,"./mk.js":162,"./ml":163,"./ml.js":163,"./mn":164,"./mn.js":164,"./mr":165,"./mr.js":165,"./ms":166,"./ms-my":167,"./ms-my.js":167,"./ms.js":166,"./mt":168,"./mt.js":168,"./my":169,"./my.js":169,"./nb":170,"./nb.js":170,"./ne":171,"./ne.js":171,"./nl":172,"./nl-be":173,"./nl-be.js":173,"./nl.js":172,"./nn":174,"./nn.js":174,"./oc-lnc":175,"./oc-lnc.js":175,"./pa-in":176,"./pa-in.js":176,"./pl":177,"./pl.js":177,"./pt":178,"./pt-br":179,"./pt-br.js":179,"./pt.js":178,"./ro":180,"./ro.js":180,"./ru":181,"./ru.js":181,"./sd":182,"./sd.js":182,"./se":183,"./se.js":183,"./si":184,"./si.js":184,"./sk":185,"./sk.js":185,"./sl":186,"./sl.js":186,"./sq":187,"./sq.js":187,"./sr":188,"./sr-cyrl":189,"./sr-cyrl.js":189,"./sr.js":188,"./ss":190,"./ss.js":190,"./sv":191,"./sv.js":191,"./sw":192,"./sw.js":192,"./ta":193,"./ta.js":193,"./te":194,"./te.js":194,"./tet":195,"./tet.js":195,"./tg":196,"./tg.js":196,"./th":197,"./th.js":197,"./tk":198,"./tk.js":198,"./tl-ph":199,"./tl-ph.js":199,"./tlh":200,"./tlh.js":200,"./tr":201,"./tr.js":201,"./tzl":202,"./tzl.js":202,"./tzm":203,"./tzm-latn":204,"./tzm-latn.js":204,"./tzm.js":203,"./ug-cn":205,"./ug-cn.js":205,"./uk":206,"./uk.js":206,"./ur":207,"./ur.js":207,"./uz":208,"./uz-latn":209,"./uz-latn.js":209,"./uz.js":208,"./vi":210,"./vi.js":210,"./x-pseudo":211,"./x-pseudo.js":211,"./yo":212,"./yo.js":212,"./zh-cn":213,"./zh-cn.js":213,"./zh-hk":214,"./zh-hk.js":214,"./zh-mo":215,"./zh-mo.js":215,"./zh-tw":216,"./zh-tw.js":216};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=274},function(e,t){angular.module("rainbow").factory("CompanyRequest",[function(){function e(e,t,n,r,o,i,s,a,l,c,u){this.id=e,this.requestingUserId=t,this.requestingUserLoginEmail=n,this.requestedCompanyId=r,this.requestedCompanyName=o,this.status=i,this.requestingDate=s,this.requestedNotificationLanguage=a,this.lastNotificationDate=l,this.requestedToCompanyAdmin=c,this.requestedCompanyInvitationId=u}return e.createFromData=function(t){return new e(t.id,t.requestingUserId,t.requestingUserLoginEmail,t.requestedCompanyId,t.requestedCompanyName,t.status,t.requestingDate,t.requestedNotificationLanguage,t.lastNotificationDate,t.requestedToCompanyAdmin,t.requestedCompanyInvitationId)},e}])},function(e,t){angular.module("rainbow").factory("CompanyBpLinkInvitation",[function(){function e(e,t,n,r,o,i,s,a,l,c,u,d,f,_,h){this.id=e,this.invitedCompanyId=t,this.invitedCompanyName=n,this.invitedToBeBpIr=r,this.invitingAdminId=o,this.invitingAdminLoginEmail=i,this.invitingCompanyId=s,this.invitingCompanyName=a,this.invitationDate=l,this.lastNotificationDate=c,this.requestedNotificationLanguage=u,this.status=d,this.acceptationDate=f,this.cancelationDate=_,this.declinationDate=h}return e.createFromData=function(t){return new e(t.id,t.invitedCompanyId,t.invitedCompanyName,t.invitedToBeBpIr,t.invitingAdminId,t.invitingAdminLoginEmail,t.invitingCompanyId,t.invitingCompanyName,t.invitationDate,t.lastNotificationDate,t.requestedNotificationLanguage,t.status,t.acceptationDate,t.cancelationDate,t.declinationDate)},e}])},function(e,t){angular.module("rainbow").factory("CompanyBpLinkRequest",[function(){function e(e,t,n,r,o,i,s,a,l,c,u,d,f,_,h){this.id=e,this.requestingAdminId=t,this.requestingAdminLoginEmail=n,this.requestingCompanyId=r,this.requestingCompanyName=o,this.requestedCompanyId=i,this.requestedCompanyName=s,this.requestedToBeBpIr=a,this.requestDate=l,this.lastNotificationDate=c,this.requestedNotificationLanguage=u,this.status=d,this.acceptationDate=f,this.cancelationDate=_,this.declinationDate=h}return e.createFromData=function(t){return new e(t.id,t.requestingAdminId,t.requestingAdminLoginEmail,t.requestingCompanyId,t.requestingCompanyName,t.requestedCompanyId,t.requestedCompanyName,t.requestedToBeBpIr,t.requestDate,t.lastNotificationDate,t.requestedNotificationLanguage,t.status,t.acceptationDate,t.cancelationDate,t.declinationDate)},e}])},function(e,t){angular.module("rainbow").factory("Conference",[function(){function e(e,t,n,r,o,i,s,a,l,c,u){this.companyId=e,this.id=t,this.mediaType=n,this.name=r,this.passCodes=o||[],this.scheduled=i,this.lastUpdateDate=s,this.userId=a,this.confDialOutDisabled=l,this.playEntryTone=c,this.muteUponEntry=u,this.updateFromData=function(e){this.companyId=e.companyId,this.id=e.id,this.mediaType=e.mediaType,this.name=e.name,this.passCodes=e.passCodes,this.scheduled=e.scheduled,this.lastUpdateDate=e.lastUpdateDate,this.userId=e.userId,this.confDialOutDisabled=e.confDialOutDisabled,this.playEntryTone=e.playEntryTone,this.muteUponEntry=e.muteUponEntry}}return e.createFromData=function(t){return new e(t.companyId,t.id,t.mediaType,t.name,t.passCodes,t.scheduled,t.lastUpdateDate,t.userId,t.confDialOutDisabled,t.playEntryTone,t.muteUponEntry)},e}])},function(e,t,n){n.r(t);var r=n(2),o=n.n(r),i=n(77);angular.module("rainbow").factory("ConferenceSession",["$log","ConferenceParticipant","$q","$interval",function(e,t,n,r){function s(a,l,c,u){const d=this;d.id=a,d.participants=l,d.active=c,d.talkerActive=void 0,d.recordingStarted=void 0,d.talkers=void 0,d.talkerSubject=new i.a(this.talkers),d.isLeaderAlreadyConnected=!1,d.status=null,d.localStreams=[],d.sessions={},d.publishers=[],d.type=u,d.callId=null,d.hasLocalVideo=!1,d.jingleJid=null,d.localVideoSessionId=null,d.localSharingSessionId=null,d.haveJoined=!1,d.lock=!1,d.duration=0,d.durationTimer=null,d.conferenceStats=null,d.control={activeControl:!1,hasRemoteControlling:!1,controller:null,controlled:null},d.conferenceView=s.ConferenceView.GalleryView,d.networkQuality=0,d.isMyConference=!1,d.isInExternalWindow=!1,d.externalWindowRef=null,d.noMicrophone=!1,d.cleanupSessionData=function(){e.debug("[ConferenceSession] Cleanup for conferenceSession "+d.id),d.participants=[],d.talkerActive=void 0,d.recordingStarted=void 0,d.talkers=void 0,d.isLeaderAlreadyConnected=!1,d.localStreams=[],d.sessions={},d.publishers=[],d.hasLocalVideo=!1,d.metricsState="",d.recordingStarted=!1,d.status="ended",d.hasLocalSharing=!1,d.reversedVideos=!1,d.jingleJid=null,d.localVideoSessionId=null,d.localSharingSessionId=null,d.haveJoined=!1,d.lock=!1,d.duration=0,d.conferenceStats=null,d.durationTimer&&(r.cancel(d.durationTimer),d.durationTimer=null),d.conferenceView=s.ConferenceView.GalleryView,d.joinedFromOtherDevice=!1,d.isInExternalWindow=!1,d.externalWindowRef=null,d.noMicrophone=!1},d.updateFromData=function(e,t,n){d.id=e,d.participants=t,d.active=n},d.updateActiveState=function(e){d.active=e},d.updateStateFromData=function(e,t,n,r){d.active=e,d.talkerActive=t,d.recordingStarted=n,d.lock=r},d.updateParticipants=function(r){return n((function(n){let o=!1;r||n(!1),d.participants||(d.participants=[]),0===r.length&&(d.participants=[]),r.forEach((function(n){if(!n.participantId)return;e.debug("[conferenceSession] updateParticipants participantId="+n.participantId);const r=d.getParticipantById(n.participantId)?d.getParticipantById(n.participantId):n.jid_im?d.getParticipantByJid(n.jid_im):null;if(r)e.debug("[conferenceSession] updateParticipants update participantId="+n.participantId),r.updateFromData(n);else{e.debug("[conferenceSession] updateParticipants create participantId="+n.participantId);const r=t.createFromData(n);d.participants.push(r),o=r}})),n(o)}))},d.removeParticipants=function(t){t&&t.forEach((function(t){const n=d.getParticipantIndexById(t);-1!==n&&(e.debug("[conferenceSession] removeParticipants remove participantId="+t),d.participants.splice(n,1))}))},d.removePublisher=function(t){if(!t)return;const n=d.getPublisherIndexById(t);-1!==n&&(e.debug("[conferenceSession] removePublisher remove participantId="+t),d.publishers.splice(n,1))},d.updateTalkers=function(t){e.debug("[conferenceSession] updateTalkers talkers="+t),d.talkers=t,d.talkerSubject.next(d.talkers)},d.isActive=function(){return void 0!==d.active&&d.active},d.isTalkerActive=function(){return void 0!==d.talkerActive&&d.talkerActive},d.isRecordingStarted=function(){return void 0!==d.recordingStarted&&d.recordingStarted},d.getParticipants=function(){return d.participants},d.getConnectedParticipants=function(){return d.participants?d.participants.filter((function(e){return"disconnected"!==e.state&&"watching"!==e.state})):void 0},d.getWatchingParticipants=function(){return d.participants?d.participants.filter((function(e){return"watching"===e.state})):void 0},d.getConnectedParticipantsExceptLeader=function(){return d.participants?d.participants.filter((function(e){return"disconnected"!==e.state&&"watching"!==e.state&&"moderator"!==e.role})):void 0},d.getConnectedLeaderParticipantsExcept=function(e){return d.participants?d.participants.filter((function(t){return"disconnected"!==t.state&&"moderator"===t.role&&t.jid_im!==e})):void 0},d.getConnectedParticipantsExcept=function(e){return d.participants?d.participants.filter((function(t){return t.jid_im!==e&&"disconnected"!==t.state&&"watching"!==t.state})):void 0},d.getLeaderParticipant=function(){return d.participants?d.participants.find((function(e){return"moderator"===e.role&&"disconnected"!==e.state&&"watching"!==e.state})):void 0},d.getLeaderParticipantById=function(e){return d.participants?d.participants.find((function(t){return"moderator"===t.role&&"disconnected"!==t.state&&"watching"!==t.state&&t.jid_im===e})):void 0},d.getParticipantById=function(e){return d.participants?d.participants.find((function(t){return t.participantId===e})):void 0},d.getParticipantByJid=function(e){return d.participants?d.participants.find((function(t){return t.jid_im===e})):void 0},d.getNonDisconnectedParticipantByJid=function(e){return d.participants?d.participants.find((function(t){return t.jid_im===e&&"disconnected"!==t.state})):void 0},d.getConnectedParticipantByJid=function(e){return d.participants?d.participants.find((function(t){return t.jid_im===e&&"connected"===t.state})):void 0},d.getWatchingParticipantByJid=function(e){return d.participants?d.participants.find((function(t){return t.jid_im===e&&"watching"===t.state})):void 0},d.getParticipantIndexById=function(e){return d.participants?d.participants.findIndex((function(t){return t.participantId===e})):-1},d.getPublisherIndexById=function(e){return d.publishers?d.publishers.findIndex((function(t){return t.participantId===e})):-1},d.getPublisherById=function(e){return d.publishers?d.publishers.find((function(t){return t.participantId===e})):void 0},d.isParticipantConnectedByJid=function(e){return void 0!==d.participants&&d.participants.some((function(t){return t.jid_im===e&&"connected"===t.state}))},d.isParticipantWatchingByJid=function(e){return void 0!==d.participants&&d.participants.some((function(t){return t.jid_im===e&&"watching"===t.state}))},d.isParticipantRingingByJid=function(e){return void 0!==d.participants&&d.participants.some((function(t){return t.jid_im===e&&"ringing"===t.state}))},d.isParticipantConnectedWithThisUAByJid=function(e){return d.haveJoined&&void 0!==d.participants&&d.participants.some((function(t){return t.jid_im===e&&"connected"===t.state}))},d.checkIfParticipantHasVideoByPublisherId=function(e){let t=!1;if(d.publishers)for(let n=0;n<d.publishers.length;n++)if("video"===d.publishers[n].mediaType&&d.publishers[n].participantId===e){t=!0;break}return t},d.getCurrentSharingParticipant=function(){let e=null;if(d.publishers)for(let t=0;t<d.publishers.length;t++)if("sharing"===d.publishers[t].mediaType){e=d.publishers[t].participantId;break}return e&&d.participants?d.participants.find((function(t){return t.participantId===e})):void 0},d.getDelegateParticipantsListExcept=function(e){const t=[],n=this.getConnectedParticipantsExcept(e);if(n)for(let r=0;r<n.length;r++)n[r].delegateCapability&&t.push(n[r]);return t},d.getTalkers=function(){return d.talkers},d.setCallId=function(e){d.callId=e},d.getListOfRemoteVideoPublishers=function(){const e=[];if(d.publishers)for(let t=0;t<d.publishers.length;t++)"video"===d.publishers[t].mediaType&&d.publishers[t].jid_im!==o.a.userContact.jid&&e.push(d.publishers[t]);return e},d.startDuration=function(){d.durationTimer||(d.durationTimer=r((function(){d.duration++}),1e3))},d.stopDuration=function(){d.durationTimer&&(r.cancel(d.durationTimer),d.durationTimer=null,d.duration=0)},d.isInConferenceWithDesktopApp=function(){const e=d.getCurrentSharingParticipant();return!(!e||!e.contact)&&-1!==e.contact.fullJid.indexOf("desk_")}}return s.createFromData=function(e,t,n,r){return r||(r="pstnAudio"),new s(e,t,n,r)},s.ConferenceView={GalleryView:"gallery_view",SpeakerView:"speaker_view",GridView:"grid_view"},s}])},function(e,t,n){var r;e.exports=(r=n(13),function(){if("function"==typeof ArrayBuffer){var e=r.lib.WordArray,t=e.init;(e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],o=0;o<n;o++)r[o>>>2]|=e[o]<<24-o%4*8;t.call(this,r,n)}else t.apply(this,arguments)}).prototype=e}}(),r.lib.WordArray)},function(e,t,n){var r;e.exports=(r=n(13),function(){var e=r,t=e.lib.WordArray,n=e.enc;function o(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o+=2){var i=t[o>>>2]>>>16-o%4*8&65535;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var n=e.length,r=[],o=0;o<n;o++)r[o>>>1]|=e.charCodeAt(o)<<16-o%2*16;return t.create(r,2*n)}},n.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=2){var s=o(t[i>>>2]>>>16-i%4*8&65535);r.push(String.fromCharCode(s))}return r.join("")},parse:function(e){for(var n=e.length,r=[],i=0;i<n;i++)r[i>>>1]|=o(e.charCodeAt(i)<<16-i%2*16);return t.create(r,2*n)}}}(),r.enc.Utf16)},function(e,t,n){var r,o,i,s,a,l;e.exports=(l=n(13),n(217),o=(r=l).lib.WordArray,i=r.algo,s=i.SHA256,a=i.SHA224=s.extend({_doReset:function(){this._hash=new o.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=s._doFinalize.call(this);return e.sigBytes-=4,e}}),r.SHA224=s._createHelper(a),r.HmacSHA224=s._createHmacHelper(a),l.SHA224)},function(e,t,n){var r,o,i,s,a,l,c,u;e.exports=(u=n(13),n(61),n(218),o=(r=u).x64,i=o.Word,s=o.WordArray,a=r.algo,l=a.SHA512,c=a.SHA384=l.extend({_doReset:function(){this._hash=new s.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var e=l._doFinalize.call(this);return e.sigBytes-=16,e}}),r.SHA384=l._createHelper(c),r.HmacSHA384=l._createHmacHelper(c),u.SHA384)},function(e,t,n){var r;e.exports=(r=n(13),n(61),function(e){var t=r,n=t.lib,o=n.WordArray,i=n.Hasher,s=t.x64.Word,a=t.algo,l=[],c=[],u=[];!function(){for(var e=1,t=0,n=0;n<24;n++){l[e+5*t]=(n+1)*(n+2)/2%64;var r=(2*e+3*t)%5;e=t%5,t=r}for(e=0;e<5;e++)for(t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var o=1,i=0;i<24;i++){for(var a=0,d=0,f=0;f<7;f++){if(1&o){var _=(1<<f)-1;_<32?d^=1<<_:a^=1<<_-32}128&o?o=o<<1^113:o<<=1}u[i]=s.create(a,d)}}();var d=[];!function(){for(var e=0;e<25;e++)d[e]=s.create()}();var f=a.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,o=0;o<r;o++){var i=e[t+2*o],s=e[t+2*o+1];i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(j=n[o]).high^=s,j.low^=i}for(var a=0;a<24;a++){for(var f=0;f<5;f++){for(var _=0,h=0,p=0;p<5;p++)_^=(j=n[f+5*p]).high,h^=j.low;var m=d[f];m.high=_,m.low=h}for(f=0;f<5;f++){var g=d[(f+4)%5],v=d[(f+1)%5],b=v.high,D=v.low;for(_=g.high^(b<<1|D>>>31),h=g.low^(D<<1|b>>>31),p=0;p<5;p++)(j=n[f+5*p]).high^=_,j.low^=h}for(var y=1;y<25;y++){var C=(j=n[y]).high,S=j.low,E=l[y];E<32?(_=C<<E|S>>>32-E,h=S<<E|C>>>32-E):(_=S<<E-32|C>>>64-E,h=C<<E-32|S>>>64-E);var w=d[c[y]];w.high=_,w.low=h}var T=d[0],M=n[0];for(T.high=M.high,T.low=M.low,f=0;f<5;f++)for(p=0;p<5;p++){var j=n[y=f+5*p],k=d[y],O=d[(f+1)%5+5*p],A=d[(f+2)%5+5*p];j.high=k.high^~O.high&A.high,j.low=k.low^~O.low&A.low}j=n[0];var I=u[a];j.high^=I.high,j.low^=I.low}},_doFinalize:function(){var t=this._data,n=t.words,r=(this._nDataBytes,8*t.sigBytes),i=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(e.ceil((r+1)/i)*i>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,l=a/8,c=[],u=0;u<l;u++){var d=s[u],f=d.high,_=d.low;f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),_=16711935&(_<<8|_>>>24)|4278255360&(_<<24|_>>>8),c.push(_),c.push(f)}return new o.init(c,a)},clone:function(){for(var e=i.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});t.SHA3=i._createHelper(f),t.HmacSHA3=i._createHmacHelper(f)}(Math),r.SHA3)},function(e,t,n){var r;e.exports=(r=n(13),
/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
function(e){var t=r,n=t.lib,o=n.WordArray,i=n.Hasher,s=t.algo,a=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=o.create([0,1518500249,1859775393,2400959708,2840853838]),f=o.create([1352829926,1548603684,1836072691,2053994217,0]),_=s.RIPEMD160=i.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,o=e[r];e[r]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i,s,_,D,y,C,S,E,w,T,M,j=this._hash.words,k=d.words,O=f.words,A=a.words,I=l.words,P=c.words,x=u.words;for(C=i=j[0],S=s=j[1],E=_=j[2],w=D=j[3],T=y=j[4],n=0;n<80;n+=1)M=i+e[t+A[n]]|0,M+=n<16?h(s,_,D)+k[0]:n<32?p(s,_,D)+k[1]:n<48?m(s,_,D)+k[2]:n<64?g(s,_,D)+k[3]:v(s,_,D)+k[4],M=(M=b(M|=0,P[n]))+y|0,i=y,y=D,D=b(_,10),_=s,s=M,M=C+e[t+I[n]]|0,M+=n<16?v(S,E,w)+O[0]:n<32?g(S,E,w)+O[1]:n<48?m(S,E,w)+O[2]:n<64?p(S,E,w)+O[3]:h(S,E,w)+O[4],M=(M=b(M|=0,x[n]))+T|0,C=T,T=w,w=b(E,10),E=S,S=M;M=j[1]+_+w|0,j[1]=j[2]+D+T|0,j[2]=j[3]+y+C|0,j[3]=j[4]+i+S|0,j[4]=j[0]+s+E|0,j[0]=M},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var o=this._hash,i=o.words,s=0;s<5;s++){var a=i[s];i[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return o},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function h(e,t,n){return e^t^n}function p(e,t,n){return e&t|~e&n}function m(e,t,n){return(e|~t)^n}function g(e,t,n){return e&n|t&~n}function v(e,t,n){return e^(t|~n)}function b(e,t){return e<<t|e>>>32-t}t.RIPEMD160=i._createHelper(_),t.HmacRIPEMD160=i._createHmacHelper(_)}(Math),r.RIPEMD160)},function(e,t,n){var r,o,i,s,a,l,c,u,d;e.exports=(d=n(13),n(72),n(73),o=(r=d).lib,i=o.Base,s=o.WordArray,a=r.algo,l=a.SHA1,c=a.HMAC,u=a.PBKDF2=i.extend({cfg:i.extend({keySize:4,hasher:l,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=c.create(n.hasher,e),o=s.create(),i=s.create([1]),a=o.words,l=i.words,u=n.keySize,d=n.iterations;a.length<u;){var f=r.update(t).finalize(i);r.reset();for(var _=f.words,h=_.length,p=f,m=1;m<d;m++){p=r.finalize(p),r.reset();for(var g=p.words,v=0;v<h;v++)_[v]^=g[v]}o.concat(f),l[0]++}return o.sigBytes=4*u,o}}),r.PBKDF2=function(e,t,n){return u.create(n).compute(e,t)},d.PBKDF2)},function(e,t,n){var r;e.exports=(r=n(13),n(20),r.mode.CFB=function(){var e=r.lib.BlockCipherMode.extend();function t(e,t,n,r){var o=this._iv;if(o){var i=o.slice(0);this._iv=void 0}else i=this._prevBlock;r.encryptBlock(i,0);for(var s=0;s<n;s++)e[t+s]^=i[s]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize;t.call(this,e,n,o,r),this._prevBlock=e.slice(n,n+o)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize,i=e.slice(n,n+o);t.call(this,e,n,o,r),this._prevBlock=i}}),e}(),r.mode.CFB)},function(e,t,n){var r,o,i;e.exports=(i=n(13),n(20),i.mode.CTR=(r=i.lib.BlockCipherMode.extend(),o=r.Encryptor=r.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,o=this._iv,i=this._counter;o&&(i=this._counter=o.slice(0),this._iv=void 0);var s=i.slice(0);n.encryptBlock(s,0),i[r-1]=i[r-1]+1|0;for(var a=0;a<r;a++)e[t+a]^=s[a]}}),r.Decryptor=o,r),i.mode.CTR)},function(e,t,n){var r;e.exports=(r=n(13),n(20),
/** @preserve
	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	 * derived from CryptoJS.mode.CTR
	 * Jan Hruby jhruby.web@gmail.com
	 */
r.mode.CTRGladman=function(){var e=r.lib.BlockCipherMode.extend();function t(e){if(255==(e>>24&255)){var t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}var n=e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize,i=this._iv,s=this._counter;i&&(s=this._counter=i.slice(0),this._iv=void 0),function(e){0===(e[0]=t(e[0]))&&(e[1]=t(e[1]))}(s);var a=s.slice(0);r.encryptBlock(a,0);for(var l=0;l<o;l++)e[n+l]^=a[l]}});return e.Decryptor=n,e}(),r.mode.CTRGladman)},function(e,t,n){var r,o,i;e.exports=(i=n(13),n(20),i.mode.OFB=(r=i.lib.BlockCipherMode.extend(),o=r.Encryptor=r.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,o=this._iv,i=this._keystream;o&&(i=this._keystream=o.slice(0),this._iv=void 0),n.encryptBlock(i,0);for(var s=0;s<r;s++)e[t+s]^=i[s]}}),r.Decryptor=o,r),i.mode.OFB)},function(e,t,n){var r,o;e.exports=(o=n(13),n(20),o.mode.ECB=((r=o.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),r.Decryptor=r.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),r),o.mode.ECB)},function(e,t,n){var r;e.exports=(r=n(13),n(20),r.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,r=4*t,o=r-n%r,i=n+o-1;e.clamp(),e.words[i>>>2]|=o<<24-i%4*8,e.sigBytes+=o},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.pad.Ansix923)},function(e,t,n){var r;e.exports=(r=n(13),n(20),r.pad.Iso10126={pad:function(e,t){var n=4*t,o=n-e.sigBytes%n;e.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.pad.Iso10126)},function(e,t,n){var r;e.exports=(r=n(13),n(20),r.pad.Iso97971={pad:function(e,t){e.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(e,t)},unpad:function(e){r.pad.ZeroPadding.unpad(e),e.sigBytes--}},r.pad.Iso97971)},function(e,t,n){var r;e.exports=(r=n(13),n(20),r.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){for(var t=e.words,n=e.sigBytes-1;!(t[n>>>2]>>>24-n%4*8&255);)n--;e.sigBytes=n+1}},r.pad.ZeroPadding)},function(e,t,n){var r;e.exports=(r=n(13),n(20),r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding)},function(e,t,n){var r,o,i,s;e.exports=(s=n(13),n(20),o=(r=s).lib.CipherParams,i=r.enc.Hex,r.format.Hex={stringify:function(e){return e.ciphertext.toString(i)},parse:function(e){var t=i.parse(e);return o.create({ciphertext:t})}},s.format.Hex)},function(e,t,n){var r;e.exports=(r=n(13),n(46),n(47),n(40),n(20),function(){var e=r,t=e.lib.BlockCipher,n=e.algo,o=[],i=[],s=[],a=[],l=[],c=[],u=[],d=[],f=[],_=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var h=r^r<<1^r<<2^r<<3^r<<4;h=h>>>8^255&h^99,o[n]=h,i[h]=n;var p=e[n],m=e[p],g=e[m],v=257*e[h]^16843008*h;s[n]=v<<24|v>>>8,a[n]=v<<16|v>>>16,l[n]=v<<8|v>>>24,c[n]=v,v=16843009*g^65537*m^257*p^16843008*n,u[h]=v<<24|v>>>8,d[h]=v<<16|v>>>16,f[h]=v<<8|v>>>24,_[h]=v,n?(n=p^e[e[e[g^p]]],r^=e[e[r]]):n=r=1}}();var h=[0,1,2,4,8,16,32,64,128,27,54],p=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),i=this._keySchedule=[],s=0;s<r;s++)if(s<n)i[s]=t[s];else{var a=i[s-1];s%n?n>6&&s%n==4&&(a=o[a>>>24]<<24|o[a>>>16&255]<<16|o[a>>>8&255]<<8|o[255&a]):(a=o[(a=a<<8|a>>>24)>>>24]<<24|o[a>>>16&255]<<16|o[a>>>8&255]<<8|o[255&a],a^=h[s/n|0]<<24),i[s]=i[s-n]^a}for(var l=this._invKeySchedule=[],c=0;c<r;c++)s=r-c,a=c%4?i[s]:i[s-4],l[c]=c<4||s<=4?a:u[o[a>>>24]]^d[o[a>>>16&255]]^f[o[a>>>8&255]]^_[o[255&a]]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,a,l,c,o)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,d,f,_,i),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,o,i,s,a){for(var l=this._nRounds,c=e[t]^n[0],u=e[t+1]^n[1],d=e[t+2]^n[2],f=e[t+3]^n[3],_=4,h=1;h<l;h++){var p=r[c>>>24]^o[u>>>16&255]^i[d>>>8&255]^s[255&f]^n[_++],m=r[u>>>24]^o[d>>>16&255]^i[f>>>8&255]^s[255&c]^n[_++],g=r[d>>>24]^o[f>>>16&255]^i[c>>>8&255]^s[255&u]^n[_++],v=r[f>>>24]^o[c>>>16&255]^i[u>>>8&255]^s[255&d]^n[_++];c=p,u=m,d=g,f=v}p=(a[c>>>24]<<24|a[u>>>16&255]<<16|a[d>>>8&255]<<8|a[255&f])^n[_++],m=(a[u>>>24]<<24|a[d>>>16&255]<<16|a[f>>>8&255]<<8|a[255&c])^n[_++],g=(a[d>>>24]<<24|a[f>>>16&255]<<16|a[c>>>8&255]<<8|a[255&u])^n[_++],v=(a[f>>>24]<<24|a[c>>>16&255]<<16|a[u>>>8&255]<<8|a[255&d])^n[_++],e[t]=p,e[t+1]=m,e[t+2]=g,e[t+3]=v},keySize:8});e.AES=t._createHelper(p)}(),r.AES)},function(e,t,n){var r;e.exports=(r=n(13),n(46),n(47),n(40),n(20),function(){var e=r,t=e.lib,n=t.WordArray,o=t.BlockCipher,i=e.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=i.DES=o.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var r=s[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(var o=this._subKeys=[],i=0;i<16;i++){var c=o[i]=[],u=l[i];for(n=0;n<24;n++)c[n/6|0]|=t[(a[n]-1+u)%28]<<31-n%6,c[4+(n/6|0)]|=t[28+(a[n+24]-1+u)%28]<<31-n%6;for(c[0]=c[0]<<1|c[0]>>>31,n=1;n<7;n++)c[n]=c[n]>>>4*(n-1)+3;c[7]=c[7]<<5|c[7]>>>27}var d=this._invSubKeys=[];for(n=0;n<16;n++)d[n]=o[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],f.call(this,4,252645135),f.call(this,16,65535),_.call(this,2,858993459),_.call(this,8,16711935),f.call(this,1,1431655765);for(var r=0;r<16;r++){for(var o=n[r],i=this._lBlock,s=this._rBlock,a=0,l=0;l<8;l++)a|=c[l][((s^o[l])&u[l])>>>0];this._lBlock=s,this._rBlock=i^a}var d=this._lBlock;this._lBlock=this._rBlock,this._rBlock=d,f.call(this,1,1431655765),_.call(this,8,16711935),_.call(this,2,858993459),f.call(this,16,65535),f.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function f(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function _(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}e.DES=o._createHelper(d);var h=i.TripleDES=o.extend({_doReset:function(){var e=this._key.words;this._des1=d.createEncryptor(n.create(e.slice(0,2))),this._des2=d.createEncryptor(n.create(e.slice(2,4))),this._des3=d.createEncryptor(n.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=o._createHelper(h)}(),r.TripleDES)},function(e,t,n){var r;e.exports=(r=n(13),n(46),n(47),n(40),n(20),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,o=n.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[],o=0;o<256;o++)r[o]=o;o=0;for(var i=0;o<256;o++){var s=o%n,a=t[s>>>2]>>>24-s%4*8&255;i=(i+r[o]+a)%256;var l=r[o];r[o]=r[i],r[i]=l}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=i.call(this)},keySize:8,ivSize:0});function i(){for(var e=this._S,t=this._i,n=this._j,r=0,o=0;o<4;o++){n=(n+e[t=(t+1)%256])%256;var i=e[t];e[t]=e[n],e[n]=i,r|=e[(e[t]+e[n])%256]<<24-8*o}return this._i=t,this._j=n,r}e.RC4=t._createHelper(o);var s=n.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)i.call(this)}});e.RC4Drop=t._createHelper(s)}(),r.RC4)},function(e,t,n){var r;e.exports=(r=n(13),n(46),n(47),n(40),n(20),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,o=[],i=[],s=[],a=n.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],o=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)l.call(this);for(n=0;n<8;n++)o[n]^=r[n+4&7];if(t){var i=t.words,s=i[0],a=i[1],c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),d=c>>>16|4294901760&u,f=u<<16|65535&c;for(o[0]^=c,o[1]^=d,o[2]^=u,o[3]^=f,o[4]^=c,o[5]^=d,o[6]^=u,o[7]^=f,n=0;n<4;n++)l.call(this)}},_doProcessBlock:function(e,t){var n=this._X;l.call(this),o[0]=n[0]^n[5]>>>16^n[3]<<16,o[1]=n[2]^n[7]>>>16^n[5]<<16,o[2]=n[4]^n[1]>>>16^n[7]<<16,o[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)o[r]=16711935&(o[r]<<8|o[r]>>>24)|4278255360&(o[r]<<24|o[r]>>>8),e[t+r]^=o[r]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,n=0;n<8;n++)i[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],o=65535&r,a=r>>>16,l=((o*o>>>17)+o*a>>>15)+a*a,c=((4294901760&r)*r|0)+((65535&r)*r|0);s[n]=l^c}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}e.Rabbit=t._createHelper(a)}(),r.Rabbit)},function(e,t,n){var r;e.exports=(r=n(13),n(46),n(47),n(40),n(20),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,o=[],i=[],s=[],a=n.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var o=0;o<4;o++)l.call(this);for(o=0;o<8;o++)r[o]^=n[o+4&7];if(t){var i=t.words,s=i[0],a=i[1],c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),d=c>>>16|4294901760&u,f=u<<16|65535&c;for(r[0]^=c,r[1]^=d,r[2]^=u,r[3]^=f,r[4]^=c,r[5]^=d,r[6]^=u,r[7]^=f,o=0;o<4;o++)l.call(this)}},_doProcessBlock:function(e,t){var n=this._X;l.call(this),o[0]=n[0]^n[5]>>>16^n[3]<<16,o[1]=n[2]^n[7]>>>16^n[5]<<16,o[2]=n[4]^n[1]>>>16^n[7]<<16,o[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)o[r]=16711935&(o[r]<<8|o[r]>>>24)|4278255360&(o[r]<<24|o[r]>>>8),e[t+r]^=o[r]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,n=0;n<8;n++)i[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],o=65535&r,a=r>>>16,l=((o*o>>>17)+o*a>>>15)+a*a,c=((4294901760&r)*r|0)+((65535&r)*r|0);s[n]=l^c}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}e.RabbitLegacy=t._createHelper(a)}(),r.RabbitLegacy)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e){if(this.type=null,this.loginUrl=null,this.logoutUrl=null,this.safetyUrl=null,this.userId=null,e.length>0){let t={};t=1===e.length?e[0]:e.reduce((e,t)=>"RAINBOW"===t.type&&"RAINBOW"!==e.type?(e.safetyUrl=t.url||t.loginUrl,e):(t.safetyUrl=e.url||e.loginUrl,t)),this.type=t.type,this.loginUrl=t.url||t.loginUrl,this.logoutUrl=t.logoutUrl,this.safetyUrl=t.safetyUrl}}static createFromData(e){return new r(e)}setParameter(e,t){switch(e){case"uid":this.userId=t();break;case"x-rainbow-app-auth":if("RAINBOW"!==this.type&&this.loginUrl){const n=new URL(this.loginUrl),r=t(n.searchParams.get("challenge"));n.searchParams.append(e,r),this.loginUrl=n.href}break;case"token":if("RAINBOW"!==this.type&&this.logoutUrl){const n=new URL(this.logoutUrl),r=t();n.searchParams.append(e,r),this.logoutUrl=n.href}break;case"safetyUrl":"RAINBOW"===this.type||this.safetyUrl||(this.safetyUrl=t())}}}t.AuthSettings=r},function(e,t,n){var r=n(305);function o(e){this.message=e}o.prototype=new Error,o.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new o("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(r(e.split(".")[n]))}catch(i){throw new o("Invalid token specified: "+i.message)}},e.exports.InvalidTokenError=o},function(e,t,n){var r=n(306);e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(r(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(n){return r(t)}}},function(e,t){function n(e){this.message=e}n.prototype=new Error,n.prototype.name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,o,i=0,s=0,a="";o=t.charAt(s++);~o&&(r=i%4?64*r+o:o,i++%4)?a+=String.fromCharCode(255&r>>(-2*i&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return a}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t,n=1e4)=>Promise.race([fetch(e,t),new Promise((e,t)=>setTimeout(()=>t(new Error("timeout")),n))])},function(e,t,n){var r;
/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */!function(t,n){"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(n,o){var i=[],s=Object.getPrototypeOf,a=i.slice,l=i.flat?function(e){return i.flat.call(e)}:function(e){return i.concat.apply([],e)},c=i.push,u=i.indexOf,d={},f=d.toString,_=d.hasOwnProperty,h=_.toString,p=h.call(Object),m={},g=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},v=function(e){return null!=e&&e===e.window},b=n.document,D={type:!0,src:!0,nonce:!0,noModule:!0};function y(e,t,n){var r,o,i=(n=n||b).createElement("script");if(i.text=e,t)for(r in D)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&i.setAttribute(r,o);n.head.appendChild(i).parentNode.removeChild(i)}function C(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[f.call(e)]||"object":typeof e}var S=function(e,t){return new S.fn.init(e,t)};function E(e){var t=!!e&&"length"in e&&e.length,n=C(e);return!g(e)&&!v(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}S.fn=S.prototype={jquery:"3.6.0",constructor:S,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(e){return this.pushStack(S.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(S.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:i.sort,splice:i.splice},S.extend=S.fn.extend=function(){var e,t,n,r,o,i,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||g(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)r=e[t],"__proto__"!==t&&s!==r&&(c&&r&&(S.isPlainObject(r)||(o=Array.isArray(r)))?(n=s[t],i=o&&!Array.isArray(n)?[]:o||S.isPlainObject(n)?n:{},o=!1,s[t]=S.extend(c,i,r)):void 0!==r&&(s[t]=r));return s},S.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==f.call(e))&&(!(t=s(e))||"function"==typeof(n=_.call(t,"constructor")&&t.constructor)&&h.call(n)===p)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){y(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(E(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(E(Object(e))?S.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,s=!n;o<i;o++)!t(e[o],o)!==s&&r.push(e[o]);return r},map:function(e,t,n){var r,o,i=0,s=[];if(E(e))for(r=e.length;i<r;i++)null!=(o=t(e[i],i,n))&&s.push(o);else for(i in e)null!=(o=t(e[i],i,n))&&s.push(o);return l(s)},guid:1,support:m}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=i[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){d["[object "+t+"]"]=t.toLowerCase()}));var w=
/*!
 * Sizzle CSS Selector Engine v2.3.6
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2021-02-16
 */
function(e){var t,n,r,o,i,s,a,l,c,u,d,f,_,h,p,m,g,v,b,D="sizzle"+1*new Date,y=e.document,C=0,S=0,E=le(),w=le(),T=le(),M=le(),j=function(e,t){return e===t&&(d=!0),0},k={}.hasOwnProperty,O=[],A=O.pop,I=O.push,P=O.push,x=O.slice,R=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",N="(?:\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",B="\\["+L+"*("+N+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",U=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",H=new RegExp(L+"+","g"),W=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),Y=new RegExp("^"+L+"*,"+L+"*"),$=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),q=new RegExp(L+"|>"),G=new RegExp(U),V=new RegExp("^"+N+"$"),z={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,oe=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){f()},se=De((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{P.apply(O=x.call(y.childNodes),y.childNodes),O[y.childNodes.length].nodeType}catch(we){P={apply:O.length?function(e,t){I.apply(e,x.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ae(e,t,r,o){var i,a,c,u,d,h,g,v=t&&t.ownerDocument,y=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==y&&9!==y&&11!==y)return r;if(!o&&(f(t),t=t||_,p)){if(11!==y&&(d=Z.exec(e)))if(i=d[1]){if(9===y){if(!(c=t.getElementById(i)))return r;if(c.id===i)return r.push(c),r}else if(v&&(c=v.getElementById(i))&&b(t,c)&&c.id===i)return r.push(c),r}else{if(d[2])return P.apply(r,t.getElementsByTagName(e)),r;if((i=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return P.apply(r,t.getElementsByClassName(i)),r}if(n.qsa&&!M[e+" "]&&(!m||!m.test(e))&&(1!==y||"object"!==t.nodeName.toLowerCase())){if(g=e,v=t,1===y&&(q.test(e)||$.test(e))){for((v=ee.test(e)&&ge(t.parentNode)||t)===t&&n.scope||((u=t.getAttribute("id"))?u=u.replace(re,oe):t.setAttribute("id",u=D)),a=(h=s(e)).length;a--;)h[a]=(u?"#"+u:":scope")+" "+be(h[a]);g=h.join(",")}try{return P.apply(r,v.querySelectorAll(g)),r}catch(C){M(e,!0)}finally{u===D&&t.removeAttribute("id")}}}return l(e.replace(W,"$1"),t,r,o)}function le(){var e=[];return function t(n,o){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=o}}function ce(e){return e[D]=!0,e}function ue(e){var t=_.createElement("fieldset");try{return!!e(t)}catch(we){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split("|"),o=n.length;o--;)r.attrHandle[n[o]]=t}function fe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function _e(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&se(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function me(e){return ce((function(t){return t=+t,ce((function(n,r){for(var o,i=e([],n.length,t),s=i.length;s--;)n[o=i[s]]&&(n[o]=!(r[o]=n[o]))}))}))}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ae.support={},i=ae.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!K.test(t||n&&n.nodeName||"HTML")},f=ae.setDocument=function(e){var t,o,s=e?e.ownerDocument||e:y;return s!=_&&9===s.nodeType&&s.documentElement?(h=(_=s).documentElement,p=!i(_),y!=_&&(o=_.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",ie,!1):o.attachEvent&&o.attachEvent("onunload",ie)),n.scope=ue((function(e){return h.appendChild(e).appendChild(_.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=ue((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ue((function(e){return e.appendChild(_.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=X.test(_.getElementsByClassName),n.getById=ue((function(e){return h.appendChild(e).id=D,!_.getElementsByName||!_.getElementsByName(D).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&p){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&p){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&p)return t.getElementsByClassName(e)},g=[],m=[],(n.qsa=X.test(_.querySelectorAll))&&(ue((function(e){var t;h.appendChild(e).innerHTML="<a id='"+D+"'></a><select id='"+D+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+L+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+L+"*(?:value|"+F+")"),e.querySelectorAll("[id~="+D+"-]").length||m.push("~="),(t=_.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||m.push("\\["+L+"*name"+L+"*="+L+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+D+"+*").length||m.push(".#.+[+~]"),e.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")})),ue((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=_.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+L+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")}))),(n.matchesSelector=X.test(v=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ue((function(e){n.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),g.push("!=",U)})),m=m.length&&new RegExp(m.join("|")),g=g.length&&new RegExp(g.join("|")),t=X.test(h.compareDocumentPosition),b=t||X.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return d=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==_||e.ownerDocument==y&&b(y,e)?-1:t==_||t.ownerDocument==y&&b(y,t)?1:u?R(u,e)-R(u,t):0:4&r?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,s=[e],a=[t];if(!o||!i)return e==_?-1:t==_?1:o?-1:i?1:u?R(u,e)-R(u,t):0;if(o===i)return fe(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[r]===a[r];)r++;return r?fe(s[r],a[r]):s[r]==y?-1:a[r]==y?1:0},_):_},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if(f(e),n.matchesSelector&&p&&!M[t+" "]&&(!g||!g.test(t))&&(!m||!m.test(t)))try{var r=v.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(we){M(t,!0)}return ae(t,_,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!=_&&f(e),b(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!=_&&f(e);var o=r.attrHandle[t.toLowerCase()],i=o&&k.call(r.attrHandle,t.toLowerCase())?o(e,t,!p):void 0;return void 0!==i?i:n.attributes||!p?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},ae.escape=function(e){return(e+"").replace(re,oe)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,r=[],o=0,i=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(j),d){for(;t=e[i++];)t===e[i]&&(o=r.push(i));for(;o--;)e.splice(r[o],1)}return u=null,e},o=ae.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(r=ae.selectors={cacheLength:50,createPseudo:ce,match:z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return z.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&G.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+L+")"+e+"("+L+"|$)"))&&E(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var o=ae.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(H," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,f,_,h,p=i!==s?"nextSibling":"previousSibling",m=t.parentNode,g=a&&t.nodeName.toLowerCase(),v=!l&&!a,b=!1;if(m){if(i){for(;p;){for(f=t;f=f[p];)if(a?f.nodeName.toLowerCase()===g:1===f.nodeType)return!1;h=p="only"===e&&!h&&"nextSibling"}return!0}if(h=[s?m.firstChild:m.lastChild],s&&v){for(b=(_=(c=(u=(d=(f=m)[D]||(f[D]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===C&&c[1])&&c[2],f=_&&m.childNodes[_];f=++_&&f&&f[p]||(b=_=0)||h.pop();)if(1===f.nodeType&&++b&&f===t){u[e]=[C,_,b];break}}else if(v&&(b=_=(c=(u=(d=(f=t)[D]||(f[D]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===C&&c[1]),!1===b)for(;(f=++_&&f&&f[p]||(b=_=0)||h.pop())&&((a?f.nodeName.toLowerCase()!==g:1!==f.nodeType)||!++b||(v&&((u=(d=f[D]||(f[D]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]=[C,b]),f!==t)););return(b-=o)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,o=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return o[D]?o(t):o.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,n){for(var r,i=o(e,t),s=i.length;s--;)e[r=R(e,i[s])]=!(n[r]=i[s])})):function(e){return o(e,0,n)}):o}},pseudos:{not:ce((function(e){var t=[],n=[],r=a(e.replace(W,"$1"));return r[D]?ce((function(e,t,n,o){for(var i,s=r(e,null,o,[]),a=e.length;a--;)(i=s[a])&&(e[a]=!(t[a]=i))})):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}})),has:ce((function(e){return function(t){return ae(e,t).length>0}})),contains:ce((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||o(t)).indexOf(e)>-1}})),lang:ce((function(e){return V.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=p?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===_.activeElement&&(!_.hasFocus||_.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:pe(!1),disabled:pe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me((function(){return[0]})),last:me((function(e,t){return[t-1]})),eq:me((function(e,t,n){return[n<0?n+t:n]})),even:me((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:me((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:me((function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:me((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=_e(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=he(t);function ve(){}function be(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function De(e,t,n){var r=t.dir,o=t.next,i=o||r,s=n&&"parentNode"===i,a=S++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||s)return e(t,n,o);return!1}:function(t,n,l){var c,u,d,f=[C,a];if(l){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||s)if(u=(d=t[D]||(t[D]={}))[t.uniqueID]||(d[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=u[i])&&c[0]===C&&c[1]===a)return f[2]=c[2];if(u[i]=f,f[2]=e(t,n,l))return!0}return!1}}function ye(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function Ce(e,t,n,r,o){for(var i,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(i=e[a])&&(n&&!n(i,r,o)||(s.push(i),c&&t.push(a)));return s}function Se(e,t,n,r,o,i){return r&&!r[D]&&(r=Se(r)),o&&!o[D]&&(o=Se(o,i)),ce((function(i,s,a,l){var c,u,d,f=[],_=[],h=s.length,p=i||function(e,t,n){for(var r=0,o=t.length;r<o;r++)ae(e,t[r],n);return n}(t||"*",a.nodeType?[a]:a,[]),m=!e||!i&&t?p:Ce(p,f,e,a,l),g=n?o||(i?e:h||r)?[]:s:m;if(n&&n(m,g,a,l),r)for(c=Ce(g,_),r(c,[],a,l),u=c.length;u--;)(d=c[u])&&(g[_[u]]=!(m[_[u]]=d));if(i){if(o||e){if(o){for(c=[],u=g.length;u--;)(d=g[u])&&c.push(m[u]=d);o(null,g=[],c,l)}for(u=g.length;u--;)(d=g[u])&&(c=o?R(i,d):f[u])>-1&&(i[c]=!(s[c]=d))}}else g=Ce(g===s?g.splice(h,g.length):g),o?o(null,s,g,l):P.apply(s,g)}))}function Ee(e){for(var t,n,o,i=e.length,s=r.relative[e[0].type],a=s||r.relative[" "],l=s?1:0,u=De((function(e){return e===t}),a,!0),d=De((function(e){return R(t,e)>-1}),a,!0),f=[function(e,n,r){var o=!s&&(r||n!==c)||((t=n).nodeType?u(e,n,r):d(e,n,r));return t=null,o}];l<i;l++)if(n=r.relative[e[l].type])f=[De(ye(f),n)];else{if((n=r.filter[e[l].type].apply(null,e[l].matches))[D]){for(o=++l;o<i&&!r.relative[e[o].type];o++);return Se(l>1&&ye(f),l>1&&be(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(W,"$1"),n,l<o&&Ee(e.slice(l,o)),o<i&&Ee(e=e.slice(o)),o<i&&be(e))}f.push(n)}return ye(f)}return ve.prototype=r.filters=r.pseudos,r.setFilters=new ve,s=ae.tokenize=function(e,t){var n,o,i,s,a,l,c,u=w[e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],c=r.preFilter;a;){for(s in n&&!(o=Y.exec(a))||(o&&(a=a.slice(o[0].length)||a),l.push(i=[])),n=!1,(o=$.exec(a))&&(n=o.shift(),i.push({value:n,type:o[0].replace(W," ")}),a=a.slice(n.length)),r.filter)!(o=z[s].exec(a))||c[s]&&!(o=c[s](o))||(n=o.shift(),i.push({value:n,type:s,matches:o}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ae.error(e):w(e,l).slice(0)},a=ae.compile=function(e,t){var n,o=[],i=[],a=T[e+" "];if(!a){for(t||(t=s(e)),n=t.length;n--;)(a=Ee(t[n]))[D]?o.push(a):i.push(a);(a=T(e,function(e,t){var n=t.length>0,o=e.length>0,i=function(i,s,a,l,u){var d,h,m,g=0,v="0",b=i&&[],D=[],y=c,S=i||o&&r.find.TAG("*",u),E=C+=null==y?1:Math.random()||.1,w=S.length;for(u&&(c=s==_||s||u);v!==w&&null!=(d=S[v]);v++){if(o&&d){for(h=0,s||d.ownerDocument==_||(f(d),a=!p);m=e[h++];)if(m(d,s||_,a)){l.push(d);break}u&&(C=E)}n&&((d=!m&&d)&&g--,i&&b.push(d))}if(g+=v,n&&v!==g){for(h=0;m=t[h++];)m(b,D,s,a);if(i){if(g>0)for(;v--;)b[v]||D[v]||(D[v]=A.call(l));D=Ce(D)}P.apply(l,D),u&&!i&&D.length>0&&g+t.length>1&&ae.uniqueSort(l)}return u&&(C=E,c=y),b};return n?ce(i):i}(i,o))).selector=e}return a},l=ae.select=function(e,t,n,o){var i,l,c,u,d,f="function"==typeof e&&e,_=!o&&s(e=f.selector||e);if(n=n||[],1===_.length){if((l=_[0]=_[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&p&&r.relative[l[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(i=z.needsContext.test(e)?0:l.length;i--&&(c=l[i],!r.relative[u=c.type]);)if((d=r.find[u])&&(o=d(c.matches[0].replace(te,ne),ee.test(l[0].type)&&ge(t.parentNode)||t))){if(l.splice(i,1),!(e=o.length&&be(l)))return P.apply(n,o),n;break}}return(f||a(e,_))(o,t,!p,n,!t||ee.test(e)&&ge(t.parentNode)||t),n},n.sortStable=D.split("").sort(j).join("")===D,n.detectDuplicates=!!d,f(),n.sortDetached=ue((function(e){return 1&e.compareDocumentPosition(_.createElement("fieldset"))})),ue((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||de("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ue((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||de("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ue((function(e){return null==e.getAttribute("disabled")}))||de(F,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),ae}(n);S.find=w,S.expr=w.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=w.uniqueSort,S.text=w.getText,S.isXMLDoc=w.isXML,S.contains=w.contains,S.escapeSelector=w.escape;var T=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&S(e).is(n))break;r.push(e)}return r},M=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},j=S.expr.match.needsContext;function k(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var O=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function A(e,t,n){return g(t)?S.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?S.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?S.grep(e,(function(e){return u.call(t,e)>-1!==n})):S.filter(t,e,n)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,(function(e){return 1===e.nodeType})))},S.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(S(e).filter((function(){for(t=0;t<r;t++)if(S.contains(o[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,o[t],n);return r>1?S.uniqueSort(n):n},filter:function(e){return this.pushStack(A(this,e||[],!1))},not:function(e){return this.pushStack(A(this,e||[],!0))},is:function(e){return!!A(this,"string"==typeof e&&j.test(e)?S(e):e||[],!1).length}});var I,P=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||I,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:P.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:b,!0)),O.test(r[1])&&S.isPlainObject(t))for(r in t)g(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=b.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,I=S(b);var x=/^(?:parents|prev(?:Until|All))/,R={children:!0,contents:!0,next:!0,prev:!0};function F(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,o=this.length,i=[],s="string"!=typeof e&&S(e);if(!j.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&S.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?S.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?u.call(S(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return T(e,"parentNode")},parentsUntil:function(e,t,n){return T(e,"parentNode",n)},next:function(e){return F(e,"nextSibling")},prev:function(e){return F(e,"previousSibling")},nextAll:function(e){return T(e,"nextSibling")},prevAll:function(e){return T(e,"previousSibling")},nextUntil:function(e,t,n){return T(e,"nextSibling",n)},prevUntil:function(e,t,n){return T(e,"previousSibling",n)},siblings:function(e){return M((e.parentNode||{}).firstChild,e)},children:function(e){return M(e.firstChild)},contents:function(e){return null!=e.contentDocument&&s(e.contentDocument)?e.contentDocument:(k(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},(function(e,t){S.fn[e]=function(n,r){var o=S.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=S.filter(r,o)),this.length>1&&(R[e]||S.uniqueSort(o),x.test(e)&&o.reverse()),this.pushStack(o)}}));var L=/[^\x20\t\r\n\f]+/g;function N(e){return e}function B(e){throw e}function U(e,t,n,r){var o;try{e&&g(o=e.promise)?o.call(e).done(t).fail(n):e&&g(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return S.each(e.match(L)||[],(function(e,n){t[n]=!0})),t}(e):S.extend({},e);var t,n,r,o,i=[],s=[],a=-1,l=function(){for(o=o||e.once,r=t=!0;s.length;a=-1)for(n=s.shift();++a<i.length;)!1===i[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},c={add:function(){return i&&(n&&!t&&(a=i.length-1,s.push(n)),function t(n){S.each(n,(function(n,r){g(r)?e.unique&&c.has(r)||i.push(r):r&&r.length&&"string"!==C(r)&&t(r)}))}(arguments),n&&!t&&l()),this},remove:function(){return S.each(arguments,(function(e,t){for(var n;(n=S.inArray(t,i,n))>-1;)i.splice(n,1),n<=a&&a--})),this},has:function(e){return e?S.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=s=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=s=[],n||t||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},S.extend({Deferred:function(e){var t=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return S.Deferred((function(n){S.each(t,(function(t,r){var o=g(e[r[4]])&&e[r[4]];i[r[1]]((function(){var e=o&&o.apply(this,arguments);e&&g(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,o?[e]:arguments)}))})),e=null})).promise()},then:function(e,r,o){var i=0;function s(e,t,r,o){return function(){var a=this,l=arguments,c=function(){var n,c;if(!(e<i)){if((n=r.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,g(c)?o?c.call(n,s(i,t,N,o),s(i,t,B,o)):(i++,c.call(n,s(i,t,N,o),s(i,t,B,o),s(i,t,N,t.notifyWith))):(r!==N&&(a=void 0,l=[n]),(o||t.resolveWith)(a,l))}},u=o?c:function(){try{c()}catch(n){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(n,u.stackTrace),e+1>=i&&(r!==B&&(a=void 0,l=[n]),t.rejectWith(a,l))}};e?u():(S.Deferred.getStackHook&&(u.stackTrace=S.Deferred.getStackHook()),n.setTimeout(u))}}return S.Deferred((function(n){t[0][3].add(s(0,n,g(o)?o:N,n.notifyWith)),t[1][3].add(s(0,n,g(e)?e:N)),t[2][3].add(s(0,n,g(r)?r:B))})).promise()},promise:function(e){return null!=e?S.extend(e,o):o}},i={};return S.each(t,(function(e,n){var s=n[2],a=n[5];o[n[1]]=s.add,a&&s.add((function(){r=a}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(n[3].fire),i[n[0]]=function(){return i[n[0]+"With"](this===i?void 0:this,arguments),this},i[n[0]+"With"]=s.fireWith})),o.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),o=a.call(arguments),i=S.Deferred(),s=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?a.call(arguments):n,--t||i.resolveWith(r,o)}};if(t<=1&&(U(e,i.done(s(n)).resolve,i.reject,!t),"pending"===i.state()||g(o[n]&&o[n].then)))return i.then();for(;n--;)U(o[n],s(n),i.reject);return i.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&H.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){n.setTimeout((function(){throw e}))};var W=S.Deferred();function Y(){b.removeEventListener("DOMContentLoaded",Y),n.removeEventListener("load",Y),S.ready()}S.fn.ready=function(e){return W.then(e).catch((function(e){S.readyException(e)})),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0,!0!==e&&--S.readyWait>0||W.resolveWith(b,[S]))}}),S.ready.then=W.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?n.setTimeout(S.ready):(b.addEventListener("DOMContentLoaded",Y),n.addEventListener("load",Y));var $=function(e,t,n,r,o,i,s){var a=0,l=e.length,c=null==n;if("object"===C(n))for(a in o=!0,n)$(e,t,a,n[a],!0,i,s);else if(void 0!==r&&(o=!0,g(r)||(s=!0),c&&(s?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(S(e),n)})),t))for(;a<l;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return o?e:c?t.call(e):l?t(e[0],n):i},q=/^-ms-/,G=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function z(e){return e.replace(q,"ms-").replace(G,V)}var K=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function J(){this.expando=S.expando+J.uid++}J.uid=1,J.prototype={cache:function(e){var t=e[this.expando];return t||(t={},K(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[z(t)]=n;else for(r in t)o[z(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][z(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(z):(t=z(t))in r?[t]:t.match(L)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Q=new J,X=new J,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ee=/[A-Z]/g;function te(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ee,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Z.test(e)?JSON.parse(e):e)}(n)}catch(o){}X.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return X.hasData(e)||Q.hasData(e)},data:function(e,t,n){return X.access(e,t,n)},removeData:function(e,t){X.remove(e,t)},_data:function(e,t,n){return Q.access(e,t,n)},_removeData:function(e,t){Q.remove(e,t)}}),S.fn.extend({data:function(e,t){var n,r,o,i=this[0],s=i&&i.attributes;if(void 0===e){if(this.length&&(o=X.get(i),1===i.nodeType&&!Q.get(i,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=z(r.slice(5)),te(i,r,o[r]));Q.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each((function(){X.set(this,e)})):$(this,(function(t){var n;if(i&&void 0===t)return void 0!==(n=X.get(i,e))||void 0!==(n=te(i,e))?n:void 0;this.each((function(){X.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){X.remove(this,e)}))}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Q.get(e,t),n&&(!r||Array.isArray(n)?r=Q.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,o=n.shift(),i=S._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,(function(){S.dequeue(e,t)}),i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q.get(e,n)||Q.access(e,n,{empty:S.Callbacks("once memory").add((function(){Q.remove(e,[t+"queue",n])}))})}}),S.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?S.queue(this[0],e):void 0===t?this:this.each((function(){var n=S.queue(this,e,t);S._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&S.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){S.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=S.Deferred(),i=this,s=this.length,a=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=Q.get(i[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),o.promise(t)}});var ne=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,re=new RegExp("^(?:([+-])=|)("+ne+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],ie=b.documentElement,se=function(e){return S.contains(e.ownerDocument,e)},ae={composed:!0};ie.getRootNode&&(se=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(ae)===e.ownerDocument});var le=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&se(e)&&"none"===S.css(e,"display")};function ce(e,t,n,r){var o,i,s=20,a=r?function(){return r.cur()}:function(){return S.css(e,t,"")},l=a(),c=n&&n[3]||(S.cssNumber[t]?"":"px"),u=e.nodeType&&(S.cssNumber[t]||"px"!==c&&+l)&&re.exec(S.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;s--;)S.style(e,t,u+c),(1-i)*(1-(i=a()/l||.5))<=0&&(s=0),u/=i;u*=2,S.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=o)),o}var ue={};function de(e){var t,n=e.ownerDocument,r=e.nodeName,o=ue[r];return o||(t=n.body.appendChild(n.createElement(r)),o=S.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),ue[r]=o,o)}function fe(e,t){for(var n,r,o=[],i=0,s=e.length;i<s;i++)(r=e[i]).style&&(n=r.style.display,t?("none"===n&&(o[i]=Q.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&le(r)&&(o[i]=de(r))):"none"!==n&&(o[i]="none",Q.set(r,"display",n)));for(i=0;i<s;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}S.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){le(this)?S(this).show():S(this).hide()}))}});var _e,he,pe=/^(?:checkbox|radio)$/i,me=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ge=/^$|^module$|\/(?:java|ecma)script/i;_e=b.createDocumentFragment().appendChild(b.createElement("div")),(he=b.createElement("input")).setAttribute("type","radio"),he.setAttribute("checked","checked"),he.setAttribute("name","t"),_e.appendChild(he),m.checkClone=_e.cloneNode(!0).cloneNode(!0).lastChild.checked,_e.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!_e.cloneNode(!0).lastChild.defaultValue,_e.innerHTML="<option></option>",m.option=!!_e.lastChild;var ve={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function be(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&k(e,t)?S.merge([e],n):n}function De(e,t){for(var n=0,r=e.length;n<r;n++)Q.set(e[n],"globalEval",!t||Q.get(t[n],"globalEval"))}ve.tbody=ve.tfoot=ve.colgroup=ve.caption=ve.thead,ve.th=ve.td,m.option||(ve.optgroup=ve.option=[1,"<select multiple='multiple'>","</select>"]);var ye=/<|&#?\w+;/;function Ce(e,t,n,r,o){for(var i,s,a,l,c,u,d=t.createDocumentFragment(),f=[],_=0,h=e.length;_<h;_++)if((i=e[_])||0===i)if("object"===C(i))S.merge(f,i.nodeType?[i]:i);else if(ye.test(i)){for(s=s||d.appendChild(t.createElement("div")),a=(me.exec(i)||["",""])[1].toLowerCase(),l=ve[a]||ve._default,s.innerHTML=l[1]+S.htmlPrefilter(i)+l[2],u=l[0];u--;)s=s.lastChild;S.merge(f,s.childNodes),(s=d.firstChild).textContent=""}else f.push(t.createTextNode(i));for(d.textContent="",_=0;i=f[_++];)if(r&&S.inArray(i,r)>-1)o&&o.push(i);else if(c=se(i),s=be(d.appendChild(i),"script"),c&&De(s),n)for(u=0;i=s[u++];)ge.test(i.type||"")&&n.push(i);return d}var Se=/^([^.]*)(?:\.(.+)|)/;function Ee(){return!0}function we(){return!1}function Te(e,t){return e===function(){try{return b.activeElement}catch(e){}}()==("focus"===t)}function Me(e,t,n,r,o,i){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(r=r||n,n=void 0),t)Me(e,a,n,r,t[a],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=we;else if(!o)return e;return 1===i&&(s=o,(o=function(e){return S().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=S.guid++)),e.each((function(){S.event.add(this,t,o,r,n)}))}function je(e,t,n){n?(Q.set(e,t,!1),S.event.add(e,t,{namespace:!1,handler:function(e){var r,o,i=Q.get(this,t);if(1&e.isTrigger&&this[t]){if(i.length)(S.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=a.call(arguments),Q.set(this,t,i),r=n(this,t),this[t](),i!==(o=Q.get(this,t))||r?Q.set(this,t,!1):o={},i!==o)return e.stopImmediatePropagation(),e.preventDefault(),o&&o.value}else i.length&&(Q.set(this,t,{value:S.event.trigger(S.extend(i[0],S.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Q.get(e,t)&&S.event.add(e,t,Ee)}S.event={global:{},add:function(e,t,n,r,o){var i,s,a,l,c,u,d,f,_,h,p,m=Q.get(e);if(K(e))for(n.handler&&(n=(i=n).handler,o=i.selector),o&&S.find.matchesSelector(ie,o),n.guid||(n.guid=S.guid++),(l=m.events)||(l=m.events=Object.create(null)),(s=m.handle)||(s=m.handle=function(t){return void 0!==S&&S.event.triggered!==t.type?S.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(L)||[""]).length;c--;)_=p=(a=Se.exec(t[c])||[])[1],h=(a[2]||"").split(".").sort(),_&&(d=S.event.special[_]||{},_=(o?d.delegateType:d.bindType)||_,d=S.event.special[_]||{},u=S.extend({type:_,origType:p,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&S.expr.match.needsContext.test(o),namespace:h.join(".")},i),(f=l[_])||((f=l[_]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,r,h,s)||e.addEventListener&&e.addEventListener(_,s)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),o?f.splice(f.delegateCount++,0,u):f.push(u),S.event.global[_]=!0)},remove:function(e,t,n,r,o){var i,s,a,l,c,u,d,f,_,h,p,m=Q.hasData(e)&&Q.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(L)||[""]).length;c--;)if(_=p=(a=Se.exec(t[c])||[])[1],h=(a[2]||"").split(".").sort(),_){for(d=S.event.special[_]||{},f=l[_=(r?d.delegateType:d.bindType)||_]||[],a=a[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=i=f.length;i--;)u=f[i],!o&&p!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(f.splice(i,1),u.selector&&f.delegateCount--,d.remove&&d.remove.call(e,u));s&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,h,m.handle)||S.removeEvent(e,_,m.handle),delete l[_])}else for(_ in l)S.event.remove(e,_+t[c],n,r,!0);S.isEmptyObject(l)&&Q.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,i,s,a=new Array(arguments.length),l=S.event.fix(e),c=(Q.get(this,"events")||Object.create(null))[l.type]||[],u=S.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(s=S.event.handlers.call(this,l,c),t=0;(o=s[t++])&&!l.isPropagationStopped();)for(l.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==i.namespace&&!l.rnamespace.test(i.namespace)||(l.handleObj=i,l.data=i.data,void 0!==(r=((S.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,a))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,o,i,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(i=[],s={},n=0;n<l;n++)void 0===s[o=(r=t[n]).selector+" "]&&(s[o]=r.needsContext?S(o,this).index(c)>-1:S.find(o,this,null,[c]).length),s[o]&&i.push(r);i.length&&a.push({elem:c,handlers:i})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(S.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&k(t,"input")&&je(t,"click",Ee),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&k(t,"input")&&je(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&k(t,"input")&&Q.get(t,"click")||k(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ee:we,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:we,isPropagationStopped:we,isImmediatePropagationStopped:we,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ee,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ee,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ee,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},(function(e,t){S.event.special[e]={setup:function(){return je(this,e,Te),!1},trigger:function(){return je(this,e),!0},_default:function(){return!0},delegateType:t}})),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){S.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return o&&(o===r||S.contains(r,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),S.fn.extend({on:function(e,t,n,r){return Me(this,e,t,n,r)},one:function(e,t,n,r){return Me(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=we),this.each((function(){S.event.remove(this,e,n,t)}))}});var ke=/<script|<style|<link/i,Oe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ie(e,t){return k(e,"table")&&k(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function Pe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function xe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Re(e,t){var n,r,o,i,s,a;if(1===t.nodeType){if(Q.hasData(e)&&(a=Q.get(e).events))for(o in Q.remove(t,"handle events"),a)for(n=0,r=a[o].length;n<r;n++)S.event.add(t,o,a[o][n]);X.hasData(e)&&(i=X.access(e),s=S.extend({},i),X.set(t,s))}}function Fe(e,t){var n=t.nodeName.toLowerCase();"input"===n&&pe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Le(e,t,n,r){t=l(t);var o,i,s,a,c,u,d=0,f=e.length,_=f-1,h=t[0],p=g(h);if(p||f>1&&"string"==typeof h&&!m.checkClone&&Oe.test(h))return e.each((function(o){var i=e.eq(o);p&&(t[0]=h.call(this,o,i.html())),Le(i,t,n,r)}));if(f&&(i=(o=Ce(t,e[0].ownerDocument,!1,e,r)).firstChild,1===o.childNodes.length&&(o=i),i||r)){for(a=(s=S.map(be(o,"script"),Pe)).length;d<f;d++)c=o,d!==_&&(c=S.clone(c,!0,!0),a&&S.merge(s,be(c,"script"))),n.call(e[d],c,d);if(a)for(u=s[s.length-1].ownerDocument,S.map(s,xe),d=0;d<a;d++)c=s[d],ge.test(c.type||"")&&!Q.access(c,"globalEval")&&S.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?S._evalUrl&&!c.noModule&&S._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):y(c.textContent.replace(Ae,""),c,u))}return e}function Ne(e,t,n){for(var r,o=t?S.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||S.cleanData(be(r)),r.parentNode&&(n&&se(r)&&De(be(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,o,i,s,a=e.cloneNode(!0),l=se(e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(s=be(a),r=0,o=(i=be(e)).length;r<o;r++)Fe(i[r],s[r]);if(t)if(n)for(i=i||be(e),s=s||be(a),r=0,o=i.length;r<o;r++)Re(i[r],s[r]);else Re(e,a);return(s=be(a,"script")).length>0&&De(s,!l&&be(e,"script")),a},cleanData:function(e){for(var t,n,r,o=S.event.special,i=0;void 0!==(n=e[i]);i++)if(K(n)){if(t=n[Q.expando]){if(t.events)for(r in t.events)o[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Q.expando]=void 0}n[X.expando]&&(n[X.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Ne(this,e,!0)},remove:function(e){return Ne(this,e)},text:function(e){return $(this,(function(e){return void 0===e?S.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Le(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ie(this,e).appendChild(e)}))},prepend:function(){return Le(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ie(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Le(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Le(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(be(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return S.clone(this,e,t)}))},html:function(e){return $(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!ve[(me.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(be(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Le(this,arguments,(function(t){var n=this.parentNode;S.inArray(this,e)<0&&(S.cleanData(be(this)),n&&n.replaceChild(t,this))}),e)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){S.fn[e]=function(e){for(var n,r=[],o=S(e),i=o.length-1,s=0;s<=i;s++)n=s===i?this:this.clone(!0),S(o[s])[t](n),c.apply(r,n.get());return this.pushStack(r)}}));var Be=new RegExp("^("+ne+")(?!px)[a-z%]+$","i"),Ue=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},He=function(e,t,n){var r,o,i={};for(o in t)i[o]=e.style[o],e.style[o]=t[o];for(o in r=n.call(e),t)e.style[o]=i[o];return r},We=new RegExp(oe.join("|"),"i");function Ye(e,t,n){var r,o,i,s,a=e.style;return(n=n||Ue(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||se(e)||(s=S.style(e,t)),!m.pixelBoxStyles()&&Be.test(s)&&We.test(t)&&(r=a.width,o=a.minWidth,i=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=o,a.maxWidth=i)),void 0!==s?s+"":s}function $e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(c).appendChild(u);var e=n.getComputedStyle(u);r="1%"!==e.top,l=12===t(e.marginLeft),u.style.right="60%",s=36===t(e.right),o=36===t(e.width),u.style.position="absolute",i=12===t(u.offsetWidth/3),ie.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var r,o,i,s,a,l,c=b.createElement("div"),u=b.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===u.style.backgroundClip,S.extend(m,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,r,o;return null==a&&(e=b.createElement("table"),t=b.createElement("tr"),r=b.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",r.style.height="9px",r.style.display="block",ie.appendChild(e).appendChild(t).appendChild(r),o=n.getComputedStyle(t),a=parseInt(o.height,10)+parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10)===t.offsetHeight,ie.removeChild(e)),a}}))}();var qe=["Webkit","Moz","ms"],Ge=b.createElement("div").style,Ve={};function ze(e){var t=S.cssProps[e]||Ve[e];return t||(e in Ge?e:Ve[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=qe.length;n--;)if((e=qe[n]+t)in Ge)return e}(e)||e)}var Ke=/^(none|table(?!-c[ea]).+)/,Je=/^--/,Qe={position:"absolute",visibility:"hidden",display:"block"},Xe={letterSpacing:"0",fontWeight:"400"};function Ze(e,t,n){var r=re.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function et(e,t,n,r,o,i){var s="width"===t?1:0,a=0,l=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=S.css(e,n+oe[s],!0,o)),r?("content"===n&&(l-=S.css(e,"padding"+oe[s],!0,o)),"margin"!==n&&(l-=S.css(e,"border"+oe[s]+"Width",!0,o))):(l+=S.css(e,"padding"+oe[s],!0,o),"padding"!==n?l+=S.css(e,"border"+oe[s]+"Width",!0,o):a+=S.css(e,"border"+oe[s]+"Width",!0,o));return!r&&i>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-l-a-.5))||0),l}function tt(e,t,n){var r=Ue(e),o=(!m.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),i=o,s=Ye(e,t,r),a="offset"+t[0].toUpperCase()+t.slice(1);if(Be.test(s)){if(!n)return s;s="auto"}return(!m.boxSizingReliable()&&o||!m.reliableTrDimensions()&&k(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(o="border-box"===S.css(e,"boxSizing",!1,r),(i=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+et(e,t,n||(o?"border":"content"),i,r,s)+"px"}function nt(e,t,n,r,o){return new nt.prototype.init(e,t,n,r,o)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ye(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,s,a=z(t),l=Je.test(t),c=e.style;if(l||(t=ze(a)),s=S.cssHooks[t]||S.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(o=s.get(e,!1,r))?o:c[t];"string"===(i=typeof n)&&(o=re.exec(n))&&o[1]&&(n=ce(e,t,o),i="number"),null!=n&&n==n&&("number"!==i||l||(n+=o&&o[3]||(S.cssNumber[a]?"":"px")),m.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var o,i,s,a=z(t);return Je.test(t)||(t=ze(a)),(s=S.cssHooks[t]||S.cssHooks[a])&&"get"in s&&(o=s.get(e,!0,n)),void 0===o&&(o=Ye(e,t,r)),"normal"===o&&t in Xe&&(o=Xe[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),S.each(["height","width"],(function(e,t){S.cssHooks[t]={get:function(e,n,r){if(n)return!Ke.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?tt(e,t,r):He(e,Qe,(function(){return tt(e,t,r)}))},set:function(e,n,r){var o,i=Ue(e),s=!m.scrollboxSize()&&"absolute"===i.position,a=(s||r)&&"border-box"===S.css(e,"boxSizing",!1,i),l=r?et(e,t,r,a,i):0;return a&&s&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-et(e,t,"border",!1,i)-.5)),l&&(o=re.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=S.css(e,t)),Ze(0,n,l)}}})),S.cssHooks.marginLeft=$e(m.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ye(e,"marginLeft"))||e.getBoundingClientRect().left-He(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),S.each({margin:"",padding:"",border:"Width"},(function(e,t){S.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+oe[r]+t]=i[r]||i[r-2]||i[0];return o}},"margin"!==e&&(S.cssHooks[e+t].set=Ze)})),S.fn.extend({css:function(e,t){return $(this,(function(e,t,n){var r,o,i={},s=0;if(Array.isArray(t)){for(r=Ue(e),o=t.length;s<o;s++)i[t[s]]=S.css(e,t[s],!1,r);return i}return void 0!==n?S.style(e,t,n):S.css(e,t)}),e,t,arguments.length>1)}}),S.Tween=nt,nt.prototype={constructor:nt,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(S.cssNumber[n]?"":"px")},cur:function(){var e=nt.propHooks[this.prop];return e&&e.get?e.get(this):nt.propHooks._default.get(this)},run:function(e){var t,n=nt.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):nt.propHooks._default.set(this),this}},nt.prototype.init.prototype=nt.prototype,nt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[ze(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}},nt.propHooks.scrollTop=nt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=nt.prototype.init,S.fx.step={};var rt,ot,it=/^(?:toggle|show|hide)$/,st=/queueHooks$/;function at(){ot&&(!1===b.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(at):n.setTimeout(at,S.fx.interval),S.fx.tick())}function lt(){return n.setTimeout((function(){rt=void 0})),rt=Date.now()}function ct(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=oe[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function ut(e,t,n){for(var r,o=(dt.tweeners[t]||[]).concat(dt.tweeners["*"]),i=0,s=o.length;i<s;i++)if(r=o[i].call(n,t,e))return r}function dt(e,t,n){var r,o,i=0,s=dt.prefilters.length,a=S.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var t=rt||lt(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),i=0,s=c.tweens.length;i<s;i++)c.tweens[i].run(r);return a.notifyWith(e,[c,r,n]),r<1&&s?n:(s||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:S.extend({},t),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},n),originalProperties:t,originalOptions:n,startTime:rt||lt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=S.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,r,o,i,s;for(n in e)if(o=t[r=z(n)],i=e[n],Array.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(s=S.cssHooks[r])&&"expand"in s)for(n in i=s.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=o);else t[r]=o}(u,c.opts.specialEasing);i<s;i++)if(r=dt.prefilters[i].call(c,e,u,c.opts))return g(r.stop)&&(S._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return S.map(u,ut,c),g(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),S.fx.timer(S.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}S.Animation=S.extend(dt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ce(n.elem,e,re.exec(t),n),n}]},tweener:function(e,t){g(e)?(t=e,e=["*"]):e=e.match(L);for(var n,r=0,o=e.length;r<o;r++)n=e[r],dt.tweeners[n]=dt.tweeners[n]||[],dt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,o,i,s,a,l,c,u,d="width"in t||"height"in t,f=this,_={},h=e.style,p=e.nodeType&&le(e),m=Q.get(e,"fxshow");for(r in n.queue||(null==(s=S._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always((function(){f.always((function(){s.unqueued--,S.queue(e,"fx").length||s.empty.fire()}))}))),t)if(o=t[r],it.test(o)){if(delete t[r],i=i||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!m||void 0===m[r])continue;p=!0}_[r]=m&&m[r]||S.style(e,r)}if((l=!S.isEmptyObject(t))||!S.isEmptyObject(_))for(r in d&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(c=m&&m.display)&&(c=Q.get(e,"display")),"none"===(u=S.css(e,"display"))&&(c?u=c:(fe([e],!0),c=e.style.display||c,u=S.css(e,"display"),fe([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===S.css(e,"float")&&(l||(f.done((function(){h.display=c})),null==c&&(u=h.display,c="none"===u?"":u)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",f.always((function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}))),l=!1,_)l||(m?"hidden"in m&&(p=m.hidden):m=Q.access(e,"fxshow",{display:c}),i&&(m.hidden=!p),p&&fe([e],!0),f.done((function(){for(r in p||fe([e]),Q.remove(e,"fxshow"),_)S.style(e,r,_[r])}))),l=ut(p?m[r]:0,r,f),r in m||(m[r]=l.start,p&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?dt.prefilters.unshift(e):dt.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||g(e)&&e,duration:e,easing:n&&t||t&&!g(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){g(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(le).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=S.isEmptyObject(e),i=S.speed(t,n,r),s=function(){var t=dt(this,S.extend({},e),i);(o||Q.get(this,"finish"))&&t.stop(!0)};return s.finish=s,o||!1===i.queue?this.each(s):this.queue(i.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,o=null!=e&&e+"queueHooks",i=S.timers,s=Q.get(this);if(o)s[o]&&s[o].stop&&r(s[o]);else for(o in s)s[o]&&s[o].stop&&st.test(o)&&r(s[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||S.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=Q.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=S.timers,s=r?r.length:0;for(n.finish=!0,S.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),S.each(["toggle","show","hide"],(function(e,t){var n=S.fn[t];S.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ct(t,!0),e,r,o)}})),S.each({slideDown:ct("show"),slideUp:ct("hide"),slideToggle:ct("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){S.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(rt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),rt=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){ot||(ot=!0,at())},S.fx.stop=function(){ot=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(e,t){return e=S.fx&&S.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,r){var o=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(o)}}))},function(){var e=b.createElement("input"),t=b.createElement("select").appendChild(b.createElement("option"));e.type="checkbox",m.checkOn=""!==e.value,m.optSelected=t.selected,(e=b.createElement("input")).value="t",e.type="radio",m.radioValue="t"===e.value}();var ft,_t=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return $(this,S.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){S.removeAttr(this,e)}))}}),S.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?S.prop(e,t,n):(1===i&&S.isXMLDoc(e)||(o=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?ft:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&k(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(L);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),ft={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=_t[t]||S.find.attr;_t[t]=function(e,t,r){var o,i,s=t.toLowerCase();return r||(i=_t[s],_t[s]=o,o=null!=n(e,t,r)?s:null,_t[s]=i),o}}));var ht=/^(?:input|select|textarea|button)$/i,pt=/^(?:a|area)$/i;function mt(e){return(e.match(L)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(L)||[]}S.fn.extend({prop:function(e,t){return $(this,S.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[S.propFix[e]||e]}))}}),S.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&S.isXMLDoc(e)||(t=S.propFix[t]||t,o=S.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||pt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){S.propFix[this.toLowerCase()]=this})),S.fn.extend({addClass:function(e){var t,n,r,o,i,s,a,l=0;if(g(e))return this.each((function(t){S(this).addClass(e.call(this,t,gt(this)))}));if((t=vt(e)).length)for(;n=this[l++];)if(o=gt(n),r=1===n.nodeType&&" "+mt(o)+" "){for(s=0;i=t[s++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o!==(a=mt(r))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,r,o,i,s,a,l=0;if(g(e))return this.each((function(t){S(this).removeClass(e.call(this,t,gt(this)))}));if(!arguments.length)return this.attr("class","");if((t=vt(e)).length)for(;n=this[l++];)if(o=gt(n),r=1===n.nodeType&&" "+mt(o)+" "){for(s=0;i=t[s++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");o!==(a=mt(r))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):g(e)?this.each((function(n){S(this).toggleClass(e.call(this,n,gt(this),t),t)})):this.each((function(){var t,o,i,s;if(r)for(o=0,i=S(this),s=vt(e);t=s[o++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=gt(this))&&Q.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Q.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+mt(gt(n))+" ").indexOf(t)>-1)return!0;return!1}});var bt=/\r/g;S.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=g(e),this.each((function(n){var o;1===this.nodeType&&(null==(o=r?e.call(this,n,S(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=S.map(o,(function(e){return null==e?"":e+""}))),(t=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=S.valHooks[o.type]||S.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(bt,""):null==n?"":n:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:mt(S.text(e))}},select:{get:function(e){var t,n,r,o=e.options,i=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?i+1:o.length;for(r=i<0?l:s?i:0;r<l;r++)if(((n=o[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!k(n.parentNode,"optgroup"))){if(t=S(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,r,o=e.options,i=S.makeArray(t),s=o.length;s--;)((r=o[s]).selected=S.inArray(S.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),S.each(["radio","checkbox"],(function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=S.inArray(S(e).val(),t)>-1}},m.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),m.focusin="onfocusin"in n;var Dt=/^(?:focusinfocus|focusoutblur)$/,yt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,r,o){var i,s,a,l,c,u,d,f,h=[r||b],p=_.call(e,"type")?e.type:e,m=_.call(e,"namespace")?e.namespace.split("."):[];if(s=f=a=r=r||b,3!==r.nodeType&&8!==r.nodeType&&!Dt.test(p+S.event.triggered)&&(p.indexOf(".")>-1&&(m=p.split("."),p=m.shift(),m.sort()),c=p.indexOf(":")<0&&"on"+p,(e=e[S.expando]?e:new S.Event(p,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:S.makeArray(t,[e]),d=S.event.special[p]||{},o||!d.trigger||!1!==d.trigger.apply(r,t))){if(!o&&!d.noBubble&&!v(r)){for(l=d.delegateType||p,Dt.test(l+p)||(s=s.parentNode);s;s=s.parentNode)h.push(s),a=s;a===(r.ownerDocument||b)&&h.push(a.defaultView||a.parentWindow||n)}for(i=0;(s=h[i++])&&!e.isPropagationStopped();)f=s,e.type=i>1?l:d.bindType||p,(u=(Q.get(s,"events")||Object.create(null))[e.type]&&Q.get(s,"handle"))&&u.apply(s,t),(u=c&&s[c])&&u.apply&&K(s)&&(e.result=u.apply(s,t),!1===e.result&&e.preventDefault());return e.type=p,o||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(h.pop(),t)||!K(r)||c&&g(r[p])&&!v(r)&&((a=r[c])&&(r[c]=null),S.event.triggered=p,e.isPropagationStopped()&&f.addEventListener(p,yt),r[p](),e.isPropagationStopped()&&f.removeEventListener(p,yt),S.event.triggered=void 0,a&&(r[c]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each((function(){S.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),m.focusin||S.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){S.event.simulate(t,e.target,S.event.fix(e))};S.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,o=Q.access(r,t);o||r.addEventListener(e,n,!0),Q.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,o=Q.access(r,t)-1;o?Q.access(r,t,o):(r.removeEventListener(e,n,!0),Q.remove(r,t))}}}));var Ct=n.location,St={guid:Date.now()},Et=/\?/;S.parseXML=function(e){var t,r;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(o){}return r=t&&t.getElementsByTagName("parsererror")[0],t&&!r||S.error("Invalid XML: "+(r?S.map(r.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var wt=/\[\]$/,Tt=/\r?\n/g,Mt=/^(?:submit|button|image|reset|file)$/i,jt=/^(?:input|select|textarea|keygen)/i;function kt(e,t,n,r){var o;if(Array.isArray(t))S.each(t,(function(t,o){n||wt.test(e)?r(e,o):kt(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)}));else if(n||"object"!==C(t))r(e,t);else for(o in t)kt(e+"["+o+"]",t[o],n,r)}S.param=function(e,t){var n,r=[],o=function(e,t){var n=g(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,(function(){o(this.name,this.value)}));else for(n in e)kt(n,e[n],t,o);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&jt.test(this.nodeName)&&!Mt.test(e)&&(this.checked||!pe.test(e))})).map((function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,(function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}})):{name:t.name,value:n.replace(Tt,"\r\n")}})).get()}});var Ot=/%20/g,At=/#.*$/,It=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,xt=/^(?:GET|HEAD)$/,Rt=/^\/\//,Ft={},Lt={},Nt="*/".concat("*"),Bt=b.createElement("a");function Ut(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(L)||[];if(g(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Ht(e,t,n,r){var o={},i=e===Lt;function s(a){var l;return o[a]=!0,S.each(e[a]||[],(function(e,a){var c=a(t,n,r);return"string"!=typeof c||i||o[c]?i?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)})),l}return s(t.dataTypes[0])||!o["*"]&&s("*")}function Wt(e,t){var n,r,o=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Bt.href=Ct.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ct.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ct.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Nt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Wt(Wt(e,S.ajaxSettings),t):Wt(S.ajaxSettings,e)},ajaxPrefilter:Ut(Ft),ajaxTransport:Ut(Lt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,o,i,s,a,l,c,u,d,f,_=S.ajaxSetup({},t),h=_.context||_,p=_.context&&(h.nodeType||h.jquery)?S(h):S.event,m=S.Deferred(),g=S.Callbacks("once memory"),v=_.statusCode||{},D={},y={},C="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Pt.exec(i);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?i:null},setRequestHeader:function(e,t){return null==c&&(e=y[e.toLowerCase()]=y[e.toLowerCase()]||e,D[e]=t),this},overrideMimeType:function(e){return null==c&&(_.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)E.always(e[E.status]);else for(t in e)v[t]=[v[t],e[t]];return this},abort:function(e){var t=e||C;return r&&r.abort(t),w(0,t),this}};if(m.promise(E),_.url=((e||_.url||Ct.href)+"").replace(Rt,Ct.protocol+"//"),_.type=t.method||t.type||_.method||_.type,_.dataTypes=(_.dataType||"*").toLowerCase().match(L)||[""],null==_.crossDomain){l=b.createElement("a");try{l.href=_.url,l.href=l.href,_.crossDomain=Bt.protocol+"//"+Bt.host!=l.protocol+"//"+l.host}catch(T){_.crossDomain=!0}}if(_.data&&_.processData&&"string"!=typeof _.data&&(_.data=S.param(_.data,_.traditional)),Ht(Ft,_,t,E),c)return E;for(d in(u=S.event&&_.global)&&0==S.active++&&S.event.trigger("ajaxStart"),_.type=_.type.toUpperCase(),_.hasContent=!xt.test(_.type),o=_.url.replace(At,""),_.hasContent?_.data&&_.processData&&0===(_.contentType||"").indexOf("application/x-www-form-urlencoded")&&(_.data=_.data.replace(Ot,"+")):(f=_.url.slice(o.length),_.data&&(_.processData||"string"==typeof _.data)&&(o+=(Et.test(o)?"&":"?")+_.data,delete _.data),!1===_.cache&&(o=o.replace(It,"$1"),f=(Et.test(o)?"&":"?")+"_="+St.guid+++f),_.url=o+f),_.ifModified&&(S.lastModified[o]&&E.setRequestHeader("If-Modified-Since",S.lastModified[o]),S.etag[o]&&E.setRequestHeader("If-None-Match",S.etag[o])),(_.data&&_.hasContent&&!1!==_.contentType||t.contentType)&&E.setRequestHeader("Content-Type",_.contentType),E.setRequestHeader("Accept",_.dataTypes[0]&&_.accepts[_.dataTypes[0]]?_.accepts[_.dataTypes[0]]+("*"!==_.dataTypes[0]?", "+Nt+"; q=0.01":""):_.accepts["*"]),_.headers)E.setRequestHeader(d,_.headers[d]);if(_.beforeSend&&(!1===_.beforeSend.call(h,E,_)||c))return E.abort();if(C="abort",g.add(_.complete),E.done(_.success),E.fail(_.error),r=Ht(Lt,_,t,E)){if(E.readyState=1,u&&p.trigger("ajaxSend",[E,_]),c)return E;_.async&&_.timeout>0&&(a=n.setTimeout((function(){E.abort("timeout")}),_.timeout));try{c=!1,r.send(D,w)}catch(T){if(c)throw T;w(-1,T)}}else w(-1,"No Transport");function w(e,t,s,l){var d,f,b,D,y,C=t;c||(c=!0,a&&n.clearTimeout(a),r=void 0,i=l||"",E.readyState=e>0?4:0,d=e>=200&&e<300||304===e,s&&(D=function(e,t,n){for(var r,o,i,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in a)if(a[o]&&a[o].test(r)){l.unshift(o);break}if(l[0]in n)i=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){i=o;break}s||(s=o)}i=i||s}if(i)return i!==l[0]&&l.unshift(i),n[i]}(_,E,s)),!d&&S.inArray("script",_.dataTypes)>-1&&S.inArray("json",_.dataTypes)<0&&(_.converters["text script"]=function(){}),D=function(e,t,n,r){var o,i,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(i=u.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=u.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(s=c[l+" "+i]||c["* "+i]))for(o in c)if((a=o.split(" "))[1]===i&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[o]:!0!==c[o]&&(i=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(T){return{state:"parsererror",error:s?T:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}(_,D,E,d),d?(_.ifModified&&((y=E.getResponseHeader("Last-Modified"))&&(S.lastModified[o]=y),(y=E.getResponseHeader("etag"))&&(S.etag[o]=y)),204===e||"HEAD"===_.type?C="nocontent":304===e?C="notmodified":(C=D.state,f=D.data,d=!(b=D.error))):(b=C,!e&&C||(C="error",e<0&&(e=0))),E.status=e,E.statusText=(t||C)+"",d?m.resolveWith(h,[f,C,E]):m.rejectWith(h,[E,C,b]),E.statusCode(v),v=void 0,u&&p.trigger(d?"ajaxSuccess":"ajaxError",[E,_,d?f:b]),g.fireWith(h,[E,C]),u&&(p.trigger("ajaxComplete",[E,_]),--S.active||S.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],(function(e,t){S[t]=function(e,n,r,o){return g(n)&&(o=o||r,r=n,n=void 0),S.ajax(S.extend({url:e,type:t,dataType:o,data:n,success:r},S.isPlainObject(e)&&e))}})),S.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return g(e)?this.each((function(t){S(this).wrapInner(e.call(this,t))})):this.each((function(){var t=S(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=g(e);return this.each((function(n){S(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){S(this).replaceWith(this.childNodes)})),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Yt={0:200,1223:204},$t=S.ajaxSettings.xhr();m.cors=!!$t&&"withCredentials"in $t,m.ajax=$t=!!$t,S.ajaxTransport((function(e){var t,r;if(m.cors||$t&&!e.crossDomain)return{send:function(o,i){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)a.setRequestHeader(s,o[s]);t=function(e){return function(){t&&(t=r=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?i(0,"error"):i(a.status,a.statusText):i(Yt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),r=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=r:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout((function(){t&&r()}))},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(l){if(t)throw l}},abort:function(){t&&t()}}})),S.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),S.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,o){t=S("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),b.head.appendChild(t[0])},abort:function(){n&&n()}}}));var qt,Gt=[],Vt=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||S.expando+"_"+St.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",(function(e,t,r){var o,i,s,a=!1!==e.jsonp&&(Vt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=g(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Vt,"$1"+o):!1!==e.jsonp&&(e.url+=(Et.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return s||S.error(o+" was not called"),s[0]},e.dataTypes[0]="json",i=n[o],n[o]=function(){s=arguments},r.always((function(){void 0===i?S(n).removeProp(o):n[o]=i,e[o]&&(e.jsonpCallback=t.jsonpCallback,Gt.push(o)),s&&g(i)&&i(s[0]),s=i=void 0})),"script"})),m.createHTMLDocument=((qt=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===qt.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(m.createHTMLDocument?((r=(t=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,t.head.appendChild(r)):t=b),i=!n&&[],(o=O.exec(e))?[t.createElement(o[1])]:(o=Ce([e],t,i),i&&i.length&&S(i).remove(),S.merge([],o.childNodes)));var r,o,i},S.fn.load=function(e,t,n){var r,o,i,s=this,a=e.indexOf(" ");return a>-1&&(r=mt(e.slice(a)),e=e.slice(0,a)),g(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),s.length>0&&S.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done((function(e){i=arguments,s.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)})).always(n&&function(e,t){s.each((function(){n.apply(this,i||[e.responseText,t,e])}))}),this},S.expr.pseudos.animated=function(e){return S.grep(S.timers,(function(t){return e===t.elem})).length},S.offset={setOffset:function(e,t,n){var r,o,i,s,a,l,c=S.css(e,"position"),u=S(e),d={};"static"===c&&(e.style.position="relative"),a=u.offset(),i=S.css(e,"top"),l=S.css(e,"left"),("absolute"===c||"fixed"===c)&&(i+l).indexOf("auto")>-1?(s=(r=u.position()).top,o=r.left):(s=parseFloat(i)||0,o=parseFloat(l)||0),g(t)&&(t=t.call(e,n,S.extend({},a))),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+o),"using"in t?t.using.call(e,d):u.css(d)}},S.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){S.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((o=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),o.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-S.css(r,"marginTop",!0),left:t.left-o.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===S.css(e,"position");)e=e.offsetParent;return e||ie}))}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;S.fn[e]=function(r){return $(this,(function(e,r,o){var i;if(v(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===o)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o}),e,r,arguments.length)}})),S.each(["top","left"],(function(e,t){S.cssHooks[t]=$e(m.pixelPosition,(function(e,n){if(n)return n=Ye(e,t),Be.test(n)?S(e).position()[t]+"px":n}))})),S.each({Height:"height",Width:"width"},(function(e,t){S.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){S.fn[r]=function(o,i){var s=arguments.length&&(n||"boolean"!=typeof o),a=n||(!0===o||!0===i?"margin":"border");return $(this,(function(t,n,o){var i;return v(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?S.css(t,n,a):S.style(t,n,o,a)}),t,s?o:void 0,s)}}))})),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){S.fn[t]=function(e){return this.on(t,e)}})),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){S.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var zt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),g(e))return r=a.call(arguments,2),(o=function(){return e.apply(t||this,r.concat(a.call(arguments)))}).guid=e.guid=e.guid||S.guid++,o},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=k,S.isFunction=g,S.isWindow=v,S.camelCase=z,S.type=C,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(zt,"")},void 0===(r=function(){return S}.apply(t,[]))||(e.exports=r);var Kt=n.jQuery,Jt=n.$;return S.noConflict=function(e){return n.$===S&&(n.$=Jt),e&&n.jQuery===S&&(n.jQuery=Kt),S},void 0===o&&(n.jQuery=n.$=S),S}))},function(e,t){angular.module("rainbow").factory("ConferenceParticipant",[function(){function e(e,t,n,r,o,i,s,a,l,c,u,d){let f=!(arguments.length>12&&void 0!==arguments[12])||arguments[12];this.participantId=e,this.userId=t,this.jid_im=n,this.jid_tel=r,this.role=o,this.mute=i,this.held=s,this.confStartDate=a,this.startDate=l,this.phoneNumber=c,this.state=u,this.delegateCapability=d,this.noMicrophone=!f,this.updateFromData=function(e){e.participantId&&(this.participantId=e.participantId),e.userId&&(this.userId=e.userId),this.jid_im=e.jid_im,e.jid_tel&&(this.jid_tel=e.jid_tel),this.role=e.participantRole?e.participantRole:this.role,this.confStartDate=e.confStartDate?e.confStartDate:this.confStartDate,this.startDate=e.startDate?e.startDate:this.startDate,this.phoneNumber=e.phoneNumber?e.phoneNumber:this.phoneNumber,this.state=e.participantState?e.participantState:this.state,this.noMicrophone=!e.microphone,this.mute=e.mute,this.held=e.held,this.delegateCapability=e.delegateCapability}}return e.createFromData=function(t){return new e(t.participantId,t.userId,t.jid_im,t.jid_tel,t.participantRole,t.mute,t.held,t.confStartDate,t.startDate,t.phoneNumber,t.participantState,t.delegateCapability,t.microphone)},e}])},function(e,t){class n{constructor(e,t,n,r,o,i,s,a,l,c,u,d,f,_,h,p,m,g,v){e&&(this.companyId=e),t&&(this.id=t),n&&(this.firstName=n),r&&(this.lastName=r),o&&(this.eMail=o),i&&(this.jobTitle=i),s&&(this.department=s),a&&(this.companyName=a),l&&(this.street=l),c&&(this.city=c),u&&(this.state=u),d&&(this.postalCode=d),f&&(this.country=f),_&&(this.workPhoneNumbers=_),h&&(this.mobilePhoneNumbers=h),p&&(this.otherPhoneNumbers=p),m&&(this.custom1=m),g&&(this.custom2=g),v&&(this.tags=v)}static directoryContactFactory(){return(e={})=>new n(e.companyId,e.id,e.firstName,e.lastName,e.eMail,e.jobTitle,e.department,e.companyName,e.street,e.city,e.state,e.postalCode,e.country,e.workPhoneNumbers,e.mobilePhoneNumbers,e.otherPhoneNumbers,e.custom1,e.custom2,e.tags)}}angular.module("rainbow").factory("directoryContact",n.directoryContactFactory)},function(e,t){angular.module("rainbowAdmin").factory("Offer",[function(){function e(t,n,r,o,i,s,a,l,c,u,d,f,_,h,p,m,g,v){this.id=t,this.name=n||"",m&&(this.name=this.name.replace(new RegExp("\\bDemo\\b"),"Custom")),this.description=r||"Rainbow "+this.name,this.groupName=h?"Conference":o||n,this.offerReference=i,this.profileId=s,this.canBeSold=a||!1,this.businessModel=l,this.isDefault=c,this.isExclusive=u,this.isPrepaid=d,this.prepaidDuration=f,this.autoSubscribe=_,this.hasConference=h,this.hasVoice=p,this.isDemo=void 0===m?!this.isDefault&&!this.canBeSold&&this.name.toLowerCase().includes("custom"):m,this.isBundle=g,this.isChinaOffer=v,this.disallowUnsubscribeWithAllocatedLicences=this.hasVoice||"Room"===this.groupName,this.disallowAllocationToUsers="Room"===this.groupName,this.hasVoice?this.logo="logo-offer-voice.svg":this.hasConference?this.logo="logo-offer-conference.svg":this.logo=e.getLogoByName(this.name),this.isEnterprise=function(){return this.groupName.toLowerCase().includes("enterprise")},this.isBusiness=function(){return this.groupName.toLowerCase().includes("business")},this.isEssential=function(){return this.isDefault},this.isTrial=function(){return this.isDemo},this.isUserLicense=function(){return this.isDefault||"nb_users"===this.businessModel||"usage"===this.businessModel},this.isDeviceLicense=function(e){return"TV"===e&&"Room"===this.groupName},this.isFixedLicense=function(){return"flat_fee"===this.businessModel},this.isUserBasedLicense=function(){return"nb_users"===this.businessModel},this.isUsageBasedLicense=function(){return"usage"===this.businessModel}}return e.createFromData=function(t){return new e(t.id,t.name,t.description,t.groupName,t.offerReference,t.profileId,t.canBeSold,t.businessModel,t.isDefault,t.isExclusive,t.isPrepaid,t.prepaidDuration,t.autoSubscribe,t.hasConference,t.hasVoice,t.isDemo,t.isBundle,t.isChinaOffer)},e.createFromSubscriptionData=function(t){return new e(t.offerId,t.offerName,t.offerDescription,t.groupName,t.offerReference,t.profileId,t.canBeSold,t.businessModel,t.isDefault,t.isExclusive,t.isPrepaid,t.prepaidDuration,t.autoSubscribe,t.hasConference,t.hasVoice,t.isDemo,t.isBundle,t.isChinaOffer)},e.createFromSubscriptionCountersData=function(t){return new e(t.offerId,t.offerName,void 0,t.groupName,t.offerReference,void 0,t.canBeSold,t.businessModel,t.isDefault,t.isExclusive,t.isPrepaid,t.prepaidDuration,void 0,t.hasConference,t.hasVoice,t.isDemo,t.isBundle)},e.createFromProfileData=function(t){return new e(t.offerId,t.offerName,void 0,void 0,void 0,t.profileId,!1,void 0,t.isDefault,t.isExclusive,t.isPrepaid,t.prepaidDuration,void 0,t.hasConference,t.hasVoice,t.isDemo,t.isBundle)},e.createFromOperationLog=function(t){var n="delete"===t.operationType?t.previousData:t.newData;return new e(n.offerId,n.offerName,n.offerDescription,void 0,n.offerReference,n.profileId,n.canBeSold,n.businessModel,n.isDefault,n.isExclusive,n.isPrepaid,n.prepaidDuration,void 0,n.hasConference,n.hasVoice,n.isDemo,n.isBundle)},e.getLogoByName=function(e){var t="logo-offer-default.svg";if(e){var n=e.toLowerCase();-1!==n.indexOf("voice")?n="voice":-1!==n.indexOf("conference")?n="conference":-1!==n.indexOf("enterprise")?n="enterprise":-1!==n.indexOf("business")&&(n="business"),t="logo-offer-"+n+".svg"}return t},e.offerComparator=function(e,t){var n=["Essential","Business","Enterprise","Voice","Room","Conference"];if(e.isEssential())return-1;if(t.isEssential())return 1;if(e.isTrial()&&!t.isTrial())return-1;if(!e.isTrial()&&t.isTrial())return 1;if(e.canBeSold&&!t.canBeSold)return-1;if(!e.canBeSold&&t.canBeSold)return 1;if(e.hasConference&&!t.hasConference)return 1;if(!e.hasConference&&t.hasConference)return-1;var r=n.findIndex((function(t){return e.name.startsWith(t)})),o=n.findIndex((function(e){return t.name.startsWith(e)}));return(r=-1===r?n.length:r)<(o=-1===o?n.length:o)?-1:r>o?1:e.isTrial()?-1:t.isTrial()||e.isPrepaid&&!t.isPrepaid?1:!e.isPrepaid&&t.isPrepaid||e.name<t.name?-1:e.name>t.name?1:0},e.isExclusive=function(e){return e.isDefault||e.isExclusive},e.isOptional=function(t){return!e.isExclusive(t)},e.isEssential=function(e){return e.isDefault},e.isNotEssential=function(e){return!e.isDefault},e.isModelByNbUsers=function(e){return"nb_users"===e.businessModel},e.isPrepaid=function(e){return e.isPrepaid},e.isNotPrepaid=function(e){return!e.isPrepaid},e.isUserLicense=function(e){return e.isUserLicense()},e.isUsageBasedLicense=function(e){return e.isUsageBasedLicense()},e}])},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(11),o=n(16),i=n(1),s=n(27),a=n(2);angular.module("rainbow").factory("Conversation",["$log","$rootScope",function(e,t){function n(e){this.id=e,this.dbId=null,this.type=null,this.owner=null,this.contact=null,this.room=null,this.capabilities=null,this.avatar=null,this.presenceStatus=null,this.name=function(){return{}},this.filterName="",this.missedCounter=0,this.missedCalls=0,this.messages=[],this.participantStatuses={},this.draft="",this.status=n.Status.INACTIVE,this.historyIndex=-1,this.historyMessages=[],this.historyDefered=null,this.historyComplete=!1,this.lastModification=void 0,this.creationDate=new Date,this.lastMessageText="",this.lastMessageSender="",this.forwardFrom=null,this.forwardedMessage=null,this.replaceLastMsgId="",this.pip=!0,this.showVideoGallery=!0,this.videoCall={status:i.Call.Status.UNKNOWN},this.audioCall=null,this.pstnConferenceSession=null,this.webConferenceSession=null,this.isMutedAudio=!1,this.isMutedVideo=!1,this.infoVisible=!1,this.largeInfoVisible=!0,this.muted=!1,this.isFavorite=!1,this.lastEditableMsg=null,this.cacheMessages=[],this.rxSubject=new r.Subject,this.innerHtml="",this.mentionedMembersArray=[],this.telephonyContacts=null,this.isFullScreenNoChat=!1,this.getMessageById=(e,t=!1)=>{if(t){const t=this.cacheMessages.find(t=>t.id===e);if(t)return t}return this.messages.find(t=>t.id===e)},this.getMessageInCacheById=e=>this.cacheMessages.find(t=>t.id===e),this.getReplacedMessageById=e=>{let t=null;return this.messages.forEach(n=>{t=n.replaceMsgs.find(t=>t.id===e)}),t},this.reset=()=>{this.messages=[],this.historyIndex=-1,this.historyMessages=[],this.historyComplete=!1,this.currentHistoryId=null,this.lastMessageText=null,this.rxSubject.next({name:"appendMessage"})},this.subscribe=e=>this.rxSubject.subscribe(e)}n.ChatstatesNS="http://jabber.org/protocol/chatstates",n.ReceiptNS="urn:xmpp:receipts",n.contentNS="urn:xmpp:content",n.AttentionNS="urn:xmpp:attention:0",n.FORWARDNS="urn:xmpp:forward:0",n.Type={ONE_TO_ONE:0,ROOM:1,BOT:2},n.EventType={NEW:0,IM:1,CAPABILITIES:2,FILE:3},n.Status={ACTIVE:{key:0,value:"active"},INACTIVE:{key:1,value:"inactive"},COMPOSING:{key:2,value:"composing"},PAUSED:{key:3,value:"paused"}},n.createOneToOneConversation=function(t){e.info("[Conversation] Create one to one conversation ("+t.id+")");const r=new n(t.id);return r.contact=t,t.conversation=r,t.isBot?(r.avatar="",r.type=n.Type.BOT,r.infoVisible=!0):(r.avatar=t.avatar?t.avatar.src:null,r.type=n.Type.ONE_TO_ONE),r.name=t.name,t.displayName&&(r.filterName=t.displayName.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"")),r},n.createRoomConversation=function(t){e.info("[Conversation] Create room conversation ("+t.jid+")");const r=new n(t.jid);return r.type=n.Type.ROOM,r.room=t,r.filterName=t.name.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,""),r.infoVisible=!0,r};const l=s();let c=0;return n.getUniqueMessageId=()=>{const e="web_"+l+c;return c++,e},n.stringToStatus=function(e){switch(e){case"composing":return n.Status.COMPOSING;case"paused":return n.Status.PAUSED;default:return n.Status.ACTIVE}},n.prototype.setMissedCounter=function(e){this.missedCounter=e,this.rxSubject.next({name:"missedCounter",value:e})},n.prototype.shortnameToUnicode=e=>emojione?emojione.shortnameToUnicode(e):e,n.prototype.isInCall=function(){return this.pstnConferenceSession?this.pstnConferenceSession.isParticipantConnectedByJid(a.default.userContact.jid):this.webConferenceSession?this.webConferenceSession.isParticipantConnectedByJid(a.default.userContact.jid)&&this.webConferenceSession.haveJoined:this.videoCall&&this.videoCall.status&&"Unknown"!==this.videoCall.status.value||this.audioCall&&this.audioCall.status&&"Unknown"!==this.audioCall.status.value&&"incommingCall"!==this.audioCall.status.value&&"queued"!==this.audioCall.status.value},n.prototype.isNotInCall=function(){return!(this.videoCall&&this.videoCall.status&&"Unknown"!==this.videoCall.status.value||this.audioCall&&this.audioCall.status&&"Unknown"!==this.audioCall.status.value||"busy"===a.default.userContact.status&&""!==a.default.userContact.message)},n.prototype.isActive=function(){return this.videoCall&&this.videoCall.status&&"active"===this.videoCall.status.value||this.audioCall&&this.audioCall.status&&"active"===this.audioCall.status.value},n.prototype.isHeld=function(){return this.videoCall&&this.videoCall.status&&"held"===this.videoCall.status.value||this.audioCall&&this.audioCall.status&&"held"===this.audioCall.status.value},n.prototype.getMessageByIdInHistory=function(e){return this.historyMessages.find(t=>t.id===e)},n.prototype.addAdminBubbleMessage=function(t,n,r,i){if(this.getMessageById(i))return e.info("[Conversation] "+this.id+" add addAdminBubbleMessage message ("+i+") already exists."),null;e.info("[Conversation] "+this.id+" add addAdminBubbleMessage from "+t.jid+" : "+r);const s=r+"MsgRoom",a=o.Message.Side.ADMIN,l=o.Message.create(i,n,t,a,s,!1);return l.setReceiptStatus(o.Message.ReceiptStatus.SENT),this.addMessage(l)},n.prototype.addFSMessage=function(t,r,i,s,l=null,c=null,u=null){const d=n.getUniqueMessageId(),f=this.shortnameToUnicode(r),_=new Date;e.info("[Conversation] "+this.id+" add FILE SHARING message from me");const h=o.Message.createFileSharingMessage(d,_,a.default.userContact,"R",f,i,t,null,s,l,u);return h.urgency=c,h.setReceiptStatus(o.Message.ReceiptStatus.IN_PROGRESS),this.addMessage(h)},n.prototype.addChatMessage=function(t,n,r,i,s,l,c,u,d,f,_,h,p){if(this.getMessageById(i))return e.info("[Conversation] "+this.id+" add CHAT message ("+i+") already exists."),null;e.info("[Conversation] "+this.id+" add CHAT message ("+i+") from "+t.jid);const m=a.default.isUserContact(t)?"R":"L",g=o.Message.create(i,n,t,m,r,!1,l,f,c,u,d,_,h);return g.urgency=p,s?g.setReceiptStatus(o.Message.ReceiptStatus.IN_PROGRESS):g.setReceiptStatus(o.Message.ReceiptStatus.SENT),this.addMessage(g)},n.prototype.addForwardChatMessage=function(t,r,i,s,l){if(this.getMessageById(i))return e.info("[Conversation] "+this.id+" add CHAT message ("+i+") already exists."),null;e.info("[Conversation] "+this.id+" add CHAT message ("+i+") from "+t.jid);const c=a.default.isUserContact(t)?"R":"L",u=o.Message.create(i,r,t,c,"",!1,!1);u.setReceiptStatus(o.Message.ReceiptStatus.IN_PROGRESS),u.forwardedMsg=s,u.forwardConvType=l.type===n.Type.ONE_TO_ONE?"chat":"groupchat",u.isForwarded=!0;const d=o.Message.createFromMsg(u.forwardedMsg);return d.id=i,d.side=c,d.date=r,d.from=t,d.isForwarded=!0,this.addMessage(d),u},n.prototype.addRecordingMessage=function(e,t,n,r){const i=o.Message.createRecordingAdminMessage(r,t,e,"ADMIN",n);return this.addMessage(i)},n.prototype.addFileMessage=function(t,n,r,i,s=null){e.info("[Conversation] "+this.id+" add FILE message from "+t.jid+" : "+r);const l=a.default.isUserContact(t)?"R":"L",c=o.Message.createFileMessage(i,n,t,l,r,!1);return c.urgency=s,this.addMessage(c)},n.prototype.addFileSharingMessage=function(t,n,r,i,s,l,c,u,d,f=null){e.info("[Conversation] "+this.id+" add FILE SHARING message from "+t.jid+" : "+r);const _=a.default.isUserContact(t)?"R":"L",h=o.Message.createFileSharingMessage(i,n,t,_,r,!1,s,l,null,c,f);return h.urgency=u,h.isForwarded=d,this.addMessage(h)},n.prototype.addWebRTCMessage=function(t,n,r,i){if(this.getMessageById(i))return e.info("[Conversation] "+this.id+" add addWebRTCMessage message ("+i+") already exists."),null;e.info("[Conversation] "+this.id+" add WebRTC message from "+t.jid+" : "+r);const s=a.default.isUserContact(t)?o.Message.Side.RIGHT:o.Message.Side.LEFT,l=o.Message.createWebRTCMessage(i,n,t,s,r,!1);return this.addMessage(l)},n.prototype.updateMessage=e=>{e.sendUpdateEvent()},n.prototype.addMessage=function(r){if(this.messages.find(e=>e.id===r.id))return e.info("[Conversation] "+this.id+" try to add an already stored message with id "+r.id),r;if(r.side===o.Message.Side.LEFT)r.type===o.Message.Type.WEBRTC&&(this.missedCalls+=1),this.setStatusMessage(r.from,n.Status.ACTIVE);else{const e=this.lastEditableMsg;this.lastEditableMsg=r,e&&this.updateMessage(e)}return this.messages.push(r),this.lastModification=new Date,this.lastMessageText=r.data,this.lastMessageSender=r.from.id,this.replaceLastMsgId=null,r.isForwarded?(this.forwardFrom=r.from.jid,this.forwardedMessage=r.data):(this.forwardFrom=null,this.forwardedMessage=null),this.rxSubject.next({name:"appendMessage",message:r}),t.$broadcast("ON_CONVERSATION_UPDATED_EVENT",this.id),r},n.prototype.addMessageInHistoryMessages=function(e){if(e&&(this.historyMessages.push(e),e.side===o.Message.Side.RIGHT&&(!this.lastEditableMsg||e.date.getTime()>this.lastEditableMsg.date.getTime()))){const t=this.lastEditableMsg;this.lastEditableMsg=e,t&&this.updateMessage(t)}},n.prototype.addMessageInCacheMessages=function(e){e&&(this.getMessageInCacheById(e.id)||(this.cacheMessages.push(e),this.rxSubject.next({name:"cachedMessage",message:e})))},n.prototype.removeMessage=function(e){const t=this.messages.lastIndexOf(e);-1!==t&&this.messages.splice(t,1)},n.prototype.setStatusMessage=function(t,n){e.info("[Conversation] "+this.id+" add status message from "+t.jid+" : "+n.value),this.participantStatuses[t.jid]=n,this.rxSubject.next({name:"status",value:n})},n.prototype.ackReadAllSentMessages=function(){this.messages.forEach(e=>{"R"!==e.side||e.receiptStatus!==o.Message.ReceiptStatus.SENT&&e.receiptStatus!==o.Message.ReceiptStatus.UNREAD||(e.setReceiptStatus(o.Message.ReceiptStatus.READ),this.updateMessage(e))})},n.prototype.ackReadAllReceivedMessages=function(){let e=!1;return this.messages.forEach(t=>{"R"===t.side||t.receiptStatus!==o.Message.ReceiptStatus.SENT&&t.receiptStatus!==o.Message.ReceiptStatus.UNREAD||(t.setReceiptStatus(o.Message.ReceiptStatus.READ),this.updateMessage(t),e=!0)}),e},n.prototype.updateAfterReplaceEvent=function(e){const t=this.messages[this.messages.length-1];t&&t.id===e.id&&(this.lastModification=new Date,this.lastMessageText=e.getLastTextModified(),this.lastMessageSender=e.from.id,this.replaceLastMsgId=t.id,this.rxSubject.next({name:"replaceMessage",message:e}))},n}])},function(e,t,n){var r,o,i=n(223),s=n(224),a=0,l=0;e.exports=function(e,t,n){var c=t&&n||0,u=t||[],d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==f){var _=i();null==d&&(d=r=[1|_[0],_[1],_[2],_[3],_[4],_[5]]),null==f&&(f=o=16383&(_[6]<<8|_[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),p=void 0!==e.nsecs?e.nsecs:l+1,m=h-a+(p-l)/1e4;if(m<0&&void 0===e.clockseq&&(f=f+1&16383),(m<0||h>a)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=h,l=p,o=f;var g=(1e4*(268435455&(h+=122192928e5))+p)%4294967296;u[c++]=g>>>24&255,u[c++]=g>>>16&255,u[c++]=g>>>8&255,u[c++]=255&g;var v=h/4294967296*1e4&268435455;u[c++]=v>>>8&255,u[c++]=255&v,u[c++]=v>>>24&15|16,u[c++]=v>>>16&255,u[c++]=f>>>8|128,u[c++]=255&f;for(var b=0;b<6;++b)u[c+b]=d[b];return t||s(u)}},function(e,t,n){var r=n(223),o=n(224);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[i+a]=s[a];return t||o(s)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.RBNotification=class{constructor(e){this.date=e}}},function(e,t){angular.module("rainbow").factory("CallLog",[function(){function e(t,n,r,o,i,s,a,l,c,u){this.id=t,this.contact=n,this.state=r,this.duration=o,this.direction=l,this.callSubject=c,this.isLatestCall=u,i="unknown"===i||"audio"===i||"webrtc"===i?e.Type.WEBRTC:"telephone"===i?e.Type.TELEPHONE:e.Type.CONFERENCE,this.type=i,this.read=s,this.date=a,this.updateCallLogDisplayInfo=function(){"missed"===this.state&&"incoming"===this.direction?(this.svgId="call_missed",this.svgClass="missed",this.title="missedCall"):"missed"===this.state&&"outgoing"===this.direction?(this.svgId="call_missed-outgoing",this.svgClass="missed",this.title="noAnswer"):"incoming"===this.direction?(this.svgId="call_received",this.svgClass="active",this.title="incommingCall"):"outgoing"===this.direction&&(this.svgId="call_made",this.svgClass="active",this.title="outgoingCall")}}return e.create=function(t,n,r,o,i,s,a,l,c,u){return new e(t,n,r,o,i,s,a,l,c,u)},e.getNames=function(e){var t={firstname:"",lastname:""};return e&&e.contact&&(t.firstname=e.contact.firstname?e.contact.firstname.toUpperCase():"",t.lastname=e.contact.lastname?e.contact.lastname.toUpperCase():"",e&&e.date&&(t.date=e.date.getTime())),t},e.getDate=function(e){return e&&e.date?e.date.getTime():0},e.sortByContact=function(e,t){var n=-1;if(e&&e.value.lastname&&t&&t.value.lastname){var r=e.value.lastname,o=t.value.lastname;0===(n=r.localeCompare(o))&&(r=e.value.firstname,o=t.value.firstname,0===(n=r.localeCompare(o))&&t.value.date&&e.value.date&&(n=t.value.date-e.value.date))}return n},e.sortByDate=function(e,t){var n=1;return e&&t&&(n=t.value-e.value),n},e.Type={WEBRTC:"webrtc",TELEPHONE:"telephone",CONFERENCE:"conference"},e}])},function(e,t,n){n.r(t);var r=n(7),o=n.n(r);angular.module("rainbow").factory("VoiceMail",[function(){function e(){this.VMFlag=!1,this.VMCounter=0,this.infoMsg="",this.voiceMailFeatureEnabled=o.a.isFeatureEnabled(o.a.FeaturesEnum.TELEPHONY_VOICE_MAIL),this.setVMFlag=function(e){this.VMFlag=e},this.getVMFlag=function(){return this.VMFlag},this.setVMCounter=function(e){e>0?(this.VMFlag=!0,this.VMCounter=e):this.VMCounter=0},this.getVMCounter=function(){return this.VMCounter},this.setInfoMsg=function(e){this.infoMsg=e},this.getInfoMsg=function(){return this.infoMsg},this.getDisplayState=function(){return this.voiceMailFeatureEnabled}}return e.create=function(){return new e},e}])},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t,n,r,o,i,s){this.id=null,this.name=null,this.isDefault=!1,this.isExclusive=!1,this.hasConference=!1,this.isPrepaid=!1,this.isDemo=!1,this.id=e,this.name=t||"",this.isDefault=n,this.isExclusive=r,this.isPrepaid=o,this.hasConference=i,this.isDemo=s}static createFromProfileData(e){return new r(e.offerId,e.offerName,e.isDefault,e.isExclusive,e.isPrepaid,e.hasConference,e.isDemo)}static offerComparator(e,t){const n=["Essential","Business","Enterprise","Voice","Room","Conference"];if(e.isEssential())return-1;if(t.isEssential())return 1;if(e.isDemo&&!t.isDemo)return-1;if(!e.isDemo&&t.isDemo)return 1;if(e.hasConference&&!t.hasConference)return 1;if(!e.hasConference&&t.hasConference)return-1;let r=n.findIndex(t=>e.name.startsWith(t)),o=n.findIndex(e=>t.name.startsWith(e));return r=-1===r?n.length:r,o=-1===o?n.length:o,r<o?-1:r>o?1:e.isDemo?-1:t.isDemo||e.isPrepaid&&!t.isPrepaid?1:!e.isPrepaid&&t.isPrepaid||e.name<t.name?-1:e.name>t.name?1:0}isEnterprise(){return this.name.toLowerCase().includes("enterprise")}isBusiness(){return this.name.toLowerCase().includes("business")}isEssential(){return this.isDefault}}t.Offer=r},function(e,t){angular.module("rainbow").factory("Organisation",[function(){function e(e,t,n){this.id=e,this.name=t,this.visibility=n,this.companies=[]}return e.createFromData=function(t){return new e(t.id,t.name,t.visibility)},e}])},function(e,t){angular.module("rainbowAdmin").factory("Bot",[function(){function e(e,t,n,r,o,i){this.jid=e,this.name=t,this.id=n,this.avatarId=r||n,this.lastAvatarUpdateDate=o,this.isAvatarCustomized=i}return e.create=function(t){return new e(t.jid,t.name,t.id,t.avatarId,t.lastAvatarUpdateDate,t.isBotAvatarCustomized)},e}])},function(e,t){angular.module("rainbow").factory("Site",[function(){function e(e,t,n,r,o,i){this.id=e,this.name=t||"",this.status=n||"",this.companyId=r||"",this.settings=o||"",angular.isDefined(i)&&(this.isCentrex=i)}return e.createFromData=function(t){return new e(t.id,t.name,t.status,t.companyId,t.settings,t.isCentrex)},e.create=function(t,n,r,o){return new e(t,n,r,o)},e.StatusValues=["active","alerting","hold","terminated"],e}])},function(e,t){angular.module("rainbow").factory("System",[function(){function e(t,n,r,o,i,s,a,l,c,u,d,f,_,h,p,m,g,v,b,D,y,C,S,E,w){this.id=t||null,this.type=a||null,this.type!==e.TypeEnum.CLOUD_PBX&&(this.jid_pbxagent=r||"",this.jid_password=o||"",this.jid_pbxagent_password=_||"",this.jid_pbxagent_password_activating=h||"",this.pbxMainBundlePrefix=i||["0"],this.usePbxMainBundlePrefix=!angular.isDefined(p)||p,this.pbxNumberingTranslator=m||[],this.pbxNationalPrefix=E,this.pbxInternationalPrefix=w),this.country=d||"FRA",this.name=f||"",u&&(this.siteId=u),n&&(this.pbxId=n),s&&(this.serverPingTimeout=s),l&&(this.status=l),c&&(this.version=c),angular.isDefined(g)&&(this.isCentrex=g),angular.isDefined(v)&&(this.isShared=v),b&&(this.bpId=b),angular.isDefined(y)&&(this.hasMediaPillar=y),angular.isDefined(C)&&(this.isOxoManaged=C),D?(D.domainName&&(this.domainName=D.domainName),D.numberingDigits&&(this.numberingDigits=D.numberingDigits),D.numberingPrefix&&(this.numberingPrefix=D.numberingPrefix),D.outgoingPrefix&&(this.outgoingPrefix=D.outgoingPrefix),D.externalTrunkId&&(this.externalTrunkId=D.externalTrunkId),D.installationNumber&&(this.installationNumber=D.installationNumber),D.installationNumberId&&(this.installationNumberId=D.installationNumberId),D.language&&(this.language=D.language),D.customSipHeader_1&&(this.customSipHeader_1=D.customSipHeader_1),D.customSipHeader_2&&(this.customSipHeader_2=D.customSipHeader_2),D.overflowSubscribersToVoicemail&&(angular.isDefined(D.overflowSubscribersToVoicemail.activate)&&(this.callOverflowToVMActivate=D.overflowSubscribersToVoicemail.activate),D.overflowSubscribersToVoicemail.noReplyDelay&&(this.callOverflowToVMNoReplyDelay=D.overflowSubscribersToVoicemail.noReplyDelay)),D.barringOptions&&(D.barringOptions.permissions&&(this.barringOptionsPermission=D.barringOptions.permissions),D.barringOptions.restrictions&&(this.barringOptionsRestriction=D.barringOptions.restrictions)),D.cliOptions&&(this.cliOptions=D.cliOptions),D.emergencyOptions&&(this.emergencyOptions=D.emergencyOptions),D.callForwardOptions&&(this.callForwardOptions=D.callForwardOptions),angular.isDefined(D.allowCloudPbxRecording)&&(this.allowCloudPbxRecording=D.allowCloudPbxRecording),angular.isDefined(D.routeInternalCallsToPeer)&&(this.routeInternalCallsToPeer=D.routeInternalCallsToPeer)):C&&S?(S.numberingDigits&&(this.numberingDigits=S.numberingDigits),S.numberingPrefix&&(this.numberingPrefix=S.numberingPrefix),S.outgoingPrefix&&(this.outgoingPrefix=S.outgoingPrefix),S.target&&(this.target=S.target),S.installationNumber&&(this.installationNumber=S.installationNumber),S.installationNumberId&&(this.installationNumberId=S.installationNumberId)):(this.numberingDigits=3,this.numberingPrefix="1"),this.isCallForwardAuthorized=function(){return this.callForwardOptions&&"authorized"===this.callForwardOptions.externalCallForward}}return e.createFromData=function(t){return new e(t.id,t.pbxId,t.jid_pbxagent,t.jid_password,t.pbxMainBundlePrefix,t.serverPingTimeout,t.type,t.status,t.version,t.siteId,t.country,t.name,t.jid_pbxagent_password,t.jid_pbxagent_password_activating,t.usePbxMainBundlePrefix,t.pbxNumberingTranslator,t.isCentrex,t.isShared,t.bpId,t.cloudpbx,t.hasMediaPillar,t.isOxoManaged,t.oxopbx,t.pbxNationalPrefix,t.pbxInternationalPrefix)},e.create=function(){return new e},e.TypeValues=["oxe","oxo","third_party","cloud_pbx","oxo_managed"],e.TypeEnum={OXE:"oxe",OXO:"oxo",THIRD_PARTY:"third_party",CLOUD_PBX:"cloud_pbx",OXO_MANAGED:"oxo_managed"},e.StatusValues=["created","activating","activated"],e.CliPolicy={USER_DDI_NUMBER:"user_ddi_number",INSTALLATION_DDI_NUMBER:"installation_ddi_number"},e.CliPolicyValues=[e.CliPolicy.USER_DDI_NUMBER,e.CliPolicy.INSTALLATION_DDI_NUMBER],e}]),angular.module("rainbow").filter("serverTypeFilter",[function(){return function(e){return"oxo"===e?"OXO Connect":"oxe"===e?"OmniPCX Enterprise":"third_party"===e?"Third party PBX":"cloud_pbx"===e?"Cloud PBX":"oxo_managed"===e?"Managed OXO Connect":e}}]),angular.module("rainbow").filter("systemStateFilter",[function(){return function(e){return"created"===e||"activating"===e?"pending":"activated"===e?"systemStatusActivated":"connected"===e?"systemStatusConnected":"disconnected"===e?"systemStatusDisonnected":"degraded"===e?"systemStatusDegraded":e}}]),angular.module("rainbow").filter("systemStateColorFilter",[function(){return function(e){return"created"===e||"activating"===e||"activated"===e?"color_blue":"connected"===e?"color_green":"disconnected"===e?"color_error":"degraded"===e?"color_warning":e}}]),angular.module("rainbow").filter("thirdPartySystemStateFilter",[function(){return function(e){return"created"===e||"activating"===e?"pending":"activated"===e?"systemStatusConnected":e}}]),angular.module("rainbow").filter("thirdPartySystemStateColorFilter",[function(){return function(e){return"created"===e||"activating"===e?"color_blue":"activated"===e?"color_green":e}}]),angular.module("rainbow").filter("cloudPbxStateFilter",[function(){return function(e){return"created"===e?"systemStatusConnected":"disconnected"===e?"systemStatusDisonnected":e}}]),angular.module("rainbow").filter("cloudPbxStateColorFilter",[function(){return function(e){return"created"===e?"color_green":"disconnected"===e?"color_error":e}}]),angular.module("rainbow").filter("gatewayStateFilter",[function(){return function(e){return"true"===e?"systemStatusConnected":"false"===e?"systemStatusDisonnected":e}}]),angular.module("rainbow").filter("gatewayStateColorFilter",[function(){return function(e){return"true"===e?"color_green":"false"===e?"color_error":"new_version"===e?"color_warning":e}}]),angular.module("rainbow").filter("cloudPbxBarringOptionPermissionFilter",[function(){return function(e){return"default"===e?"same_than_company":"local"===e?"intraPBXCallsOnly":"nat_local"===e?"nationalAndIntraPBXCalls":"int_nat_local"===e?"internationalNationalAndIntraPBXCalls":e}}]),angular.module("rainbow").filter("cloudPbxBarringOptionRestrictionFilter",[function(){return function(e){return"default"===e?"same_than_company":"no_restriction"===e?"none":"surcharged_numbers"===e?"surchargedNumbers":"custom_numbers"===e?"customizedProhibitedNumbers":e}}]),angular.module("rainbow").filter("cloudPbxCliPolicyFilter",[function(){return function(e){return"user_ddi_number"===e?"userDDINumber":"installation_ddi_number"===e?"companyPhoneNumber":"other_ddi_number"===e?"otherDDINumber":e}}]),angular.module("rainbow").filter("ivrStateFilter",[function(){return function(e){return"active"===e?"systemStatusActive":"unknown"}}]),angular.module("rainbow").filter("ivrStateClassFilter",[function(){return function(e){return"active"===e?"color_green":"color_error"}}])},function(e,t){angular.module("rainbow").factory("SystemsGroup",[function(){function e(e,t,n,r){this.id=e||null,this.name=t,this.companies=n||[],this.systems=r,this.containsSystem=function(e){return!!this.systems&&this.systems.some((function(t){return t.systemId===e}))}}return e.createFromData=function(t){return new e(t.id,t.name,t.companies,t.systems)},e.create=function(t,n,r,o){return new e(t,n,r,o)},e}])},function(e,t,n){n.r(t);var r=n(32),o=n.n(r);angular.module("rainbow").factory("User",["Subscription",function(e){function t(n,r){var i=this;t.attributes.forEach((function(e){n&&angular.isDefined(n[e.name])?i[e.name]=n[e.name]:!r&&angular.isDefined(e.defaultValue)&&(i[e.name]=e.defaultValue)})),this.subscriptions=[],this.updateFromData=function(e){t.attributes.forEach((function(t){angular.isDefined(e[t.name])&&(i[t.name]=e[t.name])}))},this.fillSubscriptionMap=function(){var e={};this.subscriptions.forEach((function(t){e[t.id]=t})),this.subscriptionMap=e},this.fillMainSubscriptionField=function(){var t=this.subscriptions.filter(e.isExclusive).sort(e.subscriptionComparator);t.length>0&&(this.mainSubscription=t[t.length-1],this.mainSubscriptionName=this.mainSubscription.offerName);var n=this.subscriptions.filter(e.isOptional);n.length>0&&(this.optionalSubscriptionNames=n.map((function(e){return e.offerName})).join(", ")),this.subscriptionNames=this.mainSubscriptionName+(this.optionalSubscriptionNames?", "+this.optionalSubscriptionNames:"")},this.getMainSubscription=function(){return this.mainSubscription||this.fillMainSubscriptionField(),this.mainSubscription},this.getOptionalSubscriptions=function(){return this.subscriptions.filter(e.isOptional)},this.getMainSubscriptionName=function(){return this.mainSubscriptionName||this.fillMainSubscriptionField(),this.mainSubscriptionName},this.getOptionalSubscriptionNames=function(){return this.mainSubscriptionName||this.fillMainSubscriptionField(),this.optionalSubscriptionNames},this.hasUserRoleOnly=function(){return 1===this.roles.length&&-1!==this.roles.indexOf(t.RoleValues.USER)},this.isGuest=function(){return-1!==this.roles.indexOf(t.RoleValues.GUEST)||this.guestMode},this.isAdmin=function(){return-1!==this.roles.indexOf(t.RoleValues.ADMIN)},this.isOrganizationAdmin=function(){return!!this.isAdmin()&&"organization_admin"===this.adminType},this.isSiteAdmin=function(){return!!this.isAdmin()&&"site_admin"===this.adminType},this.isCompanyAdmin=function(){return!!this.isAdmin()&&"company_admin"===this.adminType},this.isBPAdmin=function(){return this.isBPAdminOperations()||this.isBPAdminFinance()},this.isBPAdminOperations=function(){return-1!==this.roles.indexOf(t.RoleValues.BP_ADMIN_OPERATIONS)},this.isBPAdminFinance=function(){return-1!==this.roles.indexOf(t.RoleValues.BP_ADMIN_FINANCE)},this.isSuperadmin=function(){return-1!==this.roles.indexOf(t.RoleValues.SUPERADMIN)},this.isBusinessAdmin=function(){return-1!==this.roles.indexOf(t.RoleValues.BUSINESS_ADMIN)},this.isPublicChannelsAdmin=function(){return-1!==this.roles.indexOf(t.RoleValues.PUBLIC_CHANNELS_ADMIN)},this.isAllCompanyChannelsAdmin=function(){return-1!==this.roles.indexOf(t.RoleValues.ALL_COMPANY_CHANNELS_ADMIN)},this.isClosedChannelsAdmin=function(){return-1!==this.roles.indexOf(t.RoleValues.CLOSED_CHANNELS_ADMIN)},this.isDirectoryAdmin=function(){return-1!==this.roles.indexOf(t.RoleValues.DIRECTORY_ADMIN)},this.isRainbowTv=function(){return this.isTv||-1!==this.roles.indexOf(t.RoleValues.TV)},this.computeDisplayName=function(){const e=o.a.getNameInformation(this.firstName,this.lastName);this.displayName=e.displayName,this.initials=e.initials},this.getPhoneNumbers=function(e,t){return this.phoneNumbers?this.phoneNumbers.filter((function(n){return n.type===e&&n.deviceType===t})):[]},this.getSystemPhoneNumber=function(){return this.phoneNumbers?this.phoneNumbers.find((function(e){return angular.isDefined(e.systemId)&&e.isFromSystem})):void 0},this.isRvcpSubscriber=function(){var e=this.getSystemPhoneNumber();return e&&"RVCP Subscriber"===e.deviceName},this.isOxoSubscriber=function(){return this.getSystemPhoneNumber()},this.getActivePhoneNumber=function(e,t){var n=this.getPhoneNumbers(e,t);if(n.length>1){var r=n.find((function(e){return angular.isDefined(e.systemId)}));if(r)return r}return n[0]},this.getDdiPhoneNumber=function(e,t){var n=this.getPhoneNumbers(e,t);if(n.length>1){var r=n.find((function(e){return e.isCloudPbxDDI||e.isOxoPbxDDI}));if(r||(r=n.find((function(e){return e.isFromSystem}))),r)return r}return n[0]}}return t.createFromData=function(n,r){n&&n.roles&&n.roles.includes("private_channels_admin")&&n.roles.splice(n.roles.indexOf("private_channels_admin"),1,t.RoleValues.ALL_COMPANY_CHANNELS_ADMIN);var o=new t(n,r);return n.profiles&&(n.profiles.forEach((function(t){var n=e.createFromData(t);n.isTerminated()||o.subscriptions.push(n)})),o.fillMainSubscriptionField()),o.computeDisplayName(),o},t.create=function(){return new t},t.prune=function(e,t){var n=Object.assign({},e);return"RAINBOW"===n.authenticationType&&delete n.authenticationExternalUid,n},t.VisibilityValues=["same_than_company","public","private"],t.PermissionValues=["same_than_company","enabled","disabled"],t.VmOverflowValues=["default","custom","disabled"],t.CliPolicy={COMPANY_POLICY:"company_policy",USER_DDI_NUMBER:"user_ddi_number",INSTALLATION_DDI_NUMBER:"installation_ddi_number",OTHER_DDI_NUMBER:"other_ddi_number"},t.CliPolicyValues=[t.CliPolicy.COMPANY_POLICY,t.CliPolicy.USER_DDI_NUMBER,t.CliPolicy.INSTALLATION_DDI_NUMBER,t.CliPolicy.OTHER_DDI_NUMBER],t.RoleValues={USER:"user",GUEST:"guest",SUPERADMIN:"superadmin",SUPPORT:"support",BUSINESS_ADMIN:"business_admin",ADMIN:"admin",BP_ADMIN_OPERATIONS:"bp_admin",BP_ADMIN_FINANCE:"bp_finance",DIRECTORY_ADMIN:"directory_admin",PUBLIC_CHANNELS_ADMIN:"public_channels_admin",ALL_COMPANY_CHANNELS_ADMIN:"all_company_channels_admin",CLOSED_CHANNELS_ADMIN:"closed_channels_admin",TV:"tv"},t.LoginPolicies=[{value:"RAINBOW",label:"rainbowLoginCredentials"},{value:"SAML",label:"ssoLoginCredentialsSAML",isSSO:!0},{value:"OIDC",label:"ssoLoginCredentialsOIDC",isSSO:!0},{value:"DEFAULT",label:"defaultLogin"}],t.attributes=[{name:"id",defaultValue:null},{name:"loginEmail",defaultValue:""},{name:"firstName",defaultValue:""},{name:"lastName",defaultValue:""},{name:"displayName",defaultValue:""},{name:"nickName",defaultValue:""},{name:"title",defaultValue:""},{name:"jobTitle",defaultValue:""},{name:"department",defaultValue:""},{name:"companyId",defaultValue:""},{name:"companyName",defaultValue:""},{name:"siteId",defaultValue:""},{name:"systemId",defaultValue:""},{name:"accountType",defaultValue:"free"},{name:"country",defaultValue:"FRA"},{name:"timezone",defaultValue:"Europe/Paris"},{name:"emails",defaultValue:[]},{name:"phoneNumbers",defaultValue:[]},{name:"roles",defaultValue:["user"]},{name:"adminType",defaultValue:"company_admin"},{name:"isActive",defaultValue:!1},{name:"isInitialized",defaultValue:!1},{name:"isTerminated",defaultValue:void 0},{name:"isTv",defaultValue:void 0},{name:"password",defaultValue:void 0},{name:"jid_im",defaultValue:""},{name:"jid_tel",defaultValue:""},{name:"language",defaultValue:"en"},{name:"lastAvatarUpdateDate",defaultValue:null},{name:"visibility",defaultValue:void 0},{name:"authenticationType",defaultValue:void 0},{name:"authenticationExternalUid",defaultValue:void 0},{name:"tags",defaultValue:void 0},{name:"userInfo1",defaultValue:void 0},{name:"userInfo2",defaultValue:void 0},{name:"tryNewUiCustomisation",defaultValue:void 0},{name:"softphoneOnlyCustomisation",defaultValue:void 0},{name:"fileSharingCustomisation",defaultValue:void 0},{name:"userTitleNameCustomisation",defaultValue:void 0},{name:"useRoomCustomisation",defaultValue:void 0},{name:"phoneMeetingCustomisation",defaultValue:void 0},{name:"useChannelCustomisation",defaultValue:void 0},{name:"useScreenSharingCustomisation",defaultValue:void 0},{name:"useWebRTCVideoCustomisation",defaultValue:void 0},{name:"useWebRTCAudioCustomisation",defaultValue:void 0},{name:"instantMessagesCustomisation",defaultValue:void 0},{name:"userProfileCustomisation",defaultValue:void 0},{name:"fileStorageCustomisation",defaultValue:void 0},{name:"overridePresenceCustomisation",defaultValue:void 0},{name:"changeSettingsCustomisation",defaultValue:void 0},{name:"changeTelephonyCustomisation",defaultValue:void 0},{name:"recordingConversationCustomisation",defaultValue:void 0},{name:"useGifCustomisation",defaultValue:void 0},{name:"useDialOutCustomisation",defaultValue:void 0},{name:"selectedAppCustomisationTemplate",defaultValue:void 0},{name:"guestMode",defaultValue:void 0},{name:"lastLoginDate",defaultValue:void 0}],t}]),angular.module("rainbow").filter("genericPermissionLabelFilter",[function(){return function(e){return"same_than_company"===e?"same_than_company":"enabled"===e?"authorized":"disabled"===e?"notAuthorized":e}}]),angular.module("rainbow").filter("phoneVmOverflowLabelFilter",[function(){return function(e){return"default"===e?"same_than_company":"custom"===e?"yes":"disabled"===e?"no":e}}]),angular.module("rainbow").filter("cloudPbxSubscriberCliPolicyFilter",[function(){return function(e){return"company_policy"===e?"same_than_company":"user_ddi_number"===e?"userDDINumber":"installation_ddi_number"===e?"companyPhoneNumber":"other_ddi_number"===e?"otherDDINumber":e}}]),angular.module("rainbow").filter("softphoneOnlyPermissionLabelFilter",[function(){return function(e){return e&&"same_than_company"!==e?"enabled"===e?"softphoneOnly":"disabled"===e?"allServices":e:"same_than_company"}}])},function(e,t){angular.module("rainbow").factory("Subscription",["Offer",function(e){function t(e,t,n,r,o,i,s,a,l,c,u,d,f,_,h,p,m,g,v,b,D,y,C,S,E,w,T,M,j,k,O,A){this.id=e,this.name=n,this.offerId=t,this.offerName=n||"",O&&(this.offerName=this.offerName.replace(new RegExp("\\bDemo\\b"),"Custom")),this.offerDescription=r||"Rainbow "+this.offerName,this.groupName=o||n,this.offerReference=i,this.profileId=s,this.profileName=a,this.maxNumberUsers=l,this.numberAssignedUsers=c,this.status=u,this.syncOngoing=d||!1,this.updatingMaxNumberUsers=f,void 0!==_&&(this.nbBPLicences=_),void 0!==h&&(this.nbAssignedBPUsers=h),void 0!==p&&(this.nbLicencesAssignedToECs=p),void 0!==m&&(this.nbLicencesUsed=m),void 0!==g&&(this.nbFreeLicences=g),this.businessModel=v,this.canBeSold=b,this.isDefault=D,this.isExclusive=y,this.isPrepaid=C,this.prepaidDuration=S,this.expirationDate=E,this.autoRenew=w,this.renewalTermOption=T,this.prepaidRenewalOption=M,this.hasConference=j,this.hasVoice=k,this.isDemo=void 0===O?!this.isDefault&&!this.canBeSold&&this.offerName.toLowerCase().includes("custom"):O,this.isChinaOffer=A,this.isEnterprise=function(){return this.groupName.toLowerCase().includes("enterprise")},this.isBusiness=function(){return this.groupName.toLowerCase().includes("business")},this.isEssential=function(){return this.isDefault},this.isTrial=function(){return this.isDemo},this.isTerminated=function(){return"terminated"===this.status},this.isTerminating=function(){return"terminating"===this.status},this.isUserLicense=function(){return this.isDefault||"nb_users"===this.businessModel||"usage"===this.businessModel}}return t.createFromData=function(e){return new t(e.id?e.id:e.subscriptionId,e.offerId,e.offerName,e.offerDescription,e.groupName,e.offerReference,e.profileId,e.profileName,e.maxNumberUsers,e.numberAssignedUsers,e.status,e.syncOngoing,e.updatingMaxNumberUsers,e.nbBPLicences,e.nbAssignedBPUsers,e.nbLicencesAssignedToECs,e.nbLicencesUsed,e.nbFreeLicences,e.businessModel,e.canBeSold,e.isDefault,e.isExclusive,e.isPrepaid,e.prepaidDuration,e.expirationDate,e.autoRenew,e.renewalTermOption,e.prepaidRenewalOption,e.hasConference,e.hasVoice,e.isDemo,e.isChinaOffer)},t.PrepaidRenewalOptions={RENEW_BILLED:"billed",RENEW_ALLOCATED:"allocated"},t.subscriptionComparator=function(t,n){var r=new e(t.offerId,t.offerName,t.offerDescription,t.groupName,t.offerReference,t.profileId,t.canBeSold,t.businessModel,t.isDefault,t.isExclusive,t.isPrepaid,t.prepaidDuration,t.autoSubscribe,t.hasConference,t.hasVoice,t.isDemo,t.isBundle,t.isChinaOffer),o=new e(n.offerId,n.offerName,n.offerDescription,n.groupName,n.offerReference,n.profileId,n.canBeSold,n.businessModel,n.isDefault,n.isExclusive,n.isPrepaid,n.prepaidDuration,n.autoSubscribe,n.hasConference,n.hasVoice,n.isDemo,n.isBundle,n.isChinaOffer);return e.offerComparator(r,o)},t.isUserLicense=function(e){return e.isDefault||"nb_users"===e.businessModel||"usage"===e.businessModel},t.isTvLicense=function(e){return"Room"===e.groupName},t.excludeTvLicense=function(e){return!t.isTvLicense(e)},t.isExclusive=function(e){return e.isDefault||e.isExclusive},t.isOptional=function(e){return!t.isExclusive(e)},t.isConference=function(e){return t.isOptional(e)&&(e.hasConference||"usage"===e.businessModel)},t.isNotConference=function(e){return t.isOptional(e)&&!(e.hasConference||"usage"===e.businessModel)},t.withLicenses=function(e){return e.isDefault||"usage"===e.businessModel||"nb_users"===e.businessModel&&e.maxNumberUsers>0},t.isPrepaid=function(e){return e.isPrepaid},t.isMonthly=function(e){return!e.isPrepaid},t}])},function(e,t){angular.module("rainbow").factory("IceServer",[function(){function e(e,t,n,r){this.id=e,this.urls=t,this.username=n,this.credential=r}return e.createFromData=function(t){return new e(t.id,t.urls,t.username,t.credential)},e}])},function(e,t){angular.module("rainbow").factory("PhoneNumber",[function(){function e(e,t,n,r,o,i,s,a,l,c,u,d,f,_,h,p,m,g,v,b,D,y,C,S,E,w,T){this.id=e,this.shortNumber=t,this.number=n,this.numberE164=r,this.pbxUserId=o,this.userId=i,this.type=s,this.deviceType=a,this.pbxId=l,this.isFromSystem=c,this.isMonitored=u,this.systemId=d,this.country=f,this.voiceMailNumber=_,this.deviceName=h,this.firstName=p,this.lastName=m,this.internalNumber=g,angular.isDefined(v)&&(this.isCloudPbxDDI=v),angular.isDefined(b)&&(this.isCloudPbxDefault=b),D&&(this.password=D),S&&(this.userDisplayName=S),angular.isDefined(y)&&(this.isOxoPbxDDI=y,this.isCloudPbxDDI=y),angular.isDefined(C)&&(this.isOxoPbxDefault=C,this.isCloudPbxDefault=C),E&&(this.overflowToVoicemail=E),w&&(this.barringOptions=w),angular.isDefined(T)&&(this.isRecordingActivated=T)}return e.SelectTypeEnum={EXTENSION:"extension",EXTENSION_CLOUD:"extension-cloud",GROUP_CLOUD:"group-cloud",DDI_CLOUD:"ddi-cloud",FREE_DDI_CLOUD:"free-ddi-cloud",FREE_DDI_GROUP_CLOUD:"free-ddi-group-cloud"},e.createFromData=function(t){return new e(t.id?t.id:t.phoneNumberId,t.shortNumber,t.number,t.numberE164,t.pbxUserId,t.userId,t.type,t.deviceType,t.pbxId,t.isFromSystem,t.isMonitored,t.systemId,t.country,t.voiceMailNumber,t.deviceName,t.firstName,t.lastName,t.internalNumber,t.isCloudPbxDDI,t.isCloudPbxDefault,t.password,t.isOxoPbxDDI,t.isOxoPbxDefault,t.userDisplayName,t.overflowToVoicemail,t.barringOptions,t.isRecordingActivated)},e}])},function(e,t){angular.module("rainbow").service("helpersService",[function(){this.chars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",this.findIndex=function(e,t){return e.findIndex(t)},this.checkBrowser=function(e){return-1!==navigator.userAgent.indexOf(e)},this.randomString=function(e){e=e||10;for(var t,n="";e>0;)t=Math.floor(Math.random()*this.chars.length),n+=this.chars.charAt(t),e--;return n}}])},function(e,t){angular.module("rainbow").service("errorHelperService",["$filter",function(e){var t=this;t.ErrorCodeLabels={"-1":"unknownError",0:"errorNoServerResponse",400:"Bad request",4e5:"Bad request",400210:"invalidPhoneNumber",400400:"errorWrongPassword",400500:"invalidFile",400504:"companyNameAlreadyExist",400505:"BPCompanyWithoutPaymentConfigurationData",400506:"NoActiveSubscriptionToOffer",400509:"errorDecreaseSubscriptionForbidden",400511:"ActiveDirectoryDomainAlreadyUsed",400514:"errorDecreaseSubscriptionForbidden",400552:"BPCompanyAndECCompanyMustNotBeSame",400601:"outboundAndInternalPrefixesCantBeIdentical",400973:"noCreateUserPermission",400975:"userAlreadyExistsInOtherCompany",400983:"userAlreadyExistsInOtherCompany",400990:"noUserFound",400993:"noUserFound",401:"Authorization failure",401102:"Authorization failure",401202:"errorInvalidToken",401500:"errorUnauthorized",401501:"errorLoginForbidden",401510:"errorUnauthorized",401520:"errorUserNotActive",401521:"errorUserNotActive",403:"Forbidden",403e3:"accessDeniedNotRequiredRole",403001:"accessDeniedNotOwner",403034:"cantDeselectDefaultWebRTCGateway",403035:"cantDeleteDefaultWebRTCGateway",403060:"confLockMsg",403072:"errorIsoMd5Mismatch",403153:"notAllowedToAccessMeeting",403154:"notAllowedToAccessMeeting",403200:"notAllowedToChangeRole",403203:"notAllowedToChangeRole",403204:"notAllowedToMoveExistingUserToThisCompany",403205:"notAllowedToManageUser",403301:"notAllowedToManageCompany",403304:"notAllowedToAddAnotherAdmin",403311:"errorRemoveSyncOngoingSubscriptionForbidden",403315:"errorRemoveSubscriptionForbidden",403316:"errorRemoveAdminAllocatedSubscriptionForbidden",403317:"errorRemoveClientAllocatedSubscriptionForbidden",403318:"errorAllocatedSubscriptionRemoveForbidden",403335:"errorDecreasePrepaidSubscriptionForbidden",403400:"notAllowedDeleteAppOwner",403500:"notAllowedBlacklistedEmail",403501:"notAllowedBlacklistedEmail",403503:"NotAllowedSelfRegistrationEmail",403504:"notAllowedLoggedInUserEmail",403507:"notAllowedSupportEmail",403513:"companyNotABpCompany",403516:"companyNotABpCompany",403517:"companySeenAsTerminated",403518:"companyBpTypeIncompatible",403519:"companyAlreadyLinkedToBp",403520:"companyNotVadBp",403526:"isolatedUser",403531:"resetPasswordBlocked",403532:"resetPasswordForbidden",403608:"errorAssignSubscriptionSyncOngoing",403609:"errorAssignSubscriptionSyncOngoing",403610:"maxSubscriptionAllocationReached",403611:"notAllowedToCreateAnEquipment",403615:"maximumNumberConferenceParticipantsReach",403616:"subscriptionCompanyAdminEssentialAlreadyExists",403617:"roleCompanyAdminEssentialAlreadyExists",403620:"MaximumNumberRoomUsersReach",403621:"MaximumNumberConvUsersReach",403624:"notAllowedRemoveService",403625:"errorAllocatedSubscriptionRemoveForbidden",403626:"restrictedConvAccess",403630:"uploadErrorMaxQuotaReached",403655:"userAlreadyCompanyMember",403670:"errorOperationForbiddenOnGuest",403700:"errorDeleteSiteWithSystems",403701:"errorDeleteOrganisationLinkedCompany",403702:"errorDeleteCompanyWithSubscriptions",403703:"errorDeleteCompanyWithSites",403704:"errorDeleteCompanyWithUsers",403705:"errorDeleteCompanyStillTerminated",403706:"errorRemoveBusinessPartnerRole",403719:"externalTrunkChangeForbidden",403721:"numberingPlanCantBeUpdated",403722:"outgoingPrefixChangeForbidden",403723:"cannotRemoveCompanyPublicNumber",403724:"notAllowedDeleteCloudPbxWithPublicNumbers",403725:"notAllowedDeleteCloudPbxWithUsedExtensions",404:"resourceNotFound",404e3:"resourceNotFound",404001:"resourceNotFoundUpdateImpossible",404002:"resourceNotFoundDeleteImpossible",404116:"archivedOrDeletedConversation",404300:"noValidOfferReferenceInACTISFile",404301:"offerNotFound",409e3:"userAlreadyCreated",409005:"inviteUsersError",409008:"emptyVoiceMessage",409011:"noMessagesToExport",409251:"DDIAlreadyAssociatedToCompany",409552:"internalNumberAlreadyUsed",409555:"publicNumberAlreadyExists",409557:"notAllowedDeleteUserAssociatedToCloudPbx",409600:"userAlreadyExist",409601:"invitationReSentConflict",409602:"userAlreadyNetworkMember",409603:"invitationReSentConflict",409620:"offerAlreadySubscribed",409623:"conferenceOfferAlreadySubscribed",409625:"errorUpdateSyncOngoingSubscriptionForbidden",409800:"companyNotIrBp",409801:"companyNotLinkedToBp",409802:"actisCompanyAdminMismatch",409803:"actisCompanyNameMismatch",413e3:"uploadErrorTooLarge",500:"errorInternalServerError",1001:"extensionNotLinkedToEquipment",1002:"extensionHasNoIdentifier",1003:"extensionDoesNotExist",1004:"extensionLookupFailure",1005:"extensionConflict",1006:"nonUniqueEquipmentForExtension",1007:"userAlreadyAssociatedToExtension",1008:"extensionAssociatedToAnotherUser",1009:"failedToAttachExtension",1010:"userHasNoExtension",1011:"userHasTooManyExtensions",1012:"failedToDetachExtension"},t.portalErrorCodeLabels={massprovisioning:{4e5:"invalidValue",400501:"invalidFile",400502:"invalidColumnName",400504:"invalidFile",400506:"invalidValueInActionColumn",400508:"noDataToImport",400600:"deviceTypeCannotBeUpdated",400601:"duplicateDeviceIds",400602:"duplicateMacAdresses",400603:"invalidDeviceTypes",400604:"missingDeviceTypeInLines",400605:"invalidEquipment",403610:"errorMaxSubscriptionReached",404600:"deviceDoesNotExist",404601:"noCloudPbxInCompany"},rvcpprovisioning:{403e3:"overflowConfigurationChangesStillInProgress",403622:"noVoiceLicenceAllocatedToUser",403694:"forbiddenOperationEquipmentHasGroups",403699:"forbiddenOperationEquipmentHasWelcomeService",403728:"forbiddenOperationEquipmentHasDevices",403744:"forbiddenOperationUserAlreadyAssocToWelcome",403745:"forbiddenOperationGroupAlreadyAssocToWelcome",403752:"forbiddenOperationMoreThanThreeConsecutiveMenus",403754:"forbiddenOperationMenuLinkedToAnotherMenu",403765:"forbiddenOperationMenuAlreadyLinkedToAnotherMenu",403767:"forbiddenOperationSubMenuLinkedToItsParent",409556:"companyHasAlreadyACloudPbx",409560:"macAddressAlreadyUsed",409561:"deviceStillUsedByUser",409562:"deviceAlreadyUsed",409563:"deviceAlreadyUsedByAnotherSystem",403739:"forbiddenOperationWelcomeServiceUsed",413e3:"fileTooLarge",415e3:"audioFileTypeNotSupported"},authentication:{401102:"Authorization failure",401103:"Authorization failure",401500:"Authorization failure",401520:"Forbidden",401521:"Forbidden",401522:"Forbidden",401523:"Forbidden",401530:"Authorization failure",401600:"Authorization failure",401700:"Authorization failure",403e3:"Authorization failure",5e5:"errorInternalServerError",503e3:"resourceNotFound"}},t.handleErrorMessage=function(e,n){t.getErrorFullMessage(e,n)},t.handleError=function(e,n){var r=t.getPortal(e),o=e.status;e.data&&e.data.errorDetailsCode&&(o=e.data.errorDetailsCode);var i=new Error(t.getDetailedErrorMessage(e));return i.status=e.status,i.fieldErrors=t.getBadRequestFieldErrors(e),i.errorDetailsCode=o,i.errorDetailsLabel=t.getErrorCodeLabel(o,r),i.translatedMessage=t.getTranslatedErrorMessage(e,n,r),i.portal=r,i},t.getPortal=function(e){var t=e.config?e.config.url:void 0,n=t?t.match(/api\/rainbow\/(\w+)\//):void 0;return n?n[1]:void 0},t.getBadRequestFieldErrors=function(e){var n={};if(400===e.status){if(e.data&&e.data.errorDetails instanceof Array)e.data.errorDetails.forEach((function(e){n[e.param]||(n[e.param]={ok:!1,message:e.msg,value:e.value})}));else if(e.data&&e.data.errorDetails&&e.data.errorDetails.param){var r=e.data.errorDetails;n[r.param]={ok:!1,message:r.msg,value:r.value}}e.data&&400511===e.data.errorDetailsCode&&(n.office365Tenant={ok:!1,message:t.ErrorCodeLabels[400511]}),e.data&&400601===e.data.errorDetailsCode&&(n.outgoingPrefix={ok:!1,message:t.ErrorCodeLabels[400601]},n.numberingPrefix={ok:!1,message:t.ErrorCodeLabels[400601]})}return n},t.getErrorMessage=function(e){var n=t.getStatusErrorMessage(e);return e.data&&e.data.errorMsg&&(n="",e.data.errorDetails?e.data.errorDetails instanceof Array?n+="one or more fields are invalid":e.data.errorDetails.msg?n+=e.data.errorDetails.msg:n+=e.data.errorDetails:n+=e.data.errorMsg),n},t.getStatusErrorMessage=function(e){return 500===e.status?"Internal server error":-1===e.status?"Service unavailable":415===e.status?"Unsupported Media Type":413===e.status?"Request Entity Too Large":404===e.status?"Resource not found":403===e.status?"Access is forbidden":401===e.status?"Authorization failure":400===e.status?"Bad request":e.statusText?e.statusText:"Unknown error"},t.getDetailedErrorMessage=function(e){var n=t.getErrorMessage(e);return e.data&&e.data.errorDetailsData&&"string"==typeof e.data.errorDetailsData&&(n+=" "+e.data.errorDetailsData),e.data&&e.data.errorDetails&&e.data.errorDetails instanceof Array&&e.data.errorDetails.length>0&&(n+=" : "+e.data.errorDetails[0].msg),n},t.getTranslatedErrorMessage=function(e,n,r){if(500===e.status)return t.getLocalizedError("500");var o=null;e.data&&e.data.errorDetailsCode&&(o=e.data.errorDetailsCode);var i=null;return i=e.data&&e.data.errorDetailsData?Object.assign(e.data.errorDetailsData,n):n,t.getTranslatedErrorMessageByDetailsCode(o,i,t.getErrorMessage(e),r)},t.getTranslatedErrorMessageByDetailsCode=function(n,r,o,i){var s;return n&&(s=t.getLocalizedError(n,r,i)),s||(s=n?e("translate")("anErrorOccurred",{errorcode:n}):e("translate")("anErrorOccurred"),o&&(s+=" ("+e("translate")(o)+")")),s},t.getLocalizedError=function(n,r,o){var i;if(n){var s=t.getErrorCodeLabel(n,o);if(s){var a=e("translate")(s,r);a!==s&&(i=a)}}return i},t.getErrorCodeLabel=function(e,n){return n&&t.portalErrorCodeLabels[n]&&t.portalErrorCodeLabels[n][e]?t.portalErrorCodeLabels[n][e]:t.ErrorCodeLabels[e]},t.getErrorFullMessage=function(e,t){var n=t?t+" failure : ":"";e&&e.data?(n+=e.data.errorMsg,e.data.errorDetails&&(n+=" - ",e.data.errorDetails instanceof Array?e.data.errorDetails.forEach((function(e){n+=e.msg})):e.data.errorDetails.msg?n+=JSON.stringify(e.data.errorDetails.msg):n+=e.data.errorDetails)):n+="Unknow error - Something goes really wrong";var r="";return e&&e.headers&&(r=e.headers("x-rainbow-request-id"),n+=" x-rainbow-request-id = "+r),n}}])},function(e,t,n){n.r(t);var r=n(3),o=n.n(r);angular.module("rainbow").service("pushImageHelperService",["$log","$q","$http","errorHelperService",function(e,t,n,r){var i=this;i.pushImage=function(s,a,l){return t((function(c,u){var d=null;if(l&&l.nosize)d=function(){var e=new Image;return e.src=a,t.when(e)};else{var f=l&&l.width?l.width:512,_=l&&l.height?l.height:512;d=function(){return i.resizeImage(a,f,_)}}d().then((function(t){var a=i.getBinaryData(t);n({method:"POST",url:s,headers:o.a.getPostHeader("image/"+a.type),data:a.data,transformRequest:[]}).then((function(){e.info("[pushImageHelperService] pushImage : success"),c()}),(function(t){var n=r.handleError(t);u(n),e.error("[pushImageHelperService] "+r.getErrorFullMessage(t,"pushImage"))}))}))}))},i.resizeImage=function(e,n,r){return t((function(t){var o=new Image;o.src=e,o.onload=function(){var e=o.width,i=o.height;e>i?e>n&&(i*=n/e,e=n):i>r&&(e*=r/i,i=r);var s=document.createElement("canvas");s.width=e,s.height=i,o.width=e,o.height=i,s.getContext("2d").drawImage(this,0,0,e,i);var a=new Image;a.src=s.toDataURL("image/png"),t(a)}}))},i.getBinaryData=function(e){for(var t=e.src.indexOf("image/")+6,n=e.src.indexOf(";base64,"),r=e.src.slice(n+8),o=e.src.slice(t,n),i=window.atob(r),s=i.length,a=new Uint8Array(s),l=0;l<s;l++)a[l]=i.charCodeAt(l);return{type:o,data:a}}}])},function(e,t,n){n.r(t);var r=n(18),o=n(3),i=n.n(o),s=n(26),a=n.n(s),l=n(2),c=n.n(l);angular.module("rainbow").service("botService",["$http","$q","$log","$rootScope","$interval","conversationService",function(e,t,n,o,s,l){var u=this;u.listeners=[],u.start=function(e){n.info("[botService] === STARTING ===");var r=performance.now();return t((function(t,o){u.init(),u.startListeners(),u.getBots().then((function(o){n.info(""),u.findEmily(o),u.unlockWaitingConversations();var i=Math.round(performance.now()-r);e.push({service:"botService",startDuration:i}),n.info("[botService] === STARTED ("+i+" ms) ==="),n.info(""),t()})).catch((function(e){n.info("[botService] === STARTING FAILURE === "+e.message),o()}))}))},u.stop=function(){n.info("[botService] === STOPPED ===")},u.init=function(){u.emily=null,this.portalURL=config.restServerUrl+"/api/rainbow/enduser/v1.0/"},u.startListeners=function(){u.listeners.push(o.$on("ON_COMPANY_SUPPORT_AVATAR_CHANGE_EVENT",u.onSupportAvatarChange))},u.stopListeners=function(){for(var e;e=listeners.pop();)e()},u.onSupportAvatarChange=function(e,t){n.info("[botService] Emily avatar has been changed"),t.companyId===c.a.userContact.company.id&&u.getEmilyBot().then((function(e){u.updateEmily(e)})).catch((function(e){n.warn("[botService] Impossible to update Emily - "+e.stack||!1)}))},u.getBots=function(r){return t((function(t,o){var s=u.portalURL+"bots?format="+(r||"full");e({method:"GET",url:s,headers:i.a.getRequestHeader()}).then((function(e){n.info("[botService] getBots success"),t(e.data.data)})).catch((function(e){var t="getBots failure "+e.data.errorDetails+" with status "+e.status;n.error("[botService] "+t),o(new Error(t))}))}))},u.getEmilyBot=function(){return t((function(t,r){var o=u.portalURL+"bots/rainbow-support";e({method:"GET",url:o,headers:i.a.getRequestHeader()}).then((function(e){n.info("[botService] getEmilyBot success"),t(e.data.data)})).catch((function(e){var t="getEmilyBot failure "+e.data.errorDetails+" with status "+e.status;n.error("[botService] "+t),r(new Error(t))}))}))},u.findEmily=function(e){e.forEach((function(e){"Emily"===e.name&&(n.info("[botService] Emily is found"),u.updateEmily(e))}))},u.updateEmily=function(e){u.emily=u.emily||e,u.emily.name=e.name,u.emily.id=e.id,u.emily.avatarId=e.avatarId||e.id,u.emily.lastAvatarUpdateDate=e.lastAvatarUpdateDate,u.emily.capabilities=e.capabilities,u.emily.avatarUrl=u.getBotAvatarUrl(u.emily.avatarId,u.emily.lastAvatarUpdateDate),c.a.createBotContact(u.emily.jid,u.emily.name,u.emily.id,u.emily.avatarUrl,u.emily.capabilities),n.info("[botService] Emily contact has been updated")},u.getEmily=function(){return u.emily},u.openConversationWithEmily=function(){return t((function(e,t){n.info("[botService] openConversationWithEmily");var r=c.a.getContactByJid(u.emily.jid);l.getOrCreateOneToOneConversation(r.jid).then((function(t){l.setActiveConversation(t),e(t)})).catch((function(){n.error("[botService] openConversationWithEmily failure"),t()}))}))},u.unlockWaitingConversations=function(){l.unlockWaitingBotConversations(!0)},u.getBotAvatarImage=function(e,r){return t((function(t,o){n.info("[botService] getBotAvatarImage");var i=u.getBotAvatarUrl(e,r),a=new Image,l=0;a.onload=function(){var o=this;s((function(){n.log("[botService] Load bot avatar "+e+" lastAvatarUpdateDate "+r+" success"),t(o)}),1,1)},a.onerror=function(){l++,s((function(){n.warn("[botService] Load bor avatar "+e+" lastAvatarUpdateDate "+r+" failure"),1===l?(n.warn("[botService] Fallback to default emily avatar"),a.src="/resources/skins/rainbow/images/conversation/icon_headset.png"):o(new Error("No image found"))}),1,1)},a.src=i}))},u.getBotAvatarUrl=function(e,t){let n=config.webservices.protocol+"://"+config.webservices.currentServer;a.a.cdn&&(n=a.a.cdnServer);let o=n+"/api/avatar/"+e+"?size=120";return o+=t?"&update="+Object(r.MD5)(r.enc.Latin1.parse(t)).toString(r.enc.Hex):"&update="+Date.now(),o}}])},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(221),i=n(225),s=n(334),a=n(1),l=n(4),c=n(11),u=n(54),d=n(71),f=n(16),_=n(24),h=n(3),p=n(5),m=n(7),g=n(25),v=n(2),b=n(0),D=n(39),y=n(34),C=n(58),S=n(76);angular.module("rainbow").service("conversationService",["$q","$rootScope","$http","$interval","Conversation","videoService","telephonyService","ConversationServiceHistoryHandler","SearchTextConvResultsFactory","webConferenceService","webrtcGatewayService","fileServerService",function(e,t,n,E,w,T,M,j,k,O,A,I){const P=this;this.started=!1,P.start=n=>{b.default.info(""),b.default.info("[conversationService] === STARTING ===");const r=e.defer(),o=performance.now();return this.pendingMessages={},this.activeConversation=null,this.conversations=[],this.conversationCreationPromise={},this.inCallConversations=[],this.idleConversations=[],this.involvedContactIds=[],this.rxSubject=new c.Subject,this.pgiServiceSubscription=null,this.currentMissedIMCounter=0,this.currentMissedCallCounter=0,this.searchTextConvResults=k(),this.waitingBotConversations=[],this.botServiceReady=!1,this.isBasicCallAllowed=m.default.isFeatureEnabled(m.default.FeaturesEnum.TELEPHONY_BASIC_CALL),this.isSecondCallAllowed=m.default.isFeatureEnabled(m.default.FeaturesEnum.TELEPHONY_SECOND_CALL),this.attachHandlers(),b.default.info("[conversationService] getServerConversations"),r.resolve(),P.getServerConversations().then(()=>{P.started=!0,P.linkAllActiveCallsToConversations(),P.cleanUnwantedConversations(),P.pgiServiceSubscription=C.default.conferenceSessionsSubject.subscribe(e=>{e.id===C.default.getPstnInstantConferenceEndpointId()&&"created"===e.action&&C.default.subscribeToMyConferenceSessions(e=>{this.onPGiConferenceStateEvent(e)})});const e=Math.round(performance.now()-o);n.push({service:"conversationService",startDuration:e}),b.default.info("[conversationService] === STARTED ("+e+" ms) ===")}).catch(e=>{b.default.info("[conversationService] === STARTING FAILURE === "+e.message),r.reject(e)}),this.contactUpdateEventHandlerCleaner&&(b.default.warn("[conversationService] already subscribed to event ON_CONTACT_UPDATED_EVENT, rehandle it"),this.contactUpdateEventHandlerCleaner()),this.contactUpdateEventHandlerCleaner=t.$on("ON_CONTACT_UPDATED_EVENT",this.onContactChangedEvent),this.roomUpdateEventHandlerCleaner&&(b.default.warn("[conversationService] already subscribed to event "+y.default.ROOM_UPDATE_EVENT+", rehandle it"),this.roomUpdateEventHandlerCleaner()),this.roomUpdateEventHandlerCleaner=t.$on(y.default.ROOM_UPDATE_EVENT,this.onRoomChangedEvent),this.roomAddConferenceEventHandlerCleaner&&(b.default.warn("[conversationService] already subscribed to event "+y.default.ROOM_ADD_CONF_ENDPOINT_EVENT+", rehandle it"),this.roomAddConferenceEventHandlerCleaner()),this.roomAddConferenceEventHandlerCleaner=t.$on(y.default.ROOM_ADD_CONF_ENDPOINT_EVENT,this.onRoomAddConferenceEvent),this.roomHistoryUpdateEventHandlerCleaner&&(b.default.warn("[conversationService] already subscribed to event "+y.default.ROOM_HISTORY_UPDATE_EVENT+", rehandle it"),this.roomHistoryUpdateEventHandlerCleaner()),this.roomHistoryUpdateEventHandlerCleaner=t.$on(y.default.ROOM_HISTORY_UPDATE_EVENT,this.onRoomHistoryChangedEvent),this.roomAdminMessageEventHandlerCleaner&&(b.default.warn("[conversationService] already subscribed to event "+y.default.ROOM_ADMIN_MESSAGE_EVENT+", rehandle it"),this.roomAdminMessageEventHandlerCleaner()),this.roomAdminMessageEventHandlerCleaner=t.$on(y.default.ROOM_ADMIN_MESSAGE_EVENT,this.onRoomAdminMessageEvent),this.callUpdateEventHandlerCleaner&&(b.default.warn("[conversationService] already subscribed to event ON_CALL_UPDATED_EVENT, rehandle it"),this.callUpdateEventHandlerCleaner()),this.callUpdateEventHandlerCleaner=t.$on("ON_CALL_UPDATED_EVENT",(e,t)=>{this.onCallEvent(t)}),this.webRtcCallUpdateEventHandlerCleaner&&(b.default.warn("[conversationService] already subscribed to event ON_WEBRTC_GW_CALL_UPDATED_EVENT, rehandle it"),this.webRtcCallUpdateEventHandlerCleaner()),this.webRtcCallUpdateEventHandlerCleaner=t.$on("ON_WEBRTC_GW_CALL_UPDATED_EVENT",(e,t)=>{this.onCallEvent(t,!0)}),this.conversationUpdateEventHandlerCleaner&&(b.default.warn("[conversationService] already subscribed to event ON_CONVERSATIONS_UPDATED_EVENT, rehandle it"),this.conversationUpdateEventHandlerCleaner()),this.conversationUpdateEventHandlerCleaner=t.$on("ON_CONVERSATIONS_UPDATED_EVENT",this.onConversationEvent),this.capacityUpdateEventHandlerCleaner&&(b.default.warn("[conversationService] already subscribed to event ON_UPDATE_MYCONTACT_EVENT, rehandle it"),this.capacityUpdateEventHandlerCleaner()),this.capacityUpdateEventHandlerCleaner=t.$on("ON_UPDATE_MYCONTACT_EVENT",this.onMyContactChangedEvent),this.telephonyStateEventHandlerCleaner&&(b.default.warn("[conversationService] already subscribed to event ON_TELEPHONY_STATUS_CHANGED_EVENT, rehandle it"),this.telephonyStateEventHandlerCleaner()),this.telephonyStateEventHandlerCleaner=t.$on("ON_TELEPHONY_STATUS_CHANGED_EVENT",this.onTelephonyStateChangeEvent),this.conferenceStateEventHandlerCleaner&&(b.default.warn("[conversationService] already subscribed to event ON_CONFERENCE_STATE_EVENT, rehandle it"),this.conferenceStateEventHandlerCleaner()),this.conferenceStateEventHandlerCleaner=t.$on("ON_CONFERENCE_STATE_EVENT",this.onConferenceStateChangeEvent),this.conferenceParticipantsEventHandlerCleaner&&(b.default.warn("[conversationService] already subscribed to event ON_CONFERENCE_PARTICIPANT_EVENT, rehandle it"),this.conferenceParticipantsEventHandlerCleaner()),this.conferenceParticipantsEventHandlerCleaner=t.$on("ON_CONFERENCE_PARTICIPANT_EVENT",this.onConferenceParticipantChangeEvent),this.reloadCapabilitiesForMyContactEventHandlerCleaner&&(b.default.warn("[conversationService] already subscribed to event ON_RELOAD_CAPABILITIES_FOR_MY_CONYTACT, rehandle it"),this.reloadCapabilitiesForMyContactEventHandlerCleaner()),this.reloadCapabilitiesForMyContactEventHandlerCleaner=t.$on("ON_RELOAD_CAPABILITIES_FOR_MY_CONYTACT",this.onReloadCapabilitiesForMyContactEvent),r.promise},this.reconnect=function(){this.attachHandlers()},this.attachHandlers=function(){if(this.removeHandlers(),v.default.userContact&&!v.default.userContact.instantMessagesEnabled)return b.default.warn("[conversationService] attachHandlers skipped - instantMessagesEnabled : false"),this.conversationServiceEventHandler=i.ConversationServiceEventHandler.create(t,w,I,A,this),void(this.messageHandlerRef||(this.messageHandlerRef=p.default.addHandler((function(e){return P.conversationServiceEventHandler.onChatMessageReceived(e),!0}),"jabber:iq:recordingP2P","message","chat")));b.default.info("[conversationService] attachHandlers"),this.conversationHistoryHandler=j.create(this),this.conversationServiceEventHandler=i.ConversationServiceEventHandler.create(t,w,I,A,this),this.conversationServiceBulkHistoryHandler=new s.ConversationServiceBulkHistoryHandler(this,I),p.default.addHistoryHandler(e=>P.conversationHistoryHandler.onHistoryMessageReceived(e)),p.default.addBulkHistoryHandler(e=>P.conversationServiceBulkHistoryHandler.onHistoryMessageReceived(e)),p.default.addSearchTextHandler((e,t)=>{if(P.searchTextConvResults.isCurrentQuery(e)){const e=P.conversationHistoryHandler.onSearchTextMessageReceived(t);e&&this.storeSearchTextResult(e)}}),this.messageHandlerRef||(this.messageHandlerRef=p.default.addHandler((function(e){return P.conversationServiceEventHandler.onChatMessageReceived(e),!0}),null,"message","chat")),this.messageMucHandlerRef||(this.messageMucHandlerRef=p.default.addHandler((function(e){return P.conversationServiceEventHandler.onChatMessageReceived(e),!0}),null,"message","groupchat")),this.fileMessageHandlerRef||(this.fileMessageHandlerRef=p.default.addHandler((function(e){return P.conversationServiceEventHandler.onFileMessageReceived(e),!0}),null,"message","file")),this.webrtcMessageHandlerRef||(this.webrtcMessageHandlerRef=p.default.addHandler((function(e){return P.conversationServiceEventHandler.onWebRTCMessageReceived(e),!0}),null,"message","webrtc")),this.convMessageHandlerRef||(this.convMessageHandlerRef=p.default.addHandler((function(e){return P.conversationServiceEventHandler.onManagementMessageReceived(e),!0}),null,"message","management")),this.receiptMessageHandlerRef||(this.receiptMessageHandlerRef=p.default.addHandler((function(e){return P.conversationServiceEventHandler.onReceiptMessageReceived(e),!0}),null,"message")),this.audioConfMessageHandlerRef||(this.audioConfMessageHandlerRef=p.default.addHandler((function(e){return P.conversationServiceEventHandler.onConferenceMessageReceived(e),!0}),"jabber:x:audioconference","message","chat")),this.aksSharingHandlerRef||(this.aksSharingHandlerRef=p.default.addHandler(e=>(this.onAskSharingMessageReceived(e),!0),"http://jabber.org/protocol/commands","iq"))},this.removeHandlers=function(){b.default.info("[conversationService] removeHandlers "),this.conversationHistoryHandler&&(this.conversationHistoryHandler=null),this.conversationServiceEventHandler&&(this.conversationServiceEventHandler=null),this.conversationServiceBulkHistoryHandler&&(this.conversationServiceBulkHistoryHandler=null),this.messageHandlerRef&&(p.default.deleteHandler(this.messageHandlerRef),this.messageHandlerRef=null),this.fileMessageHandlerRef&&(p.default.deleteHandler(this.fileMessageHandlerRef),this.fileMessageHandlerRef=null),this.webrtcMessageHandlerRef&&(p.default.deleteHandler(this.webrtcMessageHandlerRef),this.webrtcMessageHandlerRef=null),this.convMessageHandlerRef&&(p.default.deleteHandler(this.convMessageHandlerRef),this.convMessageHandlerRef=null),this.receiptMessageHandlerRef&&(p.default.deleteHandler(this.receiptMessageHandlerRef),this.receiptMessageHandlerRef=null),this.messageMucHandlerRef&&(p.default.deleteHandler(this.messageMucHandlerRef),this.messageMucHandlerRef=null),this.recordingMessageHandlerRef&&(p.default.deleteHandler(this.recordingMessageHandlerRef),this.recordingMessageHandlerRef=null),this.audioConfMessageHandlerRef&&(p.default.deleteHandler(this.audioConfMessageHandlerRef),this.audioConfMessageHandlerRef=null),this.aksSharingHandlerRef&&(p.default.deleteHandler(this.aksSharingHandlerRef),this.aksSharingHandlerRef=null)},P.stop=function(){return b.default.info("[conversationService] === STOPPING ==="),this.conversations=null,this.messageHandlerRef&&(p.default.deleteHandler(this.messageHandlerRef),this.messageHandlerRef=null),this.fileMessageHandlerRef&&(p.default.deleteHandler(this.fileMessageHandlerRef),this.fileMessageHandlerRef=null),this.webrtcMessageHandlerRef&&(p.default.deleteHandler(this.webrtcMessageHandlerRef),this.webrtcMessageHandlerRef=null),this.recordingMessageHandlerRef&&(p.default.deleteHandler(this.recordingMessageHandlerRef),this.recordingMessageHandlerRef=null),this.audioConfMessageHandlerRef&&(p.default.deleteHandler(this.audioConfMessageHandlerRef),this.audioConfMessageHandlerRef=null),this.aksSharingHandlerRef&&(p.default.deleteHandler(this.aksSharingHandlerRef),this.aksSharingHandlerRef=null),this.contactUpdateEventHandlerCleaner&&(this.contactUpdateEventHandlerCleaner(),this.contactUpdateEventHandlerCleaner=null),this.roomUpdateEventHandlerCleaner&&(this.roomUpdateEventHandlerCleaner(),this.roomUpdateEventHandlerCleaner=null),this.roomAddConferenceEventHandlerCleaner&&(this.roomAddConferenceEventHandlerCleaner(),this.roomAddConferenceEventHandlerCleaner=null),this.roomAdminMessageEventHandlerCleaner&&(this.roomAdminMessageEventHandlerCleaner(),this.roomAdminMessageEventHandlerCleaner=null),this.callUpdateEventHandlerCleaner&&(this.callUpdateEventHandlerCleaner(),this.callUpdateEventHandlerCleaner=null),this.conversationUpdateEventHandlerCleaner&&(this.conversationUpdateEventHandlerCleaner(),this.conversationUpdateEventHandlerCleaner=null),this.capacityUpdateEventHandlerCleaner&&(this.capacityUpdateEventHandlerCleaner(),this.capacityUpdateEventHandlerCleaner=null),this.telephonyStateEventHandlerCleaner&&(this.telephonyStateEventHandlerCleaner(),this.telephonyStateEventHandlerCleaner=null),this.reloadCapabilitiesForMyContactEventHandlerCleaner&&(this.reloadCapabilitiesForMyContactEventHandlerCleaner(),this.reloadCapabilitiesForMyContactEventHandlerCleaner=null),this.conferenceParticipantsEventHandlerCleaner&&(this.conferenceParticipantsEventHandlerCleaner(),this.conferenceParticipantsEventHandlerCleaner=null),this.conferenceStateEventHandlerCleaner&&(this.conferenceStateEventHandlerCleaner(),this.conferenceStateEventHandlerCleaner=null),this.webRtcCallUpdateEventHandlerCleaner&&(this.webRtcCallUpdateEventHandlerCleaner(),this.webRtcCallUpdateEventHandlerCleaner=null),this.roomHistoryUpdateEventHandlerCleaner&&(this.roomHistoryUpdateEventHandlerCleaner(),this.roomHistoryUpdateEventHandlerCleaner=null),this.pgiServiceSubscription&&this.pgiServiceSubscription.unsubscribe(),this.started=!1,this.isReinit=!1,b.default.info("[conversationService] === STOPPED ==="),e.when()},P.subscribe=e=>this.rxSubject.subscribe(e),P.publish=e=>{this.rxSubject.next(e)},this.emojiOneToShort=e=>emojione?emojione.toShort(e):e,P.getServerConversations=()=>r(this,void 0,void 0,(function*(){if(!v.default.userContact||v.default.userContact.instantMessagesEnabled)try{const e=`${config.restServerUrl}/api/rainbow/enduser/v1.0/users/${v.default.userContact.dbId}/conversations`,t=yield fetch(e,{headers:h.default.getRequestHeader()}),n=(yield t.json()).data;n.forEach(e=>{e.creationDateSort=e.creationDate?new Date(e.creationDate):void 0,e.lastModificationSort=e.lastMessageDate?new Date(e.lastMessageDate):void 0}),n.sort(P.sortDataFunction);const r=h.default.fromSDK?3e3:20,o=[];n.forEach((e,t)=>{const n=parseInt(e.unreadMessageNumber,10);t>=r&&0===n?P.deleteServerConversation(e.id):(b.default.info("getServerConversations -- create conversation "+e.jid_im+" "+e.id),"user"===e.type?o.push(P.createOneToOneConversationFromData(e)):o.push(P.createRoomConversationFromData(e)))}),yield Promise.all(o),this.orderConversations()}catch(e){const t="getServerConversations -- failure:"+e.message;throw b.default.error(t),new Error(t)}else b.default.warn("[conversationService] getServerConversations skipped - instantMessagesEnabled : false")})),this.createServerConversation=t=>e((e,r)=>{if(t.dbId)return void e(t);const o=config.restServerUrl+"/api/rainbow/enduser/v1.0/users/"+v.default.userContact.dbId+"/conversations";let i=null;switch(t.type){case w.Type.ONE_TO_ONE:i={peerId:t.contact.dbId,type:"user"};break;case w.Type.ROOM:i={peerId:t.room.dbId,type:"room"};break;case w.Type.BOT:t.type=w.Type.ONE_TO_ONE,i={peerId:t.contact.dbId,type:"bot"}}n({method:"POST",url:o,headers:h.default.getRequestHeader(),data:i}).then(n=>{t.dbId=n.data.data.id,e(t)}).catch(e=>{let t="createServerConversation failure: unknown ... ";e.data&&e.data.errorDetails&&(t="createServerConversation failure: "+e.data.errorDetails),b.default.warn("[conversationService] "+t),r(new Error(t))})}),this.deleteServerConversation=function(t){const r=e.defer();return t?(n({method:"DELETE",url:config.restServerUrl+"/api/rainbow/enduser/v1.0/users/"+v.default.userContact.dbId+"/conversations/"+t,headers:h.default.getRequestHeader()}).then((function(){b.default.info("[conversationService] deleteServerConversation success: "+t),P.orderConversations(),r.resolve()}),(function(e){if(404002===e.data.errorDetailsCode)b.default.info("[conversationService] deleteServerConversation success: "+t),r.resolve();else{const t="deleteServerConversation failure: "+e.data.errorDetails;b.default.warn("[conversationService] "+t),r.reject(new Error(t))}})),r.promise):e.when()},this.updateServerConversation=t=>{const r=e.defer();return t?(n({method:"PUT",url:config.restServerUrl+"/api/rainbow/enduser/v1.0/users/"+v.default.userContact.dbId+"/conversations/"+t.dbId,headers:h.default.getPostHeader(),data:{mute:t.muted}}).then((function(){b.default.info("[conversationService] updateServerConversation success: "+t.dbId),r.resolve()}),(function(e){const t="updateServerConversation failure: "+e.data.errorDetails;b.default.warn("[conversationService] "+t),r.reject(new Error(t))})),r.promise):e.when()},this.ackAllMessages=function(t,r){return e((function(e,o){if(!t)return b.default.error("[conversationService] ackAllMessages for conversation error -- missing conversation id"),void o();const i=P.getConversationByDbId(t);return i?i.ackReadAllReceivedMessages()||r?(b.default.info("[conversationService] ackAllMessages for conversation "+t),void n({method:"PUT",url:config.restServerUrl+"/api/rainbow/enduser/v1.0/users/"+v.default.userContact.dbId+"/conversations/"+t+"/markallread",headers:h.default.getPostHeader()}).then((function(){b.default.info("[conversationService] ackAllMessages success: "+t),e()}),(function(e){const t="ackAllMessages failure: "+e.data.errorDetails;b.default.warn("[conversationService] "+t),o(new Error(t))}))):(b.default.info("[conversationService] ackAllMessages for conversation "+t+" already updated"),void e()):(b.default.error("[conversationService] ackAllMessages for conversation error -- can not find conversation"),void o())}))},this.getConversationAsyncById=(e,t,n="")=>this["room"===t?"getRoomConversation":"getOrCreateOneToOneConversation"](e,n),this.createOneToOneConversationFromData=e=>{const t=parseInt(e.unreadMessageNumber,10),n=!0===e.mute;this.getOrCreateOneToOneConversation(e.jid_im,e.id,e.lastMessageDate,e.lastMessageText,t,n,e.creationDate,e.lastMessageSender,e.call,e.replace,e.forwardFrom,e.forwardedMessage)},this.createRoomConversationFromData=e=>{const t=parseInt(e.unreadMessageNumber,10),n=!0===e.mute;return this.getRoomConversation(e.jid_im,e.id,e.lastMessageDate,e.lastMessageText,t,!0,n,e.creationDate,e.lastMessageSender,e.topic,e.type,e.forwardFrom,e.forwardedMessage)},this.getOrCreateTelephonyConversation=e=>{b.default.info("getOrCreateTelephonyConversation -- "+e.id);let t=P.getConversationById(e.id);return e.id&&M.currentPgiObject&&M.currentPgiObject.callId&&e.id===M.currentPgiObject.callId&&(t=P.getConversationById(M.currentPgiObject.roomJid)),t||(t=new w(e.id),e.isConference?t.telephonyContacts=e.participants:(t.contact=e.contact,e.contact.conversation=t),this.conversations[e.id]=t),t},this.getOrCreateOneToOneConversation=(n,r,o,i,s,a,l,c,u,d,f,_)=>{if(b.default.info("[conversationService] getOrCreateOneToOneConversation "+n+" "+r+" "+s),!P.conversationCreationPromise[n]){const h=P.getConversationById(n);if(h)return h.preload=!0,e.resolve(h);P.conversationCreationPromise[n]=e((e,h)=>{v.default.getOrCreateContact(n).then(e=>{const t=w.createOneToOneConversation(e);return t.lastModification=o?new Date(o):void 0,t.lastCallInfo=u,t.replaceLastMsgId=d,i&&(t.lastMessageText=P.emojiOneToShort(i)),t.lastMessageSender=p.default.getBareJidFromJid(c),t.muted=a,t.creationDate=l?new Date(l):new Date,t.preload=!1,P.computeCapabilitiesForContact(e),t.dbId=r,t.missedCounter=s||0,t.forwardFrom=f,t.forwardedMessage=_,P.createServerConversation(t)}).then(r=>{P.conversations[r.contact.id]=r,P.orderConversations(),t.$broadcast("ON_CONVERSATIONS_UPDATED_EVENT",r,w.EventType.NEW),e(r),delete P.conversationCreationPromise[n]}).catch(e=>{const t="getOrCreateOneToOneConversation "+n+" failure "+e.message;b.default.error("[conversationService] "+t),h(new Error(t)),delete P.conversationCreationPromise[n]})})}return P.conversationCreationPromise[n]},this.getRoomConversation=function(n,r,o,i,s,a,l,c,u,d,f,_,h){if(v.default.userContact&&!v.default.userContact.roomsEnabled)return b.default.info("[conversationService] === getRoomConversation skipped - roomsEnabled : "+v.default.userContact.roomsEnabled),e.when();if(b.default.info("[conversationService] getRoomConversation "+n),!P.conversationCreationPromise[n]){const a=P.getConversationById(n);if(a)return a.preload=!0,e.resolve(a);P.conversationCreationPromise[n]=e((function(e,a){E((function(){const m=y.default.getRoomByJid(n);if(m||"bot"===f)if(m){const f=w.createRoomConversation(m);f.dbId=r,f.lastModification=o?new Date(o):void 0,i&&(f.lastMessageText=P.emojiOneToShort(i)),f.muted=l,f.creationDate=c?new Date(c):new Date,f.preload=!1,f.lastMessageSender=p.default.getBareJidFromJid(u),f.forwardFrom=_,f.forwardedMessage=h,f.room&&d&&(f.room.desc=d),s&&(f.missedCounter=s),r?(P.conversations[f.id]=f,P.getRoomConferences(f).then((function(){t.$broadcast("ON_CONVERSATIONS_UPDATED_EVENT",f,w.EventType.NEW),e(f),delete P.conversationCreationPromise[n]})).catch((function(e){const t="getRoomConversation "+n+" failure "+e.message;b.default.error("[conversationService] "+t),a(new Error(t)),delete P.conversationCreationPromise[n]}))):P.createServerConversation(f).then(r=>{const o=y.default.getRoomByJid(n);r.room=o,P.conversations[r.id]=r,P.orderConversations(),o&&"unsubscribed"!==o.status&&o.isActive&&y.default.sendInitialRoomPresence(o),t.$broadcast("ON_CONVERSATIONS_UPDATED_EVENT",r,w.EventType.NEW),e(r),delete P.conversationCreationPromise[n]})}else{const t={jid:n,conversationDbId:r,lastModification:o,lastMessageText:i?P.emojiOneToShort(i):i,lastMessageSender:p.default.getBareJidFromJid(u),missedIMCounter:s,muted:l,creationDate:c};delete P.conversationCreationPromise[n],P.waitingBotConversations.push(t),P.unlockWaitingBotConversations(),e()}else b.default.error("[conversationService] getRoomConversation ("+n+") failure : no such room -- try to get from server and update"),setTimeout(()=>{y.default.getServerRoomByJid(n).then(a=>{const f=w.createRoomConversation(a);f.dbId=r,f.lastModification=o?new Date(o):void 0,i&&(f.lastMessageText=P.emojiOneToShort(i)),f.muted=l,f.creationDate=c?new Date(c):new Date,f.preload=!1,f.lastMessageSender=p.default.getBareJidFromJid(u),f.forwardFrom=_,f.forwardedMessage=h,f.room&&d&&(f.room.desc=d),s&&(f.missedCounter=s),r&&(P.conversations[f.id]=f,t.$broadcast("ON_CONVERSATIONS_UPDATED_EVENT",f,w.EventType.NEW),e(f),delete P.conversationCreationPromise[n]),a&&a.confEndpoints&&a.confEndpoints[0]&&t.$broadcast("ON_ADD_HOC_COMPLETED",a)}).catch(()=>{b.default.error("[conversationService] getRoomConversation ("+n+") failure : no such room at all")})},500)}),1,1)}))}return P.conversationCreationPromise[n]},P.getRoomConferences=function(t){return e((function(e){const n=t.room.confEndpoints;n&&n.forEach((function(e){if("pstnAudio"===e.mediaType){const n=C.default.getConferenceSessionById(e.confEndpointId);n&&(t.pstnConferenceSession=n)}})),e()}))},P.updateRoomConferences=function(){P.getConversations().forEach((function(e){if(e.room&&e.room.confEndpoints){const t=C.default.getConferenceSessionById(e.room.getPstnConfEndpointId());e.pstnConferenceSession=t||null;const n=O.getConferenceSessionForRoom(e.room.confEndpoints);e.webConferenceSession=n||null}else e.pstnConferenceSession=null,e.webConferenceSession=null}))},this.closeConversation=t=>e((function(e,n){b.default.info("[conversationService] closeConversation "+t.id),P.deleteServerConversation(t.dbId).then((function(){P.removeConversation(t),e()})).catch((function(e){n(e)}))})),this.removeConversation=function(e){if(b.default.info("[conversationService] remove conversation "+e.id),e.videoCall&&e.videoCall.status!==a.Call.Status.UNKNOWN)return void b.default.info("[conversationService] Ignore conversation deletion message for conversation"+e.id);delete P.conversations[e.id],P.orderConversations();const n=P.getOrderedConversations();!P.activeConversation||n.idle.indexOf(P.activeConversation)>=0||(n.idle.length>0?P.setActiveConversation(n.idle.first()):n.inCall.length>0?P.setActiveConversation(n.inCall.first()):P.setActiveConversation(null)),e.contact&&(e.contact.conversation=null,e.contact=null),t.$broadcast("ON_CONVERSATION_REMOVE_EVENT",e)},this.getConversationByDbId=function(e){if(P.conversations)for(const t in P.conversations)if(P.conversations.hasOwnProperty(t)&&P.conversations[t].dbId===e)return P.conversations[t];return null},this.getConversationByRoomDbId=function(e){if(P.conversations)for(const t in P.conversations)if(P.conversations.hasOwnProperty(t)&&P.conversations[t].room&&P.conversations[t].room.dbId===e)return P.conversations[t];return null},this.searchConversations=e=>{const t=e.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(/[ -]+/);return P.getOrderedConversations().idle.filter(e=>{const n=e.filterName.trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(/[ -]+/);return t.every(e=>n.some((t,r)=>!(!t.length||-1===t.indexOf(e))&&(n[r]="",!0)))})},this.cleanFile=e=>{const t=e=>{const t=document.createElement("div");t.innerHTML=e;const n=t.getElementsByTagName("script");let r=n.length;for(;r--;)n[r].parentNode.removeChild(n[r]);return t.innerHTML};return new Promise(n=>{if("image/svg+xml"===e.type){const r=new FileReader;r.addEventListener("loadend",r=>{const o=r.srcElement,i=new Blob([t(o.result)],{type:"image/svg+xml"}),s=new File([i],e.name,{type:"image/svg+xml",lastModified:Date.now()});n(s)}),r.readAsText(e)}else n(e)})},this.sendChatMessage=(e,t,n=null,r=null,o=null,i=null)=>{const s=w.getUniqueMessageId(),a=e.shortnameToUnicode(t),l=n&&"text/markdown"===n.type,c=r?r.id:null,u=r?r.date:null,d=new Date,f=v.default.userContact,_=e.addChatMessage(f,d,a,s,!0,l,null,c,u,null,n,o);if(_)return _.urgency=i,this.pendingMessages[_.id]={conversation:e,message:_},this.sendXmppMessage(e,_),_},this.sendChatForwardMessage=(e,t,n,o)=>r(this,void 0,void 0,(function*(){let r=null,i=null;n.fileId&&(r=g.default.getFileDescriptorById(n.fileId)),r?(r.ownerId!==v.default.userContact.dbId&&(r=yield g.default.copyFileToUserCloudStorage(r.id)),yield this.shareFileToViewer(e,r),i=f.Message.createFileSharingMessage(n.id,n.date,n.from,n.side,n.data,n.status,r.id,n.fileName,null,n.geoloc)):i=f.Message.create(n.id,n.date,n.from,n.side,n.getLastTextModified(),n.status),o.type===w.Type.ONE_TO_ONE?i.to=o.contact.jid!==n.from.jid?o.contact:v.default.userContact:i.to=o.room;const s=w.getUniqueMessageId(),a=new Date,l=v.default.userContact,c=e.addForwardChatMessage(l,a,s,i,o);c&&(this.pendingMessages[i.id]={conversation:e,newForwardedMsg:i},this.sendXmppMessage(e,c),t&&t.length&&this.sendChatMessage(e,t))})),this.shareFileToViewer=(e,t)=>r(this,void 0,void 0,(function*(){if(t)try{const n=0===e.type?"user":"room",r=0===e.type?e.contact.dbId:e.room.dbId;yield g.default.addFileViewer(t.id,r,n)}catch(n){throw new Error(n)}})),this.sendFSMessage=(e,n,o,i,s,a=null)=>r(this,void 0,void 0,(function*(){try{const l=n;o&&0!==o.length||(o=l.name);const c=e.type===w.Type.ONE_TO_ONE?{viewerId:e.contact.dbId,type:"user"}:{viewerId:e.room.dbId,type:"room"},_=d.FileViewer.createFromData([c]),h=yield g.default.createFileDescriptor(n.name,n.name.split(".").pop(),n.size,_,i||!1);h.fileToSend=n,h.isImage()&&n.preview&&(h.previewBlob=n.preview);let p="object"==typeof o?o:void 0;p||(p=e.addFSMessage(h.id,o,u.FileState.UPLOADING,s,null,a),s&&!s.attachedMsgId&&(p.attachedMsgId=p.id)),p.fileId=h.id,p.fileName=h.fileName,p.urgency=a;try{P.pendingMessages[p.id]={conversation:e,message:p},h.setState(u.FileState.UPLOADING),t.$broadcast("ON_FILE_TRANSFER_EVENT",{fileDesc:h,cancelable:!0}),yield I.uploadAFileByChunk(h,n,p,null),h.setState(u.FileState.UPLOADED),h.fileToSend=null,h.chunkPerformed=0,h.chunkTotalNumber=0,t.$broadcast("ON_FILE_TRANSFER_EVENT",{fileDesc:h}),this.sendXmppMessage(e,p,h)}catch(r){throw b.default.error("[conversationService] sendFSMessage -- uploadAFile error"),s||g.default.deleteFileDescriptor(h.id),h.setState("uploadError"),p.receiptStatus=f.Message.ReceiptStatus.ERROR,p.fileErrorMsg=r.translatedMessage?r.translatedMessage:"Unable to share file",p.sendUpdateEvent(),r}return p}catch(r){let e=r.translatedMessage?r.translatedMessage:"Unable to share file";throw 403153===r.errorDetailsCode&&(e=D.default.translate("fileSharingNoMoreAllowedMsg")),t.$broadcast("ON_OPEN_GLOBAL_POPUP",{popupTitle:"fileTransfer",popupBodyTranslated:e,okLabel:"ok"}),new Error(r)}})),this.resendFSMessage=(e,n)=>r(this,void 0,void 0,(function*(){try{if(!n)return;const o=g.default.getFileDescriptorById(n.fileId);try{P.pendingMessages[n.id]={conversation:e,message:n},n.setReceiptStatus(f.Message.ReceiptStatus.IN_PROGRESS),o.chunkPerformedPercent=0,o.chunkPerformed=0,o.chunkTotalNumber=0,o.setState(u.FileState.UPLOADING),n.sendUpdateEvent(),t.$broadcast("ON_FILE_TRANSFER_EVENT",{fileDesc:o,cancelable:!0}),yield I.uploadAFileByChunk(o,o.fileToSend,n,null),o.setState(u.FileState.UPLOADED),o.fileToSend=null,o.chunkPerformed=0,o.chunkTotalNumber=0,t.$broadcast("ON_FILE_TRANSFER_EVENT",{fileDesc:o}),this.sendXmppMessage(e,n,o)}catch(r){throw b.default.error("[conversationService] sendFSMessage -- uploadAFile error"),o.setState("uploadError"),n.receiptStatus=f.Message.ReceiptStatus.ERROR,n.fileErrorMsg=r.translatedMessage?r.translatedMessage:"Unable to share file",n.sendUpdateEvent(),r}}catch(r){let e=r.translatedMessage?r.translatedMessage:"Unable to share file";throw 403153===r.errorDetailsCode&&(e=D.default.translate("fileSharingNoMoreAllowedMsg")),t.$broadcast("ON_OPEN_GLOBAL_POPUP",{popupTitle:"fileTransfer",popupBodyTranslated:e,okLabel:"ok"}),new Error(r)}})),this.sendEFSMessage=(e,n,o,i,s=null,a=null)=>r(this,void 0,void 0,(function*(){let r=null;try{o&&0!==o.length||(o=n.fileName),r=e.addFSMessage(n.id,o,n.state,i,s,a),r.fileName=n.fileName,i&&!r.attachedMsgId&&(r.attachedMsgId=r.id);const l=e.type===w.Type.ONE_TO_ONE?"user":"room",c=e.type===w.Type.ONE_TO_ONE?e.contact.dbId:e.room.dbId;return yield g.default.addFileViewer(n.id,c,l),this.sendXmppMessage(e,r,n),this.pendingMessages[r.id]={conversation:e,message:r},t.$broadcast("ON_SEND_EFS_MESSAGE",n),r}catch(l){r.receiptStatus=f.Message.ReceiptStatus.ERROR,r.sendUpdateEvent()}})),this.sendXmppMessage=(e,t,n=null)=>{if(!t)return null;const r=t.id,o=e.shortnameToUnicode(t.data),i=e.type===w.Type.ONE_TO_ONE?e.contact.jid:e.room.jid,s=e.type===w.Type.ONE_TO_ONE?"chat":"groupchat",a=S.$msg({to:i,type:s,id:r,"xml:lang":v.default.currentLanguage});return a.c("body",{"xml:lang":v.default.currentLanguage}).t(o).up(),a.c("store",{xmlns:"urn:xmpp:hints"}).up(),a.c("request",{xmlns:w.ReceiptNS}).up(),a.c("active",{xmlns:w.ChatstatesNS}).up(),n&&(a.c("x",{xmlns:"jabber:x:oob",index:t.attachIndex,count:t.attachNumber}).c("url",{},config.restServerUrl+"/api/rainbow/fileserver/v1.0/files/"+n.id).c("mime",{},n.typeMIME).c("filename",{},n.fileName).c("size",{},n.size).up(),t.fileId=n.id,n.tags&&"voicemail"===n.tags.purpose&&a.c("voicemessage",{xmlns:"http://jabber.org/protocol/voicemessage"}).up()),t.attachedMsgId&&a.c("attach-to",{xmlns:"urn:xmpp:message-attaching:1",id:t.attachedMsgId}).up(),t.geoloc&&a.c("geoLoc",{xmlns:"http://jabber.org/protocol/geoloc"}).c("lat",t.geoloc.lat).c("lon",t.geoloc.lon),t.alternativeContent&&a.c("content",{xmlns:w.contentNS,type:t.alternativeContent.type}).t(t.alternativeContent.message).up(),t.answeredMsgId&&a.c("answeredMsg",{stamp:t.answeredMsgDate.getTime()}).t(t.answeredMsgId).up(),t.mentions&&t.mentions.length&&(a.c("mention",{xmlns:w.AttentionNS}),t.mentions.forEach(e=>{a.c("jid",{pos:e.pos,size:e.size},e.jid)}),a.up()),t.urgency&&"std"!==t.urgency&&a.c("headers",{xmlns:"http://jabber.org/protocol/shim"}).c("header",{name:"Urgency"}).t(t.urgency).up().up(),t.forwardedMsg&&this.addXmppForwardMessage(e,a,t),t.serverAckTimer=setTimeout(()=>{t.receiptStatus=f.Message.ReceiptStatus.ERROR,t.sendUpdateEvent()},1e4),t.setReceiptStatus(f.Message.ReceiptStatus.SENT),t.sendUpdateEvent(),p.default.send(a),e.room&&(e.room.lastActivityDate=new Date),t},this.addXmppForwardMessage=(e,t,n)=>{t.c("forwarded",{xmlns:w.FORWARDNS});const r=e.shortnameToUnicode(n.forwardedMsg.data),o=n.forwardedMsg.from.fullJid?n.forwardedMsg.from.fullJid:n.forwardedMsg.from.jid;t.c("message",{to:n.forwardedMsg.to.jid,from:o,id:n.forwardedMsg.id,type:n.forwardConvType,xmlns:"jabber:client"}),t.c("body",{"xml:lang":v.default.currentLanguage}).t(r).up();const i=g.default.getFileDescriptorById(n.forwardedMsg.fileId);i&&(t.c("x",{xmlns:"jabber:x:oob",index:n.attachIndex,count:n.attachNumber}).c("url",{},i.state===u.FileState.UPLOADED?config.restServerUrl+"/api/rainbow/fileserver/v1.0/files/"+i.id:"").c("mime",{},i.typeMIME).c("filename",{},i.fileName).c("size",{},i.size).up(),i.tags&&"voicemail"===i.tags.purpose&&t.c("voicemessage",{xmlns:"http://jabber.org/protocol/voicemessage"}).up()),n.forwardedMsg.geoloc&&t.c("geoLoc",{xmlns:"http://jabber.org/protocol/geoloc"}).c("lat",n.forwardedMsg.geoloc.lat).up().c("lon",n.forwardedMsg.geoloc.lon).up().up(),n.answeredMsgId&&t.c("answeredMsg",{stamp:n.forwardedMsg.answeredMsgDate.getTime()}).t(n.forwardedMsg.answeredMsgId).up(),t.up(),t.up()},this.sendAckReadOrReceivedMessage=(e,t,n)=>{b.default.info(`[ConversationService] ${e.id} send ${n} status for message ${t}`);const r=e.type===w.Type.ONE_TO_ONE?e.contact.jid:e.room.jid,o=e.type===w.Type.ONE_TO_ONE?"chat":"groupchat",i=v.default.userContact.jid,s={xmlns:w.ReceiptNS,id:t,event:n,entity:"client"};e.type!==w.Type.ONE_TO_ONE&&(s.type="muc"),p.default.send(S.$msg({to:r,from:i,type:o}).c("received",s))},this.sendAckReceivedMessage=(e,t)=>{t.receiptStatus>=f.Message.ReceiptStatus.UNREAD||(this.sendAckReadOrReceivedMessage(e,t.id,"received"),t.setReceiptStatus(f.Message.ReceiptStatus.UNREAD))},this.sendAckReadMessage=(e,t)=>{t.receiptStatus!==f.Message.ReceiptStatus.READ&&(this.sendAckReadOrReceivedMessage(e,t.id,"read"),t.setReceiptStatus(f.Message.ReceiptStatus.READ),t.replaceMsgs&&t.replaceMsgs.length&&t.replaceMsgs.forEach(t=>{this.sendAckReadOrReceivedMessage(e,t.id,"read")}))},this.sendAckReadMessages=e=>{b.default.info(`[ConversationService] ${e.id} sendAckReadMessages`);let t=!1;return e.messages.forEach(n=>{n.receiptStatus!==f.Message.ReceiptStatus.SENT&&n.receiptStatus!==f.Message.ReceiptStatus.UNREAD||n.side!==f.Message.Side.LEFT&&n.side!==f.Message.Side.ADMIN||(this.sendAckReadMessage(e,n),t=!0)}),t},this.sendChatStatus=(e,t)=>{if(e.status===t)return;b.default.info(`[ConversationService] ${e.id} setStatus ${t.value}`),e.status=t;const n=e.type===w.Type.ONE_TO_ONE?e.contact.jid:e.room.jid,r=e.type===w.Type.ONE_TO_ONE?"chat":"groupchat";p.default.send(S.$msg({to:n,type:r}).c(t.value,{xmlns:w.ChatstatesNS}))},this.sendIsTypingState=function(e,t){const n=w.getUniqueMessageId(),r=t?"composing":"active",o=e.type===w.Type.ONE_TO_ONE?e.contact.jid:e.room.jid,i=e.type===w.Type.ONE_TO_ONE?"chat":"groupchat",s=v.default.currentLanguage;p.default.send(S.$msg({to:o,type:i,id:n,"xml:lang":s}).c(r,{xmlns:w.ChatstatesNS}).up())},this.sendRecordingMessage=(e,t)=>{const n=w.getUniqueMessageId(),r=e.contact.jid,o=e.shortnameToUnicode(t),i=v.default.currentLanguage,s=e.addRecordingMessage(v.default.userContact,new Date,o,n);if(!s)return null;const a=S.$msg({to:r,type:"chat",id:n,"xml:lang":i}).c("body",{"xml:lang":i}).up().c("recording",{xmlns:"jabber:iq:recordingP2P"}).t(o).up().c("request",{xmlns:w.ReceiptNS}).up().c("active",{xmlns:w.ChatstatesNS}).up();return s.serverAckTimer=setTimeout(()=>{s.receiptStatus=f.Message.ReceiptStatus.ERROR,s.sendUpdateEvent()},1e4),p.default.send(a),this.pendingMessages[s.id]={conversation:e,message:s},s},this.sendCorrectedChatMessage=(e,t,n,r)=>{const o=e.getMessageById(n);if(!o)return b.default.info("[conversationService] sendCorrectedChatMessage - original message not found"),null;if(o.from.jid!==v.default.userContact.jid)return b.default.info("[conversationService] sendCorrectedChatMessage forbidden Action - only sent messages can be modified"),null;if(e.lastEditableMsg.id!==o.id)return b.default.info("[conversationService] sendCorrectedChatMessage forbidden Action - only last sent message can be modified"),null;this.sendAckReadMessages(e);const i=w.getUniqueMessageId(),s=e.type===w.Type.ONE_TO_ONE?e.contact.jid:e.room.jid,a=e.type===w.Type.ONE_TO_ONE?"chat":"groupchat",l=e.shortnameToUnicode(t),c=v.default.currentLanguage,u=S.$msg({to:s,type:a,id:i,"xml:lang":c}).c("body",{"xml:lang":v.default.currentLanguage}).t(l).up().c("replace",{id:n,xmlns:"urn:xmpp:message-correct:0"}).up();return r&&r.length&&(u.c("mention",{xmlns:w.AttentionNS}),r.forEach(e=>{u.c("jid",{pos:e.pos,size:e.size},e.jid)})),u.c("store",{xmlns:"urn:xmpp:hints"}).up().c("request",{xmlns:w.ReceiptNS}).up().c("active",{xmlns:w.ChatstatesNS}).up(),o.serverAckTimer=setTimeout(()=>{o.receiptStatus=f.Message.ReceiptStatus.ERROR,o.sendUpdateEvent()},1e4),o.addReplaceMsg(i,t),p.default.send(u),e.room&&(e.room.lastActivityDate=new Date),e.updateAfterReplaceEvent(o),this.pendingMessages[i]={conversation:e,message:o},o},this.removeAllMessages=function(t){b.default.info("[conversationService] removeAllMessage "+t.id);const n=e.defer(),r={queryid:p.default.connection.getUniqueId(),with:t.id,onComplete:function(){n.resolve()}},o=p.default.connection.getUniqueId();return p.default.connection.mam.delete(o,r),n.promise},this.removeMessagesFromConversation=function(t,n,r){b.default.info("[conversationService] removeMessagesFromConversation "+t.id),b.default.info("[conversationService] removing "+r+" messages after "+n);const o=e.defer(),i={queryid:"remove_"+t.id,with:t.id,start:l(n).format("YYYY-MM-DDTHH:mm:ss.SSSSSSZ"),max:r,onComplete:function(){b.default.info("[conversationService] MAM Message deleted !!!"),o.resolve()}};return p.default.connection.mam.delete(t.id,i),o.promise},this.sendConversationByEmail=function(t){const r=e.defer(),o=v.default.userContact,i=config.restServerUrl+"/api/rainbow/enduser/v1.0/users/"+o.dbId+"/conversations/"+t.dbId+"/downloads";return n({method:"POST",url:i,headers:h.default.getRequestHeader(),data:{}}).then(()=>{b.default.error("[conversationService] sendConversationByEmail - success"),r.resolve()},e=>{const t={message:"Impossible to download conversation",messageKey:null};e&&e.data&&409011===e.data.errorDetailsCode&&(t.message="No messages to export for the last 30 days.",t.messageKey="noMessagesToExport"),b.default.error("[adminUserService] sendConversationByEmail - "+t.message),r.reject(t)}),r.promise},this.getHistoryPage=(t,n)=>P.isReinit?(b.default.debug("[conversationService] getHistoryPage --- service is reinitialising !"),e.reject(new Error("Service is reinitialising !"))):P.conversationServiceBulkHistoryHandler.getHistoryPage(t,n),this.retrieveMsgByDate=(e,t)=>(b.default.debug("[conversationService] >retrieveMsgByDate: "+t),P.conversationHistoryHandler.retrieveMsgByDate(e,t+"000")),this.searchTextInRoomsAndConversations=e=>r(this,void 0,void 0,(function*(){try{this.searchTextConvResults.clearAll(),this.searchTextConvResults.isSearching=!0,yield Promise.all([this.searchTextInConversations(e),this.searchTextInRooms(e)]),this.searchTextConvResults.isSearching=!1}catch(t){this.searchTextConvResults.isSearching=!1}})),this.searchTextInConversations=e=>r(this,void 0,void 0,(function*(){const t=p.default.connection.getUniqueId();this.searchTextConvResults.queryIds.push(t),this.searchTextConvResults.searchedText=e,yield P.conversationHistoryHandler.searchTextInConversations(t,e),Object.keys(this.searchTextConvResults.partResults).forEach(e=>{const t=this.searchTextConvResults.partResults[e];t.room||v.default.getOrCreateContact(e).then(n=>{t.contact=n,this.sortResults(t),this.searchTextConvResults.totalCount+=t.convRes.length,this.searchTextConvResults.results.push(t),delete this.searchTextConvResults.partResults[e]})})})),this.searchTextInRooms=e=>r(this,void 0,void 0,(function*(){const t=y.default.getRooms().map(t=>t.desc&&t.desc.startsWith("Rainbow_OutlookCreation_InternalUseOnly")?Promise.resolve():this.searchTextInConversation(e,!1,t.jid,"room"));yield Promise.all(t)})),this.searchTextInConversation=(e,t,n,o=null)=>r(this,void 0,void 0,(function*(){t&&this.searchTextConvResults.clearAll();const r=p.default.connection.getUniqueId();this.searchTextConvResults.searchedText=e,this.searchTextConvResults.queryIds.push(r);const i="room"===o?"searchTextResultsInRoom":"searchTextResultsInConversation",s=yield P.conversationHistoryHandler[i](r,e,n),a=this.searchTextConvResults.partResults[n];a&&(a.totalCount=s,this.sortResults(a),this.searchTextConvResults.totalCount+=s,this.searchTextConvResults.results.push(a),delete this.searchTextConvResults.partResults[n])})),this.storeSearchTextResult=e=>{const t=e.otherJid;if(e.body.startsWith("/img"))return;let n=this.searchTextConvResults.partResults[t];n||(n=new o.SearchTextResult(t),e.isRoom&&(n.room=y.default.getRoomByJid(t)),this.searchTextConvResults.partResults[t]=n),n.addMsgItem(e),n.totalCount++},this.sortResults=e=>{e.convRes.sort((e,t)=>e.date?t.date?e.date-t.date:1:-1)},this.setActiveConversation=function(e){return b.default.debug("[conversationService] - setActiveConversation: "+(e?e.id:"null")),this.activeConversation=e,this.activeConversation},this.setMostRecentConversationActive=function(){const e=P.getConversations().sort(P.sortFunction);return e.length>0?this.setActiveConversation(e.first()):this.setActiveConversation(null)},this.getActiveConversation=function(){return this.activeConversation},this.getConversationById=function(e){return P.conversations?P.conversations[e]:null},this.getConversations=function(){const e=[];for(const t in P.conversations)P.conversations.hasOwnProperty(t)&&e.push(P.conversations[t]);return e},this.orderConversations=()=>{P.inCallConversations=[],P.idleConversations=[],P.involvedContactIds=[],Object.keys(P.conversations).forEach(e=>{const t=P.conversations[e];if(t.type===w.Type.ROOM&&t.room.owner&&t.room.isMeetingRoom()){const e=C.default.getConferenceSessionById(t.room.getPstnConfEndpointId());if(e&&e.active)return void P.inCallConversations.push(t)}t.isInCall()?P.inCallConversations.push(t):t.room&&t.room.isWebinarRoom()||P.idleConversations.push(t),t.type===w.Type.ONE_TO_ONE&&P.involvedContactIds.push(t.contact.id)}),P.idleConversations.sort(P.sortFunction),P.publish(_.RBEvent.create("reorder"))},this.getOrderedConversations=function(){return{inCall:P.inCallConversations,idle:P.idleConversations,contactIds:P.involvedContactIds}},this.sortFunction=(e,t)=>{const n=!e.lastModification&&e.creationDate?e.creationDate:e.lastModification;return(!t.lastModification&&t.creationDate?t.creationDate:t.lastModification)-n},this.sortDataFunction=(e,t)=>{const n=!e.lastModificationSort&&e.creationDateSort?e.creationDateSort:e.lastModificationSort;return(!t.lastModificationSort&&t.creationDateSort?t.creationDateSort:t.lastModificationSort)-n},this.formatDate=e=>l(e).utc().format("YYYY-MM-DDTHH:mm:ss")+"Z",this.resetConversationMissedCounters=function(e){t.appVisible&&(e.missedCounter=0,e.missedCalls=0,this.updateMissedCounters())},this.decreaseMissedIMCounterForConversation=function(e){e.missedCounter>0&&(e.missedCounter-=1),this.updateMissedCounters()},this.updateMissedCounters=function(){let e=0;const n=[];Object.keys(P.conversations).forEach((function(t){const r=P.conversations[t];0!==r.missedCounter&&(e+=r.missedCounter,n.push(r))})),e===this.currentMissedIMCounter&&0===this.currentMissedCallCounter||(this.currentMissedIMCounter=e,this.currentMissedCallCounter=0,t.$broadcast("ON_MISSED_COUNTER_CHANGED_EVENT",{missedIMCounter:e,missedCallCounter:0,missedIMDetails:n}))},this.dropConversationCall=function(e){e.audioCall&&M.releaseCall(e.audioCall),e.videoCall&&(T.attachLocalMediaStream(!1),T.attachDistantMediaStream(!1),T.releaseCall(e.videoCall))},this.holdConversationCall=function(e){e.audioCall&&(M.holdCall(e.audioCall),e.videoCall&&(T.attachLocalMediaStream(!1),T.attachDistantMediaStream(!1),T.releaseCall(e.videoCall)))},this.retrieveConversationCall=function(e){e.audioCall&&M.retrieveCall(e.audioCall),e.videoCall&&b.default.error("Not implemented for the moment")},this.allowDesktopSharing=()=>!1,this.allowAdvancedDesktopSharing=()=>!1,this.updateConversationCall=(e,t)=>{t.type===a.Call.Type.WEBRTC?e.videoCall=t:t.type===a.Call.Type.PHONE&&(e.audioCall=t),t.setConversationId(e.id),!t.isConference&&e.contact&&this.computeCapabilitiesForContact(e.contact),this.computeCapabilitiesForMyContact()},this.computeCapabilitiesForContact=(e,n)=>{let r=!1,o=!1,i=!1,s=!1,l=!1;const c=e.status,u=e.fullJid,d=v.default.userContact;if(e.jid===d.jid)return void this.computeCapabilitiesForMyContact();const f=e.company&&v.default.userContact.company&&"Rainbow"!==e.company.name&&"Default"!==e.company.name&&e.company.name===v.default.userContact.company.name,_=this.getConversationById(e.id);if(T.started){const t=_?_.videoCall:null;t&&t.status!==a.Call.Status.UNKNOWN||!(("unknown"===c||"wait"===c)&&f||"online"===c||"online-mobile"===c||"away"===c||"busy"===c&&"audioPhone"===e.message)||((e.webrtcAudioEnabled||e.webrtcSharingEnabled)&&(o=!0),i=!0)}if(M.started){const t=e.phonePro||e.phonePbx&&e.pbxId||e.mobilePro||e.phonePerso||e.mobilePerso,n=M.getActiveCallsForContact(e);0===n.length&&t&&(r=!0),(0!==n.length||T.existMediaPillarAudioCall())&&u&&(l=!0)}"online"!==c&&"busy"!==c&&"away"!==c&&"dnd"!==c||(s=!0);let h={telephony:r,webRTC:o,sharedDesktop:i,fileTransfert:s,mediaAvailable:r||o,addMedia:l};if((e.isBot||e.displayName&&-1!==e.displayName.indexOf("E-HELPER"))&&(h={telephony:!1,webRTC:!1,sharedDesktop:!1,fileTransfert:!1,mediaAvailable:!1,addMedia:!1}),e.capabilities=h,_){const e=Object.assign({},_.capabilities);_.capabilities=h,n||this.shallowEqual(e,h)||t.$broadcast("ON_CONVERSATIONS_UPDATED_EVENT",_,w.EventType.CAPABILITIES)}},this.computeCapabilitiesForMyContact=function(){let e=!1,t=!1,n=!1;const r=v.default.userContact;if(T.started){const e=T.isUserContactInCall();e||"busy"===r.status&&("busy"!==r.status||"audioPhone"!==r.message)||((r.webrtcAudioEnabled||r.webrtcSharingEnabled)&&(t=!0),P.allowDesktopSharing()&&(n=!0)),e&&T.existMediaPillarAudioCall()&&!T.getCurrentSharingCall()&&P.allowDesktopSharing()&&(n=!0)}if(M.started){const t=M.getCalls();A.isMediaPillarCallSituation()&&Object.keys(T.calls).length>=1?e=!!(t.length>=1&&P.isSecondCallAllowed):(0===t.length&&P.isBasicCallAllowed||1===t.length&&P.isSecondCallAllowed)&&(e=!0)}const o={telephony:e,webRTC:t,sharedDesktop:n,mediaAvailable:e||t};b.default.debug("[ConversationService] computeCapabilitiesForMyContact  capabilities "+JSON.stringify(o)),r.capabilities=o},this.shallowEqual=(e,t)=>{const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let o of n)if(e[o]!==t[o])return!1;return!0},this.onCallEvent=(e,t=!1)=>{switch(e.type){case a.Call.Type.WEBRTC:this.handleWebRtcCallEvent(e);break;case a.Call.Type.PHONE:this.handleTelephonyCallEvent(e,t)}},this.handleWebRtcCallEvent=e=>r(this,void 0,void 0,(function*(){A.isMediaPillarJid(e.fullJid)?(t.$broadcast("ON_MPMEDIA_CONVERSATION_CALL_UPDATED_EVENT",{call:e}),e.status===a.Call.Status.ACTIVE&&e.mediaPillarCall&&(e.mediaPillarCall.telephonyCallRefs||[]).forEach(t=>{if(null!==t&&t.type.value===a.Call.Type.PHONE.value){const n=this.getConversationById(t.conversationId);n&&n.rxSubject.next({name:"callUpdate",value:e})}}),e.status!==a.Call.Status.RINGING_INCOMMING&&(this.computeCapabilitiesForMyContact(),t.$broadcast("ON_CONVERSATION_CALL_UPDATED_EVENT",{conversation:null,call:e}))):P.getOrCreateOneToOneConversation(e.contact.id).then(n=>{P.updateConversationCall(n,e),P.orderConversations(),n.rxSubject.next({name:"callUpdate",value:e}),t.$broadcast("ON_CONVERSATION_CALL_UPDATED_EVENT",{conversation:n,call:e})})})),this.isTempTelephonyConversation=e=>!e.contact||e.contact.temp||e.contact.o365Flag||e.contact.companyDirectoryFlag||e.isConference||v.default.isUserContact(e.contact),this.handleTelephonyCallEvent=(e,n=!1)=>r(this,void 0,void 0,(function*(){if(e.status===a.Call.Status.UNKNOWN){if(e.conversationId){const n=this.getConversationById(e.conversationId);e.conversationId===e.id?(n&&this.removeConversation(n),t.$broadcast("ON_CONVERSATION_CALL_UPDATED_EVENT",{conversation:null,call:e})):(n&&(b.default.info("[ConversationService] onCallEvent call "+e.id+" conversation "+e.conversationId+" : set inactive"),n.audioCall=null),t.$broadcast("ON_CONVERSATION_CALL_UPDATED_EVENT",{conversation:n,call:e})),n&&n.rxSubject.next({name:"callUpdate",value:e}),this.orderConversations();const r=M.getCalls();if(1===r.length&&r[0]&&(r[0].status===a.Call.Status.HOLD||r[0].status===a.Call.Status.PUT_ON_HOLD||r[0].status===a.Call.Status.ACTIVE)){const e=r[0],t=!e.contact||e.contact.temp||e.contact.jid===v.default.userContact.jid?this.getOrCreateTelephonyConversation(e):this.getConversationById(e.contact.id);t&&setTimeout(()=>{this.publish(_.RBEvent.create("activeConversation",t))},200)}}e.contact&&!M.getConferenceCallForContact(e.contact)&&T.endAllCallsForContact(e.contact),e.isConference&&setTimeout(()=>{(e.participants||[]).forEach(e=>{e&&0===M.getActiveCallsForContact(e).length&&T.endAllCallsForContact(e)})},1e3)}if(!n&&A.isMediaPillarCallSituation(e)){if(!e.isSecondary)return void t.$broadcast("ON_UPDATE_TELEPHONY_ICON_EVENT");if(e.status===a.Call.Status.RINGING_INCOMMING&&"MAKECALL"!==e.lastCause&&"CALLBACK"!==e.lastCause)return}if(e.status!==a.Call.Status.UNKNOWN&&null!==e.connectionId){if(!this.isSecondCallAllowed){const t=M.getNotIdleCalls();if(t.length>1&&t.findIndex(t=>t.id===e.id)>0)return}const n=this.isTempTelephonyConversation(e);b.default.info("[ConversationService] onCallEvent -- "+e.connectionId+"  -- relevantEquipmentId : "+e.relevantEquipmentId+" "+(e.status?e.status.value:"null")+" isTempConversation: "+n);let r=n?this.getOrCreateTelephonyConversation(e):this.getConversationById(e.contact.id);if(r||(r=n?this.getOrCreateTelephonyConversation(e):yield this.getOrCreateOneToOneConversation(e.contact.id)),n&&r.contact&&e.contact&&(e.contact.firstname||e.contact.lastname)&&r.contact.updateName(e.contact.firstname,e.contact.lastname),n&&!e.isConference&&e.conversationId===e.id&&!r.contact&&r.telephonyContacts&&(b.default.info("[ConversationService] onCallEvent -- "+e.connectionId+" : remove prevous conference conversation "+e.id),this.removeConversation(r),t.$broadcast("ON_CONVERSATION_CALL_UPDATED_EVENT",{conversation:null,call:e}),r=this.getOrCreateTelephonyConversation(e)),e.conversationId&&e.conversationId!==r.id)if(e.conversationId===e.id)!n&&this.conversations[e.id]&&(b.default.info("[ConversationService] onCallEvent -- "+e.connectionId+" : remove prevous temp conversation "+e.id),delete this.conversations[e.id]);else{const n=this.getConversationById(e.conversationId);n&&(b.default.info("[ConversationService] onCallEvent -- "+e.connectionId+" : set previous conversation to known rainbow contact inactive "+e.conversationId),n.audioCall=null,t.$broadcast("ON_CONVERSATION_CALL_UPDATED_EVENT",{conversation:n,call:e}))}if(this.updateConversationCall(r,e),e.status!==a.Call.Status.ACTIVE&&e.status!==a.Call.Status.DIALING&&e.status!==a.Call.Status.RINGING_OUTGOING||setTimeout(()=>{this.publish(_.RBEvent.create("activeConversation",r))},200),this.orderConversations(),t.$broadcast("ON_CONVERSATION_CALL_UPDATED_EVENT",{conversation:r,call:e}),r.rxSubject.next({name:"callUpdate",value:e}),e.getDeviceIdFromConnectionIdFromCall()!==e.relevantEquipmentId&&e.status!==a.Call.Status.ACTIVE)return void t.$broadcast("ON_UPDATE_TELEPHONY_ICON_EVENT")}e.status!==a.Call.Status.ERROR||e.connectionId||this.publish(_.RBEvent.create("callError",e))})),this.onPGiConferenceStateEvent=e=>r(this,void 0,void 0,(function*(){if(e)try{const e=yield y.default.retrieveCurrentPersonalAudioRoom();yield this.getRoomConversation(e.jid)}catch(t){b.default.debug("[conversationService] error handling pgi conference event")}P.orderConversations()})),this.onReloadCapabilitiesForMyContactEvent=function(e){b.default.info("[conversationService] onReloadCapabilitiesForMyContactEvent"),P.computeCapabilitiesForMyContact()},this.onConversationEvent=function(){P.updateMissedCounters()},this.onContactChangedEvent=function(e,t){P.computeCapabilitiesForContact(t),P.computeCapabilitiesForMyContact()},this.onTelephonyStateChangeEvent=function(e){const t=P.getConversations();t&&t.forEach((function(e){e.type===w.Type.ONE_TO_ONE&&P.computeCapabilitiesForContact(e.contact)})),P.computeCapabilitiesForMyContact()},this.onConferenceStateChangeEvent=function(){P.updateRoomConferences(),P.orderConversations(),t.$broadcast("ON_CONVERSATIONS_UPDATED_EVENT")},this.onConferenceParticipantChangeEvent=function(){P.orderConversations(),t.$broadcast("ON_CONVERSATIONS_UPDATED_EVENT")},this.onRoomChangedEvent=function(e,t,n){if(t){const e=P.getConversationById(t.jid);e&&("remove"===n?P.closeConversation(e):e.room=t)}},this.onRoomHistoryChangedEvent=function(e,t){if(t){const e=P.getConversationById(t.jid);e&&e.chatRenderer&&(e.reset(),e.chatRenderer.loadMore())}},this.onRoomAdminMessageEvent=function(e,t,n,r,o){b.default.info("[conversationService] onRoomAdminMessageEvent");const i=P.getConversationById(t);i&&"welcome"===r&&i.room&&i.room.ownerContact&&(n=i.room.ownerContact.jid);const s=v.default.getContactByJid(n);if(i&&s){if(!i.room.owner&&"invitation"===r)return;if(i.room&&i.room.isMeetingRoom())return;P.conversationServiceEventHandler.onRoomAdminMessageReceived(i,s,r,o)}},this.onRoomAddConferenceEvent=function(e){b.default.info("[conversationService] onRoomAddConferenceEvent"),P.updateRoomConferences(),P.orderConversations(),t.$broadcast("ON_CONVERSATIONS_UPDATED_EVENT")},this.onMyContactChangedEvent=function(){P.getOrderedConversations().idle.forEach((function(e){e.type===w.Type.ONE_TO_ONE&&P.computeCapabilitiesForContact(e.contact)})),P.computeCapabilitiesForMyContact()},this.reinit=function(){const n=e.defer();return b.default.info("[conversationService] Re-initialize conversation service"),P.activeConversation&&(P.activeConversation.reset(),P.activeConversation=null),delete P.conversations,P.conversations=[],P.conversationCreationPromise||(P.conversationCreationPromise={}),P.botServiceReady=!0,P.isReinit=!0,b.default.info("[conversationService] getServerConversations"),P.getServerConversations().then((function(){P.isReinit=!1,P.linkAllActiveCallsToConversations(),P.updateRoomConferences(),P.orderConversations(),t.$broadcast("ON_MISSED_COUNTER_CHANGED_EVENT",{missedIMCounter:this.currentMissedIMCounter,missedCallCounter:this.currentMissedCallCounter}),n.resolve()})).catch((function(){P.isReinit=!1,E((function(){b.default.info("[conversationService] getServerConversations failure, try again"),P.getServerConversations().then((function(){P.linkAllActiveCallsToConversations(),P.updateRoomConferences(),P.orderConversations()}))}),1e4,1,!0),n.resolve()})),n.promise},this.linkAllActiveCallsToConversations=function(){for(const e in M.calls)if(M.calls.hasOwnProperty(e)){const n=M.calls[e];t.$broadcast("ON_CALL_UPDATED_EVENT",n)}for(const e in T.calls)if(T.calls.hasOwnProperty(e)){const n=T.calls[e];t.$broadcast("ON_CALL_UPDATED_EVENT",n)}},this.unlockWaitingBotConversations=function(e){e&&(P.botServiceReady=!0),P.botServiceReady&&(P.waitingBotConversations.forEach((function(e,t){const n=v.default.getContactByJid(e.jid);n&&(P.getOrCreateOneToOneConversation(n.jid,e.conversationDbId,e.lastModification,e.lastMessageText,e.missedIMCounter,e.muted,e.creationDate),P.waitingBotConversations.splice(t,1))})),P.waitingBotConversations=[])},this.askForSharing=(e,t)=>r(this,void 0,void 0,(function*(){const n=$iq({from:p.default.jid,to:t.fullJid,type:"set"});n.c("command",{xmlns:"http://jabber.org/protocol/commands",node:"request-transfert-sharing",convId:e}),yield p.default.sendIQ(n)})),this.acceptTransfertSharing=(e,t)=>r(this,void 0,void 0,(function*(){const n=$iq({from:p.default.jid,to:t.fullJid,type:"set"});n.c("command",{xmlns:"http://jabber.org/protocol/commands",node:"accept-transfert-sharing",convId:e}),yield p.default.sendIQ(n)})),this.refuseTransfertSharing=(e,t)=>r(this,void 0,void 0,(function*(){const n=$iq({from:p.default.jid,to:t.fullJid,type:"set"});n.c("command",{xmlns:"http://jabber.org/protocol/commands",node:"refuse-transfert-sharing",convId:e}),yield p.default.sendIQ(n)})),this.onAskSharingMessageReceived=e=>{try{const t=$(e),n=t.attr("from"),r=v.default.getContactByJid(p.default.getBareJidFromJid(n)),o=t.find("command"),i=o.attr("convId"),s=this.getConversationById(i);if(o.length>0)switch(o.attr("node")){case"request-transfert-sharing":s.rxSubject.next({name:"request-transfert-sharing",fromContact:r});break;case"accept-transfert-sharing":s.rxSubject.next({name:"accept-transfert-sharing",fromContact:r});break;case"refuse-transfert-sharing":s.rxSubject.next({name:"refuse-transfert-sharing",fromContact:r})}}catch(t){return!0}return!0},this.cleanUnwantedConversations=()=>{Object.keys(P.conversations).forEach(e=>{const t=P.conversations[e];t.type===w.Type.ROOM&&(!v.default.userContact.roomsEnabled||t.room&&t.room.isMeetingRoom()&&!v.default.userContact.phoneMeetingsEnabled)&&(b.default.info("cleanUnwantedConversations -- close conversation "+t.id+" due to customisation limitation"),P.closeConversation(t))})}}])},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(11);class o{static create(e,t,n,r,i){return new o(e,t,n,r,i)}constructor(e=null,t=null,n=null,o=null,i=null){this.url=e,this.fileName=t,this.totalBytes=n,this.receivedBytes=o,this.savePath=i,this.isCanceled=!1,this.openFolderOnceDownloadFinished=!1,this.progressSubject=new r.Subject}isDownloadFinished(){return this.receivedBytes===this.totalBytes}askCancel(){this.isCanceled=!0,this.progressSubject.next()}}t.FilePublicDownload=o},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(16),i=n(54),s=n(76),a=n(4);n(227);const l=n(2),c=n(5),u=n(39),d=n(0),f=n(25);t.ConversationServiceBulkHistoryHandler=class{constructor(e,t){this.conversationService=e,this.fileServerService=t,this.xmppService=c.default,this.i18n=u.default,this.logger=d.default,this.contactService=l.default,this.fileStorageService=f.default}getHistoryPage(e,t){return r(this,void 0,void 0,(function*(){this.logger.info(`[ConversationServiceBulkHistoryHandler] getHistoryPage(${e.id})`);try{return this.getHistoryPageInternal(e,t)}catch(n){return this.logger.info("[ConversationServiceBulkHistoryHandler] "+n.message),null}}))}getHistoryPageAroundMessage(e,t){return r(this,void 0,void 0,(function*(){this.logger.info(`[ConversationServiceBulkHistoryHandler] getHistoryPageAroundDate(${e.id}, ${t})`),yield this.getHistoryPageInternal(e,15,"after",t),yield this.getHistoryPageInternal(e,15,"before",t)}))}getHistoryPageInternal(e,t,n="before",o=null){return r(this,void 0,void 0,(function*(){this.logger.info(`[ConversationServiceBulkHistoryHandler] getHistoryPage(${e.id}, ${t})`);const r=new Promise((t,n)=>{e.historyDefered={resolve:t}});if(e.room&&e.room.initPresPromise&&(yield e.room.initPresPromise.promise),e.currentHistoryId&&e.currentHistoryId===e.historyIndex){const n=`getHistoryPage(${e.id}, ${t}, ${e.historyIndex}) --- already asked`;throw this.logger.info("[ConversationServiceBulkHistoryHandler] "+n),new Error(n)}if(e.currentHistoryId=e.historyIndex,e.historyComplete){const t=`getHistoryPage(${e.id}) --- complete`;throw this.logger.info("[ConversationServiceBulkHistoryHandler] "+t),new Error(t)}const i=e.id,a=this.xmppService.connection.getUniqueId(),l=e.room?e.room.jid:null,c=e.room?this.contactService.userContact.jid:e.id,u=s.$iq({id:a,to:l,type:"set"}).c("query",{queryid:i,xmlns:"urn:xmpp:mam:1:bulk"}).c("x",{xmlns:"jabber:x:data",type:"submit"}).c("field",{var:"FORM_TYPE",type:"hidden"}).c("value").t("urn:xmpp:mam:1").up().up().c("field",{var:"with"}).c("value").t(c).up().up().up().c("set",{xmlns:"http://jabber.org/protocol/rsm"}).c("max").t(t).up();if(o){const e="after"===n?Number(o)-1:o;u.c(n).t(e)}else-1===e.historyIndex?u.c(n).t(""):u.c(n).t(e.historyIndex);const d=performance.now();yield this.xmppService.sendIQ(u);const f=Math.round(performance.now()-d);return yield r,this.logger.info(`[ConversationServiceBulkHistoryHandler] getHistoryPage(${e.id}) -- duration ${f}ms`),e}))}resetHistory(e){const t=e.messages.length;if(t>30){this.logger.info("[ConversationServiceBulkHistoryHandler] resetHistory for conversation "+e.id);const n=t-30;e.messages.splice(0,n),e.currentHistoryId=null,e.historyComplete=!1,e.historyIndex=e.messages[0].historyIndex}}onHistoryMessageReceived(e){try{this.logger.info("[conversationService] onHistoryMessageReceived");const t=$(e).find("results");if(1===t.length){const e=t.find("result");if(e.length>0){const n=$(e[0]).attr("queryid");this.logger.info(`[ConversationServiceBulkHistoryHandler] onHistoryMessageReceived "results" (${n})`);const r=this.conversationService.getConversationById(n);r&&t.find("result").each((e,t)=>{let n=$(t).find("forwarded message");const o=n.attr("from"),i=$(n).find("forwarded[xmlns='urn:xmpp:forward:0']");if(i&&i.length){this.logger.info("[ConversationServiceHistoryHandler] ("+r.id+") Forwarded Message detected");const e=n.attr("id");n=$(i).find("forwarded message"),this.createMessage(r,t,n,o,e,!0)}else this.createMessage(r,t,n,o,null,!1)})}}else{const t=$(e).find("fin"),n=t.attr("queryid");this.logger.info(`[ConversationServiceBulkHistoryHandler] onHistoryMessageReceived "fin" (${n})`);const r=this.conversationService.getConversationById(n);if(r){if(r.historyComplete="true"===t.attr("complete"),r.historyIndex=$(t).find("set first").text(),r.messages.unshift.apply(r.messages,r.historyMessages),r.historyMessages=[],r.lastMessageText="",r.lastMessageSender=null,r.messages&&r.messages.length>0){const e=r.messages[r.messages.length-1];r.lastMessageText=e.data,r.lastMessageSender=e.from.id}r.historyDefered&&r.historyDefered.resolve()}}}catch(t){return this.logger.error("[ConversationServiceBulkHistoryHandler] onHistoryMessageReceived -- failure -- "+t),!0}return!0}createMessage(e,t,n,r,i,s){const l=i||n.attr("id");let c=e.getMessageById(l);if(c||(c=e.historyMessages.find(e=>e.id===l)),c||(c=e.getReplacedMessageById(l)),c)return void this.logger.info("[ConversationServiceHistoryHandler] ("+e.id+") try to add an already stored message with id "+c.id);let u=null,d=n.attr("type"),f=r&&0===r.indexOf("room_")?r.split("/")[1]:this.xmppService.getBareJidFromJid(r),_=null;if(!f){const n=$(t).find("event");if(n.length){if(f=n.attr("jid"),_=n.attr("name"),e.room){if(e.room.isMeetingRoom()&&("welcome"===_||"conferenceAdd"===_||"conferenceRemove"===_||"invitation"===_))return;if("welcome"===_&&e.room.ownerContact&&(f=e.room.ownerContact.jid),("conferenceAdd"===_||"conferenceRemove"===_)&&e.room.ownerContact){const t=e.room.getUserByJid(f);u=t&&t.contact?t.contact:e.room.ownerContact}}d="admin"}}if(!f)return void this.logger.warn("[ConversationServiceBulkHistoryHandler] onHistoryMessageReceived - Receive message without valid fromJid information");if("webrtc"===d){const e=$(t).find("caller").text();u=this.contactService.getContact(e)}u||(u=this.contactService.getContact(f)),u||(u=this.contactService.createEmptyContact(f));const h=new Date($(t).find("forwarded delay").attr("stamp"));let p=$(n).find("body").text();const m=this.contactService.isUserContact(u)?o.Message.Side.RIGHT:o.Message.Side.LEFT,g=$(t).find("geoloc");let v=null;if(g&&g.length){const e=$(g);v={lon:e.find("lon").text(),lat:e.find("lat").text()}}let b="std";const D=$(n).find("headers[xmlns='http://jabber.org/protocol/shim']");if(D&&D.length){const e=$(D).find("header[name='Urgency']");e&&e.length&&(b=e.text())}const y=$(n).find("x[xmlns='jabber:x:oob']");if(y&&y.length&&(d="fileSharing"),$(t).find("call_log").length){const e=$(t).find("state").text();if("missed"===e)p="missedCall||"+h;else if("answered"===e){const e=$(t).find("duration")?parseInt($(t).find("duration").text(),10):0,n=e>0?`(${a.duration(e,"ms").format("h[H] mm[m] ss[s]")})`:"";p=`activeCallMsg||${h}||${n}`}}switch(d){case"webrtc":c=o.Message.createWebRTCMessage(l,h,u,m,p,!1);break;case"admin":c=o.Message.createBubbleAdminMessage(l,h,u,_);break;case"fileSharing":c=this.createFileSharingMessage(y,l,h,u,m,p,v);break;case"recording":break;default:{const n=$(t).find("content[xmlns='urn:xmpp:content']");let r=!1,i=null;n&&n.each((e,t)=>{i||(i={});const n=$(t).attr("type"),o=$(t).text();"text/markdown"===n&&(r=!0,p=o),i[n]={type:n,message:o}});let s=null;const a=$(t).find("mention[xmlns='urn:xmpp:attention:0']");a.length&&(s=[],a.find("jid").each((e,t)=>{const n={};n.jid=$(t).text(),n.pos=parseInt($(t).attr("pos"),10),n.size=parseInt($(t).attr("size"),10),n.jid&&n.size&&s.push(n)}));const d=$(t).find("replace");if(d&&d.length){const t=d.attr("id");let n=e.getMessageByIdInHistory(t);if(n||(n=e.getMessageById(t)),n||(n=o.Message.create(t,h,u,m,p,!1,r,i,null,null,null,null,s),c=n),u.jid!==n.from.jid)this.logger.warn("[ConversationServiceHistoryHandler] onHistoryMessageReceived : message Replaced by somebody else - Skip"),c=null;else if(n){n.addReplaceMsg(l,p),n.mentions=s;const e=p.length?p.substr(0,1)+"***"+p.substr(p.length-1):"";this.logger.info("Add new history replace message for message "+l+" witn body "+e)}}else{const n=$(t).find("answeredMsg"),a=n?n.text():null,d=n?n.attr("stamp"):null;if(c=o.Message.create(l,h,u,m,p,!1,r,i,null,a,d,null,s),c.urgency=b,a){const t=e.getMessageByIdInHistory(a);t?(t.urgencyAck=!0,t.sendUpdateEvent()):this.logger.error("[ConversationServiceEventHandler] Not possible to handle answeredMsg because replied msg not found")}}}}if(c){c.isForwarded=s,c.urgency=b,c.historyIndex=$(t).attr("id");const r=$(n).find("ack");c.receiptStatus="true"===$(r).attr("read")?5:"true"===$(r).attr("recv")?4:3,e.addMessageInHistoryMessages(c),this.logger.info("Add new history message : "+c.getInfoForLogs())}}createFileSharingMessage(e,t,n,r,s,a,l,c=null){const u=$(e),d=u.find("url").text(),f=u.find("filename").text(),_=this.fileStorageService.extractFileIdFromUrl(d),h=o.Message.createFileSharingMessage(t,n,r,s,a,!1,_,f,null,l,c);return this.fileStorageService.retrieveAndStoreOneFileDescriptor(_).then(e=>{e&&e.state===i.FileState.NOT_UPLOADED&&(h.receiptStatus=1,h.fileErrorMsg=this.i18n.translate("file_notuploaded")),this.fileServerService.getBlobThumbnailFromFileDescriptor(e).then(t=>{e.previewBlob=t,e.previewBlobSubject.next(e.previewBlob)}).catch(()=>{this.logger.info("[ConversationServiceBulkHistoryHandler] getBlobThumbnailFromFileDescriptor error "),e.previewBlobSubject.next(e.previewBlob)})}).catch(e=>{this.logger.info("[ConversationServiceBulkHistoryHandler] createFileSharingMessage error "+e)}),h}}},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(66),i=n(75),s=n(336),a=n(337),l=n(228),c=n(60),u=n(33),d=n(67),f=n(338),_=n(0),h=n(2),p=n(3),m=n(5),g=n(64),v=n(7),b=n(34),D=n(39),y=n(38);var C;!function(e){e.PSTNAUDIO="pstnAudio",e.WEBRTC="webrtc",e.WEBRTCSHARINGONLY="webrtcSharingOnly"}(C=t.MEDIATYPE||(t.MEDIATYPE={})),t.NgPgiConferenceService=class{constructor(){this.eventService=u.default,this.logger=_.default,this.authService=p.default,this.xmppService=m.default,this.countryService=g.default,this.profileService=v.default,this.contactService=h.default,this.roomService=b.default,this.i18n=D.default,this.conferenceEndpoints={},this.conferenceEnpointsSubject=new d.Subject,this.conferenceSessions={},this.conferenceSessionsSubject=new f.ReplaySubject,this.started=!1,this.isPstnConferenceAvailable=!1,this.isPstnConferenceAvailableSubject=new o.BehaviorSubject(this.isPstnConferenceAvailable),this.pstnConferencePhoneNumbers=null,this.startedSubject=new o.BehaviorSubject(!1)}start(e){this.logger.info("=== STARTING ===");const t=performance.now();this.confProvPortalURL=new URL(config.restServerUrl+"/api/rainbow/confprovisioning/v1.0/"),this.confPortalURL=new URL(config.restServerUrl+"/api/rainbow/conference/v1.0/"),this.attachHandlers(),this.computePstnConferencePremission(),this.isPstnConferenceAvailableSubject.pipe(i.distinctUntilChanged()).subscribe(e=>{e&&this.initializeServiceData()}),this.started=!0;const n=Math.round(performance.now()-t);e.push({service:"PgiConferenceService",startDuration:n}),this.logger.info(`=== STARTED (${n} ms) ===`),this.startedSubject.next(!0),this.contactService.userContact.phoneMeetingsEnabledSubject.pipe(i.distinctUntilChanged()).subscribe(e=>{e||this.stop()})}stop(){this.logger.info(""),this.logger.info("[PgiConferenceService] === STOPPING ==="),this.isPstnConferenceAvailable=!1,this.started=!1,this.logger.info("[PgiConferenceService] === STOPPED ==="),this.startedSubject.next(!1)}reconnect(){this.reconnectService()}reconnectService(){this.logger.info("reconnectService"),this.attachHandlers(),this.refreshConferenceSessions()}attachHandlers(){this.xmppManagementHandler&&(this.xmppService.deleteHandler(this.xmppManagementHandler),this.xmppManagementHandler=null),this.xmppManagementHandler=this.xmppService.addHandler(e=>(this.onManagementMessage(e),!0),null,"message","management"),this.conferenceHandler&&(this.xmppService.connection.deleteHandler(this.conferenceHandler),this.conferenceHandler=null),this.conferenceHandler=this.xmppService.connection.addHandler(e=>(this.onConferenceMessage(e),!0),"jabber:iq:conference","message",null)}onManagementMessage(e){const t=$(e);t.find("confuseractivated ").length>0&&this.setPstnConferenceAvailability(this.profileService.isFeatureEnabled(this.profileService.FeaturesEnum.CONFERENCE_ALLOWED));const n=t.find("confendpoint");if(n.length&&"update"===n.attr("action")){this.logger.info("onManagementMessage - update of conference");const e=t.find("confendpointid").text();this.retrieveConference(e,!0)}}onConferenceMessage(e){const t=$(e),n=t.find("conference-id").text(),r=this.getConferenceSessionById(n);r&&this.updateConferenceSession(t,r)}updateConferenceSession(e,t){this.logger.info("updateConferenceSession - "+t.id);const n=e.find("conference-state");if(n.length){const e="true"===n.find("active").text();this.updateState(t,e)}const r=e.find("talkers");if(r.length){const e=[];r.find("participant-id").each((t,n)=>{const r=$(n).text();e.push(r)}),this.logger.debug("update talkers with: "+e),t.updateTalkers(e)}let o=e.find("participants");if(0===o.length&&(o=e.find("updated-participants")),o.length||(o=e.find("added-participants")),o.length){const e=[];o.find("participant").each((t,n)=>{const r=$(n),o=r.find("participant-id").text(),i=r.find("jid-im").text(),s=r.find("phone-number").text(),a=r.find("role").text(),l=r.find("mute").text(),c=r.find("hold").text(),u=r.find("cnx-state").text();e.push({participantId:o,jid_im:i,phoneNumber:s,participantRole:a,mute:"on"===l,held:"on"===c,participantState:u})}),e.length&&(t.participants=e)}const i=e.find("removed-participants");if(i.length){const e=[];i.find("participant-id").each((t,n)=>{const r=$(n).text();e.push(r)}),this.logger.debug("remove participants: "+e),t.removeParticipants(e)}this.conferenceSessionsSubject.next({id:t.id,action:"updated"})}updateState(e,t,n=!1){return r(this,void 0,void 0,(function*(){if(e.active&&!t){if(this.contactService.userContact.guestMode&&e.type!==C.WEBRTCSHARINGONLY)return this.eventService.publish("ON_OPEN_POPUP","concludeInvitation"),e.cleanupSessionData(),void e.updateStateFromData(t,n);const o=this.roomService.findRoomsWithConfId(e.id)[0];if(o)if(o.owner&&e.id===this.getPstnInstantConferenceEndpointId())try{const e=yield this.roomService.retrieveRoomConsumption();e>this.profileService.getFeatureLimitMax(this.profileService.FeaturesEnum.BUBBLE_COUNT)?(this.eventService.publish("ON_OPEN_GLOBAL_POPUP",{popupTitle:"createBubble",popupBody:"maxCollabSpaceReached",okLabel:"ok"}),yield this.roomService.deletePersonalMeetingRoom()):o.isMyPersonalMeetingRoom()&&this.eventService.publish("ON_SHOW_POPUP",{component:"renameMeeting",data:o})}catch(r){}else if(!o.owner&&e.isParticipantConnectedByJid(this.contactService.userContact.dbId)){const e=c(o.ownerContact.displayName),t=c(o.name),n=this.i18n.translate("meetingEndBy",{owner:e,meeting:t});this.eventService.publish("GLOBAL_NOTIFY_MESSAGE_EVENT",n)}e.cleanupSessionData()}e.updateStateFromData(t,n)}))}initializeServiceData(){return r(this,void 0,void 0,(function*(){try{yield this.retrievePstnConferences(),yield this.makeSnapshots(),this.logger.info("service data initialized")}catch(e){this.logger.warn("service data init failed")}}))}setPstnConferenceAvailability(e){this.isPstnConferenceAvailable&&!e&&this.eventService.publish("ON_OPEN_GLOBAL_POPUP",{popupTitle:"information",popupBody:"pgiRightsRemovedWarning",okLabel:"ok"}),this.isPstnConferenceAvailable=e,this.isPstnConferenceAvailableSubject.next(this.isPstnConferenceAvailable)}computePstnConferencePremission(){let e=!0;this.profileService.getProfilesByName("conference").filter(e=>"active"===e.status).forEach(t=>{t.provisioningNeeded&&t.provisioningNeeded.length&&t.provisioningNeeded.forEach(t=>{-1!==t.providerType.toLowerCase().indexOf("pgi")&&(e=t.provisioningOngoing,e&&this.logger.info("computePstnConferencePremission - pgi provisioning on going"))})}),this.setPstnConferenceAvailability(this.profileService.isFeatureEnabled(this.profileService.FeaturesEnum.CONFERENCE_ALLOWED)&&!e)}makeSnapshots(){return r(this,void 0,void 0,(function*(){try{this.logger.info("makeSnapshots");const e=[];for(const t in this.conferenceEndpoints)if(this.conferenceEndpoints[t]){const n=this.conferenceEndpoints[t];n&&(this.logger.info("makeSnapshots -- "+n.id),e.push(n.id))}yield Promise.all(e.map(e=>r(this,void 0,void 0,(function*(){try{yield this.makeSnapshotForConfId(e)}catch(t){}})))),this.logger.info("makeSnapshots -- SUCCESS")}catch(e){this.logger.info("makeSnapshots -- ERROR")}}))}makeSnapshotForConfId(e){return r(this,void 0,void 0,(function*(){if(!e){const e=new Error("makeSnapshotForConfId - No confId !!");throw this.logger.error(e.message),e}try{const t=this.conferenceSessions[e];if(t&&t.active&&t.haveJoined)return this.logger.debug("makeSnapshotForConfId skipped, already joined"),t;const n=new URL(`conferences/${e}/snapshot`,this.confPortalURL),r=this.authService.getRequestHeader(),o=yield fetch(n.href,{method:"GET",headers:r});if(!o.ok)throw this.logger.debug(`Request ${o.headers.get("x-rainbow-request-id")} failed with status ${o.status}`),o;const i=(yield o.json()).data;return this.updateOrCreateConferenceSession(e,i),i}catch(t){this.conferenceSessions[e]&&(this.logger.debug("makeSnapshotForConfId failed - remove conferenceSession "+e),this.removeConferenceSession(e));const n=yield y.default.getErrorInfo(t,"makeSnapshotForConfId");throw this.logger.error("[pgiConferenceService] "+n.message),n.error}}))}removeConferenceSession(e){e&&(this.logger.debug("removeConferenceSession "+e),delete this.conferenceSessions[e],this.conferenceSessionsSubject.next({id:e,action:"deleted"}))}updateOrCreateConferenceSession(e,t){if(this.logger.debug("updateOrCreateConferenceSession for "+e),!e||!t)return this.logger.warn("updateOrCreateConferenceSession - Not enough data"),null;let n=this.conferenceSessions[e];return n?(t.active!==n.active&&(this.logger.debug("updateOrCreateConferenceSession - state update to "+(t.active?"active":"inactive")),n.active=t.active,this.conferenceSessionsSubject.next({id:e,action:"updated"})),t.participants&&(this.logger.debug(`updateOrCreateConferenceSession - update participants for ${e} with:\n${JSON.stringify(t.participants)}`),n.participants=t.participants.map(e=>l.ConferenceParticipant.createFromData(e)),this.conferenceSessionsSubject.next({id:e,action:"updated"}))):(this.logger.debug(`updateOrCreateConferenceSession - create new conferencesession with id ${e} and data: \n${JSON.stringify(t)}`),n=a.ConferenceSession.createFromData(e,t.participants,t.active,C.PSTNAUDIO),this.conferenceSessions[e]=n,this.conferenceSessionsSubject.next({id:e,action:"created"})),n}updateConference(e,t){return r(this,void 0,void 0,(function*(){try{if(this.logger.info("updateConference"),!e){const e="updateConference failure: No confEndpoint";throw this.logger.error("updateConference failure : No confEndpoint"),new Error(e)}const n=new URL("conferences/"+e,this.confProvPortalURL),r=this.authService.getRequestHeader();r["Content-Type"]="application/json";const o=yield fetch(n.href,{method:"PUT",headers:r,body:JSON.stringify(t)});if(!o.ok)throw this.logger.debug(`Request ${o.headers.get("x-rainbow-request-id")} failed with status ${o.status}`),o;const i=(yield o.json()).data,s=this.updateOrCreatePstnConferenceEndpoint(i);return this.logger.info("updateConference SUCCESS"),s}catch(n){throw this.logger.error("updateConference ERROR"),n}}))}getPstnInstantConferenceEndpoint(){return this.conferenceEndpoints[Object.keys(this.conferenceEndpoints)[0]]}getPstnInstantConferenceEndpointId(){return this.conferenceEndpoints[Object.keys(this.conferenceEndpoints)[0]]?this.conferenceEndpoints[Object.keys(this.conferenceEndpoints)[0]].id:null}retrievePstnConferences(){return r(this,void 0,void 0,(function*(){try{if(this.logger.info("retrievePstnConferences"),!this.isPstnConferenceAvailable)throw this.logger.warn("retrievePstnConferences - user is not allowed"),new Error("notAllowed");const e=new URL("conferences",this.confProvPortalURL);e.searchParams.set("format","full"),e.searchParams.set("userId",this.contactService.userContact.dbId),e.searchParams.set("scheduled","false"),e.searchParams.set("mediaType",C.PSTNAUDIO);const t=this.authService.getRequestHeader(),n=yield fetch(e.href,{method:"GET",headers:t});if(!n.ok)throw this.logger.debug(`Request ${n.headers.get("x-rainbow-request-id")} failed with status ${n.status}`),n;const r=(yield n.json()).data;for(const o of r)o&&o.mediaType===C.PSTNAUDIO&&this.updateOrCreatePstnConferenceEndpoint(o);return this.logger.info("retrievePstnConferences successfully"),r}catch(e){const t=yield y.default.getErrorInfo(e,"retrievePstnConferences");throw this.logger.error("[pgiConferenceService] "+t.message),t.error}}))}retrieveConference(e,t=!1){return r(this,void 0,void 0,(function*(){if(!e){const e=new Error("retrieveConference - missing parameter");throw this.logger.error(e.message),e}try{if(this.logger.info("retrieveConference - "+e),this.conferenceEndpoints[e]&&!t)return this.conferenceEndpoints[e];const n=new URL("conferences/"+e,this.confProvPortalURL),r=this.authService.getRequestHeader(),o=yield fetch(n.href,{method:"GET",headers:r});if(!o.ok)throw this.logger.debug(`Request ${o.headers.get("x-rainbow-request-id")} failed with status ${o.status}`),o;const i=(yield o.json()).data;return i&&Object.prototype.hasOwnProperty.call(i,"id")?this.updateOrCreatePstnConferenceEndpoint(i):i}catch(n){const e=yield y.default.getErrorInfo(n,"retrieveConference");throw this.logger.error("[pgiConferenceService] "+e.message),e.error}}))}updateOrCreatePstnConferenceEndpoint(e){if(this.logger.info("updateOrCreatePstnConferenceEndpoint for "+e.id),!e)return this.logger.error("updateOrCreatePstnConferenceEndpoint - no conference data !"),null;if(e.mediaType!==C.PSTNAUDIO)return this.logger.warn("updateOrCreatePstnConferenceEndpoint - wrong mediaType: "+e.mediaType),null;if(this.conferenceEndpoints[e.id])this.conferenceEndpoints[e.id].updateFromData(e),this.conferenceEnpointsSubject.next({id:e.id,action:"updated"});else{const t=s.ConferenceEndpoint.createFromData(e);this.conferenceEndpoints[e.id]=t,this.conferenceEnpointsSubject.next({id:e.id,action:"created"})}return this.conferenceEndpoints[e.id]}getConferenceSessionWithConnId(e){this.logger.debug("getConferenceSessionWithConnId with connId "+e);for(const t in this.conferenceSessions)if(this.conferenceSessions[t]){const n=this.conferenceSessions[t];if(n&&n.callId===e)return this.logger.debug(`getConferenceSessionWithConnId with connId ${e}: - conferenceSessionId: ${t}`),n}return null}getConferenceSessionById(e){return this.conferenceSessions[e]}subscribeToPstnSession(e){return r(this,void 0,void 0,(function*(){if(this.logger.info(`subscribeToPstnSession( confId=${e})`),!e){const e=new Error("subscribeToPstnSession - missing parameter");throw this.logger.error(e.message),e}try{const t=new URL(`conferences/${e}/join`,this.confPortalURL),n=this.authService.getRequestHeader();n["Content-Type"]="application/json";const r={participantPhoneNumber:"joinWithoutAudio",participant:{role:"member",type:"unmuted"},mediaType:C.PSTNAUDIO},o=yield fetch(t.href,{method:"POST",headers:n,body:JSON.stringify(r)});if(!o.ok)throw this.logger.debug(`Request ${o.headers.get("x-rainbow-request-id")} failed with status ${o.status}`),o;const i=(yield o.json()).status;return this.logger.info(`subscribeToPstnSession( confId=${e}) success : ${i}`),e}catch(t){const e=yield y.default.getErrorInfo(t,"subscribeToPstnSession");throw this.logger.error("[pgiConferenceService] "+e.message),e.error}}))}unSubscribeParticipantFromPstnSession(e,t){return r(this,void 0,void 0,(function*(){if(this.logger.info(`unSubscribeParticipantFromPstnSession( confId=${e} - participantId=${t})`),!e||!t){const e=new Error("unSubscribeParticipantFromPstnSession - missing parameter");throw this.logger.error(e.message),e}try{const n=new URL(`conferences/${e}/participants/${t}`,this.confPortalURL);n.searchParams.set("mediaType",C.PSTNAUDIO);const r=this.authService.getRequestHeader();r["Content-Type"]="application/json";const o={participantPhoneNumber:"joinWithoutAudio",participant:{role:"member",type:"unmuted"},mediaType:C.PSTNAUDIO},i=yield fetch(n.href,{method:"DELETE",headers:r,body:JSON.stringify(o)});if(!i.ok)throw this.logger.debug(`Request ${i.headers.get("x-rainbow-request-id")} failed with status ${i.status}`),i;const s=(yield i.json()).status;this.logger.info(`unSubscribeParticipantFromPstnSession( confId=${e} ) success : ${s}`)}catch(n){const e=yield y.default.getErrorInfo(n,"unSubscribeParticipantFromPstnSession");throw this.logger.error("[pgiConferenceService] "+e.message),e.error}}))}startPstnConference(e){return r(this,void 0,void 0,(function*(){if(this.logger.info(`startPstnConference( confId=${e} )`),!e){const e=new Error("startPstnConference - missing parameter");throw this.logger.error(e.message),e}if(this.conferenceSessions[e]&&this.conferenceSessions[e].active)this.logger.info("startPstnConference : conference already started");else try{const t=new URL(`conferences/${e}/start`,this.confPortalURL),n=this.authService.getRequestHeader(),r=yield fetch(t.href,{method:"PUT",headers:n});if(!r.ok)throw this.logger.debug(`Request ${r.headers.get("x-rainbow-request-id")} failed with status ${r.status}`),r;const o=(yield r.json()).status;this.logger.info(`startPstnConference( confId=${e} ) success : ${o}`)}catch(t){const e=yield y.default.getErrorInfo(t,"startPstnConference");throw this.logger.error("[pgiConferenceService] "+e.message),e.error}}))}stopPstnConference(e){return r(this,void 0,void 0,(function*(){if(this.logger.info(`stopPstnConference( confId=${e} )`),!e){const e=new Error("stopPstnConference - missing parameter");throw this.logger.error(e.message),e}if(this.conferenceSessions[e]&&this.conferenceSessions[e].active)try{const t=new URL(`conferences/${e}/stop`,this.confPortalURL),n=this.authService.getRequestHeader();n["Content-Type"]="application/json";const r={mediaType:C.PSTNAUDIO},o=yield fetch(t.href,{method:"PUT",headers:n,body:JSON.stringify(r)}),i=yield o.json();if(!o.ok){if(this.logger.debug(`Request ${o.headers.get("x-rainbow-request-id")} failed with status ${o.status}`),404===o.status&&404e3===i.errorDetailsCode){const t=this.getConferenceSessionById(e);t&&(t.active=!1,t.participants=[],this.removeConferenceSession(e))}throw o}const s=i.status;this.logger.info(`stopPstnConference( confId=${e} ) success : ${s}`)}catch(t){const e=yield y.default.getErrorInfo(t,"stopPstnConference");throw this.logger.error("[pgiConferenceService] "+e.message),e.error}else this.logger.info("stopPstnConference : no conference to stop")}))}joinPstnConference(e,t,n,o){return r(this,void 0,void 0,(function*(){if(!e||!t||!n){const e=new Error("joinPstnConference - missing parameter");throw this.logger.error(e.message),e}this.logger.info(`joinPstnConference( confId=${e}, PhoneNumber=${t}, role=${n.role}, country=${o} )`);try{const r=new URL(`conferences/${e}/join`,this.confPortalURL),i=this.authService.getRequestHeader();i["Content-Type"]="application/json";const s={participantPhoneNumber:t,participant:n,country:o,mediaType:C.PSTNAUDIO},a=yield fetch(r.href,{method:"POST",headers:i,body:JSON.stringify(s)});if(!a.ok)throw this.logger.debug(`Request ${a.headers.get("x-rainbow-request-id")} failed with status ${a.status}`),a;this.conferenceSessions[e].joinInProgress=!0;const l=(yield a.json()).status;return this.logger.info(`joinPstnConference( confId=${e} ) success - ${l}`),e}catch(r){const e=yield y.default.getErrorInfo(r,"joinPstnConference");throw this.logger.error("[pgiConferenceService] "+e.message),e.error}}))}disconnectParticipant(e,t){return r(this,void 0,void 0,(function*(){if(!e||!t){const e=new Error("disconnectParticipant - missing parameter");throw this.logger.error(e.message),e}this.logger.info(`disconnectParticipant( confId=${e}, participantId=${t} )`);try{const n=new URL(`conferences/${e}/participants/${t}`,this.confPortalURL);n.searchParams.set("mediaType",C.PSTNAUDIO);const r=this.authService.getRequestHeader(),o=yield fetch(n.href,{method:"DELETE",headers:r});if(!o.ok)throw this.logger.debug(`Request ${o.headers.get("x-rainbow-request-id")} failed with status ${o.status}`),o;this.logger.info("disconnectParticipant success")}catch(n){const e=yield y.default.getErrorInfo(n,"disconnectParticipant");throw this.logger.error("[pgiConferenceService] "+e.message),e.error}}))}retrievePstnPhoneNumbers(e=!1){return r(this,void 0,void 0,(function*(){if(this.logger.info("retrievePstnPhoneNumbers : "+e),this.pstnConferencePhoneNumbers)return e?this.formatPstnPhoneNumbers(this.pstnConferencePhoneNumbers):this.pstnConferencePhoneNumbers;try{const t=new URL("conferences/audio/phonenumbers",this.confProvPortalURL);t.searchParams.set("shortList","false");const n=this.authService.getRequestHeader(),r=yield fetch(t.href,{method:"GET",headers:n});if(!r.ok)throw this.logger.debug(`Request ${r.headers.get("x-rainbow-request-id")} failed with status ${r.status}`),r;const o=yield r.json();return this.logger.info("retrievePstnPhoneNumbers success"),this.pstnConferencePhoneNumbers=o.data.phoneNumberList,e?this.formatPstnPhoneNumbers(this.pstnConferencePhoneNumbers):this.pstnConferencePhoneNumbers}catch(t){const e=yield y.default.getErrorInfo(t,"retrievePstnPhoneNumbers");throw this.logger.error("[pgiConferenceService] "+e.message),e.error}}))}resetPersonalMeetingRoom(){return r(this,void 0,void 0,(function*(){this.logger.info("resetPersonalMeetingRoom");try{const e=new URL("meetings/reset",this.confProvPortalURL),t=this.authService.getRequestHeader();t["Content-Type"]="application/json";const n=yield fetch(e.href,{method:"PUT",headers:t});if(!n.ok)throw this.logger.debug(`Request ${n.headers.get("x-rainbow-request-id")} failed with status ${n.status}`),n}catch(e){const t=yield y.default.getErrorInfo(e,"resetPersonalMeetingRoom");throw this.logger.error("[pgiConferenceService] "+t.message),t.error}}))}formatPstnPhoneNumbers(e){const t={};return e.forEach(e=>{if(e.locationcode){const n=this.countryService.getAlpha2Code(e.locationcode.substr(0,3));n&&(t[n]||(t[n]={numbersList:[]})),t[n].numbersList.push({number:e.number,locationName:e.location,city:e.location.split(", ")[1],numberType:e.numberType,needLanguageSelection:e.needLanguageSelection})}}),t}refreshConferenceSessions(){return r(this,void 0,void 0,(function*(){this.logger.info("refreshConferenceSessions");try{for(const e in this.conferenceSessions)Object.prototype.hasOwnProperty.call(this.conferenceSessions,e)&&(yield this.makeSnapshotForConfId(e))}catch(e){this.logger.error("refreshConferenceSessions -- ERROR")}}))}subscribeToMyConferenceSessions(e){this.conferenceSessions[this.getPstnInstantConferenceEndpointId()]&&this.conferenceSessions[this.getPstnInstantConferenceEndpointId()].activeSubject.pipe(i.distinctUntilChanged()).subscribe(e)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t,n,r,o=!1,i=[],s=!1,a=!1){this.id=e,this.userId=t,this.mediaType=n,this.scheduled=r,this.confDialOutDisabled=o,this.passCodes=i,this.playEntryTone=s,this.muteUponEntry=a}static createFromData(e){return new r(e.id,e.userId,e.mediaType,e.scheduled,e.confDialOutDisabled,e.passCodes,e.playEntryTone,e.muteUponEntry)}updateFromData(e){this.id=e.id,this.userId=e.userId,this.mediaType=e.mediaType,this.scheduled=e.scheduled,this.confDialOutDisabled=e.confDialOutDisabled,this.passCodes=e.passCodes,this.playEntryTone=e.playEntryTone,this.muteUponEntry=e.muteUponEntry}}t.ConferenceEndpoint=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(228),o=n(66);class i{constructor(e,t,n,r){this.conferenceStats=null,this.talkers=[],this.talkerSubject=new o.BehaviorSubject(this.talkers),this._haveJoined=!1,this.haveJoinedSubject=new o.BehaviorSubject(this._haveJoined),this._joinInProgress=!1,this.joinInProgressSubject=new o.BehaviorSubject(this._haveJoined),this._active=!1,this.activeSubject=new o.BehaviorSubject(this._active),this._callId="",this.callIdSubject=new o.BehaviorSubject(this._callId),this._participants=[],this.participantsSubject=new o.BehaviorSubject(this._participants),this._lock=!1,this.lockSubject=new o.BehaviorSubject(this._lock),this.id=e,this.participants=t,this.active=n,this.type=r}static createFromData(e,t,n,o){return new i(e,t.map(e=>r.ConferenceParticipant.createFromData(e)),n,o)}get haveJoined(){return this._haveJoined}set haveJoined(e){this._haveJoined=e,this.haveJoinedSubject.next(this._haveJoined)}get joinInProgress(){return this._joinInProgress}set joinInProgress(e){this._joinInProgress=e,this.joinInProgressSubject.next(this._joinInProgress)}get active(){return this._active}set active(e){this._active=e,this.activeSubject.next(this._active)}get callId(){return this._callId}set callId(e){this._callId=e,this.callIdSubject.next(this._callId)}get participants(){return this._participants}set participants(e){if(e.length)for(const t of e){if(!t.participantId)return;const e=this.getParticipantById(t.participantId)?this.getParticipantById(t.participantId):this.getParticipantByJid(t.jid_im);e?e.updateFromData(t):this._participants.push(r.ConferenceParticipant.createFromData(t))}else this._participants=[];this.participantsSubject.next(this._participants)}get lock(){return this._lock}set lock(e){this._lock=e,this.lockSubject.next(this._lock)}cleanupSessionData(){this.participants=[],this.talkers=[],this.haveJoined=!1}updateFromData(e=[],t=!1){this.participants=e,this.active=t}updateStateFromData(e,t){this.active=e,this.lock=t}removeParticipants(e=[]){for(const t of e){const e=this.getParticipantIndexById(t);-1!==e&&this._participants.splice(e,1)}this.participantsSubject.next(this._participants)}updateTalkers(e){this.talkers=e,this.talkerSubject.next(this.talkers)}getParticipants(){return this.participants}getConnectedParticipants(){return this.participants?this.participants.filter(e=>"disconnected"!==e.participantState&&"watching"!==e.participantState):void 0}getWatchingParticipants(){return this.participants?this.participants.filter(e=>"watching"===e.participantState):void 0}getConnectedParticipantsExceptLeader(){return this.participants?this.participants.filter(e=>"disconnected"!==e.participantState&&"watching"!==e.participantState&&"moderator"!==e.participantRole):void 0}getConnectedLeaderParticipantsExcept(e){return this.participants?this.participants.filter(t=>"disconnected"!==t.participantState&&"moderator"===t.participantRole&&t.jid_im!==e):void 0}getConnectedParticipantsExcept(e){return this.participants?this.participants.filter(t=>t.jid_im!==e&&"disconnected"!==t.participantState&&"watching"!==t.participantState):void 0}getLeaderParticipant(){return this.participants?this.participants.find(e=>"moderator"===e.participantRole&&"disconnected"!==e.participantState&&"watching"!==e.participantState):void 0}getLeaderParticipantById(e){return this.participants?this.participants.find(t=>"moderator"===t.participantRole&&"disconnected"!==t.participantState&&"watching"!==t.participantState&&t.jid_im===e):void 0}getParticipantById(e){return this.participants?this.participants.find(t=>t.participantId===e):void 0}getParticipantByJid(e){return this.participants?this.participants.find(t=>t.jid_im===e):void 0}getNonDisconnectedParticipantByJid(e){return this.participants?this.participants.find(t=>t.jid_im===e&&"disconnected"!==t.participantState):void 0}getConnectedParticipantByJid(e){return this.participants?this.participants.find(t=>t.jid_im===e&&"connected"===t.participantState):void 0}getWatchingParticipantByJid(e){return this.participants?this.participants.find(t=>t.jid_im===e&&"watching"===t.participantState):void 0}getParticipantIndexById(e){return this.participants?this.participants.findIndex(t=>t.participantId===e):-1}isParticipantConnectedByJid(e){return void 0!==this.participants&&this.participants.some(t=>t.jid_im===e&&"connected"===t.participantState)}isParticipantWatchingByJid(e){return void 0!==this.participants&&this.participants.some(t=>t.jid_im===e&&"watching"===t.participantState)}isParticipantRingingByJid(e){return void 0!==this.participants&&this.participants.some(t=>t.jid_im===e&&"ringing"===t.participantState)}isParticipantConnectedWithThisUAByJid(e){return this.haveJoined&&void 0!==this.participants&&this.participants.some(t=>t.jid_im===e&&"connected"===t.participantState)}getTalkers(){return this.talkers}getParticipantStatus(e){if(this.participants&&this.participants.length){const t=this.participants.find(t=>t.jid_im===e);if(t)return t.participantState}return"none"}}t.ConferenceSession=i},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(67),s=n(339),a=n(45),l=n(346),c=n(70),u=n(81),d=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var o=e.call(this)||this;return o.scheduler=r,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=t<1?1:t,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return o(t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new f(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,i=r.length;if(this.closed)throw new c.ObjectUnsubscribedError;if(this.isStopped||this.hasError?t=a.Subscription.EMPTY:(this.observers.push(e),t=new u.SubjectSubscription(this,e)),o&&e.add(e=new l.ObserveOnSubscriber(e,o)),n)for(var s=0;s<i&&!e.closed;s++)e.next(r[s]);else for(s=0;s<i&&!e.closed;s++)e.next(r[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||s.queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,o=r.length,i=0;i<o&&!(e-r[i].time<n);)i++;return o>t&&(i=Math.max(i,o-t)),i>0&&r.splice(0,i),r},t}(i.Subject);t.ReplaySubject=d;var f=function(e,t){this.time=e,this.value=t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(340),o=n(343);t.queueScheduler=new o.QueueScheduler(r.QueueAction),t.queue=t.queueScheduler},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return o(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(n(341).AsyncAction);t.QueueAction=i},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return o(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(o){n=!0,r=!!o&&o||new Error(o)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(n(342).Action);t.AsyncAction=i},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,n){return e.call(this)||this}return o(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(45).Subscription);t.Action=i},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(n(344).AsyncScheduler);t.QueueScheduler=i},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(345),s=function(e){function t(n,r){void 0===r&&(r=i.Scheduler.now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return o(t,e),t.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,o):e.prototype.schedule.call(this,n,r,o)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(i.Scheduler);t.AsyncScheduler=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}();t.Scheduler=r},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(56),s=n(347);t.observeOn=function(e,t){return void 0===t&&(t=0),function(n){return n.lift(new a(e,t))}};var a=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.scheduler,this.delay))},e}();t.ObserveOnOperator=a;var l=function(e){function t(t,n,r){void 0===r&&(r=0);var o=e.call(this,t)||this;return o.scheduler=n,o.delay=r,o}return o(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new c(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(s.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(s.Notification.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(s.Notification.createComplete()),this.unsubscribe()},t}(i.Subscriber);t.ObserveOnSubscriber=l;var c=function(e,t){this.notification=e,this.destination=t};t.ObserveOnMessage=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(348),o=n(349),i=n(353);!function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(t.NotificationKind||(t.NotificationKind={}));var s=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return o.of(this.value);case"E":return i.throwError(this.error);case"C":return r.empty()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();t.Notification=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(55);t.EMPTY=new r.Observable((function(e){return e.complete()})),t.empty=function(e){return e?function(e){return new r.Observable((function(t){return e.schedule((function(){return t.complete()}))}))}(e):t.EMPTY}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(350),o=n(351),i=n(229);t.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return r.isScheduler(n)?(e.pop(),i.scheduleArray(e,n)):o.fromArray(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isScheduler=function(e){return e&&"function"==typeof e.schedule}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(55),o=n(352),i=n(229);t.fromArray=function(e,t){return t?i.scheduleArray(e,t):new r.Observable(o.subscribeToArray(e))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeToArray=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(55);function o(e){var t=e.error;e.subscriber.error(t)}t.throwError=function(e,t){return t?new r.Observable((function(n){return t.schedule(o,0,{error:e,subscriber:n})})):new r.Observable((function(t){return t.error(e)}))}},function(e,t,n){n.r(t);var r=n(16),o=n(5),i=n.n(o),s=n(2),a=n.n(s),l=n(25),c=n.n(l);angular.module("rainbow").factory("ConversationServiceHistoryHandler",["$log","$q","$filter","$rootScope","helpersService","fileServerService","SearchTextMsgResultFactory",function(e,t,n,o,s,l,u){function d(e){this.conversationService=e}return d.create=function(e){return new d(e)},d.prototype.getHistoryPage=function(e,t){var n=this,r=e.room;return r&&r.initPresPromise?r.initPresPromise.promise.then((function(){return n.getHistoryPageInternal(e,t)})):this.getHistoryPageInternal(e,t)},d.prototype.getHistoryPageInternal=function(n,r){if(n.currentHistoryId&&n.currentHistoryId===n.historyIndex)return e.info("[ConversationServiceHistoryHandler] getHistoryPage("+n.id+", "+r+", "+n.historyIndex+") already asked"),t.reject();n.currentHistoryId=n.historyIndex,e.info("[ConversationServiceHistoryHandler] getHistoryPage("+n.id+", "+r+", "+n.historyIndex+")");var o=n.historyDefered=t.defer();if(a.a.isUserContact(n.contact))return o.reject(),o.promise;if(n.historyComplete)return e.info("[ConversationServiceHistoryHandler] getHistoryPage("+n.id+") : already complete"),o.reject(),o.promise;var s={queryid:n.id,with:n.id,max:r,before:""};return-1!==n.historyIndex&&(s.before=n.historyIndex),n.room?(s={queryid:n.id,with:a.a.userContact.jid,max:r,before:""},-1!==n.historyIndex&&(s.before=n.historyIndex),i.a.connection.mam.querymuc(n.id,n.room.jid,s)):i.a.connection.mam.query(n.id,s),o.promise},d.prototype.retrieveMsgByDate=function(n,r){const o=t.defer();if(a.a.isUserContact(n.contact))return o.reject(),o.promise;const i="cache_"+n.id+s.randomString(5);return d.prototype.getCommonHistoryPageAroundMsg(i,n,1,r,"after",(function(){e.info("[ConversationServiceHistoryHandler] retrieveMsgByDate finished"),d.prototype.getCommonHistoryPageAroundMsg(i,n,1,r,"before",(function(){e.info("[ConversationServiceHistoryHandler] retrieveMsgByDate finished"),o.resolve()}))})),o.promise},d.prototype.getCommonHistoryPageAroundMsg=function(t,n,r,o,s,l){if(e.info("[ConversationServiceHistoryHandler] getCommonHistoryPageAroundMsg("+t+", "+r+", "+n.historyIndex+")"),n.room){const e={queryid:t,with:a.a.userContact.jid,max:r,onComplete:l};e[s]=o,i.a.connection.mam.querymuc(t,n.room.jid,e)}else{const e={queryid:t,with:n.id,max:r,onComplete:l};e[s]=o,i.a.connection.mam.query(t,e)}},d.prototype.searchTextInConversations=function(n,r){e.info("[ConversationServiceHistoryHandler] searchTextInConversations("+r+")");const o=t.defer(),s=i.a.connection.getUniqueId(),a=$iq({id:s,type:"get"}).c("query",{queryid:n,xmlns:"urn:xmpp:mam:tmp"}).c("set",{xmlns:"http://jabber.org/protocol/rsm"}).c("max").t(100).up().c("before").up().up().c("x",{xmlns:"jabber:x:data",type:"form"}).c("field",{var:"FORM_TYPE",type:"hidden"}).c("value").t("urn:xmpp:mam:1").up().up().c("field",{var:"withtext",type:"text-single"}).c("value").t(r).up().up();return i.a.sendIQ(a).then((function(t){e.info("[ConversationServiceHistoryHandler] sendIq Success: "+r);const n=$(t).find("query").find("set").find("count").text();e.info("[ConversationServiceHistoryHandler] >searchTextInConversations: count= "+n),o.resolve(parseInt(n,10))})).catch((function(t){e.info("[ConversationServiceHistoryHandler] sendIq Failure: "+t.message),o.reject(t)})),o.promise},d.prototype.getConversationTextCount=function(n,r,o){e.info("[ConversationServiceHistoryHandler] getConversationTextCount("+r+")");const s=t.defer(),a=i.a.connection.getUniqueId(),l=$iq({id:a,type:"get"}).c("query",{queryid:n,xmlns:"urn:xmpp:mam:tmp"}).c("set",{xmlns:"http://jabber.org/protocol/rsm"}).c("max").t("0").up().up().c("x",{xmlns:"jabber:x:data",type:"form"}).c("field",{var:"FORM_TYPE",type:"hidden"}).c("value").t("urn:xmpp:mam:1").up().up().c("field",{var:"withtext",type:"text-single"}).c("value").t(r).up().up().c("field",{var:"with",type:"text-single"}).c("value").t(o).up().up();return i.a.sendIQ(l).then((function(t){e.info("[ConversationServiceHistoryHandler] sendIq Success: "+r);const n=$(t).find("query").find("set").find("count").text();e.info("[ConversationServiceHistoryHandler] >getConversationTextCount: count= "+n),s.resolve(parseInt(n,10))})).catch((function(t){e.info("[ConversationServiceHistoryHandler] sendIq Failure: "+t.message),s.reject(t)})),s.promise},d.prototype.searchTextResultsInConversation=function(n,r,o){e.info("[ConversationServiceHistoryHandler] searchTextResultsInConversation("+r+")");const s=t.defer(),a=i.a.connection.getUniqueId(),l=$iq({id:a,type:"get"}).c("query",{queryid:n,xmlns:"urn:xmpp:mam:tmp"}).c("set",{xmlns:"http://jabber.org/protocol/rsm"}).c("max").t(100).up().c("before").up().up().c("x",{xmlns:"jabber:x:data",type:"form"}).c("field",{var:"FORM_TYPE",type:"hidden"}).c("value").t("urn:xmpp:mam:1").up().up().c("field",{var:"withtext",type:"text-single"}).c("value").t(r).up().up().c("field",{var:"with",type:"text-single"}).c("value").t(o).up().up();return i.a.sendIQ(l).then((function(t){e.info("[ConversationServiceHistoryHandler] sendIq Success: "+r);const n=$(t).find("query").find("set").find("count").text();e.info("[ConversationServiceHistoryHandler] >getConversationTextCount: count= "+n),s.resolve(parseInt(n,10))})).catch((function(t){e.info("[ConversationServiceHistoryHandler] sendIq Failure: "+t.message),s.reject(t)})),s.promise},d.prototype.searchTextMoreResultsInConversation=function(n,r,o,s){e.info("[ConversationServiceHistoryHandler] searchTextMoreResultsInConversation("+r+")");const a=t.defer(),l=i.a.connection.getUniqueId(),c=$iq({id:l,type:"get"}).c("query",{queryid:n,xmlns:"urn:xmpp:mam:tmp"}).c("set",{xmlns:"http://jabber.org/protocol/rsm"}).c("max").t(100).up().c("before").t(s).up().up().c("x",{xmlns:"jabber:x:data",type:"form"}).c("field",{var:"FORM_TYPE",type:"hidden"}).c("value").t("urn:xmpp:mam:1").up().up().c("field",{var:"withtext",type:"text-single"}).c("value").t(r).up().up().c("field",{var:"with",type:"text-single"}).c("value").t(o).up().up();return i.a.sendIQ(c).then((function(t){e.info("[ConversationServiceHistoryHandler] sendIq Success: "+r);const n=$(t).find("query").find("set").find("count").text();e.info("[ConversationServiceHistoryHandler] >getConversationTextCount: count= "+n),a.resolve(parseInt(n,10))})).catch((function(t){e.info("[ConversationServiceHistoryHandler] sendIq Failure: "+t.message),a.reject(t)})),a.promise},d.prototype.searchTextResultsInRoom=function(n,r,o){e.info("[ConversationServiceHistoryHandler] searchTextInRoom("+r+")");const s=t.defer(),l=a.a.userContact.jid,c=i.a.connection.getUniqueId(),u=$iq({to:o,id:c,type:"get"}).c("query",{queryid:n,xmlns:"urn:xmpp:mam:tmp"}).c("set",{xmlns:"http://jabber.org/protocol/rsm"}).c("max").t(100).up().c("before").up().up().c("x",{xmlns:"jabber:x:data",type:"form"}).c("field",{var:"FORM_TYPE",type:"hidden"}).c("value").t("urn:xmpp:mam:1").up().up().c("field",{var:"with",type:"text-single"}).c("value").t(l).up().up().c("field",{var:"withtext",type:"text-single"}).c("value").t(r).up().up();return i.a.sendIQ(u).then((function(t){e.info("[ConversationServiceHistoryHandler] sendIq Success: "+r);var n=$(t).find("query").find("set").find("count").text();e.info("[ConversationServiceHistoryHandler] >searchTextInRoom: count= "+n),s.resolve(parseInt(n,10))})).catch((function(t){e.info("[ConversationServiceHistoryHandler] >searchTextInRoom: Failure: "+t.message),s.reject(t)})),s.promise},d.prototype.searchTextMoreResultsInRoom=function(n,r,o,s,a,l){e.info("[ConversationServiceHistoryHandler] searchTextMoreResultsInConversation("+r+")");const c=t.defer(),u=i.a.connection.getUniqueId(),d=$iq({to:s,id:u,type:"get"}).c("query",{queryid:n,xmlns:"urn:xmpp:mam:tmp"}).c("set",{xmlns:"http://jabber.org/protocol/rsm"}).c("max").t(l).up().c("before").t(a).up().up().c("x",{xmlns:"jabber:x:data",type:"form"}).c("field",{var:"FORM_TYPE",type:"hidden"}).c("value").t("urn:xmpp:mam:1").up().up().c("field",{var:"withtext",type:"text-single"}).c("value").t(r).up().up().c("field",{var:"with",type:"text-single"}).c("value").t(o).up().up();return i.a.sendIQ(d).then((function(t){e.info("[ConversationServiceHistoryHandler] sendIq Success: "+r);const n=$(t).find("query").find("set").find("count").text();e.info("[ConversationServiceHistoryHandler] >getConversationTextCount: count= "+n),c.resolve(n)})).catch((function(t){e.info("[ConversationServiceHistoryHandler] sendIq Failure: "+t.message),c.reject(t)})),c.promise},d.prototype.onHistoryMessageReceived=function(t){e.info("[ConversationServiceHistoryHandler] onHistoryMessageReceived: "+t);try{let h=null;const p=$(t);let m=p.find("result").attr("queryid");if(m){if(h=this.conversationService.getConversationById(m),h){if(p.find("call_log").length)return this.onWebrtcHistoryMessageReceived(t,h);const m=p.find("forwarded message").attr("from");let g,v=!1;if(g=m&&0===m.indexOf("room_")?m.split("/")[1]:i.a.getBareJidFromJid(p.find("forwarded message").attr("from")),!g&&p.find("event").length&&(v=p.find("event").attr("name"),g=p.find("event").attr("jid"),"welcome"===v&&h.room&&h.room.ownerContact&&(g=h.room.ownerContact.jid)),!g)return e.warn("[ConversationServiceHistoryHandler] onHistoryMessageReceived - Receive message without valid fromJid information"),!0;let b=a.a.getContactByJid(g),D=p.find("forwarded message").attr("type");const y=p.find("forwarded message").attr("id"),C=new Date(p.find("forwarded delay").attr("stamp")),S=p.find("forwarded message body").text(),E=p.find("forwarded message ack"),w=p.find("forwarded message x[xmlns='jabber:x:oob']"),T=p.find("forwarded message x[xmlns='jabber:x:bubble:conference:pstn']"),M=p.find("content[xmlns='urn:xmpp:content']"),j=p.find("replace"),k=p.find("answeredMsg"),O=p.find("content"),A=a.a.isUserContact(b)?r.Message.Side.RIGHT:r.Message.Side.LEFT,I=p.find("voicemessage");let P=!1;if(I&&I.length&&(P=!0),b||(e.warn("[ConversationServiceHistoryHandler] onHistoryMessageReceived missing contact for jid : "+g+", ignore message"),b=a.a.createEmptyContact(g)),v){if(e.info("[ConversationServiceHistoryHandler] ("+h.id+") add Room admin event message "+v),D="admin",h.room&&h.room.isMeetingRoom()&&("welcome"===v||"conferenceAdd"===v||"conferenceRemove"===v||"invitation"===v))return!0;if(("conferenceAdd"===v||"conferenceRemove"===v)&&h.room&&h.room.ownerContact){const e=p.find("event").attr("jid"),t=h.room.getUserByJid(e);b=t&&t.contact?t.contact:h.room.ownerContact}}let x=h.getMessageById(y);if(x||(x=h.historyMessages.find((function(e){return e.id===y}))),x)e.info("[ConversationServiceHistoryHandler] ("+h.id+") try to add an already stored message with id "+x.id);else{switch(D){case"file":x=r.Message.createFileMessage(y,C,b,A,S,!1);break;case"webrtc":x=r.Message.createWebRTCMessage(y,C,b,A,S,!1);break;case"admin":x=r.Message.createBubbleAdminMessage(y,C,b,v);break;case"recording":x=r.Message.createRecordingAdminMessage(y,C,b,"Admin");break;default:if(w&&w.length){const t=$(w),i=t.find("url").text(),s=t.find("filename").text(),a=c.a.extractFileIdFromUrl(i);x=P?r.Message.createVoiceMessage(y,C,b,A,S,!1,a,s,P):r.Message.createFileSharingMessage(y,C,b,A,S,!1,a,s,null,geolocData),c.a.retrieveAndStoreOneFileDescriptor(a).then((function(e){e&&"not_uploaded"===e.state&&(x.receiptStatus=1,x.fileErrorMsg=n("translate")("file_notuploaded")),l.getBlobThumbnailFromFileDescriptor(e).then((function(t){e.previewBlob=t,e.previewBlobSubject.next(e.previewBlob),o.$broadcast("ON_FILE_DESCRIPTOR_RECEIVED_EVENT",{fileId:e.id})})),o.$broadcast("ON_FILE_DESCRIPTOR_RECEIVED_EVENT",{fileId:e.id})})).catch((function(t){e.info("[ConversationServiceHistoryHandler] onHistoryMessageReceived error "+t)}))}else if(T&&T.length){const e=$(T),t=e.attr("subject"),n=e.attr("confendpointid"),o=T.attr("jid");if("reminder"===T.attr("type"))return!0;const i={subject:t,confendpointid:n,roomjid:o};x=r.Message.createConferenceMessage(y,C,b,A,!1,i)}else{const t=!1,n={};if(M&&M.each((function(){var e=$(this).attr("type"),r=$(this).text();"text/markdown"===e&&(t=!0,S=r),n[e]={type:e,message:r}})),j&&j.length){var s=j.attr("id"),u=h.getMessageByIdInHistory(s);u||(u=r.Message.create(s,C,b,A,S,!1,t,null,null,null,null),x=u),b.jid!==u.from.jid?(e.warn("[ConversationServiceHistoryHandler] onHistoryMessageReceived : message Replaced by somebody else - Skip"),x=null):u&&u.addReplaceMsg(y,S)}else{var d=k?k.text():null,f=k?k.attr("stamp"):null,_=O?{type:O.attr("type"),message:O.text()}:null;x=r.Message.create(y,C,b,A,S,!1,t,null,d,f,n,_)}}}x&&(x.receiptStatus="true"===angular.element(E).attr("read")?5:"true"===angular.element(E).attr("recv")?4:3,e.info("[ConversationServiceHistoryHandler] onHistoryMessageReceived : pushing msg inside historyMessages"),h.addMessageInHistoryMessages(x))}}else if(m.startsWith("cache_")){e.info("[ConversationServiceHistoryHandler] onHistoryMessageReceived : Query Id for Cached Message");let t=m.substr(6);if(t=t.substr(0,t.length-5),h=this.conversationService.getConversationById(t),h){let t;e.info("[ConversationServiceHistoryHandler] onHistoryMessageReceived : Conversation Found");const n=p.find("forwarded message").attr("from");if(t=n&&0===n.indexOf("room_")?n.split("/")[1]:i.a.getBareJidFromJid(p.find("forwarded message").attr("from")),!t&&p.find("event").length){const e=p.find("event").attr("name");t=p.find("event").attr("jid"),"welcome"===e&&h.room&&h.room.ownerContact&&(t=h.room.ownerContact.jid)}if(!t)return e.warn("[ConversationServiceHistoryHandler] onHistoryMessageReceived - Receive message without valid fromJid information"),!0;let o=a.a.getContactByJid(t);const s=p.find("forwarded message").attr("id"),l=new Date(p.find("forwarded delay").attr("stamp")),c=p.find("forwarded message body").text(),u=a.a.isUserContact(o)?r.Message.Side.RIGHT:r.Message.Side.LEFT;o||(e.warn("[ConversationServiceHistoryHandler] onHistoryMessageReceived missing contact for jid : "+t+", ignore message"),o=a.a.createEmptyContact(t));const d=r.Message.create(s,l,o,u,c,!1,!1);d&&h.addMessageInCacheMessages(d)}}}else if(m=angular.element(t).find("fin").attr("queryid"),h=this.conversationService.getConversationById(m),h){h.historyComplete="true"===angular.element(t).find("fin").attr("complete");const e=angular.element(t).find("fin set first").text();-1===h.historyIndex?(h.messages.unshift.apply(h.messages,h.historyMessages),h.chatRenderer&&h.chatRenderer.prependMessages(h.messages,h.room)):(h.messages.unshift.apply(h.messages,h.historyMessages),h.chatRenderer&&h.chatRenderer.prependMessages(h.historyMessages,h.room)),h.historyIndex=e,h.historyMessages=[],angular.isDefined(h.messages)&&h.messages.length>0?h.lastMessageText=h.messages[h.messages.length-1].data:h.lastMessageText="",h.historyDefered&&h.historyDefered.resolve(h)}return!0}catch(h){return e.error("[ConversationServiceHistoryHandler] onHistoryMessageReceived error : "+h),!0}},d.prototype.onSearchTextMessageReceived=function(t){e.info("[ConversationServiceHistoryHandler] onSearchTextMessageReceived");try{const n=$(t);let r;const o=n.find("forwarded message").attr("from"),s=n.find("forwarded message").attr("to");let l=!1,c=!1;if(a.a.isUserContactJid(o)?(e.info("[ConversationServiceHistoryHandler] sent message"),l=!0,r=s):(e.info("[ConversationServiceHistoryHandler] received message"),l=!1,r=o),r&&0===r.indexOf("room_")?(r=r.split("/")[0],c=!0):r=i.a.getBareJidFromJid(r),!r)return void e.warn("[ConversationServiceHistoryHandler] onSearchTextMessageReceived - Receive message without valid otherJid information");const d=n.find("forwarded message").attr("id"),f=new Date(n.find("forwarded delay").attr("stamp")),_=n.find("forwarded message body").text(),h=n.find("result").attr("id"),p=u();return p.body=_,p.date=f,p.isRoom=c,p.isSent=l,p.messageId=d,p.otherJid=r,p.historyIndex=h,p}catch(n){return e.error("[ConversationServiceHistoryHandler] onSearchTextMessageReceived error : "+n),!0}},d.prototype.onWebrtcHistoryMessageReceived=function(t,n){try{const o=$(t),i=o.find("forwarded message").attr("id"),s=o.find("caller").text(),l=o.find("state").text();let c=0;o.find("duration")&&(c=o.find("duration").text(),c=parseInt(c,10)),c=c>0?"("+moment.duration(c,"ms").format("h[H] mm[m] ss[s]")+")":0;let u=o.find("date").text();u=u?new Date(u):new Date(o.find("forwarded delay").attr("stamp"));let d="";"missed"===l?d="missedCall||"+u:"answered"===l&&(d="activeCallMsg||"+u+"||"+c);let f=n.getMessageById(i);if(f||(f=n.historyMessages.find((function(e){return e.id===i}))),f)e.info("[ConversationServiceHistoryHandler] ("+n.id+") try to add an already stored message with id "+f.id);else{let t=a.a.getContactByJid(s);t||(e.warn("[ConversationServiceHistoryHandler] onWebrtcHistoryMessageReceived missing contact for jid : "+s+", ignore message"),t=a.a.createEmptyContact(s));const l=a.a.isUserContact(t)?r.Message.Side.RIGHT:r.Message.Side.LEFT;f=r.Message.createWebRTCMessage(i,u,t,l,d,!1);const c=o.find("forwarded message ack");c&&(f.receiptStatus="true"===angular.element(c).attr("read")?5:"true"===angular.element(c).attr("received")?4:3),n.historyMessages.push(f)}return!0}catch(o){return!0}},d}])},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(356);class o extends r.ChannelServiceAgnostic{constructor(e,t){super(e,t)}}o.$inject=["$rootScope","$http"],t.ChannelService=o,angular.module("rainbow").service("channelService",o)},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(11),i=n(220),s=n(357),a=n(3),l=n(5),c=n(7),u=n(33),d=n(0),f=n(39),_=n(2),h=n(24),p=n(60),m=n(74);class g{constructor(){this.messages=[],this.complete=!1,this.pageIndex=0,this.isLoading=!1,this.type="AGGREGATE"}}class v{constructor(e,t){this.$rootScope=e,this.$http=t,this.eventService=u.default,this.logger=d.default,this.authService=a.default,this.xmppService=l.default,this.profileService=c.default,this.i18n=f.default,this.contactService=_.default,this.listeners=[],this.isStarted=!1,this.channels={},this.channelsList=[],this.serviceStatusSubject=new o.Subject,this.rxSubject=new o.Subject,this.LIST_EVENT_TYPE={ADD:0,UPDATE:1,REMOVE:2,DELETE:3,SUBSCRIBE:4,UNSUBSCRIBE:5,CREATE:6},this.USER_ROLE={NONE:"none",OWNER:"owner",PUBLISHER:"publisher",MEMBER:"member"},this.MESSAGE_ACTION={ADD:0,RETRACT:1},this.xmppMessageHandler=null,this.xmppManagementHandler=null,this.notificationCounter=0,this.messageCounter=0,this.invitationCounter=0,this.CHANNEL_UPDATE_EVENT="CHANNEL_UPDATE_EVENT",this.CHANNEL_MESSAGE_RECEIVED="CHANNEL_MESSAGE_RECEIVED",this.CHANNEL_USERS_UPDATE_EVENT="CHANNEL_USERS_UPDATE_EVENT",this.CHANNEL_NOTIFICATION_NUMBER_UPDATED="CHANNEL_NOTIFICATION_NUMBER_UPDATED",this.CHANNEL_USER_SUBSCRIPTION_EVENT="CHANNEL_USER_SUBSCRIPTION_EVENT"}start(){return r(this,void 0,void 0,(function*(){try{if(!this.profileService.isFeatureEnabled(this.profileService.FeaturesEnum.CHANNEL_ACTIVATED))return;if(this.contactService.userContact.isCPaaSGuest())return;if(!this.contactService.userContact.channelsEnabled)return;this.logger.info("=== STARTING ==="),this.feedChannel=new g,this.portalURL=config.restServerUrl+"/api/rainbow/channels/v1.0/channels",this.getMyChannels()}catch(e){this.logger.info("=== STARTING FAILURE === "+e.message)}}))}getMyChannels(){return r(this,void 0,void 0,(function*(){try{const e=this.portalURL+"?format=full",t=this.authService.getRequestHeader(),n=yield fetch(e,{method:"GET",headers:t});if(!n.ok)throw this.logger.debug(`Request ${n.headers.get("x-rainbow-request-id")} failed with status ${n.status}`),new Error(n.statusText);return(yield n.json()).data.forEach(e=>{const t=i.Channel.create(e);this.updateDisplayInfo(t),t.invited&&this.incrementInvitationCounter(),(t.subscribed||t.invited)&&(this.channels[t.id]=t)}),this.updateChannelsList(),this.attachHandlers(),this.attachListeners(),this.isStarted=!0,this.$rootScope.$broadcast("ON_CHANNEL_SERVICE_STARTED"),this.serviceStatusSubject.next("CHANNEL_SERVICE_STARTED"),this.channelsList}catch(e){throw this.channelErrorHandler("getMyChannels",e)}}))}attachHandlers(){this.xmppMessageHandler&&(this.xmppService.connection.deleteHandler(this.xmppMessageHandler),this.xmppMessageHandler=null),this.xmppManagementHandler&&(this.xmppService.connection.deleteHandler(this.xmppManagementHandler),this.xmppManagementHandler=null),this.xmppMessageHandler=this.xmppService.connection.addHandler(e=>this.onChannelMessageReceived(e),null,"message","headline"),this.xmppManagementHandler=this.xmppService.connection.addHandler(e=>this.onChannelManagementReceived(e),null,"message","management")}attachListeners(){this.listeners.push(this.eventService.subscribe(this.CHANNEL_USERS_UPDATE_EVENT,(e,t,n)=>this.usersUpdateHandler(e,t,n)))}stop(){return r(this,void 0,void 0,(function*(){this.logger.info("=== STOPPING ==="),this.listeners.forEach(e=>{e()}),this.channels={},this.channelsList=[],this.feedChannel=null,this.notificationCounter=0,this.logger.info("=== STOPPED ===")}))}subscribe(e){return this.rxSubject.subscribe(e)}reconnect(){return r(this,void 0,void 0,(function*(){try{this.logger.info("reconnect"),yield this.stop(),yield this.start()}catch(e){this.logger.error("reconnect -- failure -- "+e.message)}}))}removeChannelFromCache(e){return new Promise((t,n)=>{const r=this.getChannelFromCache(e);if(r){const o=r.name;r.invited&&this.decrementInvitationCounter(),delete this.channels[e],this.updateChannelsList(),this.feedChannel.messages=[],this.retrieveLatests().then(()=>{t(o)}).catch(e=>{n(e)})}})}onChannelMessageReceived(e){try{const t=$(e).find("event");if(t&&"http://jabber.org/protocol/pubsub#event"===t.attr("xmlns")){const e=t.find("items"),n=e.find("item"),r=e.find("retract"),o=t.find("update");if(1===o.length)this.updateMessage(o);else if(1===n.length)this.onNewMessage(n);else if(1===r.length){const t=r.attr("id"),n=e.attr("node").split(":")[0];this.onRetractMessage(n,t)}}return!0}catch(t){return this.logger.error("onChannelMessageReceived -- failure -- "+t.message),!0}}onNewMessage(e){const t=e.find("entry"),n=e.attr("id"),r=t.attr("channelId"),o=this.getChannelFromCache(r),i=o.messages.findIndex(e=>e.id===n),a=this.feedChannel.messages.findIndex(e=>e.id===n);let l=t.attr("creation")?"modify":"new";-1===i&&-1===a||(l="modify"),this.logger.info("[channelService] onChannelMessageReceived -- "+l+" message "+n+" on channel "+r);const c={id:n,channelId:r,from:t.attr("from"),fromDetails:null,new:!1,entry:{type:t.find("type").length?t.find("type")[0].textContent:"",message:t.find("message").length?t.find("message")[0].textContent:"",title:t.find("title").length?t.find("title")[0].textContent:"",url:t.find("url").length?t.find("url")[0].textContent:"",images:[],attachments:[],video:null},modified:"modify"===l,timestamp:new Date(t.attr("timestamp"))},u=e.find("images");0!==u.length&&u.find("id").each((e,t)=>{c.entry.images.push({id:t.textContent})});const d=e.find("attachments");0!==d.length&&d.find("id").each((e,t)=>{c.entry.attachments.push({id:t.textContent})});const f=e.find("video");if(0!==f.length&&(c.entry.video={provider:f.find("provider")[0].textContent,id:f.find("id")[0].textContent}),"new"===l){const e=s.ChannelMessage.createFromData(o,c);o.loaded&&o.messages.unshift(e),this.feedChannel.messages.unshift(e),this.contactService.userContact.jid!==c.from&&(e.isNew=!0,this.incrementMessagesCounter()),this.$rootScope.$broadcast(this.CHANNEL_MESSAGE_RECEIVED,this.MESSAGE_ACTION.ADD,c),this.rxSubject.next(h.RBEvent.create(this.CHANNEL_MESSAGE_RECEIVED,{action:this.MESSAGE_ACTION.ADD,message:c}))}else{const e=s.ChannelMessage.createFromData(o,c);-1!==i&&o.messages.splice(i,1,e),-1!==a&&this.feedChannel.messages.splice(a,1,e)}}updateMessage(e){const t=e.attr("id"),n=e.attr("channel_id"),r=this.getChannelMessage(n,t);if(r){const t=e.find("my_appreciation");r.myLike=1===t.length?t.attr("appreciation"):"none";const n=e.find("appreciations"),o=["like","happy","applause","fantastic","doubt"];1===n.length&&(r.likeCounters=o.reduce((e,t)=>(e[t]=parseInt(n.attr(t)||0,10),e),{})),r.publishUpdate()}}getChannelMessage(e,t){const n=this.getChannelFromCache(e);if(n){const e=n.messages.findIndex(e=>e.id===t),r=this.feedChannel.messages.findIndex(e=>e.id===t);let o=-1!==e?n.messages.find(e=>e.id===t):null;return o||-1===r||(o=this.feedChannel.messages.find(e=>e.id===t)),o}return null}onRetractMessage(e,t){this.logger.info("[channelService] onRetractMessage -- retract message "+t+" on channel "+e);const n=this.getChannelFromCache(e),r=n.messages.findIndex(e=>e.id===t);-1!==r&&(n.messages[r].new&&this.decrementMessagesCounter(),n.messages.splice(r,1));const o=this.feedChannel.messages.findIndex(e=>e.id===t);-1!==o&&this.feedChannel.messages.splice(o,1),this.$rootScope.$broadcast(this.CHANNEL_MESSAGE_RECEIVED,this.MESSAGE_ACTION.RETRACT)}onChannelManagementReceived(e){try{const t=angular.element(e).find("mute");if(t&&t.length>0&&"channel"===t.attr("type")){const e=t.attr("peer_id"),n=this.getChannelFromCache(e);this.muteChannel(n)}const n=angular.element(e).find("unmute");if(n&&n.length>0&&"channel"===n.attr("type")){const e=n.attr("peer_id"),t=this.getChannelFromCache(e);this.unmuteChannel(t)}const r=angular.element(e).find("channel");if(r&&r.length>0){const e=r.attr("channelid"),t=this.getChannelFromCache(e);if(t){const n=r.find("avatar"),o=r.find("name"),i=r.find("topic"),s=r.find("category");n&&n.length>0&&this.onAvatarChange(e,n),o&&o.length>0&&(t.name=o.text()),i&&i.length>0&&(t.topic=i.text()),s&&s.length>0&&(t.category=s.text()),this.updateDisplayInfo(t)}const n=r.attr("action");switch(this.logger.info("[channelService] onChannelManagementReceived -- "+n+" event received on channel "+e),n){case"add":this.onAddToChannel(e);break;case"update":this.onUpdateToChannel(e);break;case"remove":this.onRemovedFromChannel(e);break;case"subscribe":this.onSubscribeToChannel(e,r.attr("subscribers"));break;case"unsubscribe":this.onUnsubscribeToChannel(e,r.attr("subscribers"));break;case"delete":this.onDeleteChannel(e)}}const o=angular.element(e).find("channel-subscription");if(o&&o.length>0){const e=o.attr("channelid"),t=o.attr("action"),n=o.attr("id"),r=o.attr("subscribers");switch(this.getChannelFromCache(e).subscribers_count=Number.parseInt(r,10),this.logger.info("[channelService] onChannelManagementReceived -- subscription-"+t+" event received on channel "+e),t){case"subscribe":this.onUserSubscribeEvent(e,n);break;case"unsubscribe":this.onUserUnsubscribeEvent(e,n)}}return!0}catch(t){return this.logger.error("[channels] onChannelManagementReceived -- failure -- "+t.message),!0}}onAvatarChange(e,t){const n=t.attr("action"),r=t.attr("lastAvatarUpdateDate")?new Date(t.attr("lastAvatarUpdateDate")):null;if(this.logger.info("[channelService] onChannelManagementReceived -- "+n+" avatar for "+e),"delete"===n||"update"===n){const t=this.getChannelFromCache(e);t.lastAvatarUpdateDate=r,null!==r&&(t.avatar=config.restServerUrl+"/api/channel-avatar/"+e+"?size=256&ts="+new Date(r).getTime())}}onUpdateToChannel(e){this.getChannel(e).then(e=>{e.invited&&(this.addChannelToCache(e),this.$rootScope.$broadcast(this.CHANNEL_UPDATE_EVENT,this.LIST_EVENT_TYPE.ADD,e.id))})}onAddToChannel(e){const t=this.getChannelFromCache(e);this.getChannel(e).then(n=>{t||n.invited?!t&&n.invited?(this.addChannelToCache(n),this.incrementInvitationCounter(),this.$rootScope.$broadcast(this.CHANNEL_UPDATE_EVENT,this.LIST_EVENT_TYPE.SUBSCRIBE,n.id),this.rxSubject.next(h.RBEvent.create(this.CHANNEL_UPDATE_EVENT,{action:this.LIST_EVENT_TYPE.SUBSCRIBE,channelId:n.id}))):t&&n.userRole!==this.USER_ROLE.NONE&&(t.userRole=n.userRole,this.feedChannel.messages=[],this.retrieveLatests().then(()=>{this.$rootScope.$broadcast(this.CHANNEL_UPDATE_EVENT,this.LIST_EVENT_TYPE.SUBSCRIBE,e)})):(this.addChannelToCache(n),this.$rootScope.$broadcast(this.CHANNEL_UPDATE_EVENT,this.LIST_EVENT_TYPE.ADD,n.id))})}onRemovedFromChannel(e){this.removeChannelFromCache(e).then(()=>{this.$rootScope.$broadcast(this.CHANNEL_UPDATE_EVENT,this.LIST_EVENT_TYPE.DELETE,e)})}onSubscribeToChannel(e,t){const n=this.getChannelFromCache(e),r=Number.parseInt(t,10);n?(n.invited=!1,n.subscribed=!0,n.subscribers_count=r,this.feedChannel.messages=[],this.retrieveLatests().then(()=>{this.$rootScope.$broadcast(this.CHANNEL_UPDATE_EVENT,this.LIST_EVENT_TYPE.SUBSCRIBE,e)})):this.getChannel(e).then(e=>(this.addChannelToCache(e),this.feedChannel.messages=[],this.retrieveLatests())).then(()=>{this.$rootScope.$broadcast(this.CHANNEL_UPDATE_EVENT,this.LIST_EVENT_TYPE.SUBSCRIBE,e)})}onUnsubscribeToChannel(e,t){const n=Number.parseInt(t,10),r=this.getChannelFromCache(e);r.subscribers_count=n,r.subscribed=!1,this.feedChannel.messages=[],this.retrieveLatests().then(()=>{this.$rootScope.$broadcast(this.CHANNEL_UPDATE_EVENT,this.LIST_EVENT_TYPE.UNSUBSCRIBE,e)})}onDeleteChannel(e){this.removeChannelFromCache(e).then(()=>{this.$rootScope.$broadcast(this.CHANNEL_UPDATE_EVENT,this.LIST_EVENT_TYPE.DELETE,e)})}onUserSubscribeEvent(e,t){this.$rootScope.$broadcast(this.CHANNEL_USER_SUBSCRIPTION_EVENT,this.LIST_EVENT_TYPE.SUBSCRIBE,e,t)}onUserUnsubscribeEvent(e,t){this.$rootScope.$broadcast(this.CHANNEL_USER_SUBSCRIPTION_EVENT,this.LIST_EVENT_TYPE.UNSUBSCRIBE,e,t)}getChannelNextPage(e,t=!1){return r(this,void 0,void 0,(function*(){const n="AGGREGATE"===e.type?"feedChannel":e.id;try{if(e.isLoading)return void this.logger.info("-- getChannelNextPage("+n+", "+e.pageIndex+") -- ignored (isLoading)");e.isLoading=!0,t&&(e.pageIndex=0);const r=(e.pageIndex+1)*v.PAGE_SIZE;if(r<=e.messages.length)return this.logger.info("-- getChannelNextPage("+n+", "+e.pageIndex+") -- success from cache"),e.pageIndex+=1,e.isLoading=!1,{messages:e.messages,nbMessages:r};if(e.complete)return this.logger.info("-- getChannelNextPage("+n+", "+e.pageIndex+") -- success from cache (complete)"),e.isLoading=!1,{messages:e.messages,nbMessages:e.messages.length};const o=e.messages,i=o.length?o[o.length-1].timestamp:null,s=yield this.getChannelMessages(e,i);return s<v.PAGE_SIZE&&(e.complete=!0),this.logger.info("-- getChannelNextPage("+n+", "+e.pageIndex+") -- success from server "+(e.complete?"(complete)":"")+" -- retreive "+s+" message(s)"),e.pageIndex+=1,e.loaded=!0,e.isLoading=!1,{messages:e.messages,nbMessages:e.messages.length}}catch(r){throw e.isLoading=!1,this.channelErrorHandler("getChannelNextPage("+n+", "+e.pageIndex+")",r)}}))}getChannelPublishers(e){return new Promise((t,n)=>{if(e.publishersRetreived)return t();this.getChannelUsers(e.id,{format:"full",types:"owner publisher"}).then(n=>{n.data.forEach(t=>{let n=this.contactService.getContactByJid(t.jid_im);n||(n=this.contactService.createContact(),n.updateFromUserData(t),this.contactService.updateContactRichStatus(n),this.contactService.contacts[n.id]=n,this.contactService.dbContacts[n.dbId]=n,this.contactService.jtelContacts[n.jidtel]=n),e.users.push(n)}),e.publishersRetreived=!0,this.logger.info("[channelService] getChannelPublishers ("+e.id+") -- success -- find "+n.length+" publisher(s)"),t()}).catch(t=>{n(this.channelErrorHandler("getChannelPublishers ("+e.id+")",t))})})}getChannelMessages(e,t){return r(this,void 0,void 0,(function*(){try{let n=null;n="AGGREGATE"===e.type?this.getLatestMessages(10,t):this.getChannelItems(e.id,v.PAGE_SIZE,t);const r=(yield n).map(e=>s.ChannelMessage.createFromData(this.getChannelFromCache(e.channelId),e));return e.messages.push.apply(e.messages,r),r.length}catch(n){throw this.channelErrorHandler("getChannelMessages ("+e.id+")",n)}}))}getChannelInvitations(){return this.channelsList.filter(e=>!e.deleted&&e.invited)}muteChannel(e){return r(this,void 0,void 0,(function*(){try{const t=`${this.portalURL}/${e.id}/mute`,n=yield fetch(t,{method:"POST",headers:this.authService.getPostHeader()});if(!n.ok)throw new Error(n.statusText);e.muted=!0,e.updateSubject.next()}catch(t){throw this.channelErrorHandler("muteChannel",t)}}))}unmuteChannel(e){return r(this,void 0,void 0,(function*(){try{const t=`${this.portalURL}/${e.id}/mute`,n=yield fetch(t,{method:"DELETE",headers:this.authService.getPostHeader()});if(!n.ok)throw new Error(n.statusText);e.muted=!1,e.updateSubject.next()}catch(t){throw this.channelErrorHandler("unmuteChannel",t)}}))}createChannel(e,t,n="",r="globalnews",o=!1,s=100){return new Promise((a,l)=>{const c=this.portalURL+(o?"?auto_provisioning=true":""),u={name:e,mode:t,topic:n,category:r,max_items:s};this.$http({method:"POST",url:c,headers:this.authService.getPostHeader(),data:u}).then(n=>{this.logger.info("[channelService] createChannel -- "+e+" -- "+t+" -- success");const r=i.Channel.create(n.data.data);this.updateDisplayInfo(r),a(r)}).catch(n=>{l(this.channelErrorHandler("createChannel -- "+e+" -- "+t,n))})})}deleteChannel(e){return new Promise((t,n)=>{this.$http({method:"DELETE",url:this.portalURL+"/"+e,headers:this.authService.getPostHeader()}).then(n=>{this.logger.info("[channelService] deleteChannel -- "+e+" -- success"),t(n)}).catch(t=>{n(this.channelErrorHandler("deleteChannel ("+e+")",t))})})}findChannels(e){return new Promise((t,n)=>{let r="?sortOrder="+(e.sortOrder&&1===e.sortOrder?"1":"-1");void 0!==e.subscribed&&(r+="&subscribed="+e.subscribed),e.name&&(r+="&name="+e.name),e.topic&&(r+="&topic="+e.topic),e.limit&&(r+="&limit="+e.limit),e.offset&&(r+="&offset="+e.offset),e.sortField&&(r+="&sortField="+e.sortField),e.category&&(r+="&category="+e.category),this.$http({method:"GET",url:this.portalURL+"/search"+r,headers:this.authService.getRequestHeader()}).then(e=>{const n=[];e.data.data.forEach(e=>{const t=i.Channel.create(e);this.updateDisplayInfo(t),n.push(t)}),t(n)}).catch(e=>{n(this.channelErrorHandler("findChannels ("+r+")",e))})})}browseChannels(e){return new Promise((t,n)=>{let r="?sortOrder="+(e.sortOrder&&1===e.sortOrder?"1":"-1");e.category&&(r+="&category="+e.category),e.excluded_category&&(r+="&excluded_category="+e.excluded_category),void 0!==e.subscribed&&(r+="&subscribed="+e.subscribed),e.limit&&(r+="&limit="+e.limit),e.offset&&(r+="&offset="+e.offset),e.sortField&&(r+="&sortField="+e.sortField),this.$http({method:"GET",url:this.portalURL+"/browse"+r,headers:this.authService.getRequestHeader()}).then(e=>{const n=[];e.data.data.forEach(e=>{const t=i.Channel.create(e);this.updateDisplayInfo(t),n.push(t)}),t(n)}).catch(e=>{n(this.channelErrorHandler("browseChannels ("+r+")",e))})})}getChannel(e){return new Promise((t,n)=>{this.$http({method:"GET",url:this.portalURL+"/"+e,headers:this.authService.getRequestHeader()}).then(n=>{this.logger.info("[channelService] getChannel -- "+e+" -- success");const r=i.Channel.create(n.data.data);this.updateDisplayInfo(r),t(r)}).catch(t=>{n(this.channelErrorHandler("getChannel ("+e+")",t))})})}getChannelFromCache(e){const t=this.channels[e];return void 0!==t?t:null}publishToChannel(e,t,n,r,o,i,s,a,l){return new Promise((i,c)=>{const u={type:n,title:o||"",message:r||"",images:s||[],attachments:l||[]},d=t?"?itemId="+t:"";a&&(u.video=a),this.$http({method:"POST",url:this.portalURL+"/"+e+"/publish"+d,headers:this.authService.getRequestHeader(),data:u}).then(t=>{this.logger.info("[channelService] publishToChannel -- "+e+" -- "+n+" -- success"),i(t)}).catch(t=>{c(this.channelErrorHandler("publishToChannel ("+e+")",t))})})}subscribeToChannel(e){return new Promise((t,n)=>{this.$http({method:"POST",url:this.portalURL+"/"+e.id+"/subscribe",headers:this.authService.getRequestHeader()}).then(n=>{this.logger.info("[channelService] subscribeToChannel -- "+e.id+" -- success"),e.subscribed=!0,e.users_count+=1,t(n)}).catch(t=>{n(this.channelErrorHandler("subscribeToChannel ("+e.id+")",t))})})}unsubscribeToChannel(e){return new Promise((t,n)=>{this.$http({method:"DELETE",url:this.portalURL+"/"+e.id+"/subscribe",headers:this.authService.getRequestHeader()}).then(n=>{this.logger.info("[channelService] unsubscribeToChannel -- success"),e.subscribed=!1,e.users_count-=1,e.userRole=this.USER_ROLE.NONE,t(n)}).catch(e=>{n(this.channelErrorHandler("unsubscribeToChannel",e))})})}updateChannel(e,t){return new Promise((n,r)=>{this.$http({method:"PUT",url:this.portalURL+"/"+e,headers:this.authService.getPostHeader(),data:t}).then(t=>{const r=this.getChannelFromCache(e);r.name=t.data.data.name,r.topic=t.data.data.topic,r.category=t.data.data.category,this.updateDisplayInfo(r),this.logger.info("[channelService] updateChannel ( "+e+") -- success"),this.$rootScope.$broadcast(this.CHANNEL_UPDATE_EVENT,this.LIST_EVENT_TYPE.UPDATE,r.id),r.updateSubject.next(),n(r)}).catch(t=>{r(this.channelErrorHandler("updateChannel ("+e+")",t))})})}getChannelItems(e,t,n=null,r=null){return new Promise((o,i)=>{this.$http({method:"GET",url:this.portalURL+"/"+e+"/items",headers:this.authService.getRequestHeader(),params:{max:t,before:n,after:r}}).then(t=>{this.logger.info("[channelService] getChannelItems -- success"),this.getChannelFromCache(e).messagesCount=t.data.data.status.count,this.chewReceivedItems(t.data.data.items),o(t.data.data.items)}).catch(e=>{i(this.channelErrorHandler("getChannelItems",e))})})}deleteChannelItem(e,t){return new Promise((n,r)=>{this.$http({method:"DELETE",url:this.portalURL+"/"+e+"/items/"+t,headers:this.authService.getRequestHeader()}).then(t=>{this.logger.info("[channelService] deleteChannelItem ("+e+") -- success"),n()}).catch(t=>{r(this.channelErrorHandler("deleteChannelItem ("+e+")",t))})})}getChannelUsers(e,t){return new Promise((n,r)=>{const o={};t&&(t.format&&"string"==typeof t.format&&t.format.length&&(o.format=t.format),t.limit&&"number"==typeof t.limit&&t.limit>0&&(o.limit=t.limit),t.offset&&"number"==typeof t.offset&&t.offset>0&&(o.offset=t.offset),t.sortField&&"string"==typeof t.sortField&&t.sortField.length&&(o.sortField=t.sortField),!t.sortOrder||"-1"!==t.sortOrder&&"1"!==t.sortOrder||(o.sortOrder=t.sortOrder));let i=this.portalURL+"/"+e+"/users";t&&(t.types&&"string"==typeof t.types&&t.types.length?i+="?types="+t.types:t.invited&&"boolean"==typeof t.invited&&(i+="?invited="+t.invited)),this.$http({method:"GET",url:i,headers:this.authService.getRequestHeader(),params:o}).then(t=>{this.logger.info("[channelService] getChannelUsers ("+e+") -- success"),n(t.data)}).catch(t=>{r(this.channelErrorHandler("getChannelUsers ("+e+")",t))})})}searchUsersByName(e,t,n){return n.displayName=t,new Promise((t,r)=>{this.$http({method:"GET",url:this.portalURL+"/"+e+"/users/search",headers:this.authService.getRequestHeader(),params:n}).then(n=>{this.logger.info("[channelService] searchUsersByName ("+e+" -- success"),t(n.data.data)}).catch(t=>{r(this.channelErrorHandler("searchUsersByName ("+e+")",t))})})}deleteChannelAvatar(e){return new Promise((t,n)=>{this.$http({method:"DELETE",url:this.portalURL+"/"+e.id+"/avatar",headers:this.authService.getRequestHeader()}).then(n=>{this.logger.info("[channelService] deleteChannelAvatar "+e.id+" -- success"),t(n),e.avatar=null,e.lastAvatarUpdateDate=null,e.updateSubject.next()}).catch(t=>{n(this.channelErrorHandler("deleteChannelAvatar "+e.id,t))})})}uploadChannelAvatar(e,t,n){return new Promise((r,o)=>{m.resizeImage(t,n,n).then(t=>{const n=m.getBinaryData(t);this.$http({method:"POST",url:this.portalURL+"/"+e.id+"/avatar",headers:this.authService.getPostHeader("image/"+n.type),data:n.data,transformRequest:[]}).then(n=>{this.logger.info("[channelService] uploadChannelAvatar "+e.id+" -- success"),e.avatar=t.src,e.lastAvatarUpdateDate=new Date,e.updateSubject.next(),r(n)}).catch(e=>{o(this.channelErrorHandler("uploadChannelAvatar",e))})})})}updateChannelUsers(e,t,n){return new Promise((r,o)=>{const i=t.map(e=>({id:e.dbId,type:n}));this.$http({method:"PUT",url:this.portalURL+"/"+e+"/users",headers:this.authService.getRequestHeader(),data:{data:i}}).then(t=>{this.logger.info("[channelService] updateChannelUsers -- success");const n=t.data.data;this.$rootScope.$broadcast(this.CHANNEL_USERS_UPDATE_EVENT,e,n),r(n)}).catch(e=>{o(this.channelErrorHandler("updateChannelUsers",e))})})}usersUpdateHandler(e,t,n){const r=this.getChannelFromCache(t);if(null!==n){if(r.users_count+=n.added.length-n.removed.length,r.users.length){for(let e=0;e<n.added.length;e++)this.contactService.getContactByDBId(n.added[e]).then(e=>{r.users.push(e)});for(let e=0;e<n.removed.length;e++)for(let t=r.users.length-1;t>=0;t--)if(r.users[t].dbId===n.removed[e]){r.users.splice(t,1);break}}if(n.invalidUsers&&n.invalidUsers.length&&"409005"===n.invalidUsers[0].errorDetailsCode){const e=this.i18n.translate("inviteUsersError");this.$rootScope.$broadcast("GLOBAL_NOTIFY_MESSAGE_EVENT",e)}}}retrieveUsers(e){if(this.logger.info("Retrieving users"),0===e.users.length&&e.userRole===this.USER_ROLE.OWNER){let t;const n=this.contactService.userContact;return n.type="owner",this.getChannelUsers(e.id,{format:"full",types:"publisher",limit:19}).then(n=>(t=n.data.length?n.data:[],t.length<19?this.getChannelUsers(e.id,{format:"full",types:"member",limit:19-t.length}):[])).then(r=>{t.push.apply(t,r.data);const o=t;return e.users=this.usersToContacts(o),e.users.unshift(n),e.users})}return Promise.resolve(null)}usersToContacts(e){if(null!==e)return e.map(e=>{const t=this.contactService.createContact(e.jid_im,e.firstName,e.lastName,e.company,e.loginEmail);t.dbId=e.id,t.lastAvatarUpdateDate=e.lastAvatarUpdateDate,t.type=e.type||e.affiliation,t.getAvatar()})}retrieveLatests(e=null){return this.getLatestMessages(10,e,null).then(e=>{const t=e.map(e=>s.ChannelMessage.createFromData(this.getChannelFromCache(e.channelId),e));return this.feedChannel.messages.push.apply(this.feedChannel.messages,t),t.length})}incrementMessagesCounter(){this.messageCounter+=1,this.updateNotificationCounter()}decrementMessagesCounter(){this.messageCounter-=1,this.updateNotificationCounter()}incrementInvitationCounter(){this.invitationCounter+=1,this.updateNotificationCounter()}decrementInvitationCounter(){this.invitationCounter-=1,this.updateNotificationCounter()}ackMessages(){this.messageCounter=0,this.updateNotificationCounter(),this.feedChannel.messages.forEach(e=>{e.new=!1})}ackMessage(e){this.feedChannel.messages.forEach(t=>{t.id===e&&(t.new=!1)}),this.decrementMessagesCounter()}updateNotificationCounter(){this.notificationCounter=this.messageCounter+this.invitationCounter,this.notificationCounter<0&&(this.notificationCounter=0),this.$rootScope.$broadcast(this.CHANNEL_NOTIFICATION_NUMBER_UPDATED,this.notificationCounter)}removeAllUsersFromChannel(e){return new Promise((t,n)=>{this.$http({method:"DELETE",url:this.portalURL+"/"+e+"/users",headers:this.authService.getRequestHeader()}).then(n=>{this.logger.info("[channelService] Removed all users from channel -- success"),this.$rootScope.$broadcast(this.CHANNEL_USERS_UPDATE_EVENT,e,null),t(n)}).catch(e=>{n(this.channelErrorHandler("removeAllUsersFromChannel",e))})})}getPortalInfos(){return new Promise((e,t)=>{this.$http({method:"GET",url:config.restServerUrl+"/api/rainbow/channels/v1.0/about",headers:this.authService.getRequestHeader()}).then(t=>{this.logger.info("[channelService] successfully retrieved portal infos -- success"),e(t.data)}).catch(e=>{t(this.channelErrorHandler("getPortalInfos",e))})})}getLatestMessages(e,t=null,n=null){return new Promise((r,o)=>{this.$http({method:"GET",url:this.portalURL+"/latest-items",headers:this.authService.getRequestHeader(),params:{max:e,before:t,after:n}}).then(e=>{this.chewReceivedItems(e.data.data.items),r(e.data.data.items)}).catch(e=>{o(this.channelErrorHandler("getLatestMessages",e))})})}acceptInvitation(e){return new Promise((t,n)=>{this.$http({method:"PUT",url:this.portalURL+"/"+e+"/accept",headers:this.authService.getRequestHeader()}).then(n=>{this.logger.info("[channelService] acceptInvitation ("+e+") -- success"),this.decrementInvitationCounter(),t(n)}).catch(e=>{n(this.channelErrorHandler("acceptInvitation",e))})})}declineInvitation(e){return new Promise((t,n)=>{this.$http({method:"PUT",url:this.portalURL+"/"+e+"/decline",headers:this.authService.getRequestHeader()}).then(n=>{this.logger.info("[channelService] declineInvitation ("+e+") -- success"),this.decrementInvitationCounter(),t(n)}).catch(e=>{n(this.channelErrorHandler("declineInvitation",e))})})}chewReceivedItems(e){e.forEach(e=>{"urn:xmpp:channels:simple"===e.type&&(e.entry={message:e.message},delete e.message),e.modified=void 0!==e.creation})}updateChannelsList(){this.channelsList=Object.keys(this.channels).map(e=>this.channels[e])}addChannelToCache(e){this.channels[e.id]=e,this.updateChannelsList()}channelErrorHandler(e,t){let n=null;return t.data?(this.logger.error("[channelService] "+e+" -- failure -- "+t.data.errorDetails),n=new RBError(t.data.errorMsg,t.data.errorDetails,t.data.errorDetailsCode)):(this.logger.error("[channelService] "+e+" -- failure -- Server failure"),n=new RBError("Server failure")),n}likeChannelItem(e,t,n){return r(this,void 0,void 0,(function*(){try{const r=`${this.portalURL}/${e.id}/items/${t.id}/like`,o=JSON.stringify({appreciation:n}),i=yield fetch(r,{method:"POST",headers:this.authService.getPostHeader(),body:o});if(!i.ok)throw new Error(i.statusText);return(yield i.json()).data}catch(r){const e="getChannelItemReactions -- FAILURE -- "+r.message;throw this.logger.error(e),new Error(e)}}))}getChannelMessageReactions(e,t){return r(this,void 0,void 0,(function*(){try{let n=`${this.portalURL}/${e.channel.id}/items/${e.id}/likes?limit=400`;t&&(n+="&appreciation="+t);const r=this.authService.getRequestHeader(),o=yield fetch(n,{method:"GET",headers:r});if(!o.ok)throw new Error(o.statusText);return(yield o.json()).data.items.map(e=>{let t=this.contactService.getContactById(e.id);t||(t=this.contactService.createContact(e.id,e.firstName,e.lastName),t.createTextAvatarImage());let n=e.companyName;return t.jobTitle&&(n=t.jobTitle+" - "+n),{reaction:e.appreciation,contact:t,info:n}})}catch(n){const e="getChannelItemReactions -- FAILURE -- "+n.message;throw this.logger.error(e),new Error(e)}}))}updateDisplayInfo(e){e.displayName=p(e.name),e.displayTopic=p(e.topic)}}v.PAGE_SIZE=10,t.ChannelServiceAgnostic=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(11),o=n(24);class i{constructor(){this.id=null,this.type=null,this.message=null,this.from=null,this.images=null,this.attachments=null,this.contact=null,this.video=null,this.isNew=!0,this.isModified=!1,this.rxSubject=new r.Subject}static createFromData(e,t){const n=new i;return n.isNew=t.new,n.isModified=t.modified,n.id=t.id,n.type=t.type,n.from=t.from,n.timestamp=t.timestamp,n.channel=e,n.video=t.video,t.entry.message&&(n.message=t.entry.message.replace(/<a/gi,"<a target='_blank' rel='noopener noreferrer' ")),t.entry.video&&(n.video=t.entry.video),t.entry.images&&"null"!==t.entry.images&&void 0!==t.entry.images&&(t.entry.images instanceof Array?t.entry.images.length>0&&(n.images=t.entry.images):n.images=[t.entry.images]),t.entry.attachments&&"null"!==t.entry.attachments&&void 0!==t.entry.attachments&&(t.entry.attachments instanceof Array?t.entry.attachments.length>0&&(n.attachments=t.entry.attachments):n.attachments=[t.entry.attachments]),n.myLike=t.my_appreciation?t.my_appreciation:"none",n.likeCounters=t.appreciations?t.appreciations:{like:0,fantastic:0,applause:0,doubt:0,happy:0},n}publishUpdate(){this.rxSubject.next(o.RBEvent.create("updateLikes"))}subscribe(e){return this.rxSubject.subscribe(e)}}t.ChannelMessage=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(359);class o extends r.AgnosticFavoriteService{constructor(e){super(e)}}o.$inject=["conversationService"],t.FavoriteService=o,angular.module("rainbow").service("favoriteService",o)},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(360),i=n(11),s=n(2),a=n(3),l=n(5),c=n(0),u=n(34);t.AgnosticFavoriteService=class{constructor(e){this.conversationService=e,this.favorites=[],this.eventNames=[],this.authService=a.default,this.xmppService=l.default,this.contactService=s.default,this.logger=c.default,this.roomService=u.default}start(e){return r(this,void 0,void 0,(function*(){this.logger.info("=== STARTING ===");const t=performance.now();this.rxSubject=new i.Subject,this.connect();const n=Math.round(performance.now()-t);e.push({service:"favoriteService",startDuration:n}),this.eventNames=["ON_FAVORITE_CREATED","ON_FAVORITE_DELETED","ON_FAVORITE_UPDATED"],this.logger.info(`=== STARTED (${n} ms) ===`)}))}connect(){return r(this,void 0,void 0,(function*(){try{yield this.getServerFavorites(),this.conversationService.favoriteService=this,this.attachHandlers(),this.rxSubject.next({name:"update"})}catch(e){this.logger.error("connect -- Failure -- "+e.message)}}))}stop(){return r(this,void 0,void 0,(function*(){this.logger.info("=== STOPPING ==="),this.xmppManagementHandler&&(this.xmppService.deleteHandler(this.xmppManagementHandler),this.xmppManagementHandler=null),this.logger.info("=== STOPPED ===")}))}subscribe(e){return this.rxSubject.subscribe(e)}getServerFavorites(){return r(this,void 0,void 0,(function*(){try{const e=`${config.restServerUrl}/api/rainbow/enduser/v1.0/users/${this.contactService.userContact.dbId}/favorites`,t=this.authService.getRequestHeader(),n=yield fetch(e,{method:"GET",headers:t});if(!n.ok)throw this.logger.debug(`Request ${n.headers.get("x-rainbow-request-id")} failed with status ${n.status}`),new Error(n.statusText);const o=(yield n.json()).data.map(e=>r(this,void 0,void 0,(function*(){return this.createFavorite(e.id,e.peerId,e.type)}))),i=yield Promise.all(o);return this.favorites=i.filter(e=>null!==e),this.logger.info(`getServerFavorites -- SUCCESS -- found ${this.favorites.length} favorites`),this.favorites}catch(e){const t="getServerFavorites -- FAILURE -- "+e.message;throw this.logger.error(t),new Error(t)}}))}addServerFavorite(e,t){return r(this,void 0,void 0,(function*(){try{const n=`${config.restServerUrl}/api/rainbow/enduser/v1.0/users/${this.contactService.userContact.dbId}/favorites`,r=this.authService.getPostHeader(),o={peerId:e,type:t},i=yield fetch(n,{method:"POST",headers:r,body:JSON.stringify(o)}),s=yield i.json();if(s.errorDetails&&"FAVORITE_CONVERSATIONS_COUNT"===s.errorDetails.feature)throw new Error("Reach FAVORITE_CONVERSATIONS_COUNT");this.logger.info(`addServerFavorite(${e}, ${t}) -- SUCCESS`)}catch(n){const r=`addServerFavorite(${e}, ${t}) -- FAILURE -- ${n.message}`;throw this.logger.error(r),new Error(r)}}))}removeServerFavorite(e){return r(this,void 0,void 0,(function*(){try{const t=`${config.restServerUrl}/api/rainbow/enduser/v1.0/users/${this.contactService.userContact.dbId}/favorites/${e}`,n=this.authService.getRequestHeader();yield fetch(t,{method:"DELETE",headers:n}),this.logger.info(`removeServerFavorite(${e}) -- SUCCESS`)}catch(t){const n=`removeServerFavorite(${e}) -- FAILURE -- ${t.statusText}`;throw this.logger.error(n),new Error(n)}}))}toggleFavorite(e){return r(this,void 0,void 0,(function*(){try{const t=e.contact?e.contact.dbId:e.room.dbId,n=e.contact?e.contact.isBot?"bot":"user":"room",r=this.favorites.find(e=>e.peerId===t);r?yield this.removeServerFavorite(r.id):yield this.addServerFavorite(t,n)}catch(t){throw new Error(t.message)}}))}getFavoriteConversation(e){return r(this,void 0,void 0,(function*(){const t=this.favorites.find(t=>t.peerId===e),n=t.contact?this.conversationService.getOrCreateOneToOneConversation(t.contact.jid):this.conversationService.getRoomConversation(t.room.jid);return yield n}))}isFavoriteConversation(e){return this.favorites.find(t=>t.peerId===e)}moveFavoritePosition(e,t){try{const n=`${config.restServerUrl}/api/rainbow/enduser/v1.0/users/${this.contactService.userContact.dbId}/favorites/${e}?position=${t}`,r=this.authService.getRequestHeader();fetch(n,{method:"PUT",headers:r}),this.logger.info(`moveFavoritePosition(${e}, ${t}) -- SUCCESS`)}catch(n){const r=`moveFavoritePosition(${e}, ${t}) -- FAILURE -- ${n.statusText}`;throw this.logger.error(r),new Error(r)}}createFavorite(e,t,n){return r(this,void 0,void 0,(function*(){try{const r=new o.Favorite(e,t,n);if("room"===n?r.room=this.roomService.getRoomById(t):r.contact=yield this.contactService.getContactByDBId(t),!r.room&&!r.contact)return this.removeServerFavorite(e),null;const i=r.room?r.room.jid:r.contact.jid,s=this.conversationService.getConversationById(i);return s&&(s.isFavorite=!0,r.conv=s),r}catch(r){return this.logger.warn(`createFavorite(${e}, ${t}, ${n}) -- FAILURE -- ${r.message}`),null}}))}updateFavoriteConversations(e){const t=e.contact?e.contact.dbId:e.room.dbId,n=this.favorites.find(e=>e.peerId===t);n&&(e.isFavorite=!0,n.conv=e)}onXmppEvent(e){return r(this,void 0,void 0,(function*(){try{const t=$(e).find("favorite");if(t){const e=t.attr("id"),n=t.attr("type"),r=t.attr("peer_id"),o=t.attr("action");if("create"===o){let t=this.favorites.find(e=>e.peerId===r);t||(t=yield this.createFavorite(e,r,n),this.favorites.push(t),this.sendEvent("ON_FAVORITE_CREATED",{favorite:t}))}else if("delete"===o){const e=this.favorites.findIndex(e=>e.peerId===r);if(-1!==e){const t=this.favorites[e];t.conv&&(t.conv.isFavorite=!1),this.favorites.splice(e,1),this.sendEvent("ON_FAVORITE_DELETED",{favoriteId:t.id})}}else if("update"===o){const n=parseInt(t.attr("position"),10),r=this.favorites.findIndex(t=>t.id===e);-1!==r&&(this.favorites.splice(n,0,this.favorites.splice(r,1)[0]),this.sendEvent("ON_FAVORITE_UPDATED",{favoriteId:e,position:n}))}}return!0}catch(t){return!0}}))}sendEvent(e,t){const n=new CustomEvent(e,{detail:t});window.dispatchEvent(n)}attachHandlers(){this.xmppManagementHandler&&this.xmppService.deleteHandler(this.xmppManagementHandler),this.xmppManagementHandler=this.xmppService.addHandler(e=>(this.onXmppEvent(e),!0),null,"message","management")}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Favorite=class{constructor(e,t,n){this.id=e,this.peerId=t,this.type=n}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(362);class o extends r.AgnosticVoiceMessageService{constructor(e,t,n,r,o){super(e,t,n,r,o)}}o.$inject=["$rootScope","$http","$injector","telephonyService","fileServerService"],t.VoiceMessageService=o,angular.module("rainbow").service("voiceMessageService",o)},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(11),i=n(363),s=n(0),a=n(2),l=n(6),c=n(3),u=n(5),d=n(7),f=n(25);t.AgnosticVoiceMessageService=class{constructor(e,t,n,r,i){this.$rootScope=e,this.$http=t,this.$injector=n,this.telephonyService=r,this.fileServerService=i,this.portalURL="",this.sipWisePortalURL="",this.listeners=[],this.voiceMessageMngtRef=null,this.messageHandlerRef=null,this.voiceMessages=[],this.xmpp_message_handler=null,this.voiceMessagesCounters={total:0,unread:0},this.unreadVoiceMessageCounter=0,this.voiceMessagePromises={},this.rxSubject=new o.Subject,this.CALLSERVICE_NS="urn:xmpp:pbxagent:callservice:1",this.CALLSERVICE_NS_SIPWISE="urn:xmpp:pbxagent:telephony:1",this.settingsService=l.default,this.logger=s.default,this.authService=c.default,this.xmppService=u.default,this.profileService=d.default,this.fileStorageService=f.default,this.contactService=a.default}start(e){return this.portalURL=config.restServerUrl+"/api/rainbow/telephony/v1.0/",this.sipWisePortalURL=config.restServerUrl+"/api/rainbow/voice/v1.0/",this.telephonyService.isSipWiseRoot()&&(this.logger.info("[voiceMessageService] starting in sipWise mode "),this.CALLSERVICE_NS=this.CALLSERVICE_NS_SIPWISE),this.voiceMessagesCounters={total:0,unread:0},new Promise(t=>{if(!this.profileService.isFeatureEnabled(this.profileService.FeaturesEnum.TELEPHONY_VOICE_MAIL))return t();if(this.contactService.userContact.isCPaaSGuest())return t();this.logger.info("[voiceMessageService] === STARTING ===");let n=performance.now();this.attachHandlers(),this.telephonyService.isSipWiseRoot()&&this.getVoiceMessagesCounters().then(()=>{this.rxSubject.next({type:"VOICE_MESSAGE_UPDATE",data:this.voiceMessagesCounters}),this.$rootScope.$broadcast("ON_VOICE_MESSAGE_UPDATE_EVENT",this.voiceMessagesCounters)});const r=Math.round(performance.now()-n);this.logger.info("[voiceMessageService] === STARTED ("+r+" ms) ==="),e.push({service:"voiceMessageService",startDuration:r}),t()})}reconnect(){this.attachHandlers()}attachHandlers(){this.logger.info("[voiceMessageService] attachHandlers"),this.voiceMessageMngtRef&&(this.xmppService.connection.deleteHandler(this.voiceMessageMngtRef),this.voiceMessageMngtRef=null),this.voiceMessageMngtRef=this.xmppService.connection.addHandler(e=>this.onVoiceMessageManagement(e),null,"message","management"),this.messageHandlerRef&&(this.xmppService.deleteHandler(this.messageHandlerRef),this.messageHandlerRef=null),this.messageHandlerRef=this.xmppService.addHandler(e=>this.vmCounterHandler(e),this.CALLSERVICE_NS,"message",null)}stop(){return new Promise(e=>{this.logger.info("[voiceMessageService] === STOPPING ==="),this.listeners.forEach(e=>{e()}),this.voiceMessagesCounters={total:0,unread:0},this.logger.info("[voiceMessageService] === STOPPED ==="),e()})}subscribe(e){return this.rxSubject.subscribe(e)}vmCounterHandler(e){try{if(this.telephonyService.isSipWiseRoot()){const t=$(e).find("telephony").find("mwi");if(t&&0!==t.length){const e=t.find("message"),n=e.attr("type"),r=e.attr("new"),o=e.attr("old");n&&"voice"===n&&r&&o?(this.voiceMessagesCounters.unread=Number(r),this.voiceMessagesCounters.total=Number(r)+Number(o),this.logger.info("[voiceMessageService] vmCounterHandler SipWise -- Messages total : "+this.voiceMessagesCounters.total+" - Messages Unread : "+this.voiceMessagesCounters.unread),this.rxSubject.next({type:"VOICE_MESSAGE_UPDATE",data:this.voiceMessagesCounters}),this.$rootScope.$broadcast("ON_VOICE_MESSAGE_UPDATE_EVENT",this.voiceMessagesCounters)):this.logger.info("[voiceMessageService] vmCounterHandler SipWise -- anomaly msg attr ")}}else{const t=$(e).find("voiceMessages").find("voiceMessagesCounters");if(t&&0!==t.length){const e=t.attr("totalVoiceMessages"),n=t.attr("unreadVoiceMessages");this.voiceMessagesCounters={total:e?parseInt(e,10):0,unread:n?parseInt(n,10):0},this.rxSubject.next({type:"VOICE_MESSAGE_UPDATE",data:this.voiceMessagesCounters}),this.$rootScope.$broadcast("ON_VOICE_MESSAGE_UPDATE_EVENT",this.voiceMessagesCounters)}}return!0}catch(t){return!0}}onVoiceMessageManagement(e){return r(this,void 0,void 0,(function*(){try{const t=$(e).find("visualvoicemail");if(t.length&&"abort"===t.attr("action")){const e=t.attr("msgid"),n=t.find("error");this.voiceMessagePromises[e].reject(new Error(n.attr("errordetailscode"))),delete this.voiceMessagePromises[e],this.logger.info("[voiceMessageService] onVoiceMessageManagement - "+e+" - abort - "+n.attr("errormsg"))}else if(t.length&&"create"===t.attr("action")){const e=t.attr("msgid");t.find("url").text();let n=t.find("fileid").text();this.logger.info("[voiceMessageService] onVoiceMessageManagement - "+e+" - create FileId - "+n),this.getVoiceMessageById(e)&&(yield this.fileStorageService.retrieveVoiceMessageFileDescriptorsListPerOwner(),this.voiceMessagePromises[e].resolve(e),delete this.voiceMessagePromises[e])}return!0}catch(t){return!0}}))}getVoiceMessageById(e){return this.voiceMessages.find(t=>e===t.id)}getVoiceMessagesList(){return r(this,void 0,void 0,(function*(){if("VVM"!==this.telephonyService.agentStatus.features)return[];try{const e=yield this.$http({method:"GET",url:this.portalURL+"voicemessages",headers:this.authService.getRequestHeader()});this.voiceMessages=[];const t=e.data.data.voicemessages.voiceMessageList;return this.voiceMessages=yield Promise.all(t.map(e=>r(this,void 0,void 0,(function*(){return yield this.createVoiceMessageFromData(e).catch(()=>{})})))),this.logger.info("[voiceMessageService] getVoiceMessagesList success - Messages number : "+this.voiceMessages.length),this.voiceMessages.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()),this.voiceMessages}catch(e){let t="getVoiceMessagesList failure -- ";throw t+=e.status?e.status:e.message,this.logger.error("[voiceMessageService] "+t),new Error(t)}}))}getVoiceMessagesCounters(){return r(this,void 0,void 0,(function*(){try{if(this.telephonyService.isSipWiseRoot()){const e=(yield this.$http({method:"GET",url:this.sipWisePortalURL+"messages",headers:this.authService.getRequestHeader()})).data,t=Number(e.inbox),n=Number(e.old);return this.voiceMessagesCounters.unread=t,this.voiceMessagesCounters.total=t+n,this.logger.info("[voiceMessageService] getVoiceMessagesCounters success - total : "+this.voiceMessagesCounters.total+" - unread : "+this.voiceMessagesCounters.unread),this.voiceMessagesCounters}{const e=(yield this.$http({method:"GET",url:this.portalURL+"voicemessages/counters",headers:this.authService.getRequestHeader()})).data.data.voicemessages.counters;return this.voiceMessagesCounters.total=parseInt(e.total,10),this.voiceMessagesCounters.unread=parseInt(e.unread,10),this.logger.info("[voiceMessageService] getVoiceMessagesCounters success - total : "+this.voiceMessagesCounters.total+" - unread : "+this.voiceMessagesCounters.unread),this.voiceMessagesCounters}}catch(e){throw this.voiceMessageHandleError("getVoiceMessagesCounters",e)}}))}getVoiceMessagesUnreadCounter(){return this.voiceMessagesCounters.unread}getVoiceMessagesTotalCounter(){return this.voiceMessagesCounters.total}getVoiceMessageAudioFileURL(e){return r(this,void 0,void 0,(function*(){let t=this.fileStorageService.getVoiceMessageFileDescriptorByMsgId(e.id);if(t&&"deleted"!==t.state){const e=yield this.fileServerService.getBlobFromFileDescriptor(t);return URL.createObjectURL(e)}const n=yield new Promise((t,n)=>{this.voiceMessagePromises[e.id]={resolve:t,reject:n},this.getVoiceMessageFromPBX(e)});if(t=this.fileStorageService.getVoiceMessageFileDescriptorByMsgId(n),t){const e=yield this.fileServerService.getBlobFromFileDescriptor(t);return URL.createObjectURL(e)}}))}getVoiceMessageFromPBX(e){return r(this,void 0,void 0,(function*(){try{let t=this.portalURL+"voicemessages/"+encodeURIComponent(e.id)+"?messageDate="+encodeURIComponent(e.dateString)+"&messageFrom="+encodeURIComponent(e.from);yield this.$http({method:"GET",url:t,headers:this.authService.getRequestHeader()}),this.logger.info("[voiceMessageService] getVoiceMessageFromPBX success")}catch(t){throw this.voiceMessageHandleError("getVoiceMessageFromPBX",t)}}))}deleteVoiceMessage(e){return r(this,void 0,void 0,(function*(){try{yield this.$http({method:"DELETE",url:this.portalURL+"voicemessages/"+e,headers:this.authService.getRequestHeader()}),this.logger.info("[voiceMessageService] deleteVoiceMessage success")}catch(t){throw this.voiceMessageHandleError("deleteVoiceMessage",t)}}))}deleteAllVoiceMessages(){return r(this,void 0,void 0,(function*(){try{yield this.$http({method:"DELETE",url:this.portalURL+"voicemessages/all",headers:this.authService.getRequestHeader()}),this.logger.info("[voiceMessageService] deleteAllVoiceMessages success")}catch(e){throw this.voiceMessageHandleError("deleteAllVoiceMessages",e)}}))}createVoiceMessageFromData(e){return new Promise((t,n)=>{if(e){const r=e.foundidentity;let o="",s="";const a=e.jid,l=e.from;a||l?this.contactService.getOrCreateContact(a,l).then(n=>{if(this.logger.info("[voiceMessageService] createVoiceMessageFromData otherParticipant jid:"+a+"  Number:"+l+" => contact retrieved (temp:"+n.temp+")"),!a&&n.temp){if(r&&r.length){const e=r.attr("firstName"),t=r.attr("lastName"),i=r.attr("displayName");o=e||"",s=t||"",""===s&&""===o&&i&&0!==i.length&&i!==l&&(s=i),(o.length||s.length)&&(this.logger.debug("[voiceMessageService] createVoiceMessageFromData  xNames updated from directories for contact "+n.id),n.updateName(o,s))}else try{const e=this.$injector.get("centralizedService"),t=!0;e.outlook.updateContactFromOutlookInfos(n,l,t).then(e=>{e?this.logger.debug("[telephonyService] createVoiceMessageFromData  xNames updated from outlook for contact "+n.id):this.logger.debug("[telephonyService] createVoiceMessageFromData no update from outlook for contact :"+n.id)}).catch(e=>{this.logger.debug("[voiceMessageService] createVoiceMessageFromData  no Outlook search available")})}catch(d){}var c=!1;this.telephonyService.started&&(c=n.displayName.match(/^[0-9A-D #\-\+\*\(\)\./]{1,32}$/)&&this.telephonyService.startAsPhoneNumber(n.displayName)),c&&n.phoneProCan&&""!==n.phoneProCan&&(n.displayName=n.phoneProCan)}let u=Number.parseInt(e.length,10);t(new i.VoiceMessage(e.id,n,"true"===e.unread,u,e.date,e.from,e.jid))}).catch(e=>{this.voiceMessageErrorHandler("getVoiceMessagesList",n,e),n("reject")}):n("neither otherParticipantJid nor otherParticipantNumber")}else n("no data")})}voiceMessageHandleError(e,t){let n=e+" -- failure -- ";return n+=t.data?t.data.errorDetails:"Server failure",this.logger.error("[voiceMessageService] "+n),new Error(n)}voiceMessageErrorHandler(e,t,n){n.data?this.logger.error("[voiceMessageService] "+e+" -- failure -- "+n.data.errorDetails):this.logger.error("[voiceMessageService] "+e+" -- failure -- Server failure"),t(n)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(11);t.VoiceMessage=class{constructor(e,t,n,o,i,s,a){this.id=e,this.contact=t,this.unread=n,this.duration=o,this.date=new Date(i),this.dateString=i,this.from=s,this.jid=a,this.rxSubject=new r.Subject}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(365);class o extends r.AgnosticPhonebookService{constructor(e){super(e)}}o.$inject=["rainbowLogger"],t.PhonebookService=o,angular.module("rainbow").service("phonebookService",o)},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(2),i=n(3),s=n(7);t.AgnosticPhonebookService=class{constructor(e){this.logger=e,this.authService=i.default,this.contactService=o.default,this.profileService=s.default,this.isPhonebookSearchAllowed=this.profileService.isFeatureEnabled(this.profileService.FeaturesEnum.TELEPHONY_PHONE_BOOK)}search(e){return r(this,void 0,void 0,(function*(){if(!this.profileService.isFeatureEnabled(this.profileService.FeaturesEnum.TELEPHONY_PHONE_BOOK))return[];this.logger.info("search PBXContact from phonebook with pattern "+e);try{const t=`${config.restServerUrl}/api/rainbow/search/v1.0/phonebooks?limit=20&name=${encodeURIComponent(e)}`,n=this.authService.getRequestHeader(),r=yield fetch(t,{method:"GET",mode:"cors",headers:n}),o=(yield r.json()).phoneBooks;return o.map(e=>{const t=this.contactService.createBasicContact(null,e.number);return t.updateName(e.firstName,e.lastName),t.getAvatar(),t})}catch(t){return this.logger.info(`search PBXContact from phonebook with pattern ${e} --- FAILURE --- ${t.message}`),[]}}))}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(367);class o extends r.AgnosticCallLogService{constructor(e,t,n,r){super(e,t,n,r)}}o.$inject=["webrtcGatewayService","telephonyService","$injector","$rootScope"],t.CallLogService=o,angular.module("rainbow").service("callLogService",o)},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(368),i=n(11),s=n(4);n(227);const a=n(2),l=n(5),c=n(7),u=n(0);class d{constructor(e,t,n,o){this.webrtcGatewayService=e,this.telephonyService=t,this.$injector=n,this.$rootScope=o,this.started=!1,this.rxSubject=new i.Subject,this.callLogHandlerRef=null,this.callLogMessageAckRef=null,this.callLogNotificationRef=null,this.usePhonebookDirectory=!1,this.callLogPromises=[],this.numberMissedCallLogs=0,this.callLogs=[],this.aggregatedCallLogs=[],this.xmppService=l.default,this.profileService=c.default,this.logger=u.default,this.contactService=a.default,this.ackAllCallLogsInDBDone=!1,this.onHistoryCallLogMessageReceived=e=>r(this,void 0,void 0,(function*(){const t=$(e);if(t.find("call_log").length>0){let e=this;t.find("call_log").each((n,r)=>{const o=$(r);o.attr("xmlns")===d.CALL_LOG_NOTIF_NAMESPACE&&o.length>0&&e.callLogPromises.push(e.createCallLogFromStanza(t,o))})}else t.find("count").length>0&&t.find("query").length>0&&($(e).find("last").length>0||"0"===t.find("count").text())&&($(e).find("last").length&&(this.lastTimestamp=$(e).find("last").text()),this.logger.info("createCallLogFromStanza --- all calllogs received"),yield Promise.all(this.callLogPromises).catch(()=>{}),this.callLogPromises=[],this.orderCallLogs(),this.startPromise&&(this.started=!0,this.startPromiseResolve(),this.startPromiseResolve=null,this.startPromise=null));return!0})),this.onCallLogAckReceived=e=>{try{if($(e).find("read").length>0){const t=$(e).find("read").attr("call_id");this.callLogs.forEach(e=>{e.id!==t||(e.read=!0)});const n=this.getMissedCallLogCounter();n!==this.numberMissedCallLogs&&(this.numberMissedCallLogs=n,this.rxSubject.next({type:"ON_CALL_LOG_ACK_UPDATED",value:this.numberMissedCallLogs}))}}catch(t){return this.logger.error("onCallLogAckReceived -- failure --"+t),!0}return!0},this.onCallLogNotificationReceived=e=>r(this,void 0,void 0,(function*(){let t=$(e);try{if(t.find("deleted_call_log").length>0){let e=t.find("deleted_call_log").attr("peer");e?this.removeCallLogsForUser(e):(this.callLogs=[],yield this.getCallLogHistoryPage(),this.orderCallLogs())}else t.find("updated_call_log").length>0&&(yield this.createCallLogFromStanza(t,null).catch(()=>{}),this.orderCallLogs())}catch(n){return this.logger.error("callLogNotificationReceived -- failure --"+n),!0}return!0})),this.xmppService.connected&&this.attachXMPPListeners(),this.xmppService.subscribeToConnectionEvents(e=>{"ON_XMPP_CONNECTED"===e.name&&(this.attachXMPPListeners(),"RECONNECTION"===e.data.reason&&this.getCallLogHistoryPage(this.lastTimestamp)),"ON_XMPP_DISCONNECTED"===e.name&&"LOGOUT"===e.data.reason&&(this.numberMissedCallLogs=0,this.callLogs=[],this.aggregatedCallLogs=[],this.started=!1,this.ackAllCallLogsInDBDone=!1)})}subscribe(e){return this.rxSubject.subscribe(e)}start(){return r(this,void 0,void 0,(function*(){return this.started?Promise.resolve():(this.startPromise=new Promise(e=>{this.startPromiseResolve=e,this.usePhonebookDirectory=this.profileService.isFeatureEnabled(this.profileService.FeaturesEnum.TELEPHONY_PHONE_BOOK)||config.permitSearchFromPhoneBook,this.getCallLogHistoryPage(),this.numberMissedCallLogs>14&&!this.ackAllCallLogsInDBDone&&(this.ackAllCallLogsInDBDone=!0,this.ackAllCallLogsInDB())}),this.startPromise)}))}attachXMPPListeners(){this.getMissedCallLogNumber(),this.callLogHandlerRef&&(this.xmppService.connection.deleteHandler(this.callLogHandlerRef),this.callLogHandlerRef=null),this.callLogHandlerRef=this.xmppService.connection.addHandler(e=>this.onHistoryCallLogMessageReceived(e),d.CALL_LOG_NAMESPACE,null,null),this.callLogNotificationRef&&(this.xmppService.connection.deleteHandler(this.callLogNotificationRef),this.callLogNotificationRef=null),this.callLogNotificationRef=this.xmppService.connection.addHandler(e=>this.onCallLogNotificationReceived(e),d.CALL_LOG_NOTIF_NAMESPACE,null,null),this.callLogMessageAckRef&&(this.xmppService.connection.deleteHandler(this.callLogMessageAckRef),this.callLogMessageAckRef=null),this.callLogMessageAckRef=this.xmppService.connection.addHandler(e=>this.onCallLogAckReceived(e),d.CALL_LOG_ACK_NAMESPACE,null,null)}getCalllogs(){return r(this,void 0,void 0,(function*(){return yield this.start(),this.callLogs}))}getAggregatedCalllogs(){return r(this,void 0,void 0,(function*(){return yield this.start(),this.aggregatedCallLogs}))}getSimplifiedCallLogs(){return r(this,void 0,void 0,(function*(){return yield this.start(),this.callLogs.map(e=>({contact:e.contact.id,contactDisplayName:e.contact.displayName,read:e.read,contactInitials:e.contact.initials,id:e.id,state:e.state,date:e.date,duration:e.duration,direction:e.direction,type:e.type}))}))}getNumberMissedCallLogs(){return this.numberMissedCallLogs}markCallLogAsRead(e){return r(this,void 0,void 0,(function*(){const t=$msg({from:this.xmppService.jid,to:this.xmppService.jid});return t.c("read",{xmlns:d.CALL_LOG_ACK_NAMESPACE,call_id:e}),this.xmppService.send(t)}))}markAllCallsLogsAsRead(){this.callLogs.forEach(e=>{if(!e.read){const t=$msg({from:this.xmppService.jid,to:this.xmppService.jid});t.c("read",{xmlns:d.CALL_LOG_ACK_NAMESPACE,call_id:e.id}),this.xmppService.send(t)}})}deleteCallLogsForContact(e){return r(this,void 0,void 0,(function*(){const t=$iq({from:this.xmppService.jid,to:this.xmppService.jid,type:"set"});return t.c("delete",{xmlns:d.CALL_LOG_NAMESPACE,peer:e}),this.xmppService.sendIQ(t)}))}deleteOneCallLog(e){return r(this,void 0,void 0,(function*(){const t=$iq({from:this.xmppService.jid,to:this.xmppService.jid,type:"set"}).c("delete",{xmlns:d.CALL_LOG_NAMESPACE,call_id:e});return this.xmppService.sendIQ(t)}))}deleteAllCallLogs(){return r(this,void 0,void 0,(function*(){const e=$iq({from:this.xmppService.jid,to:this.xmppService.jid,type:"set"});return e.c("delete",{xmlns:d.CALL_LOG_NAMESPACE}),this.xmppService.sendIQ(e)}))}getMissedCallLogNumber(){return r(this,void 0,void 0,(function*(){const e=$iq({from:this.xmppService.jid,type:"set"});e.c("query",{xmlns:d.CALL_LOG_NAMESPACE}),e.c("set",{xmlns:"http://jabber.org/protocol/rsm"}),e.c("max").t(0).up().up(),e.c("x",{xmlns:"jabber:x:data",type:"submit"}),e.c("field",{var:"read"}).c("value").t("false").up().up();const t=yield this.xmppService.sendIQ(e);return this.numberMissedCallLogs=parseInt($(t).find("count").text(),10),this.rxSubject.next({type:"ON_CALL_LOG_NUMBER_UPDATED",value:this.numberMissedCallLogs}),this.numberMissedCallLogs}))}getCallLogHistoryPage(e=null){return r(this,void 0,void 0,(function*(){const t=$iq({from:this.xmppService.jid,type:"set"});t.c("query",{xmlns:d.CALL_LOG_NAMESPACE}),t.c("set",{xmlns:"http://jabber.org/protocol/rsm"}),t.c("max").t(d.CALL_LOG_MAX).up(),e?t.c("after").t(e).up():t.c("before").t("").up(),yield this.xmppService.sendIQ(t)}))}ackAllCallLogsInDB(){return r(this,void 0,void 0,(function*(){try{this.logger.warn("ackAllCallLogsInDB --- used for "+this.numberMissedCallLogs+" call-logs");const e=$iq({from:this.xmppService.jid,type:"set"});e.c("markallread",{xmlns:d.CALL_LOG_NAMESPACE});const t=yield this.xmppService.sendIQ(e);if($(t).find("error").length)return void this.logger.warn("ackAllCallLogsInDB --- error ...");yield this.getMissedCallLogNumber()}catch(e){return void this.logger.warn("ackAllCallLogsInDB --- error ...")}}))}orderCallLogs(){this.callLogs.sort((e,t)=>o.CallLog.getDate(t)-o.CallLog.getDate(e)),this.aggregateCalllogs(),this.$rootScope.$broadcast("ON_CALL_LOG_UPDATED"),this.rxSubject.next({type:"ON_CALL_LOG_UPDATED"});const e=this.getMissedCallLogCounter();e!==this.numberMissedCallLogs&&(this.numberMissedCallLogs=e,this.$rootScope.$broadcast("ON_CALL_LOG_ACK_UPDATED",this.numberMissedCallLogs),this.rxSubject.next({type:"ON_CALL_LOG_ACK_UPDATED",value:this.numberMissedCallLogs}))}aggregateCalllogs(){let e=0;this.aggregatedCallLogs=[];let t={};this.callLogs.forEach((n,r)=>{const o=n.contact.id;if("conference"===n.type)0!==r&&e++,this.aggregatedCallLogs[e]=n,this.aggregatedCallLogs[e].count=1,this.aggregatedCallLogs[e].editable=!1;else if(0===r)t[o]=1,this.aggregatedCallLogs[e]=n,this.aggregatedCallLogs[e].count=1,this.aggregatedCallLogs[e].editable=!0,"missed"===n.state&&"incoming"===n.direction?this.aggregatedCallLogs[e].isMissed=!0:"missed"===n.state&&"outgoing"===n.direction&&(this.aggregatedCallLogs[e].isNotAnswered=!0);else if(t[o]){var i=t[o],s=this.aggregatedCallLogs[i-1];s.editable&&(s.isMissed&&"missed"===n.state&&"incoming"===n.direction||s.isNotAnswered&&"missed"===n.state&&"outgoing"===n.direction?s.count++:s.editable=!1)}else e++,t[o]=e+1,this.aggregatedCallLogs[e]=n,this.aggregatedCallLogs[e].count=1,this.aggregatedCallLogs[e].editable=!0,"missed"===n.state&&"incoming"===n.direction?this.aggregatedCallLogs[e].isMissed=!0:"missed"===n.state&&"outgoing"===n.direction&&(this.aggregatedCallLogs[e].isNotAnswered=!0)})}createCallLogFromStanza(e,t){return r(this,void 0,void 0,(function*(){let n=!1;t?n=!0:t=e;let r=t.find("call_id").text(),i=t.find("state").text();if(this.callLogs.some(e=>e.id===r||"failed"===i||"ongoing"===i))return this.logger.debug("createCallLogFromStanza --- ignore existing of wrong call-log"),null;let a=t.find("caller").text(),l=t.find("callee").text();if(a&&-1!==a.indexOf("janusgateway")||l&&-1!==l.indexOf("janusgateway"))return this.logger.debug("createCallLogFromStanza --- ignore janusgateway call-log"),null;if(a&&this.webrtcGatewayService.isMediaPillarJid(a)||l&&this.webrtcGatewayService.isMediaPillarJid(l))return this.logger.debug("createCallLogFromStanza --- ignore mediapillar call-log"),null;let c="webrtc",u=null,d=null,f=this.xmppService.isConnectedJid(a),_=f?"outgoing":"incoming",h=!1;if(h=n?"conference"===t.attr("service"):"conference"===e.find("call_log").attr("service"),h)c="conference",u=a,-1===u.indexOf("@")&&(d=u,u=null);else{let r;r=n?t.attr("type"):e.find("call_log").attr("type"),r||(r=e.find("type").text()),"phone"===r&&(c="telephone"),u=f?l:a,-1===u.indexOf("@")&&(d=u,u=null,c="telephone")}if(u||d)try{let n=yield this.contactService.getOrCreateContact(u,d);if(!h&&!u&&n.temp){let e=this.usePhonebookDirectory?t.find("identity"):null;if(e&&e.length){let t=e.attr("firstName"),r=e.attr("lastName"),o=e.attr("displayName"),i=t||"",s=r||"";""===s&&""===i&&o&&0!==o.length&&o!==d&&(s=o),(i.length||s.length)&&(this.logger.debug("createCallLogFromStanza xNames updated from phonebook for contact "+n.id),n.updateName(i,s))}else try{var p=this.$injector.get("centralizedService");(yield p.outlook.updateContactFromOutlookInfos(n,d,!0))&&this.logger.debug("createCallLogFromStanza xNames updated from outlook for contact "+n.id)}catch(m){this.logger.debug("createCallLogFromMessage no outlook service :"+n.id)}let r=!1;this.telephonyService.started&&(r=n.displayName.match(/^[0-9A-D #\-\+\*\(\)\./]{1,32}$/)&&this.telephonyService.startAsPhoneNumber(n.displayName)),r&&n.phoneProCan&&""!==n.phoneProCan&&(n.displayName=n.phoneProCan)}let a="true"===t.find("ack").attr("read"),l=parseInt(t.find("duration").text(),10);l=l>0?s.duration(l,"ms").format("h[H] mm[m] ss[s]"):0;let f=e.find("delay").attr("stamp");f&&(f=new Date(f));let g=e.find("subject").text(),v=o.CallLog.create(r,n,i,l,c,a,f,_,g,!1);this.callLogs.push(v),"answered"!==i||a||this.markCallLogAsRead(r)}catch(m){this.logger.error("createCallLogFromStanza -- failure --- "+m)}}))}getMissedCallLogCounter(){var e=0;return this.callLogs.forEach(t=>{t.read||"missed"!==t.state||"incoming"!==t.direction||e++}),e}removeCallLogsForUser(e){e.endsWith("@_")&&(e=e.substring(0,e.length-2));for(var t=[],n=0;n<this.callLogs.length;n++)(!this.callLogs[n].contact||this.callLogs[n].contact.jid!==e&&this.callLogs[n].contact.id!==e)&&t.push(this.callLogs[n]);this.callLogs=t,this.orderCallLogs()}}d.CALL_LOG_NAMESPACE="jabber:iq:telephony:call_log",d.CALL_LOG_ACK_NAMESPACE="urn:xmpp:telephony:call_log:receipts",d.CALL_LOG_NOTIF_NAMESPACE="jabber:iq:notification:telephony:call_log",d.CALL_LOG_MAX=75,t.AgnosticCallLogService=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t,n,o,i,s,a,l,c,u){this.count=0,this.editable=!1,this.isMissed=!1,this.isNotAnswered=!1,this.id=e,this.contact=t,this.state=n,this.duration=o,this.type=i,this.read=s,this.date=a,this.direction=l,this.callSubject=c,this.isLatestCall=u,this.type="unknown"===i||"audio"===i||"webrtc"===i?r.Type.WEBRTC:"telephone"===i?r.Type.TELEPHONE:r.Type.CONFERENCE}static create(e,t,n,o,i,s,a,l,c,u){return new r(e,t,n,o,i,s,a,l,c,u)}static getNames(e){let t="",n="",r=null;return e&&e.contact&&(t=e.contact.firstname.toUpperCase(),n=e.contact.lastname.toUpperCase(),r=e.date?e.date.getTime():null),{firstname:t,lastname:n,date:r}}static getDate(e){return e&&e.date?e.date.getTime():0}static sortByContact(e,t){var n=-1;if(e&&e.value.lastname&&t&&t.value.lastname){var r=e.value.lastname,o=t.value.lastname;0===(n=r.localeCompare(o))&&(r=e.value.firstname,o=t.value.firstname,0===(n=r.localeCompare(o))&&t.value.date&&e.value.date&&(n=t.value.date-e.value.date))}return n}static sortByDate(e,t){var n=1;return e&&t&&(n=t.value-e.value),n}updateCallLogDisplayInfo(e=!1){"incoming"===this.direction?(this.svgClass="missed"===this.state?"missed":"active",this.svgId="call_made","forwarded"===this.state?(this.svgId="call_missed",this.title="incomingCallForwarded"):this.title="incommingCall","missed"===this.state&&(this.title=e&&this.count>1?"missedCalls":"missedCall")):(this.svgId="call_received",this.title="outgoingCall",this.svgClass="active","missed"===this.state&&(this.svgClass="",this.title=e&&this.count>1?"noAnswers":"noAnswer"))}}r.Type={WEBRTC:"webrtc",TELEPHONE:"telephone",CONFERENCE:"conference"},t.CallLog=r},function(e,t,n){n.r(t);var r=n(6),o=n.n(r),i=n(2),s=n.n(i),a=n(7),l=n.n(a);angular.module("rainbow").service("ringingService",["$q","$log","$rootScope","$interval","platformService",function(e,t,n,r,i){const a=this,c=[],u=[];a.start=function(r){const i=performance.now();t.info("[ringingService] STARTING"),a.notifs=["noSound","ding","harp","hello","complete","duck","appointed","chime","stairs","wet","wilhelm","important"],a.alarms=["noRingtone","lightBounce","discovery","lounge","uptown","morningLights","miami","farEast","highSpeed","rainDrops","deepSpace","steamTrain","happy","decrescendo","strident","peacefulness","classic1","classic2","classic3","cosy1","cosy2","cosy3","dynamic1","dynamic2","dynamic3","quiet1","quiet2","quiet3","relax1","relax2","relax3"];let d=new Audio;n.canPlayOgg=Boolean(d.canPlayType)&&Boolean(d.canPlayType('audio/ogg; codecs="vorbis"')),a.audioFileType=n.canPlayOgg?".ogg":".mp3",d=null,a.ringbackTone={audio:new Audio,starting:!1,id:"ringbackTone"},a.recordTone=new Audio("/resources/sounds/beep-01a"+a.audioFileType),a.SecondCallTone=new Audio("/resources/sounds/start"+a.audioFileType),a.joinWebConfTone=new Audio("/resources/sounds/join_meeting"+a.audioFileType),a.holdTone={audio:new Audio("/resources/sounds/hold-tone"+a.audioFileType),starting:!1},a.pushToTalkActivateTone=new Audio("/resources/sounds/ptt_activate"+a.audioFileType),a.pushToTalkDeactivateTone=new Audio("/resources/sounds/ptt_deactivate"+a.audioFileType),a.ringbackTone.audio.onloadeddata=()=>{t.info("[ringingService] === ringbackTone -- loaded")},a.ringbackTone.audio.oncanplay=()=>{t.info("[ringingService] === ringbackTone -- oncanplay ")},a.ringbackTone.audio.onerror=()=>{t.error("[ringingService] === ringbackTone -- onerror ")},a.ringbackTone.audio.src="/resources/sounds/outgoing-rings"+a.audioFileType,a.holdTone.audio.loop=!0,a.alarmNotifOnce=null,a.informationImSound=s.a.userContact.customData.informationImSound,a.informationImSound||(a.informationImSound=o.a.getSetting("informationImSound")),a.importantImSound=s.a.userContact.customData.importantImSound,a.importantImSound||(a.importantImSound=o.a.getSetting("importantImSound")),a.manageEmergencyNotifs(),a.setActive(o.a.settings.activeNotif,o.a.settings.activeAlarm,a.informationImSound,a.importantImSound);const f=Math.round(performance.now()-i);return r.push({service:"ringingService",startDuration:f}),t.info("[ringingService] === STARTED ("+f+" ms) ==="),c.push(n.$on("ON_WEB_CONFENRECE_PARTICIPANT_JOINED_EVENT",a.playWebConferenceJoinNotif)),c.push(n.$on("ON_PRESS_PUSH_TO_TALK_EVENT",a.playActivatePtT)),c.push(n.$on("ON_RELEASE_PUSH_TO_TALK_EVENT",a.playDeactivatePtT)),u.push(l.a.subscribe(()=>{a.manageEmergencyNotifs()})),e.when()},a.setActive=function(e,n,r,o){a.activeNotif=e,a.activeAlarm=n,"noSound"!==e?(a.pingAudio=new Audio("/resources/sounds/notifs/"+a.activeNotif+a.audioFileType),a.pingAudioSecondary=new Audio("/resources/sounds/notifs/"+a.activeNotif+a.audioFileType)):(a.pingAudio=null,a.pingAudioSecondary=null,t.info("Notif sound set to null")),"noRingtone"!==n?(a.incomingRingingTone={audio:new Audio,starting:!1,id:"incomingRingingTone"},a.incomingRingingSecondaryTone={audio:new Audio("/resources/sounds/alarms/"+a.activeAlarm+a.audioFileType),starting:!1,id:"incomingRingingSecondaryTone"},a.incomingRingingTone.audio.onloadeddata=()=>{t.info("[ringingService] === incomingRingingTone -- loaded")},a.incomingRingingTone.audio.oncanplay=()=>{t.info("[ringingService] === incomingRingingTone -- oncanplay ")},a.incomingRingingTone.audio.onerror=e=>{t.error("[ringingService] === incomingRingingTone -- onerror "),e&&e.target&&e.target.error&&t.error("[ringingService] === incomingRingingTone -- onerror msg "+e.target.error.message)},a.incomingRingingTone.audio.src="/resources/sounds/alarms/"+a.activeAlarm+a.audioFileType):(a.incomingRingingTone=null,a.incomingRingingSecondaryTone=null,t.info("Ringtone sound set to null")),"noSound"!==r?(a.informationImSoundAudio=new Audio("/resources/sounds/notifs/"+a.informationImSound+a.audioFileType),a.informationImSoundAudioSecondary=new Audio("/resources/sounds/notifs/"+a.informationImSound+a.audioFileType)):(a.informationImSoundAudio=null,a.informationImSoundAudioSecondary=null,t.info("Information notif sound set to null")),"noSound"!==o?(a.importantImSoundAudio=new Audio("/resources/sounds/notifs/"+a.importantImSound+a.audioFileType),a.importantImSoundAudioSecondary=new Audio("/resources/sounds/notifs/"+a.importantImSound+a.audioFileType)):(a.importantImSoundAudio=null,a.importantImSoundAudioSecondary=null,t.info("Important notif sound set to null"))},a.manageEmergencyNotifs=function(){a.emergencyAlarms=["noSound","pager1"],l.a.isFeatureEnabled(l.a.FeaturesEnum.ALERT_NOTIFICATIONS_ALLOWED)&&(a.emergencyAlarms=["noSound","emergency"]),a.emergencyImSound=s.a.userContact.customData.emergencyImSound,a.emergencyImSound||(a.emergencyImSound=o.a.getSetting("emergencyImSound")),a.setEmergencyAlarm()},a.setEmergencyAlarm=function(){let e=!1;(!l.a.isFeatureEnabled(l.a.FeaturesEnum.ALERT_NOTIFICATIONS_ALLOWED)||"noSound"!==a.emergencyImSound&&-1!==a.emergencyAlarms.indexOf(a.emergencyImSound))&&(l.a.isFeatureEnabled(l.a.FeaturesEnum.ALERT_NOTIFICATIONS_ALLOWED)||-1!==a.emergencyAlarms.indexOf(a.emergencyImSound))||(e=!0),e&&(a.emergencyImSound=a.emergencyAlarms[1],s.a.userContact.customData.emergencyImSound=a.emergencyImSound,s.a.updateUserContact({customData:s.a.userContact.customData})),"noSound"!==a.emergencyImSound?(a.emergencyImSoundAudio=new Audio("/resources/sounds/notifs/"+a.emergencyImSound+a.audioFileType),a.emergencyImSoundAudioSecondary=new Audio("/resources/sounds/notifs/"+a.emergencyImSound+a.audioFileType)):(a.emergencyImSoundAudio=null,a.emergencyImSoundAudioSecondary=null,t.info("Emergency notif sound set to null"))},a.stop=function(){let n;for(t.info("[ringingService] STOPPING"),t.info("[ringingService] STOPPED");n=c.pop();)n();return u.forEach(e=>{e.unsubscribe()}),a.ringbackTone&&(a.ringbackTone.starting=!1),a.incomingRingingTone&&(a.incomingRingingTone.starting=!1),a.incomingRingingSecondaryTone&&(a.incomingRingingSecondaryTone.starting=!1),a.ringbackTone=null,a.recordTone=null,a.SecondCallTone=null,a.joinWebConfTone=null,a.holdTone=null,a.alarmNotifOnce=null,a.informationImSound=null,a.importantImSound=null,a.emergencyImSoundAudio=null,a.emergencyImSoundAudioSecondary=null,a.informationImSoundAudio=null,a.informationImSoundAudioSecondary=null,a.importantImSoundAudio=null,a.importantImSoundAudioSecondary=null,a.pingAudio=null,a.pingAudioSecondary=null,a.incomingRingingTone=null,a.incomingRingingSecondaryTone=null,a.pushToTalkActivateTone=null,a.pushToTalkDeactivateTone=null,e.when()},a.stopIncomingWebrtcSounds=function(){a.stopWebrtcSounds=!0},a.onMyProfileFeaturesChanged=function(){},a.setActiveAlarm=function(e){t.info("[ringingService] setActiveAlarm to "+e),a.activeAlarm=e,s.a.setUserSettings({activeAlarm:a.activeAlarm}),"noRingtone"!==e?(a.incomingRingingTone={audio:new Audio,starting:!1,id:"incomingRingingTone"},a.incomingRingingSecondaryTone={audio:new Audio("/resources/sounds/alarms/"+a.activeAlarm+a.audioFileType),starting:!1,id:"incomingRingingSecondaryTone"},a.incomingRingingTone.audio.onloadeddata=()=>{t.info("[ringingService] === incomingRingingTone -- loaded")},a.incomingRingingTone.audio.oncanplay=()=>{t.info("[ringingService] === incomingRingingTone -- oncanplay ")},a.incomingRingingTone.audio.onerror=e=>{t.error("[ringingService] === incomingRingingTone -- onerror "),e&&e.target&&e.target.error&&t.error("[ringingService] === incomingRingingTone -- onerror msg "+e.target.error.message)},a.incomingRingingTone.audio.src="/resources/sounds/alarms/"+a.activeAlarm+a.audioFileType):(a.incomingRingingTone=null,a.incomingRingingSecondaryTone=null,t.info("Ringtone sound set to null"))},a.playAlarmOnce=function(e){t.info("[ringingService] playAlarmOnce "+e.name),null!==a.alarmNotifOnce&&a.alarmNotifOnce.pause(),a.alarmNotifOnce=new Audio("/resources/sounds/alarms/"+e.name+a.audioFileType),a.alarmNotifOnce.currentTime=0,a.alarmNotifOnce.play(),a.addEvents(a.alarmNotifOnce,e)},a.alarmCurPlay=function(){return a.alarmNotifOnce instanceof Audio},a.addEvents=function(e,t){e.onended=function(){a.alarmNotifOnce=null,t.iconPlayer="play"}},a.stopAlarmOnce=function(){t.info("[ringingService] stopAlarmOnce"),a.alarmNotifOnce&&(a.alarmNotifOnce.pause(),a.alarmNotifOnce=null)},a.playNotifOnce=function(e){t.info("[ringingService] playNotifOnce "+e.name),a.audioNotifOnce=new Audio("/resources/sounds/notifs/"+e.name+a.audioFileType),a.audioNotifOnce.currentTime=0,a.audioNotifOnce.play(),a.addEvents(a.audioNotifOnce,e)},a.notifCurPlay=function(){return a.audioNotifOnce instanceof Audio},a.stopNotifOnce=function(){t.info("[ringingService] stopNotifOnce"),a.audioNotifOnce.pause(),a.audioNotifOnce=null},a.setActiveNotif=function(e){t.info("[ringingService] setActiveNotif to "+e),a.activeNotif=e,s.a.setUserSettings({activeNotif:a.activeNotif}),"noSound"!==e?(a.pingAudio=new Audio("/resources/sounds/notifs/"+a.activeNotif+a.audioFileType),a.pingAudioSecondary=new Audio("/resources/sounds/notifs/"+a.activeNotif+a.audioFileType)):(a.pingAudio=null,a.pingAudioSecondary=null,t.info("Notif sound set to null"))},a.setInformationImSound=function(e){t.info("[ringingService] setInformationImSound to "+e),a.informationImSound=e,o.a.setSetting("informationImSound",e),s.a.userContact.customData.informationImSound=e,s.a.updateUserContact({customData:s.a.userContact.customData}),"noSound"!==e?(a.informationImSoundAudio=new Audio("/resources/sounds/notifs/"+a.informationImSound+a.audioFileType),a.informationImSoundAudioSecondary=new Audio("/resources/sounds/notifs/"+a.informationImSound+a.audioFileType)):(a.informationImSoundAudio=null,a.informationImSoundAudioSecondary=null)},a.setImportantImSound=function(e){t.info("[ringingService] setImportantImSound to "+e),a.importantImSound=e,o.a.setSetting("importantImSound",e),s.a.userContact.customData.importantImSound=e,s.a.updateUserContact({customData:s.a.userContact.customData}),"noSound"!==e?(a.importantImSoundAudio=new Audio("/resources/sounds/notifs/"+a.importantImSound+a.audioFileType),a.importantImSoundAudioSecondary=new Audio("/resources/sounds/notifs/"+a.importantImSound+a.audioFileType)):(a.importantImSoundAudio=null,a.importantImSoundAudioSecondary=null)},a.setEmergencyImSound=function(e){t.info("[ringingService] setEmergencyImSound to "+e),a.emergencyImSound=e,o.a.setSetting("emergencyImSound",e),s.a.userContact.customData.emergencyImSound=e,s.a.updateUserContact({customData:s.a.userContact.customData}),"noSound"!==e?(a.emergencyImSoundAudio=new Audio("/resources/sounds/notifs/"+a.emergencyImSound+a.audioFileType),a.emergencyImSoundAudioSecondary=new Audio("/resources/sounds/notifs/"+a.emergencyImSound+a.audioFileType)):(a.emergencyImSoundAudio=null,a.emergencyImSoundAudioSecondary=null)},a.stopUrgencyNotif=function(){t.info("[ringingService] stopUrgencyNotif"),a.emergencyImSoundAudio&&(a.emergencyImSoundAudio.pause(),a.emergencyImSoundAudio=null),a.emergencyImSoundAudioSecondary&&(a.emergencyImSoundAudioSecondary.pause(),a.emergencyImSoundAudioSecondary=null)},a.playCustomNotif=function(e){if(a.stopWebrtcSounds)return void t.info("[ringingService] playImNotif is blocked ...");let n,r;if("std"===e||"high"===e&&!s.a.userContact.alertNotificationEnabledForMyCompany)a.playImNotif();else{switch(e){case"low":n=a.informationImSoundAudio,r=a.informationImSoundAudioSecondary;break;case"middle":n=a.importantImSoundAudio,r=a.importantImSoundAudioSecondary;break;case"high":a.emergencyImSoundAudio&&a.emergencyImSoundAudio.pause(),a.emergencyImSoundAudio=new Audio("/resources/sounds/notifs/"+a.emergencyImSound+a.audioFileType),a.emergencyImSoundAudio.currentTime=0,l.a.isFeatureEnabled(l.a.FeaturesEnum.ALERT_NOTIFICATIONS_ALLOWED)&&(a.emergencyImSoundAudio.loop=!0),n=a.emergencyImSoundAudio,r=a.emergencyImSoundAudioSecondary;break;default:return void a.playImNotif()}i.allowDevicesManagement()?("true"===i.getSecondRingerStatusFromSettings()&&i.getRingingSpeaker().then((function(e){e&&i.setSpeakerForElement(r,e.id).then((function(){r.play()}))})),i.getCurrentSpeaker().then((function(e){e?i.setSpeakerForElement(n,e.id).then((function(){n.play()})):n.play()}))):n.play()}},a.play=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e||!e.audio)return void t.warn("[ringingService] play tone is missing -- return");if(n||(n=0),4!==e.audio.readyState){if(n<3)return t.warn("[ringingService] play tone for id "+e.id+" is not ready -- retry in 1 sec"),void r((function(e,t){t+=1,a.play(e,t)}),1e3,1,!0,e,n);if("incomingRingingTone"===e.id){t.warn("[ringingService] play tone for id "+e.id+" does not load.. try another type");const n=".ogg"===a.audioFileType?".mp3":".ogg";return a.incomingRingingTone={audio:new Audio("/resources/sounds/alarms/"+a.activeAlarm+n),starting:!1,id:"incomingRingingTone"},void a.play(a.incomingRingingTone)}if("incomingRingingSecondaryTone"===e.id){t.warn("[ringingService] play tone for id "+e.id+" does not load.. try another type");const n=".ogg"===a.audioFileType?".mp3":".ogg";return a.incomingRingingSecondaryTone={audio:new Audio("/resources/sounds/alarms/"+a.activeAlarm+n),starting:!1,id:"incomingRingingSecondaryTone"},void a.play(a.incomingRingingSecondaryTone)}t.warn("[ringingService] play tone for id "+e.id+" is not ready -- try to play it anyway")}const o=e.audio.play();o&&"function"==typeof o.finally?o.then((function(){t.info("[ringingService] play for id "+e.id+" ok")})).catch((function(n){t.error("[ringingService] play for id "+e.id+" error: "+n)})).finally((function(){e.starting=!1})):(t.info("[ringingService] (no promise) play for id "+e.id+" ok"),e.starting=!1)},a.startRingBackTone=function(e){e&&a.stopWebrtcSounds?t.info("[ringingService] startRingBackTone is blocked for webrtc calls ..."):(t.info("[ringingService] startRingBackTone ..."),a.ringbackTone&&a.ringbackTone.stopDefered&&(t.info("[ringingService] startRingBackTone: cancel defered stop operation"),r.cancel(a.ringbackTone.stopDefered),a.ringbackTone.stopDefered=void 0),a.ringbackTone&&a.ringbackTone.audio&&a.ringbackTone.audio.paused&&!a.ringbackTone.starting?(t.info("[ringingService] startRingBackTone currently paused"),a.ringbackTone.starting=!0,a.ringbackTone.audio.currentTime=0,i.allowDevicesManagement()?i.getCurrentSpeaker().then((function(e){e?i.setSpeakerForElement(a.ringbackTone.audio,e.id).catch((function(){t.error("[ringingService] startRingBackTone setSpeakerForElement -- error. Play on default device")})).finally((function(){t.info("[ringingService] startRingBackTone play"),a.play(a.ringbackTone)})):(t.info("[ringingService] startRingBackTone play (no speaker)"),a.play(a.ringbackTone))})).catch((function(){t.webrtc("[ringingService] startRingBackTone getCurrentSpeaker error"),a.ringbackTone.starting=!1})):(t.info("[ringingService] startRingBackTone play (no devices management)"),a.play(a.ringbackTone))):t.info("[ringingService] startRingBackTone -- nothing to do (already starting or playing)"))},a.stopRingBackTone=function(e){if(t.debug("[ringingService] stopRingBackTone ..."),a.ringbackTone){if(a.ringbackTone.starting)return void(a.ringbackTone.stopDefered?t.debug("[ringingService] stopRingBackTone: nothing to do : stop already defered"):(e||(e=1),t.debug("[ringingService] stopRingBackTone: tone still starting: defer stop 1s later"),a.ringbackTone.stopDefered=r(a.stopRingBackToneDefered,1e3,1,!0,e)));a.ringbackTone.stopDefered=void 0,a.ringbackTone.audio&&!a.ringbackTone.audio.paused?(t.info("[ringingService] stopRingBackTone: tone is playing: stop it"),a.ringbackTone.audio.pause(),a.ringbackTone.audio.currentTime=0):t.debug("[ringingService] stopRingBackTone: nothing to do : tone is already stopped")}},a.stopRingBackToneDefered=function(e){a.ringbackTone.stopDefered=void 0,(e+=1)>=3?a.ringbackTone.audio&&(t.info("[ringingService] stopRingBackToneDefered: tone is blocked on starting, stop it"),a.ringbackTone.audio.pause(),a.ringbackTone.audio.currentTime=0,a.ringbackTone.audio.src="",a.ringbackTone.audio.src="/resources/sounds/outgoing-rings"+a.audioFileType):a.stopRingBackTone(e)},a.startIncomingRinging=function(e){e&&a.stopWebrtcSounds?t.info("[ringingService] startIncomingRinging is blocked for webrtc calls ..."):(t.info("[ringingService] startIncomingRinging ..."),a.incomingRingingTone&&a.incomingRingingTone.stopDefered&&(t.info("[ringingService] startIncomingRinging: cancel defered stop operation"),r.cancel(a.incomingRingingTone.stopDefered),a.incomingRingingTone.stopDefered=void 0),a.incomingRingingTone&&a.incomingRingingTone.audio&&a.incomingRingingTone.audio.paused&&!a.incomingRingingTone.starting?(t.info("[ringingService] startIncomingRinging currently paused"),a.incomingRingingTone.starting=!0,a.incomingRingingTone.audio.loop=!0,a.incomingRingingTone.audio.currentTime=0,i.allowDevicesManagement()?("true"===i.getSecondRingerStatusFromSettings()&&(a.incomingRingingSecondaryTone.starting=!0,a.incomingRingingSecondaryTone.audio.loop=!0,a.incomingRingingSecondaryTone.audio.currentTime=0,i.getRingingSpeaker().then((function(e){e&&i.setSpeakerForElement(a.incomingRingingSecondaryTone.audio,e.id).then((function(){t.info("[ringingService] startIncomingRinging secondary device -- play"),a.play(a.incomingRingingSecondaryTone)}))})).catch((function(){t.webrtc("[ringingService] startIncomingRinging secondary getRingingSpeaker error"),a.incomingRingingSecondaryTone.starting=!1}))),i.getCurrentSpeaker().then((function(e){e?i.setSpeakerForElement(a.incomingRingingTone.audio,e.id).catch((function(){t.error("[ringingService] startIncomingRinging setSpeakerForElement -- error. Play on default device")})).finally((function(){t.info("[ringingService] startIncomingRinging -- play"),a.play(a.incomingRingingTone)})):(t.info("[ringingService] startIncomingRinging -- play (no speaker)"),a.play(a.incomingRingingTone))})).catch((function(){t.webrtc("[ringingService] startIncomingRinging getCurrentSpeaker error"),a.incomingRingingTone.starting=!1}))):(t.info("[ringingService] startIncomingRinging -- play (no devices management)"),a.play(a.incomingRingingTone))):t.info("[ringingService] startIncomingRinging -- nothing to do (already starting or playing)"))},a.stopIncomingRinging=function(e){if(t.debug("[ringingService] stopIncomingRinging ..."),a.incomingRingingTone){if(a.incomingRingingTone.starting)return void(a.incomingRingingTone.stopDefered?t.debug("[ringingService] stopIncomingRinging: nothing to do : stop already defered"):(e||(e=1),t.debug("[ringingService] stopIncomingRinging: tone still starting: defer stop 1s later"),a.incomingRingingTone.stopDefered=r(a.stopIncomingRingingDefered,1e3,1,!0,e)));a.incomingRingingTone.stopDefered=void 0,a.incomingRingingTone.audio&&!a.incomingRingingTone.audio.paused?(t.info("[ringingService] stopIncomingRinging: tone is playing: stop it"),a.incomingRingingTone.audio.pause(),a.incomingRingingTone.audio.currentTime=0):t.debug("[ringingService] stopIncomingRinging: nothing to do : tone is already stopped")}a.incomingRingingSecondaryTone&&a.incomingRingingSecondaryTone.audio&&!a.incomingRingingSecondaryTone.audio.paused&&(t.info("[ringingService] stopIncomingRinging: secondary tone is playing: stop it"),a.incomingRingingSecondaryTone.audio.pause(),a.incomingRingingSecondaryTone.audio.currentTime=0)},a.stopIncomingRingingDefered=function(e){a.incomingRingingTone.stopDefered=void 0,(e+=1)>=3?a.incomingRingingTone.audio&&(t.info("[ringingService] stopIncomingRingingDefered: tone is blocked on starting, stop it"),a.incomingRingingTone.audio.pause(),a.incomingRingingTone.audio.currentTime=0,a.incomingRingingTone.audio.src="",a.incomingRingingTone.audio.src="/resources/sounds/alarms/"+a.activeAlarm+a.audioFileType):a.stopIncomingRinging(e)},a.playImNotif=function(){a.stopWebrtcSounds?t.info("[ringingService] playImNotif is blocked ..."):"busy"!==s.a.userContact.status||"audio"!==s.a.userContact.message&&"video"!==s.a.userContact.message&&"sharing"!==s.a.userContact.message&&"presentation"!==s.a.userContact.message?o.a.getSetting("imSound")&&a.pingAudio&&(t.info("[ringingService] playImNotif"),a.pingAudio.currentTime=0,a.pingAudioSecondary.currentTime=0,i.allowDevicesManagement()?("true"===i.getSecondRingerStatusFromSettings()&&i.getRingingSpeaker().then((function(e){e&&i.setSpeakerForElement(a.pingAudioSecondary,e.id).then((function(){a.pingAudioSecondary.play()}))})),i.getCurrentSpeaker().then((function(e){e?i.setSpeakerForElement(a.pingAudio,e.id).then((function(){a.pingAudio.play()})):a.pingAudio.play()}))):a.pingAudio.play()):t.info("[ringingService] playImNotif aborted due to communication Activity")},a.playRecordTone=function(){t.info("[ringingService] playRecordTone"),a.recordTone.currentTime=0,i.allowDevicesManagement()?i.getCurrentSpeaker().then((function(e){e?i.setSpeakerForElement(a.recordTone,e.id).then((function(){a.recordTone.play()})):a.recordTone.play()})):a.recordTone.play()},a.playSecondCallTone=function(){t.info("[ringingService] playSecondCallTone"),a.SecondCallTone.currentTime=0,i.allowDevicesManagement()?i.getCurrentSpeaker().then((function(e){e?i.setSpeakerForElement(a.SecondCallTone,e.id).then((function(){a.SecondCallTone.play()})):a.SecondCallTone.play()})):a.SecondCallTone.play()},a.playWebConferenceJoinNotif=function(){t.info("[ringingService] playWebConferenceJoinNotif"),a.joinWebConfTone&&"true"===o.a.getSetting("joinSfuSound")&&(a.joinWebConfTone.currentTime=0,i.allowDevicesManagement()?i.getCurrentSpeaker().then((function(e){e?i.setSpeakerForElement(a.joinWebConfTone,e.id).then((function(){a.joinWebConfTone.play()})):a.joinWebConfTone.play()})):a.joinWebConfTone.play())},a.playHoldTone=function(){t.info("[ringingService] playHoldTone..."),a.holdTone&&a.holdTone.stopDefered&&(t.info("[ringingService] playHoldTone: cancel defered stop operation"),r.cancel(a.holdTone.stopDefered),a.holdTone.stopDefered=void 0),a.holdTone&&a.holdTone.audio&&a.holdTone.audio.paused&&!a.holdTone.starting?(a.holdTone.starting=!0,a.holdTone.audio.currentTime=0,i.allowDevicesManagement()?i.getCurrentSpeaker().then((function(e){e?i.setSpeakerForElement(a.holdTone.audio,e.id).catch((function(){t.error("[ringingService] playHoldTone setSpeakerForElement -- error. Play on default device")})).finally((function(){t.info("[ringingService] playHoldTone play"),a.play(a.holdTone)})):(t.info("[ringingService] playHoldTone play (no speaker)"),a.play(a.holdTone))})).catch((function(){t.webrtc("[ringingService] playHoldTone getCurrentSpeaker error"),a.holdTone.starting=!1})):(t.info("[ringingService] playHoldTone play (no devices management)"),a.play(a.holdTone))):t.info("[ringingService] playHoldTone -- nothing to do (already starting or playing)")},a.stopHoldTone=function(){if(t.debug("[ringingService] stopHoldTone ..."),a.holdTone){if(a.holdTone.starting)return void(a.holdTone.stopDefered?t.debug("[ringingService] stopHoldTone: nothing to do : stop already defered"):(t.debug("[ringingService] stopHoldTone: tone still starting: defer stop 1s later"),a.holdTone.stopDefered=r(a.stopHoldToneDefered,1e3,1)));a.holdTone.stopDefered=void 0,a.holdTone.audio&&!a.holdTone.audio.paused?(t.info("[ringingService] stopHoldTone: tone is playing: stop it"),a.holdTone.audio.pause(),a.holdTone.audio.currentTime=0):t.debug("[ringingService] stopHoldTone: nothing to do : tone is already stopped")}},a.stopHoldToneDefered=function(){a.holdTone.stopDefered=void 0,a.stopHoldTone()},a.playActivatePtT=function(){a.pushToTalkActivateTone&&s.a.userContact.customData.enablePushToTalkTone&&(a.pushToTalkActivateTone.currentTime=0,i.allowDevicesManagement()?i.getCurrentSpeaker().then((function(e){e?i.setSpeakerForElement(a.pushToTalkActivateTone,e.id).then((function(){a.pushToTalkActivateTone.play()})):a.pushToTalkActivateTone.play()})):a.pushToTalkActivateTone.play())},a.playDeactivatePtT=function(){a.pushToTalkDeactivateTone&&s.a.userContact.customData.enablePushToTalkTone&&(a.pushToTalkDeactivateTone.currentTime=0,i.allowDevicesManagement()?i.getCurrentSpeaker().then((function(e){e?i.setSpeakerForElement(a.pushToTalkDeactivateTone,e.id).then((function(){a.pushToTalkDeactivateTone.play()})):a.pushToTalkDeactivateTone.play()})):a.pushToTalkDeactivateTone.play())}}])},function(e,t,n){n.r(t);var r=n(1),o=n(3),i=n.n(o),s=n(15),a=n.n(s),l=n(2),c=n.n(l);angular.module("rainbow").service("telephonyServiceSipWise",["$q","$interval","$http","$rootScope","$log","errorHelperService","$injector",function(e,t,n,o,s,l,u){var d=this;d.portalURL=config.restServerUrl+"/api/rainbow/voice/v1.0/",d.portalAdminURL=config.restServerUrl+"/api/rainbow/rvcpprovisioning/v1.0/",d.sipWiseRoutingObject={sipWiseDevicesList:[],ringingDestinations:[],alsoOfficePhoneRingEnabled:!0},d.resetSipWiseRoutingObject=function(){d.sipWiseRoutingObject={sipWiseDevicesList:[],ringingDestinations:[],alsoOfficePhoneRingEnabled:!0}},d.getPortalURLSipWise=function(){return d.portalURL},d.resetDevicesListSipWise=function(){d.sipWiseDevicesList=[]},d.getDevicesListSipWise=function(){return d.sipWiseRoutingObject.sipWiseDevicesList.length<1&&s.info("[telephonyServiceSipWise] getDevicesListSipWise : Anomaly API getUserDevices not yet performed"),d.sipWiseRoutingObject.sipWiseDevicesList},d.getDeviceTypeFromDeviceId=function(e){var t="";(!e||d.sipWiseRoutingObject.sipWiseDevicesList.length<1)&&s.info("[telephonyServiceSipWise] getDevicesListSipWise : Anomaly devices");const n=d.sipWiseRoutingObject.sipWiseDevicesList.findIndex(t=>t.deviceId===e);return-1!==n&&(t=d.sipWiseRoutingObject.sipWiseDevicesList[n].type),t},d.getDevicesIdFromListSipWiseWithType=function(e){if(d.sipWiseRoutingObject.sipWiseDevicesList.length<1)return s.info("[telephonyServiceSipWise] getDevicesIdFromListSipWiseWithType : Anomaly API getUserDevices not yet performed"),null;if("sip"!==e&&"webrtc"!==e&&"generic"!==e)return s.info("[telephonyServiceSipWise] getDevicesIdFromListSipWiseWithType : Anomaly wrong device type"),null;const t=d.sipWiseRoutingObject.sipWiseDevicesList.findIndex(t=>t.type===e);return-1!==t?d.sipWiseRoutingObject.sipWiseDevicesList[t].deviceId:(s.info("[telephonyServiceSipWise] getDevicesIdFromListSipWiseWithType : device type "+e+" not found"),null)},d.getCurrentFromDevicesListSipWise=function(){if(d.sipWiseRoutingObject.sipWiseDevicesList.length<1)return s.info("[telephonyServiceSipWise] getCurrentFromDevicesListSipWise : Anomaly API getUserDevices not yet performed"),null;const e=d.sipWiseRoutingObject.sipWiseDevicesList.findIndex(e=>e.main);return-1!==e&&"outOfService"!==d.sipWiseRoutingObject.sipWiseDevicesList[e].state?d.sipWiseRoutingObject.sipWiseDevicesList[e]:(s.info("[telephonyServiceSipWise] getCurrentFromDevicesListSipWise anomaly - no current/main device"),null)},d.setCurrentDevicesListSipWise=function(e){var t=d.sipWiseRoutingObject.sipWiseDevicesList.findIndex(t=>t.deviceId===e);return-1!==t&&t<d.sipWiseRoutingObject.sipWiseDevicesList.length?(s.info("[telephonyServiceSipWise] setCurrentDevicesListSipWise for device: "+d.sipWiseRoutingObject.sipWiseDevicesList[t].deviceId+" / type : "+d.sipWiseRoutingObject.sipWiseDevicesList[t].type),"outOfService"===d.sipWiseRoutingObject.sipWiseDevicesList[t].state&&(new Error("Anomaly setCurrentDevicesListSipWise - current device outOfService"),s.error("[telephonyServiceSipWise] setCurrentDevicesListSipWise anomaly - current device outOfService")),d.sipWiseRoutingObject.sipWiseDevicesList.forEach(e=>e.main=!1),d.sipWiseRoutingObject.sipWiseDevicesList[t].main=!0,!0):(new Error("Anomaly setCurrentDevicesListSipWise - current device not found"),s.error("[telephonyServiceSipWise] setCurrentDevicesListSipWise anomaly - current device not found / for device "+current),!1)},d.setRingingDeviceSipWise=function(e){var t=[];if(!d.getCurrentFromDevicesListSipWise()||!e)return s.info("[telephonyServiceSipWise] setRingingDeviceSipWise : Anomaly no current device"),null;var n=d.getDevicesIdFromListSipWiseWithType("webrtc");if(!n)return s.info("[telephonyServiceSipWise] setRingingDeviceSipWise : Anomaly no webrtc device"),null;t.push(n);var r=d.getDevicesIdFromListSipWiseWithType("sip");return r&&e===r&&t.push(r),t},d.putUserRoutingInfo=function(t,r,a){return e((function(e,c){if(s.info("[telephonyServiceSipWise] putUserRoutingInfo : currentId = "+r+" destinations = "+a),!r&&!a){const e=new Error("set routing failure - missing para");return s.error("[telephonyServiceSipWise] putUserRoutingInfo anomaly: missing para"),void c(e)}var u={};if(r){const e=d.sipWiseRoutingObject.sipWiseDevicesList.findIndex(e=>e.deviceId===r);if(-1!==e){if(s.info("[telephonyServiceSipWise] putUserRoutingInfo found device with state : "+d.sipWiseRoutingObject.sipWiseDevicesList[e].state),"inService"!==d.sipWiseRoutingObject.sipWiseDevicesList[e].state){var f=new Error("Anomaly putUserRoutingInfo - current device outOfService");s.error("[telephonyServiceSipWise] putUserRoutingInfo anomaly - current device outOfService"),c(f)}u.currentDeviceId=r}else f=new Error("Anomaly putUserRoutingInfo - current device not found"),s.error("[telephonyServiceSipWise] putUserRoutingInfo anomaly - current device not found"),c(f)}if(a&&a.length>=1)u.destinations=a;else{var _=d.setRingingDeviceSipWise(r);_&&_.length>=1&&(u.destinations=_)}const h=d.portalURL+"routing";s.info("[telephonyServiceSipWise] putUserRoutingInfo PUT "+h),s.info("[telephonyServiceSipWise] putUserRoutingInfo data: "+JSON.stringify(u)),n({method:"PUT",url:h,headers:i.a.getRequestHeader(),data:u}).then((function(n){s.info("[telephonyServiceSipWise] putUserRoutingInfo success : "),r&&d.setCurrentDevicesListSipWise(r),d.patchNomadicData(t),o.$broadcast("ON_SIPWISE_ROUTING_EVENT",d.getCurrentFromDevicesListSipWise().type,d.sipWiseRoutingObject),e()}),(function(e){var t=l.handleError(e);s.error("[telephonyServiceSipWise] "+l.getErrorFullMessage(e,"putUserRoutingInfo")),c(t)}))}))},d.getUserRoutingInfo=function(t){return e((function(e,r){if(s.info("[telephonyServiceSipWise] getUserRoutingInfo"),d.sipWiseRoutingObject.sipWiseDevicesList.length<1)return s.info("[telephonyServiceSipWise] getUserRoutingInfo : sipWise devices not yet avalaible"),r();var a=d.portalURL+"routing";s.info("[telephonyServiceSipWise] routing GET "+a),n({method:"GET",url:a,headers:i.a.getRequestHeader()}).then((function(n){var i=n.data.data;s.info("[telephonyServiceSipWise] getUserRoutingInfo success / status : "+n.statusText);var a=i.currentDeviceId,l=i.destinations;if(a){var c=d.sipWiseRoutingObject.sipWiseDevicesList.findIndex(e=>e.deviceId===a);if(-1!==c)if("outOfService"===d.sipWiseRoutingObject.sipWiseDevicesList[c].state){var u=new Error("Anomaly getUserRoutingInfo - current device outOfService");s.error("[telephonyServiceSipWise] getUserRoutingInfo anomaly - current device outOfService"),r(u)}else s.info("[telephonyServiceSipWise] getUserRoutingInfo current : "+a+" type = "+d.sipWiseRoutingObject.sipWiseDevicesList[c].type),d.setCurrentDevicesListSipWise(a)||r(u);else u=new Error("Anomaly getUserRoutingInfo - current device not found"),s.error("[telephonyServiceSipWise] getUserRoutingInfo anomaly - current not found"),r(u)}else u=new Error("Anomaly getUserRoutingInfo - no current device"),s.error("[telephonyServiceSipWise] getUserRoutingInfo anomaly - no current device"),r(u);l?(d.sipWiseRoutingObject.ringingDestinations=l,s.info("[telephonyServiceSipWise] getUserRoutingInfo  / ringing destinations nb  = "+l.length),d.sipWiseRoutingObject.alsoOfficePhoneRingEnabled=-1!==d.sipWiseRoutingObject.ringingDestinations.findIndex(e=>"sip"===e.type)):(u=new Error("Anomaly getUserRoutingInfo - no destination"),s.error("[telephonyServiceSipWise] getUserRoutingInfo anomaly - no destination "),r(u)),d.patchNomadicData(t),o.$broadcast("ON_SIPWISE_ROUTING_EVENT",d.getCurrentFromDevicesListSipWise().type,d.sipWiseRoutingObject),e()}),(function(e){var t=l.handleError(e);s.error("[telephonyServiceSipWise] "+l.getErrorFullMessage(e,"routing")),r(t)}))}))},d.patchNomadicData=function(e){var t=d.getCurrentFromDevicesListSipWise();if(s.info("[telephonyServiceSipWise] patchNomadicData current type =  "+t.type),t&&"webrtc"===t.type){var n=u.get("webrtcGatewayService");e.nomadicObject.destination=n.getMyMediaPillarRemoteExtension(),n.isMediaPillarAvailable()?(e.nomadicObject.featureActivated=!0,e.nomadicObject.modeActivated=!0,e.nomadicObject.makeCallInitiatorIsMain=!1):(e.nomadicObject.featureActivated=!0,e.nomadicObject.modeActivated=!1,e.nomadicObject.makeCallInitiatorIsMain=!1)}else e.nomadicObject={},e.nomadicObject.destination="",e.nomadicObject.featureActivated=!0,e.nomadicObject.modeActivated=!1,e.nomadicObject.makeCallInitiatorIsMain=!0;s.info("[telephonyServiceSipWise] patchNomadicData nomadicObject (desti/modeAct/CallIsMain) = "+e.nomadicObject.destination+"/"+e.nomadicObject.modeActivated+"/"+e.nomadicObject.makeCallInitiatorIsMain),o.$broadcast("ON_CALL_NOMADIC_EVENT",e.nomadicObject)},d.getUserDevices=function(t){return e((function(e,t){s.info("[telephonyServiceSipWise] getUserDevices");var r=d.portalURL+"devices";s.info("[telephonyServiceSipWise] devices GET "+r),n({method:"GET",url:r,headers:i.a.getRequestHeader()}).then((function(n){var r=n.data;if(s.info("[telephonyServiceSipWise] getUserDevices success / status : "+n.statusText),r.forEach((function(e){var t={type:e.type,id:e.id,deviceId:e.deviceId,jid_wrg:"",extension:"",state:"",main:!1};"webrtc"===e.type?(t.main=!1,t.jid_wrg=e.jid_wrg,d.sipWiseRoutingObject.sipWiseDevicesList.unshift(t)):d.sipWiseRoutingObject.sipWiseDevicesList.push(t),s.info("[telephonyServiceSipWise] getUserDevices : deviceId = "+e.deviceId+" type = "+e.type)})),d.sipWiseRoutingObject.sipWiseDevicesList.length>=1)s.info("[telephonyServiceSipWise] getUserDevices  : "+d.sipWiseRoutingObject.sipWiseDevicesList.length+" device(s)"),"webrtc"!==d.sipWiseRoutingObject.sipWiseDevicesList[0].type&&s.error("[telephonyServiceSipWise] getUserDevices anomaly - no webrtc device"),e();else{var o=new Error("Anomaly getUserDevices - no device");s.error("[telephonyServiceSipWise] getUserDevices anomaly - no device"),t(o)}}),(function(e){var n=l.handleError(e);s.error("[telephonyServiceSipWise] "+l.getErrorFullMessage(e,"devices")),t(n)}))}))},d.getUserGroups=function(t){return e((function(e,r){s.info("[telephonyServiceSipWise] getUserGroups");var o=d.portalURL+"groups";s.info("[telephonyServiceSipWise] groups GET "+o),n({method:"GET",url:o,headers:i.a.getRequestHeader()}).then((function(n){var r=n.data;s.info("[telephonyServiceSipWise] getUserGroups success / status : "+n.statusText),t.sipWiseUserGroupsDataClear(),r.data.length>0&&r.data.forEach((function(e){if(t.sipWiseUserGroupsData.sipWiseUserGroupsList.push(e),""===t.sipWiseUserGroupsData.myMemberId){var n=e.members.find(e=>e.memberId===c.a.userContact.dbId);n&&(t.sipWiseUserGroupsData.myMemberId=n.memberId)}if("hunting_group"===e.type&&t.sipWiseUserGroupsData.huntingGroupNb++,"manager_assistant"===e.type)if(t.sipWiseUserGroupsData.managerAssistantNb++,1===t.sipWiseUserGroupsData.managerAssistantNb){var r=e.members.find(e=>"manager"===e.roles[0]);r?(t.sipWiseUserGroupsData.managerAssistGrId=e.id,t.sipWiseUserGroupsData.managerId=r.memberId,t.sipWiseUserGroupsData.managerName=r.displayName,t.sipWiseUserGroupsData.managerStatus=r.status):s.info("[telephonyServiceSipWise] getUserGroups for groupId : "+e.id+" Anomaly not 1 only manager");var o=e.members.find(e=>"assistant"===e.roles[0]);o?(t.sipWiseUserGroupsData.assistantId=o.memberId,t.sipWiseUserGroupsData.assistantName=o.displayName,t.sipWiseUserGroupsData.assistantStatus=o.status):s.info("[telephonyServiceSipWise] getUserGroups for groupId : "+e.id+" Anomaly not 1 only assistant")}else s.info("[telephonyServiceSipWise] getUserGroups : Anomaly not a 1:1 mng/ass situation")})),t.sipWiseUserGroupsData.sipWiseUserGroupsList.length>=1?s.info("[telephonyServiceSipWise] getUserGroups  : "+t.sipWiseUserGroupsData.sipWiseUserGroupsList.length+" user's group(s)"):s.info("[telephonyServiceSipWise] getUserGroups  : no group"),e()}),(function(e){var t=l.handleError(e);s.error("[telephonyServiceSipWise] "+l.getErrorFullMessage(e,"groups")),r(t)}))}))},d.joinGroup=function(t,r){return e((function(e,o){s.info("[telephonyServiceSipWise] joinGroup for groupId : "+r);var a="",c=-1;if(r?0===t.sipWiseUserGroupsData.sipWiseUserGroupsList.length?a="no group":-1===(c=t.sipWiseUserGroupsData.sipWiseUserGroupsList.findIndex(e=>e.id===r))&&(a="group not found"):a="missing groupId",""!==a){var u=new Error("join group failure - "+a);return s.error("[telephonyServiceSipWise] join group anomaly:"+a),void o(u)}var f=d.portalURL+"groups/"+encodeURIComponent(r)+"/join";s.info("[telephonyServiceSipWise] joinGroup POST "+f),n({method:"POST",url:f,headers:i.a.getRequestHeader()}).then((function(n){s.info("[telephonyServiceSipWise] joinGroup success / status : "+n.statusText);var r=n.data.data;-1!==(c=t.sipWiseUserGroupsData.sipWiseUserGroupsList.findIndex(e=>e.id===r.id))?t.sipWiseUserGroupsData.sipWiseUserGroupsList.splice(c,1,r):s.info("[telephonyServiceSipWise] joinGroup  : anomaly group not present in local struct"),e()}),(function(e){var t=l.handleError(e);o(t),s.error("[telephonyServiceSipWise] "+l.getErrorFullMessage(e,"joinGroup"))}))}))},d.leaveGroup=function(t,r){return e((function(e,o){s.info("[telephonyServiceSipWise] leaveGroup for groupId : "+r);var a="",c=-1;if(r?0===t.sipWiseUserGroupsData.sipWiseUserGroupsList.length?a="no group":-1===(c=t.sipWiseUserGroupsData.sipWiseUserGroupsList.findIndex(e=>e.id===r))&&(a="group not found"):a="missing groupId",""!==a){var u=new Error("leave group failure - "+a);return s.error("[telephonyServiceSipWise] leave group anomaly:"+a),void o(u)}var f=d.portalURL+"groups/"+encodeURIComponent(r)+"/leave";s.info("[telephonyServiceSipWise] leaveGroup POST "+f),n({method:"POST",url:f,headers:i.a.getRequestHeader()}).then((function(n){s.info("[telephonyServiceSipWise] leave group success / status : "+n.statusText);var r=n.data.data;-1!==(c=t.sipWiseUserGroupsData.sipWiseUserGroupsList.findIndex(e=>e.id===r.id))?t.sipWiseUserGroupsData.sipWiseUserGroupsList.splice(c,1,r):s.info("[telephonyServiceSipWise] joinGroup  : anomaly group not present in local struct"),e()}),(function(e){var t=l.handleError(e);o(t),s.error("[telephonyServiceSipWise] "+l.getErrorFullMessage(e,"leaveGroup"))}))}))},d.joinAllGroups=function(t){return e((function(e,r){s.info("[telephonyServiceSipWise] joinAllGroups");var o="";if(0===t.sipWiseUserGroupsData.sipWiseUserGroupsList.length&&(o="no group"),""!==o){var a=new Error("joinAllGroups failure - "+o);return s.error("[telephonyServiceSipWise] join all groups anomaly:"+o),void r(a)}var c=d.portalURL+"groups/join";s.info("[telephonyServiceSipWise] joinAllGroups POST "+c),n({method:"POST",url:c,headers:i.a.getRequestHeader()}).then((function(n){s.info("[telephonyServiceSipWise] joinAllGroups success / status : "+n.statusText),n.data.data.forEach((function(e){var n=t.sipWiseUserGroupsData.sipWiseUserGroupsList.findIndex(t=>t.id===e.id);-1!==n?t.sipWiseUserGroupsData.sipWiseUserGroupsList.splice(n,1,e):s.info("[telephonyServiceSipWise] joinAllGroups  : anomaly group not present in local struct")})),e()}),(function(e){var t=l.handleError(e);r(t),s.error("[telephonyServiceSipWise] "+l.getErrorFullMessage(e,"joinAllGroups"))}))}))},d.leaveAllGroups=function(t){return e((function(e,r){s.info("[telephonyServiceSipWise] leaveAllGroups");var o="";if(0===t.sipWiseUserGroupsData.sipWiseUserGroupsList.length&&(o="no group"),""!==o){var a=new Error("leaveAllGroups failure - "+o);return s.error("[telephonyServiceSipWise] leave all groups anomaly:"+o),void r(a)}var c=d.portalURL+"groups/leave";s.info("[telephonyServiceSipWise] leaveAllGroups POST "+c),n({method:"POST",url:c,headers:i.a.getRequestHeader()}).then((function(n){s.info("[telephonyServiceSipWise] leaveAllGroups success / status : "+n.statusText),n.data.data.forEach((function(e){var n=t.sipWiseUserGroupsData.sipWiseUserGroupsList.findIndex(t=>t.id===e.id);-1!==n?t.sipWiseUserGroupsData.sipWiseUserGroupsList.splice(n,1,e):s.info("[telephonyServiceSipWise] leaveAllGroups  : anomaly group not present in local struct")})),e()}),(function(e){var t=l.handleError(e);r(t),s.error("[telephonyServiceSipWise] "+l.getErrorFullMessage(e,"leaveAllGroups"))}))}))},d.setUserGroupsForwards=function(t,r,o,a){return e((function(e,c){s.info("[telephonyServiceSipWise] setUserGroupsForwards for groupId : "+r);var u="";if(r?0===t.sipWiseUserGroupsData.sipWiseUserGroupsList.length&&(u="invalid groupId"):u="missing groupId",""!==u){var f=new Error("set group forward failure - "+u);return s.error("[telephonyServiceSipWise] set group forward anomaly:"+u),void c(f)}var _=d.portalURL+"groups/"+encodeURIComponent(r)+"/forwards/"+encodeURIComponent(o),h=a;s.info("[telephonyServiceSipWise] setUserGroupsForwards PUT "+_),s.info("[telephonyServiceSipWise] setUserGroupsForwards data: "+JSON.stringify(h)),n({method:"PUT",url:_,headers:i.a.getRequestHeader(),data:h}).then((function(t){s.info("[telephonyServiceSipWise] setUserGroupsForwards success / status : "+t.statusText),e()}),(function(e){var t=l.handleError(e);c(t),s.error("[telephonyServiceSipWise] "+l.getErrorFullMessage(e,"setUserGroupsForwards"))}))}))},d.getUserGroupsForwards=function(t,r){return e((function(e,o){s.info("[telephonyServiceSipWise] getUserGroupsForwards for groupId : "+r);var a="";if(r?0===t.sipWiseUserGroupsData.sipWiseUserGroupsList.length&&(a="invalid groupId"):a="missing groupId",""!==a){var c=new Error("get group forward failure - "+a);return s.error("[telephonyServiceSipWise] get group forward anomaly:"+a),void o(c)}var u=d.portalURL+"groups/"+encodeURIComponent(r)+"/forwards";s.info("[telephonyServiceSipWise] getUserGroupsForwards GET "+u),n({method:"GET",url:u,headers:i.a.getRequestHeader()}).then((function(n){var i=n.data.data,a=t.sipWiseUserGroupsData.sipWiseUserGroupsList.find(e=>e.id===r);if(a.name!==i.name){s.info("[telephonyServiceSipWise] getUserGroupsForwards Anomaly group name : "+a.name+" VS "+i.name);var c=l.handleError(n);return o(c),void s.error("[telephonyServiceSipWise] "+l.getErrorFullMessage(n,"getUserGroupsForwards"))}if(a.forwardData=i,r===t.sipWiseUserGroupsData.managerAssistGrId)if(t.sipWiseUserGroupsData.managerAssistantNb>1)s.info("[telephonyServiceSipWise] getUserGroupsForwards : Anomaly not a 1:1 mng/ass situation");else{var u="unknow",d=i.members.find(e=>e.memberId===t.sipWiseUserGroupsData.managerId);if(d&&d.displayName===t.sipWiseUserGroupsData.managerName){var f=d.forwards.find(e=>"immediate"===e.type);u=f&&f.activate&&"managersecretary"===f.destinationType?"activated":"unactivated"}else s.info("[telephonyServiceSipWise] getUserGroupsForwards : Anomaly manager forward status");t.sipWiseUserGroupsData.managerForward=u}s.info("[telephonyServiceSipWise] getUserGroupsForwards success / status : "+n.statusText),e()}),(function(e){var t=l.handleError(e);o(t),s.error("[telephonyServiceSipWise] "+l.getErrorFullMessage(e,"getUserGroupsForwards"))}))}))},d.getAllUserGroupsForwards=function(t){return e((function(n,r){s.info("[telephonyServiceSipWise] getAllUserGroupsForwards");var o=[];return 0===t.sipWiseUserGroupsData.sipWiseUserGroupsList.length?(s.info("[telephonyServiceSipWise] getAllUserGroupsForwards / no group"),n()):(t.sipWiseUserGroupsData.sipWiseUserGroupsList.forEach((function(e){"manager_assistant"===e.type&&o.push(d.getUserGroupsForwards(t,e.id))})),0===o.length?(s.info("[telephonyServiceSipWise] getAllUserGroupsForwards / no manager assistant group"),n()):e.all(o).then((function(){s.info("[telephonyServiceSipWise] getAllUserGroupsForwards -- group forward completed -- "+o.length+" group(s) forward updated"),n()})).catch((function(e){s.error("[telephonyServiceSipWise] getAllUserGroupsForwards -- group forward failure -- "+e.message),r(e)})))}))},d.getSnapshot=function(t,r,o){return e((function(e,a){s.info("[telephonyServiceSipWise] getSnapshot");var c=[];t&&(s.info("[telephonyServiceSipWise] snapshot with callId "+t.id),c.push("callId="+t.id)),r&&(s.info("[telephonyServiceSipWise] snapshot with deviceId "+r),c.push("deviceId="+r)),o&&(s.info("[telephonyServiceSipWise] snapshot with seqNum "+o),c.push("seqNum="+o));var u="";c.length>=1&&(u="?"+c.join("&"));var f=d.portalURL+"snapshot"+u;s.info("[telephonyServiceSipWise] snapshot GET "+f),n({method:"GET",url:f,headers:i.a.getRequestHeader()}).then((function(t){var n=t.data.data;s.info("[telephonyServiceSipWise] getSnapshot success / status : "+t.statusText),e(n)}),(function(e){var t=l.handleError(e);s.error("[telephonyServiceSipWise] "+l.getErrorFullMessage(e,"snapshot")),a(t)}))}))},d.processSnapshot=function(t){return e((function(n,r){s.info("[telephonyServiceSipWise] processSnapshot");var o=0;d.getSnapshot().then((function(i){try{i&&i.devices?i.devices.forEach((function(e){d.sipWiseRoutingObject.sipWiseDevicesList.find(t=>t.deviceId===e.deviceId).state=e.state,s.info("[telephonyServiceSipWise] processSnapshot / devicesId="+e.deviceId+"; state="+e.state),d.sipWiseRoutingObject.sipWiseDevicesList.find(t=>t.deviceId===e.deviceId).state="inService"})):s.error("[telephonyServiceSipWise] processSnapshot / anomaly no device ");var a=[];return i&&i.calls?i.calls.length>5?(s.error("[telephonyServiceSipWise] processSnapshot / anomaly to much calls : "+i.calls.length),n()):(i.calls.forEach((function(e){"ringingIn"===e.legs[0].state&&++o>=4&&s.info("[telephonyServiceSipWise] processSnapshot / anomaly to much ringingIn calls : "+o),o<4&&a.push(d.createCallFromSnapShotCallsElt(t,e))})),0===a.length?(s.info("[telephonyServiceSipWise] processSnapshot / anomaly no call created"),n()):e.all(a).then((function(){s.info("[telephonyServiceSipWise] processSnapshot -- calls creation completed -- "+a.length+" calls created"),n()})).catch((function(e){s.error("[telephonyServiceSipWise] processSnapshot -- calls creation failure -- "+e.message),r(e)}))):(s.info("[telephonyServiceSipWise] processSnapshot / no call elt"),n())}catch(c){var l=" processSnapshot -- "+c.message;r(new Error(l))}}),(function(e){s.info("[telephonyServiceSipWise] processSnapshot / getSnapshot error : "+e),r(e)}))}))},d.createCallFromSnapShotCallsElt=function(t,n){return e((function(r,i){var a=null;s.info("[telephonyServiceSipWise] createCallFromSnapShotCallsElt - callId = "+n.callId);var l=null,u=null,f=null,_=null,h=null,p=null,m=null,g=null;if(!n.legs)return b="createCallFromSnapShotCallsElt -- Anomaly no leg",s.error("[telephonyServiceSipWise] "+b),e.when();var v=d.getCurrentFromDevicesListSipWise();if(null===v){var b="createCallFromSnapShotCallsElt -- Anomaly no current device";s.error("[telephonyServiceSipWise] "+b),l=n.legs[0]}else(l=n.legs.find(e=>e.deviceId===v.id))||(l=n.legs[0]);return u=l.legId?l.legId:null,f=l.deviceId?l.deviceId:null,_=t.telephonyEventHandler.convLegStateToCallStatus(l.state),s.info("[telephonyServiceSipWise] createCallFromSnapShotCallsElt - legId = "+u+" deviceId = "+f+" leg_state = "+l.state),n.endpoints?((h=n.endpoints[0]).endpointId,p=h.phoneNumber,m=h.jid,g=h.displayName,m||p?void c.a.getOrCreateContact(m,p).then((function(e){m||e.displayName||(e.displayName=g,e.initials=g.charAt(0),e.getAvatar()),(a=t.getOrCreateCallSipWise(_,n.callId,u,f,e)).relevantEquipmentId=f,a.isSecondary=!1,o.$broadcast("ON_CALL_UPDATED_EVENT",a),r(a)})):(b="createCallFromSnapShotCallsElt -- Anomaly no jid no phoneNumber",s.error("[telephonyServiceSipWise] "+b),e.when())):(s.info("[telephonyServiceSipWise] createCallFromSnapShotCallsElt -- No endPoint provided !"),void r())}))},d.makeSimpleCallSipWise=function(c,u,f){return e((function(e,_){if(s.info("[telephonyServiceSipWise] makeSimpleCall to "+(u?u.nameForLogs:a()(f))),!c.isBasicCallAllowed){var h=new Error("makeSimpleCallSipWise failure - Not Allowed");return h.status=h.errorDetailsCode="403",s.error("[telephonyServiceSipWise] "+h.message),c.makingCall=!1,void _(h)}var p=c.getPhoneInfo(u,f),m=d.getCurrentFromDevicesListSipWise();if(m)var g=m.deviceId;else g="";if((c.sipWiseEmergencyCallData.WGEmergencyCallForbidden&&m&&"webrtc"===m.type||"testemergency"===c.sipWiseMode())&&d.checkEmergencyNumberSipWise(c,f))return s.info("[telephonyServiceSipWise] makeVOIPSipemergencyCall - Not Allowed for num : "+f),c.rxSubject.next({name:"ON_EMERGENCYCALL_VOIPSIP_NOTALLOWED_EVENT",data:f}),c.makingCall=!1,void _();var v=d.portalURL+"calls",b={deviceId:g,calleeExtNumber:p.longNumber,calleeShortNumber:p.shortNumber,calleePbxId:p.pbxId,callerAutoAnswer:!0};s.info("[telephonyServiceSipWise] makeSimpleCall POST "+v),s.info("[telephonyServiceSipWise] makeSimpleCall data: "+JSON.stringify(b)),n({method:"POST",url:v,headers:i.a.getRequestHeader(),data:b}).then((function(n){var i=n.data.data.callId;if(s.info("[telephonyServiceSipWise] makeSimpleCall success : callee "+a()(f)+" / callId = "+i),!i||""===i){var d;(d=r.Call.create(r.Call.Status.ERROR,null,r.Call.Type.PHONE,u)).errorMessage="unexpectedError",c.calls[d.contact.id]=d,d.autoClear=t((function(){c.clearCall(d)}),5e3,1),c.makingCall=!1,o.$broadcast("ON_CALL_UPDATED_EVENT",d);var h=l.handleError(n);return s.error("[telephonyServiceSipWise] "+l.getErrorFullMessage(n,"makeCall")),void _(h)}(d=c.getOrCreateCallSipWise(r.Call.Status.DIALING,i,null,null,u)).setRelevantEquipmentId(d.getDeviceIdSipWise()),d.isOwner=!0,s.info("[telephonyServiceSipWise] makeSimpleCall Call created ("+d+")"),c.makingCall=!1,d.setIsVm(f===c.voicemailNumber),d.autoClear=t((function(){s.info("[telephonyServiceSipWise] keepAlive CallReset ("+d+")"),c.clearCall(d)}),1e4,1),o.$broadcast("ON_CALL_UPDATED_EVENT",d),e(d.id)}),(function(e){var n=r.Call.create(r.Call.Status.ERROR,null,r.Call.Type.PHONE,u);n.errorMessage=e&&"403"===e.errorDetailsCode?"notAllowed":"invalidPhoneNumber",c.calls[n.contact.id]=n,n.autoClear=t((function(){c.clearCall(n)}),5e3,1),c.makingCall=!1,n.publish("ON_CALL_UPDATED_EVENT"),o.$broadcast("ON_CALL_UPDATED_EVENT",n);var i=l.handleError(e);s.error("[telephonyServiceSipWise] "+l.getErrorFullMessage(e,"makeCall")),_(i)}))}))},d.getPhoneInfoSipWise=function(e,t){var n=t,r="",o="";return e&&(t===e.phonePro||t===e.phoneProCan?(n=e.phoneProCan?e.phoneProCan:"",r=e.phonePbx,o=e.phoneInternalNumber):t===e.phonePbx&&(n="",r=e.phonePbx,o=e.phoneInternalNumber)),{number:""!==n?n:r||o}},d.getErrorMessage=function(e,t){return null},d.releaseCallSipWise=function(t,a){return e((function(e,c){s.info("[telephonyServiceSipWise] releaseCallSipWise "+a.id);var u=d.portalURL+"calls/"+encodeURIComponent(a.id),f={legId:a.connectionId?a.connectionId:""};s.info("[telephonyServiceSipWise] releaseCall DELETE "+u),s.info("[telephonyServiceSipWise] releaseCall data: "+JSON.stringify(f)),n({method:"DELETE",url:u,headers:i.a.getRequestHeader(),data:f}).then((function(){a.setStatus(r.Call.Status.UNKNOWN),a.startDate=null,a.vm=!1,s.info("[telephonyServiceSipWise] releaseCall "+a.id+" - success"),o.$broadcast("ON_CALL_UPDATED_EVENT",a),delete t.calls[a.id],e(a)}),(function(e){var n=l.handleError(e);d.deleteCallIfInvalid(n,a,t),c(n),s.error("[telephonyServiceSipWise] "+l.getErrorFullMessage(e,"releaseCall"))}))}))},d.deleteCallIfInvalid=function(e,t,n){e&&"voice"===e.portal&&404201===e.errorDetailsCode&&"Specified leg not found"===e.message&&t&&(s.warn("[telephonyServiceSipWise] deleteCallIfInvalid: delete client call non existing on server: "+t.id),t.setStatus(r.Call.Status.UNKNOWN),o.$broadcast("ON_CALL_UPDATED_EVENT",t),n.calls[t.id]&&delete n.calls[t.id])},d.answerCallSipWise=function(t,c){return e((function(e,t){s.info("[telephonyServiceSipWise] answerCall : "+c.id);var u=d.portalURL+"calls/"+encodeURIComponent(c.id)+"/answer",f={legId:c.connectionId};s.info("[telephonyServiceSipWise] answerCallSipWise POST "+u),s.info("[telephonyServiceSipWise] answerCallSipWise data: "+JSON.stringify(f)),n({method:"POST",url:u,headers:i.a.getRequestHeader(),data:f}).then((function(t){c.setStatus(r.Call.Status.ACTIVE),s.info("[telephonyServiceSipWise] answerCall success : "+a()(c.contact.phone)+" Call ("+c+")"),o.$broadcast("ON_CALL_UPDATED_EVENT",c),e(c)}),(function(e){s.info("[telephonyServiceSipWise] answerCall fail : error = "+e.data.errorCode+" msg = "+e.data.errorMsg+" details = "+e.data.errorDetails),e.data&&"Device is not able to answer a call"===e.data.errorDetails&&o.$broadcast("ON_OPEN_GLOBAL_POPUP",{autoClose:!1,okLabel:"close",popupTitle:"warning",popupBody:"deviceDoesntAllowAnswer"}),c.setStatus(r.Call.Status.UNKNOWN);var n=l.handleError(e);s.error("[telephonyServiceSipWise] "+l.getErrorFullMessage(e,"answerCall")),t(n)}))}))},d.holdCallSipWise=function(t,c){return e((function(e,t){s.info("[telephonyServiceSipWise] holdCallSipWise : "+c.id);var u=d.portalURL+"calls/"+encodeURIComponent(c.id)+"/hold",f={legId:c.connectionId};s.info("[telephonyServiceSipWise] holdCallSipWise POST "+u),s.info("[telephonyServiceSipWise] holdCallSipWise data: "+JSON.stringify(f)),n({method:"POST",url:u,headers:i.a.getRequestHeader(),data:f}).then((function(t){s.info("[telephonyServiceSipWise] holdCall success : "+a()(c.contact.phone)+" Call ("+c+")"),c.setStatus(r.Call.Status.HOLD),o.$broadcast("ON_CALL_UPDATED_EVENT",c),e(c)}),(function(e){var n=l.handleError(e);t(n),s.error("[telephonyServiceSipWise] "+l.getErrorFullMessage(e,"holdCall"))}))}))},d.retrieveCallSipWise=function(t,c){return e((function(e,t){s.info("[telephonyServiceSipWise] retrieveCallSipWise : "+c.id);var u=d.portalURL+"calls/"+encodeURIComponent(c.id)+"/retrieve",f={legId:c.connectionId};s.info("[telephonyServiceSipWise] retrieveCallSipWise POST "+u),s.info("[telephonyServiceSipWise] retrieveCallSipWise data: "+JSON.stringify(f)),n({method:"POST",url:u,headers:i.a.getRequestHeader(),data:f}).then((function(t){s.info("[telephonyServiceSipWise] retrieveCall success : "+a()(c.contact.phone)+" Call ("+c+")"),c.setStatus(r.Call.Status.ACTIVE),o.$broadcast("ON_CALL_UPDATED_EVENT",c),e(c)}),(function(e){var n=l.handleError(e);t(n),s.error("[telephonyServiceSipWise] "+l.getErrorFullMessage(e,"retrieveCall"))}))}))},d.deflectCallSipWise=function(t,r,o){return e((function(e,t){if(s.info("[telephonyServiceSipWise] deflectCallSipWise : "+r.id+" to destination : "+o),!o){var a=new Error("deflect failure - no destination");return s.error("[telephonyServiceSipWise] deflect anomaly: no destination"),void t(a)}var c=d.portalURL+"calls/"+encodeURIComponent(r.id)+"/deflect",u={destination:o};s.info("[telephonyServiceSipWise] deflectCallSipWise POST "+c),s.info("[telephonyServiceSipWise] deflectCallSipWise data: "+JSON.stringify(u)),n({method:"POST",url:c,headers:i.a.getRequestHeader(),data:u}).then((function(t){s.info("[telephonyServiceSipWise] deflectCallSipWise success :  Call ("+r+")"),e()}),(function(e){var n=l.handleError(e);t(n),s.error("[telephonyServiceSipWise] "+l.getErrorFullMessage(e,"deflectCall"))}))}))},d.transfertCallSipWise=function(t,r,o){return e((function(e,t){if(s.info("[telephonyServiceSipWise] transfertCallSipWise : activeCall : "+r.id+" heldCall : "+o.id),!r||!o){var a=new Error("transfer failure - missing activeCall or heldCall");return s.error("[telephonyServiceSipWise] transfer anomaly: missing calls ref"),void t(a)}var c=d.portalURL+"calls/"+encodeURIComponent(r.id)+"/transfer",u={heldCallId:o.id};s.info("[telephonyServiceSipWise] transfertCallSipWise POST "+c),s.info("[telephonyServiceSipWise] transfertCallSipWise data: "+JSON.stringify(u)),n({method:"POST",url:c,headers:i.a.getRequestHeader(),data:u}).then((function(t){s.info("[telephonyServiceSipWise] transfertCallSipWise success : "+r.id+"->"+o.id),e()}),(function(e){var n=l.handleError(e);t(n),s.error("[telephonyServiceSipWise] "+l.getErrorFullMessage(e,"transfer"))}))}))},d.blindTransfertCallSipWise=function(t,r,o){return e((function(e,t){if(s.info("[telephonyServiceSipWise] blindTransfertCallSipWise : activeCall : "+r.id),!r||!o){var a=new Error("blind transfer failure - missing activeCall or callee number");return s.error("[telephonyServiceSipWise] blind transfer anomaly: missing calls ref or callee number"),void t(a)}var c=d.portalURL+"calls/"+encodeURIComponent(r.id)+"/blind-transfer",u={destination:o};s.info("[telephonyServiceSipWise] blindTransfertCallSipWise POST "+c),s.info("[telephonyServiceSipWise] blindTransfertCallSipWise data: "+JSON.stringify(u)),n({method:"POST",url:c,headers:i.a.getRequestHeader(),data:u}).then((function(t){s.info("[telephonyServiceSipWise] blind transfertCallSipWise success :  Call ("+call+")"),e()}),(function(e){var n=l.handleError(e);t(n),s.error("[telephonyServiceSipWise] "+l.getErrorFullMessage(e,"blind-transfer"))}))}))},d.forwardToDeviceSipWise=function(t,r,o,a){return e((function(e,t){if(s.info("[telephonyServiceSipWise] forwardToDeviceSipWise : phoneNumber = "+r+" / destType = "+o+" / fwtype = "+a),!r){var c=new Error("forward failure - missing phoneNumber");return s.error("[telephonyServiceSipWise] forward anomaly: missing phoneNumber"),void t(c)}var u=d.portalURL+"forwards/"+encodeURIComponent(a),f={number:r,destinationType:o,activate:!0};s.info("[telephonyServiceSipWise] forwardToDeviceSipWise PUT "+u),s.info("[telephonyServiceSipWise] forwardToDeviceSipWise data: "+JSON.stringify(f)),n({method:"PUT",url:u,headers:i.a.getRequestHeader(),data:f}).then((function(t){s.info("[telephonyServiceSipWise] forwardToDeviceSipWise success : "),e()}),(function(e){var n=l.handleError(e);t(n),s.error("[telephonyServiceSipWise] "+l.getErrorFullMessage(e,"forwardToDeviceSipWise"))}))}))},d.cancelForwardSipWise=function(t,r){return e((function(e,t){if(s.info("[telephonyServiceSipWise] cancelForwardSipWise :  fwtype = "+r),!r||"immediate"!==r&&"busy"!==r&&"noreply"!==r){var o=new Error("cancel forward failure - wrong forwardType");return s.error("[telephonyServiceSipWise] cancel forward anomaly: wrong forwardType"),void t(o)}var a=d.portalURL+"forwards/"+encodeURIComponent(r),c={activate:!1};s.info("[telephonyServiceSipWise] cancelForwardSipWise PUT "+a),s.info("[telephonyServiceSipWise] cancelForwardSipWise data: "+JSON.stringify(c)),n({method:"PUT",url:a,headers:i.a.getRequestHeader(),data:c}).then((function(t){s.info("[telephonyServiceSipWise] forwardToDeviceSipWise success : "),e()}),(function(e){var n=l.handleError(e);t(n),s.error("[telephonyServiceSipWise] "+l.getErrorFullMessage(e,"forwardToDeviceSipWise"))}))}))},d.getForwardStatusSipWise=function(t){return e((function(e,r){s.info("[telephonyServiceSipWise] getForwardStatusSipWise");var a=d.portalURL+"forwards";s.info("[telephonyServiceSipWise] getForwardStatusSipWise GET "+a),n({method:"GET",url:a,headers:i.a.getRequestHeader()}).then((function(n){if(n.data&&"Call Forwards successfully found"===n.data.status&&n.data.data){s.info("[telephonyServiceSipWise] getForwardStatusSipWise success");var i=n.data.data,a=d.convForwardObject(i);return s.info("[telephonyServiceSipWise] getForwardStatusSipWise immediat fwdtype = "+a.immediate.forwardType+" immediat forwardTo = "+a.immediate.forwardTo),a.busy&&s.info("[telephonyServiceSipWise] getForwardStatusSipWise busy activate = "+a.busy.activate),a.noreply&&s.info("[telephonyServiceSipWise] getForwardStatusSipWise noreply activate = "+a.noreply.activate),o.$broadcast("ON_CALL_FORWARDED_EVENT",{forwardType:a.immediate.forwardType,forwardTo:a.immediate.forwardTo}),t.forwardObject.forwardType=a.immediate.forwardType,t.forwardObject.forwardTo=a.immediate.forwardTo,(a.busy||a.noreply)&&(o.$broadcast("ON_CALL_FORWARDED_CONDI_EVENT",{busy:a.busy,noreply:a.noreply}),t.forwardObject.busy=a.busy,t.forwardObject.noreply=a.noreply),void e()}var l=new Error("getForwardStatus failure - invalide response");return s.error("[telephonyServiceSipWise] getForwardStatus anomaly: invalide response"),void r(l)}),(function(e){var t=l.handleError(e);r(t),s.error("[telephonyServiceSipWise] "+l.getErrorFullMessage(e,"getForwardStatusSipWise"))}))}))},d.convForwardObject=function(e){var t={immediate:{forwardType:"Desactivation",forwardTo:""},busy:{},noreply:{},manAssist:{}};return e.forEach((function(e){"immediate"===e.type?(e.activate&&("voicemail"===e.destinationType?(t.immediate.forwardType="Activation",t.immediate.forwardTo="VOICEMAILBOX"):""!==e.number&&(t.immediate.forwardType="Activation",t.immediate.forwardTo=e.number)),"managersecretary"===e.destinationType&&(t.immediate.forwardType=e.activate,t.immediate.forwardTo="MANAGERASSISTANT",t.manAssist=e)):"busy"===e.type?t.busy=e:"noreply"===e.type&&(t.noreply=e)})),t},d.getOverFlowStatusSipWise=function(t,r){return e((function(e,o){s.info("[telephonyServiceSipWise] getOverFlowStatusSipWise : systemId = "+t+" / phoneNumberId = "+r);var a=d.portalAdminURL+"cloudpbxs/"+encodeURIComponent(t)+"/subscribers/"+encodeURIComponent(r)+"/overflow/status";n({method:"GET",url:a,headers:i.a.getRequestHeader()}).then((function(t){var n=t.data.data;s.info("[telephonyServiceSipWise] getOverFlowStatusSipWise activated: "+n.activate),e(n)}),(function(e){var t=l.handleError(e);s.error("[telephonyServiceSipWise] "+l.getErrorFullMessage(e,"getOverFlowStatus")),o(t)}))}))},d.sendDtmfSipWise=function(t,r,o){return e((function(e,t){s.info("[telephonyServiceSipWise] sendDtmfSipWise for callId : "+r.id+" dtmf : "+o);var a=d.portalURL+"calls/"+encodeURIComponent(r.id)+"/sendDtmf",c={legId:r.connectionId,digits:o};s.info("[telephonyServiceSipWise] sendDtmfSipWise POST "+a),s.info("[telephonyServiceSipWise] sendDtmfSipWise data: "+JSON.stringify(c)),n({method:"POST",url:a,headers:i.a.getRequestHeader(),data:c}).then((function(t){s.info("[telephonyServiceSipWise] sendDtmfSipWise success :  Call ("+r+")"),e()}),(function(e){var n=l.handleError(e);t(n),s.error("[telephonyServiceSipWise] "+l.getErrorFullMessage(e,"sendDtmf"))}))}))},d.checkEmergencyNumberSipWise=function(e,t){var n=!1,r=e.sipWiseEmergencyCallData;return r.emergencyNuList.length>0&&r.emergencyNuList.find(e=>e===t)&&(n=!0),n},d.getEmergencyCallDataSipWise=function(t){return e((function(e,r){var o=d.portalURL+"emergency-numbers";s.info("[telephonyServiceSipWise] getEmergencyCallDataSipWise GET "+o),n({method:"GET",url:o,headers:i.a.getRequestHeader()}).then((function(n){var r=n.data.data;s.info("[telephonyServiceSipWise] getEmergencyCallDataSipWise success / status : "+n.statusText),s.info("[telephonyServiceSipWise] getEmergencyCallDataSipWise success / callAuthorizationWithSoftPhone  : "+r.emergencyOptions.callAuthorizationWithSoftPhone),s.info("[telephonyServiceSipWise] getEmergencyCallDataSipWise success / nb of emergency Nu : "+r.emergencyNumbers.length),t.sipWiseEmergencyCallDataClear(),t.sipWiseEmergencyCallData.WGEmergencyCallForbidden=!r.emergencyOptions.callAuthorizationWithSoftPhone,t.sipWiseEmergencyCallData.serverData=r.emergencyNumbers,r.emergencyNumbers&&r.emergencyNumbers.length>0&&r.emergencyNumbers.forEach((function(e){t.sipWiseEmergencyCallData.emergencyNuList.push(e.number)})),"testemergency"===t.sipWiseMode()&&(t.sipWiseEmergencyCallData.WGEmergencyCallForbidden=!0,t.sipWiseEmergencyCallData.emergencyNuList.push("3669")),e()}),(function(e){var t=l.handleError(e);s.error("[telephonyServiceSipWise] "+l.getErrorFullMessage(e,"getEmergencyCallDataSipWise")),r(t)}))}))}}])},function(e,t,n){n.r(t);var r=n(1),o=n(49),i=n(2),s=n.n(i);angular.module("rainbow").factory("TelephonyServiceEventHandlerSipWise",["$log","$q","$rootScope","$interval",function(e,t,n,i){function a(e){this.telephonyService=e,this.promiseQueue=o.PromiseQueue.create()}return a.create=function(e){return new a(e)},a.CallFailureLabels={invalidNumberFormat:"invalidPhoneNumber",destOutOfOrder:"outOfService",destNotObtainable:"outOfService",doNotDisturb:"dnd",busy:"busy",incompatibleDestination:"invalidPhoneNumber"},a.prototype.onCallserviceMessageReceived=function(t){try{var n=this,r=$(t).find("telephony"),o=r.find("forwardUpdated");if(o&&0!==o.length)return n.onforwardUpdatedMsg(o);var i=r.find("event"),s=i.attr("seqNum");if(!s)return e.info("[TelephonyServiceEventHandlerSipWise] onCallserviceMessageReceived -- no telephony event received then msg ignored"),!0;var a=i.attr("ts"),l=i.attr("cause");return e.info("[TelephonyServiceEventHandlerSipWise] onCallserviceMessageReceived -- telephony event received and queued: seqNum = "+s+" cause = "+l+" ts = "+a),this.promiseQueue.add((function(){return n.onTelephonyEvent(i,s)})),!0}catch(c){return e.error("[TelephonyServiceEventHandlerSipWise] onCallserviceMessageReceived -- failure -- "+c.message),!0}},a.prototype.onOverflowUpdateMessageReceived=function(t){try{var n=$(t).find("overflowOnSubscriberUpdated").find("overflowUpdated");return!n||0===n.length||this.overflowUpdatedMsg(n)}catch(r){return e.error("[TelephonyServiceEventHandlerSipWise] onOverflowUpdateMessageReceived -- failure -- "+r.message),!0}},a.prototype.onUserConfigurationMessageReceived=function(t){try{var n=$(t).find("routing");return!n||0===n.length||this.onRoutingUpdatedMsg(n)}catch(r){return e.error("[TelephonyServiceEventHandlerSipWise] onUserConfigurationMessageReceived -- failure -- "+r.message),!0}},a.prototype.onforwardUpdatedMsg=function(t){e.info("[TelephonyServiceEventHandlerSipWise] onforwardUpdatedMsg : msg forwardUpdated received");var n=t.attr("forwardItem");if("user"===n&&this.telephonyService.getForwardStatus(),"group"===n){var r=t.attr("forwardItemId");r?(this.telephonyService.getSipWiseUserGroupsForwards(r),"manager"===this.telephonyService.sipWiseManAssistGetMyRole()&&this.telephonyService.getForwardStatus()):this.telephonyService.getSipWiseUserGroups()}return!0},a.prototype.onRoutingUpdatedMsg=function(t){e.info("[TelephonyServiceEventHandlerSipWise] onRoutingUpdatedMsg : msg routing update received");var r=t.find("routingUpdated"),o=r.find("currentDeviceId").text(),i=r.find("destinations"),s=[];const a=this.telephonyService.telephonyServiceSipWise.sipWiseRoutingObject;return o&&i?(a.alsoOfficePhoneRingEnabled=!1,i.find("destination").each((function(){var t=angular.element(this),n=t.attr("type"),r=t.attr("deviceId");e.info("[TelephonyServiceEventHandlerSipWise] onRoutingUpdatedMsg ITER desti / type = "+n+" deviceId = "+r),s.push({deviceId:r,type:n}),"sip"===n&&(a.alsoOfficePhoneRingEnabled=!0)})),o&&this.telephonyService.telephonyServiceSipWise.setCurrentDevicesListSipWise(o),s&&s.length&&(e.info("[telephonyServiceSipWise] onRoutingUpdatedMsg  / ringing destinations nb  = "+s.length),a.ringingDestinations=s,n.$broadcast("ON_SIPWISE_ROUTING_EVENT",this.telephonyService.telephonyServiceSipWise.getCurrentFromDevicesListSipWise().type,a)),!0):(e.info("[TelephonyServiceEventHandlerSipWise] onRoutingUpdatedMsg Anomaly: no current/destination elts"),!1)},a.prototype.overflowUpdatedMsg=function(t){return e.info("[TelephonyServiceEventHandlerSipWise] overflowUpdatedMsg received"),this.telephonyService.getForwardStatus(),!0},a.prototype.onTelephonyEvent=function(t,n){e.info("[TelephonyServiceEventHandlerSipWise] onTelephonyEvent for seqNum = "+n);const r=[];return this.manageAllCalls(t,n,r).then(()=>this.manageAllLegs(t,n,r)).then(()=>this.manageAllEndPoints(t,n,r)).catch(t=>{e.info("[TelephonyServiceEventHandlerSipWise] onTelephonyEvent CATCH / seqNum = "+n);const r="onTelephonyEvent -- "+t.message;e.error("[TelephonyServiceEventHandlerSipWise] "+r)}).finally(()=>{e.info("[TelephonyServiceEventHandlerSipWise] onTelephonyEvent FINALLY / seqNum = "+n),this.CallsUpdate(r)})},a.prototype.manageAllCalls=function(n,r,o){const i=this,s=[];let a=0;return n.find("call").each((function(){const l=angular.element(this),c=l.attr("callId"),u=l.attr("op");e.info("[TelephonyServiceEventHandlerSipWise] manageAllCalls ITER callId = "+c+" op = "+u+" / seqNum = "+r),"ended"!==u&&a++,s.push(t(t=>{i.manageCallElem(l,n,r,o).then(()=>{e.info("[TelephonyServiceEventHandlerSipWise] manageAllCalls done for callId = "+c+" / seqNum = "+r)}).catch(t=>{e.info("[TelephonyServiceEventHandlerSipWise] manageAllCalls CATCH / seqNum = "+r);const n="manageAllCalls -- "+t.message;e.error("[TelephonyServiceEventHandlerSipWise] "+n)}).finally(()=>{t()})}))})),t.all(s).finally(()=>{e.info("[TelephonyServiceEventHandlerSipWise] manageAllCalls : nb living calls = "+a+" / seqNum = "+r)})},a.prototype.manageCallElem=function(n,o,i,s){var a=this;return n.length?t((function(t,l){try{var c=n.attr("callId"),u=n.attr("oldCallId"),d=(n.attr("newCallId"),n.attr("op"));if(!c){var f="manageCallElem -- Anomaly callId missing / seqNum = "+i;e.error("[TelephonyServiceEventHandlerSipWise] "+f),l(f)}switch(d||(f="manageCallElem -- Anomaly op missing / seqNum = "+i,e.error("[TelephonyServiceEventHandlerSipWise] "+f),l(f)),e.info("[TelephonyServiceEventHandlerSipWise] manageCallElem callId = "+c+" op = "+d+" / seqNum = "+i),u&&((p=a.telephonyService.calls[u])?(e.info("[TelephonyServiceEventHandlerSipWise] manageCallElem : oldcallId = "+u+" ended  / seqNum = "+i),a.telephonyService.clearCall(p,!0),s[c]={trigger:!0,info:"callended"}):e.info("[TelephonyServiceEventHandlerSipWise] manageCallElem : oldCallId "+u+" ended, no call found")),d){case"created":if(e.info("[TelephonyServiceEventHandlerSipWise] manageCallElem / call creation / seqNum = "+i),p=a.telephonyService.createCallSipWise(r.Call.Status.UNKNOWN,c)){let e=o.attr("cause");e&&p.setInitCauseSipWiseData(e);let t=n.find("direction").text();t&&p.setDirectionSipWiseData(t);var _=n.find("called");(h={}).phoneNumber=_.find("phoneNumber").text(),h.displayName=_.find("displayName").text(),p.setCalledSipWiseData(h)}s[c]={trigger:!1,info:"call"+d},t();break;case"updated":var h;e.info("[TelephonyServiceEventHandlerSipWise] manageCallElem / call update / seqNum = "+i),_=n.find("called"),(h={}).phoneNumber=_.find("phoneNumber").text(),h.displayName=_.find("displayName").text();var p=a.getCallFromCallId(c);r.Call&&p.setCalledSipWiseData(h),a.checkCallRelevancy(c)?s[c]={trigger:!0,info:"call"+d}:e.info("[TelephonyServiceEventHandlerSipWise] manageCallElem : on callId "+c+" updated, not relevant"),t();break;case"ended":e.info("[TelephonyServiceEventHandlerSipWise] manageCallElem / call end / seqNum = "+i),p=a.telephonyService.calls[c],a.checkCallRelevancy(c)?(e.info("[TelephonyServiceEventHandlerSipWise] manageCallElem : callId = "+c+" ended  / seqNum = "+i),a.telephonyService.clearCall(a.getCallFromCallId(c),!0),s[c]={trigger:!0,info:"call"+d}):e.info("[TelephonyServiceEventHandlerSipWise] manageCallElem : on callId "+c+" ended, not relevant"),t();break;default:e.info("[TelephonyServiceEventHandlerSipWise] manageCallElem / invalid op -> "+d+" / seqNum = "+i),l()}}catch(m){f="manageCallElem -- "+m.message,l(new Error(f))}})):(e.info("[TelephonyServiceEventHandlerSipWise] manageCallElem / no CallElem"),t.resolve())},a.prototype.manageAllLegs=function(n,r,o){var i=this,s=[],a=0;return n.find("leg").each((function(){var l=angular.element(this),c=l.attr("legId"),u=l.attr("op");e.info("[TelephonyServiceEventHandlerSipWise] manageAllLegs ITER legId = "+c+" op = "+u+" / seqNum = "+r),l.length&&("ended"!==u&&a++,s.push(t((function(t,s){i.manageLegElem(l,n,r,o).then((function(){e.info("[TelephonyServiceEventHandlerSipWise] manageAllLegs done for legId = "+c+" / seqNum = "+r)})).catch((function(t){e.info("[TelephonyServiceEventHandlerSipWise] manageAllLegs CATCH / seqNum = "+r);var n="manageAllLegs -- "+t.message;e.error("[TelephonyServiceEventHandlerSipWise] "+n)})).finally((function(){t()}))}))))})),t.all(s).finally((function(){e.info("[TelephonyServiceEventHandlerSipWise] manageAllLegs : nb living legs = "+a+" / seqNum = "+r)}))},a.prototype.manageLegElem=function(n,r,o,i){var s=this;return t((function(t,a){var l=n.attr("legId"),c=n.attr("callId"),u=n.attr("deviceId"),d=n.attr("state"),f=n.attr("op");switch(l||a("manageLegElem -- Anomaly legId missing / seqNum = "+o),c||a("manageLegElem -- Anomaly callId missing / seqNum = "+o),f||a("manageLegElem -- Anomaly op missing / seqNum = "+o),e.info("[TelephonyServiceEventHandlerSipWise] manageLegElem legId = "+l+" callId = "+c+" deviceId = "+u+" state = "+d+" op = "+f+" / seqNum = "+o),f){case"created":e.info("[TelephonyServiceEventHandlerSipWise] manageLegElem / leg creation / seqNum = "+o),s.computeCallRelevancy(u)?(e.info("[TelephonyServiceEventHandlerSipWise] manageLegElem / create legId/callId = "+l+"/"+c+" relevant"),s.legElemCreate(r).then((function(){s.getCallFromCallId(c).setConnectionIdSipWise(l),i[c]={trigger:!0,info:"leg"+f},t()})).catch((function(e){a(e)}))):(e.info("[TelephonyServiceEventHandlerSipWise] manageLegElem / create legId/callId = "+l+"/"+c+" not relevant"),t());break;case"updated":e.info("[TelephonyServiceEventHandlerSipWise] manageLegElem / leg update / seqNum = "+o),s.computeCallRelevancy(u)?(e.info("[TelephonyServiceEventHandlerSipWise] manageLegElem / update legId/callId = "+l+"/"+c+" relevant"),s.legElemUpdate(r).then((function(){s.getCallFromCallId(c).setConnectionIdSipWise(l),i[c]={trigger:!0,info:"leg"+f},t()})).catch((function(e){a(e)}))):(e.info("[TelephonyServiceEventHandlerSipWise] manageLegElem / update legId/callId = "+l+"/"+c+" not relevant"),t());break;case"ended":e.info("[TelephonyServiceEventHandlerSipWise] manageLegElem / leg end / seqNum = "+o),s.computeCallRelevancy(u)?s.getCallFromCallId(c)?(s.telephonyService.clearCall(s.getCallFromCallId(c),!0),i[c]={trigger:!0,info:"leg"+f}):e.info("[TelephonyServiceEventHandlerSipWise] manageLegElem : leg ended / call already removed"):e.info("[TelephonyServiceEventHandlerSipWise] manageLegElem : leg ended but not relevant"),t();break;default:e.info("[TelephonyServiceEventHandlerSipWise] manageLegElem / invalid op -> "+f+" / seqNum = "+o),a()}}))},a.prototype.manageAllEndPoints=function(n,r,o){var i=this,s=[],a=0;return n.find("endpoint").each((function(){var l=angular.element(this),c=l.attr("endpointId"),u=l.attr("op");e.info("[TelephonyServiceEventHandlerSipWise] manageAllEndPoints ITER endPointId = "+c+" op = "+u+" / seqNum = "+r),l.length&&("ended"!==u&&a++,s.push(t((function(t,s){i.manageEndPointElem(l,n,r,o).then((function(){e.info("[TelephonyServiceEventHandlerSipWise] manageAllEndPoints done for endPointId = "+c+" / seqNum = "+r)})).catch((function(t){e.info("[TelephonyServiceEventHandlerSipWise] manageAllEndPoints CATCH / seqNum = "+r);var n="manageAllEndPoints -- "+t.message;e.error("[TelephonyServiceEventHandlerSipWise] "+n)})).finally((function(){t()}))}))))})),t.all(s).finally((function(){e.info("[TelephonyServiceEventHandlerSipWise] manageAllEndPoints : nb living endPoint = "+a+" / seqNum = "+r)}))},a.prototype.manageEndPointElem=function(n,r,o,i){var s=this;return t((function(t,a){var l=n.attr("endpointId"),c=n.attr("callId"),u=n.attr("state"),d=n.attr("op");switch(n.attr("anonymous"),l||a("manageEndPointElem -- Anomaly endPointId missing / seqNum = "+o),c||a("manageEndPointElem -- Anomaly callId missing / seqNum = "+o),d||a("manageEndPointElem -- Anomaly op missing / seqNum = "+o),e.info("[TelephonyServiceEventHandlerSipWise] manageEndPointElem endPointId = "+l+" callId = "+c+" state = "+u+" op = "+d+" / seqNum = "+o),d){case"created":e.info("[TelephonyServiceEventHandlerSipWise] manageEndPointElem: create endPointId/callId = "+l+"/"+c),s.endPointElemCreate(r).then((function(){s.checkCallRelevancy(c)?i[c]={trigger:!0,info:"endpoint"+d}:e.info("[TelephonyServiceEventHandlerSipWise] manageEndPointElem: create endPointId/callId = "+l+"/"+c+" not yet relevant"),t()})).catch((function(e){a(e)}));break;case"updated":e.info("[TelephonyServiceEventHandlerSipWise] manageEndPointElem / updated"),s.endPointElemUpdate(r).then((function(){s.checkCallRelevancy(c)?i[c]={trigger:!0,info:"endpoint"+d}:e.info("[TelephonyServiceEventHandlerSipWise] manageEndPointElem: update endPointId/callId = "+l+"/"+c+" not relevant"),t()})).catch((function(e){a(e)}));break;case"ended":e.info("[TelephonyServiceEventHandlerSipWise] manageEndPointElem / ended"),t();break;default:a("manageEndPointElem / Anomaly unmanaged op : "+d)}}))},a.prototype.legElemCreate=function(n){var r=this,o=n.find("leg");return this.getCall(o).then((function(i){try{var s=o.attr("state"),a=o.attr("deviceId");if(!a){var l="legElemCreate -- Anomaly deviceId missing";return e.error("[TelephonyServiceEventHandlerSipWise] "+l),t.reject(new Error(l))}return e.info("[TelephonyServiceEventHandlerSipWise] legElemCreate / leg state : "+s+" / deviceId : "+a),i.setDeviceIdSipWise(a),i.setRelevantEquipmentId(a),r.callsetStatusFromLegState(i,s,n),i.startDate=null,i.vm=!1,t.when()}catch(c){return e.info("[TelephonyServiceEventHandlerSipWise] legElemCreate catch"),l="legElemCreate -- "+c.message,e.error("[TelephonyServiceEventHandlerSipWise] "+l),t.reject(new Error(l))}}))},a.prototype.legElemUpdate=function(n){e.info("[TelephonyServiceEventHandlerSipWise] legElemUpdate");var r=this,o=n.find("leg");return this.getCall(o).then((function(i){try{e.info("[TelephonyServiceEventHandlerSipWise] legElemUpdate try");var s=o.attr("state");return r.callsetStatusFromLegState(i,s,n),t.when()}catch(l){e.info("[TelephonyServiceEventHandlerSipWise] legElemUpdate catch");var a="legElemUpdate -- "+l.message;return e.error("[TelephonyServiceEventHandlerSipWise] "+a),t.reject(new Error(a))}}))},a.prototype.endPointElemCreate=function(n){e.info("[TelephonyServiceEventHandlerSipWise] endPointElemCreate");var r=this,o=n.find("endpoint"),i=o.attr("callId"),a=o.find("phoneNumber").text(),l=o.find("jid").text(),c=o.find("firstName").text(),u=o.find("lastName").text();return o.find("displayName").text(),l||a?t((function(t){s.a.getOrCreateContact(l,a).then((function(n){l||c&&u&&n.updateName(c,u);var o=r.getCallFromCallId(i);i&&o?(o.setContact(n),e.info("[TelephonyServiceEventHandlerSipWise] endPointElemCreate setContact DONE : displayName = "+o.contact.nameForLog)):e.info("[TelephonyServiceEventHandlerSipWise] endPointElemCreate NOT DONE / no associated call"),t()}))})):(e.error("[TelephonyServiceEventHandlerSipWise] endPointElemCreate -- Anomaly no jid no phoneNumber"),t.when())},a.prototype.endPointElemUpdate=function(n){e.info("[TelephonyServiceEventHandlerSipWise] endPointElemUpdate");var r=this,o=n.find("endpoint"),i=o.attr("callId"),a=o.find("phoneNumber").text(),l=o.find("jid").text(),c=o.find("firstName").text(),u=o.find("lastName").text();return o.find("displayName").text(),l||a?t((function(t){s.a.getOrCreateContact(l,a).then((function(n){l||c&&u&&n.updateName(c,u);var o=r.getCallFromCallId(i);i&&o?(o.setContact(n),e.info("[TelephonyServiceEventHandlerSipWise] endPointElemUpdate setContact DONE : displayName = "+o.contact.nameForLog)):e.info("[TelephonyServiceEventHandlerSipWise] endPointElemUpdate setContact NOT DONE / no associated call"),t()}))})):(e.error("[TelephonyServiceEventHandlerSipWise] endPointElemUpdate -- Anomaly no jid no phoneNumber"),t.when())},a.prototype.onFailCallEvent=function(t,n){var o=n.find("failedReason").text();e.info("[TelephonyServiceEventHandlerSipWise] onFailCallEvent for callId : "+t.id+" / call status ERROR / cause : "+o),t.setStatus(r.Call.Status.ERROR),t.errorMessage=a.CallFailureLabels[o],t.errorMessage||(t.errorMessage=o)},a.prototype.convLegStateToCallStatus=function(t){var n=null;if(!t)return e.info("[TelephonyServiceEventHandlerSipWise] convLegStateToCallStatus Anomaly no legState"),n;switch(t){case"initiated":case"dialing":n=r.Call.Status.DIALING;break;case"ringingIn":n=r.Call.Status.RINGING_INCOMMING;break;case"ringingOut":n=r.Call.Status.RINGING_OUTGOING;break;case"queued":n=r.Call.Status.QUEUED_INCOMMING;break;case"active":n=r.Call.Status.ACTIVE;break;case"hold":n=r.Call.Status.HOLD;break;case"holdVictim":n=r.Call.Status.PUT_ON_HOLD;break;case"failed":n=r.Call.Status.ERROR;break;default:e.info("[TelephonyServiceEventHandlerSipWise] convLegStateToCallStatus Anomaly legState = "+t)}return n},a.prototype.callsetStatusFromLegState=function(t,n,o){if(t&&n){var i=this.convLegStateToCallStatus(n);i===r.Call.Status.ERROR?this.onFailCallEvent(t,o):t.setStatus(i),e.info("[TelephonyServiceEventHandlerSipWise] callsetStatusFromLegState legstate = "+n+" Call.status = "+t.status.value)}else e.info("[TelephonyServiceEventHandlerSipWise] callsetStatusFromLegState Anomaly Call = "+t+" legState"+n)},a.prototype.getCallFromCallId=function(t){if(!t)return e.debug("[TelephonyServiceEventHandlerSipWise] getCallFromCallId - Anomaly no callId"),null;var n=this.telephonyService.calls[t];return n?(e.debug("[TelephonyServiceEventHandlerSipWise] getCallFromCallId = "+t+" -  call: "+n),n):null},a.prototype.getCall=function(e){var n=this;return t((function(t){var r=e.attr("callId"),o=e.attr("legId");n.getOrCreateCall(r,o).then((function(e){t(e)}))}))},a.prototype.getOrCreateCall=function(n,o){var i=this;if(!n)return t.reject("no callId");var s=this.telephonyService.calls[n];return s&&s.getConnectionIdSipWise()?(e.debug("[TelephonyServiceEventHandlerSipWise] getOrCreateCall - "+n+" -  => found completed call: "+s),t.when(s)):(e.debug("[TelephonyServiceEventHandlerSipWise] getOrCreateCall - "+n+" -  => not completed : manage it"),o?t((function(e){e(i.telephonyService.getOrCreateCallSipWise(r.Call.Status.UNKNOWN,n,o))})):t.reject("no legId"))},a.prototype.sendCallUpdateEvent=function(t,r){if(t){t.autoClear&&(i.cancel(t.autoClear),t.autoClear=null),e.info("[TelephonyServiceEventHandlerSipWise] sendCallUpdateEvent for call "+t);var o=this.extractInfoEvent(r);n.$broadcast("ON_CALL_UPDATED_EVENT",t,o)}},a.prototype.extractInfoEvent=function(e){return e&&null!==e?e:null},a.prototype.CallsUpdate=function(t){var n=this;e.info("[TelephonyServiceEventHandlerSipWise] CallsUpdate"),Object.keys(t||[]).forEach((function(r){t[r]&&t[r].trigger?(e.info("[TelephonyServiceEventHandlerSipWise] CallsUpdate for callId "+r+" triggered"),n.sendCallUpdateEvent(n.getCallFromCallId(r),t[r].info)):e.info("[TelephonyServiceEventHandlerSipWise] CallsUpdate for callId "+r+" no triggered")}))},a.prototype.computeCallRelevancy=function(t){var n=!1,r=this.telephonyService.telephonyServiceSipWise.getCurrentFromDevicesListSipWise();return t&&r&&(n=t===r.deviceId),e.info("[TelephonyServiceEventHandlerSipWise] computeCallRelevancy for deviceId : "+t+" / relevant = "+n),n},a.prototype.checkCallRelevancy=function(t){var n=!1,r=this.telephonyService.telephonyServiceSipWise.getCurrentFromDevicesListSipWise(),o=this.getCallFromCallId(t);return o&&r&&(e.debug("[TelephonyServiceEventHandlerSipWise] checkCallRelevancy call.deviceID = "+o.getDeviceIdSipWise()),n=o.getDeviceIdSipWise()==r.deviceId),e.info("[TelephonyServiceEventHandlerSipWise] checkCallRelevancy for callId : "+t+" / relevant = "+n),n},a}])},function(e,t,n){n.r(t);var r=n(23),o=n(1),i=n(6),s=n.n(i),a=n(3),l=n.n(a),c=n(5),u=n.n(c),d=n(7),f=n.n(d),_=n(15),h=n.n(_),p=n(2),m=n.n(p);angular.module("rainbow").service("telephonyService",["$q","$interval","$http","$rootScope","$log","TelephonyServiceEventHandler","errorHelperService","VoiceMail","videoService","$injector",function(e,t,n,i,a,c,d,_,p,g){const v=this,b=[],D=[];let y="urn:xmpp:pbxagent:callservice:1",C=!1;v.rxSubject=new r.a,v.start=function(e){if(a.info("[telephonyService] === STARTING ==="),v.setSipWise(v.isSipWiseRoot()),v.isSipWise()){a.info("[telephonyService] starting in sipWise mode"),y="urn:xmpp:pbxagent:telephony:1";try{v.telephonyServiceEventHandlerSipWise=g.get("TelephonyServiceEventHandlerSipWise")}catch(r){var t=r&&r.message?r.message:"Unknown error",n=r&&r.stack?r.stack:"Unknown stack";a.error("[telephonyService] injection TelephonyServiceEventHandlerSipWise  exception  -- "+t+" : "+n)}try{v.telephonyServiceSipWise=g.get("telephonyServiceSipWise")}catch(r){t=r&&r.message?r.message:"Unknown error",n=r&&r.stack?r.stack:"Unknown stack",a.error("[telephonyService] injection TelephonyServiceSipWise  exception  -- "+t+" : "+n)}}v.startDate=performance.now(),v.stats=e,v.calls=[],v.pendingMakeCalls=[],v.starting=v.started=!1,v.agentStatus={phoneApi:"disconnected",xmppAgent:"stopped",agentVersion:"unknown"},v.voicemailNumber=m.a.userContact.voicemailNumber,v.pbxId=m.a.userContact.pbxId,v.makingCall=!1,v.voiceMail=_.create(),v.forwardObject={},v.nomadicObject={},v.nomadicAnswerNotTakedIntoAccount=!1,v.sipWiseUserGroupsData={myMemberId:"",huntingGroupNb:0,managerAssistantNb:0,managerAssistGrId:0,managerId:0,managerName:"",managerStatus:"",managerForward:"unknow",assistantId:0,assistantName:"",assistantStatus:"",sipWiseUserGroupsList:[]},v.sipWiseEmergencyCallData={WGEmergencyCallForbidden:!1,emergencyNuList:[],serverData:null},v.isBasicCallAllowed=f.a.isFeatureEnabled(f.a.FeaturesEnum.TELEPHONY_BASIC_CALL),v.isSecondCallAllowed=f.a.isFeatureEnabled(f.a.FeaturesEnum.TELEPHONY_SECOND_CALL),v.isTransferAllowed=f.a.isFeatureEnabled(f.a.FeaturesEnum.TELEPHONY_TRANSFER_CALL),v.isConferenceAllowed=f.a.isFeatureEnabled(f.a.FeaturesEnum.TELEPHONY_CONFERENCE_CALL),v.isVMDeflectCallAllowed=f.a.isFeatureEnabled(f.a.FeaturesEnum.TELEPHONY_DEFLECT_CALL),v.voiceMailFeatureEnabled=f.a.isFeatureEnabled(f.a.FeaturesEnum.TELEPHONY_VOICE_MAIL),v.isForwardEnabled=f.a.isFeatureEnabled(f.a.FeaturesEnum.TELEPHONY_CALL_FORWARD),v.isNomadicEnabled=f.a.isFeatureEnabled(f.a.FeaturesEnum.TELEPHONY_NOMADIC),v.userJidTel=l.a.jidTel,v.portalURL=config.restServerUrl+"/api/rainbow/telephony/v1.0/",D.push(u.a.subscribeToContactEvents(e=>{"ON_CONTACT_PRESENCE_EVENT"===e.name&&v.onTelPresenceChange(e.data)})),v.isSipWise()?v.telephonyEventHandler=v.telephonyServiceEventHandlerSipWise.create(v):v.telephonyEventHandler=c.create(v),a.info("[telephonyService] starting on user jidTel: "+v.userJidTel),m.a.userContact&&(a.info("[telephonyService] starting user name: "+m.a.userContact.nameForLogs+", full jid: "+m.a.userContact.fullJid),a.info("[telephonyService] starting phonePbx: "+h()(m.a.userContact.phonePbx)+", phonePro: "+h()(m.a.userContact.phonePro)+", voicemailNumber: "+h()(m.a.userContact.voicemailNumber)+", pbxId: "+m.a.userContact.pbxId)),m.a.userContact&&(m.a.userContact.telStatus?(a.info("[telephonyService] start with my existing telephony presence "+m.a.userContact.telStatus+" of user contact ("+m.a.userContact.jidtel+") "),v.onTelPresenceChange({jid:v.userJidTel+"/phone",status:m.a.userContact.telStatus})):(a.info("[telephonyService] Subscribe and wait for my telephony presence ("+m.a.userContact.jidtel+")"),m.a.sendSubscribeInvitation(m.a.userContact.jidtel)))},v.onTelPresenceChange=function(e){if(m.a.isTelJid(e.jid)){const t=m.a.getResourceFromJid(e.jid);if("phone"!==t&&"pcg2"!==t)return!0;const n=m.a.getImJid(e.jid);if(!n)return!0;const r=e.status;m.a.isUserContactJid(n)&&("unavailable"===r||"offline"===r?(a.info("[telephonyService] received my telephony presence -- "+r),v.starting=v.started=!1,v.telephonyOfflineCallManagement(),i.$broadcast("ON_TELEPHONY_STATUS_CHANGED_EVENT","stopped"),a.info("[telephonyService] === STOPPED ===")):v.started||v.starting||(a.info("[telephonyService] received my telephony presence -- "+r),v.starting=!0,v.getAgentStatus().then((function(){return v.attachHandlers(),v.isSipWise()?(v.sipWiseUserGroupsDataClear(),v.sipWiseEmergencyCallDataClear(),v.telephonyServiceSipWise.resetSipWiseRoutingObject(),v.getTelephonyState(!1)):v.isNomadicEnabled?v.getNomadicStatus().then((function(){const e=v.nomadicObject.featureActivated&&v.nomadicObject.modeActivated&&!v.nomadicObject.makeCallInitiatorIsMain;return v.getTelephonyState(e)})):v.getTelephonyState(!1)})).then((function(){v.isForwardEnabled&&v.getForwardStatus()})).then((function(){const e=Math.round(performance.now()-v.startDate);v.stats.push({service:"telephonyService",startDuration:e}),a.info("[telephonyService] === STARTED ("+e+" ms) ==="),v.started=!0,v.starting=!1,i.$broadcast("ON_TELEPHONY_STATUS_CHANGED_EVENT","started")})).catch((function(e){v.starting=!1,a.error("[telephonyService] receive telephony presence but error in initialization - "+(e?e.message:"unknown error"))}))))}return!0},v.launchTelephonyInitilization=function(){m.a.userContact&&m.a.userContact.telStatus?(a.info("[telephonyService] launchTelephonyInitilization telStatus: "+m.a.userContact.telStatus+" => start"),v.onTelPresenceChange({jid:v.userJidTel+"/phone",status:m.a.userContact.telStatus})):a.info("[telephonyService] launchTelephonyInitilization no tel presence => do nothing")},v.reconnect=function(){a.info("[telephonyService] reconnect (xmpp reconnection)"),v.starting=v.started=!1,v.telephonyOfflineCallManagement(),i.$broadcast("ON_TELEPHONY_STATUS_CHANGED_EVENT","stopped"),v.attachHandlers()},v.telephonyOfflineCallManagement=function(){a.info("[telephonyService] telephony Offline Call Management");try{const e=g.get("webrtcGatewayService");Object.keys(v.calls||[]).forEach((function(t){const n=v.calls[t];n&&(n.status!==o.Call.Status.RINGING_INCOMMING&&n.status!==o.Call.Status.QUEUED_INCOMMING||(n.mediaPillarCall&&n.mediaPillarCall.webrtcCallRef&&(a.info("[telephonyService] Offline Call Management: release MP webrtc call for phone call "+n.id+" in state "+n.status.value),p.releaseCall(n.mediaPillarCall.webrtcCallRef)),a.info("[telephonyService] Offline Call Management: stop popup and ringing tone for phone call "+n.id+" in state "+n.status.value),n.setStatus(o.Call.Status.UNKNOWN),n.publish("ON_CALL_UPDATED_EVENT"),i.$broadcast("ON_CALL_UPDATED_EVENT",n)),(n.status===o.Call.Status.RINGING_OUTGOING||n.status===o.Call.Status.QUEUED_OUTGOING)&&e.isMediaPillarCallSituation(n)&&n.mediaPillarCall&&n.mediaPillarCall.webrtcCallRef&&(a.info("[telephonyService] Offline Call Management: release MP webrtc call for phone call "+n.id+" in state "+n.status.value),p.releaseCall(n.mediaPillarCall.webrtcCallRef)),e.isMediaPillarCallSituation(n)&&n.status===o.Call.Status.ACTIVE?(a.info("[telephonyService] Offline Call Management: keep MP call for phone call "+n.id+" in state "+n.status.value),n.pbxConnectionDown=!0):(delete v.calls[n.id],a.info("[telephonyService] Offline Call Management: phone call deleted: "+n.id+" in state "+n.status.value)))})),a.info("[telephonyService] Offline Call Management: clear "+v.pendingMakeCalls.length+" pending makecalls"),v.pendingMakeCalls=[]}catch(e){const t=e&&e.message?e.message:"Unknown error",n=e&&e.stack?e.stack:"Unknown stack";a.error("[telephonyService] telephonyOfflineCallManagement  exception  -- "+t+" : "+n)}},v.getTelephonyState=function(t){if(v.isSipWise())return e((function(e,t){a.info("[telephonyService] getTelephonyState -- sipWise get Devices then routingInfo then snapshot"),v.telephonyServiceSipWise.getUserDevices(v).then((function(){return v.telephonyServiceSipWise.getUserRoutingInfo(v)})).then((function(){return v.telephonyServiceSipWise.processSnapshot(v)})).then((function(){v.getSipWiseUserGroups()})).then((function(){v.fetchSipWiseEmergencyCallData()})).then((function(){e()})).catch((function(e){a.info("[telephonyService] sipwise getTelephonyState CATCH");const n="sipwise getTelephonyState -- "+e.message;a.error("[telephonyService] "+n),t(e)}))}));const n=e.defer();let r;return r=t?$iq({type:"get",to:v.userJidTel+"/phone"}).c("callservice",{xmlns:y}).c("connections",{deviceType:"SECONDARY"}):$iq({type:"get",to:v.userJidTel+"/phone"}).c("callservice",{xmlns:y}).c("connections"),u.a.sendIQ(r,6e4).then((function(r){const o=v.getErrorMessage(r,"getTelephonyState");if(o)return a.info("[telephonyService] getTelephonyState -- failure -- "+o),n.reject(new Error(o)),n.promise;const i=angular.element(r).find("connection");if(a.info("[telephonyService] getTelephonyState ("+(t?"SECONDARY":"MAIN")+") -- success -- "+i.length+" existing call(s)"),0===i.length)return n.resolve(),n.promise;const s=[];return i.each((function(){s.push(v.createCallFromConnectionElem(this,t))})),e.all(s).then((function(){a.info("[telephonyService] getTelephonyState ("+(t?"SECONDARY":"MAIN")+") -- calls creation completed -- "+i.length+" calls created"),n.resolve()})).catch((function(e){a.error("[telephonyService] getTelephonyState -- calls creation failure -- "+e.message),n.reject(e)})),n.promise})).catch((function(e){a.error("[telephonyService] getTelephonyState -- failure -- "+e.message),n.reject(e)})),n.promise},v.snapshotDevice=function(t){return e((function(e,r){if(v.isSipWise())return void e();let o=v.portalURL+"snapshotdevice";t&&(o+="?deviceType=SECONDARY"),n({method:"GET",url:o,headers:l.a.getRequestHeader()}).then((function(t){a.info("[telephonyService] snapshotdevice success "),e(t.data.data)}),(function(e){a.error("[telephonyService] "+d.getErrorFullMessage(e,"snapshotdevice"));const t=d.handleError(e);r(t)}))}))},v.getAgentStatus=function(){const t=e.defer();let n="/phone";v.isSipWise()&&(a.info("[telephonyService] getAgentStatus --- sipWise version"),n="/pcg2");const r=$iq({type:"get",to:v.userJidTel+n}).c("pbxagentstatus",{xmlns:"urn:xmpp:pbxagent:monitoring:1"});return u.a.sendIQ(r,6e4).then((function(e){const n=angular.element(e).find("phoneapi").text(),r=angular.element(e).find("xmppagent").text(),o=angular.element(e).find("version").text(),s=angular.element(e).find("features").text(),l=angular.element(e).find("type").text();if(o&&(v.agentStatus={phoneApi:n,xmppAgent:r,agentVersion:o,features:s},l?(v.isOxe=l.toLowerCase().includes("oxe"),v.isOxo=l.toLowerCase().includes("oxo")):(v.isOxe=o.toLowerCase().includes("oxe"),v.isOxo=o.toLowerCase().includes("oxo"))),v.isSipWise()&&"RVCP"!==l){v.setSipWise(!1);const e="getAgentStatus -- sipWise failure : wrong PCG type";a.error("[telephonyService] "+e),t.reject(new Error(e))}a.info("[telephonyService] getAgentStatus -- success -- version "+o+" isOxe:"+v.isOxe+" isOxo:"+v.isOxo+" isSipWise:"+v.isSipWise()),i.$broadcast("ON_AGENT_STATUS_RECEIVED_EVENT"),t.resolve()})).catch((function(e){const n="getAgentStatus -- failure : "+e.message;a.error("[telephonyService] "+n),t.reject(new Error(n))})),t.promise},v.getSnapshotCall=function(t){return a.info("[telephonyService] getSnapshotCall"),e((function(e,n){const r=$iq({type:"get",to:v.userJidTel+"/phone"}).c("callservice",{xmlns:y}).c("snapshotCall",{callId:t});u.a.sendIQ(r).then((function(t){console.error(t),e()})).catch((function(e){const t="getSnapshotCall failure : "+e.message;a.error("[telephonyService] "+t),n(new Error(t))}))}))},v.createCallFromConnectionElem=function(t,n){return e((function(e,r){const s=angular.element(t),l=s.attr("endpointIm");let c=s.attr("endpointTel");const u=s.attr("callId"),d=s.attr("endpointLci"),_=s.attr("lci"),p=s.find("participant"),b=s.find("identity").attr("firstName"),D=s.find("identity").attr("lastName");let y="",C="";l||c||(c="****"),f.a.isFeatureEnabled(f.a.FeaturesEnum.TELEPHONY_PHONE_BOOK)&&0===p.length&&D&&D.length&&(C=D,b&&b.length&&(y=b),a.info("[telephonyService] createCallFromConnectionElem - name resolution for: "+u+" for phoneNumber:"+h()(c)+" with firstname : "+y.slice(0,1)+"***")),"LCI_INITIATED"!==_||n&&g.get("webrtcGatewayService").IsMediaPillarUserSelected()?(0===p.length?m.a.getOrCreateContact(l,c):v.getParticipantsFromParticipantsElem(p)).then((function(t){let r=o.Call.Status.ACTIVE;"LCI_INITIATED"===_&&(r=o.Call.Status.DIALING),"LCI_HELD"===_&&"LCI_CONNECTED"===d&&(r=o.Call.Status.HOLD),"LCI_CONNECTED"===_&&"LCI_HELD"===d&&(r=o.Call.Status.PUT_ON_HOLD),"LCI_CONNECTED"===_&&"LCI_QUEUED"===d&&(r=o.Call.Status.QUEUED_OUTGOING),"LCI_QUEUED"===_&&"LCI_CONNECTED"===d&&(r=o.Call.Status.QUEUED_INCOMMING),"LCI_ALERTING"===_&&(r=o.Call.Status.RINGING_INCOMMING);var s=null;0===p.length?(t&&t.temp&&""!==C&&t.updateName(y,C),s=v.getOrCreateCall(r,u,t),a.info("[telephonyService] createCallFromConnectionElem - create call for user: "+t.id+" with callId: "+u+" "+_)):((s=v.getOrCreateCall(r,u)).setParticipants(t),s.isConference=!0,a.info("[telephonyService] createCallFromConnectionElem - create conference call with callId: "+u+" "+_)),s.relevantEquipmentId=o.Call.getDeviceIdFromConnectionId(u),s.isSecondary=n,s.publish("ON_CALL_UPDATED_EVENT"),i.$broadcast("ON_CALL_UPDATED_EVENT",s),e(s)})).catch((function(e){a.error("[TelephonyService] createCallFromConnectionElem - failure - "+e.message),r(e)})):e()}))},v.getParticipantsFromParticipantsElem=function(t){return e((function(n,r){const o=[],i=[];t.each((function(){const t=angular.element(this);let n=t.find("endpointTel").text();const r=t.find("endpointIm").text();r&&m.a.isUserContactJid(r)||i.push(e((function(e,t){r||n||(n="****"),m.a.getOrCreateContact(r,n).then((function(t){o.push(t),e()})).catch((function(e){t(e)}))})))})),e.all(i).then((function(){n(o)}),(function(e){r(e)}))}))},v.getOrCreateCall=function(e,t,n){let r=v.calls[o.Call.getIdFromConnectionId(t)];return r?(r.setConnectionId(t),r.startDate=new Date):(r=o.Call.create(e,null,o.Call.Type.PHONE,n),r.setConnectionId(t),v.calls[r.id]=r),r},v.createCallSipWise=function(e,t){let n=null;return t&&(n=v.calls[t]),n?n.startDate=new Date:(n=o.Call.create(e,t,o.Call.Type.PHONE),v.calls[n.id]=n),n},v.getOrCreateCallSipWise=function(e,t,n,r,i){let s=null;return t&&(s=v.calls[t]),s?(s.setConnectionIdSipWise(n),i&&s.setContact(i),r&&s.setDeviceIdSipWise(r),s.startDate=new Date):(s=o.Call.create(e,t,o.Call.Type.PHONE,i),s.setConnectionIdSipWise(n),s.setDeviceIdSipWise(r),v.calls[s.id]=s),s},v.attachHandlers=function(){if(a.info("[telephonyService] attachHandlers"),0===Object.keys(v.calls||[]).length&&(i.telephonyAreaClass=""),v.messageHandlerRef&&(u.a.deleteHandler(v.messageHandlerRef),v.messageHandlerRef=null),v.messageHandlerRef=u.a.addHandler((function(e){return v.telephonyEventHandler.onCallserviceMessageReceived(e),!0}),y,"message",null),v.isSipWiseRoot()){let e="urn:xmpp:pbxagent:overflowOnSubscriberUpdated:1";v.overflowUpdatRef&&(u.a.deleteHandler(v.overflowUpdatRef),v.overflowUpdatRef=null),v.overflowUpdatRef=u.a.addHandler((function(e){return v.telephonyEventHandler.onOverflowUpdateMessageReceived(e),!0}),e,"message",null);let t="urn:xmpp:rvcp:userConfiguration:1";v.userConfigurationRef&&(u.a.deleteHandler(v.userConfigurationRef),v.userConfigurationRef=null),v.userConfigurationRef=u.a.addHandler((function(e){return v.telephonyEventHandler.onUserConfigurationMessageReceived(e),!0}),t,"message",null)}},v.stop=function(){let t;for(a.info(""),a.info("[telephonyService] === STOPPING ==="),v.starting=v.started=!1,v.userJidTel=null,v.calls=null,v.messageHandlerRef&&(u.a.deleteHandler(v.messageHandlerRef),v.messageHandlerRef=null),v.overflowUpdatRef&&(u.a.deleteHandler(v.overflowUpdatRef),v.overflowUpdatRef=null),v.userConfigurationRef&&(u.a.deleteHandler(v.userConfigurationRef),v.userConfigurationRef=null);t=b.pop();)t();return v.currentPgiObject={},D&&D.forEach(e=>{e.unsubscribe()}),a.info("[telephonyService] === STOPPED ==="),i.$broadcast("ON_TELEPHONY_STATUS_CHANGED_EVENT","stopped"),e.when()},v.getCallToHangOut=function(){const e=v.getCalls();if(!e||0===e.length)return null;const t=e[0].status;return 1===e.length||t===o.Call.Status.DIALING||t===o.Call.Status.ACTIVE||t===o.Call.Status.PUT_ON_HOLD?e[0]:e[1]},v.getActiveCall=function(){let e=null;return Object.keys(v.calls||[]).forEach((function(t){const n=v.calls[t];n.status===o.Call.Status.ACTIVE&&(e=n)})),e},v.getCalls=function(){const e=[];return Object.keys(v.calls||[]).forEach((function(t){const n=v.calls[t].status;n!==o.Call.Status.DIALING&&n!==o.Call.Status.RINGING_OUTGOING&&n!==o.Call.Status.QUEUED_OUTGOING&&n!==o.Call.Status.ACTIVE&&n!==o.Call.Status.HOLD&&n!==o.Call.Status.PUT_ON_HOLD&&n!==o.Call.Status.ERROR||e.push(v.calls[t])})),e},v.getNotIdleCalls=function(){const e=[];return Object.keys(v.calls||[]).forEach((function(t){const n=v.calls[t];n.status!==o.Call.Status.UNKNOWN&&e.push(n)})),e},v.getActiveCallsForContact=function(e){const t=[];return e&&e.jid&&Object.keys(v.calls||[]).forEach((function(n){!v.calls[n].contact||v.calls[n].contact.jid!==e.jid||v.calls[n].status!==o.Call.Status.DIALING&&v.calls[n].status!==o.Call.Status.RINGING_OUTGOING&&v.calls[n].status!==o.Call.Status.QUEUED_OUTGOING&&v.calls[n].status!==o.Call.Status.ACTIVE&&v.calls[n].status!==o.Call.Status.HOLD&&v.calls[n].status!==o.Call.Status.PUT_ON_HOLD||t.push(v.calls[n])})),t},v.getConferenceCallForContact=function(e){let t=null;return e&&e.jid&&Object.keys(v.calls||[]).forEach((function(n){v.calls[n].status===o.Call.Status.ACTIVE&&v.calls[n].isConference&&(v.calls[n].participants||[]).some((function(t){return t&&t.jid===e.jid}))&&(t=v.calls[n])})),t},v.logMakecallReqData=function(e,t){const n={};Object.keys(e).forEach((function(r){switch(r){case"calleeExtNumber":case"calleeIntNumber":case"calleeShortNumber":n[r]=h()(e[r]);break;case"calleeDisplayName":t&&(n[r]=t&&t.nameForLogs?t.nameForLogs:"");break;default:n[r]=e[r]}})),a.info("[telephonyService] makeCall data: "+JSON.stringify(n))},v.makeCall=function(t,n,r,o){a.info("TELAPI [telephonyService] makeCall to "+(t&&t.nameForLogs?t.nameForLogs:h()(n)));const i=v.getActiveCall();return v.makingCall?(a.warn("[telephonyService] makeCall failure - makeCall already making a call"),e.reject()):(v.makingCall=!0,i?v.isSipWise()?g.get("webrtcGatewayService").isMediaPillarCallSituation()?v.telephonyServiceSipWise.holdCallSipWise(v,i).then((function(){return v.telephonyServiceSipWise.makeSimpleCallSipWise(v,t,n)}),(function(t){return e.reject()})):v.telephonyServiceSipWise.makeSimpleCallSipWise(v,t,n):v.makeConsultationCall(t,n,i.connectionId,o):v.isSipWise()?v.telephonyServiceSipWise.makeSimpleCallSipWise(v,t,n):v.makeSimpleCall(t,n,r,o))},v.makeSimpleCall=function(t,n,r,o){if(a.info("[telephonyService] makeSimpleCall to "+(t&&t.nameForLogs?t.nameForLogs:h()(n))),!v.isBasicCallAllowed){const t=new Error("makeSimpleCall failure - Not Allowed");return t.status=t.errorDetailsCode="403",a.error("[telephonyService] "+t.message),v.makingCall=!1,e.reject(t)}if(g.get("webrtcGatewayService").isMediaPillarCallSituation()&&p.getWebrtcAudioCall())return a.info("[telephonyService] makeCall failure - webrtcgateway call not possible when webrtc call already engaged"),v.makingCall=!1,i.$broadcast("ON_CALL_NOTALLOWED_EVENT","webCallAlreadyProgress"),e.reject("webCallAlreadyProgress");const s=v.getPhoneInfo(t,n),l=v.portalURL+"calls",c={calleeExtNumber:s.longNumber,calleeIntNumber:s.internalNumber,calleeShortNumber:s.shortNumber,calleePbxId:s.pbxId,calleeDisplayName:t.displayName,callSubject:r,correlatorData:o,secondaryDeviceMakeCall:angular.isDefined(v.nomadicObject.makeCallInitiatorIsMain)&&!0===v.nomadicObject.featureActivated&&v.isNomadicEnabled?v.nomadicObject.makeCallInitiatorIsMain?"false":"true":void 0};return a.info("[telephonyService] makeSimpleCall POST "+l),v.logMakecallReqData(c,t),v.doRequestMakecall(t,n,"POST",l,c)},v.makeConsultationCall=function(t,n,r,i){if(a.info("[telephonyService] makeConsultationCall to "+(t&&t.nameForLogs?t.nameForLogs:h()(n))),!v.isSecondCallAllowed){const t=new Error("makeConsultationCall failure - Not Allowed");return t.status=t.errorDetailsCode="403",a.error("[telephonyService] "+t.message),v.makingCall=!1,e.reject(t)}const s=v.getPhoneInfo(t,n,i),l=v.portalURL+"calls/"+encodeURIComponent(r)+"/consultation",c={calleeExtNumber:s.longNumber,calleeIntNumber:s.internalNumber,calleeShortNumber:s.shortNumber,calleePbxId:s.pbxId,calleeDisplayName:t.displayName,correlatorData:s.correlatorData};return a.info("[telephonyService] makeConsultationCall POST "+l),v.logMakecallReqData(c,t),v.doRequestMakecall(t,n,"POST",l,c).catch((function(e){throw v.deleteCallIfInvalid(e,v.calls[o.Call.getIdFromConnectionId(r)]),e}))},v.doRequestMakecall=function(r,s,c,u,f){return e((function(e,_){a.info("[telephonyService] doRequestMakecall to "+(r&&r.nameForLogs?r.nameForLogs:h()(s)));const p=o.Call.create(o.Call.Status.UNKNOWN,null,o.Call.Type.PHONE,r);p.isSecondary=v.nomadicObject&&!v.nomadicObject.makeCallInitiatorIsMain,p.isOwner=!0,p.setIsVm(s===v.voicemailNumber),v.pendingMakeCalls.push(p),a.info("[telephonyService] doRequestMakecall Call created ("+p+")"),n({method:c,url:u,headers:l.a.getRequestHeader(),data:f}).then((function(t){a.info("[telephonyService] doRequestMakecall success : callee "+h()(s)+" callId: "+t.data.data.callId),v.pendingMakeCalls.includes(p)?(p.setStatus(o.Call.Status.DIALING),p.setConnectionId(t.data.data.callId),p.setRelevantEquipmentId(o.Call.getDeviceIdFromConnectionId(p.connectionId)),v.calls[p.id]=p,v.pendingMakeCalls.splice(v.pendingMakeCalls.indexOf(p),1),a.info("[telephonyService] doRequestMakecall Call confirmed by makecall acknowlegement ("+p+")"),p.publish("ON_CALL_UPDATED_EVENT"),i.$broadcast("ON_CALL_UPDATED_EVENT",p),e(p.id)):e(p.id?p.id:t.data.data.callId),v.makingCall=!1}),(function(e){a.error("[telephonyService] "+d.getErrorFullMessage(e,"makeCall")),p.setStatus(o.Call.Status.ERROR),p.errorMessage=e&&"403"===e.errorDetailsCode?"notAllowed":"invalidPhoneNumber",v.calls[p.contact.id]=p,v.pendingMakeCalls.splice(v.pendingMakeCalls.indexOf(p),1),p.autoClear=t((function(){v.clearCall(p)}),5e3,1),v.makingCall=!1,p.publish("ON_CALL_UPDATED_EVENT"),i.$broadcast("ON_CALL_UPDATED_EVENT",p);const n=d.handleError(e);_(n)}))}))},v.makeCallByPhoneNumber=function(t,n,r){return e((function(e,o){if(a.info("[telephonyService] makeCallByPhoneNumber : "+h()(t)),m.a.userContact.phonePro===t||m.a.userContact.phoneProCan===t||m.a.userContact.phonePbx===t){const e="makeCallByPhoneNumber failure: impossible to call its own phone number";return a.error("[telephonyService] "+e),void o(new Error(e))}let i=null;m.a.getOrCreateContact(null,t).then((function(e){return i=e,v.makeCall(e,t,n,r)})).then((function(){e()})).catch((function(e){const t="makeCallByPhoneNumber failure "+(e?e.message:"");a.error("[telephonyService] - callService - "+t),o(new Error(t))}))}))},v.getPhoneInfo=function(e,t,n){let r=t,o="",i="",s="";return e&&(t===e.phonePro||t===e.phoneProCan?(r=e.phoneProCan?e.phoneProCan:"",o=e.phonePbx,s=e.pbxId,i=e.phoneInternalNumber):t===e.phonePbx&&(r="",o=e.phonePbx,s=e.pbxId,i=e.phoneInternalNumber)),{longNumber:r,shortNumber:o,pbxId:s,internalNumber:i,correlatorData:n}},v.getErrorMessage=function(e,t){let n=t+" failure : ";if("error"===angular.element(e).attr("type")){const t=angular.element(e).find("error");if(t){const e=t.attr("type"),r=t.attr("code");e&&(n+=e+" : ","modify"===e&&(n+=t.find("text").text())),r&&"503"===r&&(n+="Agent error : service unavailable"),a.error("[telephonyService] "+n)}else n+="Unknown error";return n}return null},v.releaseCall=function(t){return e((function(e,r){if(a.info("TELAPI [telephonyService] releaseCall "+t.id),!v.isBasicCallAllowed){const e=new Error("releaseCall failure - Not Allowed");return e.status=e.errorDetailsCode="403",a.error("[telephonyService] "+e.message),void r(e)}if(t.pbxConnectionDown)return t.mediaPillarCall&&t.mediaPillarCall.webrtcCallRef&&t.mediaPillarCall.webrtcCallRef.status!==o.Call.Status.UNKNOWN?(a.info("[telephonyService] releaseCall "+t.id+" with pbx connection down : we release the mediapillar web call: "+t.mediaPillarCall.webrtcCallRef),p.releaseCall(t.mediaPillarCall.webrtcCallRef)):a.info("[telephonyService] releaseCall "+t.id+" with pbx connection down : "+(t.mediaPillarCall?t.mediaPillarCall.webrtcCallRef?"no need to release webrtc call with status "+t.mediaPillarCall.webrtcCallRef:"no MP webrtc call to release":"no MP context!")),a.info("[telephonyService] releaseCall "+t.id+" with pbx connection down : we remove the phone call"),v.clearCall(t),void e(t);if(v.isSipWise())return void v.telephonyServiceSipWise.releaseCallSipWise(v,t).then((function(t){e(t)}));const s=v.portalURL+"calls/"+encodeURIComponent(t.connectionId);a.info("[telephonyService] releaseCall DELETE "+s),n({method:"DELETE",url:s,headers:l.a.getRequestHeader()}).then((function(){t.setStatus(o.Call.Status.UNKNOWN),t.startDate=null,t.vm=!1,a.info("[telephonyService] releaseCall "+t.id+" - success"),t.publish("ON_CALL_UPDATED_EVENT"),i.$broadcast("ON_CALL_UPDATED_EVENT",t),delete v.calls[t.id],e(t)}),(function(e){const n=d.handleError(e);v.deleteCallIfInvalid(n,t),r(n),a.error("[telephonyService] "+d.getErrorFullMessage(e,"releaseCall"))}))}))},v.releaseCallAndNotify=function(t){return e((function(e,n){v.releaseCall(t).then((function(){e()})).catch((function(){t.setStatus(o.Call.Status.UNKNOWN),i.$broadcast("ON_CALL_UPDATED_EVENT",t),n()}))}))},v.deleteCallIfInvalid=function(e,t){e&&"telephony"===e.portal&&404100===e.errorDetailsCode&&e.message&&(e.message.toLowerCase().includes("invalid connection identifier")||e.message.toLowerCase().includes("failed to send releasecall"))&&t&&(a.warn("[telephonyService] deleteCallIfInvalid: delete client call non existing on server: "+t.id),t.setStatus(o.Call.Status.UNKNOWN),t.publish("ON_CALL_UPDATED_EVENT"),i.$broadcast("ON_CALL_UPDATED_EVENT",t),v.calls[t.id]&&delete v.calls[t.id])},v.answerCall=function(t){return e((function(e,r){a.info("[telephonyService] answerCall : "+t.id);const s=v.getActiveCall();if(!v.isBasicCallAllowed){const e=new Error("answerCall failure - Not Allowed");return e.status=e.errorDetailsCode="403",a.error("[telephonyService] "+e.message),void r(e)}if(t.isMediaPillarCall()&&g.get("webrtcGatewayService").isMediaPillarCallSituation(t)&&i.isDesktopApp){const n=t.getMediaPillarCall();if(n&&n.webrtcCallRef)return p.answerCall(n.webrtcCallRef,"audio"),a.info("[telephonyService] answer webrtcgateway sending webrtc proceed"),void e(t);a.info("[telephonyService] answer webrtcgateway | Anomaly media Pillar : answer but no webrtcCallref")}v.isSipWise()?v.telephonyServiceSipWise.answerCallSipWise(v,t).then((function(t){e(t)}),(function(e){r(e)})):t.status===o.Call.Status.QUEUED_INCOMMING&&s&&v.isOxe?v.holdCall(s).catch((function(e){a.warn("[telephonyService] holdCall (before answerCall) failed on callId:"+s.connectionId+" "+e)})).then((function(){return v.answerCall(t)})).then((function(t){e(t)})).catch((function(e){const t="answerCall failure : "+e.message;a.error("[telephonyService] - callService -  "+t),r(new Error(t))})):n({method:"PUT",url:v.portalURL+"calls/"+encodeURIComponent(t.connectionId)+"/answer",headers:l.a.getRequestHeader()}).then((function(n){t.setConnectionId(n.data.data.callId),t.setStatus(o.Call.Status.ACTIVE),a.info("[telephonyService] answerCall success : "+h()(t.contact.phone)+" Call ("+t+")"),t.publish("ON_CALL_UPDATED_EVENT"),i.$broadcast("ON_CALL_UPDATED_EVENT",t),e(t)}),(function(e){e.data&&"Device is not able to answer a call"===e.data.errorDetails&&i.$broadcast("ON_OPEN_GLOBAL_POPUP",{autoClose:!1,okLabel:"close",popupTitle:"warning",popupBody:"deviceDoesntAllowAnswer"}),t.setStatus(o.Call.Status.UNKNOWN);const n=d.handleError(e);r(n),a.error("[telephonyService] "+d.getErrorFullMessage(e,"answerCall"))}))}))},v.answerCallAndNotify=function(t){return e((function(e,n){v.answerCall(t).then((function(){e()})).catch((function(){t.setStatus(o.Call.Status.UNKNOWN),i.$broadcast("ON_CALL_UPDATED_EVENT",t),n()}))}))},v.holdCall=function(t){return e((function(e,r){if(a.info("[telephonyService] holdCall : callId: "+t.id+" "+t.contact.nameForLog),t&&t.status!==o.Call.Status.HOLD){if(!v.isSecondCallAllowed){const e=new Error("holdCall failure - Not Allowed");return e.status=e.errorDetailsCode="403",a.error("[telephonyService] "+e.message),void r(e)}v.isSipWise()?v.telephonyServiceSipWise.holdCallSipWise(v,t).then((function(t){e(t)}),(function(e){r(e)})):n({method:"PUT",url:v.portalURL+"calls/"+encodeURIComponent(t.connectionId)+"/hold",headers:l.a.getRequestHeader()}).then((function(n){a.info("[telephonyService] holdCall success : "+h()(t.contact.phone)+" Call ("+t+")"),t.setConnectionId(n.data.data.callId),t.setStatus(o.Call.Status.HOLD),t.publish("ON_CALL_UPDATED_EVENT"),i.$broadcast("ON_CALL_UPDATED_EVENT",t),e(t)}),(function(e){const t=d.handleError(e);r(t),a.error("[telephonyService] "+d.getErrorFullMessage(e,"holdCall"))}))}else e(t)}))},v.retrieveCall=function(t){return e((function(e,r){if(a.info("[telephonyService] retrieveCall callId: "+t.id+" "+t.contact.nameForLog),!v.isSecondCallAllowed){const e=new Error("retrieveCall failure - Not Allowed");return e.status=e.errorDetailsCode="403",a.error("[telephonyService] "+e.message),void r(e)}const s=v.getActiveCall();if(s)v.holdCall(s).then((function(){return v.retrieveCall(t)})).then((function(t){e(t)})).catch((function(e){const t="retrieveCall failure : "+e.message;a.error("[telephonyService] - callService -  "+t),r(new Error(t))}));else{if(v.isSipWise())return void v.telephonyServiceSipWise.retrieveCallSipWise(v,t).then((function(t){e(t)}),(function(e){r(e)}));n({method:"PUT",url:v.portalURL+"calls/"+encodeURIComponent(t.connectionId)+"/retrieve",headers:l.a.getRequestHeader()}).then((function(n){a.info("[telephonyService] retrieveCall success : "+h()(t.contact.phone)+" Call ("+t+")"),t.setConnectionId(n.data.data.callId),t.setStatus(o.Call.Status.ACTIVE),t.publish("ON_CALL_UPDATED_EVENT"),i.$broadcast("ON_CALL_UPDATED_EVENT",t),e()}),(function(e){const n=d.handleError(e);v.deleteCallIfInvalid(n,t),r(n),a.error("[telephonyService] "+d.getErrorFullMessage(e,"retrieveCall"))}))}}))},v.deflectCallToVM=function(t){return e((function(e,r){if(t){if(!v.isVMDeflectCallAllowed){const e=new Error("deflectCall failure - Not Allowed");return e.status=e.errorDetailsCode="403",a.error("[telephonyService] "+e.message),void r(e)}a.info("[telephonyService] deflectCallToVM "+t.contact.nameForLogs),v.isSipWise()?v.telephonyServiceSipWise.deflectCallSipWise(v,t,v.voicemailNumber).then((function(){e()}),(function(e){r(e)})):n({method:"PUT",url:v.portalURL+"calls/"+encodeURIComponent(t.connectionId)+"/deflect",headers:l.a.getRequestHeader(),data:{calleeExtNumber:"",calleeIntNumber:v.voicemailNumber,calleeShortNumber:v.voicemailNumber,calleePbxId:v.pbxId}}).then((function(){a.info("[telephonyService] deflectCall success"),e()}),(function(e){const t=d.handleError(e);r(t),a.error("[telephonyService] "+d.getErrorFullMessage(e,"deflectCallToVM"))}))}else e(t)}))},v.deflectCallToNumber=function(t,n){return e((function(e,r){if(t&&n){var o;if(!v.isVMDeflectCallAllowed)return(o=new Error("deflectCall failure - Not Allowed")).status=o.errorDetailsCode="403",a.error("[telephonyService] "+o.message),void r(o);a.info("[telephonyService] deflectCallToNumber "+t.contact.nameForLog),v.isSipWise()?v.telephonyServiceSipWise.deflectCallSipWise(v,t,n).then((function(){e()}),(function(e){r(e)})):((o=new Error("deflectCall failure - Not Allowed")).status=o.errorDetailsCode="403",a.error("[telephonyService] "+o.message),r(o))}else e(t)}))},v.transfertCall=function(t,r){return e((function(e,o){if(t&&r){if(!v.isTransferAllowed){const e=new Error("transferCall failure - Not Allowed");return e.status=e.errorDetailsCode="403",a.error("[telephonyService] "+e.message),void o(e)}if(a.info("[telephonyService] transfertCall held("+r.contact.displayName+") to active("+t.contact.displayName+")"),v.isSipWise())return v.telephonyServiceSipWise.transfertCallSipWise(v,t,r);n({method:"PUT",url:v.portalURL+"calls/"+encodeURIComponent(t.connectionId)+"/transfer/"+encodeURIComponent(r.connectionId),headers:l.a.getRequestHeader()}).then((function(){a.info("[telephonyService] transferCall success"),e()}),(function(e){const t=d.handleError(e);o(t),a.error("[telephonyService] "+d.getErrorFullMessage(e,"transfertCall"))}))}else e()}))},v.blindTransfertCall=function(t,n){return e((function(e,r){if(t&&n){var o;if(!v.isTransferAllowed||!v.isSipWise())return(o=new Error("blind transfertCall failure - Not Allowed")).status=o.errorDetailsCode="403",a.error("[telephonyService] "+o.message),void r(o);if("demo"===v.sipWiseMode())return v.telephonyServiceSipWise.blindTransfertCallSipWise(v,t,n);a.info("[telephonyService]  blind Transfert sipWise not implemented"),(o=new Error("blind transferCall failure - Not Allowed")).status=o.errorDetailsCode="403",a.error("[telephonyService] "+o.message),r(o)}else e()}))},v.conferenceCall=function(t,r){return e((function(e,o){if(t&&r){if(!v.isConferenceAllowed){const e=new Error("conferenceCall failure - Not Allowed");return e.status=e.errorDetailsCode="403",a.error("[telephonyService] "+e.message),void o(e)}if(a.info("TELAPI [telephonyService] conferenceCall "+t.connectionId+" ("+t.contact.displayName+") and "+r.connectionId+" ("+r.contact.displayName+")"),v.isSipWise())return v.telephonyServiceSipWise.conferenceCallSipWise(v,t,r);n({method:"PUT",url:v.portalURL+"calls/"+encodeURIComponent(t.connectionId)+"/conference/"+encodeURIComponent(r.connectionId),headers:l.a.getRequestHeader()}).then((function(){a.info("[telephonyService] conferenceCall success"),e()}),(function(e){const t=d.handleError(e);o(t),a.error("[telephonyService] "+d.getErrorFullMessage(e,"conferenceCall"))}))}else e()}))},v.sipWiseForwardToDevice=function(t,n,r){return e((function(e,o){if(a.info("[telephonyService] sipWiseforwardToDevice : "+t+" / destType = "+n+" / fwType = "+r),!v.isForwardEnabled){const e=new Error("sipWiseforwardToDevice failure - Not Allowed");return e.status=e.errorDetailsCode="403",a.error("[telephonyService] "+e.message),void o(e)}if(m.a.userContact.phonePro===t||m.a.userContact.phoneProCan===t||m.a.userContact.phonePbx===t){var i="sipWiseforwardToDevice failure: impossible to forward its own phone number";return a.error("[telephonyService] "+i),void o(new Error(i))}return t&&r&&""!==r&&n&&""!==n?v.isSipWise()?void v.telephonyServiceSipWise.forwardToDeviceSipWise(v,t,n,r).then((function(){e()}),(function(e){const t=d.handleError(e);o(t),a.error("[telephonyService] "+d.getErrorFullMessage(e,"forwardToDevice"))})):(i="sipWiseforwardToDevice not implemented if not sipWise case",a.error("[telephonyService] "+i),void o(new Error(i))):(i="sipWiseforwardToDevice failure: bad parameters",a.error("[telephonyService] "+i),void o(new Error(i)))}))},v.sipWiseCancelForward=function(t){return e((function(e,n){if(a.info("[telephonyService] sipWiseCancelForward :  fwType = "+t),!v.isForwardEnabled){const e=new Error("cancelForward failure - Not Allowed");return e.status=e.errorDetailsCode="403",a.error("[telephonyService] "+e.message),void n(e)}if(!v.isSipWise()){const e="sipWiseCancelForward not implemented if not sipWise case";return a.error("[telephonyService] "+e),void n(new Error(e))}v.telephonyServiceSipWise.cancelForwardSipWise(v,t).then((function(){e()}),(function(e){const t=d.handleError(e);n(t),a.error("[telephonyService] "+d.getErrorFullMessage(e,"sipWiseCancelForward"))}))}))},v.forwardToDevice=function(t){return e((function(e,r){if(a.info("[telephonyService] forwardToDevice : "+t),!v.isForwardEnabled){const e=new Error("forwardToDevice failure - Not Allowed");return e.status=e.errorDetailsCode="403",a.error("[telephonyService] "+e.message),void r(e)}if(m.a.userContact.phonePro===t||m.a.userContact.phoneProCan===t||m.a.userContact.phonePbx===t){const e="forwardToDevice failure: impossible to forward its own phone number";return a.error("[telephonyService] "+e),void r(new Error(e))}v.isSipWise()?m.a.getOrCreateContact(null,t).then((function(n){const o=v.getPhoneInfo(n,t);var i="externalNumber";""!==o.longNumber?(i="externalNumber",t=o.longNumber):(i="internalNumber",t=o.shortNumber),v.telephonyServiceSipWise.forwardToDeviceSipWise(v,t,i,"immediate").then((function(){e()}),(function(e){const t=d.handleError(e);r(t),a.error("[telephonyService] "+d.getErrorFullMessage(e,"forwardToDevice"))}))})):m.a.getOrCreateContact(null,t).then((function(o){const i=v.getPhoneInfo(o,t);n({method:"PUT",url:v.portalURL+"forward",headers:l.a.getRequestHeader(),data:{calleeExtNumber:i.longNumber,calleeIntNumber:i.internalNumber,calleeShortNumber:i.shortNumber,calleePbxId:i.pbxId,calleeDisplayName:o.displayName}}).then((function(){e()}),(function(e){const t=d.handleError(e);r(t),a.error("[telephonyService] "+d.getErrorFullMessage(e,"forwardToDevice"))}))}))}))},v.forwardToVoicemail=function(t){return e((function(e,r){if(a.info("[telephonyService] forwardToVoicemail"),!v.voiceMailFeatureEnabled||!v.isForwardEnabled){const e=new Error("forwardToVoicemail failure - voicemail/forward feature not enabled");return e.status=e.errorDetailsCode="404",a.error("[telephonyService] "+e.message),void r(e)}if(v.isSipWise()){const n=t||"immediate",o="voicemail";v.telephonyServiceSipWise.forwardToDeviceSipWise(v,v.voicemailNumber,o,n).then((function(){e()}),(function(e){const t=d.handleError(e);r(t),a.error("[telephonyService] "+d.getErrorFullMessage(e,"forwardToVoicemail"))}))}else n({method:"PUT",url:v.portalURL+"forward",headers:l.a.getRequestHeader(),data:{calleeExtNumber:"",calleeIntNumber:v.voicemailNumber,calleePbxId:v.pbxId}}).then((function(){a.info("[telephonyService] forwardToVoicemail success"),e()}),(function(e){const t=d.handleError(e);r(t),a.error("[telephonyService] "+d.getErrorFullMessage(e,"forwardToVoicemail"))}))}))},v.cancelForward=function(){return e((function(e,t){if(a.info("[telephonyService] cancelForward"),!v.isForwardEnabled){const e=new Error("cancelForward failure - Not Allowed");return e.status=e.errorDetailsCode="403",a.error("[telephonyService] "+e.message),void t(e)}if(v.isSipWise()){const n="immediate";v.telephonyServiceSipWise.cancelForwardSipWise(v,n).then((function(){e()}),(function(e){const n=d.handleError(e);t(n),a.error("[telephonyService] "+d.getErrorFullMessage(e,"cancelForward"))}))}else m.a.userContact.phonePbx?n({method:"PUT",url:v.portalURL+"forward",headers:l.a.getRequestHeader(),data:{calleeExtNumber:"",calleeIntNumber:"CANCELFORWARD",calleePbxId:v.pbxId}}).then((function(){a.info("[telephonyService] cancelForward success"),e()}),(function(e){const n=d.handleError(e);t(n),a.error("[telephonyService] "+d.getErrorFullMessage(e,"cancelForward"))})):t()}))},v.getForwardStatus=function(){return e((function(e,t){if(!v.isForwardEnabled){const e=new Error("getForwardStatus failure - Not Allowed");return e.status=e.errorDetailsCode="403",a.error("[telephonyService] "+e.message),void t(e)}if(v.starting||v.started){if(v.isSipWise())return void v.telephonyServiceSipWise.getForwardStatusSipWise(v).then((function(){e()}),(function(e){const n=d.handleError(e);t(n),a.error("[telephonyService] "+d.getErrorFullMessage(e,"getForwardStatus"))}));n({method:"GET",url:v.portalURL+"forward",headers:l.a.getRequestHeader()}).then((function(){a.info("[telephonyService] getForwardStatus success"),e()}),(function(e){const n=d.handleError(e);t(n),a.error("[telephonyService] "+d.getErrorFullMessage(e,"getForwardStatus"))}))}else t(new Error("getForwardStatus failure - Telephony not started"))}))},v.getForwardObject=function(){return v.forwardObject},v.isOverFlowStatusActivated=function(){return e((function(e,t){v.isSipWise()?v.telephonyServiceSipWise.getOverFlowStatusSipWise(m.a.userContact.systemId,m.a.userContact.phoneNumberId).then((function(t){e(t.activate)}),(function(e){t(e)})):e(!1)}))},v.nomadicLogin=function(t,r,o){return e((function(e,i){if(!v.isNomadicEnabled||!v.nomadicObject.featureActivated){const e=new Error("nomadicLogin failure - Not Allowed");return e.status=e.errorDetailsCode="403",a.error("[telephonyService] "+e.message),void i(e)}if(m.a.userContact.phonePro===t||m.a.userContact.phoneProCan===t||m.a.userContact.phonePbx===t){const e="nomadicLogin failure: impossible to use its own phone number like nomadic phone",t="nomadicImpossibleUseOwnPhonenumber";return a.error("[telephonyService] "+e),void i(new Error(t))}a.info("[telephonyService] nomadicLogin : "+h()(t)),o=o||!1,r=r||!1,v.nomadicAnswerNotTakedIntoAccount=o,m.a.getOrCreateContact(null,t).then((function(o){const s=v.getPhoneInfo(o,t);n({method:"PUT",url:v.portalURL+"nomadic/login",headers:l.a.getRequestHeader(),data:{destinationExtNumber:s.longNumber,destinationIntNumber:s.internalNumber,destinationShortNumber:s.shortNumber,destinationRainbowNumber:r?t:"",destinationPbxId:s.pbxId,destinationDisplayName:o.displayName,destinationCountry:o.country}}).then((function(){a.info("[telephonyService] nomadicLogin success"),e()}),(function(e){const t=d.handleError(e);i(t),a.error("[telephonyService] "+d.getErrorFullMessage(e,"nomadicLogin"))}))}))}))},v.nomadicLoginOnOfficePhone=function(){return e((function(e,t){if(!v.isNomadicEnabled||!v.nomadicObject.featureActivated){const e=new Error("nomadicLoginOnOfficePhone failure - Not Allowed");return e.status=e.errorDetailsCode="403",a.error("[telephonyService] "+e.message),void t(e)}a.info("[telephonyService] nomadicLoginOnOfficePhone"),n({method:"PUT",url:v.portalURL+"nomadic/login",headers:l.a.getRequestHeader()}).then((function(){a.info("[telephonyService] nomadicLoginOnOfficePhone success"),e()}),(function(e){const n=d.handleError(e);t(n),a.error("[telephonyService] "+d.getErrorFullMessage(e,"nomadicLoginOnOfficePhone"))}))}))},v.nomadicLogout=function(){return e((function(e,t){if(!v.isNomadicEnabled||!v.nomadicObject.featureActivated){const e=new Error("nomadicLogout failure - Not Allowed");return e.status=e.errorDetailsCode="403",a.error("[telephonyService] "+e.message),void t(e)}a.info("[telephonyService] nomadicLogout"),n({method:"PUT",url:v.portalURL+"nomadic/logout",headers:l.a.getRequestHeader()}).then((function(){a.info("[telephonyService] nomadicLogout success"),e()}),(function(e){const n=d.handleError(e);t(n),a.error("[telephonyService] "+d.getErrorFullMessage(e,"nomadicLogout"))}))}))},v.getNomadicStatus=function(){return e((function(e,t){if(v.isSipWise()){a.info("[telephonyService] getNomadicStatus -- SipWise bypass Nomadic");const t="";return t.featureActivated,t.modeActivated,t.makeCallInitiatorIsMain,void e()}if(!v.isNomadicEnabled){const e=new Error("getNomadicStatus failure - Not Allowed");return e.status=e.errorDetailsCode="403",a.error("[telephonyService] "+e.message),void t(e)}v.starting||v.started?n({method:"GET",url:v.portalURL+"nomadic",headers:l.a.getRequestHeader()}).then((function(t){a.info("[telephonyService] getNomadicStatus success"),v.updateNomadicData(t.data.data),e()}),(function(e){const n=d.handleError(e);t(n),a.error("[telephonyService] "+d.getErrorFullMessage(e,"getNomadicStatus"))})):t(new Error("getNomadicStatus failure - Telephony not started"))}))},v.setNomadicState=function(){return e((function(e,t){a.info("[telephonyService] setNomadicState"),n({method:"PUT",url:v.portalURL+"nomadic/state",headers:l.a.getRequestHeader(),data:{makeCallInitiatorIsMain:"true"}}).then((function(){a.info("[telephonyService] setNomadicState success"),e()}),(function(e){const n=d.handleError(e);t(n),a.error("[telephonyService] "+d.getErrorFullMessage(e,"setNomadicState"))}))}))},v.updateNomadicData=function(e){const t=e.destination?h()(e.destination):"";a.info("[telephonyService] updateNomadicData destination: "+t+" featureActivated: "+e.featureActivated+" makeCallInitiatorIsMain: "+e.makeCallInitiatorIsMain+" modeActivated: "+e.modeActivated+" monodevice: "+m.a.userContact.isVirtualTerm+" NomadicInitialized: "+e.nomadicModeInitialized);const n=JSON.parse(JSON.stringify(v.nomadicObject));v.nomadicObject.featureActivated="true"===e.featureActivated,v.nomadicObject.modeActivated="true"===e.modeActivated,v.nomadicObject.destination=e.destination,v.nomadicObject.makeCallInitiatorIsMain="true"===e.makeCallInitiatorIsMain,void 0===e.nomadicModeInitialized?v.nomadicObject.nomadicModeInitialized=!0:v.nomadicObject.nomadicModeInitialized="true"===e.nomadicModeInitialized;const r=n.makeCallInitiatorIsMain!==v.nomadicObject.makeCallInitiatorIsMain;v.nomadicAnswerNotTakedIntoAccount||i.$broadcast("ON_CALL_NOMADIC_EVENT",v.nomadicObject),v.nomadicAnswerNotTakedIntoAccount=!1;const o=g.get("webrtcGatewayService");if(!v.nomadicObject.featureActivated||v.nomadicObject.nomadicModeInitialized||""!==v.nomadicObject.destination&&void 0!==v.nomadicObject.destination||!o.isMediaPillarConfigured())if(m.a.userContact.isVirtualTerm||!v.nomadicObject.featureActivated||v.nomadicObject.nomadicModeInitialized||""!==v.nomadicObject.destination&&void 0!==v.nomadicObject.destination||!m.a.userContact.mobileProCan&&!m.a.userContact.mobilePerso)!m.a.userContact.isVirtualTerm||!v.nomadicObject.featureActivated||v.nomadicObject.nomadicModeInitialized||""!==v.nomadicObject.destination&&void 0!==v.nomadicObject.destination||!m.a.userContact.mobileProCan&&!m.a.userContact.mobilePerso?m.a.userContact.isVirtualTerm&&v.nomadicObject.featureActivated&&!v.nomadicObject.makeCallInitiatorIsMain&&!v.nomadicObject.modeActivated&&o.isMediaPillarConfigured()&&(s=o.getMyMediaPillarRemoteExtension(),v.nomadicLogin(s)):(s=m.a.userContact.mobileProCan?m.a.userContact.mobileProCan:m.a.userContact.mobilePerso,v.nomadicLogin(s));else{var s=m.a.userContact.mobileProCan?m.a.userContact.mobileProCan:m.a.userContact.mobilePerso;v.nomadicLogin(s,!1,!0).then((function(){v.nomadicLoginOnOfficePhone()}))}else{s=o.getMyMediaPillarRemoteExtension();v.nomadicLogin(s)}return r},v.getNomadicObject=function(){return v.nomadicObject},v.getNomadicDestination=function(){return v.nomadicObject.destination},v.sendDtmf=function(t,r){return e((function(e,o){if(t&&r){if(a.info("[telephonyService] sendDtmf for call "+t.id),v.isSipWise())return void v.telephonyServiceSipWise.sendDtmfSipWise(v,t,r).then((function(){e()}),(function(e){o(e)}));n({method:"PUT",url:v.portalURL+"calls/"+encodeURIComponent(t.connectionId)+"/dtmf",headers:l.a.getRequestHeader(),data:{dtmf:r}}).then((function(){a.info("[telephonyService] sendDtmf success"),i.$broadcast("ON_DTMF_SENT",r),e()}),(function(e){const t=d.handleError(e);o(t),a.error("[telephonyService] "+d.getErrorFullMessage(e,"sendDtmf"))}))}else o()}))},v.clearCall=function(e,t){if(e)a.info("[telephonyService] clearCall for call id: "+e.id),e.setStatus(o.Call.Status.UNKNOWN),t||(e.publish("ON_CALL_UPDATED_EVENT"),i.$broadcast("ON_CALL_UPDATED_EVENT",e)),e.contact&&delete v.calls[e.contact.id],e.getCurrentCalled()&&e.setCurrentCalled(null);else{const e="clearCall failure : call null";a.error("[telephonyService]"+e)}},v.startAsPhoneNumber=function(e){const t=e.trim().split(".").join("");if(t.length<2)return!1;const n=t.match(/^(\+|\d|#|\*|\(|\)|\.|-|–|—|\s|\/)*$/);return!!n&&n[0]===t},v.updateContactFromOutlookInfos=function(t,n,r,o){return a.info("[telephonyService] default updateContactFromOutlookInfos"),e.reject()},v.isSipWiseRoot=function(){return"RVCP Subscriber"===m.a.userContact.systDeviceName},v.setSipWise=function(e){C=e},v.isSipWise=function(){return C},v.getSipWiseDevicesList=function(){return v.isSipWise()?v.telephonyServiceSipWise.getDevicesListSipWise():(a.info("[telephonyService] Anomaly not a sipWise situation"),NULL)},v.getSipWiseDevicesListCurrent=function(){a.info("[telephonyService] getSipWiseDevicesListCurrent"),v.isSipWise()?v.telephonyServiceSipWise.getUserRoutingInfo(v):a.info("[telephonyService] getSipWiseDevicesListCurrent Anomaly not a sipWise situation")},v.setSipWiseDevicesCurrent=function(e){v.isSipWise()?v.telephonyServiceSipWise.putUserRoutingInfo(v,e,null):a.info("[telephonyService] setSipWiseDevicesMain Anomaly not a sipWise situation")},v.sipWiseUserGroupsDataClear=function(){v.sipWiseUserGroupsData.myMemberId="",v.sipWiseUserGroupsData.huntingGroupNb=0,v.sipWiseUserGroupsData.managerAssistantNb=0,v.sipWiseUserGroupsData.managerAssistGrId=0,v.sipWiseUserGroupsData.managerId=0,v.sipWiseUserGroupsData.managerName="",v.sipWiseUserGroupsData.managerStatus="",v.sipWiseUserGroupsData.managerForward="unknow",v.sipWiseUserGroupsData.assistantId=0,v.sipWiseUserGroupsData.assistantName="",v.sipWiseUserGroupsData.assistantStatus="",v.sipWiseUserGroupsData.sipWiseUserGroupsList=[]},v.sipWiseUserGroupsDataIsManagerAssistant=function(){return!!(v.isSipWise()&&v.sipWiseUserGroupsData.managerAssistantNb>0)&&(1===v.sipWiseUserGroupsData.managerAssistantNb||(a.info("[telephonyService] sipWiseUserGroupsDataIsManagerAssistant Anomaly not 1:1 Manager/Assistant"),!1))},v.sipWiseManAssistGetMyRole=function(){var e="";if(v.isSipWise()&&v.sipWiseUserGroupsData.managerAssistantNb>0){var t=v.sipWiseUserGroupsData.sipWiseUserGroupsList.find(e=>"manager_assistant"===e.type);if(t){var n=t.members.find(e=>e.memberId===m.a.userContact.dbId);n&&(e=n.roles[0])}}return e},v.sipWiseManAssistIamManagerForwarded=function(){var e="unknown",t=!1;return v.isSipWise()&&1===v.sipWiseUserGroupsData.managerAssistantNb&&"manager"===v.sipWiseManAssistGetMyRole()&&(e=v.sipWiseUserGroupsData.managerForward),"activated"===e&&(t=!0),t},v.getSipWiseMyHuntingGroupNb=function(){var e=0;return v.isSipWise()&&v.sipWiseUserGroupsData.huntingGroupNb>0&&v.sipWiseUserGroupsData.sipWiseUserGroupsList.length>0&&v.sipWiseUserGroupsData.sipWiseUserGroupsList.forEach((function(t){"hunting_group"===t.type&&t.members.find(e=>e.memberId===v.sipWiseUserGroupsData.myMemberId)&&e++})),e},v.getSipWiseUserGroupsData=function(){return v.sipWiseUserGroupsData},v.getSipWiseUserGroups=function(){return e((function(e,t){if(a.info("[telephonyService] getSipWiseUserGroups"),!v.isSipWise()){const e="sipwise getUserGroups -- not a sipWise situation";return a.error("[telephonyService] "+e),void t()}v.telephonyServiceSipWise.getUserGroups(v).then((function(){return v.telephonyServiceSipWise.getAllUserGroupsForwards(v)})).then((function(){i.$broadcast("ON_TEL_USER_GROUPS_EVENT",v.sipWiseUserGroupsData),e()})).catch((function(e){a.info("[telephonyService] sipwise getSipWiseUserGroups CATCH");const n="sipwise getUserGroups -- "+e.message;a.error("[telephonyService] "+n),t(e)}))}))},v.setSipWiseJoinGroup=function(t){return e((function(e,n){if(a.info("[telephonyService] setSipWiseJoinGroup"),!v.isSipWise()){const e="sipwise join Group -- not a sipWise situation";return a.error("[telephonyService] "+e),void n()}if(!t){const e="sipwise join Group -- groupId anomaly";return a.error("[telephonyService] "+e),void n()}v.telephonyServiceSipWise.joinGroup(v,t).then((function(){i.$broadcast("ON_TEL_USER_GROUPS_EVENT",v.sipWiseUserGroupsData),e()})).catch((function(e){a.info("[telephonyService] sipwise joinGroup CATCH");const t="sipwise join Group -- "+e.message;a.error("[telephonyService] "+t),n(e)}))}))},v.setSipWiseLeaveGroup=function(t){return e((function(e,n){if(a.info("[telephonyService] setSipWiseLeaveGroup"),!v.isSipWise()){const e="sipwise leave Group -- not a sipWise situation";return a.error("[telephonyService] "+e),void n()}if(!t){const e="sipwise leave Group -- groupId anomaly";return a.error("[telephonyService] "+e),void n()}v.telephonyServiceSipWise.leaveGroup(v,t).then((function(){i.$broadcast("ON_TEL_USER_GROUPS_EVENT",v.sipWiseUserGroupsData),e()})).catch((function(e){a.info("[telephonyService] sipwise leaveGroup CATCH");const t="sipwise leave Group -- "+e.message;a.error("[telephonyService] "+t),n(e)}))}))},v.setSipWiseJoinAllGroups=function(){return e((function(e,t){if(a.info("[telephonyService] setSipWiseJoinAllGroups"),!v.isSipWise()){const e="sipwise joinAllGroups -- not a sipWise situation";return a.error("[telephonyService] "+e),void t()}v.telephonyServiceSipWise.joinAllGroups(v).then((function(){i.$broadcast("ON_TEL_USER_GROUPS_EVENT",v.sipWiseUserGroupsData),e()})).catch((function(e){a.info("[telephonyService] setSipWiseJoinAllGroups CATCH");const n="sipwise joinAllGroups -- "+e.message;a.error("[telephonyService] "+n),t(e)}))}))},v.setSipWiseLeaveAllGroups=function(){return e((function(e,t){if(a.info("[telephonyService] setSipWiseLeaveAllGroups"),!v.isSipWise()){const e="sipwise leaveAllGroups -- not a sipWise situation";return a.error("[telephonyService] "+e),void t()}v.telephonyServiceSipWise.leaveAllGroups(v).then((function(){i.$broadcast("ON_TEL_USER_GROUPS_EVENT",v.sipWiseUserGroupsData),e()})).catch((function(e){a.info("[telephonyService] setSipWiseLeaveAllGroups CATCH");const n="sipwise leaveAllGroups -- "+e.message;a.error("[telephonyService] "+n),t(e)}))}))},v.getSipWiseUserGroupsForwards=function(t){return e((function(e,n){if(a.info("[telephonyService] getSipWiseUserGroupsForwards"),!v.isSipWise()){const e="sipwise getUserGroupsForward -- not a sipWise situation";return a.error("[telephonyService] "+e),void n()}v.telephonyServiceSipWise.getUserGroupsForwards(v,t).then((function(){i.$broadcast("ON_TEL_USER_GROUPS_EVENT",v.sipWiseUserGroupsData),e()})).catch((function(e){a.info("[telephonyService] sipwise getSipWiseUserGroupsForwards CATCH");const t="sipwise getUserGroupsForwards -- "+e.message;a.error("[telephonyService] "+t),n(e)}))}))},v.setSipWiseUserGroupsForwards=function(t,n,r){return e((function(e,o){if(a.info("[telephonyService] setSipWiseUserGroupsForwards"),!v.isSipWise()){const e="sipwise setSipWiseUserGroupsForwards -- not a sipWise situation";return a.error("[telephonyService] "+e),void o()}v.telephonyServiceSipWise.setUserGroupsForwards(v,t,n,r).then((function(){e()})).catch((function(e){a.info("[telephonyService] setSipWiseUserGroupsForwards CATCH");const t="sipwise setSipWiseUserGroupsForwards -- "+e.message;a.error("[telephonyService] "+t),o(e)}))}))},v.sipWiseManAssistActivat=function(e,t){var n=!0,r=0;if(a.info("[telephonyService] sipWiseManAssistActivat  Activ : "+e+" groupName : "+t),0!==v.sipWiseUserGroupsData.managerAssistantNb){if(t||(t=""),v.sipWiseUserGroupsData.sipWiseUserGroupsList.forEach((function(e){n&&"manager_assistant"===e.type&&(t!==e.name&&""!==t||(r=e.id,n=!1))})),!n){var o={destinationType:"managersecretary"};o.activate=e,v.setSipWiseUserGroupsForwards(r,"immediate",o)}}else{const e="sipwise sipWiseManAssistActivat -- no Manager Assistant group available";a.error("[telephonyService] "+e)}},v.sipWiseEmergencyCallDataClear=function(){if(!v.isSipWiseRoot()){const e="sipWiseEmergencyCallDataClear -- not a sipWise situation";return a.error("[telephonyService] "+e),null}v.sipWiseEmergencyCallData.WGEmergencyCallForbidden=!1,v.sipWiseEmergencyCallData.emergencyNuList=[],v.sipWiseEmergencyCallData.serverData=null},v.getSipWiseEmergencyCallData=function(){if(!v.isSipWiseRoot()){const e="getSipWiseEmergencyCallData -- not a sipWise situation";return a.error("[telephonyService] "+e),null}return v.sipWiseEmergencyCallData},v.fetchSipWiseEmergencyCallData=function(){return e((function(e,t){if(a.info("[telephonyService] fetchSipWiseEmergencyCallData"),!v.isSipWise()){const e="fetchSipWiseEmergencyCallData -- not a sipWise situation";return a.error("[telephonyService] "+e),void t()}v.telephonyServiceSipWise.getEmergencyCallDataSipWise(v).then((function(){e()})).catch((function(e){a.info("[telephonyService] fetchSipWiseEmergencyCallData CATCH");const n="fetchSipWiseEmergencyCallData -- "+e.message;a.error("[telephonyService] "+n),t(e)}))}))},v.sipWiseMode=function(){let e=s.a.getSetting("sipWiseMode");return C||(e=!1),e},v.resetAllSipWiseCall=function(){if(v.isSipWise()){const e=$iq({type:"set",to:v.userJidTel+"/pcg2"}).c("telephony",{xmlns:"urn:xmpp:pbxagent:telephony:1"}).c("service").c("deleteCalls",{forced:"true"});u.a.sendIQ(e,6e4).then((function(e){a.info("[telephonyService] resetAllSipWiseCall : try to reset all ghost calls !"),console.error(e)})).catch((function(e){const t="resetAllSipWiseCall failure : "+e.message;a.error("[telephonyService]"+t)}))}},v.oxopbxsUpdateIndividualPassword=function(e){const t=config.restServerUrl+"/api/rainbow/oxopbxprovisioning/v1.0/oxopbxs/"+m.a.userContact.systemId+"/subscribers/"+m.a.userContact.dbId+"/password";return new Promise((r,o)=>{const i={password:e};n({method:"PUT",url:t,headers:l.a.getRequestHeader(),data:i}).then((function(e){a.info("[telephonyService] oxopbxsUpdateIndividualPassword : success"),r(e)}),(function(e){const t=d.handleError(e);return a.error("[telephonyService] oxopbxsUpdateIndividualPassword : error : "+e.data.errorDetails),o(t)}))})},v.setPgiCallObject=function(e,t,n,r){v.currentPgiObject={numberCalled:e,dtmfToSend:t,roomJid:n,callId:r}}}])},function(e,t,n){n.r(t);var r=n(1),o=n(49),i=n(7),s=n.n(i),a=n(43),l=n(15),c=n.n(l),u=n(2),d=n.n(u),f=n(58),_=n.n(f);angular.module("rainbow").factory("TelephonyServiceEventHandler",["$log","$q","$rootScope","$interval","$injector",function(e,t,n,i,l){function u(e){this.telephonyService=e,this.promiseQueue=o.PromiseQueue.create()}return u.create=function(e){return new u(e)},u.CallFailureLabels={DESTNOTOBTAINABLE:"outOfService",DONOTDISTURB:"dnd",TRUNKSBUSY:"trunksbusy",BUSY:"busy"},u.prototype.existingCall=function(t){var n=this.telephonyService.calls[t];return e.debug("[TelephonyServiceEventHandler] existingCall -- "+t+" => "+n),n},u.prototype.onCallserviceMessageReceived=function(t){try{var n=$(t),r=this;if("Offline Storage"===n.find("delay").text())return!0;var o=n.find("callservice").children(),i=o.prop("tagName").split(":"),s=i[i.length-1].toLowerCase(),a=o.attr("callId"),l=a?" -- "+a:"",c=o.attr("deviceType"),u=c?" -- "+c:"",d=o.attr("oldCallId");d=d?" -- old "+d:"",o.attr("correlatorData");var f=o.attr("globalCallId");f&&(f=f),c||(c="MAIN");var _=this.telephonyService.getNomadicObject(),h=!_||_.makeCallInitiatorIsMain||!_.modeActivated;if(!["messaging","voicemessages","forwarded","nomadicstatus","opendesktop"].includes(s)&&("MAIN"===c&&!h||"SECONDARY"===c&&h)&&!r.existingCall(a))return e.info("[TelephonyServiceEventHandler] onCallserviceMessageReceived -- "+s.toUpperCase()+l+d+u+" => IGNORED"),!0;switch(e.info("[TelephonyServiceEventHandler] onCallserviceMessageReceived -- "+s.toUpperCase()+l+d+u),s){case"initiated":this.promiseQueue.add((function(){return r.onInitiatedEvent(o)}));break;case"originated":this.promiseQueue.add((function(){return r.onOriginatedEvent(o)}));break;case"delivered":this.promiseQueue.add((function(){return r.onDeliveredEvent(o)}));break;case"established":this.promiseQueue.add((function(){return r.onEstablishedEvent(o)}));break;case"retrievecall":this.promiseQueue.add((function(){return r.onRetrieveCallEvent(o)}));break;case"queued":this.promiseQueue.add((function(){return r.onQueuedEvent(o)}));break;case"holdcall":case"held":this.promiseQueue.add((function(){return r.onHeldEvent(o)}));break;case"diverted":this.promiseQueue.add((function(){return r.onDivertedEvent(o)}));break;case"transfercall":case"transferred":this.promiseQueue.add((function(){return r.onTransferEvent(o)}));break;case"conferenced":this.promiseQueue.add((function(){return r.onConferenceEvent(o)}));break;case"connectioncleared":this.promiseQueue.add((function(){return r.onClearCallEvent(o)}));break;case"failed":this.promiseQueue.add((function(){return r.onFailCallEvent(o)}));break;case"updatecall":this.promiseQueue.add((function(){return r.onUpDateCallEvent(o)}));break;case"forwarded":this.promiseQueue.add((function(){return r.onCallForwardedEvent(o)}));break;case"callsubject":this.promiseQueue.add((function(){return r.onCallSubjectEvent(o)}));break;case"nomadicstatus":this.promiseQueue.add((function(){return r.onCallNomadicEvent(o)}));break;case"opendesktop":e.info("[TelephonyServiceEventHandler] openDesktop detected ")}return!0}catch(p){return e.error("[TelephonyServiceEventHandler] onCallserviceMessageReceived -- failure -- "+p.message),!0}},u.prototype.onInitiatedEvent=function(n){e.info("[TelephonyServiceEventHandler] onInitiatedEvent");var o=this;return this.getCall(n,!1,!0).then((function(i){try{var a=n.attr("deviceState"),c=n.attr("newCallId"),u=n.attr("cause");return void 0!==c?o.getOrCreateCall(c).then((function(t){e.info("[TelephonyServiceEventHandler] onInitiatedEvent : changed call id from "+i.id+" to "+c),o.computeCallRelevancy(n,t),"LCI_CONNECTED"===a?t.setStatus(r.Call.Status.ACTIVE):t.setStatus(i.status),t.setContact(i.contact),t.isOwner=i.isOwner;var s=_.a.getConferenceSessionWithConnId(i.connectionId);s&&(s.callId=c),i.isMediaPillarCall()&&l.get("webrtcGatewayService").replaceCallRefs(t,i),o.telephonyService.clearCall(i),o.sendCallUpdateEvent(i),o.sendCallUpdateEvent(t),delete o.telephonyService.calls[i.id]})):(o.computeCallRelevancy(n,i),s.a.isFeatureEnabled(s.a.FeaturesEnum.TELEPHONY_MAKE_CALL_CTI_APP)&&i.isSecondary&&!i.isOwner&&"MAKECALL"===u||"CALLBACK"===u?(e.info("[TelephonyServiceEventHandler] TELEPHONY_MAKE_CALL_CTI_APP - 3pcc activated"),d.a.getOrCreateContact("","000").then((function(e){i.setContact(e),i.setStatus(r.Call.Status.RINGING_INCOMMING),i.startDate=null,i.vm=!1,i.lastCause=u||"",o.sendCallUpdateEvent(i,n)}))):o.sendCallUpdateEvent(i)),t.when()}catch(h){var f="onInitiatedEvent -- "+h.message;return e.error("[TelephonyServiceEventHandler] "+f),t.reject(new Error(f))}}))},u.prototype.onOriginatedEvent=function(n){e.info("[TelephonyServiceEventHandler] onOriginatedEvent");var r=this;return this.getCall(n,!1,!0).then((function(o){try{var i=n.attr("endpointIm"),s=n.attr("endpointTel"),a=n.attr("newCallId"),c={contactPhoneNumber:"",contact:o.contact,participantsPhoneNumbers:null,participants:null};return i||s?c.contactPhoneNumber=s||"":o.contact&&o.contact.temp&&(c.contactPhoneNumber=o.contact.id),o.setCurrentCalled(c),void 0!==a?r.getOrCreateCall(a,i,s).then((function(t){e.info("[TelephonyServiceEventHandler] onOriginatedEvent : changed call id from "+o.id+" to "+a),r.computeCallRelevancy(n,t),t.setStatus(o.status),t.setContact(o.contact),t.setCurrentCalled(c),t.isOwner=o.isOwner;var i=_.a.getConferenceSessionWithConnId(o.connectionId);i&&(i.callId=a),o.isMediaPillarCall()&&l.get("webrtcGatewayService").replaceCallRefs(t,o),r.telephonyService.clearCall(o),r.sendCallUpdateEvent(o),r.sendCallUpdateEvent(t),delete r.telephonyService.calls[o.id]})):r.sendCallUpdateEvent(o),t.when()}catch(d){var u="onOriginatedEvent -- "+d.message;return e.error("[TelephonyServiceEventHandler] "+u),t.reject(new Error(u))}}))},u.prototype.onDeliveredEvent=function(n){e.info("[TelephonyServiceEventHandler] onDeliveredEvent");var o=this;return this.getCall(n).then((function(i){try{if(o.computeCallRelevancy(n,i),i.status===r.Call.Status.QUEUED_INCOMMING)return t.resolve();var s=n.attr("type"),a=n.attr("endpointIm"),l=n.attr("endpointTel"),c=n.attr("cause"),u=n.attr("correlatorData")?n.attr("correlatorData"):"",d=n.attr("globalCallId")?n.attr("globalCallId"):"";return i.setStatus("outgoing"===s?r.Call.Status.RINGING_OUTGOING:r.Call.Status.RINGING_INCOMMING),i.startDate=null,i.vm=!1,i.lastCause=c||"",i.correlatorData=u,i.globalCallId=d,o.updateCallContact(a,l,n,i)}catch(_){var f="onDeliveredEvent -- "+_.message;return e.error("[TelephonyServiceEventHandler] "+f),t.reject(new Error(f))}}))},u.prototype.onEstablishedEvent=function(n){e.info("[TelephonyServiceEventHandler] onEstablishedEvent");var o=this;return this.getCall(n).then((function(i){try{o.computeCallRelevancy(n,i);var s=n.attr("endpointIm"),a=n.attr("endpointTel"),l=n.attr("callId");if(i.contact&&i.contact.id)return i.setStatus(r.Call.Status.ACTIVE),i.setConnectionId(l),o.sendCallUpdateEvent(i,n),o.updateCallContact(s,a,n,i);if(!(i.participants&&i.participants.length>0))return e.info("[TelephonyServiceEventHandler] onEstablishedEvent, no call contact / no participants"),s||a||(a="****"),d.a.getOrCreateContact(s,a).then((function(e){return i.setContact(e),i.setStatus(r.Call.Status.ACTIVE),f={contactPhoneNumber:a,contact:e},i.setCurrentCalled(f),o.sendCallUpdateEvent(i,n),t.when()}));for(var c=null,u=0;u<i.participants.length&&!c;u++)(i.participants[u].id===s||i.currentCalled.participantsPhoneNumbers&&i.currentCalled.participantsPhoneNumbers.length>0&&i.currentCalled.participantsPhoneNumbers[u]===a)&&(c=i.participants[u]);i.participants=[],i.isConference=!1;var f=i.getCurrentCalled();return c?(i.setContact(c),i.setStatus(r.Call.Status.ACTIVE),f={contactPhoneNumber:a,contact:c},i.setCurrentCalled(f),o.sendCallUpdateEvent(i,n),t.when()):(s||a||(a="****"),d.a.getOrCreateContact(s,a).then((function(e){return i.setContact(e),i.setStatus(r.Call.Status.ACTIVE),f={contactPhoneNumber:a,contact:e},i.setCurrentCalled(f),o.sendCallUpdateEvent(i,n),t.when()})))}catch(h){var _="onEstablishedEvent -- "+h.message;return e.error("[TelephonyServiceEventHandler] "+_),t.reject(new Error(_))}}))},u.prototype.onRetrieveCallEvent=function(t){e.info("[TelephonyServiceEventHandler] onRetrieveCallEvent");var n=this;return this.getCall(t,!0).then((function(e){e.setStatus(r.Call.Status.ACTIVE),n.sendCallUpdateEvent(e,t)}))},u.prototype.onClearCallEvent=function(n){var o=this,i=n.attr("callId"),s=r.Call.getIdFromConnectionId(i);return e.info("[TelephonyServiceEventHandler] onClearCallEvent, connectionId: "+i),this.telephonyService.calls[s]?this.getCall(n).then((function(e){o.computeCallRelevancy(n,e),o.telephonyService.clearCall(e,!0),o.sendCallUpdateEvent(e,n)})):(e.info("[TelephonyServiceEventHandler] onClearCallEvent, no call for connectionId: "+i),t.resolve())},u.prototype.onHeldEvent=function(n){e.info("[TelephonyServiceEventHandler] onHeldEvent");var o=this;return this.getCall(n,!0).then((function(i){try{var s=n.attr("callId");return r.Call.getDeviceIdFromConnectionId(i.connectionId)===r.Call.getDeviceIdFromConnectionId(s)?i.setStatus(r.Call.Status.HOLD):i.setStatus(r.Call.Status.PUT_ON_HOLD),o.sendCallUpdateEvent(i,n),t.when()}catch(l){var a="onHeldEvent -- "+l.message;return e.error("[TelephonyServiceEventHandler] "+a),t.reject(new Error(a))}}))},u.prototype.onQueuedEvent=function(n){e.info("[TelephonyServiceEventHandler] onQueuedEvent");var o=this,i=n.attr("cause");return"PARK"===i?(e.warn("[TelephonyServiceEventHandler] onQueuedEvent - ignore PARK cause"),t.when()):"NEWCALL"===i?(e.warn("[TelephonyServiceEventHandler] onQueuedEvent - ignore NEWCALL cause"),t.when()):"CAMPON"!==i&&this.telephonyService.isOxe?(e.warn("[TelephonyServiceEventHandler] onQueuedEvent - ignore cause not CAMPON  (for oxe attendant res monoLine)"),t.when()):this.getCall(n).then((function(i){try{o.computeCallRelevancy(n,i);var s=n.attr("type"),a=n.attr("endpointIm"),l=n.attr("endpointTel"),c="outgoing"===s?r.Call.Status.QUEUED_OUTGOING:r.Call.Status.QUEUED_INCOMMING;return i.setStatus(c),i.startDate=null,i.vm=!1,i.relevantEquipmentId=r.Call.getDeviceIdFromConnectionId(i.connectionId),o.updateCallContact(a,l,n,i)}catch(d){var u="onQueuedEvent -- "+d.message;return e.error("[TelephonyServiceEventHandler] "+u),t.reject(new Error(u))}}))},u.prototype.onDivertedEvent=function(n){e.info("[TelephonyServiceEventHandler] onDivertedEvent");var o=n.attr("oldCallId"),i=r.Call.getIdFromConnectionId(o),s=this.telephonyService.calls[i];return s?(this.computeCallRelevancy(n,s),l.get("webrtcGatewayService").isMediaPillarCallCase()?s.isSecondary?this.telephonyService.clearCall(s):this.telephonyService.clearCall(s,!0):this.telephonyService.clearCall(s),this.sendCallUpdateEvent(s,n),t.when()):(e.warn("[TelephonyServiceEventHandler] onDivertedEvent - receive divertedEvent on unknown call --- ignored"),t.when())},u.prototype.onTransferEvent=function(n){e.info("[TelephonyServiceEventHandler] onTransferEvent");var o=this,i=n.attr("activeCallId"),s=n.attr("heldCallId"),a=n.attr("newCallId"),l=r.Call.getIdFromConnectionId(i),c=this.telephonyService.calls[l];if(s){var u=r.Call.getIdFromConnectionId(s),d=this.telephonyService.calls[u];d&&d.setStatus(r.Call.Status.UNKNOWN),c&&c.setStatus(r.Call.Status.UNKNOWN),d&&o.sendCallUpdateEvent(d),c&&o.sendCallUpdateEvent(c)}if(a){var f=n.attr("newEndpointIm"),_=n.attr("newEndpointTel"),h=n.attr("deviceState");h||(h=n.attr("deviceStatus"));var p=n.attr("deviceType");return p||(p="MAIN"),c&&(c.setStatus(r.Call.Status.UNKNOWN),o.sendCallUpdateEvent(c)),f||_||(_="****"),this.getOrCreateCall(a,f,_).then((function(e){return h&&"LCI_ALERTING"===h?e.setStatus(r.Call.Status.RINGING_INCOMMING):h&&"LCI_QUEUED"===h?e.setStatus(r.Call.Status.QUEUED_INCOMMING):e.setStatus(r.Call.Status.ACTIVE),e.relevantEquipmentId=r.Call.getDeviceIdFromConnectionId(a),e.isSecondary=p&&"SECONDARY"===p,o.updateCallContact(f,_,n,e)}))}return t.resolve()},u.prototype.onConferenceEvent=function(n){e.info("[TelephonyServiceEventHandler] onConferenceEvent");var o=this,i=n.find("primaryOldCallId").text(),s=n.find("secondaryOldCallId").text(),a=n.find("newCallId").text(),l=r.Call.getIdFromConnectionId(i),c=r.Call.getIdFromConnectionId(s),u=this.telephonyService.calls[l],f=this.telephonyService.calls[c],_=[],h=[],p=[];return n.find("participant").each((function(){var n=angular.element(this),r=n.find("endpointTel").text(),i=n.find("endpointIm").text();i&&d.a.isUserContactJid(i)||h.push(t((function(t,n){i||r||(r="****"),!i&&u&&u.contact&&u.currentCalled.contactPhoneNumber===r?(_.push(u.contact),p.push(r),t()):!i&&f&&f.contact&&f.currentCalled.contactPhoneNumber===r?(_.push(f.contact),p.push(r),t()):d.a.getOrCreateContact(i,r).then((function(n){_.push(n),p.push(r),o.telephonyService.updateContactFromOutlookInfos(n,r).then((function(t){t?e.debug("[TelephonyServiceEventHandler] on conferenced, update from outlook for contact :"+n.nameForLog):e.debug("[TelephonyServiceEventHandler] on conferenced, no update from outlook for contact :"+n.nameForLog)}),(function(){e.debug("[TelephonyServiceEventHandler] on conferenced, no Outlook search available")})).finally((function(){t()}))})).catch((function(n){e.error("[TelephonyServiceEventHandler] onConferenceEvent - Impossible to get contact - "+n.message),t()}))})))})),t.all(h).finally((function(){var t=!1;u&&(t=t||u.isSecondary),f&&(t=t||f.isSecondary);var n=o.createConferenceCall(a,_),i=n.getCurrentCalled();i.participants=_,i.participantsPhoneNumbers=p,n.setCurrentCalled(i),n.setStatus(r.Call.Status.ACTIVE),n.relevantEquipmentId=r.Call.getDeviceIdFromConnectionId(a),n.isSecondary=t,e.debug("[TelephonyServiceEventHandler] on conferenced, create new call: "+n),o.sendCallUpdateEvent(n),u&&(u.setStatus(r.Call.Status.UNKNOWN),e.debug("[TelephonyServiceEventHandler] on conferenced, updated primaryOldCall: "+u),o.sendCallUpdateEvent(u)),f&&(f.setStatus(r.Call.Status.UNKNOWN),e.debug("[TelephonyServiceEventHandler] on conferenced, updated secondaryOldCall: "+f),o.sendCallUpdateEvent(f))}))},u.prototype.onUpDateCallEvent=function(n){e.info("[TelephonyServiceEventHandler] onUpDateCallEvent");var r=this;return this.getCall(n).then((function(o){var l=n.attr("endpointIm"),u=n.attr("endpointTel"),f="",_="",h=n.find("identity").attr("firstName"),p=n.find("identity").attr("lastName"),m=n.find("identity").attr("displayName"),g=!1;if(!config.permitSearchFromPhoneBook&&!s.a.isFeatureEnabled(s.a.FeaturesEnum.TELEPHONY_PHONE_BOOK))return e.debug("[TelephonyServiceEventHandler] onUpDateCallEvent xnames not allowed for the user profile => IGNORED event"),t.when();if(p&&p.length)_=p,h&&h.length&&(f=h),e.info("[TelephonyServiceEventHandler] onUpDateCallEvent received for call "+o.id+" for phoneNumber:"+c()(u)+" with name : "+f.slice(0,1)+"***");else{if(!m||!m.length||m===u)return e.info("[TelephonyServiceEventHandler] onUpDateCallEvent xnames not available => IGNORED event"),t.when();_=m,e.info("[TelephonyServiceEventHandler] onUpDateCallEvent only displayName available")}return l||u||(u="****"),d.a.getOrCreateContact(l,u).then((function(t){if(t.temp){if(t.updateName(f,_),o.contact&&o.contact.id){var s={contactPhoneNumber:u,contact:t};o.contact.id===t.id&&o.contact.displayName!==u&&o.contact.nameUpdatePrio!==a.Contact.NameUpdatePrio.OUTLOOK_UPDATE_PRIO||(t.nameUpdatePrio=a.Contact.NameUpdatePrio.SERVER_UPDATE_PRIO,o.setContact(t),o.setCurrentCalled(s),g=!0,e.debug("[TelephonyServiceEventHandler] onUpDateCallEvent xnames updated for "+u+" with contact : "+t.nameForLog))}else if(o.participants&&o.participants.length>0){s=o.getCurrentCalled();for(var c=0;c<o.participants.length;c++)o.participants[c].temp?o.participants[c].phoneProCan&&o.participants[c].phoneProCan===u&&(e.debug("[TelephonyServiceEventHandler] onUpDateCallEvent temp participant "+o.participants[c].nameForLog+" updated with : "+t.nameForLog),o.participants[c]=t,o.participants[c].nameUpdatePrio=a.Contact.NameUpdatePrio.SERVER_UPDATE_PRIO,s.participantsPhoneNumbers[c]=u,s.participants[c]=t,g=!0):e.debug("[TelephonyServiceEventHandler] onUpDateCallEvent STRANGE former participant was a rainbow: "+o.participants[c].nameForLog);o.setCurrentCalled(s)}}else if(o.contact&&o.contact.id)s={contactPhoneNumber:u,contact:t},o.contact.id!==t.id&&(o.contact.temp&&(o.contact.updateName(f,_),o.contact.nameUpdatePrio=a.Contact.NameUpdatePrio.SERVER_UPDATE_PRIO),o.setContact(t),o.setCurrentCalled(s),g=!0,e.debug("[TelephonyServiceEventHandler] onUpDateCallEvent call update with rainbow contact : "+t.nameForLog));else if(o.participants&&o.participants.length>0){for(s=o.getCurrentCalled(),c=0;c<o.participants.length;c++)o.participants[c].temp?o.participants[c].phoneProCan&&o.participants[c].phoneProCan===u&&(e.debug("[TelephonyServiceEventHandler] onUpDateCallEvent temp participant "+o.participants[c].nameForLog+" updated with : "+t.nameForLog),o.participants[c]=t,o.setParticipants(o.participants),s.participantsPhoneNumbers[c]=u,s.participants[c]=t,g=!0):o.participants[c].jid===l?(s.participantsPhoneNumbers[c]=u,s.participants[c]=o.participants[c],g=!0,e.debug("[TelephonyServiceEventHandler] onUpDateCallEvent rainbow participant "+o.participants[c].nameForLog+" updated with the same : "+t.nameForLog)):e.debug("[TelephonyServiceEventHandler] onUpDateCallEvent other participant not updated : "+o.participants[c].nameForLog+" vs "+t.nameForLog);o.setCurrentCalled(s)}g?i((function(){r.sendCallUpdateEvent(o,n)}),300,1):e.debug("[TelephonyServiceEventHandler] onUpDateCallEvent, no update needed for call : "+o.id)}))}))},u.prototype.onFailCallEvent=function(t){e.info("[TelephonyServiceEventHandler] onFailCallEvent");var n=t.attr("cause"),o=this;return this.getCall(t).then((function(e){e.setStatus(r.Call.Status.ERROR),e.errorMessage=u.CallFailureLabels[n],e.errorMessage||(e.errorMessage=n),o.sendCallUpdateEvent(e,t)}))},u.prototype.onCallNomadicEvent=function(n){if(e.info("[TelephonyServiceEventHandler] onCallNomadicEvent"),!this.telephonyService.started&&!this.telephonyService.starting)return e.info("[TelephonyServiceEventHandler] onCallNomadicEvent on uninitialized telephony => relaunch telephony initialization"),this.telephonyService.launchTelephonyInitilization(),t.when();var r={destination:n.attr("destination"),featureActivated:n.attr("featureActivated"),makeCallInitiatorIsMain:n.attr("makeCallInitiatorIsMain"),modeActivated:n.attr("modeActivated"),nomadicModeInitialized:n.attr("nomadicModeInitialized")};if(this.telephonyService.updateNomadicData(r)){var o=this.telephonyService.nomadicObject.featureActivated&&this.telephonyService.nomadicObject.modeActivated&&!this.telephonyService.nomadicObject.makeCallInitiatorIsMain;this.telephonyService.getTelephonyState(o)}return t.when()},u.prototype.onCallForwardedEvent=function(r){var o=r.attr("forwardType"),i=r.attr("forwardTo");return e.info("[TelephonyServiceEventHandler] onCallForwardedEvent forwardType: "+o+" forwardTo: "+i),n.$broadcast("ON_CALL_FORWARDED_EVENT",{forwardType:o,forwardTo:i}),this.telephonyService.forwardObject.forwardType=o,this.telephonyService.forwardObject.forwardTo=i,t.when()},u.prototype.onCallSubjectEvent=function(n){e.info("[TelephonyServiceEventHandler] onCallSubjectEvent");var r=this;return this.getCall(n).then((function(o){try{o.subject=n.find("subject").text(),o.subject&&(e.info("[TelephonyServiceEventHandler] subject display"+o.subject),r.sendCallUpdateEvent(o))}catch(s){var i="onCallSubjectEvent -- "+s.message;e.error("[TelephonyServiceEventHandler] "+i),t.reject(new Error(i))}}))},u.prototype.computeCallRelevancy=function(t,n){var o=t.attr("newCallId"),i=o||t.attr("callId"),s=t.attr("deviceType"),a=r.Call.getDeviceIdFromConnectionId(i),l=this.telephonyService.getNomadicObject(),c=l.makeCallInitiatorIsMain;s||(s="MAIN"),l.modeActivated||(c=!0),"MAIN"===s&&c&&(n.relevantEquipmentId=a,n.connectionId=i),"SECONDARY"!==s||c||(n.relevantEquipmentId=a,n.connectionId=i),n.isSecondary=s&&"SECONDARY"===s&&!c,e.info("[TelephonyServiceEventHandler] computeCallRelevancy -- relevantEquipmentId: "+n.relevantEquipmentId+" connectionId: "+n.connectionId+" isSecondary: "+n.isSecondary)},u.prototype.getCall=function(e,n,r){const o=this;return t((function(t){const i=e.attr("endpointIm"),s=e.attr("endpointTel"),a=e.attr("callId");o.getOrCreateCall(a,i,s,n,r).then((function(e){t(e)}))}))},u.prototype.getOrCreateCall=function(n,o,i,s,a){const l=this;if(s){const t=n;n=Object.keys(this.telephonyService.calls||[]).find((function(e){return r.Call.getCallIdFromConnectionId(e)===r.Call.getCallIdFromConnectionId(n)})),e.debug("[TelephonyServiceEventHandler] getOrCreateCall - HOLD/RETRIEVE search call with callId: "+r.Call.getCallIdFromConnectionId(t)+" from connection id: "+t+" => found connectionId: "+n)}if(!n)return t.reject("no connection id");if(a){const i=this.telephonyService.pendingMakeCalls.pop();if(i)return i.setStatus(r.Call.Status.DIALING),i.setConnectionId(n),i.setRelevantEquipmentId(r.Call.getDeviceIdFromConnectionId(i.connectionId)),e.info("[TelephonyServiceEventHandler] getOrCreateCall - "+n+" - "+o+" => found pendingMakeCall: Call confirmed by csta event "+i),this.telephonyService.calls[i.id]=i,t.when(i)}const u=this.telephonyService.calls[n];return u?(e.info("[TelephonyServiceEventHandler] getOrCreateCall - "+n+" - "+c()(i)+" - "+o+" => found call: "+u),t.when(u)):(e.info("[TelephonyServiceEventHandler] getOrCreateCall - "+n+" - "+c()(i)+" - "+o+" => not found : create call..."),t((function(e){o||i||(i="****"),d.a.getOrCreateContact(o,i).then((function(t){e(l.telephonyService.getOrCreateCall(r.Call.Status.UNKNOWN,n,t))}))})))},u.prototype.createConferenceCall=function(e,t){var n=r.Call.create(r.Call.Status.UNKNOWN,null,r.Call.Type.PHONE);return n.setConnectionId(e),n.isConference=!0,n.setParticipants(t),this.telephonyService.calls[n.id]=n,n},u.prototype.sendCallUpdateEvent=function(e,t){var r=this.extractInfoEvent(t);n.$broadcast("ON_CALL_UPDATED_EVENT",e,r)},u.prototype.extractInfoEvent=function(e){var t={actionElemName:"",cause:""};if(e&&null!==e){var n=e.prop("tagName").split(":");t.actionElemName=n[n.length-1].toLowerCase(),t.cause=e.attr("cause"),t.cause=t.cause?t.cause:""}else t=null;return t},u.prototype.analyzeContactChange=function(e,t,n){var r=!1,o=!1;return e||t?n.isConference?void 0:n.contact?(""!==e?n.contact.id!==e&&(r=!0,o=!1):n.contact.temp?n.contact.id!==t?(r=!0,o=!0):n.contact.displayName===t&&(r=!1,o=!0):""!==n.getCurrentCalled().contactPhoneNumber&&""!==t&&n.getCurrentCalled().contactPhoneNumber!==t&&(r=!0,o=!0),r||o?{updateContactToBeDone:r,searchOutlookToBeDone:o}:null):{updateContactToBeDone:!0,searchOutlookToBeDone:!0}:null},u.prototype.updateCallContact=function(n,r,o,i){var s=this,a=o.prop("tagName").split(":"),l=a[a.length-1].toLowerCase();try{var c=s.analyzeContactChange(n,r,i);return i.isConference||""===r||i.setCurrentCalledContactNumber(r),c?d.a.getOrCreateContact(n,r).then((function(n){return c.searchOutlookToBeDone?s.telephonyService.updateContactFromOutlookInfos(n,r).then((function(t){t?(e.debug("[TelephonyServiceEventHandler] on "+l+", update from outlook for contact :"+n.nameForLog),s.makeUpdateContact(i,n,r,l)):(e.debug("[TelephonyServiceEventHandler] on "+l+", no update from outlook for contact :"+n.nameForLog),c.updateContactToBeDone?(e.debug("[TelephonyServiceEventHandler] on "+l+", update contact :"+n.nameForLog),s.makeUpdateContact(i,n,r,l)):s.sendCallUpdateEvent(i,o))}),(function(){e.debug("[TelephonyServiceEventHandler] on "+l+", no Outlook search available"),c.updateContactToBeDone?(e.debug("[TelephonyServiceEventHandler] on "+l+", update contact :"+n.nameForLog),s.makeUpdateContact(i,n,r,l)):s.sendCallUpdateEvent(i,o)})):(e.debug("[TelephonyServiceEventHandler] on "+l+", update contact :"+n.nameForLog),s.makeUpdateContact(i,n,r,l),t.when())})).catch((function(n){if(n){var r="updateCallContact -- "+n.message;e.error("[TelephonyServiceEventHandler] "+r)}return e.debug("[TelephonyServiceEventHandler] on "+l+", no Outlook search available"),s.sendCallUpdateEvent(i,o),t.when()})):(s.sendCallUpdateEvent(i,o),t.when())}catch(f){var u="updateCallContact -- "+f.message;return e.error("[TelephonyServiceEventHandler] "+u),t.reject(new Error(u))}},u.prototype.makeUpdateContact=function(e,t,n,o){var s=this;e.setContact(t);var a={contactPhoneNumber:n,contact:t};e.setCurrentCalled(a),"delivered"===o&&e.status===r.Call.Status.RINGING_INCOMMING?i((function(){s.sendCallUpdateEvent(e)}),300,1):s.sendCallUpdateEvent(e)},u}])},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(2),i=n(3),s=n(7),a=n(15);class l{constructor(e,t,n,r,a,l,c){this.$rootScope=e,this.$log=t,this.$http=n,this.$injector=r,this.orderByFilter=a,this.conversationService=l,this.errorHelperService=c,this.centralizedService=null,this.companyContactsNumber=0,this.otherCompanyContactsNumber=0,this.authService=i.default,this.profileService=s.default,this.contactService=o.default}start(e){return r(this,void 0,void 0,(function*(){this.$log.info("[DirectoryService] === STARTING ===");let t=performance.now();try{this.centralizedService=this.$injector.get("centralizedService")}catch(r){}let n=Math.round(performance.now()-t);e.push({service:"directoryService",startDuration:n}),this.$log.info("[DirectoryService] === STARTED ("+n+" ms) ===")}))}stop(){return r(this,void 0,void 0,(function*(){this.$log.info("[DirectoryService] Stopping"),this.$log.info("[DirectoryService] Stopped")}))}search(e,t=!1,n=20,o="",i=null){return r(this,void 0,void 0,(function*(){this.$log.info("[DirectoryService] searchContact with text "+a.default(e));let r=this.profileService.isFeatureEnabled(this.profileService.FeaturesEnum.SEARCH_BY_TAGS)?"search=":"displayName=",s=config.restServerUrl+"/api/rainbow/search/v1.0/users?limit="+n+"&"+r+encodeURIComponent(e);o&&(s+="&companyId="+encodeURIComponent(o)),i&&(s+="&excludeCompanyId="+encodeURIComponent(i));try{const n=(yield this.$http({method:"GET",url:s,headers:this.authService.getRequestHeader()})).data.data;this.$log.info("[DirectoryService] search find "+n.length+" contact(s)"),i?this.otherCompanyContactsNumber=n.length:this.companyContactsNumber=n.length;let r=[];if(n.forEach(e=>{if(this.contactService.isUserContactJid(e.jid_im))return void this.$log.info("[DirectoryService] search contact "+e.jid_im+" ignored");let t=this.contactService.getContact(e.jid_im);t||(t=this.contactService.createBasicContact(e.jid_im),t.updateFromUserData(e),t.getAvatar(),this.contactService.dbContacts[e.id]=t,this.contactService.jtelContacts[t.jidtel]=t),t.tags=e.tags,t.dbId=e.id,this.contactService.updateContactRichStatus(t),this.conversationService.computeCapabilitiesForContact(t,!1),r.push(t)}),t){let t=this.contactService.searchContacts(e);r=r.concat(t.filter(e=>e.roster&&r.indexOf(e)<0))}return r=this.orderByFilter(r,"_displayName",!1),r}catch(l){let e=l;throw l&&l.data&&(e=this.errorHelperService.handleError(l),this.$log.error("[DirectoryService] search - "+e.message),401===l.data.errorCode&&this.$rootScope.$broadcast("ON_SESSION_EXPIRED_NOTIFICATION_EVENT")),e}}))}getCompanyContactsNumber(){return this.companyContactsNumber}getOtherCompanyContactsNumber(){return this.otherCompanyContactsNumber}searchUserByLogin(e){return r(this,void 0,void 0,(function*(){this.$log.info('[DirectoryService] searchUserByLogin with "'+e+'"');const t=config.webservices.protocol+"://"+config.webservices.currentServer+":"+config.webservices.port+"/api/rainbow/enduser/v1.0/";try{const n=(yield this.$http({method:"POST",url:t+"users/loginEmails",headers:this.authService.getPostHeader(),data:{loginEmail:[e]}})).data.data;if(1===n.length){let t=yield this.contactService.getOrCreateContact(n[0].jid_im);return t.loginEmail=e,t}}catch(n){let e=n;throw n&&n.data&&(e=this.errorHelperService.handleError(n),this.$log.error("[DirectoryService] searchUserByLogin - "+e.message),401===n.data.errorCode&&this.$rootScope.$broadcast("ON_SESSION_EXPIRED_NOTIFICATION_EVENT")),e}}))}searchUserByJid(e){return r(this,void 0,void 0,(function*(){this.$log.info('[DirectoryService] searchUserByJid with "'+e+'"');const t=config.webservices.protocol+"://"+config.webservices.currentServer+":"+config.webservices.port+"/api/rainbow/enduser/v1.0/users/jids/";try{const n=(yield this.$http({method:"GET",url:t+encodeURIComponent(e),headers:this.authService.getRequestHeader()})).data;if(n){let t=yield this.contactService.getOrCreateContact(e);return t.updateFromUserData(n.data),t}}catch(n){let e=n;throw n&&n.data&&(e=this.errorHelperService.handleError(n),this.$log.error("[DirectoryService] searchUserByJid - "+e.message),401===n.data.errorCode&&this.$rootScope.$broadcast("ON_SESSION_EXPIRED_NOTIFICATION_EVENT")),e}}))}searchUserByPhoneNumber(e){return r(this,void 0,void 0,(function*(){this.$log.info('[DirectoryService] searchUserByPhoneNumber with "'+e+'"');const t=config.webservices.protocol+"://"+config.webservices.currentServer+":"+config.webservices.port+"/api/rainbow/search/v1.0/phone-numbers/"+e+"/users";try{const e=(yield this.$http({method:"GET",url:t,headers:this.authService.getRequestHeader()})).data.data;if(e)return yield this.contactService.getOrCreateContact(e.jid_im)}catch(n){let e=n;return n&&n.data&&(e=this.errorHelperService.handleError(n),this.$log.error("[DirectoryService] searchUserByPhoneNumber - "+e.message),401===n.data.errorCode&&this.$rootScope.$broadcast("ON_SESSION_EXPIRED_NOTIFICATION_EVENT")),null}}))}searchAllContacts(e,t=20,n="",o=!0,i=!0,s=null){return r(this,void 0,void 0,(function*(){this.$log.info("[DirectoryService] searchAllContacts with text "+e);try{let r=[];o&&(r=this.contactService.searchContacts(e));const a=yield this.search(e,!1,t,n,s);if(r=r.concat(a.filter(e=>!e.roster||r.indexOf(e)<0)),this.$log.info("[DirectoryService] searchAllContacts with text "+e+" found contacts "+r.length),i&&this.centralizedService){const[t,n]=yield Promise.all([this.searchOutlookUsersByEmail(e),this.searchOutlookUsersByName(e)]);let o=this.centralizedService.outlook.mergeOutlookContact(t,n);o=this.adaptOutlookContacts(o),r=r.concat(o),this.$log.info("[DirectoryService] searchAllContacts with text "+e+" with outlook contacts "+r.length)}return r}catch(r){throw this.$log.error("[DirectoryService] searchAllContacts - Unable to search all contacts"),r}}))}adaptOutlookContacts(e){return e&&e.length&&e.forEach(e=>{e.photo&&e.photo.src?e.avatar=e.photo:e.photo&&(e.avatar=new Image,e.avatar.src=e.photo),e.businessPhones=[],e.businessPhone&&e.businessPhones.push(e.businessPhone),e.mobilePhone&&(e.mobilePhones=[],e.mobilePhones.push(e.mobilePhone)),e.homePhone&&(e.otherPhoneNumbers=e.homePhone),e.emailAddress&&(e.email=e.emailAddress),e.outlookFlag=!0}),e}searchOutlookUsersByName(e){return r(this,void 0,void 0,(function*(){if(this.centralizedService)try{return yield this.centralizedService.outlook.searchByNameWithAvatar(e,2)}catch(t){return this.$log.warn("[DirectoryService] searchOutlookUsersByName - Outlook service unavailable"),[]}}))}searchOutlookUsersByEmail(e){return r(this,void 0,void 0,(function*(){if(this.centralizedService&&this.centralizedService.outlook)try{return yield this.centralizedService.outlook.searchByEmailWithAvatar(e,2)}catch(t){return this.$log.warn("[DirectoryService] searchOutlookUsersByEmail - Outlook service unavailable"),[]}}))}}l.$inject=["$rootScope","$log","$http","$injector","orderByFilter","conversationService","errorHelperService"],t.DirectoryService=l,angular.module("rainbow").service("directoryService",l)},function(e,t,n){n.r(t);var r=n(44),o=n(3),i=n.n(o),s=n(5),a=n.n(s),l=n(2),c=n.n(l);angular.module("rainbow").service("groupService",["$q","$rootScope","$log","$http","usersService",function(e,t,n,o,s){var l=this;this.started=!1,l.ON_REMOVE_GROUP_USER_EVENT="ON_REMOVE_GROUP_USER_EVENT",l.ON_ADD_GROUP_USER_EVENT="ON_ADD_GROUP_USER_EVENT",l.ON_GROUP_USERS_UPDATE_EVENT="ON_GROUP_USERS_UPDATE_EVENT",l.ON_CREATED_GROUP_EVENT="ON_CREATED_GROUP_EVENT",l.ON_UPDATE_GROUP_EVENT="ON_UPDATE_GROUP_EVENT",l.ON_REMOVED_GROUP_EVENT="ON_REMOVED_GROUP_EVENT",this.start=function(){n.info(""),n.info("[groupService] === STARTING ==="),l.portalURL=config.restServerUrl+"/api/rainbow/enduser/v1.0/users/"+i.a.userId+"/";var t=e.defer();return l.$q=e,l.groups=null,c.a.userContact.isCPaaSGuest()?t.resolve():(this.attachHandlers(),this.getGroups(),l.started=!0,n.info("[groupService] === STARTED ==="),t.resolve(),t.promise)},this.stop=function(){return n.info("[groupService] === STOPPING ==="),l.conversations=null,l.groups=null,this.groupMessageHandlerRef&&(a.a.deleteHandler(this.groupMessageHandlerRef),this.groupMessageHandlerRef=null),this.started=!1,n.info("[groupService] === STOPPED ==="),e.when()},this.getGroups=function(){return l.groups?e.when(l.groups):l.getRemoteGroups()},this.getGroupById=function(e){return l.group[e]},l.getGroupsAsArray=function(){var e=[];for(var t in l.groups)l.groups.hasOwnProperty(t)&&e.push(l.groups[t]);return e},this.getRemoteGroups=function(){n.info("[groupService] getGroups");var t=e.defer();return o({method:"GET",url:l.portalURL+"groups?format=full",headers:i.a.getRequestHeader()}).then((function(t){var o=t.data.data;n.info("[groupService] getGroups success (find "+t.data.total+" group(s))"),l.groups=[];var i=[];return o.forEach((function(e){var t=r.Group.createFromData(e);l.groups.push(t),angular.forEach(e.users,(function(e){i=c.a.getContactByDBId(e).then((function(e){e&&t.users.push(e)}))})),l.logGroupUsers(t),l.sortUsersInGroup(t)})),e.all(i)}),(function(e){var r="getGroups"+l.handleErrorMessage(e);t.reject(new Error(r)),n.error("[groupService] "+r)})).then((function(){t.resolve(l.groups)})),t.promise};var u=function(n,r){return e((function(e){l.groups.some((function(o){return o.id===n&&(o.users.some((function(e){return r===e.dbId}))?(e(o),t.$broadcast(l.ON_ADD_GROUP_USER_EVENT,n,r),!0):(c.a.getContactByDBId(r).then((function(i){o.users.push(i),l.sortUsersInGroup(o);var s=[o];i.getGroups()?i.getGroups().push(o):i.setGroups(s),t.$broadcast(l.ON_ADD_GROUP_USER_EVENT,n,r),e(o)})),!0))}))||(t.$broadcast(l.ON_ADD_GROUP_USER_EVENT,n,r),e())}))};this.getGroup=function(t){n.info("[groupService] getGroup  for "+t);var s=e.defer(),a=null;return o({method:"GET",url:l.portalURL+"groups/"+t,headers:i.a.getRequestHeader()}).then((function(t){var o=t.data.data,i=[];return a=r.Group.createFromData(o),n.info("[groupService] getGroup success for "+a.name+" : "+a.id),l.groups.some((function(e,t){return e.id===o.id&&(l.groups[t]=a,angular.forEach(o.users,(function(e){i=c.a.getContactByDBId(e.id).then((function(e){e&&(l.groups[t].users.push(e),l.sortUsersInGroup(l.groups[t]))}))})),!0)}))||(l.groups.push(a),angular.forEach(o.users,(function(e){i=c.a.getContactByDBId(e.id).then((function(e){if(e){a.users.push(e),l.sortUsersInGroup(a);var t=[a];e.getGroups()?e.getGroups().push(a):e.setGroups(t)}}))}))),e.all(i)}),(function(e){var t="getGroup"+l.handleErrorMessage(e);s.reject(new Error(t)),n.error("[groupService] "+t)})).then((function(){s.resolve(a)})),s.promise},this.addGroup=function(t){n.info("[groupService] addGroup : "+t.name);var s=e.defer();return o({method:"POST",url:l.portalURL+"groups",headers:i.a.getPostHeader(),data:{name:t.name,comment:t.comment,isFavorite:t.isFavorite}}).then((function(e){n.info("[groupService] addGroup success for : "+t.name);var o=e.data.data,i=r.Group.createFromData(o);s.resolve(i)}),(function(e){var t="addGroup"+l.handleErrorMessage(e),r=new Error(t);r.details=409===e.status?"conflict":"unknown",s.reject(r),n.error("[groupService] "+t)})),s.promise};var d=function(e){angular.forEach(l.groups,(function(t,n){t.id===e&&l.groups.splice(n,1)}))};this.removeGroup=function(t){n.info("[groupService] removeGroup : "+t);var r=e.defer();return o({method:"DELETE",url:l.portalURL+"groups/"+t,headers:i.a.getRequestHeader()}).then((function(){n.info("[groupService] removeGroup success for : "+t),d(t),r.resolve()}),(function(e){var t="removeGroup"+l.handleErrorMessage(e);r.reject(new Error(t)),n.error("[groupService] "+t)})),r.promise},this.updateGroup=function(t){n.info("[groupService] updateGroup for : "+t.name);var r=e.defer();return o({method:"PUT",url:l.portalURL+"groups/"+t.id,headers:i.a.getRequestHeader(),data:{name:t.name,comment:t.comment,isFavorite:t.isFavorite}}).then((function(){n.info("[groupService] updateGroup success for : "+t.name),r.resolve()}),(function(e){var t=l.handleErrorMessage(e,"updateGroup");r.reject(t),n.error("[groupService] "+t.message)})),r.promise},this.getGroupUsers=function(t){n.info("[groupService] getGroupUsers : "+t);var r=e.defer();return o({method:"GET",url:l.portalURL+"groups/"+t+"/users",headers:i.a.getRequestHeader()}).then((function(e){var o=e.data.data;n.info("[groupService] getGroupUsers success for "+t+" (find "+e.data.total+" users(s))"),r.resolve(o.users)}),(function(e){var t="getGroupUsers"+l.handleErrorMessage(e);r.reject(new Error(t)),n.error("[groupService] "+t)})),r.promise},this.addGroupUser=function(e,s){n.info("[groupService] addGroupUser");var a=l.$q.defer();return e.users.some((function(e){return s.dbId===e.dbId}))?(n.info("[groupService] addGroupUser - user: "+s.id+" already exist in group: "+e.name+" - no remote action"),void a.resolve()):(o({method:"POST",url:l.portalURL+"groups/"+e.id+"/users/"+s.dbId,headers:i.a.getPostHeader()}).then((function(o){n.info("[groupService] addGroupUser success: "+s.id+"/"+e.name),u(e.id,s.dbId).then((function(e){if(e)a.resolve(e);else{var t=o.data.data,n=r.Group.createFromData(t);a.resolve(n)}})),t.$broadcast(l.ON_GROUP_USERS_UPDATE_EVENT)}),(function(e){var t="addGroupUser"+l.handleErrorMessage(e);a.reject(new Error(t)),n.error("[groupService] "+t)})),a.promise)};var f=function(e,t){angular.forEach(l.groups,(function(n){n.id===e&&(angular.forEach(n.users,(function(r,o){r.dbId===t&&(n.users.splice(o,1),r.getGroups()&&angular.forEach(r.getGroups(),(function(t,n){t.id===e&&r.getGroups().splice(n,1)})))})),l.sortUsersInGroup(n))}))};this.getGroupById=function(e){var t=null;return angular.forEach(l.groups,(function(n){n.id===e&&(t=n)})),t},this.removeGroupUser=function(r,s){n.info("[groupService] removeGroupUser : "+r+"/"+s.id);var a=e.defer();return o({method:"DELETE",url:l.portalURL+"groups/"+r+"/users/"+s.dbId,headers:i.a.getRequestHeader()}).then((function(){n.info("[groupService] removeGroupUser success : "+r+"/"+s.id),f(r,s.dbId);var e=l.getGroupById(r);t.$broadcast(l.ON_GROUP_USERS_UPDATE_EVENT),a.resolve(e)}),(function(e){var t="removeGroupUser"+l.handleErrorMessage(e);a.reject(new Error(t)),n.error("[groupService] "+t)})),a.promise},this.getUserGroups=function(t){if(!t)return n.info("[groupService] getUserGroups for unknown user !"),e.when();n.info("[groupService] getUserGroups for user : "+t.id);var s=e.defer(),a=t.getGroups();return a?e.when(a):(o({method:"GET",url:l.portalURL+"groups?userId="+t.dbId,headers:i.a.getRequestHeader()}).then((function(e){var o=e.data.data;n.info("[groupService] getUserGroups success (find "+e.data.total+" group(s))");var i=[];o.forEach((function(e){var t=r.Group.createFromData(e);i.push(t)})),t.setGroups(i),l.logUserGroups(t.nameForLog,i),s.resolve(i)}),(function(e){var t="getUserGroups"+l.handleErrorMessage(e);s.reject(new Error(t)),n.error("[groupService] "+t)})),s.promise)},this.getGroupFromName=function(t){n.info("[groupService] getGroupFromName : "+t);var r=e.defer();return this.getGroups().then((function(e){var n=null;e.forEach((function(e){e.name===t&&(n=e)})),r.resolve(n)})),r.promise},this.sortUsersInGroup=function(e){e&&(e.sortedUserList=s.getFilterAndOrderUsersGroupedByOrderLabelAndUpdateActivity(e.users,t.orderType,t.filterType,!0))},this.searchLocalGroup=function(e){var t=[];return n.info("[groupService] searchLocalGroup with text "+e),e&&l.groups.forEach((function(n){n.name.toLowerCase().indexOf(e.toLowerCase().toString())>=0&&t.push(n)})),t},this.extractStanzaData=function(t){var n=e.defer(),r={outgoingMessage:!1};return r.body=angular.element(t)[0].firstChild,r.messageId=angular.element(t).attr("id"),n.resolve(r),n.promise},this.onGroupMessageReceived=function(e){try{return this.extractStanzaData(e).then((function(e){if(e.body&&"group"===e.body.tagName){var n=e.body.getAttribute("action"),r=e.body.getAttribute("scope"),o=e.body.getAttribute("id");switch(r){case"group":switch(n){case"create":l.getGroup(o).then((function(){t.$broadcast(l.ON_CREATED_GROUP_EVENT,o)}));break;case"update":var i=e.body.getAttribute("name"),s=e.body.getAttribute("comment"),a="true"===e.body.getAttribute("isFavorite");t.$broadcast(l.ON_UPDATE_GROUP_EVENT,o,i,s,a);break;case"delete":d(o),t.$broadcast(l.ON_REMOVED_GROUP_EVENT,o)}break;case"user":var c=e.body.getAttribute("userId");switch(n){case"create":u(o,c);break;case"delete":f(o,c),t.$broadcast(l.ON_REMOVE_GROUP_USER_EVENT,o,c)}}}})),!0}catch(n){return!0}},this.reconnect=function(){this.attachHandlers()},this.attachHandlers=function(){l.removeHandlers(),l.groupMessageHandlerRef||(l.groupMessageHandlerRef=a.a.addHandler((function(e){return l.onGroupMessageReceived(e)}),null,"message","management"))},this.removeHandlers=function(){l.groupMessageHandlerRef&&(a.a.deleteHandler(l.groupMessageHandlerRef),l.groupMessageHandlerRef=null)},this.handleBadRequest=function(e,t){if(400===t.status&&t.data.errorDetails&&t.data.errorDetails.length>0){var n={};t.data.errorDetails.forEach((function(e){n[e.param]=e.msg}));var r=new Error(e+" failure: BadRequest");return r.fieldErrors=n,r}return null},this.handleErrorMessage=function(e){var t=" failure: ";return 500===e.status&&(t+="Internal server error"),403===e.status?t+="Access is forbidden for the current user":404===e.status?t+=e.data.errorMsg:e.data&&e.data.errorDetails&&(t+=e.data.errorDetails),t},this.logUserGroups=function(e,t){var r="";t&&0!==t.length&&(t.forEach((function(e){e.name&&(r+=" "+e.name)})),n.info("[groupService] logUserGroups for "+e+":"+r))},this.logGroupUsers=function(e){var t;e&&e.users&&0!==e.users.length&&(t=e.users.map((function(e){return e.nameForLog})).join(" / "),n.info("[groupService] logGroupUsers for "+e.name+": "+t))}}])},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),o=n(27),i=n(4),s=n(2),a=n(3),l=n(5),c=n(7);var u;!function(e){e[e.Unknow=0]="Unknow",e[e.Free=1]="Free",e[e.WaitWebrtc=2]="WaitWebrtc",e[e.WaitTelephony=3]="WaitTelephony",e[e.CallOffer=4]="CallOffer",e[e.CallOnGoing=5]="CallOnGoing",e[e.CallActive=6]="CallActive",e[e.CallActiveNoWebMedia=7]="CallActiveNoWebMedia",e[e.TelCallReleasing=8]="TelCallReleasing",e[e.WebCallReleasing=9]="WebCallReleasing",e[e.RemoteControled=10]="RemoteControled",e[e.AnomalyCCS=11]="AnomalyCCS"}(u=t.MPCallState||(t.MPCallState={}));class d{constructor(e,t,n,r,o,i,u,d){this.$q=e,this.$rootScope=t,this.$log=n,this.$http=r,this.$interval=o,this.videoService=i,this.errorHelperService=u,this.telephonyService=d,this.started=!1,this.listeners=[],this.myContact=null,this.mediaPillarContact=null,this.mediaPillarConfigured=!1,this.mediaPillarAlive=!1,this.authService=a.default,this.evtQueue=[],this.SEM=0,this.xmppService=l.default,this.profileService=c.default,this.contactService=s.default,this.TO_transition=15e3,this.TO_transition_long=3e4,this.TO_NoWebMedia=6e4,this.TO_NoWebMediaNotel=5e3,this.TO_PILLAR_POLLING=3e5,this.TO_waitTelephony=600,this.mediaPillarKeepAliveSuspend=!1,this.mediaPillarCallContexts=[],this.mediaPillarCallContextId=1}start(e){const t=performance.now();return this.mediaPillarConfigured=!1,this.mediaPillarAlive=!1,this.portalURL=config.restServerUrl+"/api/rainbow/mediapillar/v1.0/mediapillars",this.myContact=this.contactService.userContact,this.mediaPillarContact=null,this.mediaPillarConnection={keepAlive_TO:null,mediaPillarJid:"",rainbowPhoneNumber:"",remoteExtension:""},this.mediaPillarCallContext={id:0,callState:u.Free,callState_TO:null,waitTelephony_TO:null,isOutgoingCall3PCC:!1,telephonyCallRefs:[],webrtcCallRef:null,previousCallConnectionId:null,previousCallStatus:null,updateContactFlag:!1,isIncomingCallPopupWithWebRtcCall:!1},this.mediaPillarCallContexts=[],this.profileService.isFeatureEnabled(this.profileService.FeaturesEnum.TELEPHONY_WEBRTC_PSTN_CALLING)?(this.$log.info("[WebrtcGatewayService] === STARTING ==="),this.started=!0,this.SEM=0,this.resetEvtAutomaton(),this.getMediaPillarData().then(n=>{this.mediaPillarContact=this.createMediaPillarContact(n),this.mediaPillarConnection.mediaPillarJid=n,this.$log.info("[WebrtcGatewayService] Pillar remoteExtension used : "+this.mediaPillarConnection.remoteExtension),""!==this.mediaPillarConnection.remoteExtension?this.mediaPillarConfigured=!0:(this.$log.warn("[WebrtcGatewayService] no remoteExtention available "),this.mediaPillarConfigured=!1),this.mediaPillarConfigured&&this.dummyRegisterMediaPillarCall().then(()=>{this.mediaPillarAlive=!0,this.$log.info("[WebrtcGatewayService] Pseudo media pillar register OK with extension "+this.mediaPillarConnection.remoteExtension),this.$rootScope.$broadcast("ON_WEBRTCGATEWAY_STATE_CHG",this.mediaPillarAlive)}).catch(e=>{this.mediaPillarAlive=!1,this.$log.info("[WebrtcGatewayService] Pseudo media pillar register KO"),this.$log.info("[WebrtcGatewayService] Initial polling activated on starting issue"),this.mediaPillarKeepAlivePolling("START",3e5),this.$rootScope.$broadcast("ON_WEBRTCGATEWAY_STATE_CHG",this.mediaPillarAlive)}),this.xmppConnectionSubscription=this.xmppService.subscribeToConnectionEvents(e=>{"ON_XMPP_DISCONNECTED"===e.name?(this.$log.info("[WebrtcGatewayService] onConnectionStateChangeEvent : disconnected then MP keepalive suspended"),this.mediaPillarKeepAliveSuspend=!0):"ON_XMPP_CONNECTED"===e.name&&(this.$log.info("[WebrtcGatewayService] onConnectionStateChangeEvent : connected then keepalive as necessary"),this.mediaPillarKeepAliveSuspend=!1,this.TO_PILLAR_POLLING=3e5)}),this.listeners.push(this.$rootScope.$on("ON_CALL_UPDATED_EVENT",(e,t,n)=>{this.onCallEvent(e,t,n)})),this.listeners.push(this.$rootScope.$on("ON_MEDIAPILLAR_CALL_REMOTE_CTRL_EVENT",(e,t)=>{this.onRemoteCtrlCall(e,t)}));const r=Math.round(performance.now()-t);e.push({service:"WebrtcGatewayService",startDuration:r}),this.$log.info("[WebrtcGatewayService] === STARTED ("+r+" ms) ===")}).catch(e=>{this.mediaPillarConnection.mediaPillarJid="",this.mediaPillarConnection.rainbowPhoneNumber="",this.mediaPillarConnection.remoteExtension="",this.mediaPillarConfigured=!1,this.mediaPillarAlive=!1,this.$log.info("[WebrtcGatewayService] === STARTING FAILURE === "+e.message)})):this.$log.info("[WebrtcGatewayService] === NO WEBRTCGATEWAY ENVOLVED === "),this.$q.when()}stop(){return this.$log.info("[WebrtcGatewayService] === STOPPING ==="),this.started=!1,this.mediaPillarConfigured=!1,this.mediaPillarAlive=!1,this.mediaPillarKeepAlivePolling("STOP",0),this.mediaPillarConnection&&(this.mediaPillarConnection.mediaPillarJid="",this.mediaPillarConnection.rainbowPhoneNumber="",this.mediaPillarConnection.remoteExtension=""),this.mediaPillarCallContext&&(this.releaseMediaPillarCallContext(),this.mediaPillarCallContext.callState=u.Unknow),this.mediaPillarCallContexts.forEach(e=>{this.releaseMediaPillarCallContext(e),e.callState=u.Unknow}),this.mediaPillarCallContexts=[],this.xmppConnectionSubscription&&this.xmppConnectionSubscription.unsubscribe(),this.listeners&&this.listeners.forEach(e=>{e()}),this.$log.info("[WebrtcGatewayService] === STOPPED ==="),this.$q.resolve()}onCallEvent(e,t,n){if(this.isMediaPillarCallCase()){const e=this.getOrCreateMediaPIllarCallContext(t);if(!e)return void this.$log.warn("[WebrtcGatewayService] onCallEvent : no mediaPillar Call Context found : Evt IGNORED");if(this.SEM++,this.$log.info("[WebrtcGatewayService] onCallEvent IN("+this.SEM+") state = "+e.callState),this.$log.info("[WebrtcGatewayService] onCallEvent "+e.callState+" --- "+t.type.value+"("+t.id+","+t.status.value+")"),n&&null!==n&&(this.$log.info("[WebrtcGatewayService] onCallEvent tel infoEvt = "+n),this.$log.info("[WebrtcGatewayService] onCallEvent tel infoEvt : Evt = "+n.actionElemName+" / cause = "+n.cause),"updatecall"===n.actionElemName&&(e.updateContactFlag=!0,this.$log.info("[WebrtcGatewayService] updateContactFlag = true"))),t.connectionId===e.previousCallConnectionId&&t.status===e.previousCallStatus&&!this.mediaPillarCallContext.updateContactFlag)return e.previousCallConnectionId=t.connectionId,e.previousCallStatus=t.status,this.$log.info("[WebrtcGatewayService] onCallEvent | DEBOUNCE EVT"),this.SEM--,void this.$log.info("[WebrtcGatewayService] onCallEvent OUT("+this.SEM+")");if(t.type.value===r.Call.Type.PHONE.value&&null===t.id)return e.previousCallConnectionId=t.connectionId,e.previousCallStatus=t.status,this.$log.info("[WebrtcGatewayService] onCallEvent | FILTER EVT null/error"),this.SEM--,void this.$log.info("[WebrtcGatewayService] onCallEvent OUT("+this.SEM+")");if(e.previousCallConnectionId=t.connectionId,e.previousCallStatus=t.status,this.evtQueue.push({call:t,mediaPillarCallContext:e}),this.evtQueue.length>1)return this.SEM--,void this.$log.info("[WebrtcGatewayService] onCallEvent OUT("+this.SEM+") evt pushed = "+t.status.value);for(;this.evtQueue.length;){try{this.processEvt(this.evtQueue[0])}catch(o){this.$log.error("[WebrtcGatewayService] onCallEvent queue processing | call : "+this.evtQueue[0].status.value+" Error : "+o)}this.evtQueue.splice(0,1)}this.SEM--,this.$log.info("[WebrtcGatewayService] onCallEvent OUT("+this.SEM+") state = "+this.mediaPillarCallContext.callState),0!==this.SEM&&(this.$log.error("[WebrtcGatewayService] onCallEvent OUT | Unmanaged Eventing Reentrancy Situation"),this.resetEvtAutomaton(),this.SEM=0)}}processEvt(e){const t=e.call;if(this.mediaPillarCallContext=e.mediaPillarCallContext,this.$log.info("[WebrtcGatewayService] processEvt | process "+t.type.value+"("+t.id+","+t.status.value+") in MPcontextCallstate = "+this.mediaPillarCallContext.callState+" CTX id "+this.mediaPillarCallContext.id),t.type.value===r.Call.Type.PHONE.value){var n=this.telephonyService.getCalls().length;if((()=>{let e=!1;return(t.status===r.Call.Status.DIALING||this.telephonyService.isSipWise())&&(t.isSecondary=!0),t.isSecondary?t.status===r.Call.Status.UNKNOWN||t.status===r.Call.Status.RINGING_INCOMMING||t.status===r.Call.Status.QUEUED_INCOMMING||t.status===r.Call.Status.ACTIVE?(this.addTelCallRefs(t),e=!1,e):this.mediaPillarCallContext.callState===u.RemoteControled?(this.$log.info("[WebrtcGatewayService] processEvt |  RemoteControled state for call : "+t.id+" then ignore"),e=!0,e):(this.addTelCallRefs(t),this.mediaPillarCallContext.telephonyCallRefs.length>1?(this.$log.info("[WebrtcGatewayService] processEvt |  nthCall : "+this.mediaPillarCallContext.telephonyCallRefs.length+" then ignore"),e=!0,e):e):(this.$log.info("[WebrtcGatewayService] processEvt | NOT SECONDARY then ignore"),e=!0,e)})())this.$log.info("[WebrtcGatewayService] processEvt |  call("+t.id+" / SEC "+t.isSecondary+", "+t.status.value+") -> EVT IGNORED"),this.$log.info("[WebrtcGatewayService] processEvt |  telephonyCallRefs.length = "+this.mediaPillarCallContext.telephonyCallRefs.length),this.$log.info("[WebrtcGatewayService] processEvt |  calls.length = "+n);else switch(this.$log.info("[WebrtcGatewayService] processEvt |  call("+t.id+" / SEC "+t.isSecondary+", "+t.status.value+") -> EVT PROCESSED"),this.$log.info("[WebrtcGatewayService] processEvt |  telephonyCallRefs.length = "+this.mediaPillarCallContext.telephonyCallRefs.length),this.$log.info("[WebrtcGatewayService] processEvt |  calls.length = "+n),t.status){case r.Call.Status.RINGING_INCOMMING:this.onTelCallIncomming(t);break;case r.Call.Status.DIALING:this.onTelCallDialling(t);break;case r.Call.Status.RINGING_OUTGOING:this.onTelCallOutgoing(t);break;case r.Call.Status.ACTIVE:this.onTelCallActive(t);break;case r.Call.Status.UNKNOWN:this.onTelCallReleasing(t)}}else if(this.isMediaPillarJid(this.xmppService.getBareJidFromJid(t.fullJid)))switch(t.status){case r.Call.Status.RINGING_INCOMMING:this.onWebrtcCallIncomming(t);break;case r.Call.Status.CONNECTING:this.onWebrtcCallConnecting(t);break;case r.Call.Status.ACTIVE:this.onWebrtcCallActive(t);break;case r.Call.Status.ANSWERING:this.onWebrtcCallAnswering(t);break;case r.Call.Status.UNKNOWN:this.onWebrtcCallReleasing(t)}else this.$log.info("[WebrtcGatewayService] processEvt | process call("+t.id+","+t.status.value+") -> Not a webrtcgateway case")}getOrCreateMediaPIllarCallContext(e){if(!this.telephonyService.isSipWise())return this.mediaPillarCallContext;if(e.type===r.Call.Type.WEBRTC){if(this.isMediaPillarJid(this.xmppService.getBareJidFromJid(e.fullJid)))switch(e.status){case r.Call.Status.RINGING_INCOMMING:return this.getOrCreateContextForWebrtcCallIncoming(e);default:return this.getContextForWebrtcCallExisting(e)}}else if(e.type===r.Call.Type.PHONE)return this.getOrCreateContextForTelCall(e);return null}getOrCreateContextForTelCall(e){this.$log.info("[WebrtcGatewayService] CTX getOrCreateContextForTelCall "+e);let t=this.mediaPillarCallContexts.find(t=>t.telephonyCallRefs&&t.telephonyCallRefs.length&&t.telephonyCallRefs[0].id===e.id);return t?(this.$log.info("[WebrtcGatewayService] CTX getOrCreateContextForTelCall "+e+" returns context id "+t.id),t):(t=this.mediaPillarCallContexts.find(t=>t.callState===u.WaitTelephony&&(!t.webrtcCallRef.getAssocPhoneCallId()||t.webrtcCallRef.getAssocPhoneCallId().includes(e.id))),t?(this.$log.info("[WebrtcGatewayService] CTX getOrCreateContextForTelCall "+e+" returns context id "+t.id),t):e.status===r.Call.Status.UNKNOWN?null:this.createMediaPIllarCallContext())}getOrCreateContextForWebrtcCallIncoming(e){this.$log.info("[WebrtcGatewayService] CTX getOrCreateContextForWebrtcCallIncoming "+e);const t=this.mediaPillarCallContexts.find(t=>t.callState===u.WaitWebrtc&&(!e.getAssocPhoneCallId()||t.telephonyCallRefs&&t.telephonyCallRefs.length&&e.getAssocPhoneCallId().includes(t.telephonyCallRefs[0].id)));return t?(this.$log.info("[WebrtcGatewayService] CTX getOrCreateContextForWebrtcCallIncoming "+e+" returns context id "+t.id),t):this.createMediaPIllarCallContext()}getContextForWebrtcCallExisting(e){this.$log.info("[WebrtcGatewayService] CTX getContextForWebrtcCallExisting "+e);const t=this.mediaPillarCallContexts.find(t=>t.webrtcCallRef&&t.webrtcCallRef.id===e.id);return this.$log.info("[WebrtcGatewayService] CTX getContextForWebrtcCallExisting "+e+" returns context id "+(t?t.id:" not found")),t}createMediaPIllarCallContext(){const e={id:this.mediaPillarCallContextId++,callState:u.Free,callState_TO:null,waitTelephony_TO:null,isOutgoingCall3PCC:!1,telephonyCallRefs:[],webrtcCallRef:null,previousCallConnectionId:null,previousCallStatus:null,updateContactFlag:!1,isIncomingCallPopupWithWebRtcCall:!1};return this.mediaPillarCallContexts.push(e),this.$log.info("[WebrtcGatewayService] CTX createMediaPIllarCallContext id "+e.id+" => nb contexts "+this.mediaPillarCallContexts.length),e}releaseMediaPillarCallContext(e=null){e||(e=this.mediaPillarCallContext),e.callState=u.Free,this.stopCallStateTimeOut(e),this.stopWaitTelephonyTimeOut(e),e.isOutgoingCall3PCC=!1,e.updateContactFlag=!1,e.telephonyCallRefs.length>0&&this.$log.warn("[WebrtcGatewayService] releaseMediaPillarCallContext | reset context but telephonyCallRefs not empty !"),null!==e.webrtcCallRef&&this.$log.warn("[WebrtcGatewayService] releaseMediaPillarCallContext | reset context but webrtcCallRef not null !"),e.telephonyCallRefs=[],e.webrtcCallRef=null,e.previousCallConnectionId=null,e.previousCallStatus="",e.isIncomingCallPopupWithWebRtcCall=!1;const t=this.mediaPillarCallContexts.indexOf(e);this.mediaPillarCallContexts.splice(t,1),this.$log.info("[WebrtcGatewayService] releaseMediaPillarCallContext id "+e.id+" => nb contexts "+this.mediaPillarCallContexts.length),this.$log.log("[WebrtcGatewayService] releaseMediaPillarCallContext | =====  mediaPillarCallContext RELEASED  ===== ")}resetEvtAutomaton(){this.evtQueue=[]}stopCallStateTimeOut(e=null){e||(e=this.mediaPillarCallContext),e.callState_TO&&this.$interval.cancel(e.callState_TO),e.callState_TO=null}stopWaitTelephonyTimeOut(e=null){e||(e=this.mediaPillarCallContext),e.waitTelephony_TO&&this.$interval.cancel(e.waitTelephony_TO),e.waitTelephony_TO=null}onRemoteCtrlCall(e,t){this.$log.info("[WebrtcGatewayService] onRemoteCtrlCall for call "+t.id+" in previous state: "+this.mediaPillarCallContext.callState+": => Becomes REMOTECONTROLED");let n=t.getMediaPillarCall();n||(n=this.mediaPillarCallContext),n.callState=u.RemoteControled,this.stopCallStateTimeOut(n)}addTelCallRefs(e){if(null==e)return void this.$log.warn("[WebrtcGatewayService] addTelCallRefs | ANOMALY callRef not valid");let t=!1;for(let n=0;n<this.mediaPillarCallContext.telephonyCallRefs.length;n++)this.mediaPillarCallContext.telephonyCallRefs.length&&this.mediaPillarCallContext.telephonyCallRefs[n].id===e.id&&(t=!0);t||this.mediaPillarCallContext.telephonyCallRefs.push(e)}removeTelCallRefs(e){if(null==e)return void this.$log.warn("[WebrtcGatewayService] removeTelCallRefs | ANOMALY callRef not valid");let t=0;for(;t<this.mediaPillarCallContext.telephonyCallRefs.length;)this.mediaPillarCallContext.telephonyCallRefs[t].id===e.id?(this.mediaPillarCallContext.telephonyCallRefs.splice(t,1),0===t&&this.mediaPillarCallContext.telephonyCallRefs.length&&(this.mediaPillarCallContext.telephonyCallRefs[0].setMediaPillarCall(this.getMediaPillarCallContext()),this.$log.log("[WebrtcGatewayService] removeTelCallRefs | master MP call becomes : "+this.mediaPillarCallContext.telephonyCallRefs[0].id))):t++}putAsMasterTelCallRefs(e){if(null==e)return void this.$log.warn("[WebrtcGatewayService] putAsMasterTelCallRefs | ANOMALY callRef not valid");let t=-1;for(var n=0;n<this.mediaPillarCallContext.telephonyCallRefs.length;n++)this.mediaPillarCallContext.telephonyCallRefs[n].id===e.id&&(t=n);if(this.$log.log("[WebrtcGatewayService] putAsMasterTelCallRefs | master MP call is : "+e.id),0!==t)if(-1!==t){let n=this.mediaPillarCallContext.telephonyCallRefs[0];this.mediaPillarCallContext.telephonyCallRefs[0]=e,this.mediaPillarCallContext.telephonyCallRefs[t]=n,e.setMediaPillarCall(this.getMediaPillarCallContext())}else this.$log.warn("[WebrtcGatewayService] putAsMasterTelCallRefs | Anomaly call not in telephonyCallRefs")}isMasterTelCallRefs(e){return null==e?(this.$log.warn("[WebrtcGatewayService] isMasterTelCallRefs | ANOMALY callRef not valid"),!1):0!==this.mediaPillarCallContext.telephonyCallRefs.length&&this.mediaPillarCallContext.telephonyCallRefs[0].id===e.id}isInTelCallRefs(e){if(null==e)return void this.$log.warn("[WebrtcGatewayService] isInTelCallRefs | ANOMALY callRef not valid");let t=-1;for(var n=0;n<this.mediaPillarCallContext.telephonyCallRefs.length;n++)this.mediaPillarCallContext.telephonyCallRefs[n].id===e.id&&(t=n);return-1!==t}replaceCallRefs(e,t){if(null==e||null==t)return void this.$log.warn("[WebrtcGatewayService] replaceCallRefs | ANOMALY callRef not valid");let n=!1,r=e.isMediaPillarCall(),o=t.isMediaPillarCall();this.isInTelCallRefs(e)&&(n=!0,this.$log.warn("[WebrtcGatewayService] replaceCallRefs | ANOMALY newcallRef already existing"),this.removeTelCallRefs(e));let i=-1;for(let s=0;s<this.mediaPillarCallContext.telephonyCallRefs.length;s++)this.mediaPillarCallContext.telephonyCallRefs[s].id===t.id&&(i=s);-1!==i?(this.mediaPillarCallContext.telephonyCallRefs[i]=e,o&&e.setMediaPillarCall(this.getMediaPillarCallContext()),t.setMediaPillarCall(null),0===i&&this.$log.log("[WebrtcGatewayService] replaceCallRefs | master MP call becomes : "+this.mediaPillarCallContext.telephonyCallRefs[0].id)):(this.$log.warn("[WebrtcGatewayService] replaceCallRefs | ANOMALY oldCallRef not found"),n&&(this.addTelCallRefs(e),r&&e.setMediaPillarCall(this.getMediaPillarCallContext())))}automatonDefenseTimout(e,t=null){t||(t=this.mediaPillarCallContext);let n=0;if(null!=e)if(e.type.value===r.Call.Type.PHONE.value)switch(this.$log.log("[WebrtcGatewayService] automatonDefenseTimout | transition telcall call="+e.id+" evt="+e.status.value+" then timout"),e.status){case r.Call.Status.RINGING_OUTGOING:case r.Call.Status.RINGING_INCOMMING:break;default:t.callState!==u.CallActive&&t.callState!==u.CallActiveNoWebMedia&&t.callState!==u.CallOffer&&t.callState!==u.CallOnGoing&&(n=2)}else if(this.isMediaPillarJid(this.xmppService.getBareJidFromJid(e.fullJid)))switch(this.$log.log("[WebrtcGatewayService] automatonDefenseTimout | transition webrtc "+e.status.value+" then timout"),e.status){case r.Call.Status.ACTIVE:break;default:t.callState!==u.CallActive&&t.callState!==u.CallActiveNoWebMedia&&t.callState!==u.CallOffer&&t.callState!==u.CallOnGoing&&(n=3)}else this.$log.warn("[WebrtcGatewayService] automatonDefenseTimout | anomaly transition webrtc call but Not a webrtcgateway case"),n=2;else t.callState!==u.CallActive&&t.callState!==u.CallActiveNoWebMedia&&t.callState!==u.RemoteControled&&t.callState!==u.CallOffer&&t.callState!==u.CallOnGoing&&(this.$log.log("[WebrtcGatewayService] automatonDefenseTimout | anomaly timout in unexpected state"),n=2);switch(0!==n&&this.$log.warn("[WebrtcGatewayService] automatonDefenseTimout | actionlevel "+n),n){case 0:break;case 1:this.TO_PILLAR_POLLING=3e5,this.mediaPillarAlive||this.mediaPillarKeepAlivePolling("START",this.TO_PILLAR_POLLING);break;case 2:this.TO_PILLAR_POLLING=3e5,this.mediaPillarAlive||this.mediaPillarKeepAlivePolling("START",this.TO_PILLAR_POLLING),this.releaseMediaPillarCallContext(t);break;case 3:this.TO_PILLAR_POLLING=3e5,this.mediaPillarAlive||this.mediaPillarKeepAlivePolling("START",this.TO_PILLAR_POLLING),this.mediaPillarReleaseWebrtcCall(t),this.releaseMediaPillarCallContext(t);break;default:this.TO_PILLAR_POLLING=3e5,this.mediaPillarAlive||this.mediaPillarKeepAlivePolling("START",this.TO_PILLAR_POLLING),this.mediaPillarCallTerminator(t)}t.callState!==u.Free&&(t.callState_TO=this.$interval(()=>{this.automatonDefenseTimout(null,t)},this.TO_transition,1))}onTelCallIncomming(e){if(this.mediaPillarCallContext.telephonyCallRefs.length>1&&this.mediaPillarCallContext.callState!==u.Free&&this.mediaPillarCallContext.callState!==u.WaitTelephony&&this.mediaPillarCallContext.callState!==u.WaitWebrtc)return this.$log.info("[WebrtcGatewayService] onTelCallIncomming | nth calls BUT trig the GUI & link the call"),e.setMediaPillarCall(this.getMediaPillarCallContext()),this.$log.info("[WebrtcGatewayService] onTelCallIncomming | ON_WEBRTC_GW_CALL_UPDATED_EVENT for call = "+e.id),this.mediaPillarCallContext.updateContactFlag=!0,void this.$rootScope.$broadcast("ON_WEBRTC_GW_CALL_UPDATED_EVENT",e);switch(this.$log.info("[WebrtcGatewayService] onTelCallIncomming | mediapilaryse as necessary for call "+e.id+" date "+i().format("HH:mm:ss:SSS")),this.mediaPillaryseTheCall(e,null)){case"Ok":if(this.stopWaitTelephonyTimeOut(),this.stopCallStateTimeOut(),this.mediaPillarCallContext.callState_TO=this.$interval(()=>{this.automatonDefenseTimout(e)},this.TO_transition,1),!this.isMediaPillarOutgoingCall()&&this.mediaPillarCallContext.callState===u.CallOffer&&this.mediaPillarCallContext.webrtcCallRef){const t=this.mediaPillarCallContext.isIncomingCallPopupWithWebRtcCall;t&&(this.$log.warn("[WebrtcGatewayService] onTelCallIncomming | Incoming tel phone while Popup displayed with Webrtc Call should happen in rare cases when csta event is very slow: use phone call info anyway for call "+e.id),this.mediaPillarCallContext.webrtcCallRef.contact=Object.assign(this.mediaPillarCallContext.webrtcCallRef.contact,e.contact),this.$rootScope.$broadcast("ON_CONVERSATION_CALL_UPDATED_EVENT",{conversation:null,call:this.mediaPillarCallContext.webrtcCallRef}));for(let n=0;n<this.mediaPillarCallContext.telephonyCallRefs.length;n++)(!t&&(this.mediaPillarCallContext.telephonyCallRefs[n].status===r.Call.Status.RINGING_INCOMMING||this.mediaPillarCallContext.telephonyCallRefs[n].status===r.Call.Status.QUEUED_INCOMMING)||t&&this.mediaPillarCallContext.telephonyCallRefs[n].status===r.Call.Status.QUEUED_INCOMMING)&&(this.$log.info("[WebrtcGatewayService] onTelCallIncomming | ON_WEBRTC_GW_CALL_UPDATED_EVENT for call = "+e.id),this.mediaPillarCallContext.updateContactFlag=!0,this.$rootScope.$broadcast("ON_WEBRTC_GW_CALL_UPDATED_EVENT",this.mediaPillarCallContext.telephonyCallRefs[n]))}break;case"Update":this.stopCallStateTimeOut(),this.isMediaPillarOutgoingCall()||!this.mediaPillarCallContext.webrtcCallRef||e.status!==r.Call.Status.RINGING_INCOMMING&&e.status!==r.Call.Status.QUEUED_INCOMMING?this.$log.info("[WebrtcGatewayService] onTelCallIncomming | ignore update call"):(this.$rootScope.$broadcast("ON_WEBRTC_GW_CALL_UPDATED_EVENT",e),this.$log.info("[WebrtcGatewayService] onTelCallIncomming | update call"));break;case"Ignore":this.$log.info("[WebrtcGatewayService] onTelCallIncomming | ignore evt");break;default:this.$log.error("[WebrtcGatewayService] onTelCallIncomming | media Pillar call anomaly "+status)}}onTelCallDialling(e){if(this.mediaPillarCallContext.isOutgoingCall3PCC=!0===e.isOwner,this.mediaPillarCallContext.isOutgoingCall3PCC)if(this.mediaPillarCallContext.callState===u.Free||this.mediaPillarCallContext.callState===u.WaitTelephony)switch(this.mediaPillarCallContext.callState_TO=this.$interval(()=>{this.automatonDefenseTimout(e)},this.TO_transition,1),this.mediaPillaryseTheCall(e,null)){case"Ok":this.mediaPillarCallContext.webrtcCallRef&&this.mediaPillarCallContext.callState===u.CallOffer&&(this.videoService.answerCall(this.mediaPillarCallContext.webrtcCallRef,"audio"),this.$log.info("[WebrtcGatewayService] onTelCallDialling | outgoing3PCC then send webrtc proceed")),this.stopCallStateTimeOut(),this.mediaPillarCallContext.callState_TO=this.$interval(()=>{this.automatonDefenseTimout(e)},this.TO_transition,1);break;case"Ignore":case"Update":this.$log.info("[WebrtcGatewayService] onTelCallDialling | ignore evt");break;default:this.$log.error("[WebrtcGatewayService] onTelCallDialling | media Pillar call anomaly "+status),this.mediaPillarCallTerminator()}else this.mediaPillarCallContext.callState!==u.CallOffer&&this.mediaPillarCallContext.callState!==u.CallOnGoing||this.$log.warn("[WebrtcGatewayService] onTelCallDialling | media Pillar call anomaly, on state : "+this.mediaPillarCallContext.callState),this.$log.info("[WebrtcGatewayService] onTelCallDialling | ignored , on state : "+this.mediaPillarCallContext.callState);else this.stopCallStateTimeOut(),this.$log.info("[WebrtcGatewayService] onTelCallDialling but not call owner (=>other client) | ignore evt on state : "+this.mediaPillarCallContext.callState)}onTelCallOutgoing(e){this.isMediaPillarOutgoingCall()?(this.stopCallStateTimeOut(),this.mediaPillarCallContext.callState_TO=this.$interval(()=>{this.automatonDefenseTimout(e)},this.TO_transition_long,1)):(this.$log.warn("[WebrtcGatewayService] onTelCallOutgoing | media Pillar, not a 1st 3PCC outgoing call then ignore & release MP CallContext"),this.releaseMediaPillarCallContext())}onTelCallActive(e){switch(this.mediaPillarCallContext.callState){case u.CallOnGoing:this.stopCallStateTimeOut(),e.setMediaPillarCall(this.getMediaPillarCallContext()),this.mediaPillarCallContext.callState=u.CallActive;break;case u.TelCallReleasing:this.$log.warn("[WebrtcGatewayService] onTelCallActive | media Pillar recv tel active on state = "+this.mediaPillarCallContext.callState),this.$log.info("[WebrtcGatewayService] onTelCallActive | media Pillar , RE-ACTIVATION"),this.stopCallStateTimeOut(),e.setMediaPillarCall(this.getMediaPillarCallContext()),this.mediaPillarCallContext.callState=u.CallActive;break;case u.CallActive:this.$log.info("[WebrtcGatewayService] onTelCallActive | media Pillar , ignore tel active on state CallActive ");break;case u.WebCallReleasing:this.$log.info("[WebrtcGatewayService] onTelCallActive | media Pillar recv tel active on state WebCallReleasing then releaseMediaPillarCallContext"),this.releaseMediaPillarCallContext();break;case u.Free:this.$log.info("[WebrtcGatewayService] onTelCallActive | media Pillar recv tel active on state = 1 ; probably call taken on deskphone ; ignore active & release call context "),this.releaseMediaPillarCallContext();break;default:this.$log.info("[WebrtcGatewayService] onTelCallActive | Anomaly media Pillar recv tel active on state = "+this.mediaPillarCallContext.callState)}}onTelCallReleasing(e){if(this.telephonyService.getCalls().length,this.mediaPillarCallContext.telephonyCallRefs.length>1)return e.setMediaPillarCall(null),this.removeTelCallRefs(e),void this.$log.info("[WebrtcGatewayService] onTelCallReleasing -- "+e.id+" -- postpone mediaPillarCallContext release ;  remaining calls = "+this.mediaPillarCallContext.telephonyCallRefs.length);this.isMediaPillarReleasableCall()?(e.setMediaPillarCall(null),this.removeTelCallRefs(e),this.mediaPillarCallContext.webrtcCallRef&&this.mediaPillarCallContext.callState!==u.WebCallReleasing&&this.mediaPillarCallContext.callState!==u.RemoteControled?this.mediaPillarCallContext.callState!==u.TelCallReleasing?(this.mediaPillarCallContext.callState=u.TelCallReleasing,this.stopCallStateTimeOut(),this.mediaPillarCallContext.callState_TO=this.$interval(()=>{this.automatonDefenseTimout(e)},this.TO_transition,1),this.$log.info("[WebrtcGatewayService] onTelCallReleasing -- "+e.id+" -- wait web release: state = "+this.mediaPillarCallContext.callState)):this.$log.info("[WebrtcGatewayService] onTelCallReleasing -- "+e.id+" -- ignore telrelease on state = "+this.mediaPillarCallContext.callState):this.mediaPillarCallContext.callState!==u.Free&&(this.releaseMediaPillarCallContext(),this.$log.info("[WebrtcGatewayService] onTelCallReleasing -- "+e.id+" -- release MP context"))):(this.$log.warn("[WebrtcGatewayService] onTelCallReleasing | media Pillar call release anomaly on state = "+this.mediaPillarCallContext.callState),this.mediaPillarCallTerminator())}onWebrtcCallIncomming(e){if(this.mediaPillarCallContext.webrtcCallRef)this.$log.info("[WebrtcGatewayService] onWebrtcCallIncomming -- "+e.id+" --- ignored other incomming");else{if(this.mediaPillarCallContext.callState===u.WebCallReleasing&&0!==this.mediaPillarCallContext.telephonyCallRefs.length&&this.mediaPillarCallContext.telephonyCallRefs[0].status!==r.Call.Status.UNKNOWN)return this.$log.info("[WebrtcGatewayService] onWebrtcCallIncomming -- "+e.id+" --- re propose during established tel call"),this.mediaPillarCallContext.webrtcCallRef=e,this.videoService.answerCall(this.mediaPillarCallContext.webrtcCallRef,"audio"),this.stopCallStateTimeOut(),this.mediaPillarCallContext.callState_TO=this.$interval(()=>{this.automatonDefenseTimout(e)},this.TO_transition,1),void(this.mediaPillarCallContext.callState=u.CallOnGoing);switch(this.mediaPillaryseTheCall(null,e)){case"Ok":if(this.stopCallStateTimeOut(),(this.isMediaPillarOutgoingCall()||this.mediaPillarCallContext.callState!==u.WaitTelephony||this.telephonyService.isSipWise())&&(this.mediaPillarCallContext.callState_TO=this.$interval(()=>{this.automatonDefenseTimout(e)},this.TO_transition,1)),this.isMediaPillarOutgoingCall())this.videoService.answerCall(this.mediaPillarCallContext.webrtcCallRef,"audio"),this.$log.info("[WebrtcGatewayService] onWebrtcCallIncomming | outgoing3PCC then send webrtc proceed");else if(this.mediaPillarCallContext.callState!==u.WaitTelephony||this.telephonyService.isSipWise()){if(this.mediaPillarCallContext.callState===u.CallOffer){this.$log.info("[WebrtcGatewayService] onWebrtcCallIncomming | incoming webrtc + telephony");for(let e=0;e<this.mediaPillarCallContext.telephonyCallRefs.length;e++)this.mediaPillarCallContext.telephonyCallRefs[e].status!==r.Call.Status.RINGING_INCOMMING&&this.mediaPillarCallContext.telephonyCallRefs[e].status!==r.Call.Status.QUEUED_INCOMMING||(this.$log.info("[WebrtcGatewayService] onWebrtcCallIncomming | ON_CONVERSATION_CALL_UPDATED_EVENT for call = "+this.mediaPillarCallContext.telephonyCallRefs[e].id),this.$rootScope.$broadcast("ON_CONVERSATION_CALL_UPDATED_EVENT",{conversation:null,call:this.mediaPillarCallContext.telephonyCallRefs[e]}))}}else this.$log.info("[WebrtcGatewayService] onWebrtcCallIncomming | incoming webrtc WaitTelephony : "+i().format("HH:mm:ss:SSS")+" : arm waitTelephony_TO "),this.stopWaitTelephonyTimeOut(),this.mediaPillarCallContext.waitTelephony_TO=this.$interval(()=>{this.waitTelephonyTimeout(e,this.mediaPillarCallContext)},this.TO_waitTelephony,1);break;case"Ignore":break;default:this.$log.error("[WebrtcGatewayService] onWebrtcCallIncomming | media Pillar call anomaly "+status)}}}onWebrtcCallConnecting(e){return this.mediaPillarCallContext.callState===u.CallActive?(this.$log.info("[WebrtcGatewayService] onWebrtcCallConnecting -- media Pillar call reconnecting attempts"),this.mediaPillarCallContext.callState=u.CallActiveNoWebMedia,this.stopCallStateTimeOut(),void(this.mediaPillarCallContext.callState_TO=this.$interval(()=>{this.timeOutCallActiveNoWebMedia(this.mediaPillarCallContext)},this.TO_NoWebMedia,1))):this.mediaPillarCallContext.callState===u.TelCallReleasing?(this.$log.info("[WebrtcGatewayService] onWebrtcCallConnecting -- media Pillar webrtc call reconnecting while TelCallReleasing"),this.mediaPillarCallContext.callState=u.CallActiveNoWebMedia,this.stopCallStateTimeOut(),void(this.mediaPillarCallContext.callState_TO=this.$interval(()=>{this.timeOutCallActiveNoWebMedia(this.mediaPillarCallContext)},this.TO_NoWebMediaNotel,1))):void 0}onWebrtcCallActive(e){this.mediaPillarCallContext.callState===u.CallActiveNoWebMedia&&(this.$log.info("[WebrtcGatewayService] onWebrtcCallConnecting -- media Pillar call reconnected"),this.mediaPillarCallContext.callState=u.CallActive,this.stopCallStateTimeOut())}onWebrtcCallAnswering(e){this.mediaPillarCallContext.callState=u.CallOnGoing,this.stopCallStateTimeOut(),this.mediaPillarCallContext.callState_TO=this.$interval(()=>{this.automatonDefenseTimout(e)},this.TO_transition,1)}onWebrtcCallReleasing(e){this.isMediaPillarReleasableCall()?(e.setMediaPillarCall(null),this.mediaPillarCallContext.webrtcCallRef=null,0!==this.mediaPillarCallContext.telephonyCallRefs.length&&this.mediaPillarCallContext.callState!==u.TelCallReleasing&&this.mediaPillarCallContext.callState!==u.RemoteControled?this.mediaPillarCallContext.callState!==u.WebCallReleasing?(this.mediaPillarCallContext.callState=u.WebCallReleasing,this.stopCallStateTimeOut(),this.mediaPillarCallContext.callState_TO=this.$interval(()=>{this.automatonDefenseTimout(e)},this.TO_transition,1),this.releasePbxCallIfPbxConnectionDown(),this.$log.info("[WebrtcGatewayService] onWebrtcCallReleasing -- "+e.id+" -- wait tel release: state = "+this.mediaPillarCallContext.callState)):this.$log.info("[WebrtcGatewayService] onWebrtcCallReleasing -- "+e.id+" -- ignore webrelease on state = "+this.mediaPillarCallContext.callState):(this.releaseMediaPillarCallContext(),this.$log.info("[WebrtcGatewayService] onWebrtcCallReleasing -- "+e.id+" -- release MP context"))):(this.$log.warn("[WebrtcGatewayService] onWebrtcCallReleasing | media Pillar call release anomaly on state = "+this.mediaPillarCallContext.callState),this.mediaPillarCallTerminator())}waitTelephonyTimeout(e,t){t.callState===u.WaitTelephony?(this.$log.info("[WebrtcGatewayService] waitTelephonyTimeout date "+i().format("HH:mm:ss:SSS")+" -- "+e.id+" -- state = "+t.callState+" : perform snpashot on secondary device to check remote extension's csta state"),this.telephonyService.snapshotDevice(!0).then(n=>{const r=n?n.connections:null;t.callState!==u.WaitTelephony||r&&0!==r.length?(this.$log.info("[WebrtcGatewayService] waitTelephonyTimeout date "+i().format("HH:mm:ss:SSS")+" -- "+e.id+" -- state = "+t.callState+" => no more waiting for phone call or existing csta call: don't display any incoming call popup"),this.stopCallStateTimeOut(t),t.callState_TO=this.$interval(()=>{this.automatonDefenseTimout(e,t)},this.TO_transition,1)):(this.$log.info("[WebrtcGatewayService] waitTelephonyTimeout date "+i().format("HH:mm:ss:SSS")+" -- "+e.id+" -- state = "+t.callState+" => still waiting for phone call and no csta call: send event to open incoming call popup with webrtc call"),t.isIncomingCallPopupWithWebRtcCall=!0,this.$rootScope.$broadcast("ON_CONVERSATION_CALL_UPDATED_EVENT",{conversation:null,call:e}))}).catch(n=>{this.$log.error("[WebrtcGatewayService] waitTelephonyTimeout date "+i().format("HH:mm:ss:SSS")+" -- "+e.id+" -- state = "+t.callState+" => snpashotdevice error "+n)})):this.$log.info("[WebrtcGatewayService] waitTelephonyTimeout date "+i().format("HH:mm:ss:SSS")+" -- "+e.id+" -- state = "+t.callState+" => IGNORED"),t.waitTelephony_TO=null}releasePbxCallIfPbxConnectionDown(){const e=this.getActivePbxCall();e&&e.pbxConnectionDown&&(this.$log.info("[WebrtcGatewayService] releasePbxCallIfPbxConnectionDown | release call"+e),this.telephonyService.releaseCall(e),e.mediaPillarCall=null)}mediaPillarMakeCall1PCC(e,t){this.$log.info("[WebrtcGatewayService] mediaPillarMakeCall1PCC");const n=this.getMyMediaPillarJid();if(!this.mediaPillarConfigured||!this.mediaPillarAlive)return this.$log.info("[WebrtcGatewayService] mediaPillarMakeCall1PCC ANOMALY webrtcgateway not available"),null;if(this.videoService.makingCall=!0,""!==n){const i="web_"+o();if(!t||null===t){const t=r.Call.create(r.Call.Status.DIALING,i,r.Call.Type.WEBRTC,this.mediaPillarContact);return t.fullJid=n,this.mediaPillarStartCall(t,e,n),t}const s=r.Call.create(r.Call.Status.DIALING,i,r.Call.Type.WEBRTC,t);return s.fullJid=n,this.mediaPillarStartCall(s,e,n),s}return this.$log.info("[WebrtcGatewayService] mediaPillarMakeCall ANOMALY no mediaPillarJid"),null}mediaPillarReleaseCall1PCC(e){if(this.$log.info("[WebrtcGatewayService] mediaPillarReleaseCall1PCC"),!this.mediaPillarConfigured)return void this.$log.info("[WebrtcGatewayService] mediaPillarReleaseCall1PCC ANOMALY webrtcgateway not available");const t=this.videoService.calls[e.id];t&&t.type===r.Call.Type.WEBRTC?this.videoService.rejectCall(t):this.$log.info("[WebrtcGatewayService] mediaPillarReleaseCall1PCC ANOMALY invalid call")}mediaPillarMakeCall(e,t){this.$log.info("[WebrtcGatewayService] mediaPillarMakeCall");const n=this.getMyMediaPillarJid();if(e.length>6&&t&&(e=t.phonePbx),this.videoService.makingCall=!0,""!==n){const s="web_"+o();var i;t&&null!==t?((i=r.Call.create(r.Call.Status.DIALING,s,r.Call.Type.WEBRTC,t)).fullJid=n,this.mediaPillarStartCall(i,e,n)):((i=r.Call.create(r.Call.Status.DIALING,s,r.Call.Type.WEBRTC,this.mediaPillarContact)).fullJid=n,this.mediaPillarStartCall(i,e,n))}else this.$log.info("[WebrtcGatewayService] mediaPillarMakeCall ANOMALY no mediaPillarJid")}mediaPillarStartCall(e,t,n){this.$log.info("[WebrtcGatewayService] mediaPillarStartCall for phone number "+t),this.initiateMediaPillarCall(e).then(()=>{this.dummyRegisterMediaPillarCall().then(()=>{this.$log.info("[WebrtcGatewayService] mediaPillarMakeCall for number "+t),this.videoService.makeJingleCall(e,n,t)}).catch(t=>{this.$log.info("[WebrtcGatewayService] mediaPillarMakeCall ANOMALY dummyRegisterMediaPillarCall then abort call"),this.abortCall(e)})}).catch(t=>{this.$log.info("[WebrtcGatewayService] mediaPillarMakeCall ANOMALY initiateMediaPillarCall then abort call"),this.abortCall(e)})}abortCall(e){this.videoService.makingCall=!1,e&&this.videoService.removeCallObject(e),this.videoService.resetToSafeState()}initiateMediaPillarCall(e){return this.$q((t,n)=>{this.$log.info("[WebrtcGatewayService] initiateMediaPillarCall");const o=["audio"];this.videoService.getBrowserMedia(o).then(n=>{e.isInitiator=!0,this.videoService.localStreams.push(n),this.videoService.calls[e.id]=e,e.localMedia=e.localMedia|r.Call.Media.AUDIO,this.contactService.setBusyState("dnd",this.videoService.calculatePresenceMessage(e)),this.$rootScope.$broadcast("ON_CALL_UPDATED_EVENT",e),t()}).catch(e=>{this.$log.info("[WebrtcGatewayService]   | initate call failure : "+JSON.stringify({error:e.message})),o.indexOf("sharing")>=0||-1===e.toString().indexOf("getUserMedia")||this.videoService.openErrorPopup(),n(e)})})}dummyRegisterMediaPillarCall(){return this.$q((e,t)=>{const n=$iq({from:this.myContact.fullJid,to:this.mediaPillarConnection.mediaPillarJid,type:"set"}).c("mediapillar",{xmlns:"urn:xmpp:janus:1"}).c("register").c("jidIm").t(this.contactService.userContact.jid).up().c("jidTel").t(this.contactService.userContact.jidtel).up().c("number").t(this.mediaPillarConnection.rainbowPhoneNumber).up().c("displayName").t(this.myContact.displayName).up().c("secret").t(this.mediaPillarConnection.rainbowPhoneNumber).up();this.xmppService.sendIQ(n).then(t=>{e()}).catch(e=>{this.IsMediaPillarUserSelected()&&this.$log.warn("[WebrtcGatewayService] dummyRegisterMediaPillarCall -- register failure -- "+e.message),t(e)})})}getMediaPillarData(){return this.telephonyService.isSipWise()?this.$q((e,t)=>{const n=this.telephonyService.telephonyServiceSipWise.getPortalURLSipWise()+"devices";this.$log.info("[WebrtcGatewayService] getMediaPillarData sipwise device GET "+n),this.$http({method:"GET",url:n,headers:this.authService.getRequestHeader()}).then(n=>{const r=this;this.$log.log("[WebrtcGatewayService] getMediaPillarData sipwise success/ status : "+n.statusText);const o=n.data;let i="";o?(o.forEach((function(e){"webrtc"===e.type&&(r.mediaPillarConnection.rainbowPhoneNumber=e.deviceId,r.mediaPillarConnection.remoteExtension=e.deviceId,i=e.jid_wrg,i&&-1===i.indexOf("/")&&(i+="/mediapillar"))})),""!==i?e(i):(r.$log.error("[WebrtcGatewayService] getMediaPillarData sipwise success -- missing jid_wrg"),t(new Error("[WebrtcGatewayService] getMediaPillarData sipwise -- missing jid_wrg in response")))):(r.$log.error("[WebrtcGatewayService] getMediaPillarData sipwise success -- missing data"),t(new Error("[WebrtcGatewayService] getMediaPillarData sipwise -- missing data in response")))}).catch(e=>{const n=this.errorHelperService.handleError(e);this.$log.info("[WebrtcGatewayService] getMediaPillarData sipwise error -- "+n.message),t(n)})}):this.$q((e,t)=>{this.$http({method:"GET",url:this.portalURL+"/data",headers:this.authService.getRequestHeader()}).then(n=>{if(this.$log.log("[WebrtcGatewayService] getMediaPillarData success"),n.data&&n.data.data){const t=n.data.data.prefix,r=n.data.data.rainbowPhoneNumber;t&&r&&(this.mediaPillarConnection.rainbowPhoneNumber=r,this.mediaPillarConnection.remoteExtension=t+r);let o=n.data.data.jid_im;o&&-1===o.indexOf("/")&&(o+="/mediapillar"),e(o)}else this.$log.error("[WebrtcGatewayService] getMediaPillarData success -- missing data"),t(new Error("[WebrtcGatewayService] getMediaPillarData -- missing data in response"))}).catch(e=>{const n=this.errorHelperService.handleError(e);this.$log.info("[WebrtcGatewayService] getMediaPillarData error -- "+n.message),t(n)})})}mediaPillarKeepAlivePolling(e,t){if(this.started)switch(e){case"START":this.mediaPillarConnection&&this.mediaPillarConnection.keepAlive_TO&&(this.$interval.cancel(this.mediaPillarConnection.keepAlive_TO),this.mediaPillarConnection.keepAlive_TO=null),this.mediaPillarConnection.keepAlive_TO=this.$interval(()=>{this.mediaPillarKeepAlive()},t,1);break;case"STOP":this.mediaPillarCallContext&&this.mediaPillarConnection.keepAlive_TO&&this.$interval.cancel(this.mediaPillarConnection.keepAlive_TO),this.mediaPillarConnection.keepAlive_TO=null;break;default:this.$log.error("[WebrtcGatewayService] mediaPillarKeepAlivePolling cmd error : "+e)}}mediaPillarUserSelectAndPolling(e){this.started&&(this.$log.log("[WebrtcGatewayService] mediaPillarUserSelectAndPolling : "+e),e?(this.mediaPillarKeepAlivePolling("START",this.TO_PILLAR_POLLING),this.mediaPillarKeepAlive()):this.mediaPillarAlive&&this.mediaPillarKeepAlivePolling("STOP",0))}mediaPillarKeepAlive(){if(this.$log.info("[WebrtcGatewayService] mediaPillarKeepAlive"),this.mediaPillarKeepAliveSuspend)this.$log.info("[WebrtcGatewayService] KeepAlive suspended");else{let e=!1;this.dummyRegisterMediaPillarCall().then(()=>{e=!0,this.$log.info("[WebrtcGatewayService] mediaPillarKeepAlive webrtcgateway is UP")}).catch(t=>{e=!1,this.$log.info("[WebrtcGatewayService] mediaPillarKeepAlive webrtcgateway is DOWN")}).finally(()=>{this.mediaPillarAlive!==e&&(this.mediaPillarAlive=e,this.$rootScope.$broadcast("ON_WEBRTCGATEWAY_STATE_CHG",this.mediaPillarAlive),this.$log.info("[WebrtcGatewayService] mediaPillarKeepAlive ON_WEBRTCGATEWAY_STATE_CHG")),this.mediaPillarAlive?this.TO_PILLAR_POLLING<9e5?this.TO_PILLAR_POLLING+=1800:this.TO_PILLAR_POLLING=9e5:(this.TO_PILLAR_POLLING=3e5,this.mediaPillarKeepAlivePolling("START",this.TO_PILLAR_POLLING)),this.IsMediaPillarUserSelected()&&this.mediaPillarAlive&&this.mediaPillarKeepAlivePolling("START",this.TO_PILLAR_POLLING)})}}forceMPpooling(){this.started&&(this.$log.log("[WebrtcGatewayService] forceMPpooling "),this.TO_PILLAR_POLLING=3e5,this.mediaPillarKeepAlivePolling("START",this.TO_PILLAR_POLLING),this.$rootScope.$broadcast("ON_WEBRTCGATEWAY_STATE_CHG",this.mediaPillarAlive))}getMyMediaPillarJid(){return this.$log.info("[WebrtcGatewayService] getMyMediaPillarJid : "+this.mediaPillarConnection.mediaPillarJid),this.mediaPillarConnection.mediaPillarJid}getMyMediaPillarRemoteExtension(){if(!this.telephonyService.isSipWise())return this.mediaPillarConnection.remoteExtension;const e=this.telephonyService.telephonyServiceSipWise.getDevicesIdFromListSipWiseWithType("webrtc");return e||""}shouldUseMediaPillar(){let e=this.isMediaPillarAvailable()&&this.IsMediaPillarUserSelected();return void 0!==config.devMediaPillarEnabled&&config.devMediaPillarEnabled||(e=!1),!1}isMediaPillarConfigured(){return this.mediaPillarConfigured&&this.profileService.isFeatureEnabled(this.profileService.FeaturesEnum.TELEPHONY_WEBRTC_PSTN_CALLING)}isMediaPillarAvailable(){let e=this.isMediaPillarConfigured();return e=e&&this.mediaPillarAlive,e}IsMediaPillarUserSelected(){let e;if(this.telephonyService.isSipWise()){const t=this.telephonyService.telephonyServiceSipWise.getCurrentFromDevicesListSipWise();e=t&&"webrtc"===t.type}else e=!this.telephonyService.nomadicObject.makeCallInitiatorIsMain&&this.telephonyService.getNomadicDestination()===this.getMyMediaPillarRemoteExtension();return e}isMediaPillarJid(e){let t=-1;return!!e&&(t=e.search("mp_"),0===t)}isMediaPillarCallCase(){return this.isMediaPillarAvailable()&&this.IsMediaPillarUserSelected()}isMediaPillarCallSituation(e=null){let t=this.isMediaPillarCallCase();if(e)if(e.type===r.Call.Type.WEBRTC)t=t&&this.isMediaPillarJid(e.fullJid);else if(this.telephonyService.getCalls().length<=1&&this.mediaPillarCallContext.telephonyCallRefs.length<=1)switch(e.status){case r.Call.Status.RINGING_INCOMMING:case r.Call.Status.RINGING_OUTGOING:case r.Call.Status.QUEUED_INCOMMING:case r.Call.Status.DIALING:case r.Call.Status.RELEASING:break;default:t=!!e.mediaPillarCall&&t&&this.isInTelCallRefs(e)}else switch(e.status){case r.Call.Status.RINGING_INCOMMING:case r.Call.Status.RINGING_OUTGOING:case r.Call.Status.QUEUED_INCOMMING:case r.Call.Status.DIALING:case r.Call.Status.RELEASING:break;default:e.mediaPillarCall?(t=t&&e.mediaPillarCall.telephonyCallRefs.length>=1,t=t&&this.isInTelCallRefs(e)):t=!1}return t}mediaPillaryseTheCall(e,t){if(this.mediaPillarCallContext.callState!==u.Free){if(e&&this.mediaPillarCallContext.updateContactFlag)return this.$log.info("[WebrtcGatewayService] mediaPillaryseTheCall | only Update"),e.setMediaPillarCall(this.getMediaPillarCallContext()),"Update";if(e&&this.mediaPillarCallContext.callState===u.TelCallReleasing&&e.status===r.Call.Status.RINGING_INCOMMING)return this.$log.info("[WebrtcGatewayService] mediaPillaryseTheCall |  transfer managed as Update"),e.setMediaPillarCall(this.getMediaPillarCallContext()),this.mediaPillarCallContext.callState=u.CallOffer,"Update";if(t&&this.mediaPillarCallContext.callState!==u.WaitWebrtc)return this.$log.info("[WebrtcGatewayService] mediaPillaryseTheCall | only Ignore"),"Ignore"}let n="";if(!e&&!t)return"NoCallRef";if(e&&t)return"toManyCallRef";if(e){switch(this.mediaPillarCallContext.callState){case u.Free:this.mediaPillarCallContext.callState=u.WaitWebrtc,n="Ok";break;case u.WaitTelephony:this.mediaPillarCallContext.callState=u.CallOffer,n="Ok";break;case u.WaitWebrtc:this.mediaPillarCallContext.telephonyCallRefs.length>1?(this.$log.info("[WebrtcGatewayService] mediaPillaryseTheCall but 2nd incomming in WaitWebrtc| only Ignore"),e.setMediaPillarCall(this.getMediaPillarCallContext()),n="Ignore"):this.telephonyService.isSipWise()?this.$log.info("[WebrtcGatewayService] multiple mediaPillaryseTheCall but sipwise case | only Ignore"):(this.mediaPillarCallContext.callState=u.AnomalyCCS,n="Ano_inTel_contextCallState_"+this.mediaPillarCallContext.callState,this.$log.info("[WebrtcGatewayService] mediaPillaryseTheCall again in WaitWebrtc"));break;default:this.mediaPillarCallContext.callState=u.AnomalyCCS,n="Ano_inTel_contextCallState_"+this.mediaPillarCallContext.callState}"Ok"===n&&(this.putAsMasterTelCallRefs(e),e.setMediaPillarCall(this.getMediaPillarCallContext()))}else if(t){switch(this.mediaPillarCallContext.webrtcCallRef=t,this.mediaPillarCallContext.callState){case u.Free:this.mediaPillarCallContext.callState=u.WaitTelephony,n="Ok";break;case u.WaitWebrtc:this.mediaPillarCallContext.callState=u.CallOffer,n="Ok";break;default:this.mediaPillarCallContext.callState=u.AnomalyCCS,n="Ano_inWrtc_contextCallState_"+this.mediaPillarCallContext.callState}"Ok"===n&&t.setMediaPillarCall(this.getMediaPillarCallContext())}return n}getMediaPillarCallContext(e=null){if(!e||!this.telephonyService.isSipWise())return this.mediaPillarCallContext;const t=this.mediaPillarCallContexts.find(t=>t.telephonyCallRefs&&t.telephonyCallRefs.length&&t.telephonyCallRefs[0].id===e.id||t.webrtcCallRef&&t.webrtcCallRef.id===e.id);return t?this.$log.debug("[WebrtcGatewayService] CTX getMediaPillarCallContext for "+e+" returns context id "+t.id):this.$log.error("[WebrtcGatewayService] CTX getMediaPillarCallContext for "+e+" returns context not found"),t}isMediaPillarOutgoingCall(){let e;switch(this.mediaPillarCallContext.callState){case u.WaitWebrtc:case u.WaitTelephony:case u.CallOffer:case u.CallOnGoing:case u.CallActive:case u.CallActiveNoWebMedia:case u.TelCallReleasing:case u.WebCallReleasing:e=!0;break;default:e=!1}return e&&this.mediaPillarCallContext.isOutgoingCall3PCC}isMediaPillarReleasableCall(){let e;switch(this.mediaPillarCallContext.callState){case u.AnomalyCCS:case u.Unknow:e=!1;break;default:e=!0}return e}mediaPillarReleaseWebrtcCall(e){e.webrtcCallRef&&(e.webrtcCallRef.mediaPillarCall=null,this.videoService.releaseCall(e.webrtcCallRef))}timeOutCallActiveNoWebMedia(e){this.$log.info("[WebrtcGatewayService] timeOutCallActiveNoWebMedia"),e.callState===u.CallActiveNoWebMedia&&(this.mediaPillarCallTerminator(e),this.mediaPillarKeepAlive(),this.$log.info("[WebrtcGatewayService] timeOutCallActiveNoWebMedia noWebMedia then release calls if existing & force keepalive"))}mediaPillarCallTerminator(e=null){e||(e=this.mediaPillarCallContext),0!==e.telephonyCallRefs.length&&e.telephonyCallRefs.forEach(e=>{null!==e&&e.type.value===r.Call.Type.PHONE.value&&(e.mediaPillarCall=null,this.telephonyService.releaseCall(e),this.$log.info("[WebrtcGatewayService] mediaPillarCallTerminator | release call"+e))}),this.mediaPillarReleaseWebrtcCall(e),this.releaseMediaPillarCallContext(e),this.resetEvtAutomaton(),this.TO_PILLAR_POLLING+=3e5,this.mediaPillarKeepAlivePolling("START",this.TO_PILLAR_POLLING),this.$log.warn("[WebrtcGatewayService] mediaPillarCallTerminator | Full cleaning")}createMediaPillarContact(e){this.$log.info("[webrtcGatewayService] createMediaPillarContact -- "+e);const t=this.contactService.createBasicContact(e);return t.displayName="mediaPillar",t.avatar=new Image,t.avatar.src="/resources/skins/rainbow/images/conversations/unknownUser.jpeg",this.xmppService.getResourceFromJid(e)&&this.contactService.createBasicContact(this.xmppService.getBareJidFromJid(e)),t}muteAudio(e,t,n){if(e){if(this.isMediaPillarCallCase()){const r=this.getMediaPillarCallContext(e).webrtcCallRef;if(r){const o=this.xmppService.connection.jingle.sessions[r.id];if(o){o.muteAudio(t),r.isMuted=t,n&&(n.isMutedAudio=t,n.rxSubject.next({name:"callUpdate",value:e})),e.isMuted=t,this.$log.info("[webrtcGatewayService] muteAudio conversation: "+(n?n.id:"undefined")+" / pbxcall: "+e.id+"-- "+(t?"mute":"unumute"));const i={call:e};n&&(i.conversation=n),this.$rootScope.$broadcast("ON_CONVERSATION_CALL_MUTED_UPDATED_EVENT",i),this.$rootScope.$broadcast("ON_MPMEDIA_CONVERSATION_CALL_UPDATED_EVENT",{call:r})}else this.$log.error("[webrtcGatewayService] muteAudio "+e.id+" -- failure: no session")}}}else this.$log.error("[webrtcGatewayService] muteAudio - trying to mute a non existing call !")}getActivePbxCall(){return this.isMediaPillarCallCase()&&this.mediaPillarCallContext?this.mediaPillarCallContext.telephonyCallRefs.find(e=>e.status===r.Call.Status.ACTIVE):null}answerCall(e){const t=e.getMediaPillarCall();if(this.$log.info("[WebrtcGatewayService] -- answerCall call id "+e.id+" -- webrtcCallRef "+(t&&t.webrtcCallRef?t.webrtcCallRef:"no context or no webrtc call")),t&&t.webrtcCallRef&&t.webrtcCallRef.status===r.Call.Status.RINGING_INCOMMING)this.actionOnActiveCallIfNecessary(e).then(()=>{this.$log.info("[WebrtcGatewayService] -- answerCall -- send webrtc proceed for call : "+e.id),this.videoService.answerCall(t.webrtcCallRef,"audio")});else if(e.status===r.Call.Status.QUEUED_INCOMMING){const t=this;this.$log.info("[WebrtcGatewayService] -- answerCall -- by telephony service for call : "+e.id),this.telephonyService.answerCall(e).catch((function(){t.$rootScope.$broadcast("ON_CALL_UPDATED_EVENT",e)}))}else this.$log.info("[WebrtcGatewayService] -- answerCall -- Anomaly media Pillar : answerAudioAction but no webrtcCallref & no 2nd call")}actionOnActiveCallIfNecessary(e){if(this.telephonyService.isSipWise()){const t=this.telephonyService.getActiveCall();if(t&&t.id!==e.id)return this.telephonyService.holdCall(t)}return this.$q.resolve()}releaseCall(e){const t=e.getMediaPillarCall();if(t&&t.webrtcCallRef)if(e.type===r.Call.Type.PHONE){this.$log.info("[WebrtcGatewayService] -- releaseCall MP PHONE -- "+e.id),this.isMasterTelCallRefs(e)&&(this.$log.info("[WebrtcGatewayService] -- rejectCall MP webrtc call -- "+t.webrtcCallRef),this.videoService.rejectCall(t.webrtcCallRef));const n=this;this.telephonyService.releaseCall(e).catch((function(){e.setStatus(r.Call.Status.UNKNOWN),n.$rootScope.$broadcast("ON_CALL_UPDATED_EVENT",e)}))}else this.$log.info("[WebrtcGatewayService] -- releaseCall MP WEBRTC -- "+e.id),this.videoService.rejectCall(t.webrtcCallRef);else{this.$log.info("[WebrtcGatewayService] releaseCall | Anomaly media Pillar : declineAction but no webrtcCallref for call = "+e.id);const t=this;this.telephonyService.releaseCall(e).catch((function(){e.setStatus(r.Call.Status.UNKNOWN),t.$rootScope.$broadcast("ON_CALL_UPDATED_EVENT",e)}))}}deflectCallToVm(e){const t=this;this.telephonyService.deflectCallToVM(e).finally(()=>{if(e.type===r.Call.Type.PHONE){const n=e.getMediaPillarCall();n&&n.webrtcCallRef&&t.videoService.rejectCall(n.webrtcCallRef),e.setStatus(r.Call.Status.UNKNOWN),t.$rootScope.$broadcast("ON_CALL_UPDATED_EVENT",e)}})}}d.$inject=["$q","$rootScope","$log","$http","$interval","videoService","errorHelperService","telephonyService"],t.WebrtcGatewayService=d,angular.module("rainbow").service("webrtcGatewayService",d)},function(e,t,n){n.r(t);var r=n(23),o=n(0),i=n.n(o),s=n(24),a=n(1),l=n(6),c=n.n(l),u=n(3),d=n.n(u),f=n(5),_=n.n(f),h=n(7),p=n.n(h),m=n(2),g=n.n(m);angular.module("rainbow").service("videoService",["$q","$rootScope","$window","$http","$interval","browserService","gRTCStatsService","fRTCStatsService","platformService","gaService","VideoServiceEventHandler","extensionSharingService",function(e,t,n,o,l,u,f,h,m,v,b,D){const y=this;this.started=!1,this.connected=!1,this.RTC=null,this.videoEventHandler=null,this.config=null,this.companyConfig=null,this.calls={},this.localStream=null,this.autoreleaseTimeout=null,this.callsStats={},this.localStreams=[],this.makingCall=!1,this.reconnectCall=!1,this.statsInterval=null,this.audioProfileChanging=!1,this.reverseAudioCallInitiated=!1,this.alreadyAttaching=!1,this.ttl=0,this.ttlTimeout=null,this.xmppConnectionSubscription=null;const C=[];this.rxSubject=new r.a,this.callsStatsSimplified={},this.allowDesktopSharing=function(){return!1},this.allowAdvancedDesktopSharing=function(){return!1},this.getDesktopSharingSource=function(){return null},this.askToAddSharing=function(e){return!1},this.askToStartSharing=function(e,t){return!1},this.isNativeApplication=function(){return!1},this.subscribe=function(e){return this.rxSubject.subscribe(e)},this.sendEvent=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.rxSubject.next(s.RBEvent.create(e,t))},this.start=function(n){i.a.webrtc("[videoService] SERVICE | === STARTING ===");const r=performance.now();if(this.RTC=y.getBrowserMethodHandler(),this.RTC){y.started=!0,y.connected=!0,y.setWebrtcConfiguration();const e=Math.round(performance.now()-r);n.push({service:"videoService",startDuration:e}),i.a.info("[videoService] SERVICE | === STARTED ("+e+" ms) ===")}else i.a.error("[videoService] SERVICE | === STARTING FAILURE ===  webRTC capable browser is really required !");return this.xmppConnectionSubscription=_.a.subscribeToConnectionEvents(e=>{y.onConnectionStateChangeEvent(e)}),C.push(t.$on("ON_INPUT_DEVICE_CHANGED_EVENT",y.onAudioProfileChangeEvent)),C.push(t.$on("ON_VIDEO_INPUT_DEVICE_CHANGED_EVENT",y.onVideoInputChangeEvent)),this.attachHandlers(),e.when()},this.stop=function(){try{if(this.started){let e;for(i.a.webrtc("[videoService] SERVICE | === STOPPING ==="),this.started=!1,this.xmppConnectionSubscription&&this.xmppConnectionSubscription.unsubscribe();e=C.pop();)e();y.removeHandlers(),y.config=null;for(const t in y.calls)if(y.calls.hasOwnProperty(t)){const e=y.calls[t];y.removeCallObject(e)}_.a.connection.jingle.terminate(),y.connected=!1,y.reconnectCall=!1,y.makingCall=!1,y.statsInterval&&window.clearInterval(y.statsInterval),y.ttlTimeout&&l.cancel(y.ttlTimeout),i.a.webrtc("SERVICE | === STOPPED ===")}return e.when()}catch(t){return i.a.webrtc("[videoService] SERVICE | === STOPPING ERROR : "+t),e.when()}},this.reconnect=function(){this.attachHandlers()},this.attachHandlers=function(){this.removeHandlers(),i.a.info("[videoService] attachHandlers"),this.videoEventHandler=b.create(this)},this.removeHandlers=function(){i.a.info("[videoService] removeHandlers"),this.videoEventHandler&&(this.videoEventHandler=null)},this.setIceConfig=function(){return i.a.webrtc("[videoService] setIceConfig"),e((function(e,t){if(y.config&&0!==y.ttl)return i.a.webrtc("[videoService] setIceConfig from stored variable"),_.a.connection.jingle.ice_config=y.config,e();y.getIceConfig().then((function(t){y.config=t,"true"===c.a.getSetting("enableDSCP")&&(i.a.webrtc("[videoService] setWebrtcConfiguration - DSCP is enabled"),y.config.enableDSCP=!0),"true"===c.a.getSetting("dtx")&&(i.a.webrtc("[videoService] setWebrtcConfiguration - DTX is enabled"),y.config.dtx=!0);let n="true"===c.a.getSetting("simulcast");n=n||p.a.isFeatureEnabled(p.a.FeaturesEnum.WEBRTC_CONFERENCE_SIMULCAST),n&&(i.a.webrtc("[videoService] setWebrtcConfiguration - Simulcasting is enabled"),y.config.simulcast=!0),"true"===c.a.getSetting("unifiedPlan")&&(i.a.webrtc("[videoService] setWebrtcConfiguration - unifiedPlan is enabled"),y.config.unifiedPlan=!0),"true"===c.a.getSetting("debugWebRTC")&&(i.a.webrtc("[videoService] setWebrtcConfiguration - unifiedPlan is enabled"),y.config.debugWeRTC=!0),_.a.connection.jingle.ice_config=y.config,c.a.setIceConfig(y.config),i.a.webrtc("[videoService] setIceConfig from server success !"),e()})).catch((function(e){i.a.error("[videoService] setIceConfig from server ERROR : "+e),-1!==e.status&&y.openErrorPopup("IceConfigurationFailed"),t()}))}))},this.setCompanyWebrtcConfig=function(){return i.a.webrtc("[videoService] setCompanyWebrtcConfig"),e((function(e,t){if(y.companyConfig)return i.a.webrtc("[videoService] setCompanyWebrtcConfig from stored variable"),_.a.connection.jingle.company_config=y.companyConfig,y.setVideoQualityConfigurationForCompany(),e();y.getCompanyWebrtcConfig().then((function(t){y.companyConfig=t,_.a.connection.jingle.company_config=y.companyConfig,y.setVideoQualityConfigurationForCompany(),i.a.webrtc("[videoService] setCompanyWebrtcConfig from server success !"),e()})).catch((function(e){i.a.error("[videoService] setCompanyWebrtcConfig from server ERROR : "+e),t()}))}))},this.setWebrtcConfiguration=function(){return e((function(t){const n=[];n.push(y.setIceConfig()),n.push(y.setCompanyWebrtcConfig()),e.all(n).then((function(){i.a.webrtc("[videoService] setWebrtcConfiguration -- done"),t()}))}))},this.onConnectionStateChangeEvent=function(e){try{if("ON_XMPP_DISCONNECTED"===e.name){for(var n in i.a.info("MEDIA   | onConnectionStateChangeEvent : disconnected"),y.connected=!1,y.config=null,y.ttlTimeout&&l.cancel(y.ttlTimeout),y.calls)if(y.calls.hasOwnProperty(n)){var r=y.calls[n];y.reconnectCall=!0,r&&r.status!==a.Call.Status.UNKNOWN&&(i.a.webrtc("INFO    | onConnectionStateChangeEvent : disconnected -> call goes to connecting state"),r.setStatus(a.Call.Status.CONNECTING),t.$broadcast("ON_CALL_UPDATED_EVENT",r)),y.statsInterval&&window.clearInterval(y.statsInterval)}}else if("ON_XMPP_CONNECTED"===e.name){for(var n in i.a.info("MEDIA   | onConnectionStateChangeEvent : connected"),y.attachHandlers(),y.setWebrtcConfiguration(),y.connected=!0,y.statsInterval&&(window.clearInterval(y.statsInterval),y.statsinterval=null),y.calls)if(y.calls.hasOwnProperty(n)){r=y.calls[n];const e=_.a.connection.jingle.sessions[r.id];y.reconnectCall&&e&&e.peerconnection&&(i.a.info("MEDIA   | onConnectionStateChangeEvent : connected - start reconnection on session "+r.id),e.me=g.a.userContact.fullJid,e.isInitiator&&(e.initiator=e.me),e.connection=_.a.connection,g.a.setBusyState("dnd",y.calculatePresenceMessage(r)),e.reconnectSession())}y.reconnectCall=!1}}catch(o){i.a.info("MEDIA   | onConnectionStateChangeEvent : disconnected error : "+o)}},y.isUserContactInCall=function(){for(const e in y.calls)if(y.calls.hasOwnProperty(e)&&y.calls[e].status!==a.Call.Status.UNKNOWN)return!0;return!1},this.getCurrentActiveCall=function(){for(const e in y.calls)if(y.calls.hasOwnProperty(e)){const t=y.calls[e];if(t.status!==a.Call.Status.UNKNOWN)return t}return null},this.getCurrentActiveSessions=function(){const e=[];for(const t in y.calls)if(y.calls.hasOwnProperty(t)){const n=y.calls[t];if(n.status!==a.Call.Status.UNKNOWN){const t=_.a.connection.jingle.sessions[n.id];t&&e.push(t)}}return e},this.existWebrtcActiveSessionNotMP=function(){for(const e in y.calls)if(y.calls.hasOwnProperty(e)){const t=y.calls[e];if(t.status!==a.Call.Status.UNKNOWN&&_.a.connection.jingle.sessions[t.id]&&!t.isMediaPillarCall())return!0}return!1},y.existMediaPillarAudioCall=function(){for(const e in y.calls)if(y.calls.hasOwnProperty(e)){const t=y.calls[e];if(t.status!==a.Call.Status.UNKNOWN&&t.localMedia&a.Call.Media.AUDIO&&t.isMediaPillarCall())return!0}return!1},y.getMediaPillarAudioCalls=function(){const e=[];for(const t in y.calls)if(y.calls.hasOwnProperty(t)){const n=y.calls[t];n.status!==a.Call.Status.UNKNOWN&&n.localMedia&a.Call.Media.AUDIO&&n.isMediaPillarCall()&&e.push(n)}return e},y.getWebrtcAudioCall=function(){for(const e in y.calls)if(y.calls.hasOwnProperty(e)){const t=y.calls[e];if(t.status!==a.Call.Status.UNKNOWN&&t.localMedia&a.Call.Media.AUDIO&&!t.isMediaPillarCall())return t}return null},y.getCurrentSharingCall=function(){for(const e in y.calls)if(y.calls.hasOwnProperty(e)){const t=y.calls[e];if(t.status!==a.Call.Status.UNKNOWN&&(t.localMedia===a.Call.Media.SHARING||t.remoteMedia===a.Call.Media.SHARING))return t}return null},y.endAllCallsForContact=function(e){if(e){i.a.webrtc("[videoService] endAllCallsForContact "+e.jid);for(const t in y.calls)if(y.calls.hasOwnProperty(t)){const n=y.calls[t];n.status!==a.Call.Status.UNKNOWN&&n.contact&&n.contact.jid===e.jid&&!n.isMediaPillarCall()&&(i.a.webrtc("[videoService] endAllCallsForContact "+e.jid+" release call: "+n),y.releaseCall(n))}}},y.onVideoInputChangeEvent=function(){i.a.webrtc("MEDIA   | onVideoInputChangeEvent");for(const e in y.calls)if(y.calls.hasOwnProperty(e)){const t=y.calls[e];_.a.connection.jingle.sessions[t.id]&&t.localMedia&&t.localMedia===a.Call.Media.AUDIO+a.Call.Media.VIDEO&&(i.a.webrtc("MEDIA   | audio + video call, renegotiate the profile"),y.escalateToVideoCall(t,!0))}},y.onAudioProfileChangeEvent=function(){if(i.a.webrtc("MEDIA   | onAudioProfileChangeEvent"),y.audioProfileChanging)i.a.webrtc("MEDIA   | onAudioProfileChangeEvent -- already changing");else for(const e in y.calls)if(y.calls.hasOwnProperty(e)){const t=y.calls[e];_.a.connection.jingle.sessions[t.id]&&t.localMedia&&(y.audioProfileChanging=!0,l((function(e){y.audioProfileChanging=!1,y.renegotiateCurrentCall(e)}),500,1,!0,t))}},this.renegotiateCurrentCall=function(e){e.localMedia===a.Call.Media.AUDIO||e.localMedia===a.Call.Media.AUDIO+a.Call.Media.SHARING?(i.a.webrtc("MEDIA   | renegotiate the audio profile"),y.addAudioToCall(e,!0)):e.localMedia!==a.Call.Media.AUDIO+a.Call.Media.VIDEO&&e.localMedia!==a.Call.Media.AUDIO+a.Call.Media.SHARING+a.Call.Media.VIDEO||(i.a.webrtc("MEDIA   | audio + video call, renegotiate the profile"),y.addVideoToCall(e,!0))},this.getCallByJid=function(e,t){let n=null;if(!e&&!t)return n;for(var r in i.a.webrtc("[videoService] getCallByJid "+e),y.calls)if(y.calls.hasOwnProperty(r)&&(o=y.calls[r]).contact&&o.contact.jid===e){n=o;break}if(!n)for(var r in i.a.webrtc("[videoService] getCallByJid fallback "+t),y.calls){var o;if(y.calls.hasOwnProperty(r)&&(o=y.calls[r])&&o.fullJid===t){n=o;break}}return n},this.resetAudioOutputElement=function(){m.allowDevicesManagement()&&!this.audioProfileChanging&&($("#globalAudioTag").length?(i.a.webrtc("[videoService] resetAudioOutputElement"),this.audioProfileChanging=!0,m.getCurrentSpeaker().then((function(e){let t="default";e&&e.id&&(t=e.id);let n="default";"default"!==t&&DetectRTC.audioOutputDevices.forEach((function(e){"default"!==e.deviceId&&"communications"!==e.deviceId&&e.deviceId!==t&&(n=e.deviceId)})),$("#globalAudioTag")[0].setSinkId(n).then((function(){i.a.webrtc("[videoService] resetAudioOutputElement sinkId is "+$("#globalAudioTag")[0].sinkId),"default"!==t?$("#globalAudioTag")[0].setSinkId(t).then((function(){i.a.webrtc("[videoService] resetAudioOutputElement sinkId is "+$("#globalAudioTag")[0].sinkId),y.audioProfileChanging=!1,$("#globalAudioTag")[0].load&&$("#globalAudioTag")[0].load()})).catch((function(){y.audioProfileChanging=!1})):y.audioProfileChanging=!1})).catch((function(e){i.a.warn("[videoService] resetAudioOutputElement globalAudioTag error "+e),y.audioProfileChanging=!1})),l((function(){$("#largevideo")[0]&&$("#largevideo")[0].setSinkId(n).then((function(){i.a.webrtc("[videoService] resetAudioOutputElement largevideo "+$("#largevideo")[0].sinkId),"default"!==t&&$("#largevideo")[0].setSinkId(t).then((function(){i.a.webrtc("[videoService] resetAudioOutputElement largevideo "+$("#largevideo")[0].sinkId)})).catch((function(e){i.a.warn("[videoService] resetAudioOutputElement largevideo error "+e)}))})).catch((function(e){i.a.warn("[videoService] resetAudioOutputElement largevideo error "+e)})),$("#p2pSecondVideo")[0]&&$("#p2pSecondVideo")[0].setSinkId(n).then((function(){"default"!==t&&$("#p2pSecondVideo")[0].setSinkId(t).then((function(){i.a.webrtc("[videoService] resetAudioOutputElement p2pSecondVideo "+$("#p2pSecondVideo")[0].sinkId)})).catch((function(e){i.a.warn("[videoService] resetAudioOutputElement p2pSecondVideo error "+e)}))})).catch((function(e){i.a.warn("[videoService] resetAudioOutputElement p2pSecondVideo error "+e)}))}),3e3,1)})).catch((function(){i.a.webrtc("[videoService] resetAudioOutputElement getCurrentSpeaker error"),y.audioProfileChanging=!1}))):i.a.warn("[videoService] resetAudioOutputElement -- missing global audio tag !"))},this.disableStreams=function(e){if(e&&e.length)for(e.forEach((function(e){e.getTracks().forEach((function(e){e.enabled=!1,e.stop(),e=null})),e.stop&&e.stop(),e=null}));e.length>0;){let t=e.pop();t=null}},this.disableAudioVideoMedia=function(e,t){if(e?i.a.webrtc("MEDIA   | disableAudioVideoMedia for session "+JSON.stringify({sid:e.sid})):t?i.a.webrtc("MEDIA   | disableAudioVideoMedia no session, sessionId: "+t):i.a.webrtc("MEDIA   | disableAudioVideoMedia no session, no session Id"),!e&&!t){const e=y.localStreams.length;if(y.localStreams.length>0)for(y.localStreams.forEach((function(e){e.getTracks().forEach((function(e){e.enabled=!1,e.stop(),e=null})),e.stop&&e.stop(),e=null}));y.localStreams.length>0;)y.localStreams.pop();i.a.webrtc("MEDIA   | disableAudioVideoMedia : All local streams stopped and removed: "+e)}if(e){if(e.localStreams.length>0){var n=e.localStreams.length;for(e.localStreams.forEach((function(e){e.getTracks().forEach((function(e){e.enabled=!1,e.stop(),e=null})),e.stop&&e.stop(),e=null})),y.localStreams=y.localStreams.filter((function(t){return!e.localStreams.includes(t)}));e.localStreams.length>0;)e.localStreams.pop();i.a.webrtc("MEDIA   | disableAudioVideoMedia : Session streams stopped and removed: "+n+". Remaining local streams: "+y.localStreams.length)}}else if(t){const e=y.localStreams.filter((function(e){return e.callId===t}));e&&(n=e.length,e.forEach((function(e){e.getTracks().forEach((function(e){e.enabled=!1,e.stop(),e=null})),e.stop&&e.stop(),y.localStreams.splice(y.localStreams.indexOf(e),1),e=null})),i.a.webrtc("MEDIA   | disableAudioVideoMedia : Locals streams for sessionId "+t+" stopped and removed: "+n+". Remaining local streams: "+y.localStreams.length))}y.statsInterval&&(window.clearInterval(y.statsInterval),y.statsinterval=null)},this.clearSrcObjectsFromElements=function(){this.RTC.clearMediaStream(angular.element("#largevideo"),null),this.RTC.clearMediaStream(angular.element("#globalVideoTag"),null),this.RTC.clearMediaStream(angular.element("#globalAudioTag"),null)},this.attachDistantMediaStreamsUnifiedPlan=function(e){const t=_.a.connection.jingle.sessions[e.id];t?(t.remoteStreamsObject[0]&&(i.a.webrtc("attachDistantMediaStreamsUnifiedPlan audio track for element globalAudioTag "+t.remoteStreamsObject[0].id),this.RTC.attachMediaStream(angular.element("#globalAudioTag"),t.remoteStreamsObject[0])),t.remoteStreamsObject[1]&&t.remoteStreamsObject[2]?(this.RTC.attachMediaStreamIfNeeded(angular.element("#largevideo"),t.remoteStreamsObject[2],t.remoteStreamsObject[2].id),angular.element("#largevideo")[0]&&(angular.element("#largevideo")[0].muted=!0,angular.element("#largevideo")[0].volume=0),this.RTC.attachMediaStreamIfNeeded(angular.element("#p2pSecondVideo"),t.remoteStreamsObject[1],t.remoteStreamsObject[1].id),angular.element("#p2pSecondVideo")[0]&&(angular.element("#p2pSecondVideo")[0].muted=!0,angular.element("#p2pSecondVideo")[0].volume=0)):t.remoteStreamsObject[1]?(this.RTC.attachMediaStreamIfNeeded(angular.element("#largevideo"),t.remoteStreamsObject[1],t.remoteStreamsObject[1].id),angular.element("#largevideo")[0]&&(angular.element("#largevideo")[0].muted=!0,angular.element("#largevideo")[0].volume=0)):t.remoteStreamsObject[2]&&(this.RTC.attachMediaStreamIfNeeded(angular.element("#largevideo"),t.remoteStreamsObject[2],t.remoteStreamsObject[2].id),angular.element("#largevideo")[0]&&(angular.element("#largevideo")[0].muted=!0,angular.element("#largevideo")[0].volume=0))):i.a.warn("[videoService] attachDistantMediaStreamsUnifiedPlan -- missing session "+e.id)},this.attachDistantMediaStreams=function(e,t){if(e){if(y.alreadyAttaching)return;if(y.alreadyAttaching=!0,t.unifiedPlanActivated)return y.attachDistantMediaStreamsUnifiedPlan(t),void(y.alreadyAttaching=!1);const e=_.a.connection.jingle.sessions[t.id];if(null==e)return void(y.alreadyAttaching=!1);if(e.remoteStreams){if(e.remoteStreams.length>1){let t,n;e.remoteStreams[0].getAudioTracks().length?(n=e.remoteStreams[0],t=e.remoteStreams[1]):(t=e.remoteStreams[0],n=e.remoteStreams[1]),t.getVideoTracks().length>0&&(i.a.webrtc("attachDistantMediaStreams video track for element largevideo "+t.id),y.RTC.attachMediaStreamIfNeeded(angular.element("#largevideo"),t,t.id),angular.element("#largevideo")[0]&&(angular.element("#largevideo")[0].muted=!0,angular.element("#largevideo")[0].volume=0)),t.getAudioTracks().length>0&&(i.a.webrtc("attachDistantMediaStreams audio track for element globalAudioTag "+t.id),y.RTC.attachMediaStream(angular.element("#globalAudioTag"),t)),n.getVideoTracks().length>0&&(i.a.webrtc("attachDistantMediaStreams video track for element p2pSecondVideo "+n.id),y.RTC.attachMediaStreamIfNeeded(angular.element("#p2pSecondVideo"),n,n.id),angular.element("#p2pSecondVideo")[0]&&(angular.element("#p2pSecondVideo")[0].muted=!0,angular.element("#p2pSecondVideo")[0].volume=0)),n.getAudioTracks().length>0&&(i.a.webrtc("attachDistantMediaStreams audio track for element globalAudioTag "+n.id),y.RTC.attachMediaStream(angular.element("#globalAudioTag"),n))}else e.remoteStreams.forEach((function(e){e.getVideoTracks().length>0&&(i.a.webrtc("attachDistantMediaStreams video track"),y.RTC.attachMediaStreamIfNeeded(angular.element("#largevideo"),e,e.id),angular.element("#largevideo")[0]&&(angular.element("#largevideo")[0].muted=!0,angular.element("#largevideo")[0].volume=0),y.RTC.attachMediaStreamIfNeeded(angular.element("#p2pSecondVideo"),e,e.id),angular.element("#p2pSecondVideo")[0]&&(angular.element("#p2pSecondVideo")[0].muted=!0,angular.element("#p2pSecondVideo")[0].volume=0)),e.getAudioTracks().length>0&&(i.a.webrtc("attachDistantMediaStreams audio track"),y.RTC.attachMediaStream(angular.element("#globalAudioTag"),e))}));y.alreadyAttaching=!1}}else y.isUserContactInCall()||(this.RTC.clearMediaStream(angular.element("#largevideo"),null),this.RTC.clearMediaStream(angular.element("#globalVideoTag"),null),this.RTC.clearMediaStream(angular.element("#globalAudioTag"),null))},this.attachLocalVideoOnlyStreamToElement=function(e,t){i.a.webrtc("attachLocalVideoOnlyStreamToElement "+e),e?(this.localStreams&&this.localStreams.length&&this.localStreams.forEach((function(e){e.getVideoTracks().length&&e.getAudioTracks().length||e.getVideoTracks().length&&y.RTC.attachMediaStreamIfNeeded(t,e,e.id)})),t[0]&&(t[0].volume=0)):this.RTC.clearMediaStream(t,null)},this.attachLocalAudioVideoStreamToElement=function(e,t){i.a.webrtc("attachLocalAudioVideoStreamToElement "+e),e?(this.localStreams&&this.localStreams.length&&this.localStreams.forEach((function(e){e.getVideoTracks().length&&e.getAudioTracks().length&&y.RTC.attachMediaStreamIfNeeded(t,e,e.id)})),t[0]&&(t[0].volume=0)):this.RTC.clearMediaStream(t,null)},this.attachLocalMediaStreams=function(e){if(i.a.webrtc("attachLocalMediaStreams "+e),e){if(this.localStreams&&this.localStreams.length){let e=!1;this.localStreams.forEach((function(t){t.getVideoTracks().length&&t.getAudioTracks().length?(e?y.RTC.attachMediaStreamIfNeeded($("#minivideo2"),t,t.id):(e=!0,y.RTC.attachMediaStreamIfNeeded($("#minivideo"),t,t.id)),y.RTC.attachMediaStreamIfNeeded($("#callVideoPip"),t,t.id)):t.getVideoTracks().length&&(e?y.RTC.attachMediaStreamIfNeeded($("#minivideo2"),t,t.id):(e=!0,y.RTC.attachMediaStreamIfNeeded($("#minivideo"),t,t.id)),y.RTC.attachMediaStreamIfNeeded($("#callSharingPip"),t,t.id))}))}$("#callVideoPip")[0]&&($("#callVideoPip")[0].volume=0),$("#minivideo")[0]&&($("#minivideo")[0].volume=0),$("#minivideo2")[0]&&($("#minivideo2")[0].volume=0),$("#callSharingPip")[0]&&($("#callSharingPip")[0].volume=0)}else this.RTC.clearMediaStream($("#minivideo"),null),this.RTC.clearMediaStream($("#minivideo2"),null),this.RTC.clearMediaStream($("#callVideoPip"),null),this.RTC.clearMediaStream($("#callSharingPip"),null)},this.removeConferencePip=function(){return this.RTC.clearMediaStream($("#conferenceSharingPip"),null),this.RTC.clearMediaStream($("#conferenceVideoPip"),null),!0},this.pushInLocalStreams=function(e,t){e.callId=t,y.localStreams.push(e)},this.openErrorPopup=function(e){e||(e="cameraNotAvailable"),t.$broadcast("ON_WEBRTC_CALL_ERROR_EVENT",e)},this.openCalendarBusyPopup=function(e){t.$broadcast("ON_WEBRTC_CALENDAR_BUSY_EVENT",e)},this.makeVideoCall=function(e){y.makeCall(e,"videoOnly")},this.makeCall=function(e,t,n){i.a.webrtc("MEDIA   | makeCall to "+JSON.stringify({displayName:e.nameForLog,resources:e.resources})),y.makingCall?i.a.info("MEDIA   | makeCall already making a call !"):(y.makingCall=!0,this.videoEventHandler.sendProposition(e,t,n))},this.makeJingleCall=function(e,n,r){i.a.webrtc("MEDIA   | makeJingleCall"),y.setWebrtcConfiguration().then((function(){let o="";e.localMedia&a.Call.Media.AUDIO&&(o="audio"),e.localMedia&a.Call.Media.VIDEO&&(o=o?"audio+video":"video"),n&&""!==n&&i.a.webrtc("MEDIA   | makeJingleCall in mediaPillar case for number : "+r),n&&""!==n&&r&&""!==r?(o="sip",_.a.connection.jingle.initiate(n,_.a.connection.jid,o,y.localStreams,e.id,null,r)):_.a.connection.jingle.initiate(e.fullJid,_.a.connection.jid,o,y.localStreams,e.id,null,null,e.unifiedPlanActivated),e.status=a.Call.Status.CONNECTING,t.$broadcast("ON_CALL_UPDATED_EVENT",e)})).catch((function(t){i.a.webrtc("MEDIA   | makeCall failure : "+JSON.stringify({error:t.message})),y.makingCall=!1,e&&y.removeCallObject(e),y.resetToSafeState()}))},this.makeJingleSharingCall=function(e){i.a.webrtc("MEDIA   | makeJingleSharingCall - make desktop sharing call");let n="sharing";e.localMedia===a.Call.Media.SHARING&&(n="sharing-only"),y.setWebrtcConfiguration().then((function(){i.a.webrtc("SHARING | getUserMedia success");const r=[],o=y.getMediaPillarAudioCalls();o.forEach(e=>{const t=_.a.connection.jingle.sessions[e.id],n=t?t.localStreams:null;n&&r.push.apply(r,n)});const s=o&&0!==o.length?y.localStreams.filter((function(e){return!(r&&r.includes(e))})):y.localStreams;_.a.connection.jingle.initiate(e.fullJid,_.a.connection.jid,n,s,e.id,null,null,e.unifiedPlanActivated),e.status=a.Call.Status.CONNECTING,t.$broadcast("ON_CALL_UPDATED_EVENT",e)})).catch((function(t){y.makingCall=!1,e&&y.removeCallObject(e),y.resetToSafeState(),i.a.webrtc("MEDIA   | makeJingleSharingCall failure : "+JSON.stringify({error:t.message}))}))},this.startDesktopSharing=function(e,t){y.makingCall?i.a.info("MEDIA   | startDesktopSharing already making a call !"):(y.makingCall=!0,!y.askToStartSharing(e.jid,t)&&y.makeDesktopSharingCall(e,t))},this.startSharingCancelled=function(){y.makingCall=!1},this.makeDesktopSharingCall=function(e,t){t||(t="sharing"),y.makingCall=!0,i.a.webrtc("MEDIA   | makeDesktopSharingCall - trying to start a desktop sharing call with media "+t),this.videoEventHandler.sendProposition(e,t),this.sendEvent("startHighlighting")},this.answerJingleCall=function(e){i.a.webrtc("MEDIA   | answerJingleCall "+e.id);const n=[];let r="audio";e.localMedia&a.Call.Media.AUDIO&&n.push("audio"),e.localMedia&a.Call.Media.VIDEO&&(n.push("video"),r="audio+video"),e.localMedia===a.Call.Media.VIDEO&&(r="video");let o={};e.isInConversationWithMobile()&&(o=y.getMobileMediaConstraints("video")),y.setWebrtcConfiguration().then((function(){y.getBrowserMedia(n,o.fixedVideoWidth,o.fixedVideoHeight,o.fixedFrameRate).then((function(n){const o=_.a.connection.jingle.sessions[e.id];n?(y.pushInLocalStreams(n,e.id),o.addStream(y.localStreams[0]),o.localStreams.push(y.localStreams[0])):r=null,o.localType=r,o.sendAnswer(),o.accept(),t.$broadcast("ON_CALL_UPDATED_EVENT",e)})).catch((function(t){i.a.webrtc("MEDIA   | answerJingleCall failure for : "+e+" failure : "+t.message),-1!==t.toString().indexOf("getUserMedia")&&(y.releaseCall(e),y.openErrorPopup()),y.resetToSafeState()}))}))},this.answerCall=function(e,t){this.videoEventHandler.acceptProposition(e,t)},this.rejectCall=function(e,t){e?(y.makingCall=!1,y.autoreleaseTimeout&&l.cancel(y.autoreleaseTimeout),_.a.connection.jingle.sessions[e.id]?y.releaseCall(e):e.isInitiator?this.videoEventHandler.retractProposition(e):this.videoEventHandler.rejectProposition(e,t)):i.a.webrtc("MEDIA   | rejectCall - trying to rejectCall a non existing call !")},this.onCallTransferredToConference=function(e){const t=_.a.connection.jingle.sessions[e.id];this.disableAudioVideoMedia(t),this.autoreleaseTimeout&&l.cancel(this.autoreleaseTimeout),this.createOrUpdateStatisticsForCall(e.id),this.callsStats[e.id]&&delete this.callsStats[e.id],this.callsStatsSimplified[e.id]&&delete this.callsStatsSimplified[e.id],this.removeCallObject(e),this.displayWebRTCStats(e.id)},this.releaseCall=function(e,t,n){e?(y.makingCall=!1,this.execute("releaseCall",(function(){i.a.webrtc("MEDIA   | releaseCall : "+e);try{const r=_.a.connection.jingle.sessions[e.id];y.disableAudioVideoMedia(r),g.a.resetBusyState(),y.autoreleaseTimeout&&l.cancel(y.autoreleaseTimeout),y.createOrUpdateStatisticsForCall(e.id),y.callsStats[e.id]&&delete y.callsStats[e.id],y.callsStatsSimplified[e.id]&&delete y.callsStatsSimplified[e.id],y.removeCallObject(e,t,n),y.displayWebRTCStats(e.id),y.isUserContactInCall()||y.clearSrcObjectsFromElements()}catch(r){i.a.webrtc("MEDIA   | releaseCall ERROR"),i.a.error(r),y.createOrUpdateStatisticsForCall(e.id),y.callsStats[e.id]&&delete y.callsStats[e.id],y.callsStatsSimplified[e.id]&&delete y.callsStatsSimplified[e.id],y.resetToSafeState(),y.displayWebRTCStats(e.id),y.removeCallObject(e)}}))):i.a.webrtc("MEDIA   | releaseCall - trying to release a non existing call !")},this.askToAddDesktopSharing=function(e){i.a.webrtc("MEDIA   | askToAddDesktopSharing - Desktop sharing escalation"),!y.askToAddSharing(e.id)&&y.addSharingToCall(e.videoCall)},this.addAudioToCall=function(e,t){i.a.webrtc("MEDIA   | addAudioToCall");const n=_.a.connection.jingle.sessions[e.id];n.isRenegotiating=!0,this.getBrowserMedia(["audio"]).then((function(r){y.stopActiveAudioVideoStreams(n),y.pushInLocalStreams(r,e.id);for(let e=0;e<y.localStreams.length;e++)n.removeStream(y.localStreams[e]);const o=t?"contentModify":"contentAdd";y.updateCurrentCall(e,n,"audio",o),"contentModify"===o&&n.muteAudio(e.isMuted)})).catch((function(t){i.a.webrtc("MEDIA   | addAudioToCall failure : "+t),y.releaseCall(e),y.resetToSafeState()}))},this.addSharingToCall=function(e){i.a.webrtc("MEDIA   | addSharingToCall - Desktop sharing escalation");const t=_.a.connection.jingle.sessions[e.id];t.isRenegotiating=!0;let n={};e.isInConversationWithMobile()&&(n=y.getMobileMediaConstraints("sharing")),this.getBrowserMedia(["sharing"],null,null,n.fixedFrameRate).then((function(n){for(var r=0;r<y.localStreams.length;r++)t.removeStream(y.localStreams[r]),t.localStreams[r]=null;for(t.localStreams=[],y.pushInLocalStreams(n,e.id),r=0;r<y.localStreams.length;r++)t.removeStream(y.localStreams[r]);y.updateCurrentCall(e,t,"sharing","contentAdd"),y.sendEvent("startHighlighting")})).catch((function(e){i.a.webrtc("MEDIA   | addSharingToCall failure : "+e),t.isRenegotiating=!1,-1!==e.toString().indexOf("getUserMedia")&&y.openErrorPopup()}))},this.addVideoToCall=function(e,t){i.a.webrtc("MEDIA   | addVideoToCall");const n=_.a.connection.jingle.sessions[e.id];n.isRenegotiating=!0;let r={};e.isInConversationWithMobile()&&(r=y.getMobileMediaConstraints("video")),y.getBrowserMedia(["audio","video"],r.fixedVideoWidth,r.fixedVideoHeight,r.fixedFrameRate).then((function(r){y.stopActiveAudioVideoStreams(n),y.pushInLocalStreams(r,e.id);for(let e=0;e<y.localStreams.length;e++)n.removeStream(y.localStreams[e]);const o=t?"contentModify":"contentAdd";y.updateCurrentCall(e,n,"video",o),n.muteAudio(e.isMuted)})).catch((function(t){i.a.webrtc("MEDIA   | addVideoToCall failure for : "+e+" failure : "+t.message),-1!==t.toString().indexOf("getUserMedia")?(i.a.info("addVideoToCall impossible, no webcam plugged"),y.openErrorPopup()):(y.releaseCall(e),y.resetToSafeState())}))},this.removeSharingFromCall=function(e){i.a.webrtc("MEDIA   | removeSharingFromCall");const t=_.a.connection.jingle.sessions[e.id];this.stopActiveSharingStream(t),t.isRenegotiating=!0,y.updateCurrentCall(e,t,"sharing","contentRemove"),y.sendEvent("stopHighlighting")},this.removeVideoFromCall=function(e){i.a.webrtc("MEDIA   | removeVideoFromCall"),this.reverseAudioCallInitiated=!0;const t=_.a.connection.jingle.sessions[e.id];this.stopActiveAudioVideoStreams(t),this.localStreams.forEach((function(e){t.removeStream(e)})),t.isRenegotiating=!0,y.getBrowserMedia(["audio"]).then((function(n){y.pushInLocalStreams(n,e.id),y.updateCurrentCall(e,t,"video","contentRemove"),t.muteAudio(e.isMuted)})).catch((function(t){i.a.webrtc("MEDIA   | removeVideoFromCall failure for : "+e+" failure : "+t),-1!==t.toString().indexOf("getUserMedia")&&y.openErrorPopup(),y.releaseCall(e),y.resetToSafeState()}))},this.calculatePresenceMessage=function(e){let t="audio";return e&&e.localMedia&a.Call.Media.VIDEO&&(t="video"),e&&e.remoteMedia&a.Call.Media.VIDEO&&(t="video"),e&&e.localMedia&a.Call.Media.SHARING&&(t="sharing"),t},this.calculateAudioState=function(e){let t=0;return e.availableIncomingAudioBandwidth&&(t=e.availableIncomingAudioBandwidth<15&&e.availableIncomingAudioBandwidth>0?1:e.availableIncomingAudioBandwidth>=15&&e.availableIncomingAudioBandwidth<30?2:3),t},this.calculateVideoState=function(e){let t=0;return e.availableIncomingVideoBandwidth&&(t=e.availableIncomingVideoBandwidth<300?1:e.availableIncomingVideoBandwidth>=300&&e.availableIncomingVideoBandwidth<500?2:3),t},this.execute=function(e,t,n){this.started||"releaseCall"===e?t(n):i.a.webrtc("MEDIA   | "+e+" failure : videoService is not started")},this.getOrCreateCallByCallId=function(e){let t=y.calls[e];if(!t){const n=_.a.connection.jingle.sessions[e],r=_.a.getBareJidFromJid(n.peerjid),o=g.a.getContactByJid(r);t=a.Call.create(a.Call.Status.UNKNOWN,e,a.Call.Type.WEBRTC,o),y.calls[t.id]=t}return t},this.getCallByContact=function(e){for(const t in this.calls)if(this.calls.hasOwnProperty(t)){const n=y.calls[t];if(n.contact&&e.jid===n.contact.jid)return n}return null},this.removeCallObject=function(e,n,r){try{if(e){i.a.debug("removeCallObject Call id: "+e.id),e.status=a.Call.Status.UNKNOWN,e.stopDuration();const o=_.a.connection.jingle.sessions?_.a.connection.jingle.sessions[e.id]:null;y.disableAudioVideoMedia(o,e.id),delete y.calls[e.id],t.$broadcast("ON_CALL_UPDATED_EVENT",e),o&&_.a.connection.jingle.terminate(e.id,n,r),y.sendEvent("stopHighlighting")}}catch(o){i.a.error("removeCallObject error "+o)}},this.updateRemoteTypeMedia=function(e,t){switch(e){case"audio":t.remoteMedia=a.Call.Media.AUDIO;break;case"video":t.remoteMedia=a.Call.Media.VIDEO;break;case"audio+video":t.remoteMedia=a.Call.Media.AUDIO|a.Call.Media.VIDEO;break;case"sharing":t.remoteMedia=a.Call.Media.SHARING|a.Call.Media.AUDIO;break;case"sharing-only":t.remoteMedia=a.Call.Media.SHARING;break;default:t.remoteMedia=null}i.a.debug("REMOTE TYPE || REMOTE MEDIA  "+t.remoteMedia)},this.checkStreamAndStatus=function(e,t){return e&&(0===e.getAudioTracks().length&&0===e.getVideoTracks().length||!1===e.active)?(y.openErrorPopup(),!1):!(t.capabilities&&!t.capabilities.webRTC)||(i.a.webrtc("MEDIA   | initSharedDesktop failure : remote contact is no more available"),e.stop&&e.stop(),y.openErrorPopup("remoteUserNoMoreAvailable"),!1)},this.displayWebRTCStats=function(e){try{let t=null,n=0;if(f.hasStatsForCall(e)){if(i.a.webrtc("STATS   | Bundle policy used: "+f.getBundlePolicyForCall(e)),t=f.getStreamsDetailsFromCall(e),0===t.length)i.a.webrtc("STATS   | No channel information available for call "+e);else for(n=0;n<t.length;n++)i.a.webrtc("STATS   | "+t[n].id+": "+JSON.stringify(t[n].streams));const r=f.getCodecDetailsFromCall(e);i.a.webrtc("STATS   | codecs used: "+JSON.stringify(r)),v.trackCodecsUsed(r.codec.audio,r.codec.video)}else if(h.hasStatsForCall(e))if(i.a.webrtc("STATS   | Bundle policy used: "+h.getBundlePolicyForCall(e)),t=h.getStreamsDetailsFromCall(e),0===t.length)i.a.webrtc("STATS   | No channel information available for call "+e);else for(n=0;n<t.length;n++)i.a.webrtc("STATS   | "+t[n].id+": "+JSON.stringify(t[n].streams))}catch(t){i.a.error("[videoService] displayWebRTCStats error : "+t)}},this.muteAudio=function(e,n){const r=e.videoCall;if(!r)return void i.a.webrtc("MEDIA   | muteAudio - trying to mute a non existing call !");i.a.webrtc("MEDIA   | mute audio: "+r+" | state: "+n),e.isMutedAudio=n,r.isMuted=n;const o=_.a.connection.jingle.sessions[r.id];o?(o.muteAudio(n),t.$broadcast("ON_CONVERSATION_CALL_MUTED_UPDATED_EVENT",{conversation:e,call:r})):i.a.webrtc("MEDIA   | muteAudio - trying to mute a non existing session !")},this.referTo=function(e,t,n){e?e.sendRefer(t,n):i.a.webrtc("MEDIA   | referTo - trying to transfer a non existing session !")},this.sendReferStatus=function(e,t){const n=_.a.connection.jingle.sessions[e];n?(i.a.webrtc("MEDIA   | sendReferStatus - "+t),n.sendReferStatus(t)):i.a.webrtc("MEDIA   | sendReferStatus - trying to transfer a non existing session !")},this.muteVideo=function(e,n){const r=e.videoCall;if(!r)return void i.a.webrtc("MEDIA   | muteVideo - trying to mute a non existing call !");i.a.webrtc("MEDIA   | muteVideo: "+r);const o=_.a.connection.jingle.sessions[r.id];o&&(o.muteVideo(n),o.sendMute(n)),t.$broadcast("ON_CONVERSATION_CALL_MUTED_UPDATED_EVENT",{conversation:e,call:r})},this.stopActiveSharingStream=function(e){if(y.localStreams.length>0){y.localStreams.forEach((function(e){e.getVideoTracks().length&&!e.getAudioTracks().length&&(e.getTracks().forEach((function(e){e.enabled=!1,e.stop(),e=null})),e.stop&&e.stop(),e=null)}));for(let e=0;e<y.localStreams.length;e++)if(y.localStreams[e]&&!y.localStreams[e].getAudioTracks().length&&y.localStreams[e].getVideoTracks().length){let t=y.localStreams.splice(e,1);t=null}}e&&e.localStreams&&(e.localStreams.forEach((function(t){t.getVideoTracks().length&&!t.getAudioTracks().length&&(t.getTracks().forEach((function(e){e.enabled=!1,e.stop(),e=null})),t.stop&&t.stop()),e.removeStream(t)})),e.localStreams=[]),e&&_.a.connection.jingle.localStream&&e.removeStream(_.a.connection.jingle.localStream)},this.stopAllActiveStreams=function(e){this.stopActiveAudioVideoStreams(e,!0)},this.stopActiveAudioVideoStreams=function(e,t){if(y.localStreams.length>0)if(y.localStreams.forEach((function(e){(e.getAudioTracks().length||t)&&(e.getTracks().forEach((function(e){e.enabled=!1,e.stop(),e=null})),e.stop&&e.stop(),e=null)})),t)for(;y.localStreams.length;)y.localStreams.pop();else for(let n=0;n<y.localStreams.length;n++)y.localStreams[n]&&y.localStreams[n].getAudioTracks().length&&y.localStreams.splice(n,1);if(e&&e.localStreams){if(e.localStreams.forEach((function(n){(n.getAudioTracks().length||t)&&(n.getTracks().forEach((function(e){e.enabled=!1,e.stop(),e=null})),n.stop&&n.stop(),e.removeStream(n))})),t)for(;e.localStreams.length;)e.localStreams.pop();e.localStreams=[]}e&&_.a.connection.jingle.localStream&&e.removeStream(_.a.connection.jingle.localStream)},this.resetToSafeState=function(){i.a.webrtc("MEDIA   | resetToSafeState"),y.autoreleaseTimeout&&l.cancel(y.autoreleaseTimeout),(y.localStream||y.localStreams.length)&&y.disableAudioVideoMedia(),g.a.resetBusyState()},this.vidRes={1080:[1920,1080],720:[1280,720],360:[640,360],180:[320,180],960:[960,720],640:[640,480],320:[320,240]},this.getMobileMediaConstraints=function(e){return this.mobileVideoQualityConfiguration[e]},this.setVideoQualityConfigurationForCompany=function(){this.companyConfig&&this.companyConfig.video&&(this.videoQualityConfiguration.video.fixedVideoHeight=this.companyConfig.video.height?this.companyConfig.video.height:this.videoQualityConfiguration.video.fixedVideoHeight,this.videoQualityConfiguration.video.fixedVideoWidth=this.companyConfig.video.width?this.companyConfig.video.width:this.videoQualityConfiguration.video.fixedVideoWidth,this.videoQualityConfiguration.video.fixedFrameRate=this.companyConfig.video.frameRate?this.companyConfig.video.frameRate:this.videoQualityConfiguration.video.fixedFrameRate),this.companyConfig&&this.companyConfig.sharing&&(this.videoQualityConfiguration.sharing.fixedVideoHeight=this.companyConfig.sharing.height?this.companyConfig.sharing.height:this.videoQualityConfiguration.sharing.fixedVideoHeight,this.videoQualityConfiguration.sharing.fixedVideoWidth=this.companyConfig.sharing.width?this.companyConfig.sharing.width:this.videoQualityConfiguration.sharing.fixedVideoWidth,this.videoQualityConfiguration.sharing.fixedFrameRate=this.companyConfig.sharing.frameRate?this.companyConfig.sharing.frameRate:this.videoQualityConfiguration.sharing.fixedFrameRate)},this.videoQualityConfiguration={video:{fixedFrameRate:24,fixedVideoWidth:1280,fixedVideoHeight:720},sharing:{fixedFrameRate:5,fixedVideoWidth:1920,fixedVideoHeight:1080}},this.mobileVideoQualityConfiguration={video:{fixedFrameRate:20,fixedVideoWidth:640,fixedVideoHeight:480},sharing:{fixedFrameRate:5,fixedVideoWidth:1280,fixedVideoHeight:720}},this.minFirefoxWebRTCVersion=45,this.minChromeWebRTCVersion=42,this.minEdgeWebRTCVersion=25,this.firefoxPreferedSharing="screen",this.getBrowserMedia=function(n,r,o,s,a){const l=this;return n&&0!==n.length?new Promise((function(a,c){const u=e.defer();let d=!1,f={audio:!1,video:!1},_=r||l.videoQualityConfiguration.video.fixedVideoWidth,h=o||l.videoQualityConfiguration.video.fixedVideoHeight,p=s||l.videoQualityConfiguration.video.fixedFrameRate;n.indexOf("sharing")>=0&&(_=r||l.videoQualityConfiguration.sharing.fixedVideoWidth,h=o||l.videoQualityConfiguration.sharing.fixedVideoHeight,p=s||l.videoQualityConfiguration.sharing.fixedFrameRate);const g=[];if(m.allowDevicesManagement()){if(n.indexOf("audio")>=0){const t=e.defer();m.getCurrentMicrophone().then((function(e){f.audio=!e||{optional:[{sourceId:e.id},{googEchoCancellation:!0},{googAutoGainControl:!0},{googNoiseSuppression:!0},{googHighpassFilter:!0},{googAudioMirroring:!0},{autoGainControl:!0},{noiseSuppression:!0}]},t.resolve(f);let n="default";e&&(n="id - "+e.id+" and label "+e.label),i.a.info("[VideoService] GetUserMedia for microphone "+n)})),g.push(t.promise)}if(n.indexOf("video")>=0){const t=e.defer();m.getCurrentCamera().then((function(e){e&&"default"!==e.id?f.video={width:_,height:h,frameRate:p,deviceId:{exact:e.id}}:f.video={width:_,height:h,frameRate:p},t.resolve(f);let n="default";e&&(n="id - "+e.id+" and label "+e.label),i.a.info("[VideoService] GetUserMedia for camera "+n)})),g.push(t.promise)}}else n.indexOf("audio")>=0&&(f.audio={optional:[{googEchoCancellation:!0},{googAutoGainControl:!0},{googNoiseSuppression:!0},{googHighpassFilter:!0},{googAudioMirroring:!0},{autoGainControl:!0},{noiseSuppression:!0}]}),n.indexOf("video")>=0&&(f.video={width:_,height:h});if(n.indexOf("sharing")>=0)if(D.extensionFound)f.video={mandatory:{chromeMediaSource:"desktop",maxFrameRate:p}},g.push(D.getStreamToShareFromExtension(f));else if(l.isNativeApplication()||"chrome"!==adapter.default.browserDetails.browser)if("firefox"===adapter.default.browserDetails.browser)f.video={mediaSource:l.firefoxPreferedSharing};else{const e=l.getDesktopSharingSource(),t=e&&e.chromeMediaSource?e.chromeMediaSource:"desktop",n=e&&e.chromeMediaSourceId?e.chromeMediaSourceId:null;f.video={mandatory:{chromeMediaSource:t,maxWidth:_,maxHeight:h,maxFrameRate:p}},n&&(f.video.mandatory.chromeMediaSourceId=n)}else d=!0,f={},f={video:{chromeMediaSource:"desktop",width:{max:_},height:{max:h},frameRate:{ideal:p}}};e.all(g).then((function(){u.resolve(f)})).catch((function(){u.resolve()})),u.promise.then((function(e){if(i.a.info("[VideoService] GetUserMedia with constraint "+JSON.stringify(e)),e)try{d?navigator.mediaDevices.getDisplayMedia(e).then((function(e){i.a.webrtc("MEDIA   | getDisplayMedia success"),e.getVideoTracks().length&&i.a.info("[videoService] getDisplayMedia video stream kind "+e.getVideoTracks()[0].kind+", id "+e.getVideoTracks()[0].id+", label "+e.getVideoTracks()[0].label+", readyState "+e.getVideoTracks()[0].readyState+", enabled "+e.getVideoTracks()[0].enabled),e&&(0===e.getAudioTracks().length&&0===e.getVideoTracks().length||!1===e.active)&&(i.a.webrtc("Stream has no active audio or video tracks"),v.trackGetUserMediaErrorNoTrack(),c(new Error("getDisplayMedia failure : Stream has no active audio or video tracks"))),e.getVideoTracks()[0].onended=function(){i.a.info("Stop screensharing in chrome has been triggered"),t.$broadcast("ON_CHROME_STOP_SCREEN_SHARING_TRIGGERED")},a(e),v.trackGetUserMediaSuccess()})).catch((function(e){i.a.webrtc("MEDIA   | getDisplayMedia failure: "+e),v.trackGetUserMediaError(),t.$broadcast("ON_WEBRTC_GETUSERMEDIA_ERROR",e),c(new Error("getDisplayMedia failure "+e))})):navigator.mediaDevices.getUserMedia(e).then((function(e){i.a.webrtc("MEDIA   | getUserMedia success"),e.getAudioTracks().length&&i.a.info("[videoService] getUserMedia audio stream kind "+e.getAudioTracks()[0].kind+", id "+e.getAudioTracks()[0].id+", label "+e.getAudioTracks()[0].label+", readyState "+e.getAudioTracks()[0].readyState+", enabled "+e.getAudioTracks()[0].enabled),e.getVideoTracks().length&&i.a.info("[videoService] getUserMedia video stream kind "+e.getVideoTracks()[0].kind+", id "+e.getVideoTracks()[0].id+", label "+e.getVideoTracks()[0].label+", readyState "+e.getVideoTracks()[0].readyState+", enabled "+e.getVideoTracks()[0].enabled),e&&(0===e.getAudioTracks().length&&0===e.getVideoTracks().length||!1===e.active)&&(i.a.webrtc("Stream has no active audio or video tracks"),v.trackGetUserMediaErrorNoTrack(),c(new Error("getUserMedia failure : Stream has no active audio or video tracks"))),n.indexOf("sharing")>=0&&(e.getVideoTracks()[0].onended=function(){i.a.info("Stop screensharing native button has been triggered"),t.$broadcast("ON_CHROME_STOP_SCREEN_SHARING_TRIGGERED")}),e&&e.getAudioTracks().length&&(e.getAudioTracks()[0].onended=function(e){i.a.error("[videoService] getUserMedia -- audio stream track ended"),console.log(this),console.log(e)}),a(e),v.trackGetUserMediaSuccess()})).catch((function(e){i.a.webrtc("MEDIA   | getUserMedia failure: "+e),v.trackGetUserMediaError(),t.$broadcast("ON_WEBRTC_GETUSERMEDIA_ERROR",e),c(new Error("getUserMedia failure "+e))}))}catch(r){i.a.webrtc("MEDIA   | getUserMedia failure: "+r),v.trackGetUserMediaError(),c(new Error("getUserMedia failure "+r))}else c({message:"getUserMedia cancelled"})}))})):e.when()},this.getBrowserMethodHandler=function(){let e="",t=null;if(navigator.mozGetUserMedia&&n.mozRTCPeerConnection){if(e=u.extractBrowserVersion(navigator.userAgent,/Firefox\/([0-9]+)\./,1),i.a.webrtc("BROWSER | Detect Firefox navigator (version "+e+")"),e<this.minFirefoxWebRTCVersion)return i.a.webrtc("BROWSER | Firefox navigator is not WebRTC capable before version "+this.minFirefoxWebRTCVersion),t;t={browser:"firefox",attachMediaStream:function(e,t){e&&e[0]&&(e[0].mozSrcObject=t,e[0].srcObject=t,e[0].play())},pc_constraints:{},clearMediaStream:function(e){try{angular.isDefined(e[0])&&(e[0].pause(),e[0].mozSrcObject=null,e[0].srcObject=null,e[0].uniqueId=null)}catch(t){i.a.webrtc("BROWSER | clearMediaStream failure "+t)}},attachMediaStreamIfNeeded:function(e,t,n){i.a.webrtc("BROWSER | attachMediaStreamIfNeeded for ID "+n),e&&e[0]&&(e[0].uniqueId!==n||!e[0].mozSrcObject&&!e[0].srcObject)&&(e[0].uniqueId=n,y.RTC.attachMediaStream(e,t))}}}else if(navigator.webkitGetUserMedia&&n.webkitRTCPeerConnection){if(e=u.extractBrowserVersion(navigator.userAgent,/Chrom(e|ium)\/([0-9]+)\./,2),i.a.webrtc("BROWSER | Detect Chrome navigator (version "+e+")"),e<this.minChromeWebRTCVersion)return i.a.webrtc("BROWSER | Chrome navigator is not WebRTC capable before version "+this.minChromeWebRTCVersion),t;t={browser:"chrome",attachMediaStream:function(e,t){i.a.webrtc("BROWSER | attachMediaStream to element"),e&&e[0]&&(e[0].srcObject=t,"VIDEO"===e[0].nodeName&&(e[0].autoplay=!0,e[0].muted=!0))},pc_constraints:{},clearMediaStream:function(e){angular.isDefined(e[0])&&(e[0].pause(),e[0].srcObject=null,e[0].uniqueId=null)},attachMediaStreamIfNeeded:function(e,t,n){i.a.webrtc("BROWSER | attachMediaStreamIfNeeded for ID "+n),!e||!e[0]||e[0].uniqueId===n&&e[0].srcObject||(e[0].uniqueId=n,y.RTC.attachMediaStream(e,t))}}}else window.RTCPeerConnection&&navigator.userAgent.match(/AppleWebKit\/(\d+)\./)&&(t={browser:"safari",attachMediaStream:function(e,t){e&&e[0]&&(e[0].setAttribute("playsinline",!0),e[0].srcObject=t,e[0].play())},pc_constraints:{},clearMediaStream:function(e){try{angular.isDefined(e[0])&&(e[0].pause(),e[0].srcObject=null,e[0].uniqueId=null)}catch(t){i.a.webrtc("BROWSER | clearMediaStream failure "+t)}},attachMediaStreamIfNeeded:function(e,t,n){i.a.webrtc("BROWSER | attachMediaStreamIfNeeded for ID "+n),!e||!e[0]||e[0].uniqueId===n&&e[0].srcObject||(e[0].uniqueId=n,y.RTC.attachMediaStream(e,t))}});return t},this.getIceConfig=function(){return e((function(e,t){const n=c.a.getSetting("geoip");let r="";n&&(r="&geoip="+n);const s=config.restServerUrl+"/api/rainbow/geolocation/v1.0/";o({method:"GET",url:s+"settings/iceservers?nbServers=2"+r,headers:d.a.getRequestHeader()}).then((function(t){i.a.info("[videoService] getIceConfig success"),y.ttl=t.data.ttl,y.ttl&&(y.ttlTimeout=l((function(){y.ttl=0,y.setWebrtcConfiguration()}),1e3*t.data.ttl,1));const n=t.data.data,r=[];n.forEach((function(e){e.dc&&!r.includes(e.dc)&&r.push(e.dc),delete e.dc,delete e.id}),this),e({iceServers:n,dc:r})})).catch((function(e){i.a.error("[videoService] getIceConfig failure -- "+e.message),t(e)}))}))},this.getCompanyWebrtcConfig=function(){return e((function(e,t){const n=config.restServerUrl+"/api/rainbow/enduser/v1.0/settings/webrtc";o({method:"GET",url:n,headers:d.a.getRequestHeader()}).then((function(t){i.a.info("[videoService] getCompanyWebrtcConfig success");const n=t.data.data;e(n)})).catch((function(n){const r=n&&n.data?n.data.errorDetails:"Unknown error";if(n&&n.data&&400100==n.data.errorDetailsCode)return i.a.info("[videoService] getCompanyWebrtcConfig -- "+r),e({});i.a.error("[videoService] getCompanyWebrtcConfig failure -- "+r),t(n)}))}))},this.calculateNewCallType=function(e,t,n,r){let o=t.localType;return"contentAdd"===r&&("video"===n?(o=e.localMedia&a.Call.Media.SHARING?"sharing+video":"video",e.localMedia=e.localMedia|a.Call.Media.VIDEO):"sharing"===n?(o=e.localMedia&a.Call.Media.VIDEO?"sharing+video":"sharing",e.localMedia=e.localMedia|a.Call.Media.SHARING):"audio"===n&&(e.localMedia&a.Call.Media.SHARING?(o="sharing",e.localMedia=e.localMedia|a.Call.Media.AUDIO):(o="audio",e.localMedia=a.Call.Media.AUDIO))),"contentRemove"===r&&("video"===n?e.localMedia&a.Call.Media.SHARING?(o="sharing",e.localMedia=a.Call.Media.AUDIO|a.Call.Media.SHARING):(o="audio",e.localMedia=a.Call.Media.AUDIO):"sharing"===n&&(e.localMedia&a.Call.Media.VIDEO?(o="video",e.localMedia=a.Call.Media.AUDIO|a.Call.Media.VIDEO):(o="audio",e.localMedia=a.Call.Media.AUDIO))),"contentModify"===r&&e.localMedia&a.Call.Media.VIDEO&&!(e.localMedia&a.Call.Media.SHARING)&&(o="video"),i.a.info("[videoService] calculateNewCallType for type "+n+" and action "+r+" with result "+o),o},this.updateCurrentCall=function(e,n,r,o){i.a.info("[videoService] updateCurrentCall for type "+r+" and action "+o);const s=this.calculateNewCallType(e,n,r,o);for(let t=0;t<y.localStreams.length;t++)"chrome"===adapter.default.browserDetails.browser?n.addStream(y.localStreams[t]):n.replaceStream(y.localStreams[t]),n.localStreams.push(y.localStreams[t]);switch(o){case"contentAdd":n.contentAdd(s);break;case"contentRemove":n.contentRemove(s);break;case"contentModify":n.contentModify(s)}g.a.setBusyState("dnd",y.calculatePresenceMessage(e)),t.$broadcast("ON_CALL_UPDATED_EVENT",e),t.$broadcast("ON_WEBRTC_CALL_ESCALATION",e)},this.createOrUpdateStatisticsForCall=function(e){const t=this.calls[e];if(!t)return void i.a.warn("[videoService] createOrUpdateStatisticsForCall -- missing call "+e);const n=[];if(this.callsStats[e])return this.callsStats[e].RainMetrics&&this.callsStats[e].push(this.callsStats[e].RainMetrics),n.push({connectionId:e,stats:this.callsStats[e]}),void this.updateStatisticsForCall(this.callsStats[e].id,e,t.contact.dbId,"ended",n);i.a.info("[videoService] createOrUpdateStatisticsForCall "+e),this.callsStats[e]={},n.push({connectionId:e,stats:this.callsStats[e]}),this.createStatisticsForSession(e,t.contact.dbId,"pending",n).then((function(t){y.callsStats[e].id=t,i.a.info("[videoService] createOrUpdateStatisticsForCall success for session "+e+" with id "+t)})).catch((function(e){i.a.error("[videoService] createOrUpdateStatisticsForCall "+e.message)}))},this.createStatisticsForSession=function(t,n,r,s){return e((function(e,s){i.a.info("[videoService] createStatisticsForSession "+t);const a=config.restServerUrl+"/api/rainbow/metrics/v1.0/";o({method:"POST",url:a+"webrtcmetrics",headers:d.a.getRequestHeader(),data:{callId:t,peerId:n,callState:r}}).then((function(n){i.a.info("[videoService] createStatisticsForSession success"),n&&n.data&&n.data.data&&n.data.data.id&&(y.callsStats[t]||(y.callsStats[t]={}),e(n.data.data.id))}),(function(e){i.a.error("[videoService] createStatisticsForSession failure "+e.errorMsg),s(new Error(e.errorMsg))}))}))},this.updateStatisticsForCall=function(e,t,n,r,s){if(i.a.info("[videoService] updateStatisticsForCall "+t),!e)return void i.a.warn("[videoService] updateStatisticsForCall -- missing id for callId "+t);const a=config.restServerUrl+"/api/rainbow/metrics/v1.0/";o({method:"POST",url:a+"webrtcmetrics/"+e+"/metrics",headers:d.a.getRequestHeader(),data:{metrics:s}}).then((function(){i.a.info("[videoService] updateStatisticsForCall success"),"ended"===r&&(i.a.info("[videoService] updateStatisticsForCall -- update call state with "+r),o({method:"PUT",url:a+"webrtcmetrics/"+e,headers:d.a.getRequestHeader(),data:{callState:r}}).then((function(){i.a.info("[videoService] updateStatisticsForCall -- update call state success")}),(function(e){i.a.error("[videoService] updateStatisticsForCall failure "+e.errorMsg)})))}),(function(e){i.a.error("[videoService] updateStatisticsForCall failure "+e.errorMsg)}))},this.sendDTMF=function(e,t,n){const r=_.a.connection.jingle.sessions[t.id];if(r&&r.peerconnection){const o=r.peerconnection.getSenders().find((function(e){return e.dtmf&&e.track&&e.track.enabled&&"audio"===e.track.kind})),s=o?o.dtmf:null;s?(i.a.debug("[videoService] sendDTMF: dtmf sender found on webrtc session for call id "+t.id+" dialstring: "+e),s.ontonechange=n?this.silentToneChangeEventHandle:this.handleToneChangeEvent,s.insertDTMF(e)):i.a.error("[videoService] sendDTMF: no dtmf sender found on webrtc session for call id "+t.id)}else i.a.error("[videoService] sendDTMF: no webrtc session found for call id "+t.id)},this.handleToneChangeEvent=function(e){""!==e.tone&&(i.a.debug("[videoService] Dtmf Tone played: "+e.tone),t.$broadcast("ON_DTMF_SENT",e.tone))},this.silentToneChangeEventHandle=function(e){i.a.debug("[videoService] Dtmf Tone played: "+e.tone)},angular.element(document).bind("transportreplace.jingle",(function(e,t){i.a.webrtc("JINGLE  | transportreplace.jingle "+t);const n=_.a.connection.jingle.sessions[t];n?n.sendAnswer(void 0,"transport-accept"):i.a.warn("JINGLE  | transportreplace.jingle no such session !")})),angular.element(document).bind("callactive.jingle",(function(e,t){i.a.webrtc("JINGLE  | callactive "+t)})),angular.element(document).bind("remotestreamadded.jingle",(function(e,n,r){i.a.webrtc("JINGLE  | remoteStreamadded "+n);const o=_.a.connection.jingle.sessions[n];if(o&&o.remoteStreams&&!o.confId){const e=y.calls[n];e&&y.attachDistantMediaStreams(!0,e),t.$broadcast("ON_WEBRTC_REMOTE_STREAM_ADDED",o.remoteStreams)}r&&y.resetAudioOutputElement()})),angular.element(document).bind("remotestreamremoved.jingle",(function(e,t){i.a.webrtc("JINGLE  | remotestreamremoved "+t);const n=y.calls[t],r=_.a.connection.jingle.sessions[t];n&&r&&y.attachDistantMediaStreams(!0,n)})),angular.element(document).bind("callaccepted.jingle",(function(e,t){i.a.webrtc("JINGLE  | callaccepted "+t);const n=y.calls[t],r=_.a.connection.jingle.sessions[t];n&&r&&(y.statsInterval&&(i.a.webrtc("JINGLE  | remove getStats interval"),window.clearInterval(y.statsInterval),y.statsinterval=null),y.createOrUpdateStatisticsForCall(n.id),i.a.webrtc("JINGLE  | start getStats interval"),y.statsInterval=r.getStats(3e3)),n&&n.status.key!==a.Call.Status.ACTIVE.key&&(i.a.webrtc("INFO    | call has been accepted. Set current call to ACTIVE state"),angular.element(document).trigger("callactive.jingle",[t]))})),angular.element(document).bind("nostuncandidates.jingle",(function(e,t){i.a.webrtc("JINGLE  | nostuncandidates "+t),v.trackICENoSTUNCandidate()})),angular.element(document).bind("ringing.jingle",(function(e,t){i.a.webrtc("JINGLE  | callremoteringing "+t)})),angular.element(document).bind("mediafailure.jingle",(function(){i.a.webrtc("JINGLE  | callmediafailure")})),angular.element(document).bind("mute.jingle",(function(e,n){i.a.webrtc("JINGLE  | mute "+n);const r=y.calls[n];r.isRemoteVideoMuted=!0,t.$broadcast("ON_CALL_UPDATED_EVENT",r)})),angular.element(document).bind("unmute.jingle",(function(e,n){i.a.webrtc("JINGLE  | unmute "+n);const r=y.calls[n];r.isRemoteVideoMuted=!1,t.$broadcast("ON_CALL_UPDATED_EVENT",r)})),angular.element(document).bind("hold.jingle",(function(e,n){i.a.webrtc("JINGLE  | hold "+n);const r=_.a.connection.jingle.sessions[n];if(!r)return void i.a.webrtc("MEDIA   | hold - received on a non existing session !");const o=y.calls[n];if(o&&o.isMediaPillarCall()){const e={offerToReceiveAudio:!1};r.contentModify("audio",e)}else r.muteAudio(!0),t.$broadcast("ON_HOLD_TONE_EVENT","hold")})),angular.element(document).bind("unhold.jingle",(function(e,n){i.a.webrtc("JINGLE  | unhold "+n);const r=_.a.connection.jingle.sessions[n];if(!r)return void i.a.webrtc("MEDIA   | unhold - received on a non existing session !");const o=y.calls[n];if(o&&o.isMediaPillarCall()){const e={offerToReceiveAudio:!0};r.contentModify("audio",e)}else r.muteAudio(!1),t.$broadcast("ON_HOLD_TONE_EVENT","unhold")})),angular.element(document).bind("remoteIceFailed.jingle",(function(e){i.a.webrtc("JINGLE  | remoteIceFailed "+e),y.openErrorPopup("IceConnectionFailed")})),angular.element(document).bind("mediamodified.jingle",(function(e,t,n){i.a.webrtc("JINGLE  | mediamodified "+t),y.videoEventHandler.mediaModified(t,n)})),angular.element(document).bind("statsChrome.jingle",(function(e,t,n){for(let r=0;r<n.length;++r)switch(n[r].type){case"googComponent":f.addStreamToCall(t,n[r]);break;case"ssrc":f.addSSRCToStream(t,n[r])}})),angular.element(document).bind("statsFirefox.jingle",(function(e,t,n){for(let r=0;r<n.length;++r)switch(n[r].type){case"inboundrtp":case"outboundrtp":h.addStreamToCall(t,n[r]);break;case"candidatepair":h.addCandidatePairToCall(t,n[r])}})),angular.element(document).bind("webrtcFirefoxStats.jingle",(function(e,t,n){if(y.callsStats.sid||(y.callsStats.sid={}),y.callsStats[t]||(y.callsStats[t]={}),y.calls[t]){const e=y.callsStats[t];e&&(n.videoReceived?e.video=n:e.audio=n,y.callsStats[t]=e)}})),angular.element(document).bind("webrtcConnectionType.jingle",(function(e,t,n){const r=y.calls[t];n&&(i.a.webrtc("STATS   | Local candidate ("+n.localAddress+") type is "+n.localCandidateType),i.a.webrtc("STATS   | Remote candidate  ("+n.remoteAddress+") type is "+n.remoteCandidateType),r&&r.isInitiator&&v.trackICEUsed(n.localCandidateTypee,n.remoteCandidateType),n.networkType&&(i.a.webrtc("STATS   | Network type is "+n.networkType),r&&r.isInitiator&&v.trackICETopology(n.networkType)))})),angular.element(document).bind("webrtcSessionStats.jingle",(function(e,t,n){y.callsStats.sid||(y.callsStats.sid={}),y.callsStats[t]||(y.callsStats[t]={});const r=y.callsStats[t].id;y.callsStats[t]=n,y.callsStats[t].id=r}))}])},function(e,t,n){n.r(t);var r=n(1),o=n(27),i=n(5),s=n.n(i),a=n(7),l=n.n(a),c=n(15),u=n.n(c),d=n(2),f=n.n(d);angular.module("rainbow").factory("VideoServiceEventHandler",["$q","$log","$rootScope","$interval","gaService",function(e,t,n,i,a){function c(e){this.videoService=e,this.nameSpace="urn:xmpp:jingle-message:0"}return c.create=function(e){return new c(e)},c.prototype.setRemoteTypeMedia=function(e,n){n.remoteMedia=0;for(let t=0;t<e.length;t++)switch(e[t]){case"audio":n.remoteMedia=n.remoteMedia|r.Call.Media.AUDIO;break;case"video":n.remoteMedia=n.remoteMedia|r.Call.Media.VIDEO;break;case"sharing":n.remoteMedia=n.remoteMedia|r.Call.Media.SHARING;break;default:n.remoteMedia=null}t.debug("REMOTE TYPE || REMOTE MEDIA  "+n.remoteMedia)},c.prototype.setLocalTypeMedia=function(e,n){n.localMedia=0;for(let t=0;t<e.length;t++)switch(e[t]){case"audio":n.localMedia=n.localMedia|r.Call.Media.AUDIO;break;case"video":n.localMedia=n.localMedia|r.Call.Media.VIDEO;break;case"sharing":n.localMedia=n.localMedia|r.Call.Media.SHARING;break;default:n.localMedia=null}t.debug("LOCAL TYPE || LOCAL MEDIA  "+n.localMedia)},c.prototype.sendProposition=function(e,a,c){t.info("[VideoServiceEventHandler]   | sendProposition to "+JSON.stringify({displayName:e.nameForLog,resources:e.resources}));const u=this;let d=["audio"],_=[];"video"===a?d.push("video"):"videoOnly"===a?d=["video"]:"sharing"===a?(d=["sharing"],_=["audio"]):"sharingOnly"===a&&(d=["sharing"]);const h="web_"+o(),p=r.Call.create(r.Call.Status.DIALING,h,r.Call.Type.WEBRTC,e);this.videoService.getBrowserMedia(d,void 0,void 0,void 0,p).then((function(r){u.videoService.getBrowserMedia(_).then((function(a){if(u.videoService.makingCall&&u.videoService.started){p.isInitiator=!0,r.callId=h,u.videoService.localStreams.push(r),a&&(a.callId=h,u.videoService.localStreams.push(a),d.push(_.pop())),u.videoService.calls[p.id]=p,u.setLocalTypeMedia(d,p);const m="web_"+o();let g=$msg({from:f.a.userContact.fullJid,to:e.jid,id:m});g.c("propose",{xmlns:u.nameSpace,id:h}),c&&g.c("subject",{xmlns:"urn:xmpp:jingle-subject:0"}).t(c).up(),g.c("description",{xmlns:"urn:xmpp:jingle:apps:rtp:1",media:d[0]}).up(),d[1]&&(g=g.c("description",{xmlns:"urn:xmpp:jingle:apps:rtp:1",media:d[1]}).up()),l.a.isFeatureEnabled(l.a.FeaturesEnum.WEBRTC_UNIFIED_PLAN)&&(g=g.c("unifiedplan",{xmlns:"urn:xmpp:jingle:apps:jsep:1"}).up()),s.a.send(g),u.videoService.makingCall=!1,f.a.setBusyState("dnd",u.videoService.calculatePresenceMessage(p)),n.$broadcast("ON_CALL_UPDATED_EVENT",p),u.videoService.autoreleaseTimeout&&i.cancel(u.videoService.autoreleaseTimeout),u.videoService.autoreleaseTimeout=i((function(e){t.webrtc("MEDIA   | send proposition : no response after 30 seconds : release the call"),p&&u.videoService.rejectCall(e)}),3e4,1,!0,p)}else t.warn("[VideoServiceEventHandler]   | sendProposition -- call should no longer be made !"),u.videoService.makingCall=!1,r.getTracks().forEach((function(e){e.enabled=!1,e.stop(),e=null})),r.stop&&r.stop(),r=null,a&&(a.getTracks().forEach((function(e){e.enabled=!1,e.stop(),e=null})),a.stop&&a.stop(),a=null)})).catch((function(e){t.info("[VideoServiceEventHandler]   | sendProposition failure : "+JSON.stringify({error:e.message})),u.videoService.makingCall=!1,-1!==e.toString().indexOf("getUserMedia")&&u.videoService.openErrorPopup(),u.videoService.removeCallObject(p),u.videoService.isUserContactInCall()||u.videoService.resetToSafeState(),u.videoService.autoreleaseTimeout&&i.cancel(u.videoService.autoreleaseTimeout)}))})).catch((function(e){t.info("[VideoServiceEventHandler]   | sendProposition failure : "+JSON.stringify({error:e.message})),u.videoService.makingCall=!1,d.indexOf("sharing")>=0||-1===e.toString().indexOf("getUserMedia")||u.videoService.openErrorPopup(),u.videoService.removeCallObject(p),u.videoService.isUserContactInCall()||u.videoService.resetToSafeState()}))},c.prototype.retractProposition=function(e){t.info("[VideoServiceEventHandler]   | retractProposition for call "+e.id);const n="web_"+o(),r=$msg({from:f.a.userContact.fullJid,to:e.contact.jid,id:n}).c("retract",{xmlns:this.nameSpace,id:e.id});s.a.send(r),f.a.resetBusyState(),this.videoService.removeCallObject(e)},c.prototype.acceptProposition=function(e,a){if(e.status===r.Call.Status.ANSWERING)return void t.warn("[VideoServiceEventHandler]   | acceptProposition for call "+e.id+" -- ignored! Already answering");t.info("[VideoServiceEventHandler]   | acceptProposition for call "+e.id),e.status=r.Call.Status.ANSWERING;const l="web_"+o();let c=$msg({from:f.a.userContact.fullJid,to:f.a.userContact.jid,id:l}).c("accept",{xmlns:this.nameSpace,id:e.id});s.a.send(c);const u="web_"+o();c=$msg({from:f.a.userContact.fullJid,to:e.fullJid,id:u}).c("proceed",{xmlns:this.nameSpace,id:e.id}),e.unifiedPlanActivated&&(c=c.c("unifiedplan",{xmlns:"urn:xmpp:jingle:apps:jsep:1"}).up(),s.a.connection.jingle.jid2session[e.fullJid]={unifiedPlan:!0}),s.a.send(c);let d=["audio"];a&&"video"===a&&d.push("video"),e.remoteMedia===r.Call.Media.VIDEO&&(d=["video"]),e.remoteMedia===r.Call.Media.SHARING&&(d=[]),this.setLocalTypeMedia(d,e),f.a.setBusyState("dnd",this.videoService.calculatePresenceMessage(e)),n.$broadcast("ON_CALL_UPDATED_EVENT",e);const _=this;_.videoService.autoreleaseTimeout&&i.cancel(_.videoService.autoreleaseTimeout),_.videoService.autoreleaseTimeout=i((function(n){n&&(null!==e.getMediaPillarCall()?t.warn("[webrtcgateway/VideoServiceEventHandler] | acceptProposition autoreleaseTimeout after 45 s : remove the call :"+n.id):t.webrtc("[VideoServiceEventHandler] | acceptProposition autoreleaseTimeout after 45 s : remove the call "+n.id),_.videoService.removeCallObject(n),f.a.resetBusyState())}),45e3,1,!0,e)},c.prototype.rejectProposition=function(e,a){t.info("[VideoServiceEventHandler]   | rejectProposition for call "+e.id);const l="web_"+o();let c=$msg({from:f.a.userContact.fullJid,to:f.a.userContact.jid,id:l}).c("reject",{xmlns:this.nameSpace,id:e.id});s.a.send(c);const u=e.getMediaPillarCall(),d=u&&u.mediaPillarJid?u.mediaPillarJid:e.contact.jid,_="web_"+o();d?(c=$msg({from:f.a.userContact.fullJid,to:d,id:_}).c("reject",{xmlns:this.nameSpace,id:e.id,reason:a}),s.a.send(c)):t.error("[VideoServiceEventHandler] | rejectProposition -- missing other JID !"),e&&(e.status=r.Call.Status.UNKNOWN,delete this.videoService.calls[e.id],n.$broadcast("ON_CALL_UPDATED_EVENT",e)),this.videoService.setWebrtcConfiguration(),this.videoService.autoreleaseTimeout&&i.cancel(this.videoService.autoreleaseTimeout)},c.prototype.onMessageReceived=function(e){const r=this;try{n.$apply((function(){t.info("[VideoServiceEventHandler]   | onMessageReceived");const n=$(e);n.find("error").length>0||n.find("delay").length>0||$(e).find("service-unavailable").length>0?r.onMessageReceivedError():n.find("propose").length>0?r.onPropositionReceived(e):n.find("retract").length>0?r.onRetractReceived(e):n.find("reject").length>0?r.onRejectReceived(e):n.find("accept").length>0?r.onAcceptReceived(e):n.find("proceed").length>0&&r.onProceedReceived(e)}))}catch(o){return t.error("[VideoServiceEventHandler]   | onMessageReceived error "+o),!0}return!0},c.prototype.onMessageReceivedError=function(e){t.info("[VideoServiceEventHandler]   | onMessageReceivedError");const n=$(e).find("propose").attr("id"),r=this.videoService.calls[n];r&&t.error("[VideoServiceEventHandler]   | onMessageReceivedError call is in "+r.status.value+" state")},c.prototype.getOrCreateContact=function(n,r){if(f.a.isMediaPillarJid(n)){t.info("[VideoServiceEventHandler]   | getOrCreateContact for mediapillar jid "+n);const o=$(r).find("mediapillar");if(o){const r=o.find("callernumber"),i=r?r.text():void 0,s=o.find("displayname"),a=s?s.text():void 0;let l;t.info("[VideoServiceEventHandler]   | getOrCreateContact MP for jid "+n+" callernumber: "+u()(i)+" displayname: "+u()(a));const c=f.a.getContactByPhoneNumber(i);return c?l=c:(l=f.a.createBasicContact(null,i),a&&(l.displayName=a)),e.resolve(l)}return f.a.getOrCreateContact(n)}return t.info("[VideoServiceEventHandler]   | getOrCreateContact for jid "+n),f.a.getOrCreateContact(n)},c.prototype.onPropositionReceived=function(e){const o=$(e).find("propose").attr("id");t.info("[VideoServiceEventHandler]   | onPropositionReceived for ID "+o);let a=this.videoService.calls[o];const c=this;if(a){if($(e).find("subject").length>0){const n=$(e).find("subject")[0];t.debug("[VideoServiceEventHandler]   | onPropositionReceived subject Detected: "+n.textContent),a.setSubject(n.textContent)}a.setStatus(r.Call.Status.RINGING_INCOMMING),c.videoService.config&&c.videoService.config.unifiedPlan&&(a.unifiedPlanActivated=!0),l.a.isFeatureEnabled(l.a.FeaturesEnum.WEBRTC_UNIFIED_PLAN)&&$(e).find("unifiedplan").length&&(a.unifiedPlanActivated=!0),u=[];const o=$(e).find("description").length;for(let t=0;t<o;t++){const n=$(e).find("description")[t];u.push($(n).attr("media"))}this.setRemoteTypeMedia(u,a),n.$broadcast("ON_CALL_UPDATED_EVENT",a),c.videoService.autoreleaseTimeout&&i.cancel(c.videoService.autoreleaseTimeout),c.videoService.autoreleaseTimeout=i((function(e){e&&(t.webrtc("[VideoServiceEventHandler]   | onPropositionReceived autoreleaseTimeout after 2 min : remove the call "+e.id),c.videoService.removeCallObject(e))}),12e4,1,!0,a)}else{const d=$(e).attr("from");var u=[];const f=s.a.getBareJidFromJid(d);a=r.Call.create(r.Call.Status.UNKNOWN,o,r.Call.Type.WEBRTC),a.fullJid=d,c.videoService.calls[a.id]=a,c.videoService.config&&c.videoService.config.unifiedPlan&&(a.unifiedPlanActivated=!0),l.a.isFeatureEnabled(l.a.FeaturesEnum.WEBRTC_UNIFIED_PLAN)&&$(e).find("unifiedplan").length&&(a.unifiedPlanActivated=!0),c.getOrCreateContact(f,e).then((function(o){const s=$(e).find("description").length;for(let t=0;t<s;t++){const n=$(e).find("description")[t];u.push($(n).attr("media"))}if(c.videoService.calls[a.id]){if(a.contact=o,$(e).find("subject").length>0){const n=$(e).find("subject")[0];t.debug("[VideoServiceEventHandler]   | onPropositionReceived subject detected: "+n.textContent),a.setSubject(n.textContent)}if($(e).find("mediapillar")){const n=$(e).find("callId");if(n.length>0){const e=n[0];e&&(t.debug("[VideoServiceEventHandler]   | onPropositionReceived mediapillar callId detected: "+e.textContent),a.setAssocPhoneCallId(e.textContent))}}a.setStatus(r.Call.Status.RINGING_INCOMMING),c.setRemoteTypeMedia(u,a),n.$broadcast("ON_CALL_UPDATED_EVENT",a),c.videoService.autoreleaseTimeout&&i.cancel(c.videoService.autoreleaseTimeout),c.videoService.autoreleaseTimeout=i((function(e){e&&(t.webrtc("[VideoServiceEventHandler]   | onPropositionReceived autoreleaseTimeout after 2 min : remove the call "+e.id),c.videoService.removeCallObject(e))}),12e4,1,!0,a)}})).catch((function(e){t.error("[VideoServiceEventHandler]   | onPropositionReceived error "+e),c.videoService.removeCallObject(a)}))}},c.prototype.onRetractReceived=function(e){t.info("[VideoServiceEventHandler]   | onRetractReceveid");const n=$(e).find("retract").attr("id"),o=this.videoService.calls[n];o&&(o.status===r.Call.Status.ANSWERING&&f.a.resetBusyState(),this.videoService.removeCallObject(o)),this.videoService.autoreleaseTimeout&&i.cancel(this.videoService.autoreleaseTimeout)},c.prototype.onRejectReceived=function(e){t.info("[VideoServiceEventHandler]   | onRejectReceived");const o=$(e).find("reject").attr("id"),s=this.videoService.calls[o],a=$(e).attr("from"),l="calendarBusy"===$(e).find("reject").attr("reason");this.videoService.autoreleaseTimeout&&i.cancel(this.videoService.autoreleaseTimeout),s&&(s.status===r.Call.Status.RINGING_INCOMMING&&(null!==s.getMediaPillarCall()&&n.$broadcast("ON_MEDIAPILLAR_CALL_REMOTE_CTRL_EVENT",s),this.videoService.removeCallObject(s)),s.status===r.Call.Status.DIALING&&(f.a.resetBusyState(),this.videoService.removeCallObject(s)),s.status!==r.Call.Status.ACTIVE&&s.status!==r.Call.Status.CONNECTING||s.fullJid&&s.fullJid===a&&(f.a.resetBusyState(),this.videoService.removeCallObject(s))),l&&this.videoService.openCalendarBusyPopup(s.contact.id)},c.prototype.onAcceptReceived=function(e){t.info("[VideoServiceEventHandler]   | onAcceptReceived");const r=$(e).find("accept").attr("id"),o=this.videoService.calls[r],s=$(e).attr("from");o&&s!==f.a.userContact.fullJid&&(null!==o.getMediaPillarCall()&&n.$broadcast("ON_MEDIAPILLAR_CALL_REMOTE_CTRL_EVENT",o),this.videoService.removeCallObject(o)),s!==f.a.userContact.fullJid&&this.videoService.autoreleaseTimeout&&i.cancel(this.videoService.autoreleaseTimeout)},c.prototype.onProceedReceived=function(e){t.info("[VideoServiceEventHandler]   | onProceedReceived"),this.videoService.autoreleaseTimeout&&i.cancel(this.videoService.autoreleaseTimeout);const n=$(e).find("proceed").attr("id"),o=this.videoService.calls[n],s=$(e).attr("from");if(o.fullJid=s,this.videoService.config&&this.videoService.config.unifiedPlan&&(o.unifiedPlanActivated=!0),$(e).find("unifiedplan").length&&(o.unifiedPlanActivated=!0),o.isInConversationWithMobile()&&o.localMedia&r.Call.Media.VIDEO){const e=this;let n=[];const i=e.videoService.getMobileMediaConstraints("video");n=["audio","video"],o.localMedia&r.Call.Media.AUDIO||(n=["video"]),e.videoService.getBrowserMedia(n,i.fixedVideoWidth,i.fixedVideoHeight,i.fixedFrameRate).then((function(n){t.info("[VideoServiceEventHandler]   | onProceedReceived --\x3e renegociate video quality"),o.localMedia&r.Call.Media.VIDEO&&e.videoService.stopActiveAudioVideoStreams(null,!0),e.videoService.localStreams.push(n),e.videoService.makeJingleCall(o)})).catch((function(n){t.info("[VideoServiceEventHandler]   | onProceedReceived "+o+" failure : "+n.message),-1!==n.toString().indexOf("getUserMedia")?(t.info("onProceedReceived impossible, no webcam plugged"),e.videoService.openErrorPopup()):(e.videoService.releaseCall(o),e.videoService.resetToSafeState())}))}else o.localMedia&r.Call.Media.SHARING?this.videoService.makeJingleSharingCall(o):this.videoService.makeJingleCall(o)},c.prototype.incomingCall=function(e){t.info("[VideoServiceEventHandler] incomingCall "+e);const r=this;let o=null;const a=s.a.connection.jingle.sessions[e];if(a&&a.peerjid&&(o=this.videoService.calls[e],!o)){const e=s.a.getBareJidFromJid(a.peerjid),t=f.a.getContactByJid(e);o=this.videoService.getCallByJid(t.jid,a.peerjid)}o?(a.sendRinging(),i((function(e){r.videoService.answerJingleCall(e)}),350,1,!0,o),n.$broadcast("ON_CALL_UPDATED_EVENT",o),this.videoService.autoreleaseTimeout&&i.cancel(this.videoService.autoreleaseTimeout),this.videoService.statsInterval&&(t.info("[VideoServiceEventHandler] remove getStats interval"),window.clearInterval(this.videoService.statsInterval),this.videoService.statsinterval=null),r.videoService.createOrUpdateStatisticsForCall(o.id),t.info("[VideoServiceEventHandler] start getStats interval"),this.videoService.statsInterval=a.getStats(3e3)):(t.warn("[VideoServiceEventHandler] incomingCall no such call ! Terminate the session "),f.a.resetBusyState(),a&&a.terminate())},c.prototype.activeCall=function(e){t.info("[VideoServiceEventHandler] activeCall "+e);const o=s.a.connection.jingle.sessions[e];this.videoService.autoreleaseTimeout&&i.cancel(this.videoService.autoreleaseTimeout);const l=this.videoService.calls[e];this.videoService.updateRemoteTypeMedia(o.remoteType,l),l&&l.status.key!==r.Call.Status.RELEASING.key&&l.status.key!==r.Call.Status.UNKNOWN.key&&(l.setStatus(r.Call.Status.ACTIVE),n.$broadcast("ON_CALL_UPDATED_EVENT",l),l.startDuration(),this.videoService.attachDistantMediaStreams(!0,l)),l.isInitiator&&a.trackCallSuccessNumber(o.localType)},c.prototype.terminatedCall=function(e,n,r){0===Object.keys(s.a.connection.jingle.sessions).length&&t.webrtc("INFO    | all calls terminated");const o=this.videoService.calls[e];o||0===this.videoService.calls.length?("busy"===n&&this.videoService.openErrorPopup("remoteUserNoMoreAvailable"),this.videoService.autoreleaseTimeout&&i.cancel(this.videoService.autoreleaseTimeout),this.videoService.disableAudioVideoMedia(null,e),this.videoService.createOrUpdateStatisticsForCall(e),this.videoService.callsStats[e]&&delete this.videoService.callsStats[e],o&&("cancel"!==n&&a.trackCallDuration((new Date).getTime()-o.startDate.getTime()),this.videoService.removeCallObject(o)),r||i((function(){f.a.resetBusyState()}),1e3,1,!0),this.videoService.statsInterval&&(window.clearInterval(this.videoService.statsInterval),this.videoService.statsinterval=null),this.videoService.displayWebRTCStats(e),this.videoService.isUserContactInCall()||this.videoService.clearSrcObjectsFromElements()):t.webrtc("INFO    | terminatedCall : no call with "+e+" exists.")},c.prototype.onJingleError=function(e){const t=this;e&&t.videoService.calls[e]&&t.videoService.calls[e].status!==r.Call.Status.ACTIVE&&(t.videoService.removeCallObject(t.calls[e]),t.videoService.resetToSafeState(),t.videoService.openErrorPopup("IceConnectionFailed"))},c.prototype.iceConnectionStateChange=function(e,o){t.info("[VideoServiceEventHandler] iceConnectionStateChange for "+e);const l=this;let c=null;const u=l.videoService.calls[o.sid];try{if(o.peerconnection&&"stable"===o.peerconnection.signalingState&&"connected"===o.peerconnection.iceConnectionState){t.webrtc("INFO    | ICE Connection established successfully"),angular.element("#globalAudioTag")[0]&&t.info("[VideoServiceEventHandler] sinkId for globalAudioTag is "+angular.element("#globalAudioTag")[0].sinkId),l.videoService.reconnectCall=!1,c=l.videoService.calls[e],c&&c.status!==r.Call.Status.ACTIVE&&(t.webrtc("INFO    | ICE Connection : call is active now !"),this.activeCall(e)),o.isRenegotiating&&(t.webrtc("INFO    | Renegotiating done"),o.isRenegotiating=!1,n.$broadcast("ON_WEBRTC_CALL_ESCALATION",c),n.$broadcast("ON_WEBRTC_CALL_ESCALATION_SUCCESS",c)),o.autoReconnectTimer&&(i.cancel(o.autoReconnectTimer),o.autoReconnectTimer=null),a.endNegotiationTime();const s=a.negotiationTime();s&&(t.webrtc("INFO    | negotiation time: "+s+"ms"),a.trackNegotiationTime()),c&&c.isInitiator&&a.trackICESuccess(e)}o.peerconnection&&"stable"===o.peerconnection.signalingState&&"completed"===o.peerconnection.iceConnectionState&&(t.webrtc("INFO    | ICE Connection completed successfully"),l.videoService.reconnectCall=!1,c=l.videoService.calls[e],c&&c.status!==r.Call.Status.ACTIVE&&(t.webrtc("INFO    | ICE Connection : call is active now !"),this.activeCall(e)),o.isRenegotiating&&(t.webrtc("INFO    | Renegotiating done"),o.isRenegotiating=!1,n.$broadcast("ON_WEBRTC_CALL_ESCALATION",c),n.$broadcast("ON_WEBRTC_CALL_ESCALATION_SUCCESS",c))),o.peerconnection&&"stable"===o.peerconnection.signalingState&&"disconnected"===o.peerconnection.iceConnectionState&&(t.webrtc("INFO    | signalingState disconnected"),u&&u.status!==r.Call.Status.UNKNOWN&&(t.webrtc("INFO    | iceConnectionStateChange go to connecting state"),u.setStatus(r.Call.Status.CONNECTING),n.$broadcast("ON_CALL_UPDATED_EVENT",u)),l.videoService.connected||(l.videoService.reconnectCall=!0),o.autoReconnectTimer||(console.error("arm autoReconnectTimer"),o.autoReconnectTimer=i((function(e){console.error("autoReconnectTimer -- execute"),l.videoService.connected&&(console.error("autoReconnectTimer -- network OK, proceed with reconnect"),e.reconnectSession())}),1e3,1,!0,o))),o.peerconnection&&"stable"===o.peerconnection.signalingState&&"failed"===o.peerconnection.iceConnectionState&&(t.webrtc("INFO    | signalingState FAILED"),u&&u.status!==r.Call.Status.UNKNOWN&&(t.webrtc("INFO    | iceConnectionStateChange go to connecting state"),u.setStatus(r.Call.Status.CONNECTING),n.$broadcast("ON_CALL_UPDATED_EVENT",u),n.$broadcast("ON_RECORDING_CNXLOST_EVENT")),l.videoService.connected||(l.videoService.reconnectCall=!0),l.videoService.connected&&(console.error("[videoServiceEventHandler] signalingState FAILED -- network OK, proceed with reconnect"),o.reconnectSession()))}catch(d){try{t.error("JINGLE  | iceconnectionstatechange error "+d),u?l.videoService.removeCallObject(u,"unsupported-applications"):s.a.connection.jingle.terminate(null,"unsupported-applications"),f.a.resetBusyState()}catch(_){t.error("JINGLE  | iceconnectionstatechange error "+_),f.a.resetBusyState()}}},c.prototype.mediaModified=function(e,o){t.info("[VideoServiceEventHandler] mediaModified "+e);const i=this.videoService.calls[e];s.a.connection.jingle.sessions[e].isRenegotiating=!0,i.remoteMedia="sharing"===o?r.Call.Media.AUDIO|r.Call.Media.SHARING:"video"===o?r.Call.Media.AUDIO|r.Call.Media.VIDEO:"sharing+video"===o?r.Call.Media.AUDIO|r.Call.Media.VIDEO|r.Call.Media.SHARING:r.Call.Media.AUDIO,f.a.setBusyState("dnd",this.videoService.calculatePresenceMessage(i)),n.$broadcast("ON_WEBRTC_CALL_ESCALATION",i)},c}])},function(e,t,n){n.r(t);var r=n(1),o=n(5),i=n.n(o),s=n(2),a=n.n(s),l=n(27);angular.module("rainbow").service("webrtcServiceEventHandler",["$log","$q","$rootScope","videoService","webConferenceService",function(e,t,n,o,s){const c=this;this.nameSpace="urn:xmpp:jingle-message:0",this.messageHandlerRef=null,this.started=!1,this.start=function(){return this.started=!0,this.attachHandlers(),t.when()},this.stop=function(){return this.started=!1,c.removeHandlers(),t.when()},this.reconnect=function(){this.attachHandlers()},this.attachHandlers=function(){this.removeHandlers(),e.info("[webrtcServiceEventHandler] attachHandlers"),this.messageHandlerRef||(this.messageHandlerRef=i.a.addHandler((function(t){try{return c.onMessageReceived(t),!0}catch(n){return e.error("[webrtcServiceEventHandler] caught error "+n),!0}}),c.nameSpace,"message"))},this.removeHandlers=function(){e.info("[webrtcServiceEventHandler] removeHandlers"),this.messageHandlerRef&&(i.a.deleteHandler(this.messageHandlerRef),this.messageHandlerRef=null)},this.onMessageReceived=function(t){const n=$(t).attr("from"),r=i.a.getBareJidFromJid(n),l=$(t).find("propose").find("conference").attr("id");if(s.getConferenceSessionById(l))try{if(e.info("[webrtcServiceEventHandler]   | onMessageReceived"),$(t).find("propose").length>0){const e=$(t).find("propose").attr("id");var c=$msg({from:a.a.userContact.fullJid,to:a.a.userContact.jid}).c("accept",{xmlns:this.nameSpace,id:e});return i.a.send(c),c=$msg({from:a.a.userContact.fullJid,to:r}).c("proceed",{xmlns:this.nameSpace,id:e}),i.a.send(c),!0}}catch(u){return o.videoEventHandler.onMessageReceived(t)}return o.videoEventHandler.onMessageReceived(t)},this.checkSessionAudioSentHealthStatus=function(t){e.info("[webrtcServiceEventHandler]   | checkSessionAudioSentHealthStatus --- 0 audio packets sent !");const a=o.calls[t];if(a&&!a.isInCallWithMediaPillar()){if(a.status.key===r.Call.Status.ACTIVE.key&&a.localMedia&r.Call.Media.AUDIO&&!a.isMuted){if(o.callsStatsSimplified[t].numberOfErrorAudioSent+=1,o.callsStatsSimplified[t].numberOfErrorAudioSent%2)return void e.info("[webrtcServiceEventHandler]   | checkSessionAudioSentHealthStatus --- ingore");const r=i.a.connection.jingle.sessions[a.id];r&&!r.isRenegotiating&&(e.info("[webrtcServiceEventHandler]   | checkSessionAudioSentHealthStatus --- renego P2P call"),o.renegotiateCurrentCall(a)),n.$broadcast("ON_WEBRTC_CALL_AUDIO_ISSUE",!0)}}else{const n=s.getActiveConferenceSession();if(n&&n.id&&n.active&&"connected"===n.status){const r=s.getRemoteAudioSession(n.id);if(r&&r.sid===t){if(o.callsStatsSimplified[t].numberOfErrorAudioSent+=1,o.callsStatsSimplified[t].numberOfErrorAudioSent%2)return void e.info("[webrtcServiceEventHandler]   | checkSessionAudioSentHealthStatus --- ingore");e.info("[webrtcServiceEventHandler]   | checkSessionAudioSentHealthStatus --- renego SFU conference"),s.onAudioProfileChangeEvent()}}}},this.checkSessionAudioReceivedHealthStatus=function(t){e.info("[webrtcServiceEventHandler]   | checkSessionAudioReceivedHealthStatus --- user hears nothing !");const n=o.calls[t];if(n&&!n.isInCallWithMediaPillar())n.status.key===r.Call.Status.ACTIVE.key&&n.remoteMedia&r.Call.Media.AUDIO&&(o.callsStatsSimplified[t].errorAudioReceived=1,e.info("[webrtcServiceEventHandler]   | checkSessionAudioReceivedHealthStatus --- reset output device"),o.resetAudioOutputElement());else{const n=s.getActiveConferenceSession();if(n&&n.id&&n.active&&"connected"===n.status){const r=s.getRemoteAudioSession(n.id);r&&r.sid===t&&(o.callsStatsSimplified[t].errorAudioReceived=1,e.info("[webrtcServiceEventHandler]   | checkSessionAudioReceivedHealthStatus --- renego SFU conference"),o.resetAudioOutputElement())}}},angular.element(document).bind("callincoming.jingle",(function(t,n){e.webrtc("webrtcServiceEventHandler  | callincoming.jingle "+n);const r=i.a.connection.jingle.sessions[n];r&&r.confId?s.onIncomingCall(n):o.videoEventHandler.incomingCall(n)})),angular.element(document).bind("callterminated.jingle",(function(t,r,i){n.$apply((function(){const t=i||"";if(e.webrtc("webrtcServiceEventHandler  | callterminated "+r+" reason: "+t),"multi-device"===i)s.onConferenceCallSwitched(r);else if(o.calls[r]){const e=s.hasActiveConferenceSession();o.videoEventHandler.terminatedCall(r,t,e)}else s.onTerminatedCall(r)}))})),angular.element(document).bind("iceconnectionstatechange.jingle",(function(t,n,r){r.peerconnection?(e.webrtc("JINGLE  | iceconnectionstatechange "+n+" "+r.peerconnection.iceConnectionState+"|"+r.peerconnection.signalingState),o.calls[n]?o.videoEventHandler.iceConnectionStateChange(n,r):s.onIceConnectionStateChange(n,r)):e.webrtc("JINGLE  | iceconnectionstatechange - peerConnection does not exist anymore !!!")})),angular.element(document).bind("error.jingle",(function(t,n){e.error("JINGLE  | callerror"),n&&n.error&&e.error(JSON.stringify(n.error));const r=n.sid;r&&(o.calls[r]?o.videoEventHandler.onJingleError(r):s.onJingleError(r))})),angular.element(document).bind("webrtcSessionBitRate.jingle",(function(e,t,r){o.config&&o.config.debugWeRTC&&n.$broadcast("ON_WEBRTC_CALL_BITRATE",t,r)})),angular.element(document).bind("webrtcSessionStatsSimplyfied.jingle",(function(t,n,r){if(o.callsStatsSimplified[n]||(o.callsStatsSimplified[n]={},o.callsStatsSimplified[n].errorAudioReceived=0),r.errorAudioReceived=o.callsStatsSimplified[n].errorAudioReceived,r.networkQualityIteration=o.callsStatsSimplified[n].networkQualityIteration,r.conferenceId){if(r.publisherId&&r.conferenceId)if(o.callsStatsSimplified[n].publisherJidIm)r.publisherJidIm=o.callsStatsSimplified[n].publisherJidIm;else{const e=s.conferenceSessions[r.conferenceId];if(e){const t=e.getPublisherById(r.publisherId);r.publisherJidIm=t?t.jid_im:"",o.callsStatsSimplified[n].publisherJidIm=r.publisherJidIm}}e.info("[videoService] on webrtcSessionStatsSimplyfied for session "+n+" related to conferenceID "+r.conferenceId+" : "+JSON.stringify(r))}else e.info("[videoService] on webrtcSessionStatsSimplyfied for session "+n+" : "+JSON.stringify(r));o.callsStatsSimplified[n]=r,r.packetsAudioReceived&&0===r.audioOutputLevel&&0===r.errorAudioReceived&&c.checkSessionAudioReceivedHealthStatus(n);const i=o.calls[n];i?(o.callsStatsSimplified[n].networkQualityFlag===i.networkQuality?(o.callsStatsSimplified[n].networkQualityIteration=o.callsStatsSimplified[n].networkQualityIteration?o.callsStatsSimplified[n].networkQualityIteration+1:1,0===i.networkQuality&&o.callsStatsSimplified[n].networkQualityIteration>=3&&i.publish("badNetworkQuality",i.networkQuality)):o.callsStatsSimplified[n].networkQualityIteration=1,i.networkQuality=r.networkQualityFlag,i.publish("networkQuality",i.networkQuality)):s.onNetworkQualityChange(n)})),angular.element(document).bind("refer.jingle",(function(t,n,r,a,c){e.webrtc("JINGLE  | refer: "+n+" - status: "+r+" - confEndpointId: "+a+" - referTo: "+c);const u=i.a.connection.jingle.sessions[n];if("complete"===r){const e=o.calls[n];o.onCallTransferredToConference(e)}else u?s.transferCall(u,c,a,"web_"+l(),s.MEDIATYPE.WEBRTC).then((function(e){o.sendReferStatus(n,"complete")})):e.error("JINGLE  | refer.jingle -- no session ")}))}])},function(e,t,n){n.r(t);var r=n(18),o=n(3),i=n.n(o),s=n(26),a=n.n(s),l=n(32),c=n.n(l),u=n(64),d=n.n(u),f=n(7),_=n.n(f),h=n(2),p=n.n(h),m=n(19);angular.module("rainbow").service("companyDirectoryService",["$rootScope","$q","$log","$http","errorHelperService","centralizedService","directoryContact",function(e,t,n,o,s,l,u){const f=this,h=[];f.companies=[],f.start=function(e){n.info(""),n.info("[companyDirectoryService] === STARTING ===");const r=performance.now();f.portalURL=config.restServerUrl+"/api/rainbow/directory/v1.0/";const o=Math.round(performance.now()-r);return e.push({service:"companyDirectoryService",startDuration:o}),n.info("[companyDirectoryService] === STARTED ("+o+" ms) ==="),t.when()},f.stop=function(){let e;for(n.info(""),n.info("[companyDirectoryService] === STOPPING ===");e=h.pop();)e();return n.info("[companyDirectoryService] === STOPPED ==="),t.when()},f.getDirectoryContacts=function(e,r,a,l,c,d){return t((function(t,_){let h=f.portalURL+"entries?format="+(d||"full");if(h+="&companyId="+e,h+="&limit="+a,r&&(h+="&offset="+a*(r-1)),l)switch(c){case"phoneNumbers":case"tags":h+="&"+c+"="+encodeURIComponent(l);break;case"name":default:h+="&name="+encodeURIComponent(l)}o({method:"GET",url:h,headers:i.a.getRequestHeader()}).then((function(e){n.info("[companyDirectoryService] getDirectoryContacts success (found "+e.data.total+" contact(s))");const r=e.data.data,o=[];r.forEach((function(e){const t=u(e);o.push(t)})),t({contacts:o,limit:e.data.limit,offset:e.data.offset,total:e.data.total})}),(function(e){const t=s.handleError(e);_(t),n.error("[companyDirectoryService] "+s.getErrorFullMessage(e,"getDirectoryContacts"))}))}))},f.createDirectoryContact=function(r){return t((function(t,a){o({method:"POST",url:f.portalURL+"entries",headers:i.a.getRequestHeader(),data:r}).then((function(r){const o=u(r.data.data);n.info("[companyDirectoryService] createDirectoryContact success"),e.$broadcast("ADMIN_DIRECTORY_CHANGE",o),t(o)}),(function(e){const t=s.handleError(e);a(t),n.error("[companyDirectoryService] "+s.getErrorFullMessage(e,"createDirectoryContact"))}))}))},f.getDirectoryContact=function(e,r){return t((function(t,a){const l=f.portalURL+"entries/"+e+"?format="+(r||"full");o({method:"GET",url:l,headers:i.a.getRequestHeader()}).then((function(e){n.info("[companyDirectoryService] getDirectoryContact success");const r=u(e.data.data);t(r)}),(function(e){const t=s.handleError(e);a(t),n.error("[companyDirectoryService] "+s.getErrorFullMessage(e,"getDirectoryContact"))}))}))},f.updateDirectoryContact=function(r){return t((function(t,a){o({method:"PUT",url:f.portalURL+"entries/"+r.id,headers:i.a.getRequestHeader(),data:r}).then((function(r){const o=u(r.data.data);n.info("[companyDirectoryService] updateDirectoryContact success"),e.$broadcast("ADMIN_DIRECTORY_CHANGE",o),t(o)}),(function(e){const t=s.handleError(e);a(t),n.error("[companyDirectoryService] "+s.getErrorFullMessage(e,"updateDirectoryContact"))}))}))},f.deleteDirectoryContact=function(r){return t((function(t,a){o({method:"DELETE",url:f.portalURL+"entries/"+r,headers:i.a.getRequestHeader()}).then((function(){n.info("[companyDirectoryService] deleteDirectoryContact success"),e.$broadcast("ADMIN_DIRECTORY_CHANGE"),t()}),(function(e){const t=s.handleError(e);a(t),n.error("[companyDirectoryService] "+s.getErrorFullMessage(e,"deleteDirectoryContact"))}))}))},f.getTags=function(e){return t((function(t,r){let a=f.portalURL+"entries/tags";e&&(a+="?companyId="+e),o({method:"GET",url:a,headers:i.a.getRequestHeader()}).then((function(e){n.info("[companyDirectoryService] getTags success"),t(e.data.data)}),(function(e){const t=s.handleError(e);r(t),n.error("[companyDirectoryService] "+s.getErrorFullMessage(e,"getTags"))}))}))},f.getTagsStats=function(e){return t((function(t,r){let a=f.portalURL+"entries/tags/stats";e&&(a+="?companyId="+e),o({method:"GET",url:a,headers:i.a.getRequestHeader()}).then((function(e){const r=e.data.data.stats||[];n.info("[companyDirectoryService] getTagsStats success (find "+r.length+"tags(s))"),t(r)}),(function(e){const t=s.handleError(e);r(t),n.error("[companyDirectoryService] "+s.getErrorFullMessage(e,"getTagsStats"))}))}))},f.renameTag=function(e,r,a){return t((function(t,l){let c=f.portalURL+"entries/tags?tag="+encodeURIComponent(e);a&&(c+="&companyId="+a),o({method:"PUT",url:c,headers:i.a.getRequestHeader(),data:{newTagName:r}}).then((function(o){n.info("[companyDirectoryService] renameTag success => old tag: "+e+" => new tag: "+r+": found "+o.data.data.found+" occurence(s)"),t()}),(function(e){const t=s.handleError(e);l(t),n.error("[companyDirectoryService] "+s.getErrorFullMessage(e,"renameTag"))}))}))},f.deleteTag=function(e,r){return t((function(t,a){let l=f.portalURL+"entries/tags?tag="+encodeURIComponent(e);r&&(l+="&companyId="+r),o({method:"DELETE",url:l,headers:i.a.getRequestHeader()}).then((function(r){n.info("[companyDirectoryService] deleteTag success (tag "+e+": found "+r.data.data.found+" occurence(s)"),t()}),(function(e){const t=s.handleError(e);a(t),n.error("[companyDirectoryService] "+s.getErrorFullMessage(e,"deleteTag"))}))}))},f.search=function(e,r){return t((function(t){const a=_.a.isFeatureEnabled(_.a.FeaturesEnum.SEARCH_BY_TAGS)?"search=":"name=";let l=f.portalURL+"entries?format=full&"+a+encodeURIComponent(e);r&&(l+="&companyId="+r),o({method:"GET",url:l,headers:i.a.getRequestHeader()}).then((function(e){const r=e.data.data.map((function(e){return f.createAndUpdateContact(e)}));n.info("[companyDirectoryService] search success "+r.length),t(r)}),(function(e){t([]),n.error("[companyDirectoryService] "+s.getErrorFullMessage(e,"search"))}))}))},f.searchCompanies=function(e,r){return t((function(t){let a=f.portalURL+"entries?format=full&companyName="+encodeURIComponent(e);r&&(a+="&companyId="+r),o({method:"GET",url:a,headers:i.a.getRequestHeader()}).then((function(e){n.info("[companyDirectoryService] searchCompanies success");const r=e.data.data.map((function(e){const t=m.Company.create(e.id,e.companyName);return t.country=e.country,f.getCompanyLogo(t),f.getCompanyBanner(t),f.companies[t.id]=t,t}));t(r)}),(function(e){t([]),n.error("[companyDirectoryService] "+s.getErrorFullMessage(e,"searchCompanies"))}))}))},f.getCompanyLogo=function(r){return t((function(t){const o=c.a.computeUserColor(r.name),i=r.name.substr(0,1);r.logo=c.a.getAvatarImage(r.id,i,o.color,130,r.lastAvatarUpdateDate),e.$broadcast("ON_COMPANY_LOGO_UPDATED",r.id),n.info("[companyService] getCompanyLogo - "+r.getNameForLogs()+" - success"),r.sendChangeEvent("logo"),t(r)}))},f.getCompanyBanner=function(o){return t((function(t){const i=new Image;i.onload=()=>{o.banner=i,e.$broadcast("ON_COMPANY_BANNER_UPDATED",o.id),n.info("[getCompanyBanner] - "+o.getNameForLogs()+" - success"),t(o)},i.onerror=()=>{n.error("[companyService] Load banner for "+o.getNameForLogs()+" failure"),t(o)};let s=window.rainbowSDK?null:"/cacheV2/images/company-banner-01.svg";if(o.lastBannerUpdateDate){let e=config.webservices.protocol+"://"+config.webservices.currentServer;a.a.cdn&&(e=a.a.cdnServer),s=e+"/api/banner/"+o.id+"?size=831",s+="&update="+Object(r.MD5)(r.enc.Latin1.parse(o.lastBannerUpdateDate)).toString(r.enc.Hex)}i.src=s}))},f.getCompanyById=function(e){if(!e)throw new Error("missing companyId");const t=f.companies[e];return n.info("[companyDirectoryService] getCompanyById (cache) "+e+" - success"),t},f.createAndUpdateContact=function(e){const t=p.a.createBasicContact(e.id,null,!1);return t.mobilePhones=e.mobilePhoneNumbers,t.businessPhones=e.workPhoneNumbers,t.email=e.eMail,t.updateName(e.firstName,e.lastName),t.getAvatar(),t.companyDirectoryFlag=!0,t.businessCompanyId=e.companyId,t.companyName=e.companyName,t.note1=e.custom1,t.note2=e.custom2,t.department=e.department,t.jobTitle=e.jobTitle,t.otherPhoneNumbers=e.otherPhoneNumbers,t.tags=e.tags?e.tags:void 0,t.city=e.city,t.postalCode=e.postalCode,t.street=e.street,t.state=d.a.getStateName(e.country,e.state),t.country=d.a.getCountryName(e.country),t},f.getAllDirectoryContacts=function(e){return t((function(n,r){let o;f.getDirectoryContacts(e,1,1e3).then((function(n){if(o=n,n.total>n.limit){const r=Math.ceil(n.total/1e3);let i=Array.apply(null,Array(r-1));i=i.map((function(e,t){return t+2}));const s=[];for(;i.length>0;)s.push(i.splice(0,5));return s.reduce((function(n,r){return n.then((function(){const n=r.map((function(t){return f.getDirectoryContacts(e,t,1e3).then((function(e){o.contacts=o.contacts.concat(e.contacts),o.limit+=e.limit}))}));return t.all(n)}))}),t.resolve())}})).then((function(){n(o)})).catch((function(e){r(e)}))}))},f.buildDirectoryCsvBlob=function(e){return t((function(t,r){n.info("[companyDirectoryService] === buildDirectoryCsvBlob ==="),f.getAllDirectoryContacts(e).then((function(e){const n=Math.max(1,e.contacts.reduce((function(e,t){return Math.max(e,t.workPhoneNumbers?t.workPhoneNumbers.length:0)}),0)),r=Math.max(1,e.contacts.reduce((function(e,t){return Math.max(e,t.mobilePhoneNumbers?t.mobilePhoneNumbers.length:0)}),0)),o=Math.max(1,e.contacts.reduce((function(e,t){return Math.max(e,t.otherPhoneNumbers?t.otherPhoneNumbers.length:0)}),0)),i=Array.apply(null,new Array(n)).map((function(e,t){return"workPhoneNumber"+t})),s=Array.apply(null,new Array(n)).map((function(){return";"})),a=Array.apply(null,new Array(r)).map((function(e,t){return"mobilePhoneNumber"+t})),l=Array.apply(null,new Array(r)).map((function(){return";"})),c=Array.apply(null,new Array(o)).map((function(e,t){return"otherPhoneNumber"+t})),u=Array.apply(null,new Array(o)).map((function(){return";"})),d=[];d.push("firstName;lastName;companyName;department;street;city;postalCode;state;country;"+i.join(";")+";"+a.join(";")+";"+c.join(";")+";jobTitle;eMail;custom1;custom2"),e.contacts.forEach((function(e){let t,n,r="";r+=e.firstName?e.firstName:"",r+=";",r+=e.lastName?e.lastName:"",r+=";",r+=e.companyName?e.companyName:"",r+=";",r+=e.department?e.department:"",r+=";",r+=e.street?e.street:"",r+=";",r+=e.city?e.city:"",r+=";",r+=e.postalCode?e.postalCode:"",r+=";",r+=e.state?e.state:"",r+=";",r+=e.country?e.country:"",t=e.workPhoneNumbers&&e.workPhoneNumbers.length>0?e.workPhoneNumbers:[""],r+=";",r+=t.map((function(e){return e})).join(";"),n=s.slice(t.length),r+=n.join(""),t=e.mobilePhoneNumbers&&e.mobilePhoneNumbers.length>0?e.mobilePhoneNumbers:[""],r+=";",r+=t.map((function(e){return e})).join(";"),n=l.slice(t.length),r+=n.join(""),t=e.otherPhoneNumbers&&e.otherPhoneNumbers.length>0?e.otherPhoneNumbers:[""],r+=";",r+=t.map((function(e){return e})).join(";"),n=u.slice(t.length),r+=n.join(""),r+=";",r+=e.jobTitle?e.jobTitle:"",r+=";",r+=e.eMail?e.eMail:"",r+=";",r+=e.custom1?e.custom1:"",r+=";",r+=e.custom2?e.custom2:"",d.push(r)}));const f=new Blob([d.join("\r\n")],{type:"text/csv; charset=utf-8"});t(f)})).catch((function(e){r(e)}))}))},f.exportDirectoryCsvFile=function(e){return t((function(t,r){n.info("[companyDirectoryService] === exportDirectoryCsvFile ===");const o="directory_"+moment().format("YYYY-MM-DD_HH-mm")+".csv";let i;f.buildDirectoryCsvBlob(e).then((function(e){return i=e,l.fileSaver.promptFolderPathAndSavePromise(o)})).then((function(){l.fileSaver.fileDownload(i,null,null,o,!0),t()})).catch((function(e){r(e)}))}))}}])},function(e,t){!function(){angular.module("rainbow").service("browserService",[function(){this.extractBrowserVersion=function(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}}])}()},function(e,t){angular.module("rainbow").service("gRTCStatsService",[function(){var e={};this.resetStatsForAllCalls=function(){e={}},this.resetStatsForCall=function(t){t in e&&delete e[t]},this.getCalls=function(){return e},this.nbCalls=function(){return Object.keys(e).length},this.hasStatsForCall=function(t){return t in e},this.addStreamToCall=function(t,n){t in e||(e[t]={});var r=e[t];r[n.id]={},r[n.id].stream=n},this.nbStreamsInACall=function(t){return t in e?Object.keys(e[t]).length:0},this.getBundlePolicyForCall=function(t){if(!(t in e))return"unknown";var n=e[t],r=0,o=this.nbStreamsInACall(t);for(var i in n)"selectedCandidatePairId"in n[i].stream&&r++;if(4===o)switch(r){case 0:return"failed";case 1:return"max-bundle";case 2:return"balanced";case 4:return"max-compat";default:return"unknown"}else{if(2!==o)return"unknown";switch(r){case 0:return"failed";case 1:return"max-bundle";case 2:return"max-compat";default:return"unknown"}}},this.addSSRCToStream=function(t,n){var r,o=null;"ssrc"===n.type&&t in e&&(r=e[t],n.transportId in r&&((o=r[n.transportId]).ssrc||(o.ssrc={}),o.ssrc[n.ssrc]=n))},this.hasSSRCInStream=function(t,n,r){var o,i;return t in e&&n in(o=e[t])&&!!(i=o[n]).ssrc&&r in i.ssrc},this.getSSRCMediaType=function(t,n,r){var o,i;return t in e&&n in(o=e[t])&&(i=o[n]).ssrc&&r in i.ssrc?i.ssrc[r].mediaType:"unknown"},this.getSSRCDirection=function(n,r,o){var i,s,a;return n in e&&r in(i=e[n])&&(s=i[r]).ssrc&&o in s.ssrc?(a=s.ssrc[o],t(a.id)):"unknown"},this.getSSRCAudioCodecName=function(t,n,r){var o,i;return t in e&&n in(o=e[t])&&(i=o[n]).ssrc&&r in i.ssrc?i.ssrc[r].googCodecName:"unknown"},this.isSSRCFlowing=function(n,r,o){var i,s,a;return n in e&&(r in(i=e[n])&&(!!(s=i[r]).ssrc&&(o in s.ssrc&&(a=s.ssrc[o],("IN"===t(a.id)?parseInt(a.bytesReceived,10):parseInt(a.bytesSent,10))>0))))},this.getStreamsDetailsFromCall=function(t){var n=null,r=null;if(!(t in e))return[];n=e[t];var o=[];for(var i in n)if(n.hasOwnProperty(i)){r=n[i];var s="no",a="no",l=!1,c=!1,u=!1,d=!1;for(var f in r.ssrc)if(r.ssrc&&r.ssrc.hasOwnProperty&&r.ssrc.hasOwnProperty(f)){var _=this.getSSRCMediaType(t,i,f),h=this.getSSRCDirection(t,i,f),p=this.isSSRCFlowing(t,i,f);"audio"===_&&"IN"===h&&p?l=!0:"audio"===_&&"OUT"===h&&p?u=!0:"video"===_&&"IN"===h&&p?c=!0:"video"===_&&"OUT"===h&&p&&(d=!0)}l&&u?s="IN|OUT":l?s="IN":u&&(s="OUT"),c&&d?a="IN|OUT":c?a="IN":d&&(a="OUT"),l||u||c||d?o.push({id:i,streams:{audio:s,video:a}}):o.push({id:i,streams:{}})}return o},this.getCodecDetailsFromCall=function(t){var n=null,r=null,o="-",i="-",s={codec:{audio:o,video:i}};if(!(t in e))return s;for(var a in n=e[t])if(n.hasOwnProperty(a))for(var l in(r=n[a]).ssrc)"audio"===r.ssrc[l].mediaType&&(o=this.getSSRCAudioCodecName(t,a,l)),"video"===r.ssrc[l].mediaType&&(i=this.getSSRCAudioCodecName(t,a,l));return s.codec.audio=o,s.codec.video=i,s};var t=function(e){return e.indexOf("recv")>-1?"IN":"OUT"}}])},function(e,t){angular.module("rainbow").service("fRTCStatsService",[function(){var e={};this.getCalls=function(){return e},this.nbCalls=function(){return Object.keys(e).length},this.addStreamToCall=function(t,n){if(!n.isRemote){t in e||(e[t]={});var r=e[t];r.streams||(r.streams={}),r.streams[n.id]={},r.streams[n.id]=n}},this.nbStreamsInACall=function(t){return t in e?Object.keys(e[t].streams).length:0},this.resetStatsForAllCalls=function(){e={}},this.resetStatsForCall=function(t){t in e&&delete e[t]},this.hasStatsForCall=function(t){return t in e},this.hasSSRCInStream=function(t,n,r){var o;return t in e&&!!(o=e[t]).streams&&n in o.streams&&o.streams[n].ssrc===r},this.hasStreamInCall=function(t,n){return t in e&&n in e[t].streams},this.getSSRCMediaType=function(t,n){var r;return t in e&&n in(r=e[t]).streams?r.streams[n].mediaType:"unknown"},this.getStreamsDetailsFromCall=function(n){var r=null;if(!(n in e))return[];r=e[n];var o=[];for(var i in r.streams)if(r.streams.hasOwnProperty(i)){var s=this.getSSRCMediaType(n,i),a=t(i);"audio"===s?o.push({id:i,streams:{audio:a}}):"video"===s&&o.push({id:i,streams:{video:a}})}return o},this.addCandidatePairToCall=function(t,n){var r=null,o=!1;if(t in e){(r=e[t]).candidatesPairs||(r.candidatesPairs=[]);for(var i=0;i<r.candidatesPairs.length;i++)if(r.candidatesPairs[i].id===n.id){o=!0;break}!o&&"succeeded"===n.state&&n.selected&&r.candidatesPairs.push(n)}},this.getNbCandidatePairs=function(t){var n,r=0;return t in e?((n=e[t]).candidatesPairs&&(r=n.candidatesPairs.length),r):r},this.getBundlePolicyForCall=function(t){var n="unknown";if(!(t in e))return n;switch(this.getNbCandidatePairs(t)){case 0:n="failed";break;case 1:n="max-bundle";break;case 2:n=this.nbStreamsInACall(t)>2?"balanced":"max-compat";break;default:n="max-compat"}return n};var t=function(e){return e.indexOf("inbound")>-1?"IN":"OUT"}}])},function(e,t,n){n.r(t);var r=n(6),o=n.n(r),i=n(3),s=n.n(i),a=n(5),l=n.n(a),c=n(0),u=n.n(c);angular.module("rainbow").service("platformService",["$rootScope","$window","$interval","$q","$filter","$http","errorHelperService",function(e,t,n,r,i,a,c){const d=this,f=[];let _=null;d.$q=r,this.isWin=navigator.platform.toUpperCase().indexOf("WIN")>=0,d.start=function(t){return r((function(r,o){const i=performance.now();u.a.info(""),u.a.info("[platformService] === STARTING ==="),d.languages=["en","fr","es","de"],f.push(e.$on("$translateChangeSuccess",(function(){d.fixDeviceLabels()}))),f.push(e.$on("ON_INPUT_DEVICE_CHANGED_EVENT",y)),f.push(e.$on("ON_OUTPUT_DEVICE_CHANGED_EVENT",S)),_=l.a.subscribeToConnectionEvents(e=>{d.onAuthenticationStatusChangedEvent(e)}),d.isAskingMedia=!1,d.hasAudioPermission=!1,d.hasVideoPermission=!1,d.stopWatcher(),n(d.startWatcher,2e3,1);const s=Math.round(performance.now()-i);t.push({service:"platformService",startDuration:s}),u.a.info("[platformService] === STARTED ("+s+" ms) ==="),r()}))},d.stop=function(){return u.a.info("[platformService] === STOPPING ==="),f.forEach((function(e){e()})),_&&_.unsubscribe(),d.stopWatcher(),this.mediaDevicesLength=0,this.mediaDevices=[],u.a.info("[platformService] === STOPPED ==="),r.when()},d.onAuthenticationStatusChangedEvent=function(e){"ON_XMPP_CONNECTED"===e.name&&(!d.allowDevicesManagement()||!$("#globalAudioTag")[0]||$("#globalAudioTag")[0].sinkId&&"default"!==$("#globalAudioTag")[0].sinkId||(u.a.info("[platformService] onAuthenticationStatusChangedEvent -- update global audio tag"),d.getCurrentSpeaker().then((function(e){e&&e.id&&w(e.id)}))),d.testGetUserMedia())},this.audioDevices=0,this.videoDevices=0,this.detectRTCLoaded=function(){d.hasAudioPermission=DetectRTC.isWebsiteHasMicrophonePermissions,d.hasVideoPermission=DetectRTC.isWebsiteHasWebcamPermissions,d.fixDeviceLabels();let t=!1,n=!1;const r=d.shouldAskGetUserMedia();(DetectRTC.audioInputDevices&&DetectRTC.audioInputDevices.length||DetectRTC.audioOutputDevices&&DetectRTC.audioOutputDevices.length)&&(!d.hasAudioPermission||r.audio?t=!0:p=!0),DetectRTC.videoInputDevices&&DetectRTC.videoInputDevices.length&&(!d.hasVideoPermission||r.video?n=!0:h=!0),t||n?(d.isAskingMedia||(d.isAskingMedia=!0,d.getUserMedia(t,n)),e.$broadcast("ON_RTCLOADED_EVENT")):(d.fixDeviceLabels(),P().then((function(){d.updateNewDesktopDevicesIds(),C(),d.audioDevices!==DetectRTC.audioInputDevices.length+DetectRTC.audioOutputDevices.length&&(d.audioDevices=DetectRTC.audioInputDevices.length+DetectRTC.audioOutputDevices.length,d.audioMediaDeviceUpdated()),d.videoDevices!==DetectRTC.videoInputDevices.length&&(d.videoDevices=DetectRTC.videoInputDevices.length,d.videoMediaDeviceUpdated()),angular.forEach(DetectRTC.MediaDevices,(function(e){e&&u.a.info("[PlatformService] DetectRTC.MediaDevices device "+e.id+" with kind "+e.kind+" with label "+e.label)})),d.getCurrentSpeaker().then((function(e){e&&e.id&&w(e.id)})),d.newDevice&&d.checkAndUpdateHandFreeProfile(),d.startWatcher(),e.$broadcast("ON_RTCLOADED_EVENT")})))},this.testGetUserMedia=function(){if(!d.hasAudioPermission)return void u.a.info("[PlatformService] testGetUserMedia -- no audio permission given");const e=performance.now();d.getCurrentMicrophone().then((function(t){const n={};let r="default";t?(n.audio={optional:[{sourceId:t.id}]},r="id - "+t.id+" and label "+t.label):n.audio=!0,u.a.info("[PlatformService] testGetUserMedia -- getUserMedia for Mic "+r),navigator.mediaDevices.getUserMedia(n).then((function(t){const n=Math.round(performance.now()-e);u.a.info("[PlatformService] testGetUserMedia -- getUserMedia success for time : "+n+" ms"),angular.forEach(t.getTracks(),(function(e){u.a.info("[PlatformService] testGetUserMedia mediaStreamTrack -- "+e.label),e.stop()})),p=!0,d.isAskingMedia=!1})).catch((function(e){u.a.info("[PlatformService] testGetUserMedia -- getUserMedia error "+e),d.isAskingMedia=!1}))}))},this.shouldAskGetUserMedia=function(){const e={audio:!1,video:!1};return angular.forEach(DetectRTC.MediaDevices,(function(t){t&&t.label&&-1!==t.label.indexOf("invoke getUserMedia")&&("audioinput"===t.kind||"audiooutput"===t.kind?e.audio=!0:e.video=!0)})),u.a.info("[platformService] shouldAskGetUserMedia : audio "+e.audio+" and video "+e.video),e},this.updateNewDesktopDevicesIds=function(){const e=o.a.getSetting("handFreeInputDeviceName"),t=o.a.getSetting("handFreeOutputDeviceName"),n=o.a.getSetting("headsetDeviceName"),r=o.a.getSetting("customMicrophoneName"),i=o.a.getSetting("customSpeakerName"),s=o.a.getSetting("cameraUsed"),a=o.a.getSetting("ringingSpeakerName");(e||t||n||r||i)&&angular.forEach(DetectRTC.MediaDevices,(function(s){"audioinput"===s.kind?(s.normalizedLabel===n&&o.a.setSetting("headsetMicrophone",s.id),s.normalizedLabel===e&&o.a.setSetting("microphone",s.id),s.normalizedLabel===r&&o.a.setSetting("customMicrophone",s.id)):"audiooutput"===s.kind&&(s.normalizedLabel===n&&o.a.setSetting("headsetSpeaker",s.id),s.normalizedLabel===t&&o.a.setSetting("speaker",s.id),s.normalizedLabel===i&&o.a.setSetting("customSpeaker",s.id))})),s&&angular.forEach(DetectRTC.MediaDevices,(function(e){"videoinput"===e.kind&&e.label===s&&o.a.setSetting("camera",e.id)})),a&&angular.forEach(DetectRTC.MediaDevices,(function(e){"audiooutput"===e.kind&&e.normalizedLabel===a&&o.a.setSetting("ringingSpeaker",e.id)}))},this.mediaDevicesLength=0,this.mediaDevices=[],this.newDevice=null,this.devicesWatcher=function(){navigator&&navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices().then((function(e){(d.mediaDevicesLength!==e.length||d.checkForIdChange(e))&&(u.a.debug("[platformService] MediaDevices count changed ! from "+d.mediaDevicesLength+" to "+e.length),u.a.debug("[platformService] MediaDevices brut devices list "+JSON.stringify(e)),e.length-d.mediaDevicesLength==1?d.newDevice=d.getNewDevice(d.mediaDevices,e):d.newDevice=null,d.mediaDevicesLength=e.length,d.mediaDevices=e,d.stopWatcher(),DetectRTC.load(d.detectRTCLoaded))}))},d.checkAndUpdateHandFreeProfile=function(){u.a.info("[platformService] checkAndUpdateHandFreeProfile");const t=d.getActiveAudioProfile();1===t.key&&!0===t.available&&d.getCurrentSpeaker().then((function(t){t&&t.groupId===d.newDevice.groupId&&(u.a.info("[platformService] checkAndUpdateHandFreeProfile -- should update the Jack Mic"),e.$broadcast("ON_HANDFREE_JACK_MICROPHONE_EVENT",d.newDevice))}))},d.checkForIdChange=function(e){let t=!1;return d.mediaDevices.length&&angular.forEach(d.mediaDevices,(function(n){if("default"===n.deviceId||"communications"===n.deviceId)return;let r=!1;for(let t=0;t<e.length;t++)n.deviceId===e[t].deviceId&&(r=!0);r||(t=!0)})),t&&u.a.info("[platformService] checkForIdChange "+t),t},d.getNewDevice=function(e,t){let n=null;return t.length&&angular.forEach(t,(function(t){if("default"===t.deviceId||"communications"===t.deviceId)return;let r=!1;for(let n=0;n<e.length;n++)t.deviceId===e[n].deviceId&&(r=!0);r||"audioinput"!==t.kind||(n=t)})),n},d.tryToGetUserMediaForEachDevice=function(){if(u.a.info("[platformService] tryToGetUserMediaForEachDevice"),DetectRTC.audioInputDevices&&DetectRTC.audioInputDevices.length){let t=r.when();for(let e=0;e<DetectRTC.audioInputDevices.length;e++)!function(e){const n=DetectRTC.audioInputDevices[e];t=t.then((function(){return d.getUserMediaForAudioDevice(n.id)}))}(e);t=t.finally((function(){if(u.a.info("[platformService] tryToGetUserMediaForEachDevice finally -- has audio permission "+d.hasAudioPermission),d.hasAudioPermission)d.loadDetectRTC();else{p=!1,h=!1,d.isAskingMedia=!1;const t={popupTitle:"information",popupBody:"devicePermission",okLabel:"ok"};e.$broadcast("ON_OPEN_GLOBAL_POPUP",t),e.$broadcast("ON_INPUT_DEVICE_CHANGED_EVENT"),d.startWatcher()}}))}else u.a.warn("[platformService] tryToGetUserMediaForEachDevice -- no audio devices found, restart the watcher"),d.isAskingMedia=!1,d.startWatcher()},d.getUserMediaForAudioDevice=function(e){return r((function(t){if(d.hasAudioPermission)return u.a.info("[platformService] getUserMediaForAudioDevice for id: "+e+" no longer needed !"),void t();if(!e)return u.a.info("[platformService] getUserMediaForAudioDevice missing id !"),void t();u.a.info("[platformService] getUserMediaForAudioDevice for id: "+e);const n={};n.audio={optional:[{sourceId:e}]},navigator.mediaDevices.getUserMedia(n).then((function(n){u.a.info("[platformService] getUserMediaForAudioDevice for id: "+e+" success"),angular.forEach(n.getAudioTracks(),(function(e){e.stop()})),d.hasAudioPermission=!0,p=!0,d.hasVideoPermission=!0,h=!0,t()})).catch((function(n){u.a.info("[platformService] getUserMediaForAudioDevice for id: "+e+" failed with error "+n),t()}))}))},d.getUserMedia=function(e,t){u.a.info("[platformService] getUserMedia audio: "+e+" and video: "+t),navigator.mediaDevices.getUserMedia({audio:e,video:t}).then((function(n){u.a.info("[platformService] getUserMedia audio: "+e+" and video: "+t+" -- success!"),angular.forEach(n.getAudioTracks(),(function(e){e.stop()})),angular.forEach(n.getVideoTracks(),(function(e){e.stop()})),e&&(d.hasAudioPermission=!0,p=!0),t&&(d.hasVideoPermission=!0,h=!0),n=null,d.loadDetectRTC()})).catch((function(e){u.a.error("[platformService] getUserMedia -- error -- "+e),d.tryToGetUserMediaForEachDevice()}))},d.loadDetectRTC=function(){DetectRTC.load((function(){d.fixDeviceLabels(),P().then((function(){d.updateNewDesktopDevicesIds(),C(),d.isAskingMedia=!1,d.audioDevices!==DetectRTC.audioInputDevices.length+DetectRTC.audioOutputDevices.length&&(d.audioDevices=DetectRTC.audioInputDevices.length+DetectRTC.audioOutputDevices.length,d.audioMediaDeviceUpdated()),d.videoDevices!==DetectRTC.videoInputDevices.length&&(d.videoDevices=DetectRTC.videoInputDevices.length,d.videoMediaDeviceUpdated()),angular.forEach(DetectRTC.MediaDevices,(function(e){e&&u.a.info("[PlatformService] DetectRTC.MediaDevices device "+e.id+" with kind "+e.kind+" with label "+e.label)})),d.getCurrentSpeaker().then((function(e){e&&e.id&&w(e.id)})),d.startWatcher()}))}))},d.getWhatsNewVersions=function(e){return r((function(t){let n=config.restServerUrl+"/api/rainbow/applications/v1.0/release-notes?format=full&toVersion="+version;e&&(n+="&limit="+e);const r=s.a.getRequestHeader();fetch(n,{method:"GET",headers:r}).then((function(e){if(!e.ok)throw e;e.json().then((function(e){u.a.info("[adminPlatformService] getWhatsNewVersions -- success"),t(e.data)}))}))}))},d.getWhatsNew=function(){return r((function(e){const t=config.restServerUrl+"/api/rainbow/enduser/v1.0/settings/changelogs";a({method:"GET",url:t,headers:s.a.getRequestHeader()}).then((function(t){u.a.info("[adminPlatformService] getWhatsNew -- success");const n=t.data.data.changeLog.split("§%§");let r={};n.forEach((function(e,t){r[d.languages[t]]=e})),Object.keys(r).forEach((function(e){0===r[e].length&&(r[e]=r.en)})),r.en||(r={en:"",fr:"",es:"",de:""}),e(r)}),(function(t){e({en:"",fr:"",es:"",de:""}),u.a.error("[adminPlatformService] "+c.getErrorFullMessage(t,"getWhatsNew"))}))}))},d.getAvailableLanguage=function(e){const t=e.split("-")[0],n=d.languages.find((function(e){return e===t}));return n||"en"},this.isDesktop=function(){return navigator.userAgent.indexOf(" Rainbow/")>=0},this.allowDevicesManagement=function(){return t.chrome||this.isDesktop()};let h=!1;this.isWebsiteHasWebcamPermissions=function(){return!!d.allowDevicesManagement()&&h};let p=!1;this.isWebsiteHasMicrophonePermissions=function(){return!!d.allowDevicesManagement()&&p};const m={HANDFREE:{key:1,value:"handfree",available:!1},HEADSET:{key:2,value:"headset",available:!1},SPEAKERPHONE:{key:3,value:"speakerphone",available:!1},CUSTOM:{key:4,value:"custom",available:!1}};this.audioProfileEnum=m,this.getAudioProfiles=function(){return m},this.currentAudioProfile=m.HANDFREE,this.getCurrentAudioProfile=function(){let e=null;switch(o.a.getSetting("audioProfile")){case m.HEADSET.value:e=m.HEADSET;break;case m.HANDFREE.value:e=m.HANDFREE;break;case m.SPEAKERPHONE.value:e=m.SPEAKERPHONE;break;case m.CUSTOM.value:e=m.CUSTOM;break;default:e=m.HANDFREE,o.a.setSetting("audioProfile",e.value)}return e},this.getActiveAudioProfile=function(){const e=this.getCurrentAudioProfile();return e.key===m.HANDFREE.key||e.available?e:m.HANDFREE},this.setCurrentAudioProfile=function(e){e&&(d.currentAudioProfile=e)},this.isHandfreeAvailable=function(){return d.isHandfreeMicrophoneAvailable()&&d.isHandfreeSpeakerAvailable()},this.isHeadsetAvailable=function(){return d.isHeadsetMicrophoneAvailable()&&d.isHeadsetSpeakerAvailable()},this.isSpeakerphoneAvailable=function(){return d.isSpeakerphoneMicrophoneAvailable()&&d.isSpeakerphoneSpeakerAvailable()},this.isCustomAvailable=function(){return d.isCustomMicrophoneAvailable()&&d.isCustomSpeakerAvailable()},this.getCurrentMicrophone=function(){if("sdk"===o.a.getSetting("apiMode")){const e=d.getMicrophoneForSDK();if(e)return e}switch(d.getActiveAudioProfile()){case m.SPEAKERPHONE:return d.getSpeakerphoneMicrophone();case m.CUSTOM:return d.getCustomMicrophone();case m.HEADSET:return d.getHeadsetMicrophone();default:return d.getHandfreeMicrophone()}},this.getMicrophoneForSDK=function(){const e=r.defer();return d.getMicrophones().then((function(t){e.resolve(d.getDeviceWithId(t,o.a.getSetting("microphone")))})),e.promise},this.getSecondRingerStatusFromSettings=function(){return o.a.getSetting("hasSecondRinger")},this.setSecondRingerStatusFromSettings=function(e){return o.a.setSetting("hasSecondRinger",e)},this.getHandfreeMicrophoneFromSettings=function(){return o.a.getSetting("microphone")},this.getHandfreeMicrophone=function(){const e=r.defer();return d.getMicrophones().then((function(t){e.resolve(d.getDeviceWithId(t,d.getHandfreeMicrophoneFromSettings()))})),e.promise},this.getHeadsetMicrophoneFromSettings=function(){return o.a.getSetting("headsetMicrophone")},this.getHeadsetMicrophone=function(){const e=r.defer();return d.getMicrophones().then((function(t){e.resolve(d.getDeviceWithId(t,d.getHeadsetMicrophoneFromSettings()))})),e.promise},this.getHeadsetDeviceName=function(){const e=r.defer();return e.resolve(o.a.getSetting("headsetDeviceName")),e.promise},this.getSpeakerphoneMicrophoneFromSettings=function(){return o.a.getSetting("speakerphoneMicrophone")},this.getSpeakerphoneMicrophone=function(){const e=r.defer();return d.getMicrophones().then((function(t){e.resolve(d.getDeviceWithId(t,d.getSpeakerphoneMicrophoneFromSettings()))})),e.promise},this.getSpeakerphoneDeviceName=function(){const e=r.defer();return e.resolve(o.a.getSetting("speakerphoneDeviceName")),e.promise},this.getCustomMicrophoneFromSettings=function(){return o.a.getSetting("customMicrophone")},this.getCustomMicrophone=function(){const e=r.defer();return d.getMicrophones().then((function(t){e.resolve(d.getDeviceWithId(t,d.getCustomMicrophoneFromSettings()))})),e.promise},this.getMicrophones=function(){const e=r.defer();return this.allowDevicesManagement()||e.resolve([]),d.getAudioInputDevices().then((function(t){e.resolve(t&&t.constructor===Array&&p?t:[])})).catch((function(t){return u.a.info("[PlatformService] === SERVICES FAILURE === : "+t.message),e.reject(t),e.promise})),e.promise},this.isHandfreeMicrophoneAvailable=function(){return d.isDeviceAvailable(d.mediaDevices,d.getHandfreeMicrophoneFromSettings(),"audioinput")},this.isHeadsetMicrophoneAvailable=function(){return d.isDeviceAvailable(d.mediaDevices,d.getHeadsetMicrophoneFromSettings(),"audioinput")},this.isSpeakerphoneMicrophoneAvailable=function(){return d.isDeviceAvailable(d.mediaDevices,d.getSpeakerphoneMicrophoneFromSettings(),"audioinput")},this.isCustomMicrophoneAvailable=function(){return d.isDeviceAvailable(d.mediaDevices,d.getCustomMicrophoneFromSettings(),"audioinput")},this.getCurrentSpeaker=function(){if("sdk"===o.a.getSetting("apiMode")){const e=d.getSpeakerForSDK();if(e)return e}switch(d.getActiveAudioProfile()){case m.SPEAKERPHONE:return d.getSpeakerphoneSpeaker();case m.CUSTOM:return d.getCustomSpeaker();case m.HEADSET:return d.getHeadsetSpeaker();default:return d.getHandfreeSpeaker()}},this.getSpeakerForSDK=function(){const e=r.defer();return d.getSpeakers().then((function(t){e.resolve(d.getDeviceWithId(t,o.a.getSetting("speaker")))})),e.promise},this.getHandfreeSpeakerFromSettings=function(){return o.a.getSetting("speaker")},this.getHandfreeSpeaker=function(){const e=r.defer();return d.getSpeakers().then((function(t){e.resolve(d.getDeviceWithId(t,d.getHandfreeSpeakerFromSettings(),!0))})),e.promise},this.getHeadsetSpeakerFromSettings=function(){return o.a.getSetting("headsetSpeaker")},this.getHeadsetSpeaker=function(){const e=r.defer();return d.getSpeakers().then((function(t){e.resolve(d.getDeviceWithId(t,d.getHeadsetSpeakerFromSettings()))})),e.promise},this.getSpeakerphoneSpeakerFromSettings=function(){return o.a.getSetting("speakerphoneSpeaker")},this.getSpeakerphoneSpeaker=function(){const e=r.defer();return d.getSpeakers().then((function(t){e.resolve(d.getDeviceWithId(t,d.getSpeakerphoneSpeakerFromSettings()))})),e.promise},this.getCustomSpeakerFromSettings=function(){return o.a.getSetting("customSpeaker")},this.getCustomSpeaker=function(){const e=r.defer();return d.getSpeakers().then((function(t){e.resolve(d.getDeviceWithId(t,d.getCustomSpeakerFromSettings()))})),e.promise},this.getRingingSpeakerFromSettings=function(){return o.a.getSetting("ringingSpeaker")},this.getRingingSpeaker=function(){const e=r.defer();return d.getSpeakers().then((function(t){e.resolve(d.getDeviceWithId(t,d.getRingingSpeakerFromSettings()))})),e.promise},this.setSpeakerForElement=function(e,t){const n=r.defer();if(!e||!e.setSinkId)return u.a.warn("[platformService] setSpeakerForElement -- missing element"),r.when();if(this.allowDevicesManagement()){if(t===e.sinkId)return r.when();e.id&&u.a.log("[platformService] setSpeakerForElement "+e.id+" with "+t),e.setSinkId(t).then((function(){u.a.log("[platformService] Success, audio output device attached: "+t),angular.element("#globalAudioTag")[0]&&u.a.log("[platformService] sinkId for globalAudioTag is "+angular.element("#globalAudioTag")[0].sinkId),n.resolve()})).catch((function(e){let t=e;"SecurityError"===e.name&&(t="[platformService] You need to use HTTPS for selecting audio output device: "+e),u.a.error("[platformService] "+t),n.resolve()}))}else u.a.warn("[platformService] Browser does not support output device selection."),n.resolve();return n.promise},this.getSpeakers=function(){const e=r.defer();return d.allowDevicesManagement()||e.resolve([]),d.getAudioOutputDevices().then((function(t){e.resolve(t&&t.constructor===Array&&p?t:[])})).catch((function(t){return u.a.info("[PlatformService] === SERVICES FAILURE === : "+t.message),e.reject(t),e.promise})),e.promise},this.isHandfreeSpeakerAvailable=function(){return d.isDeviceAvailable(d.mediaDevices,d.getHandfreeSpeakerFromSettings(),"audiooutput")};let g=!1;this.isHeadsetSpeakerAvailable=function(){return d.isDeviceAvailable(d.mediaDevices,d.getHeadsetSpeakerFromSettings(),"audiooutput")};let v=null;this.isSpeakerphoneSpeakerAvailable=function(){return d.isDeviceAvailable(d.mediaDevices,d.getSpeakerphoneSpeakerFromSettings(),"audiooutput")};let b=!1;this.isCustomSpeakerAvailable=function(){return d.isDeviceAvailable(d.mediaDevices,d.getCustomSpeakerFromSettings(),"audiooutput")};let D=!1;function y(){C(),d.isAskingMedia?u.a.info("[PlatformService] onAudioInputChange -- already asking media -- ignore"):(d.isAskingMedia=!0,n(d.testGetUserMedia,2e3,1))}function C(){var t;t=d.isHandfreeAvailable(),g!==t&&(u.a.info("[PlatformService] Handfree is now "+(t?"available":"unavailable")),g=t,m.HANDFREE.available=t,e.$broadcast("ON_AUDIO_PROFILE_CHANGED_EVENT",t),e.$broadcast("ON_INPUT_DEVICE_CHANGED_EVENT"),t||d.getCurrentSpeaker().then((function(e){e&&e.id&&w(e.id)}))),function(t){v!==t&&(u.a.info("[PlatformService] Headset is now "+(t?"available":"unavailable")),v=t,m.HEADSET.available=t,t?o.a.getSetting("audioProfile")===m.HANDFREE.value&&(o.a.setSetting("audioProfile",m.HEADSET.value),d.getCurrentSpeaker().then((function(e){e&&e.id&&w(e.id)}))):(o.a.getSetting("audioProfile")===m.HEADSET.value&&o.a.setSetting("audioProfile",m.HANDFREE.value),d.getCurrentSpeaker().then((function(e){e&&e.id&&w(e.id)}))),e.$broadcast("ON_AUDIO_PROFILE_CHANGED_EVENT",t),e.$broadcast("ON_INPUT_DEVICE_CHANGED_EVENT"))}(d.isHeadsetAvailable()),function(t){b!==t&&(u.a.info("[PlatformService] Speakerphone is now "+(t?"available":"unavailable")),b=t,m.SPEAKERPHONE.available=t,e.$broadcast("ON_AUDIO_PROFILE_CHANGED_EVENT",t),e.$broadcast("ON_INPUT_DEVICE_CHANGED_EVENT"),t||d.getCurrentSpeaker().then((function(e){e&&e.id&&w(e.id)})))}(d.isSpeakerphoneAvailable()),function(t){D!==t&&(u.a.info("[PlatformService] Custom is now "+(t?"available":"unavailable")),D=t,m.CUSTOM.available=t,e.$broadcast("ON_AUDIO_PROFILE_CHANGED_EVENT",t),e.$broadcast("ON_INPUT_DEVICE_CHANGED_EVENT"),t||d.getCurrentSpeaker().then((function(e){e&&e.id&&w(e.id)})))}(d.isCustomAvailable())}function S(e,t){C(),u.a.info("[PlatformService] updateOutputDevice "+t),d.allowDevicesManagement()&&t&&w(t)}let E="";function w(e){u.a.info("[PlatformService] updateCurrentOutputDevice "+e),angular.element("#globalAudioTag")[0]&&angular.element("#globalAudioTag")[0].sinkId!==e&&E!==e?(E=e,u.a.info("[PlatformService] updateCurrentOutputDevice current ID "+angular.element("#globalAudioTag")[0].sinkId+" new id "+e),d.setSpeakerForElement(angular.element("#globalAudioTag")[0],"default").then((function(){d.setSpeakerForElement(angular.element("#globalAudioTag")[0],e),E=""})).catch((function(){E=""}))):u.a.info("[PlatformService] updateCurrentOutputDevice -- ignored ")}let T=[],M=[];const j=[];let k=[],O=[],A=!0;const I=["realtek","soundmax","high definition audio","nomachine"];d.arrayContains=function(e,t){return e.some((function(e){return t.indexOf(e)>-1}))},d.getDeviceType=function(e){return e=e.toLowerCase(),d.arrayContains(I,e)?m.HANDFREE:m.HEADSET},this.normalizeAnyLabel=function(e){return e?("default"===e.id||"communications"===e.id||e.normalizedLabel||(d.isWin?-1!==e.label.indexOf("Realtek Audio")||-1!==e.label.indexOf("Realtek(R) Audio")?e.normalizedLabel=e.label:e.normalizedLabel=e.label.substring(e.label.indexOf("(")+1,e.label.indexOf(")")):e.normalizedLabel=e.label),e):null};const P=function(){const t=r.defer();return d.getMicrophones().then((function(e){return T=e,d.getSpeakers()})).then((function(n){M=n;const r=[];angular.forEach(T,(function(e){"default"!==e.id&&"communications"!==e.id&&(e=d.normalizeAnyLabel(e),r.some((function(t){return t.microphone.normalizedLabel===e.normalizedLabel}))||angular.forEach(M,(function(t){if(t=d.normalizeAnyLabel(t),e.normalizedLabel===t.normalizedLabel&&d.getDeviceType(e.normalizedLabel)===m.HEADSET){const n={label:e.normalizedLabel,microphone:e,speaker:t};r.push(n),A&&j.push(n)}})))}));let i=o.a.getSetting("headsetDeviceName");i&&"null"!==i||!r.length||(i=r[0].label,o.a.setSetting("headsetDeviceName",r[0].label),o.a.setSetting("headsetMicrophone",r[0].microphone.id),o.a.setSetting("headsetSpeaker",r[0].speaker.id));const s=o.a.getSetting("ringingSpeakerName");if((!s||"null"===s)&&M.length)for(let e=0;e<M.length;e++)if("default"!==M[e].id&&"communications"!==M[e].id){o.a.setSetting("ringingSpeakerName",M[e].normalizedLabel),o.a.setSetting("ringingSpeaker",M[e].id);break}const a=[];A||(angular.forEach(r,(function(e){k.some((function(t){return t.label===e.label}))||(a.push(e),j.push(e))})),a.length>0&&(u.a.info("[PlatformService] hotplugged headset(s): "+(a.length>1?a.reduce((function(e,t){return{label:e.Label+", "+t.Label}})).label:a[0].label)),e.$broadcast("ON_AUDIO_HOTPLUG_DEVICES_CHANGED_EVENT",{devices:a,action:"add"})));const l=[];!A&&k.length>r.length&&(angular.forEach(k,(function(e){if(!r.some((function(t){return t.label===e.label}))){l.push(e);const t=j.map((function(e){return e.label})).indexOf(e.label);j.splice(t,1)}})),l.length>0&&(u.a.info("[PlatformService] unplugged headset(s): "+(l.length>1?l.reduce((function(e,t){return{label:e.Label+", "+t.Label}})).label:l[0].label)),e.$broadcast("ON_AUDIO_HOTPLUG_DEVICES_CHANGED_EVENT",{devices:l,action:"remove"}))),A=!1,k=r,t.resolve(r)})),t.promise};let x;this.getHeadsetDevices=function(){return k},this.getSpeakerphoneDevices=function(){return O},this.getAllDevices=function(){return j},this.getHandFreeDevice=function(){const e=r.defer();return d.getHandfreeMicrophone().then((function(t){const n=t;d.getHandfreeSpeaker().then((function(t){const r=t;(!d.handFreeDevice||d.handFreeDevice.microphone&&d.handFreeDevice.microphone.id!==n.id||d.handFreeDevice.speaker&&d.handFreeDevice.speaker.id!==r.id)&&(d.handFreeDevice={label:"",microphone:n,speaker:r,profile:m.HANDFREE}),e.resolve(d.handFreeDevice)}))})),e.promise},this.getCustomDevice=function(){const e=r.defer();return d.getCustomMicrophone().then((function(t){const n=t;d.getCustomSpeaker().then((function(t){const r=t;(!d.customDevice||d.customDevice.microphone&&d.customDevice.microphone.id!==n.id||d.customDevice.speaker&&d.customDevice.speaker.id!==r.id)&&(d.customDevice={label:"",microphone:n,speaker:r,profile:m.CUSTOM}),e.resolve(d.customDevice)}))})),e.promise},this.getAvailableDevices=function(){const e=r.defer(),t=[];return d.getHandFreeDevice().then((function(n){t.push(n),k.forEach((function(e){e.profile=m.HEADSET,t.push(e)})),O.forEach((function(e){e.profile=m.SPEAKERPHONE,t.push(e)})),d.getCustomDevice().then((function(n){t.push(n),e.resolve(t)}))})),e.promise},this.getStoredDeviceList=function(){return o.a.getSetting("deviceList")},this.saveDeviceList=function(e){const t=[];for(let n=0;n<e.length;n++)t[n]=e[n].label;o.a.setSetting("deviceList",angular.toJson(t))},this.getCurrentCamera=function(){const e=r.defer();return d.getCameras().then((function(t){e.resolve(d.getDeviceWithId(t,o.a.getSetting("camera")))})),e.promise},this.getCameraForSDK=function(){return{id:o.a.getSetting("camera")}},this.getCameras=function(){const e=r.defer();return this.allowDevicesManagement()||e.resolve([]),d.getVideoInputDevices().then((function(t){e.resolve(t&&t.constructor===Array&&h?t:[])})).catch((function(t){return u.a.info("[PlatformService] === SERVICES FAILURE === : "+t.message),e.reject(t),e.promise})),e.promise},this.isDeviceAvailable=function(e,t,n){const r=e.find((function(e){return e.kind===n&&e.deviceId===t}));return angular.isDefined(r)},this.getDeviceWithId=function(e,t,n){if(e.constructor!==Array)return null;let r=null;if("default"===t||"communications"===t)if(n){const n=d.mediaDevices.find((function(e){return e.deviceId===t&&"audioinput"===e.kind}));n&&(r=e.find((function(e){return"default"!==e.id&&"communications"!==e.id&&n.groupId===e.groupId})))}else{const n=e.find((function(e){return e.id===t}));n&&(r=e.find((function(e){return"default"!==e.id&&"communications"!==e.id&&n.groupId===e.groupId})))}if(r)return r;if(r=e.find((function(e){return e.id===t})),!r){if(n){const t=d.mediaDevices.find((function(e){return"default"===e.deviceId&&"audioinput"===e.kind}));t&&(r=e.find((function(e){return"default"!==e.id&&"communications"!==e.id&&t.groupId===e.groupId})))}if(!r){const t=e.find((function(e){return"default"===e.id}));t&&(r=e.find((function(e){return"default"!==e.id&&"communications"!==e.id&&t.groupId===e.groupId})))}}return r||(e.length>0?e[0]:null)},this.startWatcher=function(){if(d.allowDevicesManagement()){if(angular.isDefined(x))return;x=n(d.devicesWatcher,1e3)}},this.stopWatcher=function(){angular.isDefined(x)&&(n.cancel(x),x=void 0)},this.capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},this.fixDeviceLabels=function(){angular.forEach(DetectRTC.MediaDevices,(function(e){e&&e.id&&("default"!==e.id||e.label&&"Default"!==e.label?e.id.length<64&&"Please invoke getUserMedia once."===e.label&&(e.label=d.capitalizeFirstLetter(e.id)):e.label=d.findAndUpdateDefaultDeviceLabel(e.kind,e.groupId),u.a.info("[PlatformService] fixDeviceLabels || update device "+e.id+" with kind "+e.kind+" with label "+e.label))}))},this.findAndUpdateDefaultDeviceLabel=function(e,t){let n="audioinput"===e?i("translate")("yourComputerMicrophoneDevice"):i("translate")("yourComputerSpeakerDevice");for(let r=0;r<DetectRTC.MediaDevices.length;r++)if("default"!==DetectRTC.MediaDevices[r].id&&DetectRTC.MediaDevices[r].kind===e&&DetectRTC.MediaDevices[r].groupId===t){n=n+" - "+DetectRTC.MediaDevices[r].label;break}return n},this.updatePermissions=function(){let e=!1;return angular.forEach(DetectRTC.MediaDevices,(function(t){t&&t.id&&t.id.length>=64&&("Please invoke getUserMedia once."===t.label?e=!0:("videoinput"!==t.kind||h||(h=!0),"audioinput"!==t.kind||p||(p=!0)))})),e},this.isGetUserMediaRequested=function(){return(!h||!p)&&d.updatePermissions(DetectRTC.MediaDevices)},this.audioMediaDeviceUpdated=function(){d.fixDeviceLabels(),e.$broadcast("ON_USER_AUDIO_MEDIA_CHANGED_EVENT")},this.videoMediaDeviceUpdated=function(){d.fixDeviceLabels(),e.$broadcast("ON_USER_VIDEO_MEDIA_CHANGED_EVENT")};const R=function(e){const t=[];return angular.forEach(e,(function(e){t.some((function(t){return t.id===e.id}))||t.push(e)})),t};this.getAudioInputDevices=function(){return r.when(R(DetectRTC.audioInputDevices))},this.getAudioOutputDevices=function(){const e=r.defer();return e.resolve(R(DetectRTC.audioOutputDevices)),e.promise},this.getVideoInputDevices=function(){const e=r.defer();return e.resolve(R(DetectRTC.videoInputDevices)),e.promise}}])},function(e,t){angular.module("rainbow").service("gaService",[function(){var e={category:"webrtc",action:"CallsSuccessRate",label:"error_failed"},t={category:"webrtc",action:"CallsSuccessRate",label:"success"},n={category:"webrtc",action:"CallsSuccessRate",label:"error_no_stun_candidate"},r={category:"webrtc",action:"ICEDistribution"},o={category:"webrtc",action:"ICETopology"},i={category:"webrtc",action:"ICENegotiation",label:"DurationMs"},s={category:"webrtc",action:"GetUserMediaRate",label:"success"},a={category:"webrtc",action:"GetUserMediaRate",label:"error_no_Track"},l={category:"webrtc",action:"GetUserMediaRate",label:"error"},c={category:"webrtc",action:"CodecsDistribution"},u={category:"webrtc",action:"CallsDistribution"},d={category:"webrtc",action:"CallsDurationRange"},f={category:"ux",action:"dragAndDrop"},_={category:"invitations",action:"inviteFromProvider"},h=null,p=null,m=!1,g=null,v=null,b=null;this.provideGA=function(e){b=e},this.hasGA=function(){return null!==b},this.trackICEUsed=function(e,t){if(b){var n="",o="";switch(e){case"local":n="host";break;case"peerreflexive":case"prflx":case"serverreflexive":n="stun";break;case"relayed":n="relay";break;default:n=e}switch(t){case"local":o="host";break;case"peerreflexive":case"prflx":case"serverreflexive":o="stun";break;case"relayed":o="relay";break;default:o=t}b.send("event",r.category,r.action,n+"|"+o)}},this.trackICEFailed=function(t){b&&t&&v!==t&&(b.send("event",e.category,e.action,e.label),v=t)},this.trackICESuccess=function(e){b&&e&&g!==e&&(b.send("event",t.category,t.action,t.label),g=e)},this.trackICENoSTUNCandidate=function(){b&&b.send("event",n.category,n.action,n.label)},this.trackICETopology=function(e){b&&b.send("event",o.category,o.action,e)},this.trackGetUserMediaSuccess=function(){b&&b.send("event",s.category,s.action,s.label)},this.trackGetUserMediaErrorNoTrack=function(){b&&b.send("event",a.category,a.action,a.label)},this.trackGetUserMediaError=function(){b&&b.send("event",l.category,l.action,l.label)},this.trackCodecsUsed=function(e,t){b&&b.send("event",c.category,c.action,e+"|"+t)},this.negotiationTime=function(){return p&&h?p<h?null:p-h:null},this.startNegotiationTime=function(e){h=e||(new Date).getTime(),m=!0},this.endNegotiationTime=function(e){m&&(p=e||(new Date).getTime(),m=!1)},this.trackNegotiationTime=function(){if(b){var e=this.negotiationTime();e&&b.send("event",i.category,i.action,i.label,e),p=null,h=null}},this.resetProvider=function(){b=null},this.trackCallSuccessNumber=function(e){e&&e.length>0&&b&&b.send("event",u.category,u.action,e)},this.trackCallDuration=function(e){if(b&&angular.isDefined(e)&&e>=0){var t="",n=Math.round(e/1e3);t=n<15?"very_short_less_15s":n<30?"very_short_less_30s":n<60?"short_less_60s":n<120?"short_less_120s":n<300?"short_less_300s":n<600?"normal_less_600s":n<1200?"normal_less_1200s":n<1800?"normal_less_1800s":n<3600?"long_less_3600s":"long_more_3600s",b.send("event",d.category,d.action,t)}},this.trackDragAndDrop=function(e){b&&b.send("event",f.category,f.action,e)},this.inviteContactsFromProvider=function(e,t){b&&b.send("event",_.category,_.action,e,t)}}])},function(e,t,n){n.r(t);var r=n(2),o=n.n(r);angular.module("rainbow").service("usersService",["$q","$log",function(e,t){var n=this;this.started=!1,this.start=function(r){t.info("[usersService] === STARTING ==="),n.started=!0;var i=performance.now();t.info("[usersService] start"),n.contactsInRoster=n.getAllRosterContacts(),n.lastNameList=n.orderContacts("lastname"),n.firstNameList=n.orderContacts("firstname"),n.companyNameList=n.orderContacts("company"),n.contactServiceSubscription=o.a.subscribe(e=>{"ON_CONTACT_ROSTER_UPDATE_EVENT"===e.name&&n.onContactUpdatedEvent()});var s=Math.round(performance.now()-i);return r.push({service:"usersService",startDuration:s}),t.info("[usersService] === STARTED ("+s+" ms) ==="),e.when()},this.stop=function(){return t.info("[usersService] === STOPPING ==="),n.started&&(n.started=!1),n.contactServiceSubscription&&n.contactServiceSubscription.unsubscribe(),t.info("[usersService] === STOPPED ==="),e.when()},this.onContactUpdatedEvent=function(){t.info("[usersService] onContactUpdatedEvent");var e=n.getAllRosterContacts();e.length-n.contactsInRoster.length!=0&&(t.info("[usersService] onContactUpdatedEvent - update all user lists"),n.contactsInRoster=e,n.lastNameList=n.orderContacts("lastname"),n.firstNameList=n.orderContacts("firstname"),n.companyNameList=n.orderContacts("company"))},this.getLastNameList=function(){return n.lastNameList},this.getFirstNameList=function(){return n.firstNameList},this.getCompanyNameList=function(){return n.companyNameList},this.getAllRosterContacts=function(){return o.a.getContacts().filter((function(e){return e.displayName&&e.roster}))},this.addSeparators=function(e,t){var n=[],r="",o=0,i=null;return i="company"!==t?function(e){return e[t].charAt(0)}:function(e){return e.company.name},e.forEach((function(e){var t=i(e).toUpperCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"");r!==t&&(r=t,n.push({value:r,type:"separator",id:r,index:o++})),e.index=o++,n.push(e)})),n},this.orderContacts=function(e){var t=n.getOrderedUsers(n.contactsInRoster,e);return n.addSeparators(t,e)},this.getFilterAndOrderUsersGroupedByOrderLabel=function(e,t,r,o){o=Boolean(!0&o);var i=n.getFilterAndOrderUsers(e,t,r,o);return"firstname"===t?n.addSeparators(i,"firstname"):"company"===t?n.addSeparators(i,"company"):n.addSeparators(i,"lastname")},this.getFilterAndOrderUsersGroupedByOrderLabelAndUpdateActivity=function(e,t,r,o){o=Boolean(!0&o);var i=n.getFilterAndOrderUsers(e,t,r,o);return"firstname"===t?n.addSeparators(i,"firstname"):"company"===t?n.addSeparators(i,"company"):n.addSeparators(i,"lastname")},this.getFilterAndOrderUsers=function(e,t,r,o){var i=n.getFilteredUsers(e,r,o);return n.getOrderedUsers(i,t)},this.getFilteredUsers=function(e,t,n){var r;return r=(r=e.filter((function(e){if("separator"===e.type)return!0;var r=e.displayName&&e.roster||n,o="offline"!==e.status&&"wait"!==e.status&&"xa"!==e.status&&"unknown"!==e.status,i="wait"===e.status,s=e.isTerminated;return"online"===t?r&&o:"offline"===t?r&&!o&&!s:"pending"===t?r&&i:"all"===t?r&&!s:r}))).filter((function(e,t){return!!("separator"!==e.type||r[t+1]&&"separator"!==r[t+1].type)}))},this.getOrderedUsers=function(e,t){return e.sort((function(e,n){var r;if("lastname"===t)return 0===(r=e.lastname.localeCompare(n.lastname))?e.firstname.localeCompare(n.firstname):r;if("firstname"===t)return 0===(r=e.firstname.localeCompare(n.firstname))?e.lastname.localeCompare(n.lastname):r;if("company"===t){var o=e.company.name.localeCompare(n.company.name);return 0===o?e.lastname.localeCompare(n.lastname):o}return 0}))}}])},function(e,t,n){(function(e){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(18),i=n(18),s=n(54),a=n(3),l=n(5),c=n(0),u=n(25),d=n(4);class f{release(){URL.revokeObjectURL(this.url)}constructor(e,t){t&&(this.url=URL.createObjectURL(t)),this.fd=e}}t.LocalImage=f;class _{constructor(e,t,n,r,o,i,s){this.$q=e,this.$http=t,this.$injector=n,this.TransfertPromiseQueue=r,this.FileDescriptorEventHandler=o,this.errorHelperService=i,this.$rootScope=s,this.ONE_KILOBYTE=1024,this.ONE_MEGABYTE=1048576,this.ONE_GIGABYTE=1073741824,this.started=!1,this.thumbnailPromises=[],this.thumbnailPreviewPromises=[],this.authService=a.default,this.xmppService=l.default,this.logger=c.default,this.fileStorageService=u.default,this.centralizedService=null}start(e){return r(this,void 0,void 0,(function*(){try{this.logger.info("[FileServerService] === STARTING ==="),"caches"in self&&(this.cache=yield caches.open("RainbowImageCache"));const n=performance.now();this.started=!1,this.portalURL=config.restServerUrl+"/api/rainbow/fileserver/v1.0/files",yield this.getServercapabilities();try{this.centralizedService=this.$injector.get("centralizedService")}catch(t){}this.attachHandlers(),this.transfertPromiseQueue=this.TransfertPromiseQueue.create();const r=Math.round(performance.now()-n);e.push({service:"FileServerService",startDuration:r}),this.logger.info("[FileServerService] === STARTED ("+r+" ms) ===")}catch(t){this.logger.error("[FileServerService] === STARTING FAILURE === "+t.message)}}))}stop(){return r(this,void 0,void 0,(function*(){this.logger.info("[FileServerService] === STOPPING ==="),this.started&&(this.started=!1),this.logger.info("[FileServerService] === STOPPED ===")}))}reconnect(){this.attachHandlers()}attachHandlers(){this.removeHandlers(),this.fileDescriptorEventHandler=this.FileDescriptorEventHandler.create(this),this.fileMessageHandlerRef||(this.fileMessageHandlerRef=this.xmppService.addHandler(e=>(setTimeout(()=>{this.fileDescriptorEventHandler.onManagementMessageReceived(e)},250),!0),null,"message","management"))}removeHandlers(){this.fileDescriptorEventHandler=void 0,this.fileMessageHandlerRef=void 0}getFileRange(){return 4*this.ONE_MEGABYTE}getFileDescriptorPublicUrl(e){return r(this,void 0,void 0,(function*(){if(!e)return null;if(!this.centralizedService.isDesktopApp()&&e.publicUrl){this.logger.info(">getFileDescriptorPublicUrl: publicUrlExpirationDate="+d(e.publicUrlExpirationDate).format("DD-MM-YYYY_H_mm_ss")),this.logger.info(">getFileDescriptorPublicUrl: isDateExpired="+e.isPublicUrlExpired());const t=d(),n=d.duration(d(e.publicUrlExpirationDate).diff(t)).asSeconds();if(this.logger.info(">getFileDescriptorPublicUrl: date expiration="+n),n>1800)return e.publicUrl}try{const t=new URL(this.portalURL+"/"+e.id+"/temporary-url"),n=this.authService.getRequestHeader();n["Content-Type"]="application/json";const r=yield fetch(t.href,{method:"GET",headers:n});if(r.ok){const t=yield r.json();e.publicUrl=t.data.url;const n=d(t.data.expirationDate);return n.isValid()&&(e.publicUrlExpirationDate=n.toDate(),this.logger.info(">getFileDescriptorPublicUrl: Get PublicUrl Success, publicUrlExpirationDate="+d(e.publicUrlExpirationDate).format("DD-MM-YYYY_H_mm_ss"))),this.logger.info("Get PublicUrl Success"),e.publicUrl}return null}catch(t){throw this.logger.error("stopPstnConference - ERROR"),this.errorHelperService.handleError(t)}}))}getFileDescriptorUrl(e,t=!1,n=!1){return r(this,void 0,void 0,(function*(){try{let r=null;const o=new Request(`/rainbowImages/${t?"thumbnail/":""}${e.id}`);if(n&&this.cache){const e=yield this.cache.match(o);e&&(r=yield e.blob())}return r||(t?r=e.previewBlob?e.previewBlob:yield this.getBlobThumbnailFromFileDescriptor(e):(r=yield this.getBlobFromFileDescriptor(e,!1,null),!e.orientation&&e.isImage()&&(yield this.setImageOrientationForFileDescriptor(e,r).catch(()=>{}))),n&&this.cache&&this.cache.put(o,new Response(r))),URL.createObjectURL(r)}catch(r){throw new Error(`getFileDescriptorUrl(${e.id}, ${t}) -- failure -- ${r}`)}}))}removeFileDescriptorFromCache(e){this.cache&&(this.cache.delete("/rainbowImages/thumbnail/"+e.id),this.cache.delete("/rainbowImages/"+e.id))}clearCache(){return r(this,void 0,void 0,(function*(){this.cache&&(yield caches.delete("RainbowImageCache"),this.cache=yield caches.open("RainbowImageCache"))}))}getLocalImage(e,t,n=!0){return r(this,void 0,void 0,(function*(){try{let r=this.fileStorageService.getFileDescriptorById(e);r||(r=yield this.fileStorageService.retrieveAndStoreOneFileDescriptor(e)),r.fileName.includes("__rboriginal__")&&(t=!1);let o=null;return o=t&&r.previewBlob&&!n?r.previewBlob:t?yield this.getLargeBlobThumbnail(r):yield this.getBlobFromFileDescriptor(r,!1,null),new f(r,o)}catch(r){throw this.logger.warn(`[fileServerService] getFileLocalURL -- no file descriptor found with ${e} + " id.`),r}}))}getLargeBlobThumbnail(e){const t=e.url+"?thumbnail500=true";return this.getBlobFileDescriptorFromUrl(t,e)}getPartialDataFromServer(e,t,n,r,o,i,s){return this.$q((i,a)=>{this.$http({method:"GET",url:t,headers:this.authService.getRequestHeaderWithRange("bytes="+n+"-"+r),responseType:"arraybuffer",timeout:e.cancelTransfertDefer.promise,eventHandlers:{progress:t=>{if(e.loadingRef!==s)return void this.logger.info("[FileServerService] This load has been canceled - NTIA");const n=Math.floor(100*t.loaded/t.total);e&&(e.chunkPercentArray[o]=n,this.logger.info("[FileServerService] getPartialDataFromServer ProgressChunk: "+n),e.updateProgressInfo())}}}).then(e=>{i({data:e.data,index:o})},e=>{const t=this.errorHelperService.handleError(e),n=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(e.data))),r=this.errorHelperService.getLocalizedError(n.errorDetailsCode);this.logger.error(r),a(t)})})}getFileStorageService(){return this.fileStorageService}getBlobThumbnailFromFileDescriptor(e){if(e.thumbnail.isThumbnailAvailable()||e.isImage()){const t=this.$q.defer();let n=!1,s=e.url;if(e.thumbnail.isThumbnailAvailable()){if(this.thumbnailPreviewPromises[e.id])return this.logger.info("[FileServerService] getBlobThumbnailFromFileDescriptor preview for "+e.id+" already lauched"),this.thumbnailPreviewPromises[e.id].promise;this.thumbnailPreviewPromises[e.id]=t,s+="?thumbnail500=true"}else{if(this.thumbnailPromises[e.id])return this.logger.info("[FileServerService] getBlobThumbnailFromFileDescriptor full image update for "+e.id+" already lauched"),this.thumbnailPromises[e.id].promise;this.thumbnailPromises[e.id]=t,e.uploadedDate&&(s+="?update="+o.MD5(i.enc.Latin1.parse(e.uploadedDate)).toString(i.enc.Hex)),n=!0}return this.getBlobFileDescriptorFromUrl(s,e).then(o=>r(this,void 0,void 0,(function*(){(e=this.fileStorageService.getFileDescriptorById(e.id)).previewBlob?e.previewBlob&&!n&&(e.previewBlob=o):e.previewBlob=o,n||(e.previewDownloaded=!0),!e.orientation&&e.isImage()&&n&&(yield this.setImageOrientationForFileDescriptor(e,o).catch(()=>{})),e.previewBlobSubject.next(e.previewBlob),this.$rootScope.$broadcast("ON_FILE_TRANSFER_EVENT",{result:"success",type:"download",fileDesc:e});const r=n?this.thumbnailPromises:this.thumbnailPreviewPromises;r[e.id]&&r[e.id].resolve(e.previewBlob),delete r[e.id],t.resolve(o)}))).catch(r=>{this.$rootScope.$broadcast("ON_FILE_TRANSFER_EVENT",{result:"failure",type:"download",message:r.message,fileDesc:e}),delete(n?this.thumbnailPromises:this.thumbnailPreviewPromises)[e.id],t.reject(r)}),t.promise}return this.$q.reject("No available thumbnail")}getBlobFromFileDescriptor(e,t=!0,n=null){if(!e)return this.logger.warn("[FileServerService] getBlobFromFileDescriptor : missing file descriptor"),this.$q.reject();if(this.logger.info("[FileServerService] getBlobFromFileDescriptor: "+e.id),e.state!==s.FileState.UPLOADED)return this.logger.warn("[FileServerService] getBlobFromFileDescriptor : file is not in uploaded state="+e.state),this.$q.reject();let r=e.url;e.uploadedDate&&(r+="?update="+o.MD5(i.enc.Latin1.parse(e.uploadedDate)).toString(i.enc.Hex));let a=this.getFileRange();if(this.capabilities.maxChunkSizeDownload&&0!==e.size&&e.size>a){e.size>=100*a&&(a=e.size/100+this.ONE_KILOBYTE,this.logger.debug("[FileServerService] changing chunk size: "+a));const o=this.$q.defer(),i=new Array,l=[];e.state=s.FileState.DOWNLOADING,e.chunkTotalNumber=Math.ceil(e.size/a),e.chunkPerformedPercent=0,e.chunkWrittenInDisk=-1,e.chunkPercentArray=new Array(e.chunkTotalNumber),e.chunkPercentArray.fill(0);const c=++e.loadingRef;e.cancelTransfertDefer=this.$q.defer(),e.updateProgressInfo(),this.$rootScope.$broadcast("ON_FILE_TRANSFER_EVENT",{type:"download",fileDesc:e,cancelable:t}),this.logger.info("[FileServerService] getBlobFromFileDescriptor: need to download "+e.chunkTotalNumber+" chunks");for(let s=0,f=0,_=a-1,h=Math.ceil(e.size/a);h>0;s++,h--,f+=a,_+=a)_=_<e.size?_:e.size,l.push(()=>{var o=this.$q.defer();return this.getPartialDataFromServer(e,r,f,_,s,t,c).then(r=>{if(e.loadingRef===c)return e.updateProgressInfo(),this.logger.info("[FileServerService] getBlobFromFileDescriptor : chunk"+s+" downloaded"),this.logger.debug("[FileServerService] refreshFilePercent: chunkPerformedPercent="+e.chunkPerformedPercent),i[r.index]=r.data,this.writeAvailableChunksInDisk(e,i),this.$rootScope.$broadcast("ON_FILE_TRANSFER_EVENT",{type:"download",fileDesc:e,cancelable:t}),n?n(r,e.id).then(()=>o.resolve(r.data)):o.resolve(r);this.logger.info("[FileServerService] This load has been canceled - NTIA")}).catch(e=>{this.logger.info("[FileServerService] error on chunk download="+e),o.reject(e)}),o.promise});let u=()=>{if(e.loadingRef!==c)return void this.logger.info("[FileServerService] This load has been canceled - NTIA");this.logger.info("[FileServerService] getBlobFromFileDescriptor: promisesCompletion");const t=new Blob(i,{type:e.typeMIME});this.logger.info("[FileServerService] getBlobFromFileDescriptor success"),e.setState(s.FileState.UPLOADED),e.chunkTotalNumber=0,e.chunkPerformedPercent=0,e.updateProgressInfo(),this.writeAvailableChunksInDisk(e,i),e.writeStream&&(this.logger.info("[FileServerService] Close WriteStream"),e.writeStream.end()),this.$rootScope.$broadcast("ON_FILE_TRANSFER_EVENT",{type:"download",fileDesc:e}),o.resolve(t)};const d=t=>{if(e.loadingRef!==c)return void this.logger.info("[FileServerService] This load has been canceled - NTIA");const n=this.errorHelperService.handleError(t);e.setState(s.FileState.UPLOADED),e.chunkTotalNumber=0,e.chunkPerformedPercent=0;const r=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t.data))),i=this.errorHelperService.getLocalizedError(r.errorDetailsCode);this.logger.error(i),this.$rootScope.$broadcast("ON_FILE_TRANSFER_EVENT",{result:"failure",type:"download",message:i||n.message,fileDesc:e}),o.reject(n)};return this.transfertPromiseQueue.addPromiseArray(e.id,l,u,d),o.promise}return e.state=s.FileState.DOWNLOADING,this.getBlobFileDescriptorFromUrl(r,e).then(t=>(this.$rootScope.$broadcast("ON_FILE_TRANSFER_EVENT",{fileDesc:e}),this.$q.resolve(t))).catch(t=>(e.state=s.FileState.UPLOADED,this.$rootScope.$broadcast("ON_FILE_TRANSFER_EVENT",{fileDesc:e}),this.logger.info("[FileServerService] arrayPromise : error "+t.message),this.$q.reject(t)))}writeAvailableChunksInDisk(t,n){if(this.logger.debug("[FileServerService] >writeAvailableChunksInDisk"),!t.writeStream)return;const r=t.chunkWrittenInDisk+1;this.logger.debug("[FileServerService] >writeAvailableChunksInDisk : We start at "+r);for(let o=r;o<n.length;o++){if(!n[o]){this.logger.debug("[FileServerService] >writeAvailableChunksInDisk : Blob "+o+" NOT available");break}this.logger.debug("[FileServerService] >writeAvailableChunksInDisk : Blob "+o+" available"),t.chunkWrittenInDisk=o,t.writeStream.write(new e(n[o])),n[o]=null}}getBlobFileDescriptorFromUrl(e,t){return this.$q((n,r)=>{this.logger.debug("[FileServerService] >getBlobFileDescriptorFromUrl: "+e),t.chunkTotalNumber=1,t.chunkPerformedPercent=0,t.chunkPercentArray=new Array(t.chunkTotalNumber),t.chunkPercentArray.fill(0);const o=++t.loadingRef;t.cancelTransfertDefer=this.$q.defer(),t.updateProgressInfo(),this.$rootScope.$broadcast("ON_FILE_TRANSFER_EVENT",{fileDesc:t,cancelable:!1}),this.$http({method:"GET",url:e,headers:this.authService.getRequestHeader(),responseType:"arraybuffer",timeout:t.cancelTransfertDefer.promise,eventHandlers:{progress:e=>{t.loadingRef===o?(t.chunkPercentArray[0]=Math.floor(100*e.loaded/e.total),t.updateProgressInfo()):this.logger.info("[FileServerService] This load has been canceled - NTIA")}}}).then(e=>{if(t.loadingRef!==o)return void this.logger.info("[FileServerService] This load has been canceled - NTIA");const r=new Blob([e.data],{type:t.typeMIME});t.state=s.FileState.UPLOADED,t.chunkPerformedPercent=0,t.updateProgressInfo(),this.logger.debug("[FileServerService] getBlobFileDescriptorFromUrl success"),n(r)},e=>{if(t.loadingRef!==o)return void this.logger.info("[FileServerService] This load has been canceled - NTIA");t.state=s.FileState.UPLOADED;const n=this.errorHelperService.handleError(e);this.logger.error("[FileServerService] "+n.translatedMessage),r(n)})})}getBlobUrlAndOrientationByFileDescriptorId(e){return this.$q((t,n)=>{const r=this.fileStorageService.getFileDescriptorById(e);r?this.getBlobFromFileDescriptor(r,!1,null).then(n=>{const o={id:e,blob:n,blobUrl:URL.createObjectURL(n)};if(r.orientation)return o.orientation=r.orientation,r.blobOrientationSubject.next(o),void t(o);this.setImageOrientationForFileDescriptor(r,n).then(e=>{o.orientation=e,r.blobOrientationSubject.next(o),t(o)}).catch(()=>{r.blobOrientationSubject.next(o),t(o)})}).catch(e=>{n(e)}):(this.logger.error("[FileServerService] getBlobUrlAndOrientationById no file descriptor found for ID "+e),n(new Error("[FileServerService] getBlobUrlAndOrientationById no file descriptor found")))})}setImageOrientationForFileDescriptor(e,t){return new Promise((n,r)=>{if(!e||!e.isImage())return void r();const o=new FileReader;o.onload=t=>{e.orientation=1;const o=t.target.result,i=new DataView(o);if(65496!==i.getUint16(0,!1))return void r();const s=i.byteLength;let a=2;for(;a<s;){if(i.getUint16(a+2,!1)<=8)return void r();const t=i.getUint16(a,!1);if(a+=2,65505===t){if(1165519206!==i.getUint32(a+=2,!1))return void r();const t=18761===i.getUint16(a+=6,!1);a+=i.getUint32(a+4,t);const o=i.getUint16(a,t);a+=2;for(let r=0;r<o;r++)if(274===i.getUint16(a+12*r,t)){const o=i.getUint16(a+12*r+8,t);return e.orientation=o,void n(o)}}else{if(65280!=(65280&t))break;a+=i.getUint16(a,!1)}}r()},o.readAsArrayBuffer(t)})}uploadAFile(e,t,n){return this.$q((n,r)=>{const o=this.fileStorageService.getFileDescriptorById(e);o&&o.setState(s.FileState.UPLOADING),o.chunkPercentArray=new Array(o.chunkTotalNumber),o.chunkPercentArray.fill(0),o.cancelTransfertDefer=this.$q.defer(),this.$http({method:"PUT",url:this.portalURL+"/"+e,headers:this.authService.getPostHeader("application/octet-stream"),data:t,timeout:o.cancelTransfertDefer.promise,eventHandlers:{progress:e=>{const t=Math.floor(100*e.loaded/e.total);o&&(o.chunkPercentArray[0]=t,o.updateProgressInfo())}}}).then(t=>{const r=this.fileStorageService.getFileDescriptorById(e);r&&(r.setState(s.FileState.UPLOADED),o.updateProgressInfo()),this.logger.info("[FileServerService] uploadAFile success"),this.$rootScope.$broadcast("ON_FILE_TRANSFER_EVENT",{result:"success",type:"upload",fileDesc:r}),this.fileStorageService.orderDocuments(),n(r)},e=>{const t=this.errorHelperService.handleError(e);this.$rootScope.$broadcast("ON_FILE_TRANSFER_EVENT",{result:"failure",type:"upload",fileDesc:o}),o.state=s.FileState.NOT_UPLOADED,r(t),this.logger.error("[FileServerService] "+t.message)})})}sendPartialDataToServer(e,t,n,r,o,i,s){return this.$q((a,l)=>{this.$http({method:"PUT",url:this.portalURL+"/"+e.id+"/parts/"+o,headers:this.authService.getPostHeaderWithRange("bytes "+n+"-"+r+"/"+e.size,"application/octet-stream"),data:t,timeout:e.cancelTransfertDefer.promise,uploadEventHandlers:{progress:t=>{const n=Math.floor(100*t.loaded/t.total);e&&(e.chunkPercentArray[o]=n,e.updateProgressInfo(),this.logger.info("[FileServerService] sendPartialDataToServer chunk"+o+" percent="+n),this.logger.info("[FileServerService] sendPartialDataToServer total percent="+e.chunkPerformedPercent))}}}).then(n=>{const r=n.data.data;this.logger.info("[FileServerService] sendPartialDataToServer success"),this.calculateMd5(t,t=>{this.logger.info("[FileServerService] sendPartialDataToServer calculated checksum="+t),this.logger.info("[FileServerService] sendPartialDataToServer md5sum="+r.md5sum),r.md5sum.localeCompare(t)?(this.logger.error("[FileServerService] Wrong Checksum for chunk detected: "+r.md5sum+"/"+t),l({errorDetailsCode:500,message:"Wrong Checksum for chunk"})):(e.updateProgressInfo(),s&&s(i,e),this.$rootScope.$broadcast("ON_FILE_TRANSFER_EVENT",{fileDesc:e,cancelable:!0}),a(r))})},e=>{const t=this.errorHelperService.handleError(e);l(t),this.logger.error("[FileServerService] "+t.message)})})}calculateMd5(e,t){const n=new FileReader;n.readAsBinaryString(e),n.onloadend=()=>{t(o.MD5(i.enc.Latin1.parse(n.result)).toString(i.enc.Hex))}}uploadAFileByChunk(e,t,n,r){this.logger.info("[FileServerService] >uploadAFileByChunk");let o=this.getFileRange();if(o<t.size){t.size>=100*o&&(o=Math.round(t.size/100+this.ONE_KILOBYTE),this.logger.debug("[FileServerService] changing chunk size: "+o));const i=this.$q.defer();e.chunkTotalNumber=Math.ceil(t.size/o),e.chunkPerformedPercent=0,e.chunkPercentArray=new Array(e.chunkTotalNumber),e.chunkPercentArray.fill(0),e.state=s.FileState.UPLOADING,e.cancelTransfertDefer=this.$q.defer(),this.$rootScope.$broadcast("ON_FILE_TRANSFER_EVENT",{fileDesc:e,cancelable:!0});const a=[];for(let s=0,u=0,d=o-1,f=Math.ceil(t.size/o);f>0;s++,f--,u+=o,d+=o){const o=d<t.size?d:t.size,i=t.slice(u,o+1);a.push(()=>this.sendPartialDataToServer(e,i,u,o,s,n,r))}const l=()=>{this.$http({method:"PUT",url:this.portalURL+"/"+e.id+"/parts/end",headers:this.authService.getPostHeader("application/octet-stream")}).then(t=>{this.logger.info("[FileServerService] uploadAFileByChunk success"),e.setState(s.FileState.UPLOADED),e.chunkPerformed=0,e.chunkTotalNumber=0,e.chunkPerformedPercent=0,e.fileToSend=null,r&&r(n,e),this.$rootScope.$broadcast("ON_FILE_TRANSFER_EVENT",{result:"success",type:"upload",fileDesc:e}),this.fileStorageService.orderDocuments(),this.fileStorageService.retrieveUserConsumption(),i.resolve(e)},t=>{const n=this.errorHelperService.handleError(t);this.$rootScope.$broadcast("ON_FILE_TRANSFER_EVENT",{result:"failure",type:"upload",fileDesc:e}),e.state=s.FileState.NOT_UPLOADED,i.reject(n)})},c=t=>{const n=this.errorHelperService.handleError(t);this.$rootScope.$broadcast("ON_FILE_TRANSFER_EVENT",{result:"failure",type:"upload",fileDesc:e}),i.reject(n)};return this.transfertPromiseQueue.addPromiseArray(e.id,a,l,c),i.promise}return r&&r(n,e),this.uploadAFile(e.id,t,e.typeMIME).then(t=>(this.logger.info("[FileServerService] uploadAFile success"),r&&r(n,e),t.fileToSend=null,this.fileStorageService.retrieveUserConsumption(),this.$q.resolve(e)))}isTransferInProgress(){return this.transfertPromiseQueue&&this.transfertPromiseQueue.isTransferInProgress()}cancelAllTransfers(){this.transfertPromiseQueue&&this.transfertPromiseQueue.cancelAllTransfers()}cancelCurrentFiletransfer(e){const t=this.fileStorageService.getFileDescriptorById(e);t&&(t.cancelTransfertDefer&&t.cancelTransfertDefer.resolve(),t.state===s.FileState.UPLOADING?t.state=s.FileState.NOT_UPLOADED:t.state===s.FileState.DOWNLOADING&&(t.state=s.FileState.UPLOADED),t.progressSubject.next({})),this.transfertPromiseQueue&&this.transfertPromiseQueue.cancelCurrentFiletransfer(e)}getServercapabilities(){return this.$q((e,t)=>{this.$http({method:"GET",url:config.restServerUrl+"/api/rainbow/fileserver/v1.0/capabilities",headers:this.authService.getRequestHeader()}).then(t=>{this.logger.info("[FileServerService] getServercapabilities -- success"),this.capabilities=t.data.data,e(this.capabilities)},e=>{const n=this.errorHelperService.handleError(e);this.logger.error("[FileServerService] getServercapabilities "+n.message),t(n)})})}}_.$inject=["$q","$http","$injector","TransfertPromiseQueue","FileDescriptorEventHandler","errorHelperService","$rootScope"],t.FileServerService=_,angular.module("rainbow").service("fileServerService",_)}).call(this,n(57).Buffer)},function(e,t,n){t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),s=r[0],a=r[1],l=new i(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),u=0,d=a>0?s-4:s;for(n=0;n<d;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===a&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,l[u++]=255&t),1===a&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],s=0,a=n-o;s<a;s+=16383)i.push(u(e,s,s+16383>a?a:s+16383));return 1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)r[a]=s[a],o[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var o,i,s=[],a=t;a<n;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return s.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,o){var i,s,a=8*o-r-1,l=(1<<a)-1,c=l>>1,u=-7,d=n?o-1:0,f=n?-1:1,_=e[t+d];for(d+=f,i=_&(1<<-u)-1,_>>=-u,u+=a;u>0;i=256*i+e[t+d],d+=f,u-=8);for(s=i&(1<<-u)-1,i>>=-u,u+=r;u>0;s=256*s+e[t+d],d+=f,u-=8);if(0===i)i=1-c;else{if(i===l)return s?NaN:1/0*(_?-1:1);s+=Math.pow(2,r),i-=c}return(_?-1:1)*s*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var s,a,l,c=8*i-o-1,u=(1<<c)-1,d=u>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,_=r?0:i-1,h=r?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(s++,l/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(t*l-1)*Math.pow(2,o),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,o),s=0));o>=8;e[n+_]=255&a,_+=h,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;e[n+_]=255&s,_+=h,s/=256,c-=8);e[n+_-h]|=128*p}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){n.r(t);var r=n(2),o=n.n(r);angular.module("rainbow").factory("FileDescriptorEventHandler",["$log","$rootScope",function(e,t){function n(n){const r=this;this.fileServerService=n,this.fileStorageService=n.getFileStorageService(),r.onManagementMessageReceived=function(t){try{const n=$(t);return n.find("file").length>0?this.manageFileStanzaData(n.find("file")):n.find("thumbnail").length>0?this.manageThumbnailStanzaData(n.find("thumbnail")):e.info("[FileDescriptorEventHandler] onManagementMessageReceived  -- ignore the message"),!0}catch(n){return e.error("[FileDescriptorEventHandler] onManagementMessageReceived ERROR "+n),!0}},r.manageFileStanzaData=function(n){const i=$(n).attr("action"),s=$(n).find("fileid");let a=!1;for(let l=0;l<s.length;l++){const n=$(s[l]).text(),c=this.fileStorageService.getFileDescriptorById(n);switch(e.info("[FileDescriptorEventHandler] manageFileStanzaData -- "+i+" fileDescriptor "+n),i){case"create":e.debug("[FileDescriptorEventHandler] fileDescriptor "+n+" created on server -- do nothing");break;case"delete":c&&(c.ownerId===o.a.userContact.dbId&&"deleted"!==c.state&&(a=!0),this.fileStorageService.deleteFileDescriptorFromCache(n),this.fileStorageService.deleteVoiceMessageFileDescriptor(n),t.$broadcast("ON_FILE_REMOVED_FROM_STORE_EVENT",{fileId:n}));break;case"update":r.fileStorageService.retrieveAndStoreOneFileDescriptor(n,!0).then((function(n){e.info("[FileDescriptorEventHandler] fileDescriptor retrieved"),!n.ownerId===o.a.userContact.dbId&&this.fileStorageService.retrieveUserConsumption(),!n.previewBlob&&n.isThumbnailPossible()&&r.fileServerService.getBlobThumbnailFromFileDescriptor(n).then((function(e){n.previewBlob=e,n.previewBlobSubject.next(n.previewBlob),t.$broadcast("ON_FILE_DESCRIPTOR_RECEIVED_EVENT",{fileId:n.id})})).catch((function(t){e.error("[FileDescriptorEventHandler] fileDescriptor retrieve error : ",t)})),"isClean"===n.virusScanState&&(r.fileStorageService.updateAFileDescriptorLocally(n),t.$broadcast("ON_FILE_DESCRIPTOR_RECEIVED_EVENT",{fileId:n.id}))})),r.fileStorageService.retrieveAndStoreOneVoiceMessageFileDescriptor(n)}}a&&this.fileStorageService.retrieveUserConsumption()},r.manageThumbnailStanzaData=function(n){const o=$(n).attr("action"),i=$(n).find("fileid").text(),s=$(n).find("url").text(),a=$(n).find("mime").text(),l=$(n).find("size").text(),c=$(n).find("md5sum").text(),u=$(n).find("originalWidth").text(),d=$(n).find("originalHeight").text();e.info("[FileDescriptorEventHandler] manageThumbnailStanzaData -- "+o+" fileDescriptor "+i),e.debug("[FileDescriptorEventHandler]   fileUrl="+s),e.debug("[FileDescriptorEventHandler]   fileMime="+a),e.debug("[FileDescriptorEventHandler]   fileSize="+l),e.debug("[FileDescriptorEventHandler]   md5sum="+c),e.debug("[FileDescriptorEventHandler]   fileId="+i),"create"!==o&&"update"!==o||this.fileStorageService.retrieveAndStoreOneFileDescriptor(i).then((function(){const n=r.fileStorageService.getFileDescriptorById(i);n?(e.debug("[FileDescriptorEventHandler] updating Thumbnail of found FileDescriptor "+i),n.previewBlob&&!n.previewDownloaded||!n.previewBlob?(t.$broadcast("ON_FILE_DESCRIPTOR_THUMBNAIL_READY",n.id),n.thumbnail.availableThumbnail=!0,n.thumbnail.md5sum=c,n.thumbnail.size=l,u&&d&&n.setOriginalImageDimensions(u,d),e.info("[FileDescriptorEventHandler] preview not already downloaded for "+i+" -- download it"),r.fileServerService.getBlobThumbnailFromFileDescriptor(n).then((function(){t.$broadcast("ON_FILE_DESCRIPTOR_RECEIVED_EVENT",{fileId:n.id})}))):(t.$broadcast("ON_FILE_DESCRIPTOR_THUMBNAIL_READY",n.id),e.info("[FileDescriptorEventHandler] preview already downloaded for "+i+" -- do nothing"))):e.error("[FileDescriptorEventHandler] FileDescriptor not found and we do nothing and its not OK")})).catch((function(){e.error("[FileDescriptorEventHandler] FileDescriptor was not found on server...")}))}}return n.create=function(e){return new n(e)},n}])},function(e,t){angular.module("rainbow").service("extensionSharingService",["$q","$log","$rootScope",function(e,t,n){var r=this;this.extensionFound=!1,this.minVersion="1.5.1",this.port=null,this.currentStreamId="screen",this.start=function(){this.extensionId=this.extensionId||this.getExtensionId(config.webservices.server);var o=e.defer();return t.info("[extensionService] === STARTING ==="),window.chrome&&window.chrome.runtime?(t.info("[extensionService] Chrome extension - try to ping...",this.extensionId),chrome.runtime.sendMessage(this.extensionId,{type:"ping",data:null},null,(function(e){e&&"pong"===e.type?(t.info("[extensionService] Chrome extension - pong received"),t.info("[extensionService] Chrome extension - extension installed and detected"),t.info("[extensionService] Chrome extension - try to connect..."),r.port=chrome.runtime.connect(r.extensionId),r.port?(t.info("[extensionService] Chrome extension - port created"),r.port.onDisconnect.addListener((function(){t.info("Extension DISCONNECTED"),r.extensionFound=!1,r.port=null})),r.port.onMessage.addListener((function(e){switch(t.info("[extensionService] Chrome extension - connected"),e.type){case"loginResponse":r.extensionFound=!0,t.info("[extensionService] Chrome extension - ready!"),t.info("[extensionService] === STARTED ==="),n.$broadcast("ON_EXTENSION_SHARING_READY"),o.resolve();break;case"getVersionResponse":0===e.code&&e.version?(n.$broadcast("ON_EXTENSION_VERSION_UPDATED",e.version),t.info("[extensionService] Chrome extension - Detected version "+e.version)):(n.$broadcast("ON_EXTENSION_VERSION_UPDATED",null),t.error("[extensionService] Chrome extension - No version received"));break;case"startsharingResponse":0===e.code&&e.streamID?(t.info("[extensionService] Chrome extension - stream ID received "+e.streamID),n.$broadcast("ON_EXTENSION_SHARING_STREAM_FOUND",e.streamID)):(t.info("[extensionService] Chrome extension - No stream ID received"),n.$broadcast("ON_EXTENSION_SHARING_STREAM_FOUND",null));break;case"endsharingResponse":t.info("[extensionService] Chrome extension - end sharing session received")}})),r.port.postMessage({type:"login",data:null})):(t.info("[extensionService] Chrome extension - can't create port to contact the extension!!!"),t.info("[extensionService] === STARTED ==="),o.resolve())):(t.info("[extensionService] Chrome extension - not found"),chrome.runtime.lastError&&t.info("[extensionService] Chrome extension - error "+chrome.runtime.lastError),o.resolve())}))):(t.info("[extensionService] Not in chrome"),t.info("[extensionService] === STARTED ==="),o.resolve()),o.promise},this.stop=function(){return t.info("[extensionService] === STOPPING ==="),t.info("[extensionService] === STOPPED ==="),e.when()},this.getExtensionId=function(e){return t.info("Detected domain : "+e),-1!==e.indexOf("openrainbow.net")?"koefhabbjedbiecnldkolbijjfjinogj":-1!==e.indexOf("openrainbow.org")?"ehamhlkmecdnidihfedapmplddlbidee":(-1!==e.indexOf("openrainbow.com")||t.error("Unkown domain, extension may not be available"),"mgneongoclkopahpapenfhbbeckhdmnj")},this.setExtensionId=function(e){t.info("set extensionId to : "+e),this.extensionId=e},this.getStreamToShareFromExtension=function(t){var o=e.defer(),i=n.$on("ON_EXTENSION_SHARING_STREAM_FOUND",(function(e,n){r.currentStreamId=n,i(),n?(t.video.mandatory.chromeMediaSourceId=n,o.resolve()):o.reject()}));return this.port.postMessage({type:"startsharing",data:null}),o.promise},this.getStreamId=function(){return this.currentStreamId},this.isExtensionInstalled=function(){var t=e.defer();return this.extensionFound?t.resolve(!0):this.start().then((function(){t.resolve(r.extensionFound)})),t.promise},this.getExtensionVersion=function(){var t=e.defer(),r=n.$on("ON_EXTENSION_VERSION_UPDATED",(function(e,n){r(),n?t.resolve(n):t.reject()}));return this.port.postMessage({type:"getVersion",data:null}),t.promise},this.checkExtensionStatus=function(){var t=e.defer();return"chrome"!==adapter.default.browserDetails.browser?t.resolve("notNeeded"):this.isExtensionInstalled().then((function(e){e?r.checkVersion().then((function(e){e?t.resolve("good"):t.resolve("needUpdate")})):t.resolve("notInstalled")})),t.promise},this.checkVersion=function(){var t=e.defer();return this.getExtensionVersion().then((function(e){t.resolve(r.cmpVersions(e,r.minVersion)>=0)})),t.promise},this.cmpVersions=function(e,t){var n,r,o=/(\.0+)+$/,i=e.replace(o,"").split("."),s=t.replace(o,"").split("."),a=Math.min(i.length,s.length);for(n=0;n<a;n++)if(r=parseInt(i[n],10)-parseInt(s[n],10))return r;return i.length-s.length}}])},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(27),i=n(2),s=n(6),a=n(3),l=n(11),c=n(24),u=n(5),d=n(7),f=n(34);class _{constructor(e,t,n,r,o,c,_,h,p,m){this.$q=e,this.$rootScope=t,this.$log=n,this.$http=r,this.$interval=o,this.videoService=c,this.errorHelperService=_,this.ConferenceSession=h,this.platformService=p,this.Conference=m,this.MEDIATYPE={WEBRTC:"webrtc",WEBRTCSHARINGONLY:"webrtcSharingOnly",PSTNAUDIO:"pstnAudio"},this.xmppConnectionSubscription=null,this.started=!1,this.webConferenceRoom=null,this.webrtcConferenceId=null,this.webrtcSharingOnlyRoom=null,this.webrtcSharingOnlyConferenceId=null,this.jingleJid=null,this.makingCall=!1,this.mozaicViewModeValue=!0,this.connected=!1,this.disconnecting=!1,this.reconnecting={},this.audioProfileChanging=!1,this.activeSpeaker=!1,this.disableAutoUpdateSubstreamLevels=!1,this.disableAutoFillForGalleryElements=!1,this.addingMedia=!1,this.settingsService=s.default,this.authService=a.default,this.xmppService=u.default,this.profileService=d.default,this.contactService=i.default,this.roomService=f.default,this.conferenceEndpoints={},this.conferenceSessions={},this.rxSubject=new l.Subject,this.attachLocalMediaStream=(e,t)=>{if(e){let e=!1;if((t.hasLocalVideo||t.hasLocalSharing)&&(e=this.hasRemoteVideoOrSharingSession(t.id)),t.hasLocalVideo){const n=t.sessions[t.localVideoSessionId];if(n){const r=t.localStreams[n.localStreamId];e||t.hasLocalSharing||this.videoService.RTC.attachMediaStreamIfNeeded(angular.element("#largevideo"),r,n.sid),this.videoService.RTC.attachMediaStreamIfNeeded(angular.element("#conferenceVideoPip"),r,n.sid)}}if(t.hasLocalSharing){const n=t.sessions[t.localSharingSessionId];if(n){const r=t.localStreams[n.localStreamId];e?this.videoService.RTC.attachMediaStreamIfNeeded(angular.element("#conferenceSharingPip"),r,n.sid):this.videoService.RTC.attachMediaStreamIfNeeded(angular.element("#largevideo"),r,n.sid)}}}else this.videoService.RTC.clearMediaStream(angular.element("#minivideo"),null)}}start(e){return this.contactService.userContact&&!this.contactService.userContact.roomsEnabled?(this.$log.info("[WebConferenceService] === start skipped - roomsEnabled : "+this.contactService.userContact.roomsEnabled),this.$q.when()):this.$q(t=>{const n=performance.now();this.$log.info("[WebConferenceService] === STARTING ==="),this.confProvPortalURL=config.restServerUrl+"/api/rainbow/confprovisioning/v1.0/",this.confPortalURL=config.restServerUrl+"/api/rainbow/conference/v1.0/conferences/",this.conferenceEndpoints={},this.conferenceSessions={},this.listeners=[],this.statsIntervals=[],this.connected=!0,this.disconnecting=!1,this.webConferenceRoom=null,this.webrtcConferenceId=null,this.webrtcSharingOnlyRoom=null,this.webrtcSharingOnlyConferenceId=null,this.jingleJid=null,this.makingCall=!1,this.videoGalleryElements=[],this.activeSpeaker=this.profileService.isFeatureEnabled(this.profileService.FeaturesEnum.BUBBLE_ACTIVE_SPEAKER),this.attachHandlers(),this.videoGalleryElementsNumber=5,this.started=!0;const r=Math.round(performance.now()-n);e.push({service:"WebConferenceService",startDuration:r}),this.$log.info("[WebConferenceService] === STARTED ("+r+" ms) ==="),t()})}stop(){return this.contactService.userContact&&!this.contactService.userContact.roomsEnabled?(this.$log.info("[WebConferenceService] === stop skipped - roomsEnabled : "+this.contactService.userContact.roomsEnabled),this.$q.when()):(this.$log.info("[WebConferenceService] === STOPPING ==="),this.started=!1,this.makingCall=!1,this.xmppConnectionSubscription&&this.xmppConnectionSubscription.unsubscribe(),this.listeners&&this.listeners.forEach(e=>{e()}),this.$log.info("[WebConferenceService] === STOPPED ==="),this.$q.when())}attachHandlers(){this.listeners.push(this.$rootScope.$on("ON_INPUT_DEVICE_CHANGED_EVENT",()=>{this.onAudioProfileChangeEvent()})),this.xmppConnectionSubscription=this.xmppService.subscribeToConnectionEvents(e=>{this.$log.info("[WebConferenceService] onConnectionStateChangeEvent : "+e.name);try{"ON_XMPP_DISCONNECTED"===e.name?(this.$log.info("[WebConferenceService] onConnectionStateChangeEvent : disconnected"),this.connected=!1):"ON_XMPP_CONNECTED"===e.name&&(this.$log.info("[WebConferenceService] onConnectionStateChangeEvent : connected"),this.connected=!0,this.reconnectAllActiveConferenceSessions())}catch(t){this.$log.info("[WebConferenceService] onConnectionStateChangeEvent error : "+t)}})}reconnectAllActiveConferenceSessions(){Object.keys(this.conferenceSessions).forEach(e=>{const t=this.conferenceSessions[e];if(t.haveJoined&&t.isActive())for(const[n,r]of Object.entries(t.sessions))"audio"===r.localType?(this.$log.info("[WebConferenceService] -- reconnectAllActiveConferenceSessions -- try to reconnect the audio session : "+n),this.sendTransportReplaceForSession(r,1e3)):t.localVideoSessionId===n?(this.$log.info("[WebConferenceService] -- reconnectAllActiveConferenceSessions -- try to reconnect the local video session : "+n),this.sendTransportReplaceForSession(r,2e3)):t.localSharingSessionId===n?(this.$log.info("[WebConferenceService] -- reconnectAllActiveConferenceSessions -- try to reconnect the local sharing session : "+n),this.sendTransportReplaceForSession(r,3e3)):"video"===r.remoteType?setTimeout((e,t)=>{t&&this.connected&&e&&e.isActive()?(e.videoGallery||(this.createVideoGalleryElements(e.conferenceView),e.videoGallery=this.videoGalleryElements),!t.peerconnection||"stable"!==t.peerconnection.signalingState||"failed"!==t.peerconnection.iceConnectionState&&"disconnected"!==t.peerconnection.iceConnectionState?this.$log.info("[WebConferenceService] -- reconnectAllActiveConferenceSessions -- video session is already connected "+t.sid):(this.$log.info("[WebConferenceService] -- reconnectAllActiveConferenceSessions -- try to reconnect the video session : "+t.sid),this.xmppService.connection.jingle.terminate(t.sid),this.updateStatisticsForSession(e.id,t.sid),delete this.videoService.callsStats[t.sid],e.videoGallery.forEach(e=>{e.sessionId===t.sid&&(e.sessionId="")}),delete e.sessions[t.sid],this.resubscribeToSessions(e))):this.$log.info("[WebConferenceService] -- reconnectAllActiveConferenceSessions -- : missing conference or video session")},3e3,t,r):"sharing"===r.remoteType&&setTimeout((e,n)=>{n&&this.connected&&e&&e.isActive()?!n.peerconnection||"stable"!==n.peerconnection.signalingState||"failed"!==n.peerconnection.iceConnectionState&&"disconnected"!==n.peerconnection.iceConnectionState?this.$log.info("[WebConferenceService] -- reconnectAllActiveConferenceSessions -- sharing session is already connected "+n.sid):(this.$log.info("[WebConferenceService] -- reconnectAllActiveConferenceSessions -- try to reconnect the sharing session : "+n.sid),this.xmppService.connection.jingle.terminate(n.sid,"icefailed"),this.updateStatisticsForSession(e.id,n.sid),delete this.videoService.callsStats[n.sid],this.removeSessionFromVideoGallery(e,n.sid),delete t.sessions[n.sid],this.$rootScope.$broadcast("ON_CONFERENCE_UPDATED_EVENT",e)):this.$log.info("[WebConferenceService] -- reconnectAllActiveConferenceSessions -- : missing conference or sharing session")},2e3,t,r)})}subscribe(e){return this.rxSubject.subscribe(e)}sendEvent(e,t=null){this.rxSubject.next(c.RBEvent.create(e,t))}retrieveWebConferences(e=this.MEDIATYPE.WEBRTC){return this.$log.info("[WebConferenceService] retrieveWebConferences with mediaType="+e),this.$q((t,n)=>{if(!this.profileService.isFeatureEnabled(this.profileService.FeaturesEnum.WEBRTC_CONFERENCE_ALLOWED)&&e!==this.MEDIATYPE.WEBRTCSHARINGONLY)return this.$log.warn("[WebConferenceService] retrieveWebConferences - user is not allowed"),void n(new Error("notAllowed"));const r="?scheduled=false&format=full&userId="+this.contactService.userContact.dbId;this.$http({method:"GET",url:this.confProvPortalURL+"conferences"+r,headers:this.authService.getRequestHeader()}).then(e=>{const n=e.data.data;this.$log.info("[WebConferenceService] retrieveWebConferences successfully");for(const t of n)switch(t.mediaType){case this.MEDIATYPE.WEBRTC:case this.MEDIATYPE.WEBRTCSHARINGONLY:this.updateOrCreateWebConferenceEndpoint(t);break;case this.MEDIATYPE.PSTNAUDIO:}t(n)},e=>{const t="retrieveWebConferences failure: "+(e.data?e.data.errorDetails:e.data);this.$log.error("[WebConferenceService] "+t),n(new Error(t))})})}updateSubstreamLevelForPublisher(e,t,n,r){return e&&t&&n&&r?(this.$log.info("[WebConferenceService] updateSubstreamLevelForPublisher(confId="+e+" participantId="+t+" publisherId="+r.publisherId+" level="+n+")"),r.simulcast&&r.subStreamLevel!==n?this.$q((o,i)=>{if(!this.conferenceSessions[e])return this.$log.error("[WebConferenceService] updateSubstreamLevelForPublisher - no corresponding conference session to update"),void i();const s=r.subStreamLevel;r.subStreamLevel=n;const a={option:"update",mediaType:"webrtc",publisherId:r.publisherId?r.publisherId:void 0,subStreamLevel:n};this.$http({method:"PUT",url:this.confPortalURL+e+"/participants/"+t,headers:this.authService.getRequestHeader(),data:a}).then(i=>{const s=i.data;r.subStreamLevel=n,this.$log.info("[WebConferenceService] updateSubstreamLevelForPublisher( confId="+e+" participantId="+t+" publisherId="+r.publisherId+" level="+n+") successfully"),o(s)},n=>{const o=n.data?n.data.errorDetails:n.data,a="updateSubstreamLevelForPublisher( confId="+e+" participantId="+t+") failure: "+o;this.$log.error("[WebConferenceService] "+a),r.subStreamLevel=s,i(new Error(a))})}):(this.$log.info("[WebConferenceService] updateSubstreamLevelForPublisher - already at same level "+(r.simulcast?"":"(no simulcast proposed)")),this.$q.resolve())):(this.$log.error("[WebConferenceService] updateSubstreamLevelForPublisher - missing a parameter"),this.$q.reject())}updateConference(e,t){return this.$log.info("[WebConferenceService] updateConference"),this.$q((n,r)=>{if(e)this.$http({method:"PUT",url:this.confProvPortalURL+"conferences/"+e,headers:this.authService.getRequestHeader(),data:t}).then(e=>{const t=e.data.data,r=this.Conference.createFromData(t);t.hasOwnProperty("id")&&(this.conferenceEndpoints[t.id]&&delete this.conferenceEndpoints[t.id],this.conferenceEndpoints[t.id]=r),this.$log.info("[WebConferenceService] updateConference successfully"),n(r)},e=>{const t="updateConference failure: "+(e.data?e.data.errorDetails:e.data);this.$log.error("[WebConferenceService] "+t),r(new Error(t))});else{const e="updateConference failure: No confEndpoint";this.$log.error("[WebConferenceService] updateConference failure : No confEndpoint"),r(new Error(e))}})}createVideoGalleryElements(e="gallery_view"){this.videoGalleryElements=[];let t=0;if(t=e===this.ConferenceSession.ConferenceView.SpeakerView?0:e===this.ConferenceSession.ConferenceView.GalleryView?this.videoGalleryElementsNumber:12,this.activeSpeaker){const e={state:"free",sessionId:"",id:"videoGallery_0",publisherId:"",subStreamLevel:null,activeSpeaker:!0,hold:!1};this.videoGalleryElements.push(e)}for(let n=1;n<=t;n++){const e={state:"free",sessionId:"",id:"videoGallery_"+n,publisherId:"",publisherJid:"",subStreamLevel:null,hold:!1};this.videoGalleryElements.push(e)}if(this.activeSpeaker&&this.mozaicViewModeValue)for(let n=t+1;n<=12;n++){const e={state:"busy",sessionId:"",id:"videoGallery_"+n,publisherId:"",publisherJid:"",subStreamLevel:null,hold:!1};this.videoGalleryElements.push(e)}}updateVideoGalleryElementsState(e,t,n){if(!this.activeSpeaker)return t;if("true"===this.settingsService.getSetting("sfuDisableHold"))return t;let r=0,o=0;n===this.ConferenceSession.ConferenceView.SpeakerView?(r=0,o=0):n===this.ConferenceSession.ConferenceView.GalleryView?(r=0,o=this.videoGalleryElementsNumber):(r=1,o=12);for(let i=0;i<r;i++)if("free"===t[i].state)t[i].state="busy";else if("busy"===t[i].state&&t[i].sessionId&&!t[i].hold){const n=e.sessions[t[i].sessionId];n&&n.sendHold(!0),t[i].hold=!0}for(let i=r;i<=o;i++)if("busy"!==t[i].state||t[i].sessionId||t[i].publisherId){if("busy"===t[i].state&&t[i].sessionId&&t[i].hold){t[i].hold=!1;const n=e.sessions[t[i].sessionId];n&&n.sendHold(!1)}}else t[i].state="free";for(let i=o+1;i<=12;i++)if("free"===t[i].state)t[i].state="busy";else if("busy"===t[i].state&&t[i].sessionId&&!t[i].hold){t[i].hold=!0;const n=e.sessions[t[i].sessionId];n&&n.sendHold(!0)}return t}holdOrUnholdHiddenSessions(e,t,n){if(!this.activeSpeaker)return t;const r=this.videoGalleryElementsNumber;for(let o=1;o<=r;o++)if("busy"!==t[o].state||t[o].sessionId||t[o].publisherId||(t[o].state="free"),n&&"busy"===t[o].state&&t[o].sessionId&&!t[o].hold&&!t[o].pinned){t[o].hold=!0;const n=e.sessions[t[o].sessionId];n&&n.sendHold(!0)}else if(!n&&"busy"===t[o].state&&t[o].sessionId&&t[o].hold){t[o].hold=!1;const n=e.sessions[t[o].sessionId];n&&n.sendHold(!1)}return t}setVideoGalleryElementsNumber(e){this.videoGalleryElementsNumber=e}setActiveSpeakerValue(e){this.activeSpeaker=e}setMozaicViewModeValue(e){this.mozaicViewModeValue=e}isActiveSpeakerEnabled(){return this.activeSpeaker}getConferenceSessions(){return this.conferenceSessions}getConferenceEndpoints(){return this.conferenceEndpoints}addConferenceEndpoint(e,t){e?this.conferenceEndpoints[e]=t:this.$log.warn("[WebConferenceService] addConferenceEndpoint - missing conferenceEndpointId")}getConferenceIdToUse(e,t=this.MEDIATYPE.WEBRTC){const n=this.getPontConfIdForRoom(e,t);if(n)return n;switch(t){case this.MEDIATYPE.WEBRTC:if(e.isUserModerator(this.contactService.userContact)&&this.webrtcConferenceId)return this.webrtcConferenceId;break;case this.MEDIATYPE.WEBRTCSHARINGONLY:if(e.owner&&this.webrtcSharingOnlyConferenceId)return this.webrtcSharingOnlyConferenceId}return""}isMyConference(e){return e&&(this.webrtcConferenceId&&e===this.webrtcConferenceId||this.webrtcSharingOnlyConferenceId&&e===this.webrtcSharingOnlyConferenceId)}bubbleDeclineInvitationForWebConference(e){return this.$q((t,n)=>{if(!e){const e=new Error("[webConferenceService] bubbleDeclineInvitationForWebConference error - missing parameters for room");return this.$log.error(e.message),void n(e)}const r=this.getConferenceIdToUse(e,this.MEDIATYPE.WEBRTC);if(!r){const e=new Error("[webConferenceService] bubbleDeclineInvitationForWebConference error - no available pont conference");return this.$log.error(e.message),void n(e)}this.$http({method:"PUT",url:this.confPortalURL+r+"/reject",headers:this.authService.getRequestHeader(),data:{mediaType:this.MEDIATYPE.WEBRTC,roomId:e.dbId}}).then(()=>{this.$log.debug("[webConferenceService] bubbleDeclineInvitationForWebConference - success -- "),t()},e=>{this.makingCall=!1,this.$log.error("[webConferenceService] bubbleDeclineInvitationForWebConference - error on server"),n(this.errorHelperService.handleError(e))})})}bubbleStartOrJoinWebConference(e){return this.$q((t,n)=>{if(!e){const e=new Error("[webConferenceService] bubbleStartOrJoinWebConference error - missing parameters for room");return this.$log.error(e.message),void n(e)}const r=this.getConferenceIdToUse(e,this.MEDIATYPE.WEBRTC);this.isMyConference(r)?this.bubbleStartWebConference(e).then(()=>{t()}).catch(()=>{n()}):this.bubbleJoinWebConference(e).then(()=>{t()}).catch(e=>{n(e)})})}bubbleStartWebConference(e){return this.$q((t,n)=>{if(!e){const e=new Error("[webConferenceService] bubbleStartWebConference error - missing parameters for room");return this.$log.error(e.message),void n(e)}const r=this.getConferenceIdToUse(e,this.MEDIATYPE.WEBRTC);if(!r){const e=new Error("[webConferenceService] bubbleStartWebConference error - no available pont conference");return this.$log.error(e.message),void n(e)}if(this.makingCall)return this.$log.warn("[webConferenceService] already starting a conference"),this.$q.resolve();this.$log.info("[WebConferenceService] bubbleStartWebConference "+r),this.makingCall=!0;const o=this.conferenceSessions[r];if(o&&o.active)return this.$log.info("[webConferenceService] bubbleStartWebConference - No need to start an already active conference"),void t(this.joinWebConference(r,"moderator",!1));const i=this.ConferenceSession.createFromData(r,[],!1,"webrtc");i.status="ringing",i.roomId=e.dbId,i.isMyConference=!0,this.conferenceSessions[r]=i,this.$rootScope.$broadcast("ON_CONFERENCE_UPDATED_EVENT",this.conferenceSessions[r]),this.$http({method:"PUT",url:this.confPortalURL+r+"/start",headers:this.authService.getRequestHeader(),data:{mediaType:this.MEDIATYPE.WEBRTC,roomId:e.dbId}}).then(()=>(this.$log.info("[webConferenceService] startWebConference - success -- now joining the conference"),t(this.joinWebConference(r,"moderator",!1))),e=>{this.makingCall=!1;let t="[webConferenceService] startWebConference - error on server, can't start conference -- ",o="startMeetingFailure";e&&((403620===e.errorDetailsCode||e.data&&403620===e.data.errorDetailsCode)&&(o="startMeetingConflict"),e.errorDetailsLabel?t+=e.errorDetailsLabel:e.data&&(t+=e.data.errorDetailsCode+" "+e.data.errorMsg)),this.$log.error(t),this.$rootScope.$broadcast("ON_OPEN_GLOBAL_POPUP",{popupTitle:"startConference",popupBody:o,okLabel:"ok"}),this.leaveWebConference(r),this.removeConferenceSession(r),n(this.errorHelperService.handleError(e)),this.$log.error("[webConferenceService] startWebConference "+this.errorHelperService.getErrorFullMessage(e))})})}bubbleJoinWebConference(e){return this.$q((t,n)=>{if(!e){const e=new Error("[webConferenceService] bubbleJoinWebConference error - missing parameters for room");return this.$log.error(e.message),void n(e)}const r=this.getConferenceIdToUse(e,this.MEDIATYPE.WEBRTC);if(!r){const e=new Error("[webConferenceService] bubbleJoinWebConference error - no available pont conference");return this.$log.error(e.message),void n(e)}if(this.makingCall)return this.$log.warn("[webConferenceService] already joining a conference"),this.$q.resolve();this.$log.info("[WebConferenceService] bubbleJoinWebConference "+r),this.makingCall=!0,this.$rootScope.$broadcast("ON_CONFERENCE_ENDED_INVITATION",e);let o=this.conferenceSessions[r];o||(o=this.ConferenceSession.createFromData(r,[],!1,"webrtc")),o.status="ringing",o.roomId=e.dbId,this.conferenceSessions[r]=o,this.$rootScope.$broadcast("ON_CONFERENCE_UPDATED_EVENT",this.conferenceSessions[r]);const i=this.isMyConference(r)?"moderator":"member";this.joinWebConference(r,i).then(()=>{t()}).catch(()=>{n()})})}startOrJoinWebConference(e){return this.$q((t,n)=>{if(!e){const e=new Error("[webConferenceService] startOrJoinWebConference error - missing parameters for room");return this.$log.error(e.message),void n(e)}const r=this.getConferenceIdToUse(e,this.MEDIATYPE.WEBRTC);if(!r){const e=new Error("[webConferenceService] startOrJoinWebConference error - no available pont conference");return this.$log.error(e.message),void n(e)}if(this.$log.info("[WebConferenceService] startOrJoinWebConference -- "+r),this.makingCall)return this.$log.warn("[webConferenceService] already starting a conference"),this.$q.resolve();this.makingCall=!0,this.makeSnapshotForConfId(r,this.MEDIATYPE.WEBRTC).then(()=>{const o=this.conferenceSessions[r];if(!(this.isMyConference(r)||o&&o.active)){const e=new Error("[webConferenceService] startOrJoinWebConference error - no active conference to join");return this.$log.error(e.message),n(e),void(this.makingCall=!1)}const i=this.isMyConference(r)?"moderator":"member";o&&o.active?(this.$rootScope.$broadcast("ON_CONFERENCE_ENDED_INVITATION",e),t(this.joinWebConference(r,i))):t(this.startWebConference(e,r))},()=>{this.makingCall=!1;const e=new Error("[webConferenceService] startOrJoinWebConference error on snapshot");this.$log.error(e.message),n(e)})})}startWebConference(e,t,n=!1){return t&&e?(this.makingCall=!0,this.$log.info("[webConferenceService] startWebConference wtih ID "+t),this.$q(e=>{n?(this.$log.debug("[webConferenceService] startWebConference - trigger snapshot for "+t),e(this.makeSnapshotForConfId(t,this.MEDIATYPE.WEBRTC))):e()}).then(()=>this.conferenceSessions[t].active?(this.$log.info("[webConferenceService] startWebConference - No need to start an already active conference"),this.joinWebConference(t,"moderator",!1)):(this.conferenceSessions[t].status="ringing",this.$rootScope.$broadcast("ON_CONFERENCE_UPDATED_EVENT",this.conferenceSessions[t]),this.$http({method:"PUT",url:this.confPortalURL+t+"/start",headers:this.authService.getRequestHeader(),data:{mediaType:this.MEDIATYPE.WEBRTC,roomId:e.dbId}}).then(()=>(this.$log.info("[webConferenceService] startWebConference - success -- now joining the conference"),this.joinWebConference(t,"moderator",!1)),e=>{throw this.makingCall=!1,this.$log.error("[webConferenceService] startWebConference wtih ID "+t+" failure ... -- "+this.errorHelperService.getErrorFullMessage(e)),this.leaveWebConference(t),this.removeConferenceSession(t),this.errorHelperService.handleError(e)}))).catch(e=>{this.makingCall=!1;let t="[webConferenceService] startWebConference - error on server, can't start conference -- ",n="startMeetingFailure";return e&&(403620===e.errorDetailsCode&&(n="startMeetingConflict"),e.errorDetailsLabel&&(t+=e.errorDetailsLabel)),this.$log.error(t),this.$rootScope.$broadcast("ON_OPEN_GLOBAL_POPUP",{popupTitle:"startConference",popupBody:n,okLabel:"ok"}),this.$q.reject(e)})):(this.$log.error("[startWebConference] No webPontConferenceId or Room!"),this.$rootScope.$broadcast("ON_OPEN_GLOBAL_POPUP",{popupTitle:"startConference",popupBody:"startMeetingFailure",okLabel:"ok"}),this.$q.reject())}joinWebConference(e,t,n=!1){return this.$log.info("[webConferenceService] joinWebConference with ID "+e+" and role "+t),e?this.$q(t=>{n?(this.$log.debug("[webConferenceService] joinWebConference - trigger snapshot for "+e),t(this.makeSnapshotForConfId(e,this.MEDIATYPE.WEBRTC))):t()}).then(()=>this.$q((n,r)=>{this.makingCall=!0,this.createVideoGalleryElements(this.conferenceSessions[e].conferenceView),this.conferenceSessions[e].videoGallery=this.videoGalleryElements,"ringing"!==this.conferenceSessions[e].status&&(this.conferenceSessions[e].status="ringing",this.$rootScope.$broadcast("ON_CONFERENCE_UPDATED_EVENT",this.conferenceSessions[e]));const i="web_"+o(),s=this.profileService.isFeatureEnabled(this.profileService.FeaturesEnum.WEBRTC_CONFERENCE_ALLOWED),a=this.confPortalURL+e+"/join",l={participant:{role:t,type:"unmuted"},mediaType:this.MEDIATYPE.WEBRTC,delegateCapability:s};this.videoService.config&&this.videoService.config.dc&&(l.dc=this.videoService.config.dc),this.getUserMediaForSession(e).then(t=>{t&&"noMic"===t&&(l.microphone=!1),this.$http({method:"POST",url:a,headers:this.authService.getRequestHeader(),data:l}).then(t=>{const r=t.data.data;this.jingleJid=r.jingleJid;const o=r.transportTurn;this.initCall(this.jingleJid,e,i,this.MEDIATYPE.WEBRTC,o),this.conferenceSessions[e].haveJoined=!0,this.makingCall=!1,n()},t=>{if(t){const n=t.data?t.data.errorDetails:t.data,r="joinWebConference( confId="+e+") failure: "+n;this.$log.error("[webConferenceService] "+r)}this.makingCall=!1;const n={popupTitle:"warning",popupBody:"joinMeetingFailure",okLabel:"ok"};t&&t.data&&403615===t.data.errorDetailsCode&&(n.popupBody="maximumNumberConferenceParticipantsReach"),t&&t.data&&403060===t.data.errorDetailsCode&&(n.popupBody="lockedConferenceError"),this.leaveWebConference(e),delete this.conferenceSessions[e],this.$rootScope.$broadcast("ON_OPEN_GLOBAL_POPUP",n),r(this.errorHelperService.handleError(t))})}).catch(t=>{this.$log.error("[webConferenceService] joinWebConference - getUserMediaForSession reject -- "+t),this.makingCall=!1,"ignore"!==t&&this.leaveWebConference(e),r()})})).catch(()=>(this.makingCall=!1,this.$log.error("[webConferenceService] joinWebConference - error on server, can't join conference"),this.$q.reject())):(this.$log.error("[webConferenceService] joinWebConference - No webPontConferenceId !"),this.$q.reject())}joinSharingOnlyConference(e,t,n=!0){return this.$log.info("[webConferenceService] joinSharingOnlyConference with ID "+e+" and role "+t),e?this.$q(t=>{n?(this.$log.debug("[webConferenceService] joinSharingOnlyConference - trigger snapshot for "+e),t(this.makeSnapshotForConfId(e,this.MEDIATYPE.WEBRTCSHARINGONLY))):t()}).then(()=>this.$q((n,r)=>{this.makingCall=!0,this.createVideoGalleryElements(),this.conferenceSessions[e].videoGallery=this.videoGalleryElements,"ringing"!==this.conferenceSessions[e].status&&(this.conferenceSessions[e].status="ringing",this.$rootScope.$broadcast("ON_CONFERENCE_UPDATED_EVENT",this.conferenceSessions[e])),o();const i=this.confPortalURL+e+"/join",s={participant:{role:t,type:"muted"},mediaType:this.MEDIATYPE.WEBRTCSHARINGONLY};this.$http({method:"POST",url:i,headers:this.authService.getRequestHeader(),data:s}).then(t=>{const r=t.data.data;this.jingleJid=r.jingleJid,this.$log.info("[webConferenceService] joinSharingOnlyConference with ID success - jingleJid: "+this.jingleJid),this.conferenceSessions[e].jingleJid=this.jingleJid,this.conferenceSessions[e].haveJoined=!0,this.makingCall=!1,n()},t=>{if(t){const n=t.data?t.data.errorDetails:t.data,r="joinSharingOnlyConference( confId="+e+") failure: "+n;this.$log.error("[conferenceService] "+r)}this.makingCall=!1;const n={popupTitle:"warning",popupBody:"joinMeetingFailure",okLabel:"ok"};t&&t.data&&403615===t.data.errorDetailsCode&&(n.popupBody="maximumNumberConferenceParticipantsReach"),this.leaveWebConference(e),delete this.conferenceSessions[e],r(this.errorHelperService.handleError(t))})})).catch(()=>(this.makingCall=!1,this.$log.error("[webConferenceService] joinSharingOnlyConference - error on server, can't join conference"),this.$q.reject())):(this.$log.error("[webConferenceService] joinSharingOnlyConference - No webPontConferenceId !"),this.$q.reject())}getFreeVideoGalleryElement(e){this.$log.info("[webConferenceService] getFreeVideoGalleryElement "+e);const t=this.conferenceSessions[e];let n=null;if(t){t.videoGallery||(this.createVideoGalleryElements(t.conferenceView),t.videoGallery=this.videoGalleryElements);for(let e=0;e<t.videoGallery.length;e++)if("free"===t.videoGallery[e].state){n=t.videoGallery[e];break}}return n}askToAddSharingToConferenceSession(e,t){!this.videoService.askToAddSharing(e.id,"sharing")&&this.addMediaToConferenceSession(t,"sharing")}addMediaToConferenceSession(e,t,n=null){if(!e)return;if(this.addingMedia)return;if("true"===this.settingsService.getSetting("sfuJoinBundle")&&"video"===t)return void this.addBundleMediaToConferenceSession(e);this.addingMedia=!0;const r=[t];"sharing"===t&&this.contactService.setBusyState("dnd","sharing");const o=n?this.$q.when(n):this.videoService.getBrowserMedia(r);this.$log.info("[webConferenceService] addMediaToConferenceSession to session "+e.id+" with media "+t),o.then(n=>{this.addingMedia=!1;const r=[n],o=this.videoService.config.unifiedPlan,i=this.xmppService.connection.jingle.initiate(e.jingleJid,this.xmppService.connection.jid,t,r,null,e.id,null,o);e.sessions[i.sid]=i,e.localStreams.push(n),i.localStreamId=e.localStreams.length-1,"video"===t?(e.hasLocalVideo=!0,e.localVideoSessionId=i.sid):(e.hasLocalSharing=!0,e.localSharingSessionId=i.sid,this.sendEvent("startHighlighting")),this.$rootScope.$broadcast("ON_CONFERENCE_UPDATED_EVENT",e),this.videoService.callsStats[i.sid]={},this.updateStatisticsForSession(e.id,i.sid),this.statsIntervals.push(i.getStats(8e3))}).catch(()=>{this.addingMedia=!1})}removeMediaFromConferenceSession(e,t){if(!e)return;"sharing"===t&&this.contactService.setBusyState("dnd","audio"),"webrtcSharingOnly"===e.type&&this.contactService.resetBusyState(),this.$log.info("[webConferenceService] removeMediaFromConferenceSession from session "+e.id);const n="video"===t?e.localVideoSessionId:e.localSharingSessionId;if(e.sessions[n]){const r=e.sessions[n];this.updateStatisticsForSession(e.id,n),this.videoService.disableAudioVideoMedia(r),this.xmppService.connection.jingle.terminate(r.sid),delete e.sessions[n],delete e.localStreams[r.localStreamId],delete this.videoService.callsStats[n],"video"===t?(e.hasLocalVideo=!1,e.localVideoSessionId=null):(e.hasLocalSharing=!1,e.localSharingSessionId=null,this.sendEvent("stopHighlighting"))}this.$rootScope.$broadcast("ON_CONFERENCE_UPDATED_EVENT",e)}dropRemoteVideoSession(e,t){if(e){if(this.$log.info("[webConferenceService] dropRemoteVideoSession fom conference "+e.id+" and session "+t),e.sessions[t]){const n=e.sessions[t];this.updateStatisticsForSession(e.id,t),this.xmppService.connection.jingle.terminate(n.sid),delete e.sessions[t],delete this.videoService.callsStats[t]}this.removeSessionFromVideoGallery(e,t),this.$rootScope.$broadcast("ON_CONFERENCE_UPDATED_EVENT",e)}}getUserMediaForSession(e){return this.$q((t,n)=>{const r=this.conferenceSessions[e];r?("ringing"!==r.status&&(this.conferenceSessions[e].status="ringing",this.$rootScope.$broadcast("ON_CONFERENCE_UPDATED_EVENT",r)),r.haveJoined=!0,this.videoService.getBrowserMedia(["audio"]).then(r=>{this.$log.info("[webConferenceService] getUserMediaForSession -- sucess");const o=this.conferenceSessions[e];if(!o||"ended"===o.status)return this.$log.info("[webConferenceService] getUserMediaForSession -- missing conference"),this.disableMediaStream(r),void n("conference does not exist anymore");if(!this.makingCall)return this.$log.info("[webConferenceService] getUserMediaForSession -- already in the conference -- ignore"),this.disableMediaStream(r),void n("ignore");const i=[r];o.localStreams=i,t()}).catch(()=>{this.$log.error("[webConferenceService] getUserMediaForSession error -- getUserMedia failed"),this.sendEvent("joinWithoutAudio"),this.conferenceSessions[e].localStreams=[],t("noMic")})):n()})}disableMediaStream(e){e&&(e.getTracks().forEach(e=>{e.enabled=!1,e.stop(),e=null}),e.stop&&e.stop(),e=null)}initCall(e,t,n,o,i=!1){const s=this.conferenceSessions[t];return this.$q(e=>{s||(this.$log.warn("[webConferenceService] initCall - no conferenceSession as though we are trying to init call"),e(this.makeSnapshotForConfId(t,o))),e()}).then(()=>r(this,void 0,void 0,(function*(){yield this.videoService.setWebrtcConfiguration().catch(()=>{this.$log.error("[webConferenceService] initCall - setWebrtcConfiguration failed")});const r=!!this.videoService.config&&this.videoService.config.unifiedPlan;let o="audio";"true"===this.settingsService.getSetting("sfuJoinBundle")&&(o="audio+video");const a=this.xmppService.connection.jingle.initiate(e,this.xmppService.connection.jid,o,s.localStreams,n,t,null,r,i);return s.jingleJid=e,s.sessions[a.sid]=a,s.status="ringing",this.createStatisticsForSession(t,a.sid),this.statsIntervals.push(a.getStats(3e3)),this.$rootScope.$broadcast("ON_CONFERENCE_UPDATED_EVENT",s),s})))}transferCall(e,t,n,o,i,s=!1,a,l=!1){return r(this,void 0,void 0,(function*(){try{this.makingCall=!0,this.$log.info("[webConferenceService] transferCall to "+n),yield this.makeSnapshotForConfId(n,i,!0),yield this.videoService.setWebrtcConfiguration().catch(()=>{this.$log.error("[webConferenceService] transferCall - setWebrtcConfiguration failed")});const c=!!this.videoService.config&&this.videoService.config.unifiedPlan;yield this.getUserMediaForSession(n);const u=this.conferenceSessions[n];u.participants&&u.participants.forEach(e=>{s&&e.jid_im!==this.contactService.userContact.jid?e.role="member":s||e.jid_im!==this.contactService.userContact.jid||(e.role="member")});let d="audio";"true"===this.settingsService.getSetting("sfuJoinBundle")&&(d="audio+video");const f=this.xmppService.connection.jingle.initiate(t,this.xmppService.connection.jid,d,u.localStreams,o,n,null,c,!1);if(u.jingleJid=t,u.haveJoined=!0,u.sessions[f.sid]=f,u.status="ringing",u.roomId=a,u.isMyConference=s,this.createVideoGalleryElements(u.conferenceView),u.videoGallery=this.videoGalleryElements,!a){const e=this.roomService.findRoomsWithConfId(n);e&&e[0]&&(u.roomId=e[0].dbId)}this.conferenceSessions[n]=u,this.makingCall=!1,this.createStatisticsForSession(n,f.sid),this.statsIntervals.push(f.getStats(3e3));try{if(e&&-1!==e.localType.indexOf("sharing")){let t=e.localStreams.length-1;e.localStreams[e.localStreams.length-1].getAudioTracks().length&&(t=0);const r=e.localStreams[t].clone();this.$interval(()=>{this.addMediaToConferenceSession(this.conferenceSessions[n],"sharing",r)},1500,1,!0,n)}return e&&-1!==e.localType.indexOf("video")&&this.$interval(()=>{this.addMediaToConferenceSession(this.conferenceSessions[n],"video")},1500,1,!0,n),l&&this.$interval(()=>{const e=this.conferenceSessions[n].getConnectedParticipantByJid(this.contactService.userContact.jid);e&&this.muteParticipant(n,e.participantId,"mute")},1e3,1,!0,n),this.$rootScope.$broadcast("ON_CONFERENCE_UPDATED_EVENT",u),u}catch(r){return this.$log.error("[webConferenceService] transferCall error on duplicate stream -- "+r),this.$rootScope.$broadcast("ON_CONFERENCE_UPDATED_EVENT",u),u}}catch(c){this.makingCall=!1,this.$log.error("[webConferenceService] transferCall error -- "+c)}}))}muteParticipant(e,t,n){return this.$log.info("[ConferenceService] muteParticipant( confId="+e+"participantId="+t+" option="+n+")"),e&&t&&n?this.$q((r,o)=>{if(!this.conferenceSessions[e])return this.$log.error("[ConferenceService] muteParticipant - no corresponding conference session to update"),void o();const i={option:n,mediaType:"webrtc"};this.$http({method:"PUT",url:this.confPortalURL+e+"/participants/"+t,headers:this.authService.getRequestHeader(),data:i}).then(n=>{const o=n.data;this.$log.info("[ConferenceService] muteParticipant( confId="+e+"participantId="+t+") successfully"),r(o)},n=>{const r=n.data?n.data.errorDetails:n.data,i="muteParticipant( confId="+e+"participantId="+t+") failure: "+r;this.$log.error("[ConferenceService] "+i),o(new Error(i))})}):(this.$log.error("[ConferenceService] muteParticipant - missing a parameter"),this.$q.reject())}createStatisticsForSession(e,t){if(this.$log.info("[webConferenceService] createStatisticsForSession for conf "+e+" and session "+t),!e||!t)return void this.$log.warn("[webConferenceService] createStatisticsForSession -- missing parameters");this.videoService.callsStats[t]={};const n=[];n.push({connectionId:t,stats:this.videoService.callsStats[t]}),this.videoService.createStatisticsForSession(e,e,"pending",n).then(n=>{this.$log.info("[webConferenceService] createStatisticsForSession success "+n),this.videoService.callsStats[t].id=n,this.conferenceSessions[e].metricsId=n,this.conferenceSessions[e].metricsState="pending"}).catch(t=>{this.$log.error("[webConferenceService] createStatisticsForSession error for conf "+e)})}updateStatisticsForSession(e,t){if(this.$log.info("[webConferenceService] updateStatisticsForSession for conf "+e+" and session "+t),!e||!t)return void this.$log.warn("[webConferenceService] updateStatisticsForSession -- missing parameters");const n=this.conferenceSessions[e];if(!n||!n.metricsId)return void this.$log.warn("[webConferenceService] updateStatisticsForSession -- missing webConference or no metricsId");n.metricsState||(n.metricsState="pending");const r=[];this.videoService.callsStats[t]&&Object.keys(this.videoService.callsStats[t]).length&&(this.videoService.callsStats[t].RainMetrics&&this.videoService.callsStats[t].push(this.videoService.callsStats[t].RainMetrics),r.push({connectionId:t,stats:this.videoService.callsStats[t]}),this.videoService.updateStatisticsForCall(n.metricsId,e,e,n.metricsState,r))}leaveWebConference(e){if(this.$log.info("[WebConferenceService] leaveWebConference - "+e),this.contactService.resetBusyState(),!e)return;const t=this.conferenceSessions[e];if(this.sendEvent("stopHighlighting"),!t)return void this.$log.warn("[WebConferenceService] leaveWebConference - webConference does not exist");t.metricsState="ended";for(const r in t.sessions)if(t.sessions.hasOwnProperty(r)){const e=t.sessions[r];this.updateStatisticsForSession(t.id,e.sid),this.videoService.disableAudioVideoMedia(e),this.xmppService.connection.jingle.terminate(e.sid),delete this.videoService.callsStats[e.sid]}let n;for(this.videoService.disableStreams(t.localStreams),t.cleanupSessionData(),this.createVideoGalleryElements(t.conferenceView),t.videoGallery=this.videoGalleryElements,t.sessions={};this.statsIntervals.length;)n=this.statsIntervals.pop(),n&&(window.clearInterval(n),n=null);this.makingCall=!1,this.$rootScope.$broadcast("ON_CONFERENCE_STATE_EVENT",t),this.$rootScope.$broadcast("ON_CONFERENCE_UPDATED_EVENT",t),this.videoService.clearSrcObjectsFromElements(),this.contactService.userContact.guestMode&&this.$rootScope.$broadcast("ON_OPEN_POPUP","concludeInvitation")}attachDistantMediaStream(e,t){if(e){const e=this.getRemoteAudioVideoBundleSession(t.id);if(e)return void this.attachDistantBundleSession(e);const n=this.getRemoteVideoSessions(t.id),r=this.getRemoteSharingSession(t.id);let o=!1;if(r&&!r.showOnSecondPip||(o=this.updateMainSessionIfNeeded(t,n)),this.$log.info("[WebConferenceService] attachDistantMediaStream for session "+t.id),r&&!r.showOnSecondPip&&(r.remoteStreams.forEach(e=>{e.getVideoTracks().length>0&&this.videoService.RTC.attachMediaStreamIfNeeded(angular.element("#largevideo"),e,r.sid)}),r.remoteStreamsObject[0]&&this.videoService.RTC.attachMediaStreamIfNeeded(angular.element("#largevideo"),r.remoteStreamsObject[0],r.sid)),n.length)for(const s in n)if(n.hasOwnProperty(s)&&(n[s].remoteStreams&&n[s].remoteStreams.forEach(e=>{if(e.getVideoTracks().length>0){r&&!r.showOnSecondPip||!n[s].mainSession||this.videoService.RTC.attachMediaStreamIfNeeded(angular.element("#largevideo"),e,n[s].sid);for(let r=0;r<t.videoGallery.length;r++)if(t.videoGallery[r].sessionId===n[s].sid){this.videoService.RTC.attachMediaStreamIfNeeded(angular.element("#"+t.videoGallery[r].id),e,t.videoGallery[r].sessionId);break}}}),n[s].remoteStreamsObject[0])){r&&!r.showOnSecondPip||!n[s].mainSession||this.videoService.RTC.attachMediaStreamIfNeeded(angular.element("#largevideo"),n[s].remoteStreamsObject[0],n[s].sid);for(let e=0;e<t.videoGallery.length;e++)if(t.videoGallery[e].sessionId===n[s].sid){this.videoService.RTC.attachMediaStreamIfNeeded(angular.element("#"+t.videoGallery[e].id),n[s].remoteStreamsObject[0],t.videoGallery[e].sessionId);break}}const i=this.getRemoteAudioSession(t.id);i&&i.remoteStreams&&i.remoteStreams.forEach(e=>{e.getAudioTracks().length>0&&this.videoService.RTC.attachMediaStreamIfNeeded(angular.element("#globalAudioTag"),e,i.sid)}),i&&i.remoteStreamsObject[0]&&this.videoService.RTC.attachMediaStreamIfNeeded(angular.element("#globalAudioTag"),i.remoteStreamsObject[0],i.sid),o&&this.updateSubStreamLevelsForConferenceSession(t.id)}}attachGalleryMediaStreams(e){const t=this.getRemoteVideoSessions(e.id);t.length&&t.forEach(t=>{for(let n=0;n<e.videoGallery.length;n++)if(e.videoGallery[n].sessionId===t.sid){this.attachSessionVideoToHtmlElement(t,e.videoGallery[n].id,e.externalWindowRef);break}})}attachMozaicVideos(e,t){const n=this.getRemoteVideoSessions(e.id);n.length&&n.forEach(n=>{t.forEach((t,r)=>{t.videoSessionId===n.sid&&this.attachSessionVideoToHtmlElement(n,"mozaic_videoGallery_"+r,e.externalWindowRef)})});const r=this.getRemoteSharingSession(e.id);r&&this.attachSessionVideoToHtmlElement(r,"mozaicSharingVideo",e.externalWindowRef)}attachLocalPipVideo(e){if(e.hasLocalVideo){const t=e.sessions[e.localVideoSessionId];t&&this.attachSessionVideoToHtmlElement(t,"conferenceVideoPip",e.externalWindowRef)}}attachActiveTalkerLocalAndRemoteMediaStreams(e){this.attachRemoteAudioStream(e);const t=this.getRemoteAudioVideoBundleSession(e.id);if(t)return void this.attachDistantBundleSession(t);const n=this.getRemoteVideoSessions(e.id),r=this.getRemoteSharingSession(e.id);this.updateMainSessionIfNeededToDynamicFeed(e,n),this.$log.info("[WebConferenceService] attachLocalAndRemoteMediaStreams for session "+e.id);let o=!1,i=!1;if(r&&!r.showOnSecondPip?(i=!0,this.attachSessionVideoToHtmlElement(r,"largevideo",e.externalWindowRef),o=!0):r&&r.showOnSecondPip&&(i=!0,this.attachSessionVideoToHtmlElement(r,"sfuActiveSpeakerSecondVideo",e.externalWindowRef)),e.hasLocalSharing){const t=e.sessions[e.localSharingSessionId];t&&(i=!0,t.showOnSecondPip?this.attachSessionVideoToHtmlElement(t,"sfuActiveSpeakerSecondVideo",e.externalWindowRef):(this.attachSessionVideoToHtmlElement(t,"largevideo",e.externalWindowRef),o=!0))}if(n.length&&n.forEach(t=>{t.mainSession&&!o?(o=!0,this.attachSessionVideoToHtmlElement(t,"largevideo",e.externalWindowRef)):(t.mainSession&&o||!t.mainSession&&t.activeSpeaker&&!i)&&this.attachSessionVideoToHtmlElement(t,"sfuActiveSpeakerSecondVideo",e.externalWindowRef)}),e.hasLocalVideo){const t=e.sessions[e.localVideoSessionId];t&&this.attachSessionVideoToHtmlElement(t,"conferenceVideoPip",e.externalWindowRef)}this.updateSubStreamLevelsForConferenceSession(e.id)}attachRemoteAudioStream(e){const t=this.getRemoteAudioSession(e.id);t&&t.remoteStreams&&t.remoteStreams.forEach(e=>{e.getAudioTracks().length>0&&this.videoService.RTC.attachMediaStreamIfNeeded(angular.element("#globalAudioTag"),e,t.sid)}),t&&t.remoteStreamsObject[0]&&this.videoService.RTC.attachMediaStreamIfNeeded(angular.element("#globalAudioTag"),t.remoteStreamsObject[0],t.sid)}attachMainMediaStream(e){e&&(this.$log.info("[webConferenceService] attachMainMediaStream"),e.remoteStreams.forEach(t=>{t.getVideoTracks().length>0&&this.videoService.RTC.attachMediaStreamIfNeeded(angular.element("#largevideo"),t,e.sid)}),e&&e.remoteStreamsObject[0]&&this.videoService.RTC.attachMediaStreamIfNeeded(angular.element("#largevideo"),e.remoteStreamsObject[0],e.sid))}attachDistantBundleSession(e){e&&(this.$log.info("[webConferenceService] attachDistantBundleSession"),e.remoteStreams.forEach(t=>{t.getVideoTracks().length>0&&this.videoService.RTC.attachMediaStreamIfNeeded(angular.element("#largevideo"),t,e.sid),t.getAudioTracks().length>0&&this.videoService.RTC.attachMediaStream(angular.element("#globalAudioTag"),t)}),e&&e.remoteStreamsObject[0]&&this.videoService.RTC.attachMediaStream(angular.element("#globalAudioTag"),e.remoteStreamsObject[0]),e&&e.remoteStreamsObject[1]&&this.videoService.RTC.attachMediaStreamIfNeeded(angular.element("#largevideo"),e.remoteStreamsObject[1],e.sid))}attachSessionVideoToHtmlElement(e,t,n=null){const r="#"+t,o=n?n.document.querySelectorAll(r):angular.element(r);e&&t?(this.$log.info("[webConferenceService] attachSessionVideoToHtmlElement"),e.remoteStreams.forEach(t=>{t.getVideoTracks().length>0&&this.videoService.RTC.attachMediaStreamIfNeeded(o,t,e.sid)}),e&&e.remoteStreamsObject[0]&&this.videoService.RTC.attachMediaStreamIfNeeded(o,e.remoteStreamsObject[0],e.sid),e.localStreams.forEach(t=>{t.getVideoTracks().length>0&&this.videoService.RTC.attachMediaStreamIfNeeded(o,t,e.sid)})):!e&&t&&this.videoService.RTC.clearMediaStream(o,null)}updateMainSessionIfNeededToDynamicFeed(e,t){this.$log.info("[webConferenceService] updateMainSessionIfNeededToDynamicFeed");let n=!0;if(t&&t.length){let r=null,o=null;Object.keys(t).forEach(e=>{const i=t[e];i&&(o||(o=i),!r&&i.activeSpeaker&&(r=i),i.mainSession&&(i.pinned||i.activeSpeaker)&&(n=!1))}),n&&(r?(r.mainSession=!0,r.pinned=!1,e.videoGallery.forEach(e=>{e.pinned=!1,e.mainSession=!1})):o&&(o.mainSession=!0,o.pinned=!1,e.videoGallery.forEach(e=>{e.pinned=!1,e.sessionId===o.sid?e.mainSession=!0:e.mainSession=!1})))}return n}updateMainSessionIfNeeded(e,t){this.$log.info("[webConferenceService] updateMainSessionIfNeeded");let n=!0;if(t&&t.length){let r=null;for(const e in t)t.hasOwnProperty(e)&&(r||(r=t[e]),t[e].mainSession&&(n=!1));n&&(r.mainSession=!0,r.pinned=!1,e.videoGallery.forEach(e=>{e.pinned=!1,e.sessionId===r.sid?e.mainSession=!0:e.mainSession=!1}))}return n}getRelatedRoomToActiveConferenceSession(){return this.webConferenceRoom}getRelatedRoomToActiveSharingOnlyConferenceSession(){return this.webrtcSharingOnlyRoom}getConferenceBySessionId(e){let t=null;for(const n in this.conferenceSessions)if(this.conferenceSessions.hasOwnProperty(n)&&this.conferenceSessions[n].sessions)for(const r in this.conferenceSessions[n].sessions)if(this.conferenceSessions[n].sessions.hasOwnProperty(r)&&this.conferenceSessions[n].sessions[r].sid===e)return t=this.conferenceSessions[n],t;return t}getPontConfIdForRoom(e,t=this.MEDIATYPE.WEBRTC){if(e.confEndpoints&&e.confEndpoints.length)for(let n=0;n<e.confEndpoints.length;n++)if(e.confEndpoints[n].mediaType===t)return e.confEndpoints[n].confEndpointId;return""}getConferenceSessionById(e){return this.conferenceSessions[e]}getSfuConferenceSessionForRoom(e){let t=null;return e&&(t=this.conferenceSessions[e.getSFUConfEndpointId()]),t}updateWebConferenceInfos(e){this.$log.info("[WebConferenceService] updateWebConferenceInfos"),Object.assign(this.conferenceEndpoints,e),this.webrtcConferenceId=this.getWebRtcConfEndpointId(),this.webrtcConferenceId&&this.roomService.getRoomByConferenceEndpointId(this.webrtcConferenceId).then(e=>{let t="nothing";e&&(t=e.name),this.webConferenceRoom=e,this.$log.info("[WebConferenceService] === updateWebConferenceInfos : webrtcConferenceId is currently attached to "+t)},()=>{this.$log.info("[WebConferenceService] === updateWebConferenceInfos FAILURE ===")})}updateWebSharingOnlyConferenceInfos(e){this.$log.info("[WebConferenceService] updateWebSharingOnlyConferenceInfos"),Object.assign(this.conferenceEndpoints,e),this.webrtcSharingOnlyConferenceId=this.getWebRtcSharingOnlyConfEndpointId(),this.webrtcSharingOnlyConferenceId&&this.roomService.getRoomByConferenceEndpointId(this.webrtcSharingOnlyConferenceId).then(e=>{const t=e&&e.name?e.name:"nothing";this.webrtcSharingOnlyRoom=e,this.$log.info("[WebConferenceService] === updateWebSharingOnlyConferenceInfos : webrtcSharingOnlyConferenceId is currently attached to "+t)},()=>{this.$log.info("[WebConferenceService] === updateWebSharingOnlyConferenceInfos FAILURE ===")})}updateWebConferenceRoom(){return this.webrtcConferenceId=this.getWebRtcConfEndpointId(),this.$q((e,t)=>{this.roomService.getRoomByConferenceEndpointId(this.webrtcConferenceId).then(t=>{let n="nothing";t&&(n=t.name),this.webConferenceRoom=t,this.$log.info("[WebConferenceService] === updateWebConferenceRoom : room is currently attached to "+n),e()},()=>{this.$log.info("[WebConferenceService] === updateWebConferenceRoom FAILURE==="),t()})})}getWebRtcConfEndpointId(){for(const e in this.conferenceEndpoints)if(this.conferenceEndpoints.hasOwnProperty(e)&&this.conferenceEndpoints[e].mediaType===this.MEDIATYPE.WEBRTC)return this.conferenceEndpoints[e].id;return null}getWebRtcSharingOnlyConfEndpointId(){for(const e in this.conferenceEndpoints)if(this.conferenceEndpoints.hasOwnProperty(e)&&this.conferenceEndpoints[e].mediaType===this.MEDIATYPE.WEBRTCSHARINGONLY)return this.conferenceEndpoints[e].id;return null}isJoinWebConferenceAllowed(){return!0}getWebConference(e){if(e)return this.conferenceSessions[e]}removeConferenceSession(e){if(!e)return;let t;for(this.removeAllJingleSessionsForConferenceSession(e),delete this.conferenceSessions[e];this.statsIntervals.length;)t=this.statsIntervals.pop(),t&&(window.clearInterval(t),t=null);this.makingCall=!1}removeAllJingleSessionsForConferenceSession(e){if(!e)return;const t=this.conferenceSessions[e];if(t){t.metricsState="ended";for(const e in t.sessions)if(t.sessions.hasOwnProperty(e)){const n=t.sessions[e];this.updateStatisticsForSession(t.id,n.sid),delete this.videoService.callsStats[n.sid],this.videoService.disableAudioVideoMedia(n),this.xmppService.connection.jingle.terminate(n.sid)}t.sessions=[]}}hasActiveConferenceSession(){for(const e in this.conferenceSessions)if(this.conferenceSessions.hasOwnProperty(e)&&this.conferenceSessions[e]&&this.conferenceSessions[e].type===this.MEDIATYPE.WEBRTC&&this.conferenceSessions[e].isActive()&&this.conferenceSessions[e].haveJoined)return!0;return!1}hasActiveConferenceSessionWithAnyDevice(){for(const e in this.conferenceSessions)if(this.conferenceSessions.hasOwnProperty(e)&&this.conferenceSessions[e].type===this.MEDIATYPE.WEBRTC&&this.conferenceSessions[e].isActive()&&(this.conferenceSessions[e].haveJoined||this.conferenceSessions[e].joinedFromOtherDevice))return!0;return!1}getActiveConferenceSession(){let e=null;for(const t in this.conferenceSessions)this.conferenceSessions.hasOwnProperty(t)&&this.conferenceSessions[t].type===this.MEDIATYPE.WEBRTC&&this.conferenceSessions[t].isActive()&&this.conferenceSessions[t].haveJoined&&(e=this.conferenceSessions[t]);return e}hasActiveSharingOnlyConferenceSession(){for(const e in this.conferenceSessions)if(this.conferenceSessions.hasOwnProperty(e)&&this.conferenceSessions[e].type===this.MEDIATYPE.WEBRTCSHARINGONLY&&this.conferenceSessions[e].isActive())return!0;return!1}getActiveSharingOnlyConferenceSession(){let e=null;for(const t in this.conferenceSessions)this.conferenceSessions.hasOwnProperty(t)&&this.conferenceSessions[t].type===this.MEDIATYPE.WEBRTCSHARINGONLY&&this.conferenceSessions[t].isActive()&&(e=this.conferenceSessions[t]);return e}hasIncomingVideoStream(e){if(!e)return;const t=this.conferenceSessions[e];if(t)for(const n in t.sessions)if(t.sessions.hasOwnProperty(n)){const e=t.sessions[n];if(!e.isInitiator&&("video"===e.remoteType||"sharing"===e.remoteType))return!0}return!1}getRemoteSessionsWithVideoOrSharingStreams(e){const t=[];if(!e)return t;const n=this.conferenceSessions[e];if(n)for(const r in n.sessions)if(n.sessions.hasOwnProperty(r)){const e=n.sessions[r];e.isInitiator||"video"!==e.remoteType&&"sharing"!==e.remoteType&&"audio+video"!==e.remoteType||t.push(e)}return t}getRemoteSharingSession(e){let t=null;if(!e)return t;const n=this.conferenceSessions[e];if(n)for(const r in n.sessions)if(n.sessions.hasOwnProperty(r)){const e=n.sessions[r];if(!e.isInitiator&&"sharing"===e.remoteType){t=e;break}}return t}getSharingSession(e){let t=null;if(!e)return t;const n=this.conferenceSessions[e];if(n)for(const r in n.sessions)if(n.sessions.hasOwnProperty(r)){const e=n.sessions[r];if("sharing"===e.remoteType||"sharing"===e.localType){t=e;break}}return t}hasRemoteVideoOrSharingSession(e){let t=!1;if(!e)return t;const n=this.conferenceSessions[e];if(n)for(const r in n.sessions)if(n.sessions.hasOwnProperty(r)){const e=n.sessions[r];if(!e.isInitiator&&("video"===e.remoteType||"sharing"===e.remoteType||"audio+video"===e.remoteType)){t=!0;break}}return t}getRemoteVideoSessions(e){const t=[];if(!e)return t;const n=this.conferenceSessions[e];if(n)for(const r in n.sessions)if(n.sessions.hasOwnProperty(r)){const e=n.sessions[r];e.isInitiator||"video"!==e.remoteType||t.push(e)}return t}getRemoteAudioVideoBundleSession(e){let t;if(!e)return t;const n=this.conferenceSessions[e];if(n)for(const r in n.sessions)if(n.sessions.hasOwnProperty(r)){const e=n.sessions[r];if(!e.isInitiator&&"audio+video"===e.remoteType){t=e;break}}return t}getRemoteAudioSession(e){let t;if(!e)return t;const n=this.conferenceSessions[e];if(n)for(const r in n.sessions)if(n.sessions.hasOwnProperty(r)){const e=n.sessions[r];if("audio"===e.localType){t=e;break}}return t}getRemoteMainVideoSession(e){let t;if(!e)return t;const n=this.conferenceSessions[e];if(n)for(const r in n.sessions)if(n.sessions.hasOwnProperty(r)){const e=n.sessions[r];if(!e.isInitiator&&"video"===e.remoteType&&e.mainSession){t=e;break}}return t}isAlreadySubscribedToDynamicFeed(e){if(!e)return!1;let t=!1;const n=this.conferenceSessions[e];return n&&n.videoGallery&&"videoGallery_0"===n.videoGallery[0].id&&"busy"===n.videoGallery[0].state&&(t=!0),t}isAlreadySubscribedToPublisher(e,t){if(!e||!t)return!1;let n=!1;const r=this.conferenceSessions[e];if(r&&r.videoGallery)for(let o=0;o<r.videoGallery.length;o++)if(!r.videoGallery[o].activeSpeaker&&r.videoGallery[o].publisherId===t){n=!0;break}return n}getSessionIdForParticipantByPublisherId(e,t){let n="";if(!e||!t)return n;const r=this.conferenceSessions[e];if(r&&r.videoGallery)for(let o=0;o<r.videoGallery.length;o++)if(r.videoGallery[o].publisherId===t){n=r.videoGallery[o].sessionId;break}return n}relatePublisherToElement(e,t,n,r,o=!1){if(!e||!t||!n)return!1;this.$log.info("[WebConferenceService] relatePublisherToElement");const i=this.conferenceSessions[e];if(i)if(o)i.videoGallery[0].state="busy",i.videoGallery[0].publisherId="",i.videoGallery[0].simulcast=t.simulcast,i.videoGallery[0].subStreamLevel=r;else for(let s=0;s<i.videoGallery.length;s++)if(i.videoGallery[s].id===n){i.videoGallery[s].state="busy",i.videoGallery[s].publisherId=t.participantId,i.videoGallery[s].publisherJidIm=t.jid_im,i.videoGallery[s].displayName=t.participantId,i.videoGallery[s].simulcast=t.simulcast,i.videoGallery[s].subStreamLevel=r;const e=this.contactService.getContact(t.jid_im);e&&(i.videoGallery[s].displayName=e.displayName);break}this.updateSubStreamLevelsForConferenceSession(e)}getRelatedPublisherToElement(e,t){if(!e||!t)return null;this.$log.info("[WebConferenceService] getRelatedPublisherToElement");let n=null;const r=this.conferenceSessions[e];if(r&&r.videoGallery)for(let o=0;o<r.videoGallery.length;o++)if(t===r.videoGallery[o].id&&r.videoGallery[o].publisherId){n=r.videoGallery[o];break}return n}getRelatedElementToPublisher(e,t){if(!e||!t)return null;this.$log.info("[WebConferenceService] getRelatedPublisherToElement");let n=null;const r=this.conferenceSessions[e];if(r&&r.videoGallery)for(let o=0;o<r.videoGallery.length;o++)if(r.videoGallery[o].publisherId===t){n=r.videoGallery[o];break}return n}relateSessionToPublisher(e,t,n){if(!e||!t||!n)return!1;this.$log.info("[WebConferenceService] relateSessionToPublisher pubId "+t+" sessionId "+n);let r=!1;const o=this.conferenceSessions[e];if(o){for(let e=0;e<o.videoGallery.length;e++)if(t===o.videoGallery[e].publisherId&&!o.videoGallery[e].sessionId){o.videoGallery[e].sessionId=n,r=!0,"videoGallery_0"===o.videoGallery[e].id&&(o.sessions[n].activeSpeaker=!0,o.videoGallery[e].publisherId="");break}this.$log.info(o.videoGallery)}return r}removeSessionFromVideoGallery(e,t){if(e&&t){e.videoGallery||(this.createVideoGalleryElements(e.conferenceView),e.videoGallery=this.videoGalleryElements),this.$log.info("[WebConferenceService] removeSessionFromVideoGallery for conference "+e.id+" sessionId "+t);for(let n=0;n<e.videoGallery.length;n++)e.videoGallery[n].sessionId===t&&(e.videoGallery[n].sessionId="",e.videoGallery[n].state="free",e.videoGallery[n].publisherId="",e.videoGallery[n].publisherJidIm="",e.videoGallery[n].displayName="",e.videoGallery[n].simulcast=null,e.videoGallery[n].subStreamLevel=null,e.videoGallery[n].mainSession=!1,e.videoGallery[n].pinned=!1,e.videoGallery[n].hold=!1);e.videoGallery=this.updateVideoGalleryElementsState(e,e.videoGallery,e.conferenceView)}}reInitialiseVideoGalleryElementById(e,t){if(e&&t){e.videoGallery||(this.createVideoGalleryElements(e.conferenceView),e.videoGallery=this.videoGalleryElements),this.$log.info("[WebConferenceService] reInitialiseVideoGalleryElementById for conference "+e.id+" elementId "+t);for(let n=0;n<e.videoGallery.length;n++)e.videoGallery[n].id===t&&(e.videoGallery[n].sessionId&&this.dropRemoteVideoSession(e,e.videoGallery[n].sessionId),e.videoGallery[n].sessionId="",e.videoGallery[n].state="free",e.videoGallery[n].publisherId="",e.videoGallery[n].publisherJidIm="",e.videoGallery[n].displayName="",e.videoGallery[n].subStreamLevel=null,e.videoGallery[n].simulcast=null,e.videoGallery[n].hold=!1,e.videoGallery[n].reconnecting=!1);e.videoGallery=this.updateVideoGalleryElementsState(e,e.videoGallery,e.conferenceView)}}updateMainScreenSession(e,t=null){if(!e)return;const n=this.conferenceSessions[e];if(n){for(const e in n.sessions)if(n.sessions.hasOwnProperty(e)){const r=n.sessions[e];t&&t.sessionId===r.sid?(r.mainSession=!0,r.pinned=!0):(r.mainSession=!1,r.pinned=!1)}return n.videoGallery.forEach(e=>{t&&e.id===t.id?(e.mainSession=!0,e.pinned=!0):(e.mainSession=!1,e.pinned=!1)}),n}}updateSubStreamLevelsForConferenceSession(e){if(this.disableAutoUpdateSubstreamLevels)return;this.$log.info("[WebConferenceService] updateSubStreamLevelsForConferenceSession");const t=this.conferenceSessions[e],n=t.getConnectedParticipantByJid(this.contactService.userContact.jid),r=this.getSharingSession(t.id);if(t.conferenceView===this.ConferenceSession.ConferenceView.GridView){const r=this.getRemoteVideoSessions(e);let o="0";r.length>1&&r.length<=3&&(o="2"),r.length>3&&r.length<=7&&(o="1"),t.videoGallery.forEach(e=>{e.simulcast&&"videoGallery_0"!==e.id&&e.subStreamLevel!==o&&this.updateSubstreamLevelForPublisher(t.id,n.participantId,o,e)})}else r&&!r.showOnSecondPip?t.videoGallery.forEach(e=>{e.simulcast&&"0"!==e.subStreamLevel&&this.updateSubstreamLevelForPublisher(t.id,n.participantId,"0",e)}):t.videoGallery.forEach(e=>{if(e.simulcast&&"videoGallery_0"===e.id&&this.updateSubstreamLevelForPublisher(t.id,n.participantId,"2",e),e.simulcast&&"videoGallery_0"!==e.id){const r=t.sessions[e.sessionId];if(r){const o=r.mainSession?"2":"0";this.updateSubstreamLevelForPublisher(t.id,n.participantId,o,e)}}})}getListOfAvailableRemoteVideoPublishers(e){if(!e)return;const t=this.conferenceSessions[e];let n=[];return t&&(t.videoGallery||(this.createVideoGalleryElements(t.conferenceView),t.videoGallery=this.videoGalleryElements),n=t.getListOfRemoteVideoPublishers(),n=n.filter(e=>{for(let n=0;n<t.videoGallery.length;n++)if(t.videoGallery[n].publisherId===e.participantId)return!1;return!0})),n}getListOfPublishersForElementsOnHold(e){if(!e)return;const t=this.conferenceSessions[e],n=[];if(t){t.videoGallery||(this.createVideoGalleryElements(t.conferenceView),t.videoGallery=this.videoGalleryElements);const e=t.getListOfRemoteVideoPublishers();for(let r=0;r<t.videoGallery.length;r++)t.videoGallery[r].publisherId&&t.videoGallery[r].hold&&e.forEach(e=>{e.participantId===t.videoGallery[r].publisherId&&n.push(e)})}return n}sendTransportReplaceForSession(e,t){e&&e.sid?e.peerconnection&&"stable"===e.peerconnection.signalingState&&"failed"!==e.peerconnection.iceConnectionState&&"disconnected"!==e.peerconnection.iceConnectionState?this.$log.info("[WebConferenceService] sendTransportReplaceForSession not neededf for "+e.sid):this.reconnecting[e.sid]?this.$log.info("[WebConferenceService] sendTransportReplaceForSession already reconnecting for session "+e.sid):(this.reconnecting[e.sid]=!0,t||(t=1e3),this.$interval(e=>{if(this.reconnecting[e.sid]=!1,delete this.reconnecting[e.sid],this.connected&&e&&e.peerconnection&&"stable"===e.peerconnection.signalingState&&("failed"===e.peerconnection.iceConnectionState||"disconnected"===e.peerconnection.iceConnectionState)){if(this.$log.info("[WebConferenceService] sendTransportReplaceForSession for session "+e.sid),e.connection=this.xmppService.connection,e.reconnectSession(),e.type!==this.MEDIATYPE.WEBRTCSHARINGONLY){const t=e.hasLocalSharing?"sharing":"audio";this.contactService.setBusyState("dnd",t)}}else this.$log.info("[WebConferenceService] sendTransportReplaceForSession for session "+e.sid+" is not send ...")},t,1,!0,e)):this.$log.warn("[WebConferenceService] sendTransportReplaceForSession missing session !")}onAudioProfileChangeEvent(){if(this.$log.info("[WebConferenceService] onAudioProfileChangeEvent"),this.audioProfileChanging)this.$log.info("[WebConferenceService] onAudioProfileChangeEvent -- already changing");else for(const e in this.conferenceSessions)if(this.conferenceSessions.hasOwnProperty(e)){const t=this.conferenceSessions[e];for(const e in t.sessions)if(t.sessions.hasOwnProperty(e)){const n=t.sessions[e];"audio"===n.localType&&(this.audioProfileChanging=!0,this.$interval((e,t)=>{this.audioProfileChanging=!1,this.videoService.getBrowserMedia(["audio"]).then(n=>{e.removeStream(e.localStreams[0]),this.videoService.stopActiveAudioVideoStreams(e),e.localStreams.push(n),e.addStream(e.localStreams[0]),e.sendTransportReplace(),this.sendEvent("onAudioStreamAdded",t)}).catch(()=>{e.removeStream(e.localStreams[0]),this.videoService.stopActiveAudioVideoStreams(e),e.sendTransportReplace(),this.sendEvent("onAudioStreamRemoved",t)})},500,1,!0,n,t))}}}onJingleError(e){this.$log.info("[WebConferenceService] onJingleError -- "+e);const t=this.getConferenceBySessionId(e);t&&t.sessions&&("audio"===t.sessions[e].localType?this.leaveWebConference(t.id):(this.updateStatisticsForSession(t.id,e),t.localVideoSessionId===e?this.removeMediaFromConferenceSession(t,"video"):t.localSharingSessionId===e?this.removeMediaFromConferenceSession(t,"sharing"):(this.removeSessionFromVideoGallery(t,e),this.$rootScope.$broadcast("ON_CONFERENCE_UPDATED_EVENT",t))))}onIceConnectionDisconnectedForSession(e,t){if(this.$log.info("[WebConferenceService] onIceConnectionDisconnectedForSession -- "+t),e&&e.sessions){const n=e.sessions[t];"audio"===n.localType?(e.status="reconnecting",this.$rootScope.$broadcast("ON_CONFERENCE_UPDATED_EVENT",e),this.connected&&this.sendTransportReplaceForSession(n,1e3)):e.localVideoSessionId!==t&&e.localSharingSessionId!==t||this.connected&&this.sendTransportReplaceForSession(n,1e3)}}onIceConnectionFailedForSession(e,t){if(this.$log.info("[WebConferenceService] onIceConnectionFailedForSession -- "+t),e&&e.sessions){const n=e.sessions[t];if(!n)return void this.$log.info("[WebConferenceService] onIceConnectionFailedForSession -- session is missing");"audio"===n.localType?(e.status="reconnecting",this.$rootScope.$broadcast("ON_CONFERENCE_UPDATED_EVENT",e),this.connected&&this.sendTransportReplaceForSession(n,500)):e.localVideoSessionId===t||e.localSharingSessionId===t?this.connected&&this.sendTransportReplaceForSession(n,500):"video"===n.remoteType?this.connected&&(this.xmppService.connection.jingle.terminate(t),this.updateStatisticsForSession(e.id,t),delete this.videoService.callsStats[t],e.videoGallery.forEach(e=>{e.sessionId===t&&(e.sessionId="")}),delete e.sessions[t],this.resubscribeToSessions(e)):this.connected&&(this.xmppService.connection.jingle.terminate(t,"icefailed"),this.updateStatisticsForSession(e.id,t),delete this.videoService.callsStats[t],this.removeSessionFromVideoGallery(e,t),delete e.sessions[t],this.$rootScope.$broadcast("ON_CONFERENCE_UPDATED_EVENT",e))}}onIncomingCall(e){this.$log.info("[WebConferenceService] onIncomingCall -- "+e);const t=this.xmppService.connection.jingle.sessions[e],n=t.confId,r=this.conferenceSessions[n];if(r){if(r.sessions[e]=t,t.localType=t.remoteType,t.sendAnswer(),t.accept(),"video"===t.remoteType){if(!this.activeSpeaker||t.publisherId&&r.videoGallery[0].sessionId!==t.sid){if(!this.relateSessionToPublisher(n,t.publisherId,t.sid)){this.$log.info("[WebConferenceService] no gallery element related to session, attach to first available");const e=this.getFreeVideoGalleryElement(n);e&&!this.isAlreadySubscribedToPublisher(r.id,t.publisherId)&&(e.state="busy",e.publisherId=t.publisherId,e.sessionId=t.sid)}}else r.videoGallery[0].publisherId="",t.activeSpeaker=!0;this.updateSubStreamLevelsForConferenceSession(n)}"sharing"===t.remoteType&&(this.updateConferenceViewIfNeeded(n),this.updateSubStreamLevelsForConferenceSession(n)),this.$rootScope.$broadcast("ON_CONFERENCE_UPDATED_EVENT",r),this.videoService.callsStats[t.sid]={},this.updateStatisticsForSession(r.id,t.sid),this.statsIntervals.push(t.getStats(8e3))}else this.$log.error("[WebConferenceService] onIncomingCall no such conferenceSession "+n)}onTerminatedCall(e){this.$log.info("[WebConferenceService] onTerminatedCall -- "+e);let t=this.xmppService.connection.jingle.sessions[e],n=null;t&&t.confId&&(n=this.conferenceSessions[t.confId]),n||(n=this.getActiveConferenceSession()?this.getActiveConferenceSession():this.getActiveSharingOnlyConferenceSession()),n?(t||(t=n.sessions[e]),t&&"audio"===t.localType?this.leaveWebConference(n.id):n.localVideoSessionId===e?this.removeMediaFromConferenceSession(n,"video"):n.localSharingSessionId===e?this.removeMediaFromConferenceSession(n,"sharing"):(this.removeSessionFromVideoGallery(n,e),this.videoService.disableAudioVideoMedia(n.sessions[e]),delete n.sessions[e],delete this.videoService.callsStats[e],this.$rootScope.$broadcast("ON_CONFERENCE_UPDATED_EVENT",n),this.autoFillGalleryElementIfNecessary(n),this.updateSubStreamLevelsForConferenceSession(n.id))):this.$log.error("[WebConferenceService] onTerminatedCall no active conferenceSession for webrtc session "+e)}onConferenceCallSwitched(e){this.$log.info("[WebConferenceService] onConferenceCallSwitched -- "+e);const t=this.getActiveConferenceSession();t&&this.leaveWebConference(t.id)}onIceConnectionStateChange(e,t){const n=this.getConferenceBySessionId(e);try{if(n&&t.peerconnection){if(this.$log.info("[WebConferenceService] onIceConnectionStateChange for session "+e),"stable"===t.peerconnection.signalingState&&"connected"===t.peerconnection.iceConnectionState){this.$log.info("[WebConferenceService] ICE Connection established successfully");const e=n.getConnectedParticipantByJid(this.contactService.userContact.jid);"connected"!==n.status&&e&&e.mute&&this.$rootScope.$broadcast("GLOBAL_NOTIFY_MESSAGE_EVENT","youMuted",!0),"audio"===t.localType&&(n.status="connected",n.startDuration()),t.remoteStreams&&t.remoteStreams.forEach(e=>{e.getAudioTracks().length>0&&(this.videoService.RTC.attachMediaStream(angular.element("#globalAudioTag"),e),this.videoService.resetAudioOutputElement(!0))}),this.$rootScope.$broadcast("ON_CONFERENCE_UPDATED_EVENT",n),this.$rootScope.$broadcast("ON_CONFERENCE_STATE_EVENT",n)}"stable"===t.peerconnection.signalingState&&"completed"===t.peerconnection.iceConnectionState&&(this.$log.info("[WebConferenceService] ICE Connection completed successfully"),"connected"!==n.status&&("audio"===t.localType&&(n.status="connected",n.startDuration()),t.remoteStreams&&t.remoteStreams.forEach(e=>{e.getAudioTracks().length>0&&(this.videoService.RTC.attachMediaStream(angular.element("#globalAudioTag"),e),this.videoService.resetAudioOutputElement(!0))}),this.$rootScope.$broadcast("ON_CONFERENCE_UPDATED_EVENT",n),this.$rootScope.$broadcast("ON_CONFERENCE_STATE_EVENT",n))),"stable"===t.peerconnection.signalingState&&"disconnected"===t.peerconnection.iceConnectionState&&(this.$log.info("[WebConferenceService] ICE Connection State disconnected"),this.onIceConnectionDisconnectedForSession(n,e)),"stable"===t.peerconnection.signalingState&&"failed"===t.peerconnection.iceConnectionState&&(this.$log.info("[WebConferenceService] ICE Connection State failed"),this.onIceConnectionFailedForSession(n,e))}}catch(r){this.$log.error("[WebConferenceService] onIceConnectionStateChange error "+r)}}updateOrCreateConferenceSession(e,t,n="webrtc"){if(this.$log.debug("[webConferenceService] updateOrCreateConferenceSession for "+e),!e||!t||!t.data)return this.$log.error("[webConferenceService] updateOrCreateConferenceSession - Not enough data"),null;let r=this.conferenceSessions[e];return r?t.data.active!==r.active&&(this.$log.debug("active"),r.updateActiveState(t.data.active),t.data.active?this.$rootScope.$broadcast("ON_CONFERENCE_STATE_EVENT",r):this.leaveWebConference(e)):(this.$log.debug("[webConferenceService] updateOrCreateConferenceSession - create new conferencesession with id "+e+"and data: \n"+JSON.stringify(t.data)),r=this.ConferenceSession.createFromData(e,[],t.data.active,n),this.conferenceSessions[e]=r,this.$rootScope.$broadcast("ON_CONFERENCE_STATE_EVENT",r)),t.data.participants&&(this.$log.debug("[webConferenceService] updateOrCreateConferenceSession - (is active : "+r.active+") update participants for "+e+" with:\n"+JSON.stringify(t.data.participants)),r.updateParticipants(t.data.participants).then(()=>{this.$rootScope.$broadcast("ON_CONFERENCE_PARTICIPANT_EVENT",r)})),r}updateOrCreateWebConferenceEndpoint(e){if(this.$log.info("[WebConferenceService] updateOrCreateWebConferenceEndpoint for "+e.id),!e)return this.$log.error("[WebConferenceService] updateOrCreateWebConferenceEndpoint - no conference data !"),null;if(e.mediaType!==this.MEDIATYPE.WEBRTC&&e.mediaType!==this.MEDIATYPE.WEBRTCSHARINGONLY)return this.$log.error("[WebConferenceService] updateOrCreateWebConferenceEndpoint - wrong mediaType:"+e.mediaType),null;const t=this.Conference.createFromData(e);return this.conferenceEndpoints[e.id]=t,t.mediaType===this.MEDIATYPE.WEBRTC?this.updateWebConferenceInfos([t]):this.updateWebSharingOnlyConferenceInfos([t]),this.conferenceEndpoints[e.id]}makeSnapshotForConfId(e=null,t="webrtc",n=!1){if(!e){const e="[webConferenceService] makeSnapshotForConfId - No confId !!";return this.$log.error(e),this.$q.reject(e)}const r=this.conferenceSessions[e];return!n&&r&&r.active&&r.haveJoined?(this.$log.debug("[WebConferenceService] makeSnapshotForConfId skipped, already joined"),this.$q.resolve(r)):!n&&r&&this.makingCall?(this.$log.debug("[WebConferenceService] makeSnapshotForConfId skipped, we're currently joining the conference"),this.$q.resolve(r)):(this.$log.info("[webConferenceService] makeSnapshotForConfId for confId "+e),this.$q((n,r)=>{this.$http({method:"GET",url:this.confPortalURL+e+"/snapshot?mediaType=webrtc",headers:this.authService.getRequestHeader()}).then(r=>{this.$log.info("[webConferenceService] makeSnapshotForConfId success for confId "+e);const o=r.data;this.updateOrCreateConferenceSession(e,o,t),n(o.data)}).catch(t=>{this.$log.info("[webConferenceService] makeSnapshotForConfId failure for confID "+e),404===t.status?this.$log.error("[webConferenceService] makeSnapshotForConfId - confId "+e+" not found on server"):this.$log.error("[webConferenceService] makeSnapshotForConfId - inconsistent object on server"),this.conferenceSessions[e]&&this.removeConferenceSession(e),r()})}))}refreshConferenceSessions(){return this.$log.info("[webConferenceService] refreshConferenceSessions"),this.$q((e,t)=>{const n=[];for(const r in this.conferenceSessions)if(this.conferenceSessions.hasOwnProperty(r)){const e=this.conferenceSessions[r];n.push(this.makeSnapshotForConfId(e.id,e.type))}this.$q.all(n).then(()=>{this.$log.info("[webConferenceService] refreshConferenceSessions -- success"),e()}).catch(()=>{this.$log.error("[webConferenceService] refreshConferenceSessions -- error -- some session are corrupted and deleted"),t()})})}removeAllConferenceSessions(){this.$log.info("[webConferenceService] removeAllConferenceSessions");for(const e in this.conferenceSessions)this.conferenceSessions.hasOwnProperty(e)&&this.removeConferenceSession(e)}getConferenceSessionForRoom(e){let t=null;if(e&&e.length)for(let n=0;n<e.length;n++)e[n].mediaType!==this.MEDIATYPE.WEBRTC&&e[n].mediaType!==this.MEDIATYPE.WEBRTCSHARINGONLY||(t=this.conferenceSessions[e[n].confEndpointId]);return t}setDisableAutoUpdateSubstreamLevels(e){this.disableAutoUpdateSubstreamLevels=e}setDisableAutoFillForGalleryElements(e){this.disableAutoFillForGalleryElements=e}removeVideoGalleryVideos(e){e&&e.videoGallery&&e.videoGallery.forEach(t=>{const n=e.sessions[t.sessionId];n&&(this.updateStatisticsForSession(e.id,n.sid),this.videoService.disableAudioVideoMedia(n),delete e.sessions[n.sid],delete e.localStreams[n.localStreamId],delete this.videoService.callsStats[n.sid],this.xmppService.connection.jingle.terminate(n.sid))})}relateSessionToActiveSpeakerElement(e,t){if(!e)return;const n=this.conferenceSessions[e];n&&n.videoGallery&&(n.videoGallery[0].sessionId=t,n.videoGallery[0].publisherId="")}resubscribeToSessions(e){e&&e.publishers.length&&e.videoGallery.forEach(t=>{if("videoGallery_0"!==t.id||"busy"!==t.state||t.reconnecting||t.sessionId){if("busy"===t.state&&!t.reconnecting&&!t.sessionId&&t.publisherId){t.reconnecting=!0;const n=e.getPublisherById(t.publisherId);this.subscribeToPublisher(e.id,n,t.id,t.subStreamLevel).then(()=>{this.$log.info("[ConferenceService] resubscribeToSession for element "+t.id+" and publisher id "+t.publisherId+" -- success"),t.reconnecting=!1}).catch(()=>{this.$log.error("[ConferenceService] subscribe to publisher failed, reset the video gallery element with id "+t.id),this.reInitialiseVideoGalleryElementById(e,t.id)})}}else t.reconnecting=!0,this.subscribeToPublisher(e.id,e.publishers[0],t.id,"2",!0).then(()=>{this.$log.info("[ConferenceService] resubscribeToSession dynamic feed for element "+t.id+" -- success"),t.reconnecting=!1}).catch(()=>{this.$log.error("[ConferenceService] subscribe to publisher dynamic feed failed, reset the video gallery element with id "+t.id),this.reInitialiseVideoGalleryElementById(e,t.id)})})}subscribeToPublishers(e){e&&e.publishers.length&&e.publishers.forEach(t=>{if("video"===t.mediaType&&!this.isAlreadySubscribedToPublisher(e.id,t.participantId)){const n=this.getFreeVideoGalleryElement(e.id);if(n){n.state="busy",n.publisherId=t.participantId;const r=t.simulcast?"0":null;this.subscribeToPublisher(e.id,t,n.id,r).catch(()=>{this.$log.error("[ConferenceService] subscribe to publisher failed, reset the video gallery element with id "+n.id),this.reInitialiseVideoGalleryElementById(e,n.id)})}}})}updateConferenceViewIfNeeded(e){if(!e)return;const t=this.conferenceSessions[e];t&&t.conferenceView===this.ConferenceSession.ConferenceView.GridView&&this.modifyConferenceView(e,this.ConferenceSession.ConferenceView.GalleryView)}modifyConferenceView(e,t){if(!e)return;const n=this.conferenceSessions[e];if(n&&n.conferenceView!==t){if(n.conferenceView=t,t===this.ConferenceSession.ConferenceView.GalleryView){if(n.videoGallery=this.updateVideoGalleryElementsState(n,n.videoGallery,t),!this.isAlreadySubscribedToDynamicFeed(n.id)){let e=null;for(const t of n.publishers)if("video"===t.mediaType){e=t;break}this.subscribeToDynamicFeed(n.id,e,n.videoGallery[0].id,"2",!0)}this.subscribeToPublishers(n)}else if(t===this.ConferenceSession.ConferenceView.SpeakerView){if(n.videoGallery=this.updateVideoGalleryElementsState(n,n.videoGallery,t),!this.isAlreadySubscribedToDynamicFeed(n.id)){let e=null;for(const t of n.publishers)if("video"===t.mediaType){e=t;break}this.subscribeToDynamicFeed(n.id,e,n.videoGallery[0].id,"2",!0)}}else t===this.ConferenceSession.ConferenceView.GridView&&(n.videoGallery=this.updateVideoGalleryElementsState(n,n.videoGallery,t),this.subscribeToPublishers(n));console.error(n.videoGallery),this.$rootScope.$broadcast("ON_CONFERENCE_UPDATED_EVENT",n)}}getActiveSpeakerSession(e){let t=null;if(!e)return t;const n=this.conferenceSessions[e];if(n)for(const r in n.sessions)if(n.sessions.hasOwnProperty(r)){const e=n.sessions[r];if(e.activeSpeaker){t=e;break}}return t}getPinnedGalleryElement(e){let t=null;if(!e)return t;const n=this.conferenceSessions[e];return n&&n.videoGallery&&n.videoGallery.forEach(e=>{e.pinned&&(t=e)}),t}subscribeToDynamicFeed(e="",t=null,n="",r=null,o=!1){return this.$q((i,s)=>{if(!e||!t)return this.$log.warn("[WebConferenceService] subscribeToDynamicFeed missing parameters !! Ignore !"),void i();if(!this.activeSpeaker)return this.$log.warn("[WebConferenceService] subscribeToDynamicFeed -- feature not activated"),void i();if(this.conferenceSessions[e].videoGallery[0].state="busy",this.conferenceSessions[e].conferenceView===this.ConferenceSession.ConferenceView.GalleryView&&!this.isAlreadySubscribedToPublisher(e,t.participantId)){const n=this.getFreeVideoGalleryElement(e);n&&(n.state="busy",n.publisherId=t.participantId,this.$interval((e,t,n)=>{this.subscribeToPublisher(e,t,n,"0")},2500,1,!0,e,t,n.id))}return this.subscribeToPublisher(e,t,n,r,o)})}subscribeToPublisher(e="",t=null,n="",r=null,o=!1){return this.$q((i,s)=>{if(!e||!t)return this.$log.warn("[WebConferenceService] subscribeToPublisher missing parameters !! Ignore !"),void i();this.$log.info("[WebConferenceService] subscribeToPublisher for confId "+e+" and publisher "+t.participantId),n&&this.relatePublisherToElement(e,t,n,r,o);const a=r?{subStreamLevel:r}:{};o&&(a.dynamicFeed=!0,"true"===this.settingsService.getSetting("dynamicFeedMediumStream")&&(a.subStreamLevel="1")),this.$http({method:"POST",url:this.confPortalURL+e+"/participants/"+t.participantId+"/subscribe",headers:this.authService.getRequestHeader(),data:a}).then(t=>{this.$log.info("[WebConferenceService] subscribeToPublisher successfully"),o&&this.relateSessionToActiveSpeakerElement(e,t.data.data.sid),i(t.data)},e=>{const t="subscribeToPublisher failure: "+(e.data?e.data.errorDetails:e.data);this.$log.error("[WebConferenceService] "+t),s(new Error(t))})})}onNetworkQualityChange(e){const t=this.getConferenceBySessionId(e);if(t&&t.sessions){const n=t.sessions[e];n&&"audio"===n.localType&&(this.videoService.callsStatsSimplified[e].networkQualityFlag===t.networkQuality?(this.videoService.callsStatsSimplified[e].networkQualityIteration=this.videoService.callsStatsSimplified[e].networkQualityIteration?this.videoService.callsStatsSimplified[e].networkQualityIteration+1:1,0===t.networkQuality&&this.videoService.callsStatsSimplified[e].networkQualityIteration>=3&&this.$rootScope.$broadcast("ON_CONFERENCE_NETWORK_UPDATE_EVENT",t,"badNetworkQuality",t.networkQuality)):this.videoService.callsStatsSimplified[e].networkQualityIteration=1,t.networkQuality=this.videoService.callsStatsSimplified[e].networkQualityFlag,this.$rootScope.$broadcast("ON_CONFERENCE_NETWORK_UPDATE_EVENT",t,"networkQuality",t.networkQuality))}}delegateConferenceToParticipant(e,t){return this.$q((n,r)=>{this.$http({method:"PUT",url:this.confPortalURL+e+"/participants/"+t+"/delegate",headers:this.authService.getRequestHeader()}).then(e=>{this.$log.info("[WebConferenceService] delegateConferenceToParticipant successfully"),n(e.data)},e=>{const t="delegateConferenceToParticipant failure: "+(e.data?e.data.errorDetails:e.data);this.$log.error("[WebConferenceService] "+t),r(new Error(t))})})}onConferenceDelegated(e,t){this.$log.info("[WebConferenceService] onConferenceDelegated from "+e+" to "+t),this.conferenceSessions[t]=this.conferenceSessions[e],this.conferenceSessions[t].id=t,this.isMyConference(t)&&(this.conferenceSessions[t].isMyConference=!0,this.conferenceSessions[t].participants&&this.conferenceSessions[t].participants.length&&this.conferenceSessions[t].participants.forEach(e=>{e.jid_im!==this.contactService.userContact.jid?e.role="member":e.jid_im===this.contactService.userContact.jid&&(e.role="moderator")})),this.isMyConference(e)&&(this.conferenceSessions[t].isMyConference=!1,this.conferenceSessions[t].participants&&this.conferenceSessions[t].participants.length&&this.conferenceSessions[t].participants.forEach(e=>{e.jid_im===this.contactService.userContact.jid&&(e.role="member")})),delete this.conferenceSessions[e],this.roomService.updateRoomConfEndpoint(e,t),this.$rootScope.$broadcast("ON_CONFERENCE_DELEGATED_EVENT",e,t),this.$rootScope.$broadcast("ON_CONFERENCE_UPDATED_EVENT",this.conferenceSessions[t]),!this.isMyConference(t)&&this.conferenceSessions[t].haveJoined&&this.$interval(e=>r(this,void 0,void 0,(function*(){const n=yield this.getConferenceEndpointInfos(e);if(n&&n.data&&n.data.userId){const e=this.contactService.getContactById(n.data.userId);e&&this.conferenceSessions[t].participants&&this.conferenceSessions[t].participants.length&&this.conferenceSessions[t].participants.forEach(t=>{t.jid_im===e.jid&&(t.role="moderator")}),this.$rootScope.$broadcast("ON_CONFERENCE_PARTICIPANT_EVENT",this.conferenceSessions[t])}})),100,1,!0,t)}getConferenceEndpointInfos(e,t="small"){return this.$q((n,r)=>{if(!e)return this.$log.error("[WebConferenceService] getConferenceEndpointInfos -- missing endpointId "),void r("[WebConferenceService] getConferenceEndpointInfos -- missing endpointId ");this.$http({method:"GET",url:this.confProvPortalURL+"conferences/"+e+"?format="+t,headers:this.authService.getRequestHeader()}).then(e=>{this.$log.info("[WebConferenceService] getConferenceEndpointInfos successfully"),n(e.data)},e=>{const t="getConferenceEndpointInfos failure: "+(e.data?e.data.errorDetails:e.data);this.$log.error("[WebConferenceService] "+t),r(new Error(t))})})}autoFillGalleryElementIfNecessary(e){if(this.disableAutoFillForGalleryElements)return;if(!e)return void this.$log.error("[WebConferenceService] autoFillGalleryElementIfNecessary -- missing conferenceSession");this.createVideoGalleryElements(e.conferenceView);let t=0;e.videoGallery.forEach(e=>{"busy"===e.state&&e.sessionId&&(this.videoGalleryElements[t].activeSpeaker=e.activeSpeaker,this.videoGalleryElements[t].highlight=e.highlight,this.videoGalleryElements[t].hold=e.hold,this.videoGalleryElements[t].mainSession=e.mainSession,this.videoGalleryElements[t].pinned=e.pinned,this.videoGalleryElements[t].publisherId=e.publisherId,this.videoGalleryElements[t].sessionId=e.sessionId,this.videoGalleryElements[t].simulcast=e.simulcast,this.videoGalleryElements[t].state=e.state,this.videoGalleryElements[t].subStreamLevel=e.subStreamLevel,this.videoGalleryElements[t].displayName=e.displayName,t+=1)}),e.videoGallery=this.videoGalleryElements,e.videoGallery=this.updateVideoGalleryElementsState(e,e.videoGallery,e.conferenceView),this.updateSubStreamLevelsForConferenceSession(e.id),setTimeout(()=>{this.subscribeToPublishers(e)},500)}addBundleMediaToConferenceSession(e){let t;if(this.$log.info("[WebConferenceService] addBundleMediaToConferenceSession"),e)for(const n in e.sessions)if(e.sessions.hasOwnProperty(n)){const r=e.sessions[n];if("audio"===r.localType||"audio+video"===r.localType){t=r;break}}if(t){this.addingMedia=!0;const n=["audio","video"],r=this.profileService.isFeatureEnabled(this.profileService.FeaturesEnum.WEBRTC_CONFERENCE_SIMULCAST),o=17,i=r?1280:640,s=r?720:480;this.videoService.getBrowserMedia(n,i,s,o).then(n=>{this.addingMedia=!1,this.videoService.stopActiveAudioVideoStreams(t),t.removeStream(e.localStreams[0]),t.localStreams=[],e.localStreams[0]=n,t.localStreams.push(n),t.addStream(e.localStreams[0],!0),t.contentAdd("video",!0),e.hasLocalVideo=!0,e.localVideoSessionId=t.sid,t.localStreamId=0,this.$rootScope.$broadcast("ON_CONFERENCE_UPDATED_EVENT",e)}).catch(()=>{this.addingMedia=!1})}}}_.$inject=["$q","$rootScope","$log","$http","$interval","videoService","errorHelperService","ConferenceSession","platformService","Conference"],angular.module("rainbow").service("webConferenceService",_)},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(395),i=n(11),s=n(24),a=n(396),l=n(2),c=n(3),u=n(5),d=n(7),f=n(58),_=n(34),h=n(0),p=n(38);class m{constructor(e,t,n,r,o,s){this.$q=e,this.$rootScope=t,this.$interval=n,this.$translate=r,this.$http=o,this.webConferenceService=s,this.MEDIATYPE={PSTNAUDIO:"pstnAudio",WEBRTC:"webrtc",WEBRTCSHARINGONLY:"webrtcSharingOnly"},this.started=!1,this.rxUpdateSubject=new i.Subject,this.hasConferenceRights=!1,this.maxNumberOfUsersSFU=0,this.authService=c.default,this.xmppService=u.default,this.profileService=d.default,this.contactService=l.default,this.roomService=_.default,this.pgiConferenceService=f.default,this.utilitiesService=a.default,this.logger=h.default,this.errorHelperService=p.default,this.stateMap={in_progress:"watching",ringing:"ringing",active:"connected",hangup:"disconnected"},this.listeners=[],this.conferenceRef=null}start(e){return this.contactService.userContact&&!this.contactService.userContact.roomsEnabled?(this.logger.info("[ConferenceService] === start skipped - roomsEnabled : "+this.contactService.userContact.roomsEnabled),this.$q.when()):this.$q(t=>{const n=performance.now();return this.logger.info("[ConferenceService] === STARTING ==="),this.hasConferenceRights=this.profileService.isFeatureEnabled(this.profileService.FeaturesEnum.WEBRTC_CONFERENCE_ALLOWED),this.maxNumberOfUsersSFU=this.profileService.getFeatureLimitMax(this.profileService.FeaturesEnum.WEBRTC_CONFERENCE_PARTICIPANT_COUNT),this.maxNumberOfUsersSFU||(this.maxNumberOfUsersSFU=20),this.confProvPortalURL=config.restServerUrl+"/api/rainbow/confprovisioning/v1.0/",this.confPortalURL=config.restServerUrl+"/api/rainbow/conference/v1.0/conferences/",this.attachHandlers(),this.webConferenceService.retrieveWebConferences(this.MEDIATYPE.WEBRTC).then(()=>this.webConferenceService.retrieveWebConferences(this.MEDIATYPE.WEBRTCSHARINGONLY)).then(()=>this.makeSnapshots()).then(()=>{this.started=!0;const r=Math.round(performance.now()-n);e.push({service:"conferenceService",startDuration:r}),this.logger.info("[ConferenceService] === STARTED ("+r+" ms) ==="),t()}).catch(e=>{this.logger.info("[ConferenceService] === STARTING FAILURE === "+e.message),t()})})}stop(){return this.contactService.userContact&&!this.contactService.userContact.roomsEnabled?(this.logger.info("[ConferenceService] === stop skipped - roomsEnabled : "+this.contactService.userContact.roomsEnabled),this.$q.when()):this.$q(e=>{this.logger.info(""),this.logger.info("[ConferenceService] === STOPPING ==="),this.listeners&&this.listeners.forEach(e=>{e()}),this.started=!1,this.logger.info("[ConferenceService] === STOPPED ==="),e()})}reconnect(){this.reconnectService()}attachHandlers(){this.logger.info("[ConferenceService] attachHandlers"),this.conferenceRef&&(this.xmppService.connection.deleteHandler(this.conferenceRef),this.conferenceRef=null),this.conferenceRef=this.xmppService.connection.addHandler(e=>this.onConferenceUpdate(e),"jabber:iq:conference","message",null)}reconnectService(){!this.contactService.userContact||this.contactService.userContact.roomsEnabled?(this.logger.info("[ConferenceService] reconnectService"),this.attachHandlers(),this.refreshConferenceSessions()):this.logger.info("[ConferenceService] === reconnectService skipped - roomsEnabled : "+this.contactService.userContact.roomsEnabled)}subscribe(e,t){return"update"===e?this.rxUpdateSubject.subscribe(t):null}getWebConferenceEndpoints(){return this.webConferenceService.conferenceEndpoints}makeSnapshotsForList(e){return this.$q(t=>{if(this.logger.info("[ConferenceService] makeSnapshotsForList"),!e||!e.length)return void t();const n=[];for(let r=0;r<e.length;r++)e[r].mediaType===this.MEDIATYPE.PSTNAUDIO?n.push(this.pgiConferenceService.makeSnapshotForConfId(e[r].confEndpointId)):n.push(this.webConferenceService.makeSnapshotForConfId(e[r].confEndpointId,e[r].mediaType));this.$q.all(n).finally(()=>{t(this.getConferenceSessionForRoom(e))})})}getConferenceSessionForRoom(e){let t=null,n=null;if(e&&e.length)for(let r=0;r<e.length;r++)e[r].mediaType===this.MEDIATYPE.PSTNAUDIO?t=this.pgiConferenceService.getConferenceSessionById(e[r].confEndpointId):n=this.webConferenceService.conferenceSessions[e[r].confEndpointId];return t||n}getMatchingConferenceSession(e,t){let n=null;if(e&&e.length)for(let r=0;r<e.length;r++)e[r].confEndpointId===t&&(n=e[r].mediaType===this.MEDIATYPE.PSTNAUDIO?this.pgiConferenceService.getConferenceSessionById(t):this.webConferenceService.conferenceSessions[t]);return n}makeSnapshots(){return this.logger.info("[ConferenceService] makeSnapshots"),this.$q(e=>{const t=[];for(const n in this.webConferenceService.conferenceEndpoints)if(this.webConferenceService.conferenceEndpoints.hasOwnProperty(n)){const e=this.webConferenceService.conferenceEndpoints[n];t.push(this.webConferenceService.makeSnapshotForConfId(e.id,e.mediaType))}this.$q.all(t).finally(()=>{this.logger.info("[ConferenceService] makeSnapshots done"),e()})})}onConferenceUpdate(e){const t=$(e).find("conference-id").text(),n=$(e).find("conference-info").length?$(e).find("conference-info").attr("action"):"",r=this.webConferenceService.conferenceSessions[t];if("reject"===n){const e=this.roomService.findRoomsWithConfId(t);return e&&e.length&&this.$rootScope.$broadcast("ON_CONFERENCE_ENDED_INVITATION",e[0]),!0}if("delegate"===n){const n=$(e).find("new-conference-id").text();return this.webConferenceService.onConferenceDelegated(t,n),!0}return r?r.haveJoined?this.updateConferenceSession(e,r):(this.updateConferenceSessionActiveState(e,r),this.checkIfUserHasJoinedConferenceFromOtherDevice(e,t,r)):this.checkIfUserHasJoinedConferenceFromOtherDevice(e,t),!0}checkIfUserHasJoinedConferenceFromOtherDevice(e,t,n=null){try{const r=$(e).find("participants");n&&(n.joinedFromOtherDevice=!1),r&&r.length&&r.find("participant").each((e,r)=>{if($(r).find("jid-im").text()===this.contactService.userContact.jid){const e=this.roomService.findRoomsWithConfId(t);e&&e.length&&this.$rootScope.$broadcast("ON_CONFERENCE_ENDED_INVITATION",e[0]),n&&(n.joinedFromOtherDevice=!0)}})}catch(r){return}}updateConferenceSession(e,t){this.logger.info("[ConferenceService] updateConferenceSession");const n=$(e);let r;const o=n.find("conference-state");if(o.length){const e="true"===o.find("active").text(),n="true"===o.find("talker-active").text(),r="true"===o.find("recording-started").text(),i="true"===o.find("lock").text();let s=o.find("locked-by").text();s||(s=o.find("unlocked-by").text());let a="";!e&&o.find("reason")&&(a=o.find("reason").text()),this.updateState(t,e,n,r,i,s,a)}const i=n.find("talkers");if(i.length){const e=[];i.find("participant-id").each((t,n)=>{const r=$(n).text();e.push(r)}),n.find("conference-id").text(),this.updateTalkers(t,e)}let s=n.find("participants");if(0===s.length&&(s=n.find("updated-participants")),s.length||(s=n.find("added-participants")),s.length){const e=[];s.find("participant").each((t,n)=>{const o=$(n),i=o.find("participant-id").text(),s=o.find("jid-im").text(),a=o.find("phone-number").text(),l=o.find("role").text(),c=o.find("mute").text(),u=o.find("hold").text(),d=o.find("cnx-state").text(),f=o.find("delegate-capability").text();let _=o.find("microphone").text();_||(_="true");const h="true"===o.find("talking").text();e.push({participantId:i,jid_im:s,phoneNumber:a,participantRole:l,mute:"on"===c,held:"on"===u,participantState:d,delegateCapability:"true"===f,microphone:"true"===_}),h&&(r=i)}),e.length>0&&(t.conferenceStats&&(t.conferenceStats.isUpdate=!1),this.createOrUpdateParticipants(t,e))}else{const e=[];if(n.find("participant").length){const r=n.find("participant-id").text(),o=n.find("jid-im").text(),i=n.find("phone-number").text(),s="member",a=n.find("session-info").text(),l=this.stateMap[a];let c="true";e.push({participantId:r,jid_im:o,phoneNumber:i,participantRole:s,mute:!1,held:!1,participantState:l,delegateCapability:!1,microphone:"connected"===l&&"true"===c}),this.createOrUpdateParticipants(t,e)}}const a=n.find("removed-participants");if(a.length){const e=[];a.find("participant-id").each((t,n)=>{const r=$(n).text();e.push(r)}),this.removeParticipants(t,e),t.participants.length<=1&&(n.find("conference-id").text(),this.updateTalkers(t,[])),t.conferenceStats&&(t.conferenceStats.isUpdate=!1)}const l=n.find("added-publishers");l.length&&(l.find("publisher").each((e,n)=>{const r=$(n),o=r.find("publisher-id").text(),i=r.find("media-type").text(),s=r.find("jid-im").text(),a="true"===r.find("simulcast").text();this.addPublisher(t,o,i,s,a)}),this.$rootScope.$broadcast("ON_CONFERENCE_PUBLISHER_UPDATED",t));const c=n.find("removed-publishers");c.length&&(c.find("publisher").each((e,n)=>{const r=$(n),o=r.find("participant-id").text(),i=r.find("media-type").text();for(let s=0;s<t.publishers.length;s++){const e=t.publishers[s];if(e.participantId===o&&e.mediaType===i){t.publishers.splice(s,1);break}}if("video"===i&&this.webConferenceService.isAlreadySubscribedToPublisher(t.id,o)){this.logger.info("[ConferenceService] removed-publishers : subscribed to this publisher, so re-init the element");const e=this.webConferenceService.getRelatedElementToPublisher(t.id,o);e&&this.webConferenceService.reInitialiseVideoGalleryElementById(t,e.id)}}),this.$rootScope.$broadcast("ON_CONFERENCE_PUBLISHER_UPDATED",t));const u=n.find("publishers");return u.length&&(u.find("publisher").each((e,n)=>{const r=$(n),o=r.find("publisher-id").text(),i=r.find("media-type").text(),s=r.find("jid-im").text(),a="true"===r.find("simulcast").text();this.addPublisher(t,o,i,s,a)}),this.$rootScope.$broadcast("ON_CONFERENCE_PUBLISHER_UPDATED",t)),r&&this.updateTalkers(t,[r]),!0}updateConferenceSessionActiveState(e,t){const n=$(e).find("conference-state");if(n.length){this.logger.info("[ConferenceService] updateConferenceSessionActiveState");const e="true"===n.find("active").text(),r="true"===n.find("talker-active").text(),o="true"===n.find("recording-started").text();let i="";!e&&n.find("reason")&&(i=n.find("reason").text()),this.updateState(t,e,r,o,null,null,i)}}updateState(e,t,n,r,o=!1,i="",s=""){if(t||this.contactService.resetBusyState(),e.active&&!t){if(this.contactService.userContact.guestMode&&e.type!==this.MEDIATYPE.WEBRTCSHARINGONLY)this.$rootScope.$broadcast("ON_OPEN_POPUP","concludeInvitation");else{const t=this.roomService.findRoomsWithConfId(e.id);if(t&&t.length&&!t[0].owner)switch(e.type){case this.MEDIATYPE.WEBRTCSHARINGONLY:break;case this.MEDIATYPE.PSTNAUDIO:case this.MEDIATYPE.WEBRTC:default:if(e.isParticipantConnectedByJid(this.contactService.userContact.dbId)){const e=_escape(t[0].ownerContact.displayName),n=_escape(t[0].name),r=this.$translate.instant("meetingEndBy",{owner:e,meeting:n});this.$rootScope.$broadcast("GLOBAL_NOTIFY_MESSAGE_EVENT",r)}}}e.participants=[],e.status="ended",s&&"noOwnerFound"===s&&this.$rootScope.$broadcast("ON_OPEN_GLOBAL_POPUP",{popupTitle:"conference",popupBody:"autoDelegationNotPossible",okLabel:"ok"})}e.updateStateFromData(t,n,r,o),this.$rootScope.$broadcast("ON_CONFERENCE_STATE_EVENT",e),i&&this.$rootScope.$broadcast("ON_CONFERENCE_LOCKED_EVENT",o,i),t||this.$rootScope.$broadcast("ON_CONVERSATIONS_UPDATED_EVENT")}updateTalkers(e,t){e.updateTalkers(t),this.$rootScope.$broadcast("ON_CONFERENCE_TALKER_EVENT",e)}getServerConferenceStats(e){return r(this,void 0,void 0,(function*(){try{const t=`${config.restServerUrl}/api/rainbow/conference/v1.0/conferences/${e}/talkingtime`,n=this.authService.getRequestHeader(),i=yield fetch(t,{method:"GET",headers:n});if(!i.ok)throw i;const s=yield i.json();if(0===s.data.participants.length)return null;const a=new o.ConferenceStats;if(yield this.utilitiesService.asyncForEach(s.data.participants,e=>r(this,void 0,void 0,(function*(){if(e.talkingTime>0){const t=new o.ConferenceStatsParticipant(e.userId);t.contact=yield this.contactService.getContactByDBId(e.userId),t.talkDuration=1e3*e.talkingTime,a.participants.push(t),a.talkDuration+=t.talkDuration}}))),a.participants=a.participants.sort((e,t)=>t.talkDuration-e.talkDuration),a.participants.length>0){const e=a.participants[0].talkDuration;a.participants.forEach(t=>{t.talkDisplay=Math.trunc(100*t.talkDuration/e)})}return a}catch(t){const e=yield this.errorHelperService.getErrorInfo(t,"getServerConferenceStats");throw this.logger.error("[ConferenceService] "+e.message),e.error}}))}createOrUpdateParticipants(e,t){e.updateParticipants(t).then(t=>{if(e.participants.find(e=>e.jid_im===this.contactService.userContact.id&&"disconnected"!==e.state)&&e.type===this.MEDIATYPE.WEBRTC){const t=e.hasLocalSharing?"sharing":"audio";this.contactService.setBusyState("dnd",t)}this.$rootScope.$broadcast("ON_CONFERENCE_PARTICIPANT_EVENT",e),"webrtc"===e.type&&t&&this.$rootScope.$broadcast("ON_WEB_CONFENRECE_PARTICIPANT_JOINED_EVENT",e,t)})}removeParticipants(e,t){if(e.removeParticipants(t),!e.participants.find(e=>e.jid_im===this.contactService.userContact.id))switch(this.contactService.resetBusyState(),e.type){case this.MEDIATYPE.WEBRTC:if(this.webConferenceService.removeAllJingleSessionsForConferenceSession(e.id),e.active){const t=this.roomService.findRoomsWithConfId(e.id);if(t.length&&!this.webConferenceService.isMyConference(e.id)){const e=_escape(t[0].name),n=this.$translate.instant("meetingDisconnect",{meeting:e});this.$rootScope.$broadcast("GLOBAL_NOTIFY_MESSAGE_EVENT",n)}}e.cleanupSessionData(),this.$rootScope.$broadcast("ON_CONFERENCE_UPDATED_EVENT",e);break;case this.MEDIATYPE.WEBRTCSHARINGONLY:this.webConferenceService.removeAllJingleSessionsForConferenceSession(e.id),e.cleanupSessionData()}this.$rootScope.$broadcast("ON_CONFERENCE_PARTICIPANT_EVENT",e)}addPublisher(e,t,n,r,o=!1){let i=!0;for(let a=0;a<e.publishers.length;a++){const r=e.publishers[a];if(r.participantId===t&&r.mediaType===n){i=!1;break}}const s={participantId:t,mediaType:n,jid_im:r,simulcast:o};if(i&&e.publishers.push(s),i&&"video"===n){const n=this.webConferenceService.getFreeVideoGalleryElement(e.id);let r=!1;this.webConferenceService.isActiveSpeakerEnabled()&&n&&"videoGallery_0"===n.id&&(r=!0),n&&!this.webConferenceService.isAlreadySubscribedToPublisher(e.id,s.participantId)&&(this.logger.info("[ConferenceService] will subscribe in confId("+e.id+") to publisher with id "+t+" and element id "+n.id+" in few moments"),n.state="busy",n.publisherId=s.participantId,this.$interval((e,t,n,r)=>{if("busy"===n.state&&n.publisherId===t.participantId){this.logger.info("[ConferenceService] subscribe in confId("+e.id+") to publisher with id "+t.participantId+"and element id "+n.id);let o=null;t.simulcast&&(r?(o="2",n.publisherId=""):o="0"),r?this.webConferenceService.subscribeToDynamicFeed(e.id,t,n.id,o,r).catch(()=>{this.logger.error("[ConferenceService] subscribe to publisher failed, reset the video gallery element with id "+n.id),this.webConferenceService.reInitialiseVideoGalleryElementById(e,n.id)}):this.webConferenceService.subscribeToPublisher(e.id,t,n.id,o,r).catch(()=>{this.logger.error("[ConferenceService] subscribe to publisher failed, reset the video gallery element with id "+n.id),this.webConferenceService.reInitialiseVideoGalleryElementById(e,n.id)})}},1500,1,!0,e,s,n,r))}}stopConference(e="",t=this.MEDIATYPE.WEBRTC,n=""){if(this.logger.info("[ConferenceService] stopConference( confId="+e+", type="+t+")"),!e||!n&&t!==this.MEDIATYPE.PSTNAUDIO)return this.logger.warn("[ConferenceService] stopConference missing conf ID or roomID"),this.$q.reject();const r=this.webConferenceService.conferenceSessions[e];return r&&r.isActive()?this.$q((r,o)=>{this.$http({method:"PUT",url:this.confPortalURL+e+"/stop",headers:this.authService.getPostHeader(),data:{mediaType:t,roomId:n}}).then(()=>{this.contactService.resetBusyState();const t=this.webConferenceService.conferenceSessions[e];t&&(this.updateState(t,!1,!1,!1),t.cleanupSessionData(),this.$rootScope.$broadcast("ON_CONFERENCE_STATE_EVENT",t)),this.logger.info("[ConferenceService] stopConference( confId="+e+") successfully"),r()},t=>{const n=t.data?t.data.errorDetails:t.data,r="stopConference( confId="+e+") failure: "+n;if(this.logger.error("[ConferenceService] "+r),404e3!==t.data.errorDetailsCode)this.$rootScope.$broadcast("ON_OPEN_GLOBAL_POPUP",{popupTitle:"warning",popupBody:"stopMeetingFailure",okLabel:"ok"});else{const t=this.webConferenceService.conferenceSessions[e];t&&(t.active=!1,t.participants=[],this.removeConferenceSession(t),this.$rootScope.$broadcast("ON_CONFERENCE_STATE_EVENT",t))}o(new Error(r))})}):(this.logger.warn("[ConferenceService] stopConference - no active conference session to stop"),this.$q.reject())}removeConferenceSession(e=null){e&&(e.type===this.MEDIATYPE.WEBRTC||e.type===this.MEDIATYPE.WEBRTCSHARINGONLY?(this.webConferenceService.leaveWebConference(e.id),this.webConferenceService.removeConferenceSession(e.id)):this.pgiConferenceService.removeConferenceSession(e.id))}disconnectsParticipant(e,t,n=this.MEDIATYPE.PSTNAUDIO){return e&&t?this.$q((r,o)=>{this.logger.info("[ConferenceService] disconnectsParticipant( confId="+e+"participantId="+t+")"),this.$http({method:"DELETE",url:this.confPortalURL+e+"/participants/"+t+"?mediaType="+n,headers:this.authService.getRequestHeader()}).then(()=>{this.logger.info("[ConferenceService] disconnectsParticipant( confId="+e+"participantId="+t+") successfully"),r()},n=>{const r=n.data?n.data.errorDetails:n.data,i="disconnectsParticipant( confId="+e+"participantId="+t+") failure: "+r;this.logger.error("[ConferenceService] "+i),o(new Error(i))})}):(this.logger.warn("[ConferenceService] disconnectsParticipant missing conf ID or participantId"),this.$q.reject())}updateConference(e,t,n=this.MEDIATYPE.PSTNAUDIO){return n===this.MEDIATYPE.PSTNAUDIO?this.pgiConferenceService.updateConference(e,t):this.webConferenceService.updateConference(e,t)}updateConferenceState(e,t,n=this.MEDIATYPE.PSTNAUDIO){return this.logger.info("[ConferenceService] updateConferenceState( confId="+e+", option="+t+" mediaType="+n+")"),e&&t?this.$q((r,o)=>{let i=null;if(i=n===this.MEDIATYPE.PSTNAUDIO?this.pgiConferenceService.getConferenceSessionById(e):this.webConferenceService.conferenceSessions[e],!i)return this.logger.error("[ConferenceService] updateConferenceState - no corresponding conference session to update"),void o();this.$http({method:"PUT",url:this.confPortalURL+e+"/update",headers:this.authService.getRequestHeader(),data:{option:t,mediaType:i.type}}).then(t=>{const n=t.data.data;this.logger.info("[ConferenceService] updateConferenceState( confId="+e+") successfully"),r(n)},t=>{const n=t.data?t.data.errorDetails:t.data,r="updatsConferenceState( confId="+e+") failure: "+n;this.logger.error("[ConferenceService] "+r),o(new Error(r))})}):(this.logger.error("[ConferenceService] updateConferenceState - missing a parameter"),this.$q.reject())}updateParticipantState(e,t,n,r=this.MEDIATYPE.PSTNAUDIO,o=null,i=null,s=null,a=null){return this.logger.info("[ConferenceService] updateParticipantState( confId="+e+"participantId="+t+" option="+n+" mediaType="+r+")"),e&&t&&n?this.$q((l,c)=>{let u=null;if(u=r===this.MEDIATYPE.PSTNAUDIO?this.pgiConferenceService.getConferenceSessionById(e):this.webConferenceService.conferenceSessions[e],!u)return this.logger.error("[ConferenceService] updateParticipantState - no corresponding conference session to update"),void c();const d={option:n,mediaType:u.type};o&&(d.media=o),i&&(d.bitRate=i),a&&(d.publisherId=a),s&&(d.subStreamLevel=s),this.$http({method:"PUT",url:this.confPortalURL+e+"/participants/"+t,headers:this.authService.getRequestHeader(),data:d}).then(n=>{const r=n.data;this.logger.info("[ConferenceService] updateParticipantState( confId="+e+"participantId="+t+") successfully"),l(r)},n=>{const r=n.data?n.data.errorDetails:n.data,o="updateParticipantState( confId="+e+"participantId="+t+") failure: "+r;this.logger.error("[ConferenceService] "+o),c(new Error(o))})}):(this.logger.error("[ConferenceService] updateParticipantState - missing a parameter"),this.$q.reject())}addPSTNParticipantToConference(e=null,t=null){return r(this,void 0,void 0,(function*(){this.logger.debug("[roomService] addPSTNParticipantToRoom - confId: "+e+" - phoneNumber: "+t);try{const n=`${this.confPortalURL}${e}/add`,r=this.authService.getPostHeader(),o=JSON.stringify({participantPhoneNumber:t}),i=yield fetch(n,{method:"POST",headers:r,body:o});if(!i.ok)throw i;return void this.logger.info("[roomService] addPSTNParticipantToRoom success")}catch(n){const e=yield this.errorHelperService.getErrorInfo(n,"addPSTNParticipantToRoom");throw this.logger.error("[roomService] "+e.message),e.error}}))}isUserContactInCall(){for(const e in this.webConferenceService.conferenceSessions)if(this.webConferenceService.conferenceSessions.hasOwnProperty(e)&&this.webConferenceService.conferenceSessions[e].isParticipantConnectedByJid(this.contactService.userContact.jid))return!0;return!1}refreshConferenceSessions(){const e=[];return e.push(this.webConferenceService.refreshConferenceSessions()),this.$q.all(e)}computeJoinStartForSFUConference(e,t=null){const n={showStartButton:!1,showJoinButton:!1,isActionDisabled:!1,startOrJoinTooltip:""},r=e.room.getUserByJid(this.contactService.userContact.jid);if(r&&"unsubscribed"===r.status)return this.rxUpdateSubject.next(new s.RBEvent("CONFERENCE_BUTTON_STATUS",n)),n;if(!e.room.isMeetingRoom()&&!this.contactService.userContact.webrtcAudioEnabled)return n.showStartButton=!1,n.showJoinButton=!1,n;const o=t||this.webConferenceService.getConferenceSessionForRoom(e.room.confEndpoints);if(o&&o.status&&"ended"!==o.status)n.showStartButton=!1,n.showJoinButton=!1;else if(o&&o.isActive()&&!o.haveJoined)n.showStartButton=!1,n.showJoinButton=!0;else if(e.room.isUserModerator(this.contactService.userContact)){if(n.showStartButton=!0,!this.hasConferenceRights)return n.isActionDisabled=!0,n.startOrJoinTooltip="startConferenceNoRights",this.rxUpdateSubject.next(new s.RBEvent("CONFERENCE_BUTTON_STATUS",n)),n;const t=e.room.users.filter(e=>e.contact&&e.contact.initialized&&!e.contact.isAnonymousGuest()&&!e.contact.isBadGuest()&&!e.contact.isTerminated&&("invited"===e.status||"accepted"===e.status));let r=0;return e.room.guestEmails&&(r=e.room.guestEmails.length),e.room.guestPhoneNumbers&&(r+=e.room.guestPhoneNumbers.length),t.length+r>this.maxNumberOfUsersSFU?(n.isActionDisabled=!0,n.startOrJoinTooltip=this.$translate.instant("disabledStartConference",{number:this.maxNumberOfUsersSFU}),this.rxUpdateSubject.next(new s.RBEvent("CONFERENCE_BUTTON_STATUS",n)),n):(n.isActionDisabled=!1,n.startOrJoinTooltip="startConference",this.rxUpdateSubject.next(new s.RBEvent("CONFERENCE_BUTTON_STATUS",n)),n)}return this.rxUpdateSubject.next(new s.RBEvent("CONFERENCE_BUTTON_STATUS",n)),n}}m.$inject=["$q","$rootScope","$interval","$translate","$http","webConferenceService"],t.ConferenceService=m,angular.module("rainbow").service("conferenceService",m)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ConferenceStats=class{constructor(){this.participants=[],this.talkDuration=0}},t.ConferenceStatsParticipant=class{constructor(e){this.talkerId=null,this.contact=null,this.talkDuration=0,this.activeSince=null,this.talkDisplay=0,this.talkerId=e}}},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});class o{static getInstance(){const e=window;return e.rainbow||(e.rainbow={}),e.rainbow.utilitiesService||(e.rainbow.utilitiesService=new o),e.rainbow.utilitiesService}constructor(){this.rtlDirCheck=new RegExp("^[^֑-߿‏‫‮יִ-﷽ﹰ-ﻼ]*?[֑-߿‏‫‮יִ-﷽ﹰ-ﻼ]")}emojiShortnameToImage(e,t=!0){let n=e,r="";if(t){const e=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>]/,t=(config.webservices.protocol+"://meet."+config.webservices.server).replace(".red",".com")+"/",o=/^mailto:/;let i=null;for(;i=n.match(e);){let e=i[0];i[2]===i[3]&&(e="mailto:"+e);const s=emojione.shortnameToImage(n.substr(0,i.index));e.match(t)?r+=`${s}<span class="publiclink" >${i[0].replace(o,"")}</span>`:r+=`${s}<a target="_blank" href="${e}">${i[0].replace(o,"")}</a>`,n=n.substring(i.index+i[0].length)}}return r+=emojione.shortnameToImage(n),r}asyncForEach(e,t){return r(this,void 0,void 0,(function*(){for(let n=0;n<e.length;n++)yield t(e[n],n,e)}))}isRTL(e){return this.rtlDirCheck.test(e.charAt(0))}}t.UtilitiesService=o,t.default=o.getInstance()},function(e,t,n){n.r(t);var r=n(23),o=n(6),i=n.n(o),s=n(3),a=n.n(s),l=n(5),c=n.n(l),u=n(7),d=n.n(u);angular.module("rainbow").service("calendarService",["$q","$rootScope","$log","$http","$interval","contactService","errorHelperService","conversationService",function(e,t,n,o,s,l,u,f){var _=this;this.intervalID=null,this.subscriptions=[],this.start=function(t){n.info(""),n.info("[calendarService] === STARTING ===");var o=performance.now();_.eventSubject=new r.a,_.serviceActivated=!1,_.serviceState=null,_.calendarState=null,_.autorizationLink="",_.calendaRejectIfBusyActivated=!1,n.info("[calendarService] listen 'out of office' status for roster contacts"),s(_.getAutoReplyForEachContact,15e3,1),_.intervalID=s(_.updateAutoReplyForEachContact,9e5),_.officeCalendarPresenceEnabled=d.a.isFeatureEnabled(d.a.FeaturesEnum.MSO365_CALENDAR_PRESENCE),_.googleCalendarPresenceEnabled=d.a.isFeatureEnabled(d.a.FeaturesEnum.GOOGLE_CALENDAR_PRESENCE),_.calendarPresenceEnabled=_.officeCalendarPresenceEnabled||_.googleCalendarPresenceEnabled,n.info("[calendarService] calendar presence status from profileService : "+_.calendarPresenceEnabled),_.disableCalendarPresencePrompt="true"===i.a.getSetting("disableCalendarPresence"),n.info("[calendarService] calendar presence prompt status from userSettings : "+!_.disableCalendarPresencePrompt);var a=Math.round(performance.now()-o);return t.push({service:"calendarService",startDuration:a}),n.info("[calendarService] === STARTED ("+a+" ms) ==="),_.calendarPresenceEnabled&&!l.userContact.guestMode&&(_.attachHandlers(),_.xmppConnectionSubscription=c.a.subscribeToConnectionEvents(e=>{_.onConnectionStateChange(e)}),_.subscriptions.push(c.a.subscribeToContactEvents(e=>{"ON_CONTACT_PRESENCE_EVENT"===e.name&&_.onCalendarPresenceChange(e.data)})),_.getCalendarState().then((function(){"enabled"===_.serviceState&&_.handleEnableState()})).catch((function(e){_.serviceActivated=!1,_.serviceState="failed",n.error("[calendarService] === STARTING FAILURE === "+e.message)}))),e.when()},this.reconnect=function(){this.attachHandlers()},this.attachHandlers=function(){n.info("[calendarService] attachHandlers"),_.messageHandlerRef&&(c.a.deleteHandler(_.messageHandlerRef),_.messageHandlerRef=null),_.messageHandlerRef=c.a.addHandler((function(e){return _.onUpdateMessageReceived(e),!0}),"jabber:iq:configuration","message",null)},this.stop=function(){return n.info("[calendarService] === STOPPING ==="),_.serviceActivated=!1,_.subscriptions&&_.subscriptions.forEach(e=>{e.unsubscribe()}),_.xmppConnectionSubscription&&_.xmppConnectionSubscription.unsubscribe(),_.messageHandlerRef&&(c.a.deleteHandler(_.messageHandlerRef),_.messageHandlerRef=null),_.intervalID&&s.cancel(_.intervalID),n.info("[calendarService] === STOPPED ==="),e.when()},this.onConnectionStateChange=function(e){"ON_XMPP_CONNECTED"===e.name&&(n.info("[calendarService] onConnectionStateChange state:"+e.name),_.getCalendarState().then((function(){"enabled"===_.serviceState&&_.handleEnableState(),"consent_required"===_.serviceState&&_.handleConsentRequiredState()})).catch((function(e){_.serviceActivated=!1,_.serviceState="failed",n.error("[calendarService] === FAILURE === "+e.message)})))},this.handleEnableState=function(){const e=this.calendarState.until?new Date(this.calendarState.until):null,t=this.calendarState.busy?"dnd":"online",n=this.calendarState.busy?"busy":"";_.updateCalendarPresenceForUser(l.userContact.jid,t,e,n)},this.handleConsentRequiredState=async function(){const e=await _.getRegistrationParams(!1);t.$broadcast("ON_OPEN_CALENDARSELECTION_POPUP",e)},this.onUpdateMessageReceived=function(e){const t=$(e).find("calendar");return t.length&&(_.serviceState=t.attr("status"),_.serviceActivated="enabled"===_.serviceState,_.eventSubject.next({action:"ON_CALENDAR_STATUS_CHANGE",data:_.serviceActivated}),n.info("[calendarService] onUpdateMessageReceived with state : "+_.serviceState),"consent_required"===_.serviceState&&_.handleConsentRequiredState()),!0},this.onCalendarPresenceChange=function(e){if(l.isTelJid(e.jid)&&"calendar"===l.getResourceFromJid(e.jid)){var t=l.getImJid(e.jid);t&&(n.info("[calendarService] onCalendarPresenceChange -- status: "+e.status+" -- until: "+e.until+" -- message: "+e.message+" -- auto dnd: "+e.applyCalendarPresence),_.updateCalendarPresenceForUser(t,e.status,e.until,e.message,e.applyCalendarPresence))}},this.updateAutoReplyForEachContact=function(){_.getAutoReplyInfoForContact(l.userContact),_.getAutoReplyForEachContact()},this.getAutoReplyForEachContact=function(){n.info("[calendarService] getAutoReplyForEachContact"),f.getConversations().forEach((function(e){null!==e.contact&&_.getAutoReplyInfoForContact(e.contact)}))},this.getAutoReplyInfoForContact=function(t){return e((function(e,r){if(!t.calendarState.status)return n.info("[calendarService] getAutoReplyInfoForContact user has no calendar state"),void e();if(t.calendarState.lastUpdate){var i=moment.duration(t.calendarState.lastUpdate.diff(moment()));if(Math.abs(Math.floor(i.asMinutes()))<15)return n.info("[calendarService] getAutoReplyInfoForContact state has been updated in the last 15min"),void e()}t.calendarState.lastUpdate=moment(),o({method:"GET",url:config.restServerUrl+"/api/rainbow/calendar/v1.0/automatic_reply?userid="+t.dbId,headers:a.a.getRequestHeader()}).then((function(r){_.treatOutOfOfficeState(r.data,t),n.info("[calendarService] getAutoReplyInfoForContact success for contact "+t.dbId),e()}),(function(e){var t=u.handleError(e);n.error("[calendarService] "+u.getErrorFullMessage(e,"getAutoReplyInfoForContact")),r(t)}))}))},this.getCalendarState=function(){return e((function(e,t){o({method:"GET",url:config.restServerUrl+"/api/rainbow/calendar/v1.0",headers:a.a.getRequestHeader()}).then((function(t){var r="[calendarService] getCalendarState success -- ",o=t.data;"busy"===o.status||"free"===o.status||"out_of_office"===o.status?(_.serviceState="enabled",_.calendarState=o,r+=_.serviceState+" "+_.calendarState.status):(_.serviceState=o.status,_.calendarState=null,r+=_.serviceState),n.info(r),e(t.data)}),(function(){n.error("[calendarService] getCalendarState failure -- CalendarService portal not responding"),t()}))}))},this.getRegistrationParams=function(t){return e((function(r){n.info("[calendarService] getRegistrationParams");var o=[];_.officeCalendarPresenceEnabled&&o.push(_.getCalendarRegistrationInfo("office365")),_.googleCalendarPresenceEnabled&&o.push(_.getCalendarRegistrationInfo("googleCalendar")),e.all(o).finally((function(){_.autorizationGoogleLink||_.autorizationMicrosoftLink?(n.info("[calendarService] getRegistrationParams -- show registration popup or tooltip"),r({authentMicrosoftUrl:_.autorizationMicrosoftLink,authentGoogleUrl:_.autorizationGoogleLink,fromSettings:t})):(n.error("[calendarService] getRegistrationParams -- no calendar provider response"),r())}))}))},this.getCalendarRegistrationInfo=function(t){var r="o365",s="office365";return"googleCalendar"===t&&(r="gcal",s="google"),e((function(e,l){var c=i.a.getAppliLanguage().code;o({method:"POST",url:config.restServerUrl+"/api/rainbow/calendar/v1.0/register",headers:a.a.getRequestHeader(),data:{type:s,callback:window.location.origin+"/redirectO365.html?provider="+r+"&lang="+c}}).then((function(r){n.info("[calendarService] getCalendarRegistrationInfo for "+t+" -- success"),_.autorizationLink=r.data.url,"googleCalendar"===t?_.autorizationGoogleLink=_.autorizationLink:_.autorizationMicrosoftLink=_.autorizationLink,e(_.autorizationLink)}),(function(e){n.error("[calendarService] getCalendarRegistrationInfo failure"),n.error(e),l()}))}))},this.deactivateCalendar=function(){return n.info("[calendarService] deactivateCalendar"),e((function(e,t){o({method:"DELETE",url:config.restServerUrl+"/api/rainbow/calendar/v1.0",headers:a.a.getRequestHeader()}).then((function(){n.info("[calendarService] deactivateCalendar success"),_.serviceActivated=!1,_.eventSubject.next({action:"ON_CALENDAR_STATUS_CHANGE",data:_.serviceActivated}),e()}),(function(e){n.error("[calendarService] deactivateCalendar failure"),n.error(e),t()}))}))},this.updateCalendarPresenceForUser=function(e,r,o,i,s){l.getOrCreateContact(e).then((function(a){a.calendarState.status=r,a.calendarState.message=i,a.calendarState.applyCalendarPresence=s,a.calendarState.applyCalendarPresence=!1;var c=null;"online"===r||o||(o=new Date),o&&(c=moment(o)),a.calendarState.mdate=c,c?c.isSame(moment(),"d")?(a.calendarState.until=c.format("LT"),a.calendarState.untilDate=!1):(a.calendarState.until=c.format("ll"),a.calendarState.untilDate=!0):(o||(o=new Date),a.calendarState.until=o,a.calendarState.untilDate=!1),l.isUserContact(a)?(n.info("[calendarService] updateCalendarPresenceForUser for my user : "+r+" until "+o+" auto dnd "+s),_.serviceActivated||"offline"===r||(_.serviceActivated=!0,_.eventSubject.next({action:"ON_CALENDAR_STATUS_CHANGE",data:_.serviceActivated})),_.getAutoReplyInfoForContact(l.userContact)):n.info("[calendarService] updateCalendarPresenceForUser for user : "+e+" with : "+r+" until "+o+" auto dnd "+s),t.$broadcast("ON_CONTACT_CALENDAR_STATUS_CHANGE",a)})).catch((function(t){n.error("[calendarService] updateCalendarPresenceForUser failure for user "+e+" with error : "+t)}))},this.treatOutOfOfficeState=function(e,r){if(n.info("[calendarService] treatOutOfOfficeState for user : "+r.jid+" with data enabled "+e.enabled+" and date end "+e.end),e.enabled){if(r.calendarState.autoReplyOn=!0,r.calendarState.autoReplyInfos={},e.message_text&&(r.calendarState.autoReplyInfos.message=e.message_text),e.end){var o=moment(e.end);r.calendarState.autoReplyInfos.mdate=o,o?o.isSame(moment(),"d")?(r.calendarState.autoReplyInfos.until=o.format("LT"),r.calendarState.autoReplyInfos.untilDate=!1):(r.calendarState.autoReplyInfos.until=o.format("ll"),r.calendarState.autoReplyInfos.untilDate=!0):(r.calendarState.autoReplyInfos.until=e.end,r.calendarState.autoReplyInfos.untilDate=!0)}}else r.calendarState.autoReplyOn=!1,r.calendarState.autoReplyInfos={};t.$broadcast("ON_CONTACT_CALENDAR_STATUS_CHANGE",r),_.eventSubject.next({action:"ON_CALENDAR_STATUS_CHANGE",data:_.serviceActivated})},this.calendarCancelCallback=function(){_.serviceActivated=!1,i.a.setSetting("disableCalendarPresence",!0),l.setUserSettings({promptForCalendarPresence:!1}),_.eventSubject.next({action:"ON_CALENDAR_STATUS_CHANGE",data:_.serviceActivated})},this.calendarLaterCallback=function(){_.serviceActivated=!1,_.eventSubject.next({action:"ON_CALENDAR_STATUS_CHANGE",data:!1})},this.setCalendarRejectIfBusy=function(e){_.calendaRejectIfBusyActivated=!1},this.getCalendarRejectIfBusy=function(){return _.calendaRejectIfBusyActivated}}])},function(e,t,n){(function(e){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(399),i=n(1),s=n(4),a=n(11),l=n(5),c=n(25);class u{constructor(e,t){this.callType="",this.recordingFeature=!1,this.conversation=null,this.webrtcCallRef=null,this.isRecorded=!1,this.displayRecordTime=null,this.pauseRecord=null,this.recorder=null,this.updateTimer=null,this.actualRecordTime=0,this.durationTimer=null,this.callType=e,this.recordingFeature=t}static create(e,t){return new u(e,t)}getWebrtcCallRef(){return this.webrtcCallRef}setWebrtcCallRef(e){this.webrtcCallRef=e}getConversation(){return this.conversation}setConversation(e){this.conversation=e}}t.CallAreaRecordContext=u;class d{constructor(e,t,n,r,o,i,s,a,u,d){this.$q=e,this.$rootScope=t,this.$log=n,this.fileServerService=r,this.centralizedService=o,this.ringingService=i,this.conversationService=s,this.$interval=a,this.$translate=u,this.$window=d,this.started=!1,this.recording=!1,this.upload=!1,this.filename="",this.recordStopOrigin="LOCAL",this.xmppService=l.default,this.fileStorageService=c.default,this.durationTimer=null,this.metadataBuf=new ArrayBuffer(0),this.last_duration=0,this.clusterPtrs=[],this.recordedStartedEvent=null,this.conversationEndedEvent=null,this.tempUploadedFileDescriptor=null}start(){return this.started=!1,this.recording=!1,this.recorder=null,this.chunk=null,this.writeStream=null,this.data=new Blob([],{type:"video/webm"}),this.audioContext=null,this.recordFile=null,this.decoder=new o.Decoder,this.initConversationRecordContext(),this.recordedStartedEvent&&this.recordedStartedEvent(),this.conversationEndedEvent&&this.conversationEndedEvent(),this.recordedStartedEvent=this.$rootScope.$on("ON_RECORDING_START_MSG_RECEIVED",()=>{this.ringingService.playRecordTone()}),this.conversationEndedEvent=this.$rootScope.$on("ON_CONVERSATION_CALL_UPDATED_EVENT",(e,t)=>{this.conversationRecordContext&&t.conversation&&this.conversationRecordContext.conversationId===t.conversation.id&&t.conversation.videoCall&&"Unknown"===t.conversation.videoCall.status.value&&(this.setRecordStopOrigin("LOCAL"),this.stopRecording(),this.conversationService.sendRecordingMessage(t.conversation,"stop"))}),this.$log.info("[RecordsService] start"),this.$q.when()}stop(){return this.$log.info("[RecordsService stop"),this.started&&(this.started=!1),this.recordedStartedEvent&&this.recordedStartedEvent(),this.conversationEndedEvent&&this.conversationEndedEvent(),this.$q.when()}onDataAvailable(t){return r(this,void 0,void 0,(function*(){if(this.$log.info("[RecordsService] >onDataAvailable: size = "+t.data.size),t.data.size>0){if(this.chunk=t.data,this.writeStream){this.writeStream.on("finish",()=>{this.$log.info("[RecordsService] WriteStream finish event")});const t=yield this.chunk.arrayBuffer(),n=e.from(t),r=this.writeStream.write(n);this.writeStream.end(),this.$log.info("[RecordsService] write result = "+r)}this.data=new Blob([this.data,this.chunk],{type:this.chunk.type}),this.chunk=null}}))}canRecord(){try{return!!MediaRecorder}catch(e){return!1}}onStop(){return r(this,void 0,void 0,(function*(){this.durationTimer=a.interval(1e3).subscribe(()=>r(this,void 0,void 0,(function*(){if(this.$log.info("[RecordsService] On stop recording"),this.durationTimer.unsubscribe(),this.durationTimer=null,this.data&&this.data.size>1e7){const e=this.$translate.instant("recordingInProgress");this.$rootScope.$broadcast("GLOBAL_NOTIFY_MESSAGE_EVENT",e)}if(this.writeStream)this.durationTimer=a.interval(3e3).subscribe(()=>r(this,void 0,void 0,(function*(){this.$log.info("[RecordsService] Destroy WriteStream"),this.writeStream.destroy(),this.writeStream=null,this.durationTimer.unsubscribe(),this.durationTimer=null,this.updatedBlob=yield this.injectMetadata(this.data),this.onStopCreateFileFromBlob(this.updatedBlob)})));else if(navigator.mediaDevices.getUserMedia&&this.$window.mozRTCPeerConnection)this.onStopCreateFileFromBlob(this.data);else if(navigator.mediaDevices.getUserMedia&&this.$window.webkitRTCPeerConnection){this.$log.info("[RecordsService] On stop recording for Chrome with size "+this.data.size),this.recordFile={name:this.filename,extension:"mp4",size:this.data.size};try{this.tempUploadedFileDescriptor=yield this.createBackupFile(),this.$log.info("[RecordsService] backup created"),this.updatedBlob=yield this.injectMetadata(this.data),this.onStopCreateFileFromBlob(this.updatedBlob)}catch(e){this.updatedBlob=yield this.injectMetadata(this.data),this.onStopCreateFileFromBlob(this.updatedBlob)}}})))}))}onCreateFileFromBlobForSafari(e){this.updatedBlob=e,this.$log.info("[RecordsService] Size of updatedBlob : "+e.size),this.filename=this.filename.replace("mp4","wav"),this.recordFile={name:this.filename,extension:"wav",size:e.size},this.recording=!1,this.recorder=null,this.chunk=null,this.$rootScope.$broadcast("ON_OPEN_RECORDINGFILESTORAGE_POPUP",this.recordFile,this.recordStopOrigin),this.$rootScope.$broadcast("ON_WEBRTC_RECORD_SAVED",this.recordFile,e,this.recordStopOrigin),this.recordStopOrigin="LOCAL"}onStopCreateFileFromBlob(e){this.$log.info("[RecordsService] Size of updatedBlob : "+e.size),this.recordFile={name:this.filename,extension:"mp4",size:e.size},this.centralizedService.fileSystem&&this.centralizedService.fileSystem.unlink&&this.centralizedService.fileSystem.unlink(this.fullFileName+".temp"),this.tempUploadedFileDescriptor&&(this.fileStorageService.deleteFileDescriptor(this.tempUploadedFileDescriptor.id),this.tempUploadedFileDescriptor=null),this.recording=!1,this.recorder=null,this.chunk=null,this.$rootScope.$broadcast("ON_OPEN_RECORDINGFILESTORAGE_POPUP",this.recordFile,this.recordStopOrigin),this.$rootScope.$broadcast("ON_WEBRTC_RECORD_SAVED",this.recordFile,e,this.recordStopOrigin),this.recordStopOrigin="LOCAL"}readAsArrayBuffer(e){return new Promise((t,n)=>{const r=new FileReader;r.readAsArrayBuffer(e),r.onloadend=()=>{t(r.result)},r.onerror=()=>{n()}})}injectMetadata(e){return r(this,void 0,void 0,(function*(){this.$log.info("[RecordsService] injectMetadata");const t=e.type,n=yield this.readAsArrayBuffer(e);return e=null,this.data=null,this.injectMetadataFromArrayBuffer(n,t)}))}injectMetadataFromArrayBuffer(e,t){this.$log.info("[RecordsService] injectMetadataFromArrayBuffer");const n=new o.Decoder,r=new o.Reader;r.logging=!1,r.drop_default_duration=!1,n.decode(e).forEach(e=>{r.read(e)}),r.stop();const i=o.tools.makeMetadataSeekable(r.metadatas,r.duration,r.cues),s=e.slice(r.metadataSize);return new Blob([i,s],{type:t})}closeAudioContext(){this.audioContext&&(this.audioContext.destination&&this.audioContext.destination.disconnect(),"closed"!==this.audioContext.state&&(this.audioContext.close(),this.audioContext=null))}cleanRecord(){!1!==this.recording?this.$log.error("[RecordsService] Unexpected record cleaning while recording not stopped"):(this.updatedBlob=null,this.recordFile=null,this.data=null)}onError(e){this.$log.error("[RecordsService] error : "+e.message||!1),this.recording=!1,this.stopConvTimer(),this.$rootScope.$broadcast("ON_WEBRTC_RECORD_ERROR")}createRecord(e,t,n="REMOTE",r=!1,i="",s=!1,a){let l=null,c=null,u=null,d=null,f=null,_=null;const h=[];this.recorder=null,this.upload=r,this.filename=i;let p=!1,m=null,g=null,v=null,b=null;const D="safari"===adapter.default.browserDetails.browser,y="firefox"===adapter.default.browserDetails.browser;if(this.decoder=new o.Decoder,this.data=new Blob([],{type:"video/webm"}),D&&(a="audio/wave"),a&&MediaRecorder.isTypeSupported(a)?l={mimeType:a}:s?MediaRecorder.isTypeSupported("audio/webm")&&(l={mimeType:"audio/webm"}):MediaRecorder.isTypeSupported("video/webm;codecs=vp8")?l={mimeType:"video/webm; codecs=vp8"}:MediaRecorder.isTypeSupported("video/webm;codecs=vp9")?l={mimeType:"video/webm; codecs=vp9"}:MediaRecorder.isTypeSupported("video/webm;codecs=h264")?l={mimeType:"video/webm; codecs=h264"}:MediaRecorder.isTypeSupported("video/mpeg")&&(l={mimeType:"video/mpeg"}),y&&(l={}),null===l)return this.$log.error("[RecordsService] Codecs : "+a+" are not available for the navigator"),!1;{this.$log.info("[RecordsService] createRecord -- mimeType used "+l.mimeType);let r=null;if(e){if(r=this.xmppService.connection.jingle.sessions[e],r&&(c=this.xmppService.connection.jingle.sessions[e].localStreams,r.remoteStreams&&r.remoteStreams.length?u=r.remoteStreams:r.remoteStreams&&r.remoteStreams.length||!r.remoteStreamsObject||(u=Object.values(r.remoteStreamsObject))),t){var C=this.xmppService.connection.jingle.sessions[t];c=c?c.concat(this.xmppService.connection.jingle.sessions[t].localStreams):this.xmppService.connection.jingle.sessions[t].localStreams,C.remoteStream&&C.remoteStreams.length?u=u?u.concat(C.remoteStreams):C.remoteStreams:C.remoteStreams&&C.remoteStreams.length||!C.remoteStreamsObject||(u=u?u.concat(Object.values(C.remoteStreamsObject)):Object.values(C.remoteStreamsObject))}}else{if(!t)return this.$log.error("[RecordsService] no callId"),!1;r=this.xmppService.connection.jingle.sessions[t],c=this.xmppService.connection.jingle.sessions[t].localStreams,r.remoteStream&&r.remoteStreams.length?u=r.remoteStreams:r.remoteStreams&&r.remoteStreams.length||!r.remoteStreamsObject||(u=Object.values(r.remoteStreamsObject))}if(p=c&&c.length&&null!==c[0]||u&&u.length&&null!==u[0],null!==this.recorder||!p)return this.$log.error("[RecordsService] Cannot get Stream"),!1;{let e,t=null;for(e=0;e<u.length;e++)u[e]&&null!==u[e]&&(t=e,u[e].getAudioTracks().forEach(n=>{h.push(n),b=e,t=null}),null!==t&&(v=t));for(t=null,e=0;e<c.length;e++)c[e]&&null!==c[e]&&(t=e,c[e].getAudioTracks().forEach(n=>{h.push(n),g=e,t=null}),null!==t&&(m=t));if(this.audioContext&&(this.$log.error("[RecordsService] anomaly audio Context not previously released"),this.closeAudioContext()),h.length)if(D)_=new MediaStream,h.forEach(e=>{_.addTrack(e)});else{this.audioContext=new AudioContext;const e=h.map(e=>this.audioContext.createMediaStreamSource(new MediaStream([e]))),t=this.audioContext.createMediaStreamDestination();e.forEach(e=>e.connect(t)),_=t.stream}s||D||(f=new MediaStream,"LOCAL"===n&&null!==m?c[m].getVideoTracks().forEach(e=>{f.addTrack(e)}):null!==v?u[v].getVideoTracks().forEach(e=>{f.addTrack(e)}):u[b].getVideoTracks().forEach(e=>{f.addTrack(e)})),d=_&&f?new MediaStream([..._.getTracks(),...f.getTracks()]):_&&!f?_:f,this.centralizedService.fileSystem&&this.centralizedService.fileSystem.createWriteStream&&this.centralizedService.fileSystem.unlink&&(this.fullFileName=this.centralizedService.fileSaver.getFolderPath()+"/"+i,this.centralizedService.fileSystem.createWriteStream(this.fullFileName+".temp").then(e=>{this.writeStream=e,this.writeStream.on("error",()=>{this.$log.info("[RecordsService] WriteStream error event")}),this.writeStream.on("drain",()=>{this.$log.info("[RecordsService] WriteStream drain event")})})),D?(this.recorder=new MediaRecorder(d),this.recorder.addEventListener("dataavailable",function(e){this.onCreateFileFromBlobForSafari(e.data)}.bind(this)),this.recorder.onstop=this.onStop.bind(this),this.recorder.onerror=this.onError.bind(this)):(this.recorder=new MediaRecorder(d,l),this.recorder.ondataavailable=this.onDataAvailable.bind(this),this.recorder.onstop=this.onStop.bind(this),this.recorder.onerror=this.onError.bind(this))}}return!0}createBackupFile(){return this.$q((e,t)=>{const n=this.data,r=this.recordFile;let o="";return!1!==this.recording?(this.$log.error("[RecordsService] createBackupFile Unexpected uploading file when recording not stopped"),o="recording not stopped pb",void t(o)):0===r.size?(this.$log.error("[RecordsService] createBackupFile error uploading empty file"),o="empty file pb",void t(o)):void this.fileStorageService.createFileDescriptor(r.name,r.extension,r.size).then(r=>{this.fileServerService.uploadAFileByChunk(r,n,()=>{}).then(()=>(this.$log.info("[RecordsService] createBackupFile success"),e(r))).catch(e=>(this.$log.error("[RecordsService] createBackupFile Unexpected error while uploading file",e),o="server pb",t(o)))}).catch(e=>{this.$log.error("[RecordsService] createBackupFile Unexpected error while creating file descriptor!",e),o="file descriptor pb",t(o)})})}uploadFile(){return this.$q((e,t)=>{const n=this.updatedBlob?this.updatedBlob:this.data,r=this.recordFile;let o="";return!1!==this.recording?(this.$log.error("[RecordsService] Unexpected uploading file when recording not stopped"),o="recording not stopped pb",void t(o)):0===r.size?(this.$log.error("[RecordsService] error uploading empty file"),o="empty file pb",void t(o)):void this.fileStorageService.createFileDescriptor(r.name,r.extension,r.size).then(r=>{this.fileServerService.uploadAFileByChunk(r,n,void 0,()=>{}).then(()=>{this.$log.info("[RecordsService] uploadFile success"),this.cleanRecord(),e()}).catch(e=>{this.$log.error("[RecordsService] Unexpected error while uploading file",e),o="server pb",t(o)})}).catch(e=>{this.$log.error("[RecordsService] Unexpected error while creating file descriptor!",e),o="file descriptor pb",t(o)})})}setRecordStopOrigin(e){e&&""!==e&&(this.recordStopOrigin=e)}localSaveFile(){const e=this.updatedBlob?this.updatedBlob:this.data,t=this.recordFile;!1===this.recording?(this.downloadFile(e,null,null,t.name,!0),this.cleanRecord()):this.$log.error("[RecordsService] Unexpected file local storage when recording not stopped")}downloadFile(e,t,n,r,o){this.$log.info("[RecordsService] downloadFile -- default function"),this.centralizedService.fileSaver&&this.centralizedService.fileSaver.fileDownload(e,t,n,r,o)}startRecording(e){null!==this.recorder&&(e?this.recorder.start(e):this.recorder.start(),this.recording=!0,this.startConvTimer())}stopRecording(){null!==this.recorder&&(this.recorder.stop(),this.recording=!1,this.closeAudioContext()),this.stopConvTimer(),this.initConversationRecordContext()}pauseResumeRecording(){null!==this.recorder&&("recording"===this.recorder.state?(this.recorder.pause(),this.conversationRecordContext.pause=!0,this.stopConvTimer()):(this.recorder.resume(),this.conversationRecordContext.pause=!1,this.startConvTimer()))}setOnDataAvailableCallback(e){null!==this.recorder&&(this.recorder.ondataavailable=e)}setOnErrorCallback(e){null!==this.recorder&&(this.recorder.onerror=e)}setOnPauseCallback(e){null!==this.recorder&&(this.recorder.onpause=e)}setOnResumeCallback(e){null!==this.recorder&&(this.recorder.onresume=e)}setOnStartCallback(e){null!==this.recorder&&(this.recorder.onstart=e)}setOnStopCallback(e){null!==this.recorder&&(this.recorder.onstop=e)}initConversationRecordContext(){this.conversationRecordContext={conversationId:"",recorder:!1,pause:!1,actualRecordTime:0,updateTimer:null,recordStopSource:"LOCAL"}}getConversationRecordContext(e){return e===this.conversationRecordContext.conversationId?this.conversationRecordContext:null}setConversationRecordContext(e,t,n,r,o){e&&""!==e&&(this.conversationRecordContext.conversationId=e,this.conversationRecordContext.recorder=t&&this.recording,this.conversationRecordContext.pause=n,this.conversationRecordContext.actualRecordTime=r,this.conversationRecordContext.recordStopSource=o)}startConvTimer(){this.conversationRecordContext.updateTimer=this.$interval(()=>{this.conversationRecordContext.actualRecordTime++},1e3)}stopConvTimer(){null!==this.conversationRecordContext.updateTimer&&(this.$interval.cancel(this.conversationRecordContext.updateTimer),this.conversationRecordContext.updateTimer=null)}getDurationTime(e){if(!e)return"";let t=e;const n={};return n.hour=Math.trunc(t/3600),t-=3600*n.hour,n.minute=Math.trunc(t/60),t-=60*n.minute,n.seconde=t,0===n.hour?s(n.minute+":"+n.seconde,"mm:ss").format("mm:ss"):s(n.hour+":"+n.minute+":"+n.seconde,"HH:mm:ss").format("HH:mm:ss")}initRecordTimer(e){e.updateTimer=this.$interval(()=>{e.actualRecordTime++,e.displayRecordTime=this.getDurationTime(e.actualRecordTime)},1e3)}stopRecordTimer(e){null!==e.updateTimer&&(this.$interval.cancel(e.updateTimer),e.updateTimer=null)}handleRecordPauseResume(e){const t=this.getConversationRecordContext(e.conversation.id);e.recorder&&t&&(e.pauseRecord=t.pause,e.pauseRecord?(this.$interval.cancel(e.updateTimer),e.updateTimer=null):e.updateTimer||this.initRecordTimer(e))}pauseOrResumeRecording(e){e.recorder&&this.pauseResumeRecording()}startRecord(e,t){if(!e.recorder){e.recorder=!0;const n=e.conversation;let r,o=null,a=null;if("PHONE_MP"===e.callType){const t=e.getConversation().contact;r="conv_"+t.firstname.substr(0,1)+"_"+t.lastname+"_"+s().format("DD-MM-YYYY_H_mm_ss")+".mp4"}else r="conv_"+n.contact.firstname.substr(0,1)+"_"+n.contact.lastname+"_"+s().format("DD-MM-YYYY_H_mm_ss")+".mp4";const l=n.videoCall.localMedia&i.Call.Media.SHARING?"LOCAL":"REMOTE";if(n.videoCall&&n.videoCall.id&&(o=n.videoCall.id),e.webrtcCallRef&&e.webrtcCallRef.id&&(a=e.webrtcCallRef.id),!o&&!a)return void(e.recorder=!1);this.createRecord(o,a,l,!0,r)?(this.startRecording(),this.setConversationRecordContext(n.id,e.recorder,!1,0,"LOCAL"),this.manageRecordButtons(e,t),this.conversationService.sendRecordingMessage(n,"start")):e.recorder=!1}}stopRecord(e,t,n="LOCAL"){e.recorder&&(this.setRecordStopOrigin(n),this.stopRecording(),e.recorder=!1,this.manageRecordButtons(e,t),e.displayRecordTime=null,e.updateTimer&&(this.stopRecordTimer(e),e.updateTimer=null),this.conversationService.sendRecordingMessage(e.conversation,"stop"))}manageActiveRecorder(e){if(!e.updateTimer){this.setOnPauseCallback(()=>{this.handleRecordPauseResume(e)}),this.setOnResumeCallback(()=>{this.handleRecordPauseResume(e)});const t=this.getConversationRecordContext(e.conversation.id);t&&t.recorder&&(e.pauseRecord=t.pause,e.actualRecordTime=t.actualRecordTime,e.updateTimer=null,e.pauseRecord||this.initRecordTimer(e),e.displayRecordTime=this.getDurationTime(e.actualRecordTime))}}manageRecordButtons(e,t){if(e.recordingFeature&&e.conversation&&("WEBRTC"===e.callType&&e.conversation.videoCall&&(e.isRecorded=e.conversation.videoCall.isRecorded),"PHONE_MP"===e.callType)){const n=this.getConversationRecordContext(e.conversation.id);n&&n.recorder?(e.recorder=n.recorder,t.stopRecord=!0,t.startRecord=!1,this.manageActiveRecorder(e)):(t.stopRecord=!1,t.startRecord=!0)}}}d.$inject=["$q","$rootScope","$log","fileServerService","centralizedService","ringingService","conversationService","$interval","$translate","$window"],angular.module("rainbow").service("recordsService",d)}).call(this,n(57).Buffer)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(400);t.Decoder=r.default;var o=n(231);t.Encoder=o.default;var i=n(405);t.Reader=i.default;var s=n(48);t.tools=s;var a=n(407).version;t.version=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(48),i=n(230),s=n(48),a=n(232).byEbmlID;!function(e){e[e.STATE_TAG=1]="STATE_TAG",e[e.STATE_SIZE=2]="STATE_SIZE",e[e.STATE_CONTENT=3]="STATE_CONTENT"}(r||(r={}));var l=function(){function e(){this._buffer=new o.Buffer(0),this._tag_stack=[],this._state=r.STATE_TAG,this._cursor=0,this._total=0,this._schema=a,this._result=[]}return e.prototype.decode=function(e){this.readChunk(e);var t=this._result;return this._result=[],t},e.prototype.readChunk=function(e){for(this._buffer=s.concat([this._buffer,new o.Buffer(e)]);this._cursor<this._buffer.length&&(this._state!==r.STATE_TAG||this.readTag())&&(this._state!==r.STATE_SIZE||this.readSize())&&(this._state!==r.STATE_CONTENT||this.readContent()););},e.prototype.getSchemaInfo=function(e){return this._schema[e]||{name:"unknown",level:-1,type:"unknown",description:"unknown"}},e.prototype.readTag=function(){if(this._cursor>=this._buffer.length)return!1;var e=o.readVint(this._buffer,this._cursor);if(null==e)return!1;var t=this._buffer.slice(this._cursor,this._cursor+e.length).reduce((function(e,t,n,r){return e+t*Math.pow(16,2*(r.length-1-n))}),0),n=this.getSchemaInfo(t),i={EBML_ID:t.toString(16),schema:n,type:n.type,name:n.name,level:n.level,tagStart:this._total,tagEnd:this._total+e.length,sizeStart:this._total+e.length,sizeEnd:null,dataStart:null,dataEnd:null,dataSize:null,data:null};return this._tag_stack.push(i),this._cursor+=e.length,this._total+=e.length,this._state=r.STATE_SIZE,!0},e.prototype.readSize=function(){if(this._cursor>=this._buffer.length)return!1;var e=o.readVint(this._buffer,this._cursor);if(null==e)return!1;var t=this._tag_stack[this._tag_stack.length-1];return t.sizeEnd=t.sizeStart+e.length,t.dataStart=t.sizeEnd,t.dataSize=e.value,-1===e.value?(t.dataEnd=-1,"m"===t.type&&(t.unknownSize=!0)):t.dataEnd=t.sizeEnd+e.value,this._cursor+=e.length,this._total+=e.length,this._state=r.STATE_CONTENT,!0},e.prototype.readContent=function(){var e=this._tag_stack[this._tag_stack.length-1];if("m"===e.type){if(e.isEnd=!1,this._result.push(e),this._state=r.STATE_TAG,0===e.dataSize){var t=Object.assign({},e,{isEnd:!0});this._result.push(t),this._tag_stack.pop()}return!0}if(this._buffer.length<this._cursor+e.dataSize)return!1;var n=this._buffer.slice(this._cursor,this._cursor+e.dataSize);switch(this._buffer=this._buffer.slice(this._cursor+e.dataSize),e.data=n,e.type){case"u":e.value=n.readUIntBE(0,n.length);break;case"i":e.value=n.readIntBE(0,n.length);break;case"f":e.value=4===e.dataSize?n.readFloatBE(0):8===e.dataSize?n.readDoubleBE(0):(console.warn("cannot read "+e.dataSize+" octets float. failback to 0"),0);break;case"s":e.value=n.toString("ascii");break;case"8":e.value=n.toString("utf8");break;case"b":e.value=n;break;case"d":e.value=o.convertEBMLDateToJSDate(new i.Int64BE(n).toNumber())}if(null===e.value)throw new Error("unknown tag type:"+e.type);for(this._result.push(e),this._total+=e.dataSize,this._state=r.STATE_TAG,this._cursor=0,this._tag_stack.pop();this._tag_stack.length>0;){var s=this._tag_stack[this._tag_stack.length-1];if(s.dataEnd<0)return this._tag_stack.pop(),!0;if(this._total<s.dataEnd)break;if("m"!==s.type)throw new Error("parent element is not master element");t=Object.assign({},s,{isEnd:!0}),this._result.push(t),this._tag_stack.pop()}return!0},e}();t.default=l},function(e,t,n){(function(t){var n={readVint:function(e,t){t=t||0;for(var n=1;n<=8&&!(e[t]>=Math.pow(2,8-n));n++);if(n>8)throw new Error("Unrepresentable length: "+n+" "+e.toString("hex",t,t+n));if(t+n>e.length)return null;for(var r=e[t]&(1<<8-n)-1,o=1;o<n;o++){if(7===o&&r>=Math.pow(2,45)&&e[t+7]>0)return{length:n,value:-1};r*=Math.pow(2,8),r+=e[t+o]}return{length:n,value:r}},writeVint:function(e){if(e<0||e>Math.pow(2,53))throw new Error("Unrepresentable value: "+e);for(var n=1;n<=8&&!(e<Math.pow(2,7*n)-1);n++);for(var r=new t(n),o=1;o<=n;o++){var i=255&e;r[n-o]=i,e-=i,e/=Math.pow(2,8)}return r[0]=r[0]|1<<8-n,r}};e.exports=n}).call(this,n(57).Buffer)},function(e,t,n){var r=n(403);e.exports=function(e){var t={},n=new r(e);t.trackNumber=n.nextUIntV(),t.timecode=n.nextInt16BE();var o=n.nextUInt8();t.invisible=!!(8&o),t.keyframe=!!(128&o),t.discardable=!!(1&o);var i=(6&o)>>1;return t.frames=function(e,t){if(!t)return[e.nextBuffer()];var n,r,o=[],i=e.nextUInt8()+1;if(2===t){if(e.length%i!=0)throw new Error("Fixed-Size Lacing Error");for(r=e.length/i,n=0;n<i;n++)o.push(e.nextBuffer(r));return o}var s=[];if(1===t)for(n=0;n<i-1;n++){var a;r=0;do{a=e.nextUInt8(),r+=a}while(255===a);s.push(r)}else if(3===t)for(r=e.nextUIntV(),s.push(r),n=1;n<i-1;n++)r+=e.nextIntV(),s.push(r);for(n=0;n<i-1;n++)o.push(e.nextBuffer(s[n]));return o.push(e.nextBuffer()),o}(n,i),t}},function(e,t,n){var r=n(404);function o(e){this.buffer=e,this.offset=0}o.prototype.nextInt16BE=function(){var e=this.buffer.readInt16BE(this.offset);return this.offset+=2,e},o.prototype.nextUInt8=function(){var e=this.buffer.readUInt8(this.offset);return this.offset+=1,e},o.prototype.nextUIntV=function(){var e=r(this.buffer,this.offset);return this.offset+=e.length,e.value},o.prototype.nextIntV=function(){var e=r(this.buffer,this.offset,!0);return this.offset+=e.length,e.value},o.prototype.nextBuffer=function(e){var t=e?this.buffer.slice(this.offset,this.offset+e):this.buffer.slice(this.offset);return this.offset+=e||this.length,t},Object.defineProperty(o.prototype,"length",{get:function(){return this.buffer.length-this.offset}}),e.exports=o},function(e,t){e.exports=function(e,t,n){t=t||0;for(var r=1;r<=8&&!(e[t]>=Math.pow(2,8-r));r++);if(r>8)throw new Error("Unrepresentable length: "+r+" "+e.toString("hex",t,t+r));if(t+r>e.length)return null;var o,i=e[t]&(1<<8-r)-1;for(o=1;o<r;o++){if(7===o&&i>=Math.pow(2,45)&&e[t+7]>0)return{length:r,value:-1};i*=Math.pow(2,8),i+=e[t+o]}return n&&(i-=Math.pow(2,7*r-1)-1),{length:r,value:i}}},function(e,t,n){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(406),s=n(48),a=function(e){function t(){var t=e.call(this)||this;return t.logGroup="",t.hasLoggingStarted=!1,t.metadataloaded=!1,t.chunks=[],t.stack=[],t.segmentOffset=0,t.last2SimpleBlockVideoTrackTimecode=[0,0],t.last2SimpleBlockAudioTrackTimecode=[0,0],t.lastClusterTimecode=0,t.lastClusterPosition=0,t.timecodeScale=1e6,t.metadataSize=0,t.metadatas=[],t.cues=[],t.firstVideoBlockRead=!1,t.firstAudioBlockRead=!1,t.currentTrack={TrackNumber:-1,TrackType:-1,DefaultDuration:null,CodecDelay:null},t.trackTypes=[],t.trackDefaultDuration=[],t.trackCodecDelay=[],t.trackInfo={type:"nothing"},t.ended=!1,t.logging=!1,t.use_duration_every_simpleblock=!1,t.use_webp=!1,t.use_segment_info=!0,t.drop_default_duration=!0,t}return o(t,e),t.prototype.stop=function(){for(this.ended=!0,this.emit_segment_info();this.stack.length;)this.stack.pop(),this.logging&&console.groupEnd();this.logging&&this.hasLoggingStarted&&this.logGroup&&console.groupEnd()},t.prototype.emit_segment_info=function(){var e=this.chunks;if(this.chunks=[],this.metadataloaded){if(!this.use_segment_info)return;var t=this.lastClusterTimecode,n=this.duration,r=this.timecodeScale;this.emit("cluster",{timecode:t,data:e}),this.emit("duration",{timecodeScale:r,duration:n})}else{this.metadataloaded=!0,this.metadatas=e;var o=this.trackTypes.indexOf(1),i=this.trackTypes.indexOf(2);if(this.trackInfo=o>=0&&i>=0?{type:"both",trackNumber:o}:o>=0?{type:"video",trackNumber:o}:i>=0?{type:"audio",trackNumber:i}:{type:"nothing"},!this.use_segment_info)return;this.emit("metadata",{data:e,metadataSize:this.metadataSize})}},t.prototype.read=function(e){var t=this,n=!1;if(!this.ended){if("m"===e.type)if(e.isEnd)this.stack.pop();else{var r=this.stack[this.stack.length-1];if(null!=r&&r.level>=e.level){this.stack.pop(),this.logging&&console.groupEnd(),r.dataEnd=e.dataEnd,r.dataSize=e.dataEnd-r.dataStart,r.unknownSize=!1;var o=Object.assign({},r,{name:r.name,type:r.type,isEnd:!0});this.chunks.push(o)}this.stack.push(e)}if("m"===e.type&&"Segment"==e.name)0!=this.segmentOffset&&console.warn("Multiple segments detected!"),this.segmentOffset=e.dataStart,this.emit("segment_offset",this.segmentOffset);else if("b"===e.type&&"SimpleBlock"===e.name){var i=s.ebmlBlock(e.data),a=i.timecode,l=i.trackNumber,c=i.frames;if(1===this.trackTypes[l]){if(!this.firstVideoBlockRead&&(this.firstVideoBlockRead=!0,"both"===this.trackInfo.type||"video"===this.trackInfo.type)){var u=this.lastClusterTimecode+a;this.cues.push({CueTrack:l,CueClusterPosition:this.lastClusterPosition,CueTime:u}),this.emit("cue_info",{CueTrack:l,CueClusterPosition:this.lastClusterPosition,CueTime:this.lastClusterTimecode}),this.emit("cue",{CueTrack:l,CueClusterPosition:this.lastClusterPosition,CueTime:u})}this.last2SimpleBlockVideoTrackTimecode=[this.last2SimpleBlockVideoTrackTimecode[1],a]}else 2===this.trackTypes[l]&&(this.firstAudioBlockRead||(this.firstAudioBlockRead=!0,"audio"!==this.trackInfo.type)||(u=this.lastClusterTimecode+a,this.cues.push({CueTrack:l,CueClusterPosition:this.lastClusterPosition,CueTime:u}),this.emit("cue_info",{CueTrack:l,CueClusterPosition:this.lastClusterPosition,CueTime:this.lastClusterTimecode}),this.emit("cue",{CueTrack:l,CueClusterPosition:this.lastClusterPosition,CueTime:u})),this.last2SimpleBlockAudioTrackTimecode=[this.last2SimpleBlockAudioTrackTimecode[1],a]);this.use_duration_every_simpleblock&&this.emit("duration",{timecodeScale:this.timecodeScale,duration:this.duration}),this.use_webp&&c.forEach((function(e){if("9d012a"===e.slice(3,6).toString("hex")){var n=s.VP8BitStreamToRiffWebPBuffer(e),r=new Blob([n],{type:"image/webp"}),o=t.duration;t.emit("webp",{currentTime:o,webp:r})}}))}else"m"===e.type&&"Cluster"===e.name&&!1===e.isEnd?(this.firstVideoBlockRead=!1,this.firstAudioBlockRead=!1,this.emit_segment_info(),this.emit("cluster_ptr",e.tagStart),this.lastClusterPosition=e.tagStart):"u"===e.type&&"Timecode"===e.name?this.lastClusterTimecode=e.value:"u"===e.type&&"TimecodeScale"===e.name?this.timecodeScale=e.value:"m"===e.type&&"TrackEntry"===e.name?e.isEnd?(this.trackTypes[this.currentTrack.TrackNumber]=this.currentTrack.TrackType,this.trackDefaultDuration[this.currentTrack.TrackNumber]=this.currentTrack.DefaultDuration,this.trackCodecDelay[this.currentTrack.TrackNumber]=this.currentTrack.CodecDelay):this.currentTrack={TrackNumber:-1,TrackType:-1,DefaultDuration:null,CodecDelay:null}:"u"===e.type&&"TrackType"===e.name?this.currentTrack.TrackType=e.value:"u"===e.type&&"TrackNumber"===e.name?this.currentTrack.TrackNumber=e.value:"u"===e.type&&"CodecDelay"===e.name?this.currentTrack.CodecDelay=e.value:"u"===e.type&&"DefaultDuration"===e.name?this.drop_default_duration?(console.warn("DefaultDuration detected!, remove it"),n=!0):this.currentTrack.DefaultDuration=e.value:"unknown"===e.name&&console.warn(e);!this.metadataloaded&&e.dataEnd>0&&(this.metadataSize=e.dataEnd),n||this.chunks.push(e),this.logging&&this.put(e)}},Object.defineProperty(t.prototype,"duration",{get:function(){if("nothing"===this.trackInfo.type)return console.warn("no video, no audio track"),0;var e=0,t=0,n=0,r=this.trackDefaultDuration[this.trackInfo.trackNumber];if("number"==typeof r)e=r;else if("both"===this.trackInfo.type)this.last2SimpleBlockAudioTrackTimecode[1]>this.last2SimpleBlockVideoTrackTimecode[1]?(e=(this.last2SimpleBlockAudioTrackTimecode[1]-this.last2SimpleBlockAudioTrackTimecode[0])*this.timecodeScale,"number"==typeof(o=this.trackCodecDelay[this.trackTypes.indexOf(2)])&&(t=o),n=this.last2SimpleBlockAudioTrackTimecode[1]):(e=(this.last2SimpleBlockVideoTrackTimecode[1]-this.last2SimpleBlockVideoTrackTimecode[0])*this.timecodeScale,"number"==typeof(o=this.trackCodecDelay[this.trackTypes.indexOf(1)])&&(t=o),n=this.last2SimpleBlockVideoTrackTimecode[1]);else if("video"===this.trackInfo.type)e=(this.last2SimpleBlockVideoTrackTimecode[1]-this.last2SimpleBlockVideoTrackTimecode[0])*this.timecodeScale,"number"==typeof(o=this.trackCodecDelay[this.trackInfo.trackNumber])&&(t=o),n=this.last2SimpleBlockVideoTrackTimecode[1];else if("audio"===this.trackInfo.type){var o;e=(this.last2SimpleBlockAudioTrackTimecode[1]-this.last2SimpleBlockAudioTrackTimecode[0])*this.timecodeScale,"number"==typeof(o=this.trackCodecDelay[this.trackInfo.trackNumber])&&(t=o),n=this.last2SimpleBlockAudioTrackTimecode[1]}var i=((this.lastClusterTimecode+n)*this.timecodeScale+e-t)/this.timecodeScale;return Math.floor(i)},enumerable:!0,configurable:!0}),t.prototype.addListener=function(t,n){return e.prototype.addListener.call(this,t,n)},t.prototype.put=function(e){this.hasLoggingStarted||(this.hasLoggingStarted=!0,this.logging&&this.logGroup&&console.groupCollapsed(this.logGroup)),"m"===e.type?e.isEnd?console.groupEnd():console.group(e.name+":"+e.tagStart):"b"===e.type?console.log(e.name,e.type):console.log(e.name,e.tagStart,e.type,e.value)},t}(i.EventEmitter);t.default=a},function(e,t,n){var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}g(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&g(e,"error",t,n)}(e,o,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var l=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var o,i,s,a;if(c(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"==typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=u(e))>0&&s.length>o&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,a=l,console&&console.warn&&console.warn(a)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=f.bind(r);return o.listener=n,r.wrapFn=o,o}function h(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):m(o,o.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)i(l,this,t);else{var c=l.length,u=m(l,c);for(n=0;n<c;++n)i(u[n],this,t)}return!0},a.prototype.addListener=function(e,t){return d(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return d(this,e,t,!0)},a.prototype.once=function(e,t){return c(t),this.on(e,_(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,_(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,o,i,s;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return h(this,e,!0)},a.prototype.rawListeners=function(e){return h(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},a.prototype.listenerCount=p,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e){e.exports=JSON.parse('{"_args":[["ts-ebml@2.0.2","/home/konrad/p/rbw"]],"_from":"ts-ebml@2.0.2","_id":"ts-ebml@2.0.2","_inBundle":false,"_integrity":"sha512-V/HdlCn3FITQrFHQlVE02XtfMiRLab2QB/YOCfkbJWqiFYG/j5v7gHKV+wem6g0PD6/uxXs5oxMQfDXILmts/Q==","_location":"/ts-ebml","_phantomChildren":{"base64-js":"1.5.1","ieee754":"1.2.1"},"_requested":{"type":"version","registry":true,"raw":"ts-ebml@2.0.2","name":"ts-ebml","escapedName":"ts-ebml","rawSpec":"2.0.2","saveSpec":null,"fetchSpec":"2.0.2"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/ts-ebml/-/ts-ebml-2.0.2.tgz","_spec":"2.0.2","_where":"/home/konrad/p/rbw","author":{"name":"legokichi duckscallion"},"bin":{"ts-ebml":"lib/cli.js"},"bugs":{"url":"https://github.com/legokichi/ts-ebml/issues"},"dependencies":{"buffer":"^5.0.7","commander":"^2.11.0","ebml":"^2.2.1","ebml-block":"^1.1.0","events":"^1.1.1","int64-buffer":"^0.1.9","matroska":"^2.2.3"},"description":"ebml decoder and encoder","devDependencies":{"@types/commander":"^2.9.1","@types/qunit":"^2.0.31","browserify":"^13.1.0","empower":"^1.2.3","espower-cli":"^1.1.0","power-assert":"^1.4.4","power-assert-formatter":"^1.4.1","qunit-tap":"^1.5.1","qunitjs":"^2.4.0","tslint":"^3.15.1","typedoc":"^0.5.3","typescript":"^2.4.2","watchify":"^3.7.0"},"homepage":"https://github.com/legokichi/ts-ebml#readme","keywords":["ebml","webm","mkv","matrosika","webp"],"license":"MIT","main":"./lib/index.js","name":"ts-ebml","repository":{"type":"git","url":"git+https://github.com/legokichi/ts-ebml.git"},"scripts":{"browserify":"browserify lib/index.js --standalone EBML -o dist/EBML.js","build":"npm run clean   && tsc    -p .; npm run browserify","check":"tsc -w --noEmit -p ./","clean":"rm -rf lib/* dist/* test/*.js; mkdir -p dist","doc":"typedoc --mode modules --out doc --disableOutputCheck","example":"tsc; browserify lib/example_seekable.js -o test/example_seekable.js","examples":"tsc; for file in `find lib -name \'example_*.js\' -type f -printf \'%f\\\\n\'`; do browserify lib/$file -o test/$file; done","examples_bsd":"tsc; for file in `find lib -name \'example_*.js\' -type f -print`; do browserify lib/$(basename $file) -o test/$(basename $file); done","init":"npm run update; npm run mkdir; npm run build","lint":"tslint -c ./tslint.json --project ./tsconfig.json --type-check","mkdir":"mkdir lib dist 2>/dev/null","reset":"rm -rf node_modules","setup":"npm install -g http-server;","start":"http-server . -s & tsc -w -p .& watchify lib/example_seekable.js -o test/example_seekable.js","stop":"killall -- node */tsc -w -p","test":"tsc; espower lib/test.js > lib/test.tmp; mv -f lib/test.tmp lib/test.js; browserify lib/test.js -o test/test.js","update":"npm run reset; npm update","watchify":"watchify lib/index.js --standalone EBML -o dist/EBMl.js -v"},"typings":"./lib/index.d.ts","version":"2.0.2"}')},function(e,t,n){n.r(t);var r=n(6),o=n.n(r),i=n(3),s=n.n(i),a=n(59),l=n.n(a),c=n(2),u=n.n(c),d=n(19);angular.module("rainbow").service("adminCompanyService",["$q","$log","$http","$rootScope","errorHelperService","Site","CompanyInvitation","pushImageHelperService","CompanyRequest","Bot",function(e,t,n,r,i,a,c,f,_,h){const p=this;p.start=function(){return t.info("[adminCompanyService] === STARTING ==="),p.portalURL=config.restServerUrl+"/api/rainbow/admin/v1.0/",t.info("[adminCompanyService] === STARTED ==="),e.when()},p.stop=function(){return t.info("[adminCompanyService] === STOPPING ==="),t.info("[adminCompanyService] === STOPPED ==="),e.when()},p.getCompanies=function(r,o,a,c,f,_,h,m,g,v,b,D){const y=e.defer(),C=u.a.userContact;if(!(C.isSuperadmin()||C.isBusinessAdmin()||C.isBPAdmin()||C.isOrganizationAdmin()))return p.getCompany(C.company.id).then((function(e){return{companies:[e]}}));let S=p.portalURL+"companies?format="+(f||"full")+"&selectedThemeObj=true";return r&&(S+="&organisationId="+r),o&&a&&(S+="&offset="+a*(o-1)),a&&(S+="&limit="+a),c&&(S+="&name="+encodeURIComponent(c)),_&&(S+="&bpId="+_),h&&(Array.isArray(h)?h.forEach((function(e){S+="&status="+e})):S+="&status="+h),null!=m&&(S+="&isBP="+m),g&&(S+="&bpType="+g),v&&(S+="&offerCanBeSold="+v),b&&(S+="&externalReference="+encodeURIComponent(b)),n({method:"GET",url:S,headers:s.a.getRequestHeader()}).then((function(e){const n=e.data.data;t.info("[adminCompanyService] getCompanies success");const r=[];n.forEach((function(e){const t=d.Company.createFromData(e);!angular.isUndefined(D)&&D||l.a.getCompanyLogo(t),r.push(t)})),y.resolve({companies:r,limit:e.data.limit,offset:e.data.offset,total:e.data.total})}),(function(e){const n=i.handleError(e);y.reject(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"getCompanies"))})),y.promise},p.getAllCompaniesSmall=function(e,t,n,r,o){return p.getAllCompanies(e,t,n,r,o,"small")},p.getAllCompanies=function(t,n,r,o,i,s){return e((function(a,l){let c;p.getCompanies(t,1,1e3,null,s,n,r,o,i).then((function(a){if(c=a,a.total>a.limit){const l=Math.ceil(a.total/1e3);let c=Array(...Array(l-1));c=c.map((function(e,t){return t+2}));const u=[];for(;c.length>0;)u.push(c.splice(0,5));return u.reduce((function(l,c){return l.then((function(){const l=c.map((function(e){return p.getCompanies(t,e,1e3,null,s,n,r,o,i).then((function(e){a.companies=a.companies.concat(e.companies),a.limit+=e.limit}))}));return e.all(l)}))}),e.resolve())}return e.resolve()})).then((function(){a(c)})).catch((function(e){l(e)}))}))},p.getCompany=function(r,o){let a=p.portalURL+"companies/"+r+"?format="+(o||"full");return a+="&selectedThemeObj=true",e((function(e,r){n({method:"GET",url:a,headers:s.a.getRequestHeader()}).then((function(n){t.info("[adminCompanyService] getCompany success");const r=n.data.data,o=d.Company.createFromData(r);l.a.getCompanyLogo(o),l.a.getCompanyBanner(o),e(o)}),(function(e){const n=i.handleError(e);r(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"getCompany"))}))}))},p.getDefaultCompany=function(){return e((function(e,r){n({method:"GET",url:p.portalURL+"companies/default?selectedThemeObj=true",headers:s.a.getRequestHeader()}).then((function(n){t.info("[adminCompanyService] getDefaultCompany success");const r=n.data.data,o=d.Company.createFromData(r);e(o)}),(function(e){const n=i.handleError(e);r(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"getDefaultCompany"))}))}))},p.searchCompanies=function(t){const n=e.defer(),r=t.toLowerCase();return p.getCompanies().then((function(e){const t=e.companies.filter((function(e){return e.name.toLowerCase().indexOf(r)>-1}));n.resolve(t)})),n.promise},p.createCompany=function(o){const a=d.Company.prune(o,u.a.userContact),l=e.defer();return n({method:"POST",url:p.portalURL+"companies?selectedThemeObj=true",headers:s.a.getRequestHeader(),data:a}).then((function(e){t.info("[adminCompanyService] createCompany success");const n=d.Company.createFromData(e.data.data);r.$broadcast("ADMIN_COMPANIES_CHANGE"),l.resolve(n)}),(function(e){const n=i.handleError(e);l.reject(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"createCompany"))})),l.promise},p.createCompanyEndUser=function(r){const o=d.Company.prune(r,u.a.userContact),a=e.defer();return n({method:"POST",url:config.restServerUrl+"/api/rainbow/enduser/v1.0/companies?selectedThemeObj=true",headers:s.a.getRequestHeader(),data:o}).then((function(e){t.info("[adminCompanyService] createCompany success");const n=e.data.data,r=d.Company.createFromData(n);a.resolve(r)}),(function(e){const n=i.handleError(e);a.reject(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"createCompanyEndUser"))})),a.promise},p.updateCompany=function(o){const a=d.Company.prune(o,u.a.userContact),l=e.defer();return n({method:"PUT",url:p.portalURL+"companies/"+o.id+"?selectedThemeObj=true",headers:s.a.getRequestHeader(),data:a}).then((function(e){t.info("[adminCompanyService] updateCompany success");const n=e.data.data,i=d.Company.createFromData(n);l.resolve(i),r.$broadcast("ON_COMPANY_CHANGE_EVENT",o.id)}),(function(e){const n=i.handleError(e);l.reject(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"updateCompany"))})),l.promise},p.setDefaultLicenseGroup=function(e,t){const n={id:e,defaultLicenseGroup:t||null};return p.updateCompany(n)},p.addVisibility=function(r,o){const a=e.defer();return n({method:"POST",url:p.portalURL+"companies/"+r+"/visible-by/"+o,headers:s.a.getRequestHeader()}).then((function(){t.info("[adminCompanyService] addVisibility success"),a.resolve()}),(function(e){const n=i.handleError(e);a.reject(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"addVisibility"))})),a.promise},p.removeVisibility=function(r,o){const a=e.defer();return n({method:"DELETE",url:p.portalURL+"companies/"+r+"/visible-by/"+o,headers:s.a.getRequestHeader()}).then((function(){t.info("[adminCompanyService] removeVisibility success"),a.resolve()}),(function(e){const n=i.handleError(e);a.reject(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"removeVisibility"))})),a.promise},p.getAllSiteCompany=function(r){const o=e.defer();return n({method:"GET",url:p.portalURL+"companies/"+r+"/sites",headers:s.a.getRequestHeader()}).then((function(e){t.info("[adminCompanyService] getAllSiteCompany success");const n=e.data.data,r=[];n.forEach((function(e){const t=a.createFromData(e);r.push(t)})),o.resolve(r)}),(function(e){const n=i.handleError(e);o.reject(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"getAllSiteCompany"))})),o.promise},p.getCompanyAdministrators=function(r){return e((function(e,o){n({method:"GET",url:p.portalURL+"companies/"+r+"/administrators",headers:s.a.getRequestHeader()}).then((function(n){t.info("[adminCompanyService] getCompanyAdministrators success");const r=n.data.data,o=[];r.forEach((function(e){const t={id:e.id};o.push(t)})),e(o)}),(function(e){const n=i.handleError(e);o(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"getCompanyAdministrators"))}))}))},p.deleteCompany=function(r){const o=e.defer();return n({method:"DELETE",url:p.portalURL+"companies/"+r,headers:s.a.getRequestHeader()}).then((function(){t.info("[adminCompanyService] deleteCompany success"),o.resolve()}),(function(e){const n=i.handleError(e);o.reject(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"deleteCompany"))})),o.promise},p.pushLogo=function(n,r,o){return e((function(i,s){const a=p.portalURL+"companies/"+n+"/avatar";(angular.isDefined(r)&&null!==r?f.pushImage(a,r):e.resolve()).then((function(){return p.getCompany(n)})).then((function(e){return e.avatarShape=o,p.updateCompany(e)})).then((function(){t.info("[adminCompanyService] pushLogo success"),i()})).catch((function(e){s(e)}))}))},p.deleteLogo=function(r){return e((function(e,o){n({method:"DELETE",url:p.portalURL+"companies/"+r+"/avatar",headers:s.a.getRequestHeader()}).then((function(){p.getCompany(r).then((function(e){return e.avatarShape="circle",p.updateCompany(e)})).then((function(){t.info("[adminCompanyService] deleteLogo success"),e()})).catch((function(e){o(e)}))}),(function(e){const n=i.handleError(e);o(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"deleteLogo"))}))}))},p.pushBanner=function(t,n,o){return e((function(e,i){const s=p.portalURL+"companies/"+t+"/banner";return f.pushImage(s,n,o).then((function(){r.$broadcast("ON_COMPANY_CHANGE_EVENT",t),e()})).catch((function(e){i(e)}))}))},p.deleteBanner=function(o){return e((function(e,a){n({method:"DELETE",url:p.portalURL+"companies/"+o+"/banner",headers:s.a.getRequestHeader()}).then((function(){r.$broadcast("ON_COMPANY_CHANGE_EVENT",o),t.info("[adminCompanyService] deleteBanner success"),e()}),(function(e){const n=i.handleError(e);a(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"deleteBanner"))}))}))},p.getCompanySupportBot=function(r){return e((function(e,o){let i=p.portalURL+"bots/rainbow-support";r&&(i+="?companyId="+r),n({method:"GET",url:i,headers:s.a.getRequestHeader()}).then((function(n){t.info("[companyService] getCompanySupportBot success");const r=h.create(n.data.data);e(r)})).catch((function(e){const n="getCompanySupportBot failure "+e.data.errorDetails+" with status "+e.status;t.error("[companyService] "+n),o(new Error(n))}))}))},p.pushCompanyBotAvatar=function(n,r,o){return e((function(i,s){const a=p.portalURL+"bots/"+n+"/companies/"+r+"/avatar";(angular.isDefined(o)&&null!==o?f.pushImage(a,o):e.resolve()).then((function(){t.info("[adminCompanyService] pushCompanyBotAvatar success"),i()})).catch((function(e){s(e)}))}))},p.deleteCompanyBotAvatar=function(r,o){return e((function(e,a){n({method:"DELETE",url:p.portalURL+"bots/"+r+"/companies/"+o+"/avatar",headers:s.a.getRequestHeader()}).then((function(){t.info("[adminCompanyService] deleteCompanyBotAvatar success"),e()}),(function(e){const n=i.handleError(e);a(n),t.error("[botService] "+i.getErrorFullMessage(e,"deleteCompanyBotAvatar"))}))}))},p.getCompanyInvitations=function(r,o,a){return e((function(e,l){let u=p.portalURL+"companies/"+r+"/join-companies/invitations?format=medium&status=pending declined&limit="+a;o&&(u+="&offset="+a*(o-1)),n({method:"GET",url:u,headers:s.a.getRequestHeader()}).then((function(n){const r=[];n.data.data.forEach((function(e){const t=c.createFromData(e);r.push(t)})),t.info("[adminCompanyService] getCompanyInvitations success (found "+r.length+" invitation(s))"),e({invitations:r,total:n.data.total})}),(function(e){const n=i.handleError(e);l(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"getCompanyInvitations"))}))}))},p.joinCompanyInvitation=function(r,a,l,c,u,d){const f=e.defer(),_={lang:o.a.getAppliLanguageCodeForServer()};return c&&(_.customMessage=c),l?_.invitedUserId=l:a&&(_.email=a),u&&(_.invitedToBeCompanyAdmin=u),d&&(_.invitedToBeBpAdmin=d),n({method:"POST",url:p.portalURL+"companies/"+r+"/join-companies/invitations",headers:s.a.getRequestHeader(),data:_}).then((function(){t.info("[adminCompanyService] joinCompanyInvitation success"),f.resolve()}),(function(e){const n=i.handleError(e);f.reject(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"joinCompanyInvitation"))})),f.promise},p.cancelJoinCompanyInvitation=function(r,o){const a=e.defer();return n({method:"POST",url:p.portalURL+"companies/"+r+"/join-companies/invitations/"+o+"/cancel",headers:s.a.getRequestHeader()}).then((function(e){const n=c.createFromData(e.data.data);t.info("[adminCompanyService] cancelJoinCompanyInvitation success"),a.resolve(n)}),(function(e){const n=i.handleError(e);a.reject(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"cancelJoinCompanyInvitation"))})),a.promise},p.resendJoinCompanyInvitation=function(r,o){const a=e.defer();return n({method:"POST",url:p.portalURL+"companies/"+r+"/join-companies/invitations/"+o+"/re-send",headers:s.a.getRequestHeader()}).then((function(e){const n=c.createFromData(e.data.data);t.info("[adminCompanyService] resendJoinCompanyInvitation success"),a.resolve(n)}),(function(e){const n=i.handleError(e);a.reject(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"resendJoinCompanyInvitation"))})),a.promise},p.getCompanyJoinRequests=function(r){return e((function(e,o){n({method:"GET",url:p.portalURL+"companies/"+r+"/join-companies/requests?format=medium&status=pending",headers:s.a.getRequestHeader()}).then((function(n){const r=[];n.data.data.forEach((function(e){const t=_.createFromData(e);r.push(t)})),t.info("[adminCompanyService] getCompanyJoinRequests success (found "+n.data.total+" invitation(s))"),e({companyRequests:r,total:n.data.total})}),(function(e){const n=i.handleError(e);o(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"getCompanyJoinRequests"))}))}))},p.getJoinCompanyRequest=function(r,o){return e((function(e,a){n({method:"GET",url:p.portalURL+"companies/"+r+"/join-companies/requests/"+o+"?status=pending",headers:s.a.getRequestHeader()}).then((function(n){const r=_.createFromData(n.data.data);t.info("[adminCompanyService] getJoinCompanyRequest success"),e(r)}),(function(e){const n=i.handleError(e);a(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"getJoinCompanyRequest"))}))}))},p.acceptCompanyJoinRequests=function(r,o){return e((function(e,a){n({method:"POST",url:p.portalURL+"companies/"+r+"/join-companies/requests/"+o+"/accept",headers:s.a.getRequestHeader()}).then((function(n){const r=_.createFromData(n.data.data);t.info("[adminCompanyService] acceptCompanyJoinRequests success"),e(r)}),(function(e){const n=i.handleError(e);t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"acceptCompanyJoinRequests")),a(n)}))}))},p.declineCompanyJoinRequests=function(r,o){return e((function(e,a){n({method:"POST",url:p.portalURL+"companies/"+r+"/join-companies/requests/"+o+"/decline",headers:s.a.getRequestHeader()}).then((function(n){const r=_.createFromData(n.data.data);t.info("[adminCompanyService] declineCompanyJoinRequests success"),e(r)}),(function(e){const n=i.handleError(e);t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"declineCompanyJoinRequests")),a(n)}))}))},p.getOAuthConsentUrl=function(){const r=o.a.getAppliLanguage().code;return e((function(e,o){n({method:"GET",url:config.restServerUrl+"/api/rainbow/office365/v1.0/consent?callback="+window.location.origin+"/redirectO365.html?provider=o365AD&lang="+r,headers:s.a.getRequestHeader()}).then((function(n){const r=n.data.url;t.info("[adminCompanyService] getOAuthConsentUrl success: "+r),e(r)}),(function(e){const n=i.handleError(e);t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"getOAuthConsentUrl")),o(n)}))}))},p.getCompanyConferenceSettings=function(r){return e((function(e,o){n({method:"GET",url:p.portalURL+"companies/"+r+"/settings/conferences",headers:s.a.getRequestHeader()}).then((function(n){t.info("[adminCompanyService] getCompanyConferenceSettings success");const r=n.data.data;e(r)}),(function(e){const n=i.handleError(e);o(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"getCompanyConferenceSettings"))}))}))},p.setCompanyConferenceSettings=function(r,o){return e((function(e,a){const l={confDialOutDisabled:!o};n({method:"PUT",url:p.portalURL+"companies/"+r+"/settings/conferences",headers:s.a.getRequestHeader(),data:l}).then((function(n){t.info("[adminCompanyService] setCompanyConferenceSettings success");const r=n.data.data;e(r)}),(function(e){const n=i.handleError(e);a(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"setCompanyConferenceSettings"))}))}))},p.getCompanySAMLConfigurationFile=function(n){return e((function(e,r){s.a.getCompanySAMLConfiguration(n).then((function(t){const n=new Blob([t],{type:"application/xml"});e(n)})).catch((function(e){const n=i.handleError(e);r(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"getCompanySAMLConfigurationFile"))}))}))},p.createCompanySingleSignOnServerConfig=function(r,o,a){return e((function(e,l){a.type=o,n({method:"POST",url:p.portalURL+"companies/"+r+"/settings/sso",headers:s.a.getRequestHeader(),data:a}).then((function(n){t.info("[adminCompanyService] createCompanySingleSignOnServerConfig success");const r=n.data.data;e(r)}),(function(e){const n=i.handleError(e);l(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"createCompanySingleSignOnServerConfig"))}))}))},p.deleteCompanySingleSignOnServerConfig=function(r,o){return e((function(e,a){n({method:"DELETE",url:p.portalURL+"companies/"+r+"/settings/sso/"+o,headers:s.a.getRequestHeader()}).then((function(){t.info("[adminCompanyService] deleteCompanySingleSignOnServerConfig success"),e()}),(function(e){const n=i.handleError(e);a(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"deleteCompanySingleSignOnServerConfig"))}))}))},p.getCompanySingleSignOnServerConfig=function(r){return e((function(e,o){n({method:"GET",url:p.portalURL+"companies/"+r+"/settings/sso",headers:s.a.getRequestHeader()}).then((function(n){t.info("[adminCompanyService] getCompanySingleSignOnServerConfig success");const r=n.data.data?n.data.data:n.data;e(r)}),(function(e){const n=i.handleError(e);o(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"getCompanySingleSignOnServerConfig"))}))}))},p.updateCompanySingleSignOnServerConfig=function(r,o,a){return e((function(e,l){n({method:"PUT",url:p.portalURL+"companies/"+r+"/settings/sso/"+o,headers:s.a.getRequestHeader(),data:a}).then((function(n){t.info("[adminCompanyService] updateCompanySingleSignOnConfig success");const r=n.data.data;e(r)}),(function(e){const n=i.handleError(e);l(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"updateCompanySingleSignOnConfig"))}))}))},p.getCompanySingleSignOnSAMLOptions=function(r){return e((function(e,o){n({method:"GET",url:p.portalURL+"companies/"+r+"/settings/sso/SAML/shared-options",headers:s.a.getRequestHeader()}).then((function(n){t.info("[adminCompanyService] getCompanySingleSignOnSAMLOptions success"),e(n.data.data)}),(function(e){const n=i.handleError(e);o(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"getCompanySingleSignOnSAMLOptions"))}))}))},p.updateCompanySingleSignOnSAMLOptions=function(r,o){return e((function(e,a){n({method:"PUT",url:p.portalURL+"companies/"+r+"/settings/sso/SAML/shared-options",headers:s.a.getRequestHeader(),data:o}).then((function(n){t.info("[adminCompanyService] updateCompanySingleSignOnSAMLOptions success"),e(n.data.data)}),(function(e){const n=i.handleError(e);a(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"updateCompanySingleSignOnSAMLOptions"))}))}))},p.deleteCompanySingleSignOnSAMLOptions=function(r){return e((function(e,o){n({method:"DELETE",url:p.portalURL+"companies/"+r+"/settings/sso/SAML/shared-options",headers:s.a.getRequestHeader()}).then((function(){t.info("[adminCompanyService] deleteCompanySingleSignOnSAMLOptions success"),e()}),(function(n){const r=i.handleError(n);404===r.status?(e(),t.info("[adminCompanyService] "+i.getErrorFullMessage(n,"deleteCompanySingleSignOnSAMLOptions"))):(o(r),t.error("[adminCompanyService] "+i.getErrorFullMessage(n,"deleteCompanySingleSignOnSAMLOptions")))}))}))},p.getCompanyBpBusinessTypes=function(){return e((function(e,r){n({method:"GET",url:p.portalURL+"companies/bpbusinesstypes",headers:s.a.getRequestHeader()}).then((function(n){t.info("[adminCompanyService] getCompanyBpBusinessTypes success");const r=n.data.data;e(r)}),(function(e){const n=i.handleError(e);r(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"getCompanyBpBusinessTypes"))}))}))},p.getVoIPSettingsForCompany=function(r){return e((function(e,o){n({method:"GET",url:p.portalURL+"companies/"+r+"/settings/webrtcs",headers:s.a.getRequestHeader()}).then((function(n){t.info("[adminCompanyService] getVoIPSettingsForCompany success");const r=n.data.data;e(r)}),(function(e){const n=i.handleError(e);o(n),t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"getVoIPSettingsForCompany"))}))}))},p.createVoIPSettingsForCompany=function(r,o){return e((function(e,a){n({method:"POST",url:p.portalURL+"companies/"+r+"/settings/webrtcs",headers:s.a.getRequestHeader(),data:o}).then((function(){e()}),(function(e){const n=i.handleError(e);t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"createVoIPSettingsForCompany")),a(n)}))}))},p.updateVoIPSettingsForCompany=function(r,o,a){return e((function(e,l){n({method:"PUT",url:p.portalURL+"companies/"+r+"/settings/webrtcs/"+o,headers:s.a.getRequestHeader(),data:a}).then((function(){e()}),(function(e){const n=i.handleError(e);t.error("[adminCompanyService] "+i.getErrorFullMessage(e,"createVoIPSettingsForCompany")),l(n)}))}))}}])},function(e,t,n){n.r(t);var r=n(3),o=n.n(r),i=n(32),s=n.n(i),a=n(2),l=n.n(a),c=n(19);angular.module("rainbow").service("adminUserService",["$q","$log","$http","errorHelperService","User","Site","Organisation","PhoneNumber",function(e,t,n,r,i,a,u,d){const f=this;f.start=function(){return t.info("[adminUserService] === STARTING ==="),f.portalURL=config.restServerUrl+"/api/rainbow/admin/v1.0/",t.info("[adminUserService] === STARTED ==="),e.when()},f.stop=function(){return t.info("[adminUserService] === STOPPING ==="),t.info("[adminUserService] === STOPPED ==="),e.when()},f.getUsersByEmail=function(s,l){return e((function(e,d){let _=f.portalURL+"users?format=full";s&&s instanceof u&&(_+="&organisationId="+s.id),s&&s instanceof c.Company&&(_+="&companyId="+s.id),s&&s instanceof a&&(_+="&siteId="+s.id),l&&(_+="&email="+encodeURIComponent(l)),n({method:"GET",url:_,headers:o.a.getRequestHeader()}).then((function(n){const r=n.data.data;t.info("[adminUserService] getUsersByEmail success (find "+n.data.total+" user(s))");const o=[];r.forEach((function(e){const t=i.createFromData(e);o.push(t)})),e({users:o,total:n.data.total})}),(function(e){const n=r.handleError(e);d(n),t.error("[adminUserService] "+r.getErrorFullMessage(e,"getUsersByEmail"))}))}))},f.getUsers=function(s,l,d,_,h,p,m,g,v,b,D){return e((function(e,y){let C=f.portalURL+"users?format=full&limit="+d;"string"==typeof s&&(C+="&companyId="+s),s&&s instanceof c.Company&&(C+="&companyId="+s.id),s&&s instanceof u&&(C+="&organisationId="+s.id),s&&s instanceof a&&(C+="&siteId="+s.id),l&&(C+="&offset="+d*(l-1)),_&&(C+="&displayName="+encodeURIComponent(_)+"&useEmails=true"),g&&(C+="&tags="+encodeURIComponent(g)),b&&(C+="&selectedAppCustomisationTemplate="+encodeURIComponent(b)),D&&(C+="&departments="+encodeURIComponent(D)),null!=h&&(C+="&isTerminated="+h),C+=p?"&roles=admin&roles=bp_admin&roles=bp_finance&roles=superadmin&roles=business_admin":"&excludeRoles=tv",angular.isDefined(v)&&(C+="&isActivated="+v),C+="&sortField=reverseDisplayName",n({method:"GET",url:C,headers:o.a.getRequestHeader()}).then((function(n){const r=n.data.data;t.info("[adminUserService] getUsers success (find "+n.data.total+" user(s))");const o=[];r.forEach((function(e){const t=i.createFromData(e,m);o.push(t)})),e({users:o,limit:n.data.limit,offset:n.data.offset,total:n.data.total})}),(function(e){const n=r.handleError(e);y(n),t.error("[adminUserService] "+r.getErrorFullMessage(e,"getUsers"))}))}))},f.searchUsers=function(s,a,l,c){return e((function(e,u){let d=config.restServerUrl+"/api/rainbow/search/v1.0/users?limit="+l;s&&(d+="&companyId="+s.id),a&&(d+="&offset="+l*(a-1)),c&&(d+="&displayName="+encodeURIComponent(c)),n({method:"GET",url:d,headers:o.a.getRequestHeader()}).then((function(n){const r=n.data.data;t.info("[adminUserService] searchUsers success (find "+n.data.total+" user(s))");const o=[];r.forEach((function(e){const t=i.createFromData(e);o.push(t)})),e({users:o,total:n.data.total})}),(function(e){const n=r.handleError(e);u(n),t.error("[adminUserService] "+r.getErrorFullMessage(e,"searchUsers"))}))}))},f.getUser=function(s){const a=e.defer();return n({method:"GET",url:f.portalURL+"users/"+s,headers:o.a.getRequestHeader()}).then((function(e){t.info("[adminUserService] getUser success");const n=e.data.data,r=i.createFromData(n);a.resolve(r)}),(function(e){const n=r.handleError(e);a.reject(n),t.error("[adminUserService] "+r.getErrorFullMessage(e,"getUser"))})),a.promise},f.createUser=function(s,a){const c=i.prune(s,l.a.userContact);let u=f.portalURL+"users";a&&void 0!==a.sendInvitationEmail&&(u+="?sendInvitationEmail="+a.sendInvitationEmail);const d=e.defer();return n({method:"POST",url:u,headers:o.a.getRequestHeader(),data:c}).then((function(e){const n=i.createFromData(e.data.data);t.info("[adminUserService] createUser success"),d.resolve(n)}),(function(e){const n=r.handleError(e);d.reject(n),t.error("[adminUserService] "+r.getErrorFullMessage(e,"createUser"))})),d.promise},f.deleteUser=function(i){const s=e.defer();return n({method:"DELETE",url:f.portalURL+"users/"+i.id,headers:o.a.getRequestHeader()}).then((function(){t.info("[adminUserService] deleteUser success"),s.resolve()}),(function(e){const n=r.handleError(e);s.reject(n),t.error("[adminUserService] "+r.getErrorFullMessage(e,"deleteUser"))})),s.promise},f.updateUser=function(s){const a=i.prune(s,l.a.userContact),c=e.defer();return n({method:"PUT",url:f.portalURL+"users/"+s.id,headers:o.a.getRequestHeader(),data:a}).then((function(e){t.info("[adminUserService] updateUser success");const n=i.createFromData(e.data.data);c.resolve(n)}),(function(e){const n=r.handleError(e);c.reject(n),t.error("[adminUserService] "+r.getErrorFullMessage(e,"updateUser"))})),c.promise},f.getUserAvatar=function(e){const t=s.a.computeUserColor(e.firstName+" "+e.lastName).color;e.image=s.a.getAvatarImage(e.id,e.initials,t,50,e.lastAvatarUpdateDate)},f.expandTelephonyInfo=function(e){const t={};if(e.phoneNumbers){const n=[];e.phoneNumbers.forEach((function(e){const r=e.number,o=e.numberE164,i=e.deviceType;switch(e.type){case"work":if("landline"===i){const i=d.createFromData(e);n.push(i),e.isCloudPbxDDI||e.isOxoPbxDDI?(t.phonePro=e.number,t.phoneProCan=e.numberE164,t.phoneProDdiNumber=i):t.phoneProNumber&&t.phoneProNumber.systemId||(t.phoneProDdiNumber||(t.phonePro=r,t.phoneProCan=o),t.phoneProExt=e.shortNumber,t.phoneProIsMonitored=e.isMonitored,t.phoneProNumber=i)}"mobile"===i&&(t.mobilePro=r,t.mobileProCan=o);break;case"home":"landline"===i&&(t.phonePerso=r,t.phonePersoCan=o),"mobile"===i&&(t.mobilePerso=r,t.mobilePersoCan=o);break;case"rainbow":t.rainbowPhoneNumber=r}})),t.alternativePhoneProNumbers=n.filter((function(e){return!e.systemId&&!e.isFromSystem&&e.id!==t.phoneProNumber.id}))}return t},f.getAllUsers=function(t,n){return e((function(r,o){let i;f.getUsers(t,1,1e3,void 0,void 0,void 0,n).then((function(r){if(i=r,r.total>r.limit){const o=Math.ceil(r.total/1e3);let s=Array(...Array(o-1));s=s.map((function(e,t){return t+2}));const a=[];for(;s.length>0;)a.push(s.splice(0,5));return a.reduce((function(r,o){return r.then((function(){const r=o.map((function(e){return f.getUsers(t,e,1e3,void 0,void 0,void 0,n).then((function(e){i.users=i.users.concat(e.users),i.limit+=e.limit}))}));return e.all(r)}))}),e.resolve())}return e.resolve()})).then((function(){r(i)})).catch((function(e){o(e)}))}))},f.getUserTags=function(i){return e((function(e,s){let a=f.portalURL+"users/tags";i&&(a+="?companyId="+i),n({method:"GET",url:a,headers:o.a.getRequestHeader()}).then((function(n){const r=n.data.data.tags||[];t.info("[adminUserService] getUserTags success (find "+r.length+"tags(s))"),e(r)}),(function(e){const n=r.handleError(e);s(n),t.error("[adminUserService] "+r.getErrorFullMessage(e,"getUserTags"))}))}))},f.getTagsStats=function(i){return e((function(e,s){let a=f.portalURL+"users/tags/stats";i&&(a+="?companyId="+i),n({method:"GET",url:a,headers:o.a.getRequestHeader()}).then((function(n){const r=n.data.data.stats||[];t.info("[adminUserService] getTagsStats success (find "+r.length+"tags(s))"),e(r)}),(function(e){const n=r.handleError(e);s(n),t.error("[adminUserService] "+r.getErrorFullMessage(e,"getTagsStats"))}))}))},f.renameTag=function(i,s,a){return e((function(e,l){let c=f.portalURL+"users/tags?tag="+encodeURIComponent(i);a&&(c+="&companyId="+a),n({method:"PUT",url:c,headers:o.a.getRequestHeader(),data:{newTagName:s}}).then((function(n){t.info("[adminUserService] renameTag success => old tag: "+i+" => new tag: "+s+": found "+n.data.data.found+" occurence(s)"),e()}),(function(e){const n=r.handleError(e);l(n),t.error("[adminUserService] "+r.getErrorFullMessage(e,"renameTag"))}))}))},f.deleteTag=function(i,s){return e((function(e,a){let l=f.portalURL+"users/tags?tag="+encodeURIComponent(i);s&&(l+="&companyId="+s),n({method:"DELETE",url:l,headers:o.a.getRequestHeader()}).then((function(n){t.info("[adminUserService] deleteTag success (tag "+i+": found "+n.data.data.found+" occurence(s)"),e()}),(function(e){const n=r.handleError(e);a(n),t.error("[adminUserService] "+r.getErrorFullMessage(e,"deleteTag"))}))}))},f.getUserDepartments=function(i){return e((function(e,s){let a=f.portalURL+"users/departments";i&&(a+="?companyId="+i),n({method:"GET",url:a,headers:o.a.getRequestHeader()}).then((function(n){let r=n.data.data.departments||[];r=r.filter((function(e){return Boolean(e)})),t.info("[adminUserService] getUserDepartments success (find "+r.length+"department(s))"),e(r)}),(function(e){const n=r.handleError(e);s(n),t.error("[adminUserService] "+r.getErrorFullMessage(e,"getUserDepartments"))}))}))},f.getUserProfilesFeatures=function(i){return e((function(e,s){n({method:"GET",url:config.restServerUrl+"/api/rainbow/admin/v1.0/users/"+i+"/profiles/features",headers:o.a.getRequestHeader()}).then((function(n){const r={};n.data.data.forEach((function(e){t.debug("[adminUserService] getUserProfilesFeatures === response ==="+JSON.stringify(e)),e.hasOwnProperty("featureUniqueRef")&&(r[e.featureUniqueRef]=e)})),e(r)}),(function(n){if(404===n.status)t.debug("[adminUserService] getUserProfilesFeatures : features found for user: "+i),e();else{const e=r.handleError(n);s(e),t.error("[adminUserService] "+r.getErrorFullMessage(n,"getUserProfilesFeatures"))}}))}))},f.getUserPresenceInformation=function(i){return e((function(e,s){n({method:"GET",url:config.restServerUrl+"/api/rainbow/admin/v1.0/users/"+i+"/presences",headers:o.a.getRequestHeader()}).then((function(n){t.debug("[adminUserService] getUserPresenceInformation for user Id "+i+" === response === "+JSON.stringify(n.data.data));const r={};n.data.data.jid_im.forEach((function(e){r[e.resource]={},r[e.resource].show=e.show?e.show:"online",r[e.resource].status=e.status?e.status:"",r[e.resource].stamp=e.date,r[e.resource].type="jid_im"})),n.data.data.jid_tel.forEach((function(e){"calendar"!==e.resource&&(r[e.resource]={},r[e.resource].show=e.show?e.show:"online",r[e.resource].stamp=e.date,r[e.resource].type="phone")}));const o=f.calculatePresenceFromUserResources(r);e(o)}),(function(e){const n=r.handleError(e);t.error("[adminUserService] "+r.getErrorFullMessage(e,"getUserPresenceInformation")),s(n)}))}))},f.calculatePresenceFromUserResources=function(e){let t=!1,n=!1,r=!1,o=!1,i=!1,s=!1,a="",l=!1,c=!1,u=!1,d="offline",f="";for(const _ in e)if(e.hasOwnProperty(_)){const d=e[_];"phone"!==d.type?"xa"===d.show&&""===d.status?n=!0:"dnd"===d.show&&""===d.status?r=!0:"xa"===d.show&&"away"===d.status?o=!0:"dnd"===d.show&&"presentation"===d.status?i=!0:"dnd"===d.show&&d.status?(s=!0,a=d.status):""!==d.show&&"online"!==d.show||""!==d.status&&"mode=auto"!==d.status?"away"===d.show&&""===d.status&&(u=!0):-1!==_.indexOf("mobile_")?c=!0:l=!0:t="EVT_SERVICE_INITIATED"===d.status||"EVT_ESTABLISHED"===d.status}return t?(d="busy",f="phone"):n?(d="xa",f=""):r?(d="dnd",f=""):o?(d="away",f=""):i?(d="dnd",f="presentation"):s?(d="busy",f=a):l?(d="online",f=""):c?(d="online-mobile",f=""):u&&(d="away",f=""),{presence:d,status:f}}}])},function(e,t){angular.module("rainbow").filter("emojione",(function(){return function(e){return e}})),angular.module("rainbow").filter("emojiUnicodeToShort",(function(){return function(e){return e}})),angular.module("rainbow").filter("emojiShortToUnicode",(function(){return function(e){return e}}))},function(e,t){angular.module("rainbow").service("centralizedService",(function(){})),angular.module("rainbow").service("translateService",(function(){}))},function(e,t){angular.module("rainbow").factory("TransfertPromiseQueue",["$log","$q",function(e,t){function n(){const n=this;n.fileQueue=[],n.clearContext=function(){n.currentId=null,n.currentQueue=[],n.promiseCompletion=void 0,n.promiseReject=void 0,n.initialQueueSize=0,n.promisesDone=0,n.chunkErrorCounter=0,n.currentPromise=void 0},n.clearContext(),n.addPromiseArray=function(r,o,i,s){e.debug("[TransfertPromiseQueue] adding promiseArray");const a={};return a.id=r,a.promiseArray=o,a.promiseCompletion=i,a.promiseReject=s,0!==n.fileQueue.length||n.currentPromise?(n.fileQueue.push(a),e.debug("[TransfertPromiseQueue] adding PromiseArray in FileQueue: "+n.fileQueue.length)):(e.debug("[TransfertPromiseQueue] configuring file to transfert: "+a.promiseArray.length),n.fileQueue.push(a),n.popFileQueue()),e.debug("[TransfertPromiseQueue] adding promise on FileQueue: "+n.fileQueue.length),t},n.popFileQueue=function(){if(n.fileQueue.length>0){e.debug("[TransfertPromiseQueue] go to next file");const t=n.fileQueue.shift();n.currentId=t.id,n.currentQueue=t.promiseArray,n.promiseCompletion=t.promiseCompletion,n.promiseReject=t.promiseReject,n.initialQueueSize=n.currentQueue.length,n.promisesDone=0,n.chunkErrorCounter=0,n.currentPromise=[];for(let e=0;e<10&&n.currentQueue.length>0;e++)n.currentPromise.push(n.currentQueue.shift()());n.execute()}else e.debug("[TransfertPromiseQueue] no more file to transfert"),n.clearContext()},n.execute=function(){e.debug("[TransfertPromiseQueue] execute"),n.currentPromise?t.all(n.currentPromise).then((function(){if(e.debug("[TransfertPromiseQueue] promise success go to next one"),n.chunkErrorCounter=0,0===n.currentQueue.length)n.promiseCompletion&&n.promiseCompletion(),n.popFileQueue();else{n.currentPromise=[];for(let e=0;e<10&&n.currentQueue.length>0;e++)n.currentPromise.push(n.currentQueue.shift()());n.execute()}})).catch((function(t){const r=t&&t.message?t.message:"Unknown error";if(e.error("[TransfertPromiseQueue] failure executing promise -- "+r),n.chunkErrorCounter++,t&&t.errorDetailsCode>=500&&n.chunkErrorCounter<=3&&n.currentPromise){const e=n.currentPromise;n.currentPromise=[],e.forEach((function(e){n.currentPromise.push(e())})),n.execute()}else e.error("[TransfertPromiseQueue] 3 chunk failed - ABORT File Upload"),n.promiseReject(t),n.popFileQueue()})):(e.debug("[TransfertPromiseQueue] no promise to perform"),n.currentPromise=void 0)},n.isTransferInProgress=function(){return e.debug("[TransfertPromiseQueue] >isTransferInProgress: "+n.fileQueue.length+"/"+n.currentQueue.length),n.fileQueue.length>0||n.currentQueue.length>0||n.currentPromise},n.cancelAllTransfers=function(){e.debug("[TransfertPromiseQueue] cancelAllTransfers"),n.fileQueue=[],n.currentQueue=[]},n.cancelCurrentFiletransfer=function(t){if(e.debug("[TransfertPromiseQueue] cancelCurrentFiletransfer"),n.currentId===t)e.debug("[TransfertPromiseQueue] cancelling current promise"),n.popFileQueue();else{const r=n.fileQueue.find((function(e){return e.id===t}));if(r){const t=n.fileQueue.indexOf(r);e.debug("[TransfertPromiseQueue] promise to remove at position="+t),n.fileQueue.splice(t,1)}}}}return n.create=function(){return e.debug("[TransfertPromiseQueue] >create"),new n},n}])},function(e,t,n){n.r(t),window.sdk=angular.module("sdk",["pascalprecht.translate","ngSanitize","ngFileSaver","rainbow","rainbowAdmin"],(function(){})),t.default={sdk:sdk}},function(e,t,n){n.r(t);var r=n(29);sdk.remoteConsole={debug:!1,log:!1,info:!1,warn:!1,error:!1},sdk.hasVerboseLog=!1,sdk.hasBeenLaunchedFromConfig=!1,sdk.key={appID:"",appSecret:"",host:"openrainbow.com"},sdk.config(["consoleLogsProvider","$provide","$httpProvider","$translateProvider",function(e,t,n,o){const i=function(e){return e.toDateString()+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)};t.decorator("$log",["$delegate",function(t){const n=t.debug;t.debug=function(){const t=[].slice.call(arguments);sdk.remoteConsole.debug&&console.re.debug(t[0]),r.sdkConfig.verboseLog&&n.apply(null,t),e.setLogs(["["+i(new Date)+"]"]+"debug : "+t+"\n")};const o=t.log;t.log=function(){const t=[].slice.call(arguments);sdk.remoteConsole.log&&console.re.log(t[0]),r.sdkConfig.verboseLog&&o.apply(null,t),e.setLogs(["["+i(new Date)+"]"]+"log : "+t+"\n")};const s=t.info;t.info=function(){const t=[].slice.call(arguments);sdk.remoteConsole.info&&console.re.info(t[0]),r.sdkConfig.verboseLog&&s.apply(null,t),e.setLogs(["["+i(new Date)+"]"]+"info : "+t+"\n")};const a=t.warn;t.warn=function(){const t=[].slice.call(arguments);sdk.remoteConsole.warn&&console.re.warn(t[0]),a.apply(null,t),e.setLogs(["["+i(new Date)+"]"]+"warn : "+t+"\n")};const l=t.error;return t.error=function(){const t=[].slice.call(arguments);sdk.remoteConsole.error&&console.re.error(t[0]),l.apply(null,t),e.setLogs(["["+i(new Date)+"]"]+"error : "+t+"\n")},t.webrtc=function(){const t=[].slice.call(arguments),r="rtcweb : "+t[0];t[0]="%c "+i(new Date)+" | RTCWEB | "+t[0],t[t.length]="color:green",sdk.remoteConsole.log&&console.re.log(t[0]),n.apply(null,t),e.setLogs(["["+i(new Date)+"]"]+r+"\n")},t.sdk=function(){const t=[].slice.call(arguments),r="RBW-SDK : "+t[0];t[0]="%c "+i(new Date)+" | RBW-SDK | "+t[0],t[t.length]="color:green",sdk.remoteConsole.log&&console.re.log(t[0]),n.apply(null,t),e.setLogs(["["+i(new Date)+"]"]+r+"\n")},t}]),n.defaults.useXDomain=!0,o.useSanitizeValueStrategy(null)}]),sdk.run([function(){}]),sdk.provider("consoleLogs",[function(){this.logsBuffer=[],this.logsMaxLength=2e6,this.$get=function(){const e=this.logsBuffer;return{getLogs:function(){return e}}},this.cleanBuffer=function(){this.logsBuffer.length>this.logsMaxLength&&(this.logsBuffer=this.logsBuffer.slice(-this.logsMaxLength))},this.setLogs=function(e){1e3===this.logsBuffer&&this.logsBuffer.shift(),this.logsBuffer.push(e)}}])},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(32);class o{static create(e,t,n,r,i,s,a,l,c,u,d){return new o(e,t,n,r,i,s,a,l,c,u,d)}static createFromData(e){const t=new o(e.id,e.invitedUserId,e.invitedUserEmail,e.invitingUserId,e.invitingUserEmail,e.requestNotificationLanguage,e.invitingDate,e.lastNotificationDate,e.status,e.type,e.inviteToJoinMeeting,e.invitedPhoneNumber);return t.createDefaultAvatar(),t}constructor(e,t,n,r,o,i,s,a,l,c,u,d=null){this.id=e,this.invitedUserId=t,this.invitedUserEmail=n,this.invitedPhoneNumber=d,this.invitingUserId=r,this.invitingUserEmail=o,this.requestNotificationLanguage=i,this.invitingDate=s,this.lastNotificationDate=a,this.status=l,this.type=c,this.defaultAvatar=null,this.inviteToJoinMeeting=u}createDefaultAvatar(){if(!this.defaultAvatar&&this.invitedUserEmail){const e=r.default.computeUserColor(this.invitedUserEmail),t=this.invitedUserEmail.substring(0,2).toUpperCase();this.defaultAvatar=r.default.createDefaultAvatarImage(t,e)}}}t.Invitation=o},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(0),i=n(33),s=n(19),a=n(18),l=n(3),c=n(26),u=n(32),d=n(7),f=n(2);class _{constructor(){this.isOffice365AdSearchAllowed=!1,this.isOffice365ContactSearchAllowed=!1,this.url=config.restServerUrl+"/api/rainbow/office365/v1.0/users",this.companies={},this.eventService=i.default,this.logger=o.default,this.authService=l.default,this.mainService=c.default,this.userInfoService=u.default,this.profileService=d.default,this.contactService=f.default,this.isOffice365AdSearchAllowed=this.profileService.isFeatureEnabled(this.profileService.FeaturesEnum.MSO365_DIRECTORY_SEARCH),this.isOffice365ContactSearchAllowed=this.profileService.isFeatureEnabled(this.profileService.FeaturesEnum.MSO365_CONTACT_SEARCH)}static getInstance(){const e=window;return e.rainbow||(e.rainbow={}),e.rainbow.office365AdService||(e.rainbow.office365AdService=new _),e.rainbow.office365AdService}search(e){return r(this,void 0,void 0,(function*(){if(!this.profileService.isFeatureEnabled(this.profileService.FeaturesEnum.MSO365_CONTACT_SEARCH))return[];this.logger.info("search office365 Contact from Ad with pattern "+e);try{const t=this.authService.getPostHeader();let n;n=this.profileService.isFeatureEnabled(this.profileService.FeaturesEnum.SEARCH_BY_TAGS)?yield fetch(this.url+"/search",{method:"POST",mode:"cors",headers:t,body:JSON.stringify({search:e,includeContacts:this.isOffice365ContactSearchAllowed})}):yield fetch(this.url+"/search",{method:"POST",mode:"cors",headers:t,body:JSON.stringify({name:e,includeContacts:this.isOffice365ContactSearchAllowed})});const r=(yield n.json()).data;return r.map(e=>{const t=this.contactService.createBasicContact(e.oid,null,!1);return this.updateContactWithData(t,e),t})}catch(t){return this.logger.error(`search office365 Contact from Ad with pattern ${e} --- FAILURE --- ${t.message}`),[]}}))}searchCompanies(e){return r(this,void 0,void 0,(function*(){if(!this.isOffice365AdSearchAllowed)return[];this.logger.info("search office365 Company from Ad with pattern "+e);try{const t=this.authService.getPostHeader(),n=yield fetch(this.url+"/search",{method:"POST",mode:"cors",headers:t,body:JSON.stringify({companyName:e,includeContacts:!1})}),r=(yield n.json()).data;return r.map(e=>{const t=s.Company.create(e.oid,e.companyName);return this.getCompanyLogo(t),this.getCompanyBanner(t),this.companies[t.id]=t,t})}catch(t){return this.logger.error(`search office365 Company from Ad with pattern ${e} --- FAILURE --- ${t.message}`),[]}}))}getCompanyLogo(e){return r(this,void 0,void 0,(function*(){try{const t=this.userInfoService.computeUserColor(e.name),n=e.name.substr(0,1);return e.logo=this.userInfoService.getAvatarImage(e.id,n,t.color,130,e.lastAvatarUpdateDate),this.eventService.publish("ON_COMPANY_LOGO_UPDATED",e.id),this.logger.info("[getCompanyLogo] - "+e.getNameForLogs()+" - success"),e.sendChangeEvent("logo"),e}catch(t){throw new Error("getCompanyLogo -- FAILURE -- "+t.message)}}))}getCompanyBanner(e){return r(this,void 0,void 0,(function*(){return new Promise(t=>{const n=new Image;n.onload=()=>{e.banner=n,this.eventService.publish("ON_COMPANY_BANNER_UPDATED",e.id),this.logger.info("[getCompanyBanner] - "+e.getNameForLogs()+" - success"),t(e)},n.onerror=()=>{this.logger.error("[companyService] Load banner for "+e.getNameForLogs()+" failure"),t(e)};let r="/cacheV2/images/company-banner-01.svg";if(e.lastBannerUpdateDate){let t=config.webservices.protocol+"://"+config.webservices.currentServer;this.mainService.cdn&&(t=this.mainService.cdnServer),r=t+"/api/banner/"+e.id+"?size=831",r+="&update="+a.MD5(a.CryptoJSEnc.Latin1.parse(e.lastBannerUpdateDate)).toString(a.CryptoJSEnc.Hex)}n.src=r})}))}getCompanyById(e){if(!e)throw new Error("missing companyId");const t=this.companies[e];return this.logger.info("[office365adService] getCompanyById (cache) "+e+" - success"),t}getUserDetails(e){return r(this,void 0,void 0,(function*(){if(this.isOffice365AdSearchAllowed&&e.o365Flag){this.logger.info("getUserDetails for "+e.oid);try{const t=this.authService.getRequestHeader(),n=`${this.url}/details/${encodeURIComponent(e.id)}`,r=yield fetch(n,{method:"GET",mode:"cors",headers:t});if(!r.ok)throw this.logger.debug(`Request ${r.headers.get("x-rainbow-request-id")} failed with status ${r.status}`),new Error(r.statusText);const o=yield r.json();this.updateContactWithOffice365Data(e,o)}catch(t){this.logger.error("getUserDetails -- FAILURE -- "+t.message)}}}))}updateContactWithData(e,t){e.o365Flag=!0,e.updateName(t.firstName,t.lastName),e.companyName=this.contactService.userContact.company.name,e.jobTitle=t.jobTitle,e.department=t.department,e.webAddress=t.mySite,e.mobilePhones=t.mobilePhonesE164,e.businessPhones=t.businessPhonesE164,e.email=t.mail,e.isContact=t.isContact}updateContactWithOffice365Data(e,t){e.o365Flag=!0,e.updateName(t.givenName,t.surname),e.companyName=this.contactService.userContact.company.name,e.jobTitle=t.jobTitle,e.department=t.department,e.webAddress=t.mySite,e.email=t.mail,e.isContact?(e.street=t.addresses[0]&&t.addresses[0].street?t.addresses[0].street:"",e.city=t.addresses[0]&&t.addresses[0].city?t.addresses[0].city:"",e.country=t.addresses[0]&&t.addresses[0].countryOrRegion?t.addresses[0].countryOrRegion:"",e.postCode=t.addresses[0]&&t.addresses[0].postalCode?t.addresses[0].postalCode:"",e.state=t.addresses[0]&&t.addresses[0].state?t.addresses[0].state:""):(e.street=t.streetAddress,e.city=t.city,e.country=t.country,e.postCode=t.postalCode,e.state=t.state)}}t.Office365AdService=_,t.default=_.getInstance()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ContactSDK=class{constructor(e){this.id=e.dbId,this.status=e.status,this.loginEmail=e.loginEmail,this.lastname=e.lastname,this.firstname=e.firstname,this.fullname=e._displayName,this.nickname=e.nickname,this.initials=e.initials,this.title=e.title,this.jobTitle=e.jobTitle,this.language=e.language,this.country=e.country,this.tags=e.tags,this.internalPhoneNumber=e.phoneInternalNumber,this.professionalPhoneNumber=e.phonePro,this.personalPhoneNumber=e.phonePerso,this.personalMobilePhoneNumber=e.mobilePerso,this.voicemailNumber=e.voiceMailNumber,this.roles=e.roles,this.customData=e.customData,this.pbxId=e.pbxId,this.displayOrder=e.displayOrder,this.avatar=e.avatarSrc}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.InvitationSDK=class{constructor(e){this.id=e.id,this.invitedUserId=e.invitedUserId,this.invitedUserEmail=e.invitedUserEmail,this.invitedUserPhoneNumber=e.invitedUserPhoneNumber,this.invitingUserId=e.invitingUserId,this.invitingUserEmail=e.invitingUserEmail,this.date=e.invitingDate,this.status=e.status}}},function(e,t){Strophe.addNamespace("RSM","http://jabber.org/protocol/rsm"),Strophe.RSM=function(e){if(this.attribs=["max","first","last","after","before","index","count"],void 0!==e.xml)this.fromXMLElement(e.xml);else for(let t=0;t<this.attribs.length;t++){const n=this.attribs[t];this[n]=e[n]}},Strophe.RSM.prototype={toXML:function(){let e=$build("set",{xmlns:Strophe.NS.RSM});for(let t=0;t<this.attribs.length;t++){const n=this.attribs[t];void 0!==this[n]&&(e=e.c(n).t(this[n].toString()).up())}return e.tree()},next:function(e){return new Strophe.RSM({max:e,after:this.last})},previous:function(e){return new Strophe.RSM({max:e,before:this.first})},fromXMLElement:function(e){for(let t=0;t<this.attribs.length;t++){const n=this.attribs[t],r=e.getElementsByTagName(n)[0];null!=r&&(this[n]=Strophe.getText(r),"first"==n&&(this.index=r.getAttribute("index")))}}}},function(e,t){Strophe.addConnectionPlugin("ping",{_c:null,init:function(e){this._c=e,Strophe.addNamespace("PING","urn:xmpp:ping")},ping:function(e,t,n,r){var o=this._c.getUniqueId("ping"),i=$iq({type:"get",to:e,id:o}).c("ping",{xmlns:Strophe.NS.PING});this._c.sendIQ(i,t,n,r)},pong:function(e){var t=e.getAttribute("from"),n=e.getAttribute("id"),r=$iq({type:"result",to:t,id:n});this._c.sendIQ(r)},addPingHandler:function(e){return this._c.addHandler(e,Strophe.NS.PING,"iq","get")}})},function(e,t){!function(){Strophe.addConnectionPlugin("lastactivity",{_c:null,_n:0,init:function(e){this._c=e,Strophe.addNamespace("LAST_ACTIVITY","jabber:iq:last")},query:function(e,t){var n={type:"get",id:"lastActivityId"+this._n++,from:this._c.jid,to:e},r={xmlns:Strophe.NS.LAST_ACTIVITY},o=$iq(n).c("query",r),i=t.onResponse;return delete t.onResponse,this._c.addHandler(null,Strophe.NS.LAST_ACTIVITY,"message",null),this._c.sendIQ(o,i)}})}()},function(e,t,n){n.r(t);var r=n(10);Strophe.addConnectionPlugin("jingle",{connection:null,sessions:{},jid2session:{},ice_config:{iceServers:[]},company_config:{},pc_constraints:{rtcpMuxPolicy:"require",bundlePolicy:"max-bundle"},media_constraints:{},localStream:null,connectionRef:null,jingleIqTimeout:15e3,init:function(e){this.connection=e,this.connection.disco&&(this.connection.disco.addFeature("urn:xmpp:jingle:1"),this.connection.disco.addFeature("urn:xmpp:jingle:apps:rtp:1"),this.connection.disco.addFeature("urn:xmpp:jingle:transports:ice-udp:1"),this.connection.disco.addFeature("urn:xmpp:jingle:apps:rtp:audio"),this.connection.disco.addFeature("urn:xmpp:jingle:apps:rtp:video"),this.connection.disco.addFeature("urn:ietf:rfc:5761")),this.connectionRef&&(this.connection.deleteHandler(this.connectionRef),this.connectionRef=null),config&&config.jingleIqTimeout?this.jingleIqTimeout=config.jingleIqTimeout:this.jingleIqTimeout=15e3,this.connectionRef=this.connection.addHandler(this.onJingle.bind(this),"urn:xmpp:jingle:1","iq","set",null,null);for(const t in this.sessions)if(this.sessions.hasOwnProperty(t)){const e=this.sessions[t];e.connection=this.connection,null!==e.statsinterval&&(window.clearInterval(e.statsinterval),e.statsinterval=null)}},attachHandlers:function(){this.connectionRef&&(this.connection.deleteHandler(this.connectionRef),this.connectionRef=null),this.connectionRef=this.connection.addHandler(this.onJingle.bind(this),"urn:xmpp:jingle:1","iq","set",null,null)},onJingle:function(e){r.rainbowLogger.sdk("[Strophe.jingle] onJingle");try{const s=$(e).find("jingle").attr("sid"),a=$(e).find("jingle").attr("action"),l=$iq({type:"result",to:e.getAttribute("from"),id:e.getAttribute("id")});let c=this.sessions[s];if("session-initiate"!=a){if(null==c)return l.type="error",l.c("error",{type:"cancel"}).c("item-not-found",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"}).up().c("unknown-session",{xmlns:"urn:xmpp:jingle:errors:1"}),this.connection.send(l),$(document).trigger("callterminated.jingle",[s]),!0;if(Strophe.getBareJidFromJid(e.getAttribute("from"))!=Strophe.getBareJidFromJid(c.peerjid))return console.warn("[Strophe.jingle] jid mismatch for session id",s,e.getAttribute("from"),c.peerjid),l.type="error",l.c("error",{type:"cancel"}).c("item-not-found",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"}).up().c("unknown-session",{xmlns:"urn:xmpp:jingle:errors:1"}),this.connection.send(l),!0}else if(void 0!==c)return l.type="error",l.c("error",{type:"cancel"}).c("service-unavailable",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"}).up(),console.warn("[Strophe.jingle] duplicate session id",s),this.connection.send(l),!0;switch("transport-replace"!==a&&this.connection.send(l),a){case"session-initiate":var t=$(e).find("jingle").attr("localType");r.rainbowLogger.sdk("REMOTE TYPE || "+t),c=new JingleSession($(e).attr("to"),$(e).find("jingle").attr("sid"),this.connection,this.jingleIqTimeout),c.media_constraints=this.media_constraints,c.pc_constraints=this.pc_constraints,c.ice_config=this.ice_config,c.company_config=this.company_config,this.jid2session[$(e).attr("from")]&&this.jid2session[$(e).attr("from")].unifiedPlan&&(c.unifiedPlanActivated=!0),c.initiate($(e).attr("from"),!1),c.remoteType=t,c.confId=$(e).find("jingle").attr("confId"),c.publisherId=$(e).find("conference").attr("publisherId");var n=$(e).find("conference").attr("id");n&&(c.conference_id=n),c.setRemoteDescription($(e).find(">jingle"),"offer"),this.sessions[c.sid]=c,this.jid2session[c.peerjid]=c,$(document).trigger("callincoming.jingle",[c.sid]);break;case"transport-replace":c.isReconnecting=!0,r.rainbowLogger.sdk("[strophe jingle] Transport replace"),t=$(e).find("jingle").attr("localType"),r.rainbowLogger.sdk("REMOTE TYPE || "+t),c.media_constraints=this.media_constraints,c.pc_constraints=this.pc_constraints,c.ice_config=this.ice_config,c.company_config=this.company_config,c.remoteType=t,this.sessions[c.sid]=c,this.jid2session[c.peerjid]=c,c.hasSentTransportReplace?(r.rainbowLogger.sdk("[strophe jingle] Transport replace -- put on hold"),c.saveIncomingTransportReplace($(e).find(">jingle"),"offer",l)):(r.rainbowLogger.sdk("[strophe jingle] Transport replace is accepted"),this.connection.send(l),c.setRemoteDescription($(e).find(">jingle"),"offer"),$(document).trigger("transportreplace.jingle",[c.sid]));break;case"session-accept":c.setRemoteDescription($(e).find(">jingle"),"answer"),t=$(e).find(">jingle").attr("localType"),c.remoteType=t,r.rainbowLogger.sdk("REMOTE TYPE || session-accept remoteType "+c.remoteType),r.rainbowLogger.sdk("REMOTE TYPE || session-accept localType "+c.localType),c.accept(),$(document).trigger("callaccepted.jingle",[c.sid]);break;case"transport-accept":c.setRemoteDescription($(e).find(">jingle"),"answer"),c.isReconnecting=!1,t=$(e).find(">jingle").attr("localType"),c.remoteType=t,r.rainbowLogger.sdk("REMOTE TYPE || transport-accept remoteType "+c.remoteType),r.rainbowLogger.sdk("REMOTE TYPE || transport-accept localType "+c.localType),$(document).trigger("callaccepted.jingle",[c.sid]);break;case"session-terminate":c.terminate(),this.terminate(c.sid),$(e).find(">jingle>conference").length&&$(e).find(">jingle>conference").attr("reason")?$(document).trigger("callterminated.jingle",[c.sid,"multi-device"]):$(e).find(">jingle>reason").length?$(document).trigger("callterminated.jingle",[c.sid,$(e).find(">jingle>reason>:first")[0].tagName,$(e).find(">jingle>reason>text").text()]):$(document).trigger("callterminated.jingle",[c.sid]);break;case"transport-info":r.rainbowLogger.sdk("[JINGLE] transport-info"),c.addIceCandidate($(e).find(">jingle>content"));break;case"session-info":var o;$(e).find('>jingle>ringing[xmlns="urn:xmpp:jingle:apps:rtp:info:1"]').length?$(document).trigger("ringing.jingle",[c.sid]):$(e).find('>jingle>mute[xmlns="urn:xmpp:jingle:apps:rtp:info:1"]').length?(o=$(e).find('>jingle>mute[xmlns="urn:xmpp:jingle:apps:rtp:info:1"]').attr("name"),$(document).trigger("mute.jingle",[c.sid,o])):$(e).find('>jingle>unmute[xmlns="urn:xmpp:jingle:apps:rtp:info:1"]').length?(o=$(e).find('>jingle>unmute[xmlns="urn:xmpp:jingle:apps:rtp:info:1"]').attr("name"),$(document).trigger("unmute.jingle",[c.sid,o])):$(e).find('>jingle>iceFailed[xmlns="urn:xmpp:jingle:apps:rtp:info:1"]').length?$(document).trigger("remoteIceFailed.jingle",[c.sid]):$(e).find('>jingle>hold[xmlns="urn:xmpp:jingle:apps:rtp:info:1"]').length?$(document).trigger("hold.jingle",[c.sid]):$(e).find('>jingle>unhold[xmlns="urn:xmpp:jingle:apps:rtp:info:1"]').length&&$(document).trigger("unhold.jingle",[c.sid]);break;case"content-add":r.rainbowLogger.sdk("[Strophe Jingle] Content-add");var i=$(e).find(">jingle").attr("mediaType");c.remoteType=i,r.rainbowLogger.sdk("REMOTE TYPE || content-add remoteType "+c.remoteType),r.rainbowLogger.sdk("REMOTE TYPE || content-add localType "+c.localType),c.setRemoteDescription($(e).find(">jingle"),"offer"),c.mediaModified(),$(document).trigger("mediamodified.jingle",[c.sid,i]);break;case"content-modify":r.rainbowLogger.sdk("[Strophe Jingle] Content-modify"),i=$(e).find(">jingle").attr("mediaType"),c.remoteType=i,r.rainbowLogger.sdk("REMOTE TYPE || content-modify remoteType "+c.remoteType),r.rainbowLogger.sdk("REMOTE TYPE || content-modify localType "+c.localType),c.setRemoteDescription($(e).find(">jingle"),"offer"),c.mediaModified(),$(document).trigger("mediamodified.jingle",[c.sid,i]);break;case"content-remove":r.rainbowLogger.sdk("[Strophe Jingle] Content-remove"),i=$(e).find(">jingle").attr("mediaType"),c.remoteType=i,c.setRemoteDescription($(e).find(">jingle"),"offer"),c.mediaModified(!0),$(document).trigger("mediamodified.jingle",[c.sid,i]);break;case"content-accept":r.rainbowLogger.sdk("[Strophe Jingle] Content-accept"),c.setRemoteDescription($(e).find(">jingle"),"answer");break;case"addsource":c.addSource($(e).find(">jingle>content"));break;case"removesource":c.removeSource($(e).find(">jingle>content"));break;default:console.warn("[Strophe.jingle] jingle action not implemented",a)}}catch(s){return console.error("[Strophe.jingle] On Jingle error catch: "+s),!0}return!0},initiate:function(e,t,n,r,o,i,s,a){const l=o||Math.random().toString(36).substr(2,12),c=new JingleSession(t||this.connection.jid,l,this.connection,this.jingleIqTimeout);if(r&&r.length)for(let u=0;u<r.length;u++)c.localStreams.push(r[u]);return c.media_constraints=this.media_constraints,c.ice_config=this.ice_config,c.company_config=this.company_config,n&&(c.localType=n),void 0!==i&&(c.conference_id=i),c.calledNumber=s&&""!==s?s:null,a&&(c.unifiedPlanActivated=!0),c.initiate(e,!0),this.sessions[c.sid]=c,this.jid2session[c.peerjid]=c,c.sendOffer(!0),c},terminate:function(e,t,n){if(null==e)for(e in this.sessions)"ended"!=this.sessions[e].state&&(this.sessions[e].sendTerminate(t||(this.sessions[e].active()?null:"cancel"),n),this.sessions[e].terminate()),delete this.jid2session[this.sessions[e].peerjid],delete this.sessions[e];else this.sessions.hasOwnProperty(e)&&("ended"!=this.sessions[e].state&&(this.sessions[e].sendTerminate(t||(this.sessions[e].active()?null:"cancel"),n),this.sessions[e].terminate()),delete this.jid2session[this.sessions[e].peerjid],delete this.sessions[e])},terminateByJid:function(e){if(this.jid2session.hasOwnProperty(e)){const t=this.jid2session[e];t&&(t.terminate(),delete this.sessions[t.sid],delete this.jid2session[e],$(document).trigger("callterminated.jingle",[t.sid,"gone"]))}}})},function(e,t,n){n.r(t);var r=n(10);window.SDP=function(e){this.media=e.split("\r\nm=");for(let t=1;t<this.media.length;t++)this.media[t]="m="+this.media[t],t!=this.media.length-1&&(this.media[t]+="\r\n");this.session=this.media.shift()+"\r\n",this.raw=this.session+this.media.join("")},SDP.prototype.mangle=function(){let e,t,n,r,o,i;for(e=0;e<this.media.length;e++)if(r=this.media[e].split("\r\n"),r.pop(),n=SDPUtil.parse_mline(r.shift()),"audio"==n.media){for(i="",n.fmt.length=0,t=0;t<r.length;t++)if("a=rtpmap:"==r[t].substr(0,9)){if(o=SDPUtil.parse_rtpmap(r[t]),"CN"==o.name||"ISAC"==o.name)continue;n.fmt.push(o.id),i+=r[t]+"\r\n"}else i+=r[t]+"\r\n";this.media[e]=SDPUtil.build_mline(n)+"\r\n",this.media[e]+=i}this.raw=this.session+this.media.join("")},SDP.prototype.removeSessionLines=function(e){const t=this,n=SDPUtil.find_lines(this.session,e);return n.forEach((function(e){t.session=t.session.replace(e+"\r\n","")})),this.raw=this.session+this.media.join(""),n},SDP.prototype.removeMediaLines=function(e,t){const n=this,r=SDPUtil.find_lines(this.media[e],t);return r.forEach((function(t){n.media[e]=n.media[e].replace(t+"\r\n","")})),this.raw=this.session+this.media.join(""),r},SDP.prototype.toJingle=function(e,t,n){let r,o,i,s,a,l,c,u,d;if(SDPUtil.find_line(this.session,"a=group:"))for(u=SDPUtil.find_lines(this.session,"a=group:"),r=0;r<u.length;r++){c=u[r].split(" ");const t=c.shift().substr(8);for(e.c("group",{xmlns:"urn:xmpp:jingle:apps:grouping:0",semantics:t}),o=0;o<c.length;o++)e.c("content",{name:c[o]}).up();e.up()}let f=[];for(SDPUtil.find_line(this.session,"a=group:BUNDLE")&&(f=SDPUtil.find_line(this.session,"a=group:BUNDLE ").split(" "),f.shift()),r=0;r<this.media.length;r++)if(s=SDPUtil.parse_mline(this.media[r].split("\r\n")[0]),"audio"==s.media||"video"==s.media){if(a=!!SDPUtil.find_line(this.media[r],"a=ssrc:")&&SDPUtil.find_line(this.media[r],"a=ssrc:").substring(7).split(" ")[0],d=!!SDPUtil.find_line(this.media[r],"a=simulcast:")&&SDPUtil.find_line(this.media[r],"a=simulcast:").substring(12).trim(),e.c("content",{creator:t,name:s.media}),SDPUtil.find_line(this.media[r],"a=mid:")){const t=SDPUtil.parse_mid(SDPUtil.find_line(this.media[r],"a=mid:"));e.attrs({name:t})}if(SDPUtil.find_line(this.media[r],"a=rtpmap:").length){for(e.c("description",{xmlns:"urn:xmpp:jingle:apps:rtp:1",media:s.media}),a&&e.attrs({ssrc:a}),o=0;o<s.fmt.length;o++){if(l=SDPUtil.find_line(this.media[r],"a=rtpmap:"+s.fmt[o]),e.c("payload-type",SDPUtil.parse_rtpmap(l)),SDPUtil.find_line(this.media[r],"a=fmtp:"+s.fmt[o]))for(c=SDPUtil.parse_fmtp(SDPUtil.find_line(this.media[r],"a=fmtp:"+s.fmt[o])),i=0;i<c.length;i++)e.c("parameter",c[i]).up();this.RtcpFbToJingle(r,e,s.fmt[o]),e.up()}if(SDPUtil.find_line(this.media[r],"a=crypto:",this.session)&&(e.c("encryption",{required:1}),SDPUtil.find_lines(this.media[r],"a=crypto:",this.session).forEach((function(t){e.c("crypto",SDPUtil.parse_crypto(t)).up()})),e.up()),a&&(e.c("source",{ssrc:a,xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),SDPUtil.find_lines(this.media[r],"a=ssrc:").forEach((function(t){idx=t.indexOf(" ");const n=t.substr(0,idx).substr(7);n!=a&&(e.up(),a=n,e.c("source",{ssrc:a,xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}));const r=t.substr(idx+1);e.c("parameter"),-1==r.indexOf(":")?e.attrs({name:r}):(e.attrs({name:r.split(":",2)[0]}),e.attrs({value:r.split(":",2)[1]})),e.up()})),e.up()),d&&(e.c("simulcast",{rids:d,xmlns:"urn:xmpp:jingle:apps:rtp:sim:0"}),SDPUtil.find_lines(this.media[r],"a=rid:").forEach((function(t){const n=t.indexOf(" "),r=t.substr(0,n).substr(6);e.c("rid",{xmlns:"urn:xmpp:jingle:apps:rtp:rid:0",name:r}),e.up()})),e.up()),SDPUtil.find_lines(this.media[r],"a=ssrc-group").forEach((function(t){let n=t.indexOf(" ");const r=t.substr(0,n).substr(13);e.c("ssrc-group",{xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0",semantics:r});let o=t.substr(n+1);for(;o.length>0;){var i;n=o.indexOf(" "),n>0?(i=o.substr(0,n),o=o.substr(n+1)):(i=o.substr(0,o.length),o=""),e.c("source",{ssrc:i}).up()}e.up()})),SDPUtil.find_line(this.media[r],"a=rtcp-mux")&&e.c("rtcp-mux").up(),this.RtcpFbToJingle(r,e,"*"),SDPUtil.find_line(this.media[r],"a=extmap:"))for(u=SDPUtil.find_lines(this.media[r],"a=extmap:"),o=0;o<u.length;o++){if(c=SDPUtil.parse_extmap(u[o]),e.c("rtp-hdrext",{xmlns:"urn:xmpp:jingle:apps:rtp:rtp-hdrext:0",uri:c.uri,id:c.value}),c.hasOwnProperty("direction"))switch(c.direction){case"sendonly":e.attrs({senders:"responder"});break;case"recvonly":e.attrs({senders:"initiator"});break;case"sendrecv":e.attrs({senders:"both"});break;case"inactive":e.attrs({senders:"none"})}e.up()}e.up()}this.TransportToJingle(r,e),SDPUtil.find_line(this.media[r],"a=sendrecv",this.session)?e.attrs({senders:"both"}):SDPUtil.find_line(this.media[r],"a=sendonly",this.session)?e.attrs({senders:"initiator"}):SDPUtil.find_line(this.media[r],"a=recvonly",this.session)?e.attrs({senders:"responder"}):SDPUtil.find_line(this.media[r],"a=inactive",this.session)&&e.attrs({senders:"none"}),"0"!=s.port||SDPUtil.find_line(this.media[r],"a=bundle-only",this.session)||e.attrs({senders:"rejected"}),e.up()}return n&&-1!==n&&(e.c("conference",{xmlns:"urn:xmpp:janus:1",id:n}),e.up()),e.up(),e},SDP.prototype.TransportToJingle=function(e,t){let n;const r=this;t.c("transport"),SDPUtil.find_lines(this.media[e],"a=fingerprint:",this.session).forEach((function(o){n=SDPUtil.parse_fingerprint(o),n.xmlns="urn:xmpp:jingle:apps:dtls:0",t.c("fingerprint").t(n.fingerprint),delete n.fingerprint,(o=SDPUtil.find_line(r.media[e],"a=setup:",r.session))&&(n.setup=o.substr(8)),t.attrs(n),t.up()})),n=SDPUtil.iceparams(this.media[e],this.session),n&&(n.xmlns="urn:xmpp:jingle:transports:ice-udp:1",t.attrs(n),SDPUtil.find_line(this.media[e],"a=candidate:",this.session))&&SDPUtil.find_lines(this.media[e],"a=candidate:",this.session).forEach((function(e){t.c("candidate",SDPUtil.candidateToJingle(e)).up()})),t.up()},SDP.prototype.RtcpFbToJingle=function(e,t,n){SDPUtil.find_lines(this.media[e],"a=rtcp-fb:"+n).forEach((function(e){const n=SDPUtil.parse_rtcpfb(e);"trr-int"==n.type?(t.c("rtcp-fb-trr-int",{xmlns:"urn:xmpp:jingle:apps:rtp:rtcp-fb:0",value:n.params[0]}),t.up()):(t.c("rtcp-fb",{xmlns:"urn:xmpp:jingle:apps:rtp:rtcp-fb:0",type:n.type}),n.params.length>0&&t.attrs({subtype:n.params[0]}),t.up())}))},SDP.prototype.RtcpFbFromJingle=function(e,t){let n="",r=e.find('>rtcp-fb-trr-int[xmlns="urn:xmpp:jingle:apps:rtp:rtcp-fb:0"]');return r.length&&(n+="a=rtcp-fb:* trr-int ",r.attr("value")?n+=r.attr("value"):n+="0",n+="\r\n"),r=e.find('>rtcp-fb[xmlns="urn:xmpp:jingle:apps:rtp:rtcp-fb:0"]'),r.each((function(){n+="a=rtcp-fb:"+t+" "+$(this).attr("type"),$(this).attr("subtype")&&(n+=" "+$(this).attr("subtype")),n+="\r\n"})),n},SDP.prototype.fromJingle=function(e){const t=this;if(this.raw="v=0\r\no=- 1923518516 2 IN IP4 0.0.0.0\r\ns=-\r\nt=0 0\r\n",$(e).find('>group[xmlns="urn:xmpp:jingle:apps:grouping:0"]').length)$(e).find('>group[xmlns="urn:xmpp:jingle:apps:grouping:0"]').each((function(e,n){const r=$(n).find(">content").map((function(e,t){return t.getAttribute("name")})).get();r.length>0&&(t.raw+="a=group:"+(n.getAttribute("semantics")||n.getAttribute("type"))+" "+r.join(" ")+"\r\n")}));else if($(e).find('>group[xmlns="urn:ietf:rfc:5888"]').length)$(e).find('>group[xmlns="urn:ietf:rfc:5888"]').each((function(e,n){const r=$(n).find(">content").map((function(e,t){return t.getAttribute("name")})).get();null!==n.getAttribute("type")&&r.length>0&&(t.raw+="a=group:"+n.getAttribute("type")+" "+r.join(" ")+"\r\n")}));else{const t=$(e).find(">content").filter((function(e,t){return $(t).find(">bundle").length>0})).map((function(e,t){return t.getAttribute("name")})).get();t.length&&(this.raw+="a=group:BUNDLE "+t.join(" ")+"\r\n")}this.raw+="a=ice-options:trickle\r\n",this.session=this.raw,e.find(">content").each((function(){const e=t.jingle2media($(this));t.media.push(e)}));const n=SDPUtil.parse_ssrc(this.raw);n.hasOwnProperty("mslabel")&&n.mslabel&&(this.session+="a=msid-semantic: WMS "+n.mslabel+"\r\n"),this.raw=this.session+this.media.join("")},SDP.prototype.jingle2media=function(e){let t="";const n=e.find("description"),r=(n.attr("ssrc"),this);let o;if(o={media:n.attr("media")},o.port="1","rejected"==e.attr("senders")&&(o.port="0"),e.find(">transport>fingerprint").length||n.find("encryption").length?o.proto="RTP/SAVPF":o.proto="RTP/AVPF",o.fmt=n.find("payload-type").map((function(){return this.getAttribute("id")})).get(),t+=SDPUtil.build_mline(o)+"\r\n",t+="c=IN IP4 0.0.0.0\r\n",t+="a=rtcp:1 IN IP4 0.0.0.0\r\n",o=e.find('>transport[xmlns="urn:xmpp:jingle:transports:ice-udp:1"]'),o.length&&(o.attr("ufrag")&&(t+=SDPUtil.build_iceufrag(o.attr("ufrag"))+"\r\n"),o.attr("pwd")&&(t+=SDPUtil.build_icepwd(o.attr("pwd"))+"\r\n"),o.find(">fingerprint").each((function(){t+="a=fingerprint:"+this.getAttribute("hash"),t+=" "+$(this).text(),t+="\r\n",this.getAttribute("setup")&&(t+="a=setup:"+this.getAttribute("setup")+"\r\n")}))),o=e.find('description>simulcast[xmlns="urn:xmpp:jingle:apps:rtp:sim:0"]'),o.length){const e=o.attr("rids");e&&(t+="a=simulcast: "+e+"\r\n"),o.find(">rid").each((function(){t+="a=rid:"+this.getAttribute("name")+" recv",t+="\r\n"}))}switch(e.attr("senders")){case"initiator":t+="a=sendonly\r\n";break;case"responder":t+="a=recvonly\r\n";break;case"none":t+="a=inactive\r\n";break;case"both":t+="a=sendrecv\r\n"}return t+="a=mid:"+e.attr("name")+"\r\n",n.find("rtcp-mux").length&&(t+="a=rtcp-mux\r\n"),n.find("encryption").length&&n.find("encryption>crypto").each((function(){t+="a=crypto:"+this.getAttribute("tag"),t+=" "+this.getAttribute("crypto-suite"),t+=" "+this.getAttribute("key-params"),this.getAttribute("session-params")&&(t+=" "+this.getAttribute("session-params")),t+="\r\n"})),n.find("payload-type").each((function(){t+=SDPUtil.build_rtpmap(this)+"\r\n",$(this).find(">parameter").length&&(t+="a=fmtp:"+this.getAttribute("id")+" ",t+=$(this).find("parameter").map((function(){return(this.getAttribute("name")?this.getAttribute("name")+"=":"")+this.getAttribute("value")})).get().join(";"),t+="\r\n"),t+=r.RtcpFbFromJingle($(this),this.getAttribute("id"))})),t+=r.RtcpFbFromJingle(n,"*"),o=n.find('>rtp-hdrext[xmlns="urn:xmpp:jingle:apps:rtp:rtp-hdrext:0"]'),o.each((function(){t+="a=extmap:"+this.getAttribute("id")+" "+this.getAttribute("uri")+"\r\n"})),e.find('>transport[xmlns="urn:xmpp:jingle:transports:ice-udp:1"]>candidate').each((function(){t+=SDPUtil.candidateFromJingle(this)})),o=e.find('description>source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]'),o.each((function(){const e=this.getAttribute("ssrc");$(this).find(">parameter").each((function(){this.getAttribute("name")&&this.getAttribute("name").length&&this.getAttribute("value")&&this.getAttribute("value").length&&(t+="a=ssrc:"+e+" "+this.getAttribute("name")+":"+this.getAttribute("value")),t+="\r\n"}))})),o=e.find('description>ssrc-group[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]'),o.each((function(){const e=this.getAttribute("semantics");t+="a=ssrc-group:"+e,$(this).find(">source").each((function(){t+=" "+this.getAttribute("ssrc")})),t+="\r\n"})),t},window.SDPUtil={iceparams:function(e,t){let n=null;return SDPUtil.find_line(e,"a=ice-ufrag:",t)&&SDPUtil.find_line(e,"a=ice-pwd:",t)&&(n={ufrag:SDPUtil.parse_iceufrag(SDPUtil.find_line(e,"a=ice-ufrag:",t)),pwd:SDPUtil.parse_icepwd(SDPUtil.find_line(e,"a=ice-pwd:",t))}),n},parse_iceufrag:function(e){return e.substring(12)},build_iceufrag:function(e){return"a=ice-ufrag:"+e},parse_icepwd:function(e){return e.substring(10)},build_icepwd:function(e){return"a=ice-pwd:"+e},parse_mid:function(e){return e.substring(6)},parse_mline:function(e){const t=e.substring(2).split(" "),n={};return n.media=t.shift(),n.port=t.shift(),n.proto=t.shift(),""===t[t.length-1]&&t.pop(),n.fmt=t,n},build_mline:function(e){return"m="+e.media+" "+e.port+" "+e.proto+" "+e.fmt.join(" ")},parse_rtpmap:function(e){let t=e.substring(9).split(" ");const n={};return n.id=t.shift(),t=t[0].split("/"),n.name=t.shift(),n.clockrate=t.shift(),n.channels=t.length?t.shift():"1",n},build_rtpmap:function(e){let t="a=rtpmap:"+e.getAttribute("id")+" "+e.getAttribute("name")+"/"+e.getAttribute("clockrate");return e.getAttribute("channels")&&"1"!=e.getAttribute("channels")&&(t+="/"+e.getAttribute("channels")),t},parse_simulcast:function(e){const t=e.substr(13).split(" "),n={};return n.direction=t.shift(),n.rid=t.shift().substr(4),n},parse_crypto:function(e){const t=e.substring(9).split(" "),n={};return n.tag=t.shift(),n["crypto-suite"]=t.shift(),n["key-params"]=t.shift(),t.length&&(n["session-params"]=t.join(" ")),n},parse_fingerprint:function(e){const t=e.substring(14).split(" "),n={};return n.hash=t.shift(),n.fingerprint=t.shift(),n},parse_fmtp:function(e){let t,n,r,o=e.split(" ");const i=[];for(o.shift(),o=o.join(" ").split(";"),t=0;t<o.length;t++){for(n=o[t].split("=")[0];n.length&&" "==n[0];)n=n.substring(1);r=o[t].split("=")[1],n&&r?i.push({name:n,value:r}):n&&i.push({name:"",value:n})}return i},parse_icecandidate:function(e){r.rainbowLogger.sdk("[Strophe.jingle] jingle.sdp.parse_icecandidate "+e);const t={},n=e.split(" ");t.foundation=n[0].substring(12),t.component=n[1],t.protocol=n[2].toLowerCase(),t.priority=n[3],t.ip=n[4],t.port=n[5],t.type=n[7],t.generation=0;for(let o=8;o<n.length;o+=2)switch(n[o]){case"raddr":t["rel-addr"]=n[o+1];break;case"rport":t["rel-port"]=n[o+1];break;case"generation":t.generation=n[o+1];break;case"tcptype":t.tcptype=n[o+1];break;default:r.rainbowLogger.sdk('[Strophe.jingle] parse_icecandidate not translating "'+n[o]+'" = "'+n[o+1]+'"')}return t.network="1",t.id=Math.random().toString(36).substr(2,10),t},build_icecandidate:function(e){let t=["a=candidate:"+e.foundation,e.component,e.protocol,e.priority,e.ip,e.port,"typ",e.type].join(" ");switch(t+=" ",e.type){case"srflx":case"prflx":case"relay":e.hasOwnAttribute("rel-addr")&&e.hasOwnAttribute("rel-port")&&(t+="raddr",t+=" ",t+=e["rel-addr"],t+=" ",t+="rport",t+=" ",t+=e["rel-port"],t+=" ")}return e.hasOwnAttribute("tcptype")&&(t+="tcptype",t+=" ",t+=e.tcptype,t+=" "),t+="generation",t+=" ",t+=e.hasOwnAttribute("generation")?e.generation:"0",r.rainbowLogger.sdk("[Strophe.jingle] jingle.sdp.build_icecandidate "+t),t},parse_ssrc:function(e){const t=e.split("\r\n"),n={};for(let r=0;r<t.length;r++)if("a=ssrc:"==t[r].substring(0,7)){const e=t[r].indexOf(" ");n[t[r].substr(e+1).split(":",2)[0]]=t[r].substr(e+1).split(":",2)[1]}return n},parse_rtcpfb:function(e){const t=e.substr(10).split(" "),n={};return n.pt=t.shift(),n.type=t.shift(),n.params=t,n},parse_extmap:function(e){const t=e.substr(9).split(" "),n={};return n.value=t.shift(),-1!=n.value.indexOf("/")?(n.direction=n.value.substr(n.value.indexOf("/")+1),n.value=n.value.substr(0,n.value.indexOf("/"))):n.direction="both",n.uri=t.shift(),n.params=t,n},find_line:function(e,t,n){let r=e.split("\r\n");for(let o=0;o<r.length;o++)if(r[o].substring(0,t.length)==t)return r[o];if(!n)return!1;r=n.split("\r\n");for(let o=0;o<r.length;o++)if(r[o].substring(0,t.length)==t)return r[o];return!1},find_lines:function(e,t,n){let r=e.split("\r\n");const o=[];for(let i=0;i<r.length;i++)r[i].substring(0,t.length)==t&&o.push(r[i]);if(o.length||!n)return o;r=n.split("\r\n");for(let i=0;i<r.length;i++)r[i].substring(0,t.length)==t&&o.push(r[i]);return o},candidateToJingle:function(e){if(r.rainbowLogger.sdk("[Strophe.jingle] !!! jingle.sdp.candidateToJingle "+e),0===e.indexOf("candidate:"))e="a="+e;else if("a=candidate:"!=e.substring(0,12))return r.rainbowLogger.sdk("[Strophe.jingle] parseCandidate called with a line that is not a candidate line"),r.rainbowLogger.sdk("[Strophe.jingle] "+e),null;"\r\n"==e.substring(e.length-2)&&(e=e.substring(0,e.length-2));const t={},n=e.split(" ");let o;if("typ"!=n[6])return r.rainbowLogger.sdk("[Strophe.jingle] did not find typ in the right place"),r.rainbowLogger.sdk("[Strophe.jingle] "+e),null;for(t.foundation=n[0].substring(12),t.component=n[1],t.protocol=n[2].toLowerCase(),t.priority=n[3],t.ip=n[4],t.port=n[5],t.type=n[7],t.generation="0",o=8;o<n.length;o+=2)switch(n[o]){case"raddr":t["rel-addr"]=n[o+1];break;case"rport":t["rel-port"]=n[o+1];break;case"generation":t.generation=n[o+1];break;case"tcptype":t.tcptype=n[o+1];break;case"network-cost":t.cost=n[o+1];break;case"network-id":t.network=n[o+1];break;default:r.rainbowLogger.sdk('[Strophe.jingle] not translating "'+n[o]+'" = "'+n[o+1]+'"')}return t.id=Math.random().toString(36).substr(2,10),t},candidateFromJingle:function(e,t,n){const r=["a=candidate:"+e.getAttribute("foundation"),e.getAttribute("component"),e.getAttribute("protocol"),e.getAttribute("priority"),e.getAttribute("ip"),e.getAttribute("port"),"typ",e.getAttribute("type")];switch(e.getAttribute("type")){case"srflx":case"prflx":case"relay":e.getAttribute("rel-addr")&&e.getAttribute("rel-port")&&(r.push("raddr"),r.push(e.getAttribute("rel-addr")),r.push("rport"),r.push(e.getAttribute("rel-port")))}return r.push("generation"),r.push(e.getAttribute("generation")||"0"),e.getAttribute("network")&&(r.push("network-id"),r.push(e.getAttribute("network"))),e.getAttribute("cost")&&(r.push("network-cost"),r.push(e.getAttribute("cost"))),t&&(r.push("ufrag"),r.push(t)),n&&(r.push("pwd"),r.push(n)),r.join(" ")+"\r\n"}}},function(e,t){window.idx=-1,window.JingleSession=function(e,t,n,r){this.me=e,this.sid=t,this.connection=n,this.initiator=null,this.responder=null,this.isInitiator=null,this.peerjid=null,this.state=null,this.peerconnection=null,this.remoteStream=null,this.localSDP=null,this.remoteSDP=null,this.localStreams=[],this.localTransceivers=[],this.remoteStreams=[],this.remoteStreamsObject={},this.startTime=null,this.stopTime=null,this.media_constraints=null,this.pc_constraints=null,this.ice_config={},this.company_config={},this.hadstuncandidate=!1,this.hadturncandidate=!1,this.statsinterval=null,this.reason=null,this.addssrc=[],this.removessrc=[],this.pendingop=null,this.wait=!0,this.isRenegotiating=!1,this.remoteType=null,this.localType=null,this.videoSender=null,this.jingleIqTimeout=15e3,r&&(this.jingleIqTimeout=r),this.conference_id=-1,this.calledNumber=null,this.DTX=!1,this.unifiedPlanActivated=!1,this.hasSentTransportReplace=!1,this.iceFilterList=[]},JingleSession.prototype.initiate=function(e,t){Strophe.log("","[Strophe.jingle] initiate");const n=this;if(null!==this.state)return void Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] attempt to initiate on session "+this.sid+"in state "+this.state);this.isInitiator=t,this.initiator=t?this.me:e,this.responder=t?e:this.me,this.peerjid=e;let r={};if(this.ice_config.sdpSemantics="plan-b",adapter&&adapter.default&&"chrome"===adapter.default.browserDetails.browser&&adapter.default.browserDetails.version>=70){const t=function(e){var t=null;if(e){const n=e.indexOf("web_sdk");-1!==n&&(t=e.substr(n+10,2),t=parseInt(t,10))}return t}(e);t&&t<53&&(Strophe.log("","[Strophe.jingle] Unified plan activated"),this.ice_config.sdpSemantics="unified-plan")}this.unifiedPlanActivated&&(this.ice_config.sdpSemantics="unified-plan"),Strophe.log("","[Strophe.jingle] SDP activated: "+this.ice_config.sdpSemantics),this.ice_config.unifiedPlan&&(this.unifiedPlanActivated=!0,Strophe.log("","[Strophe.jingle] FORCED Unified plan activated"),this.ice_config.sdpSemantics="unified-plan"),this.ice_config.enableDSCP&&(Strophe.log("","[Strophe.jingle] googDscp activated"),r={optional:[{googDscp:!0}]}),this.ice_config.dtx&&(Strophe.log("","[Strophe.jingle] Discontinuous Transmission (DTX) activated"),this.DTX=!0),this.company_config&&this.company_config.negotiation&&this.company_config.negotiation.iceFiltering&&(this.iceFilterList=this.company_config.negotiation.iceFiltering.length?this.company_config.negotiation.iceFiltering:[]);try{this.peerconnection=new window.RTCPeerConnection(this.ice_config,r)}catch(o){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] Failed to create PeerConnection, exception: ",o.message),Strophe.log(Strophe.LogLevel.ERROR,o);try{this.peerconnection=new window.RTCPeerConnection,this.peerconnection.setConfiguration&&this.peerconnection.setConfiguration(this.ice_config)}catch(i){return Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] Failed to create PeerConnection, exception: ",o.message),void Strophe.log(Strophe.LogLevel.ERROR,i)}}this.peerconnection.onicecandidate=function(e){window.isRenegotiating?Strophe.log("","[Strophe.jingle] onicecandidate not added due to renegotiation"):n.sendIceCandidate(e.candidate)},this.peerconnection.onaddstream=function(e){if(n.unifiedPlanActivated)return;Strophe.log("","[Strophe.jingle] onAddStream");const t=e.stream;if(n.remoteStream=t,"audio"===n.remoteType||"video"===n.remoteType)for(;n.remoteStreams.length>0;)n.remoteStreams.pop();else for(var r=0;r<n.remoteStreams.length&&n.remoteStreams[r];r++)n.remoteStreams[r].active?t.getAudioTracks().length?n.remoteStreams[r].getAudioTracks().length&&n.remoteStreams.splice(r,1):!n.remoteStreams[r].getAudioTracks().length&&n.remoteStreams[r].getVideoTracks().length&&n.remoteStreams.splice(r,1):n.remoteStreams.splice(r,1);for(n.remoteStreams.push(t),Strophe.log("",n.remoteStreams),Strophe.log("","[Strophe.jingle] peer.onaddstream",t.id,t),t.hasOwnProperty("active")&&Strophe.log("","[Strophe.jingle] stream active ? ",t.active),Strophe.log("","[Strophe.jingle] audio Tracks: "+t.getAudioTracks().length+" | Video Tracks: "+t.getVideoTracks().length),r=0;r<t.getAudioTracks().length;r++){var o=t.getAudioTracks()[r];Strophe.log("","[Strophe.jingle] audio Track: "+o.id+" | "+o.kind+" | "+o.enabled+" | "+o.readyState,o)}for(r=0;r<t.getVideoTracks().length;r++)o=t.getVideoTracks()[r],Strophe.log("","[Strophe.jingle] video Track: "+o.id+" | "+o.kind+" | "+o.enabled+" | "+o.readyState,o);t.onactive=function(){Strophe.log("","[Strophe.jingle] stream.onactive",t)},t.onaddtrack=function(e){Strophe.log("","[Strophe.jingle] stream.onaddtrack: "+e.track.id+" | "+e.track.kind+" | "+e.track.enabled+" | "+e.track.readyState,e.track)},t.onremovetrack=function(e){Strophe.log("","[Strophe.jingle] stream.onremovetrack: "+e.track.id+" | "+e.track.kind+" | "+e.track.enabled+" | "+e.track.readyState,e.track)},t.oninactive=function(){Strophe.log("","[Strophe.jingle] stream.oninactive",t)},$(document).trigger("remotestreamadded.jingle",[n.sid,t.getAudioTracks().length])},this.peerconnection.ontrack=function(e){n.unifiedPlanActivated&&(window.conference_id&&-1!==window.conference_id?n.createRemoteStreamForConference(e.transceiver):n.createOrUpdateRemoteStreams(e.transceiver))},this.peerconnection.onremovetrack=function(e){n.unifiedPlanActivated},this.peerconnection.onremovestream=function(e){Strophe.log("","[Strophe.jingle] peer.onremovestream"),$(document).trigger("remotestreamremoved.jingle",[e,n.sid])},this.peerconnection.onsignalingstatechange=function(e){n&&n.peerconnection&&$(document).trigger("iceconnectionstatechange.jingle",[n.sid,n])},this.peerconnection.oniceconnectionstatechange=function(e){if(n&&n.peerconnection){switch(n.peerconnection.iceConnectionState){case"connected":this.startTime=new Date,Strophe.log("","[Strophe.jingle] iceConnectionState is connected, try to update the RTP Sender ");break;case"closed":case"disconnected":this.stopTime=new Date}$(document).trigger("iceconnectionstatechange.jingle",[n.sid,n])}},this.localStreams.forEach((function(e){n.unifiedPlanActivated?n.addStream(e):n.peerconnection.addStream(e)}))},JingleSession.prototype.createRemoteStreamForConference=function(e){const t=new MediaStream;t.addTrack(e.receiver.track),this.remoteStreamsObject[0]=t},JingleSession.prototype.createOrUpdateRemoteStreams=function(e){const t=parseInt(e.mid),n=new MediaStream;this.remoteStreamsObject[t]?(this.remoteStreamsObject[t].removeTrack(this.remoteStreamsObject[t].getTracks()[0]),this.remoteStreamsObject[t].addTrack(e.receiver.track)):(n.addTrack(e.receiver.track),this.remoteStreamsObject[t]=n)},JingleSession.prototype.updateRemoteStreams=function(){const e=this;this.localTransceivers.forEach((function(t){t.currentDirection&&"sendonly"!==t.currentDirection&&"inactive"!==t.currentDirection||(e.remoteStreamsObject[t.mid]=null)}))},JingleSession.prototype.addStream=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this;if(n.unifiedPlanActivated){if(n.conference_id&&-1!==n.conference_id){if(t||"audio+video"===n.localType)return void n.addSfuBundleStream(e);const r=e.getAudioTracks().length?"audio":"video";return n.localTransceivers[0]||(n.ice_config.simulcast&&adapter&&adapter.default&&"chrome"===adapter.default.browserDetails.browser&&adapter.default.browserDetails.version>=70&&"video"===r&&"video"===n.localType?(Strophe.log("","[Strophe.jingle] Enabling Simulcasting for Chrome (via transceiver configuration)"),n.localTransceivers[0]=n.peerconnection.addTransceiver(r,{sendEncodings:[{rid:"h",active:!0,maxBitrate:9e5},{rid:"m",active:!0,maxBitrate:3e5,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:1e5,scaleResolutionDownBy:4}]})):n.localTransceivers[0]=n.peerconnection.addTransceiver(r)),n.localTransceivers[0].sender.replaceTrack("audio"===r?e.getAudioTracks()[0]:e.getVideoTracks()[0]),void(n.localTransceivers[0].direction="sendrecv")}return e.getAudioTracks().length>0&&(n.localTransceivers[0]||(n.localTransceivers[0]=n.peerconnection.addTransceiver("audio")),n.localTransceivers[0].sender.replaceTrack(e.getAudioTracks()[0]),n.localTransceivers[0].direction="sendrecv"),e.getVideoTracks().length>0&&e.getAudioTracks().length>0&&(n.localTransceivers[0]||(n.localTransceivers[0]=n.peerconnection.addTransceiver("audio",{direction:"recvonly"})),n.localTransceivers[1]||(n.localTransceivers[1]=n.peerconnection.addTransceiver("video")),n.localTransceivers[1].sender.replaceTrack(e.getVideoTracks()[0]),n.localTransceivers[1].direction="sendrecv"),void(e.getVideoTracks().length>0&&!e.getAudioTracks().length&&(n.localTransceivers[0]||(n.localTransceivers[0]=n.peerconnection.addTransceiver("audio",{direction:"recvonly"})),n.localTransceivers[1]||n.localTransceivers.push(n.peerconnection.addTransceiver("video",{direction:"recvonly"})),"videoOnly"===n.localType?(n.localTransceivers[1].sender.replaceTrack(e.getVideoTracks()[0]),n.localTransceivers[1].direction="sendrecv"):(n.localTransceivers[2]||n.localTransceivers.push(n.peerconnection.addTransceiver("video")),n.localTransceivers[2].sender.replaceTrack(e.getVideoTracks()[0]),n.localTransceivers[2].direction="sendrecv")))}switch(adapter.default.browserDetails.browser){case"chrome":case"edge":n.peerconnection.addStream(e);break;case"firefox":case"safari":e.getAudioTracks().length>0&&n.peerconnection.addTrack(e.getAudioTracks()[0],e),e.getVideoTracks().length>0&&n.peerconnection.addTrack(e.getVideoTracks()[0],e)}},JingleSession.prototype.removeStream=function(e,t){const n=this;if(Strophe.log("","[Strophe.jingle] detected WebRTC browser is "+adapter.default.browserDetails.browser),n.unifiedPlanActivated)return n.peerconnection.getTransceivers().forEach((function(e){e.sender.replaceTrack(null),e.direction="recvonly"})),void(n.localTransceivers=n.peerconnection.getTransceivers());switch(adapter.default.browserDetails.browser){case"chrome":case"edge":n.peerconnection.removeStream(e)}},JingleSession.prototype.addTrack=function(e){const t=this;e.getAudioTracks().length>0&&t.peerconnection.addTrack(e.getAudioTracks()[0],e),e.getVideoTracks().length>0&&t.peerconnection.addTrack(e.getVideoTracks()[0],e)},JingleSession.prototype.replaceStream=function(e){const t=this;switch(Strophe.log("","[Strophe.jingle] detected WebRTC browser is "+adapter.default.browserDetails.browser),adapter.default.browserDetails.browser){case"chrome":break;case"firefox":case"safari":if(t.unifiedPlanActivated)return void t.addStream(e);var n=e.getAudioTracks()[0],r=e.getVideoTracks()[0];Strophe.log(Strophe.LogLevel.ERROR,n),Strophe.log(Strophe.LogLevel.ERROR,r);var o=!1,i=!1;if(t.peerconnection.getSenders().forEach((function(e){r&&e.track&&"video"===e.track.kind&&(e.replaceTrack(r),Strophe.log("","[Strophe.jingle] replaceTrack video "+e),o=!0),n&&e.track&&"audio"===e.track.kind&&(Strophe.log("","[Strophe.jingle] replaceTrack audio "+e),e.replaceTrack(n),i=!0)})),r&&!o)Strophe.log("","[Strophe.jingle] addTrack yourVideoTrack"),this.videoSender=t.peerconnection.addTrack(r,e);else if(this.videoSender){Strophe.log("","[Strophe.jingle] removeTrack yourVideoTrack");try{t.peerconnection.removeTrack(this.videoSender),this.videoSender=null}catch(s){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] removeTrack error "+s)}}n&&!i&&(Strophe.log("","[Strophe.jingle] add new audio track"),t.peerconnection.addTrack(n,e))}},JingleSession.prototype.addConferenceInfo=function(e){-1!==this.conference_id&&(e.c("conference",{xmlns:"urn:xmpp:janus:1",id:this.conference_id}),e.up())},JingleSession.prototype.accept=function(){try{const e=this;this.state="active";let t=this.peerconnection.localDescription;if(!t||"pranswer"!=t.type)return;for(Strophe.log("","[Strophe.jingle] going from pranswer to answer");SDPUtil.find_line(t.sdp,"a=inactive");)t.sdp=t.sdp.replace("a=inactive","a=sendrecv");t=this.hackMsLabelSDP(t);const n=new SDP(t.sdp),r=$iq({to:this.peerjid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"session-accept",initiator:this.initiator,responder:this.responder,sid:this.sid,localType:this.localType});n.toJingle(r,this.initiator==this.me?"initiator":"responder",this.conference_id,this.calledNumber),this.connection.sendIQ(r,(function(){const t={source:"answer"};$(document).trigger("ack.jingle",[e.sid,t])}),(function(t){const n=$(t).find("error").length?{code:$(t).find("error").attr("code"),reason:$(t).find("error :first")[0].tagName}:{};n.source="answer",$(document).trigger("error.jingle",{sid:e.sid,error:n})}),this.jingleIqTimeout);let o=this.peerconnection.localDescription.sdp;for(;SDPUtil.find_line(o,"a=inactive");)o=o.replace("a=inactive","a=sendrecv");this.peerconnection.setLocalDescription(new window.RTCSessionDescription({type:"answer",sdp:o}),(function(){$(document).trigger("setLocalDescription.jingle",[e.sid]),Strophe.log("","[Strophe.jingle] setLocalDescription success, try to update the RTP Sender "),e.ice_config.enableDSCP&&e.peerconnection.getSenders().forEach((function(e){if(e.getParameters&&e.setParameters){const t=e.getParameters();t.encodings.forEach((function(e){e.priority="high",e.networkPriority="high"})),e.setParameters(t),Strophe.log("","[Strophe.jingle] RTP Sender parameters are updated "+e.getParameters())}}))}),(function(e){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] setLocalDescription failed",e)}))}catch(e){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] JingleSession.prototype.accept failed: "+e)}},JingleSession.prototype.terminate=function(e){this.state="ended",this.reason=e,this.peerconnection&&"closed"!==this.peerconnection.signalingState&&this.peerconnection.close(),Strophe.log("","[Strophe.jingle] Clear peerconnection"),this.peerconnection=null,null!==this.statsinterval&&(window.clearInterval(this.statsinterval),this.statsinterval=null),this.localStreams&&this.localStreams.length&&this.localStreams.forEach((function(e){e.getTracks().forEach((function(e){e.enabled=!1,e.stop(),e=null})),e.stop&&e.stop(),e=null}))},JingleSession.prototype.active=function(){return"active"==this.state},JingleSession.prototype.sendIceCandidate=function(e){const t=this;if(e&&t.iceFilterList&&t.iceFilterList.length&&-1!==t.iceFilterList.indexOf(e.type))Strophe.log("","[Strophe.jingle] ICE candidate "+e.type+" is filtered");else if(e){Strophe.log("","[Strophe.jingle] sendIceCandidate "+e);const n=SDPUtil.iceparams(this.localSDP.media[e.sdpMLineIndex],this.localSDP.session),r=SDPUtil.candidateToJingle(e.candidate);if(!n||!r)return void Strophe.log("","[Strophe.jingle] failed to get ice && jcand");n.xmlns="urn:xmpp:jingle:transports:ice-udp:1",Strophe.log("","[Strophe.jingle] sending single candidate"),t.isRenegotiating?Strophe.log("","[Strophe.jingle] NOT sending candidate due to Renegotiation"):t.sendIceCandidates([e])}},JingleSession.prototype.sendIceCandidates=function(e){try{Strophe.log("","[Strophe.jingle] sendIceCandidates",e);const n=$iq({to:this.peerjid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"transport-info",initiator:this.initiator,sid:this.sid,localType:this.localType});for(var t=0;t<this.localSDP.media.length;t++){const r=e.filter((function(e){return e.sdpMLineIndex==t})),o=SDPUtil.parse_mline(this.localSDP.media[t].split("\r\n")[0]);if(r.length>0){const e=SDPUtil.iceparams(this.localSDP.media[t],this.localSDP.session);e.xmlns="urn:xmpp:jingle:transports:ice-udp:1",n.c("content",{creator:this.initiator==this.me?"initiator":"responder",name:r[0].sdpMid?r[0].sdpMid:o.media}).c("transport",e);for(let t=0;t<r.length;t++)n.c("candidate",SDPUtil.candidateToJingle(r[t].candidate)).up();if(SDPUtil.find_line(this.localSDP.media[t],"a=fingerprint:",this.localSDP.session)){const e=SDPUtil.parse_fingerprint(SDPUtil.find_line(this.localSDP.media[t],"a=fingerprint:",this.localSDP.session));e.required=!0,n.c("fingerprint").t(e.fingerprint),delete e.fingerprint,n.attrs(e),n.up()}n.up(),n.up()}}if(config.turnOn&&!(n.node.innerHTML.indexOf('type="relay')>-1))return void Strophe.log("","[Strophe.jingle] Debug flag turnOn : Ignore candidate");Strophe.log("","[Strophe.jingle] try to send ack(transportinfo)..."),this.connection.sendIQ(n,(function(){const e={source:"transportinfo"};Strophe.log("","Sent session initiate (ACK, transportinfo)..."),$(document).trigger("ack.jingle",[window.sid,e])}),(function(e){const t=$(e).find("error").length?{code:$(e).find("error").attr("code"),reason:$(e).find("error :first")[0].tagName}:{};t.source="transportinfo",$(document).trigger("error.jingle",{sid:this.sid,error:t})}),this.jingleIqTimeout)}catch(n){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] JingleSession.prototype.sendIceCandidates failed: "+n)}},JingleSession.prototype.hackOfferSDP=function(e){return"firefox"!==adapter.default.browserDetails.browser&&(e.sdp=e.sdp.replace(/a=sendonly/g,"a=sendrecv")),-1!==this.conference_id&&"video"===this.localType&&(e.sdp=e.sdp.replace(/a=sendrecv/g,"a=sendonly")),navigator.platform.toUpperCase().indexOf("MAC")>=0&&(e.sdp=this.forceCodecTo(e.sdp,"H264/90000","video")),this.ice_config.simulcast&&-1!==this.conference_id&&"video"===this.localType&&adapter&&adapter.default&&"chrome"===adapter.default.browserDetails.browser&&adapter.default.browserDetails.version>=70&&(Strophe.log("","[Strophe.jingle] Enabling Simulcasting for Chrome (sdp munging)"),e.sdp=this.mungeSdpForSimulcasting(e.sdp)),e},JingleSession.prototype.hackMsLabelSDP=function(e){const t=e.sdp.split("\r\n");for(let n=0;n<t.length;n++)if("a=ssrc:"==t[n].substring(0,7)){const e=t[n].indexOf(" ");!t[n].substr(e+1).split(":",2)[0]||void 0!==t[n].substr(e+1).split(":",2)[1]&&""!==t[n].substr(e+1).split(":",2)[1]||t.splice(n,1)}return e.sdp=t.join("\r\n"),e},JingleSession.prototype.sendTransportReplace=function(){Strophe.log("","[Strophe.jingle] sendTransportReplace");const e=this,t={iceRestart:!0};e.isReconnecting?Strophe.log("","[Strophe.jingle] sendTransportReplace ignored because we're already connecting"):(e.isReconnecting=!0,this.peerconnection.createOffer((function(t){e.createdOffer(t,"transport-replace")}),(function(e){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] createOffer failed",e)}),t))},JingleSession.prototype.reconnectSession=function(){Strophe.log("","[Strophe.jingle] reconnectSession");const e=this,t={iceRestart:!0};e.isReconnecting?Strophe.log("","[Strophe.jingle] reconnectSession ignored because we're already connecting"):(e.isReconnecting=!0,e.hasSentTransportReplace=!0,this.peerconnection.createOffer((function(t){e.sendCreatedOfferWithAckWait(t,"transport-replace")}),(function(e){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] createOffer failed",e)}),t))},JingleSession.prototype.saveIncomingTransportReplace=function(e,t,n){Strophe.log("","[Strophe.jingle] saveIncomingTransportReplace"),this.savedIncomingTransportReplace={elem:e,desctype:t,ack:n}},JingleSession.prototype.acceptSavedIncomingTransportReplace=function(){Strophe.log("","[Strophe.jingle] acceptSavedIncomingTransportReplace"),this.connection.send(this.savedIncomingTransportReplace.ack),this.setRemoteDescription(this.savedIncomingTransportReplace.elem,this.savedIncomingTransportReplace.desctype),$(document).trigger("transportreplace.jingle",[this.sid]),this.savedIncomingTransportReplace=null},JingleSession.prototype.rejectSavedIncomingTransportReplace=function(){if(Strophe.log("","[Strophe.jingle] rejectSavedIncomingTransportReplace"),this.savedIncomingTransportReplace&&this.savedIncomingTransportReplace.ack){const e=this.savedIncomingTransportReplace.ack;e.type="error",e.c("error",{type:"reject"}),this.connection.send(e)}this.savedIncomingTransportReplace=null},JingleSession.prototype.sendCreatedOfferWithAckWait=function(e,t){try{e=this.hackOfferSDP(e),e=this.hackMsLabelSDP(e);const n=this;this.localSDP=new SDP(e.sdp);const r=t||"session-initiate";Strophe.log("","[Strophe.jingle] sendCreatedOfferWithAckWait with SDP : "+e.sdp+" and action : "+r);let o=$iq({to:this.peerjid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:r,initiator:this.initiator,sid:this.sid,localType:this.localType});this.calledNumber&&""!==this.calledNumber&&(o=o.c("mediapillar",{xmlns:"urn:xmpp:janus:1"}).c("callednumber").t(this.calledNumber),o.up(),o.up()),this.localSDP.toJingle(o,this.initiator==this.me?"initiator":"responder",this.conference_id),this.connection.sendIQ(o,(function(t){if(t&&$(t).find("error").length)return Strophe.log("","[Strophe.jingle] sendCreatedOfferWithAckWait -- IQ ACK with error"),n.hasSentTransportReplace=!1,void(n.savedIncomingTransportReplace&&n.acceptSavedIncomingTransportReplace());if(Strophe.log("","[Strophe.jingle] sendCreatedOfferWithAckWait -- IQ ACK received, set local description"),n.hasSentTransportReplace=!1,n.savedIncomingTransportReplace){if(!n.isInitiator)return void n.acceptSavedIncomingTransportReplace();n.rejectSavedIncomingTransportReplace()}e.sdp=n.localSDP.raw,n.peerconnection.setLocalDescription(e,(function(){$(document).trigger("setLocalDescription.jingle",[n.sid]),Strophe.log("","[Strophe.jingle] setLocalDescription success")}),(function(e){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] setLocalDescription failed",e)}))}),(function(){Strophe.log("","[Strophe.jingle] sendCreatedOfferWithAckWait -- IQ rejected"),n.hasSentTransportReplace=!1,n.savedIncomingTransportReplace?n.acceptSavedIncomingTransportReplace():n.isReconnecting=!1}),this.jingleIqTimeout)}catch(n){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] JingleSession.prototype.createdOffer failed: "+n)}},JingleSession.prototype.sendOffer=function(e){Strophe.log("","[Strophe.jingle] sendOffer");const t=this;if(e){Strophe.log("","ice restart");const e={};if((-1===this.conference_id&&!this.calledNumber||"video"!==this.localType)&&(e.iceRestart=!0),this.ice_config.simulcast&&-1!==this.conference_id&&"video"===this.localType&&adapter&&adapter.default&&"firefox"===adapter.default.browserDetails.browser){Strophe.log("","[Strophe.jingle] Enabling Simulcasting for Firefox (RID)");const e=this.peerconnection.getSenders().find((function(e){return"video"==e.track.kind}));if(e){let t=e.getParameters();t||(t={}),t.encodings=[{rid:"h",active:!0,maxBitrate:9e5},{rid:"m",active:!0,maxBitrate:3e5,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:1e5,scaleResolutionDownBy:4}],e.setParameters(t)}}this.peerconnection.createOffer((function(e){t.createdOffer(e)}),(function(e){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] createOffer failed",e)}),e)}else this.peerconnection.createOffer((function(e){t.createdOffer(e)}),(function(e){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] createOffer failed",e)}),this.media_constraints)},JingleSession.prototype.createdOffer=function(e,t){try{e=this.hackOfferSDP(e),e=this.hackMsLabelSDP(e);const n=this;this.localSDP=new SDP(e.sdp);const r=t||"session-initiate";Strophe.log("","[Strophe.jingle] createdOffer with SDP : "+e.sdp+" and action : "+r);let o=$iq({to:this.peerjid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:r,initiator:this.initiator,sid:this.sid,localType:this.localType});this.calledNumber&&""!==this.calledNumber&&(o=o.c("mediapillar",{xmlns:"urn:xmpp:janus:1"}).c("callednumber").t(this.calledNumber),o.up(),o.up()),this.localSDP.toJingle(o,this.initiator==this.me?"initiator":"responder",this.conference_id),this.connection.sendIQ(o,(function(){const e={source:"offer"};$(document).trigger("ack.jingle",[n.sid,e])}),(function(e){n.state="error",n.peerconnection&&"closed"!==n.peerconnection.signalingState&&(Strophe.log("","[Strophe.jingle] Clear peerconnection"),n.peerconnection.close(),n.peerconnection=null);const t=$(e).find("error").length?{code:$(e).find("error").attr("code"),reason:$(e).find("error :first")[0].tagName}:{};t.source="offer",$(document).trigger("error.jingle",{sid:n.sid,error:t})}),this.jingleIqTimeout),e.sdp=this.localSDP.raw,this.peerconnection.setLocalDescription(e,(function(){$(document).trigger("setLocalDescription.jingle",[n.sid]),Strophe.log("","[Strophe.jingle] setLocalDescription success")}),(function(e){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] setLocalDescription failed",e)}))}catch(n){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] JingleSession.prototype.createdOffer failed: "+n)}},JingleSession.prototype.contentRemove=function(e){Strophe.log("","[Strophe.jingle] contentRemove");const t=this;this.peerconnection.createOffer((function(n){t.contentUpdateOffer(n,e,"remove")}),(function(e){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] contentRemove failed",e)}),this.media_constraints)},JingleSession.prototype.contentAdd=function(e){Strophe.log("","[Strophe.jingle] contentAdd");const t=this;this.peerconnection.createOffer((function(n){t.contentUpdateOffer(n,e,"add")}),(function(e){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] contentAdd failed",e)}),this.media_constraints)},JingleSession.prototype.contentModify=function(e){Strophe.log("","[Strophe.jingle] contentModify");const t=this;this.peerconnection.createOffer((function(n){t.contentUpdateOffer(n,e,"modify")}),(function(e){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] contentModify failed",e)}),this.media_constraints)},JingleSession.prototype.contentUpdateOffer=function(e,t,n){try{Strophe.log("","[Strophe.jingle] contentUpdateOffer",e.sdp);const r=this;e=this.hackMsLabelSDP(e),this.localSDP=new SDP(e.sdp),"audio"===t?r.localType="audio":"video"===t?r.localType="audio+video":"sharing"===t?r.localType="sharing":"sharing+video"===t&&(r.localType="sharing+video");let o=$iq({to:this.peerjid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"content-"+n,initiator:this.initiator,sid:this.sid,mediaType:t});this.calledNumber&&""!==this.calledNumber&&(o=o.c("mediapillar",{xmlns:"urn:xmpp:janus:1"}).c("callednumber").t(this.calledNumber),o.up(),o.up()),this.localSDP.toJingle(o,this.initiator==this.me?"initiator":"responder",this.conference_id),this.connection.sendIQ(o,(function(){const e={source:"offer"};$(document).trigger("ack.jingle",[r.sid,e])}),(function(e){r.state="error",r.peerconnection&&(Strophe.log("","[Strophe.jingle] Clear peerconnection"),r.peerconnection.close(),r.peerconnection=null);const t=$(e).find("error").length?{code:$(e).find("error").attr("code"),reason:$(e).find("error :first")[0].tagName}:{};t.source="offer",$(document).trigger("error.jingle",{sid:r.sid,error:t})}),this.jingleIqTimeout),e.sdp=this.localSDP.raw,this.peerconnection.setLocalDescription(e,(function(){$(document).trigger("setLocalDescription.jingle",[r.sid]),Strophe.log("","[Strophe.jingle] setLocalDescription success")}),(function(e){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] setLocalDescription failed",e)}))}catch(r){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] JingleSession.prototype.contentUpdateOffer failed: "+r)}},JingleSession.prototype.contentChangeAnswer=function(e,t){try{Strophe.log("","[Strophe.jingle] contentChangeAnswer",e.sdp);const n=this;e=this.hackMsLabelSDP(e),this.localSDP=new SDP(e.sdp);let r=$iq({to:this.peerjid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"content-accept",initiator:this.initiator,sid:this.sid});this.calledNumber&&""!==this.calledNumber&&(r=r.c("mediapillar",{xmlns:"urn:xmpp:janus:1"}).c("callednumber").t(this.calledNumber),r.up(),r.up()),this.localSDP.toJingle(r,this.initiator==this.me?"initiator":"responder",this.conference_id),this.connection.sendIQ(r,(function(){const e={source:"offer"};$(document).trigger("ack.jingle",[n.sid,e])}),(function(e){n.state="error",n.peerconnection&&(Strophe.log("","[Strophe.jingle] Clear peerconnection"),n.peerconnection.close(),n.peerconnection=null);const t=$(e).find("error").length?{code:$(e).find("error").attr("code"),reason:$(e).find("error :first")[0].tagName}:{};t.source="offer",$(document).trigger("error.jingle",{sid:n.sid,error:t})}),this.jingleIqTimeout),e.sdp=this.localSDP.raw,this.peerconnection.setLocalDescription(e,(function(){$(document).trigger("setLocalDescription.jingle",[n.sid]),Strophe.log("","[Strophe.jingle] setLocalDescription success"),n.unifiedPlanActivated&&t&&n.updateRemoteStreams()}),(function(e){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] setLocalDescription failed",e)}))}catch(n){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] JingleSession.prototype.contentChangeAnswer failed: "+n)}},JingleSession.prototype.updateBandwidthRestriction=function(e,t,n){let r=t||n?500:1200;if("audio"===this.localType||t)return Strophe.log("","[Strophe.jingle] do not updateBandwidthRestriction"),e;"sharing"!==this.localType&&"sharing"!==this.remoteType||(r=t||n?800:1500),"sharing+video"===this.localType&&(r=n?1300:2700);let o="AS";if("firefox"===adapter.default.browserDetails.browser&&(r=1e3*(r>>>0),o="TIAS"),r>0)if(-1===e.indexOf("b="+o+":")){const t=e.indexOf("m=video");if(t>0){let n=e.substring(t);n=n.replace(/c=IN (.*)\r\n/,"c=IN $1\r\nb="+o+":"+r+"\r\n"),e=e.substring(0,t)+n}}else e=e.replace(new RegExp("b="+o+":.*\r\n"),"b="+o+":"+r+"\r\n");else e.replace(new RegExp("b="+o+":.*\r\n"),"");return Strophe.log("","[Strophe.jingle] updateBandwidthRestriction to ",r),e},JingleSession.prototype.setRemoteDescription=function(e,t){Strophe.log("","[Strophe.jingle] setRemoteDescription ",t);const n=this;if(this.remoteSDP=new SDP(""),this.remoteSDP.fromJingle(e),this.isInitiator?this.remoteSDP.raw=this.remoteSDP.raw.replace(/a=setup:passive/g,"a=setup:active"):this.remoteSDP.raw=this.remoteSDP.raw.replace(/a=setup:active/g,"a=setup:passive"),navigator.platform.toUpperCase().indexOf("MAC")>=0&&(this.remoteSDP.raw=this.forceCodecTo(this.remoteSDP.raw,"H264/90000","video")),-1!==this.conference_id||this.confId||this.publisherId)this.remoteSDP.raw=this.updateBandwidthRestriction(this.remoteSDP.raw,!0);else{let e=!1;this.peerjid&&(e=-1!==this.peerjid.indexOf("mobile_android")||-1!==this.peerjid.indexOf("mobile_ios")||-1!==this.peerjid.indexOf("deskphone")),this.remoteSDP.raw=this.updateBandwidthRestriction(this.remoteSDP.raw,!1,e)}this.DTX&&(Strophe.log("","[Strophe.jingle] activate Discontinuous Transmission (DTX)"),this.remoteSDP.raw=this.remoteSDP.raw.replace("useinbandfec=1","useinbandfec=1;usedtx=1")),Strophe.log("","[Strophe.jingle] setRemoteDescription after parsing "+this.remoteSDP.raw);const r=new window.RTCSessionDescription({type:t,sdp:this.remoteSDP.raw});Strophe.log("","[Strophe.jingle] setRemoteDescription object ",r),this.peerconnection.setRemoteDescription(r,(function(){Strophe.log("","[Strophe.jingle] setRemoteDescription success"),n.unifiedPlanActivated&&(n.localTransceivers=n.peerconnection.getTransceivers())}),(function(e){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] setRemoteDescription error "+e)})),Strophe.log("","[Strophe.jingle] setRemoteDescription is setting, try to update the RTP Sender "),this.ice_config.enableDSCP&&this.peerconnection.getSenders().forEach((function(e){if(console.error(e),e.getParameters&&e.setParameters){const t=e.getParameters();console.error(t),t.encodings.forEach((function(e){e.priority="high",e.networkPriority="high"})),e.setParameters(t),console.error(e.getParameters())}}))},JingleSession.prototype.addIceCandidate=function(e){Strophe.log("","[Strophe.jingle] addIceCandidate");const t=this;e.each((function(){let e,n=-1;for(e=0;e<t.remoteSDP.media.length;e++)if(SDPUtil.find_line(t.remoteSDP.media[e],"a=mid:"+$(this).attr("name"))||0===t.remoteSDP.media[e].indexOf("m="+$(this).attr("name"))){n=e;break}if(-1==n)for(e=0;e<t.localSDP.media.length;e++)if(SDPUtil.find_line(t.localSDP.media[e],"a=mid:"+$(this).attr("name"))||0===t.localSDP.media[e].indexOf("m="+$(this).attr("name"))){n=e;break}const r=$(this).attr("name");let o,i;$(this).find("content>transport").each((function(){o=this.getAttribute("ufrag"),i=this.getAttribute("pwd")})),$(this).find("transport>candidate").each((function(){let e,s;e=SDPUtil.candidateFromJingle(this,o,i),s=new window.RTCIceCandidate({sdpMLineIndex:n,sdpMid:r,candidate:e});try{if(s&&t.iceFilterList&&t.iceFilterList.length&&-1!==t.iceFilterList.indexOf(s.type))return void Strophe.log("","[Strophe.jingle] Received ICE candidate "+s.type+" is filtered");t.peerconnection.addIceCandidate(s)}catch(a){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] addIceCandidate failed",a.toString(),e)}}))}))},JingleSession.prototype.sendAnswer=function(e,t){Strophe.log("","[Strophe.jingle] sendAnswer",e);const n=this;this.peerconnection.createAnswer((function(r){n.createdAnswer(r,e,t)}),(function(e){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] createAnswer failed",e)}),this.media_constraints)},JingleSession.prototype.createdAnswer=function(e,t,n){try{Strophe.log("","[Strophe.jingle] createdAnswer");const r=this;e=this.hackMsLabelSDP(e),this.localSDP=new SDP(e.sdp),this.usepranswer=!0===t;const o=n||"session-accept";n&&(r.isReconnecting=!1),Strophe.log("","sdp is "+e.sdp);let i=$iq({to:this.peerjid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:o,initiator:this.initiator,responder:this.responder,sid:this.sid,localType:this.localType});this.calledNumber&&""!==this.calledNumber&&(i=i.c("mediapillar",{xmlns:"urn:xmpp:janus:1"}).c("callednumber").t(this.calledNumber),i.up(),i.up()),this.localSDP.toJingle(i,this.initiator==this.me?"initiator":"responder",this.conference_id),this.connection.sendIQ(i,(function(){const e={source:"answer"};$(document).trigger("ack.jingle",[r.sid,e])}),(function(e){const t=$(e).find("error").length?{code:$(e).find("error").attr("code"),reason:$(e).find("error :first")[0].tagName}:{};t.source="answer",$(document).trigger("error.jingle",{sid:r.sid,error:t})}),this.jingleIqTimeout),e.sdp=this.localSDP.raw,this.peerconnection.setLocalDescription(e,(function(){$(document).trigger("setLocalDescription.jingle",[r.sid]),Strophe.log("","[Strophe.jingle] createdAnswer -- setLocalDescription success, try to update the RTP Sender "),r.ice_config.enableDSCP&&r.peerconnection.getSenders().forEach((function(e){if(e.getParameters&&e.setParameters){const t=e.getParameters();t.encodings.forEach((function(e){e.priority="high",e.networkPriority="high"})),e.setParameters(t),Strophe.log("","[Strophe.jingle] RTP Sender parameters are updated "+e.getParameters())}}))}),(function(e){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] setLocalDescription failed",e)}));const s=SDPUtil.find_lines(this.localSDP.raw,"a=candidate:");for(let e=0;e<s.length;e++){const t=SDPUtil.parse_icecandidate(s[e]);"srflx"==t.type?this.hadstuncandidate=!0:"relay"==t.type&&(this.hadturncandidate=!0)}}catch(r){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] JingleSession.prototype.createdAnswer failed: "+r)}},JingleSession.prototype.sendTerminate=function(e,t){try{const n=this,r=$iq({to:this.peerjid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"session-terminate",initiator:this.initiator,sid:this.sid}).c("reason").c(e||"success");t&&r.up().c("text").t(t),this.connection.sendIQ(r,(function(){!n.peerconnection||"closed"===n.peerconnection.signalingState&&"undefined"!=n.peerconnection.signalingState||(n.peerconnection.close(),n.terminate()),Strophe.log("","[Strophe.jingle] Clear peerconnection"),n.peerconnection=null;const e={source:"terminate"};$(document).trigger("ack.jingle",[n.sid,e])}),(function(e){const t=$(e).find("error").length?{code:$(e).find("error").attr("code"),reason:$(e).find("error :first")[0].tagName}:{};$(document).trigger("ack.jingle",[n.sid,t])}),this.jingleIqTimeout),null!==this.statsinterval&&(window.clearInterval(this.statsinterval),this.statsinterval=null)}catch(n){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] JingleSession.prototype.sendTerminate failed: "+n)}},JingleSession.prototype.mediaModified=function(e){const t=this;this.peerconnection.createAnswer((function(n){t.contentChangeAnswer(n,e)}),(function(e){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] contentChange failed",e)}),this.media_constraints)},JingleSession.prototype.addSource=function(e){Strophe.log("","[Strophe.jingle] addssrc",(new Date).getTime()),Strophe.log("","[Strophe.jingle] ice",this.peerconnection.iceConnectionState);const t=new SDP(this.peerconnection.remoteDescription.sdp),n=this;$(e).each((function(e,r){const o=$(r).attr("name");let i="";tmp=$(r).find('>source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]'),tmp.each((function(){const e=$(this).attr("ssrc");$(this).find(">parameter").each((function(){i+="a=ssrc:"+e+" "+$(this).attr("name"),$(this).attr("value")&&$(this).attr("value").length&&(i+=":"+$(this).attr("value")),i+="\r\n"}))})),t.media.forEach((function(e,r){SDPUtil.find_line(e,"a=mid:"+o)&&(t.media[r]+=i,n.addssrc[r]||(n.addssrc[r]=""),n.addssrc[r]+=i)})),t.raw=t.session+t.media.join("")})),this.modifySources()},JingleSession.prototype.removeSource=function(e){Strophe.log("","[Strophe.jingle] removessrc",(new Date).getTime()),Strophe.log("","[Strophe.jingle] ice",this.peerconnection.iceConnectionState);const t=new SDP(this.peerconnection.remoteDescription.sdp),n=this;$(e).each((function(e,r){const o=$(r).attr("name");let i="";tmp=$(r).find('>source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]'),tmp.each((function(){const e=$(this).attr("ssrc");$(this).find(">parameter").each((function(){i+="a=ssrc:"+e+" "+$(this).attr("name"),$(this).attr("value")&&$(this).attr("value").length&&(i+=":"+$(this).attr("value")),i+="\r\n"}))})),t.media.forEach((function(e,r){SDPUtil.find_line(e,"a=mid:"+o)&&(t.media[r]+=i,n.addssrc[r]||(n.removessrc[r]=""),n.removessrc[r]+=i)})),t.raw=t.session+t.media.join("")})),this.modifySources()},JingleSession.prototype.modifySources=function(){const e=this;if(!this.peerconnection||"closed"==this.peerconnection.signalingState)return;if(!this.addssrc.length&&!this.removessrc.length&&null===this.pendingop)return;if(!this.wait&&("stable"!=this.peerconnection.signalingState||"connected"!=this.peerconnection.iceConnectionState&&"completed"!=this.peerconnection.iceConnectionState))return console.warn("[Strophe.jingle] modifySources not yet",this.peerconnection.signalingState,this.peerconnection.iceConnectionState),this.wait=!0,void window.setTimeout((function(){e.modifySources()}),1500);if(this.wait)return window.setTimeout((function(){e.modifySources()}),2500),void(this.wait=!1);const t=new SDP(this.peerconnection.remoteDescription.sdp);this.addssrc.forEach((function(e,n){t.media[n]+=e})),this.addssrc=[],this.removessrc.forEach((function(e,n){(e=e.split("\r\n")).pop(),e.forEach((function(e){t.media[n]=t.media[n].replace(e+"\r\n","")}))})),this.removessrc=[],t.raw=t.session+t.media.join(""),this.peerconnection.setRemoteDescription(new window.RTCSessionDescription({type:"offer",sdp:t.raw}),(function(){e.peerconnection.createAnswer((function(t){if(null!==e.pendingop){const n=new SDP(t.sdp);if(n.media.length>1){switch(e.pendingop){case"mute":n.media[1]=n.media[1].replace("a=sendrecv","a=recvonly");break;case"unmute":n.media[1]=n.media[1].replace("a=recvonly","a=sendrecv")}n.raw=n.session+n.media.join(""),t.sdp=n.raw}e.pendingop=null}e.peerconnection.setLocalDescription(t,(function(){$(document).trigger("setLocalDescription.jingle",[e.sid])}),(function(e){Strophe.log("","[Strophe.jingle] modified setLocalDescription failed")}))}),(function(e){Strophe.log("","[Strophe.jingle] modified answer failed")}))}),(function(e){Strophe.log("","[Strophe.jingle] modify failed")}))},JingleSession.prototype.hardMuteVideo=function(e){this.connection.jingle.localStream&&(this.pendingop=e?"mute":"unmute",this.modifySources(),this.connection.jingle.localStream.getVideoTracks().forEach((function(t){t.enabled=!e})))},JingleSession.prototype.mute=function(e){this.connection.jingle.localStream&&(this.pendingop=e?"mute":"unmute",this.modifySources(),this.connection.jingle.localStream.getVideoTracks().forEach((function(t){t.enabled=!e})),this.connection.jingle.localStream.getAudioTracks().forEach((function(t){t.enabled=!e})))},JingleSession.prototype.muteVideo=function(e){this.connection.jingle.localStream&&(this.pendingop=e?"mute":"unmute",this.modifySources(),this.connection.jingle.localStream.getVideoTracks().forEach((function(t){t.enabled=!e})))},JingleSession.prototype.muteAudio=function(e){this.connection.jingle.localStream&&this.connection.jingle.localStream.getAudioTracks().forEach((function(t){t.enabled=!e})),this.localStreams.length>=1&&this.localStreams.forEach((function(t){t.getAudioTracks().forEach((function(t){t.enabled=!e}))}))},JingleSession.prototype.sendMute=function(e,t){try{const n=$iq({to:this.peerjid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"session-info",initiator:this.initiator,sid:this.sid});n.c(e?"mute":"unmute",{xmlns:"urn:xmpp:jingle:apps:rtp:info:1"}),n.attrs({creator:this.me==this.initiator?"creator":"responder"}),t&&n.attrs({name:t}),this.connection.sendIQ(n)}catch(n){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] JingleSession.prototype.sendMute failed: "+n)}},JingleSession.prototype.sendHold=function(e){try{const t=$iq({to:this.peerjid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"session-info",initiator:this.initiator,sid:this.sid});t.c(e?"hold":"unhold",{xmlns:"urn:xmpp:jingle:apps:rtp:info:1"}),this.connection.sendIQ(t)}catch(t){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] JingleSession.prototype.sendMute failed: "+t)}},JingleSession.prototype.sendIceFailed=function(){try{const e=$iq({to:this.peerjid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"session-info",initiator:this.initiator,sid:this.sid});e.c("iceFailed",{xmlns:"urn:xmpp:jingle:apps:rtp:info:1"}),this.connection.sendIQ(e)}catch(e){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] JingleSession.prototype.sendIceFailed failed: "+e)}},JingleSession.prototype.sendRinging=function(){try{const e=$iq({to:this.peerjid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"session-info",initiator:this.initiator,sid:this.sid});e.c("ringing",{xmlns:"urn:xmpp:jingle:apps:rtp:info:1"}),this.connection.sendIQ(e)}catch(e){Strophe.log(Strophe.LogLevel.ERROR,"[Strophe.jingle] JingleSession.prototype.sendRinging failed: "+e)}},JingleSession.prototype.forceCodecTo=function(e,t,n){const r=e.split("\r\n");let o=-1,i=-1;const s=[];let a,l,c,u,d,f=[];for(let _=0,h=r.length;_<h;_++){const e=r[_];if(e.indexOf("m="+n)>-1&&(o=_,i=e.indexOf("RTP/SAVPF")+10,f=e.substring(i).split(" ")),e.indexOf(t)>-1){for(a=e.indexOf(":"),l=e.indexOf(" "),c=e.substring(a+1,l),u=-1,s.push(c),d=0;d<f.length;d++)if(f[d]===c){u=d;break}u>-1&&f.splice(u,1)}if("PCMU/8000"===t&&e.indexOf("PCMA/8000")>-1){for(a=e.indexOf(":"),l=e.indexOf(" "),c=e.substring(a+1,l),u=-1,s.push(c),d=0;d<f.length;d++)if(f[d]===c){u=d;break}u>-1&&f.splice(u,1)}}if(-1!==o){r[o]=r[o].substr(0,i-1);for(let e=0;e<s.length;e++)r[o]+=" "+s[e];f.length>0&&(r[o]+=" "+f.join(" ")),e=r.join("\r\n")}return e},JingleSession.prototype.mungeSdpForSimulcasting=function(e){const t=e.split("\r\n");let n=!1;const r=[-1],o=[-1];let i=null,s=null,a=null,l=null,c=-1;for(var u=0;u<t.length;u++){if(d=t[u].match(/m=(\w+) */)){if("video"===d[1]){if(!(r[0]<0)){c=u;break}n=!0}else if(r[0]>-1){c=u;break}continue}if(!n)continue;const e=t[u].match(/a=ssrc-group:FID (\d+) (\d+)/);if(e)r[0]=e[1],o[0]=e[2],t.splice(u,1),u--;else{if(r[0]){if((f=t[u].match("a=ssrc:"+r[0]+" cname:(.+)"))&&(i=f[1]),(f=t[u].match("a=ssrc:"+r[0]+" msid:(.+)"))&&(s=f[1]),(f=t[u].match("a=ssrc:"+r[0]+" mslabel:(.+)"))&&(a=f[1]),(f=t[u].match("a=ssrc:"+r[0]+" label:(.+)"))&&(l=f[1]),0===t[u].indexOf("a=ssrc:"+o[0])){t.splice(u,1),u--;continue}if(0===t[u].indexOf("a=ssrc:"+r[0])){t.splice(u,1),u--;continue}}0!=t[u].length||(t.splice(u,1),u--)}}if(r[0]<0)for(c=-1,n=!1,u=0;u<t.length;u++){var d;if(d=t[u].match(/m=(\w+) */)){if("video"===d[1]){if(!(r[0]<0)){c=u;break}n=!0}else if(r[0]>-1){c=u;break}}else if(n){if(r[0]<0){const e=t[u].match(/a=ssrc:(\d+)/);if(e){r[0]=e[1],t.splice(u,1),u--;continue}}else{var f;if((f=t[u].match("a=ssrc:"+r[0]+" cname:(.+)"))&&(i=f[1]),(f=t[u].match("a=ssrc:"+r[0]+" msid:(.+)"))&&(s=f[1]),(f=t[u].match("a=ssrc:"+r[0]+" mslabel:(.+)"))&&(a=f[1]),(f=t[u].match("a=ssrc:"+r[0]+" label:(.+)"))&&(l=f[1]),0===t[u].indexOf("a=ssrc:"+o[0])){t.splice(u,1),u--;continue}if(0===t[u].indexOf("a=ssrc:"+r[0])){t.splice(u,1),u--;continue}}0!=t[u].length||(t.splice(u,1),u--)}}if(r[0]<0)return Janus.warn("Couldn't find the video SSRC, simulcasting NOT enabled"),e;for(c<0&&(c=t.length),r[1]=Math.floor(4294967295*Math.random()),r[2]=Math.floor(4294967295*Math.random()),o[1]=Math.floor(4294967295*Math.random()),o[2]=Math.floor(4294967295*Math.random()),u=0;u<r.length;u++)i&&(t.splice(c,0,"a=ssrc:"+r[u]+" cname:"+i),c++),s&&(t.splice(c,0,"a=ssrc:"+r[u]+" msid:"+s),c++),a&&(t.splice(c,0,"a=ssrc:"+r[u]+" mslabel:"+a),c++),l&&(t.splice(c,0,"a=ssrc:"+r[u]+" label:"+l),c++),i&&(t.splice(c,0,"a=ssrc:"+o[u]+" cname:"+i),c++),s&&(t.splice(c,0,"a=ssrc:"+o[u]+" msid:"+s),c++),a&&(t.splice(c,0,"a=ssrc:"+o[u]+" mslabel:"+a),c++),l&&(t.splice(c,0,"a=ssrc:"+o[u]+" label:"+l),c++);return t.splice(c,0,"a=ssrc-group:FID "+r[2]+" "+o[2]),t.splice(c,0,"a=ssrc-group:FID "+r[1]+" "+o[1]),t.splice(c,0,"a=ssrc-group:FID "+r[0]+" "+o[0]),t.splice(c,0,"a=ssrc-group:SIM "+r[0]+" "+r[1]+" "+r[2]),(e=t.join("\r\n")).endsWith("\r\n")||(e+="\r\n"),e},JingleSession.prototype.getStats=function(e){const t=this,n={audio:0,video:0},r={audio:0,video:0},o={audio:0,video:0},i={audio:0,video:0},s={audio:0,video:0},a={audio:0,video:0},l=e/1e3;let c=!0,u=0,d=0,f=0,_=0,h=0,p=0,m=0,g=0,v=0,b=0,D="";const y={bitrate:{}};let C="",S="",E="";return this.statsinterval&&(window.clearInterval(this.statsinterval),this.statsinterval=null),this.ice_config.debugWebRTC&&(e=1e3),this.statsinterval=window.setInterval((function(){t&&t.peerconnection?navigator.mozGetUserMedia?t.peerconnection.getStats().then((function(e){const n=[];e.forEach((function(e){n.push(e)})),function(e){$(document).trigger("statsFirefox.jingle",[t.sid,e]);const n=new Object;let r,o,i=0,s=0;const u=[];for(let f=0;f<e.length;++f){if("audio"==e[f].mediaType&&e[f].bytesReceived){a.audio||(a.audio=e[f].bytesReceived);var d=e[f].bytesReceived-a.audio;a.audio=e[f].bytesReceived,i=8*d/(1024*l),n.audioReceived={bytesReceived:a.audio,packetsLost:e[f].packetsLost,packetsReceived:e[f].packetsReceived}}else"audio"==e[f].mediaType&&e[f].bytesSent?n.audioSent={bytesSent:e[f].bytesSent,packetsSent:e[f].packetsSent}:"video"==e[f].mediaType&&e[f].bytesReceived?(a.video||(a.video=e[f].bytesReceived),d=e[f].bytesReceived-a.video,a.video=e[f].bytesReceived,s=d?8*d/(1024*l):0,n.videoReceived={bytesReceived:a.video,packetsLost:e[f].packetsLost,packetsReceived:e[f].packetsReceived}):"video"==e[f].mediaType&&e[f].bytesSent&&(n.videoSent={bytesSent:e[f].bytesSent,packetsSent:e[f].packetsSent});"candidate-pair"===e[f].type&&"succeeded"===e[f].state&&!0===e[f].selected&&(r=e[f].localCandidateId,o=e[f].remoteCandidateId),c&&"localcandidate"===e[f].type&&e[f].id===r&&(n.connectionType||(n.connectionType={}),n.connectionType.local={candidateType:e[f].candidateType,ipAddress:e[f].ipAddress+":"+e[f].portNumber,transport:e[f].transport}),c&&"remotecandidate"===e[f].type&&e[f].id===o&&(n.connectionType||(n.connectionType={}),n.connectionType.remote={candidateType:e[f].candidateType,ipAddress:e[f].ipAddress+":"+e[f].portNumber}),("candidate-pair"!==e[f].type||e[f].selected)&&("local-candidate"===e[f].type&&e[f].id!==r||"remote-candidate"===e[f].type&&e[f].id!==o||u.push(e[f]));const _=e[f];let h=!1;if(("video"===_.mediaType||_.id.toLowerCase().indexOf("video")>-1)&&"inbound-rtp"===_.type&&_.id.indexOf("rtcp")<0?h=!0:"ssrc"!=_.type||!_.bytesReceived||"VP8"!==_.googCodecName&&""!==_.googCodecName||(h=!0),h)if(y.bitrate.bsnow=_.bytesReceived,y.bitrate.tsnow=_.timestamp,void 0===y.bitrate.bsbefore||void 0===y.bitrate.tsbefore)y.bitrate.bsbefore=y.bitrate.bsnow,y.bitrate.tsbefore=y.bitrate.tsnow;else{let e=y.bitrate.tsnow-y.bitrate.tsbefore;"safari"==adapter.default.browserDetails.browser&&(e/=1e3);let n=Math.round(8*(y.bitrate.bsnow-y.bitrate.bsbefore)/e);"safari"===adapter.default.browserDetails.browser&&(n=parseInt(n/1e3)),y.bitrate.value=n+" kbits/sec",y.bitrate.bsbefore=y.bitrate.bsnow,y.bitrate.tsbefore=y.bitrate.tsnow,$(document).trigger("webrtcSessionBitRate.jingle",[t.sid,y.bitrate])}}n.availableIncomingAudioBandwidth=i,n.availableIncomingVideoBandwidth=s,n.connectionType&&(c=!1,$(document).trigger("webrtcConnectionType.jingle",[t.sid,n.connectionType])),$(document).trigger("webrtcFirefoxStats.jingle",[t.sid,n])}(n)})):t.peerconnection.getStats?t.peerconnection.getStats((function(e){const w=[];e.result().forEach((function(e){const t={};e.names().forEach((function(n){t[n]=e.stat(n)})),t.id=e.id,t.type=e.type,t.timestamp=e.timestamp,w.push(t)})),function(e){$(document).trigger("statsChrome.jingle",[t.sid,e]);let w=0,T=0,M=0,j=0,k=0,O=0,A=0,I=0,P=0,x=0,R=0,F=0,L=0,N=0;const B=new Object,U=[];let H=0,W=0,Y=0,q=0,G=0,V=0,z=0,K=0,J=0,Q=0,X=0,Z=0,ee=0,te=0,ne=0,re=!1,oe=!1,ie=!1,se=!1;for(let f=e.length-1;f>=0;f--){if("ssrc"==e[f].type)if(-1!==e[f].id.indexOf("send"))if("opus"!==e[f].googCodecName&&"PCMA"!==e[f].googCodecName&&"PCMU"!==e[f].googCodecName||re)"VP8"!=e[f].googCodecName||oe||(oe=!0,T=e[f].packetsSent,O+=e[f].packetsLost,e[f].googFrameRateSent&&(P=e[f].googFrameRateSent),s.video||(s.video=e[f].bytesSent),e[f].googRtt&&!Y&&(Y=parseInt(e[f].googRtt,10)),ae=e[f].bytesSent-s.video,s.video=e[f].bytesSent,F=8*ae/(1024*l));else{re=!0,w=e[f].packetsSent,k+=e[f].packetsLost,H=e[f].audioInputLevel,e[f].googRtt&&!Y&&(Y=parseInt(e[f].googRtt,10)),s.audio||(s.audio=e[f].bytesSent);var ae=e[f].bytesSent-s.audio;s.audio=e[f].bytesSent,R=8*ae/(1024*l)}else if("opus"!==e[f].googCodecName&&"PCMA"!==e[f].googCodecName||ie)"VP8"!=e[f].googCodecName||se||(se=!0,j=e[f].packetsReceived,I+=e[f].packetsLost,e[f].googFrameRateReceived&&(x=e[f].googFrameRateReceived),i.video=r.video,o.video=n.video,n.video=parseInt(j,10),r.video=parseInt(I,10),a.video||(a.video=e[f].bytesReceived),ae=e[f].bytesReceived-a.video,a.video=e[f].bytesReceived,N=8*ae/(1024*l));else{ie=!0,M=e[f].packetsReceived,A+=e[f].packetsLost,W=e[f].audioOutputLevel,i.audio=r.audio,o.audio=n.audio,n.audio=parseInt(M,10),r.audio=parseInt(A,10),q=parseInt(e[f].googJitterBufferMs,10),G=parseInt(e[f].googJitterReceived,10),V=parseInt(e[f].packetsReceived,10)-d,d=parseInt(e[f].packetsReceived,10),V<0&&(V=0),z=parseInt(e[f].packetsLost,10)-u,u=parseInt(e[f].packetsLost,10),z<0&&(z=0),ne=z/(50*l)*100,te=e[f].googCurrentDelayMs,a.audio||(a.audio=e[f].bytesReceived);ae=e[f].bytesReceived-a.audio;a.audio=e[f].bytesReceived,L=8*ae/(1024*l)}"googCandidatePair"==e[f].type&&"true"===e[f].googWritable&&c&&(B.localCandidateType=e[f].googLocalCandidateType,B.localAddress=e[f].googLocalAddress,B.localTransportType=e[f].googTransportType,B.remoteCandidateType=e[f].googRemoteCandidateType,B.remoteAddress=e[f].googRemoteAddress,S=e[f].googLocalAddress.split(":")[0],E=e[f].googRemoteAddress.split(":")[0],D=B.localAddress+" [ "+B.localCandidateType+" ] <-> "+B.remoteAddress+" [ "+B.remoteCandidateType+" ] || "+B.localTransportType),"localcandidate"===e[f].type&&e[f].ipAddress===S&&(B.networkType=e[f].networkType,C=B.networkType),"googCandidatePair"===e[f].type&&"0"===e[f].requestsReceived||"remotecandidate"===e[f].type||"localcandidate"===e[f].type||"googCertificate"===e[f].type||"googComponent"===e[f].type||"googTrack"===e[f].type||"googLibjingleSession"===e[f].type||"VideoBwe"===e[f].type||U.push(e[f]);const _=e[f];let h=!1;if(("video"===_.mediaType||_.id.toLowerCase().indexOf("video")>-1)&&"inbound-rtp"===_.type&&_.id.indexOf("rtcp")<0?h=!0:"ssrc"!=_.type||!_.bytesReceived||"VP8"!==_.googCodecName&&""!==_.googCodecName||(h=!0),h)if(y.bitrate.bsnow=_.bytesReceived,y.bitrate.tsnow=_.timestamp,void 0===y.bitrate.bsbefore||void 0===y.bitrate.tsbefore)y.bitrate.bsbefore=y.bitrate.bsnow,y.bitrate.tsbefore=y.bitrate.tsnow;else{let e=y.bitrate.tsnow-y.bitrate.tsbefore;"safari"==adapter.default.browserDetails.browser&&(e/=1e3);let n=Math.round(8*(y.bitrate.bsnow-y.bitrate.bsbefore)/e);"safari"===adapter.default.browserDetails.browser&&(n=parseInt(n/1e3)),y.bitrate.value=n+" kbits/sec",y.bitrate.bsbefore=y.bitrate.bsnow,y.bitrate.tsbefore=y.bitrate.tsnow,$(document).trigger("webrtcSessionBitRate.jingle",[t.sid,y.bitrate])}}V&&(K=93.2-ne,J=.18*K*K-27.9*K+1126.62),Q=te,X=.024*Q+.11*(Q-177.3)*(Q-177.3<0?0:1),Z=J-X,ee=Z<0?1:Z>100?4.5:1+.035*Z+Z*(Z-60)*(100-Z)*7*1e-6;let le=0;Z>=80?le=2:Z<80&&Z>=60&&(le=1),B.googRTTAudio=Y,B.googJitterBufferMsAudio=q,B.googJitterReceived=G,B.mosPacketsReceivedAudio=V,B.mosPacketsLostAudio=z,B.MOS=ee,B.candidatePair=D,ee&&(f+=1,_+=ee,h+=Y,p+=G,m+=q,B.iteration=f,B.currentDelay=Q,B.MOS=ee,B.networkQualityFlag=le,B.meanMOS=_/f,g=g<Y?Y:g,v=v<G?G:v,b=b<q?q:b),B.packetsAudioSent=parseInt(w,10),B.packetsAudioReceived=parseInt(M,10),B.audioInputLevel=parseInt(H,10),B.audioOutputLevel=parseInt(W,10),B.packetsVideoSent=parseInt(T,10),B.packetsVideoReceived=parseInt(j,10),B.bytesSent=s,B.bytesReceived=a,B.localCandidateType&&(c=!1,$(document).trigger("webrtcConnectionType.jingle",[t.sid,B])),U.RainMetrics={type:"mscore",meanRTT:h/f,maxRTT:g,meanJitter:p/f,maxJitter:v,meanJitterDepth:m/f,maxJitterDepth:b,candidatePair:B.candidatePair,networkType:C,meanMOS:B.meanMOS},$(document).trigger("webrtcSessionStats.jingle",[t.sid,U]),$(document).trigger("webrtcSessionStatsSimplyfied.jingle",[t.sid,B]),B&&Strophe.log("","[Strophe.jingle] webrtcChromeStats audio packets received : "+B.packetsAudioReceived+" / audio packets sent : "+B.packetsAudioSent+" / for session "+t.sid)}(w)})):Strophe.log("","[Strophe.jingle] getStats does not exist..."):Strophe.log("","[Strophe.jingle] getStats no peerconnection")}),e||1e3),this.statsinterval}},function(e,t){Strophe.addConnectionPlugin("mam",{_c:null,_p:["with","start","end"],init:function(e){this._c=e,Strophe.addNamespace("MAM","urn:xmpp:mam:1")},query:function(e,t){const n=this._p,r={type:"set",id:e},o={xmlns:Strophe.NS.MAM};t.queryid&&(o.queryid=t.queryid,delete t.queryid);const i=$iq(r).c("query",o).c("x",{xmlns:"jabber:x:data",type:"submit"});let s;for(i.c("field",{var:"FORM_TYPE",type:"hidden"}).c("value").t("urn:xmpp:mam:1").up().up(),s=0;s<this._p.length;s++){const e=n[s],r=t[e];delete t[e],r&&i.c("field",{var:e}).c("value").t(r).up().up()}i.up(),delete t.onMessage;const a=t.onComplete;return delete t.onComplete,i.cnode(new Strophe.RSM(t).toXML()),this._c.sendIQ(i,a)},querymuc:function(e,t,n){const r=this._p,o={to:t,type:"set",id:e},i={xmlns:Strophe.NS.MAM};n.queryid&&(i.queryid=n.queryid,delete n.queryid);const s=$iq(o).c("query",i).c("x",{xmlns:"jabber:x:data",type:"submit"});let a;for(s.c("field",{var:"FORM_TYPE",type:"hidden"}).c("value").t(Strophe.NS.MAM).up().up(),a=0;a<this._p.length;a++){const e=r[a],t=n[e];delete n[e],t&&s.c("field",{var:e}).c("value").t(t).up().up()}s.up();const l=n.onComplete;return delete n.onComplete,s.cnode(new Strophe.RSM(n).toXML()),this._c.sendIQ(s,l)},delete:function(e,t){const n=this._p,r={type:"set",id:e},o={xmlns:Strophe.NS.MAM};t.queryid&&(o.queryid=t.queryid,delete t.queryid);const i=$iq(r).c("delete",o).c("x",{xmlns:"jabber:x:data",type:"submit"});let s;for(i.c("field",{var:"FORM_TYPE",type:"hidden"}).c("value").t(Strophe.NS.MAM).up().up(),s=0;s<this._p.length;s++){const e=n[s],r=t[e];r&&i.c("field",{var:e}).c("value").t(r).up().up()}i.up(),delete t.onMessage;const a=t.onComplete;return delete t.onComplete,i.cnode(new Strophe.RSM(t).toXML()),this._c.sendIQ(i,a)}})},function(e,t){!function(){Strophe.addConnectionPlugin("calllog",{_c:null,_p:["with"],init:function(e){this._c=e,Strophe.addNamespace("CALLLOG","jabber:iq:telephony:call:log")},query:function(e,t){var n,r=this._p,o={type:"set",id:130,from:e},i={xmlns:Strophe.NS.CALLLOG},s=$iq(o).c("query",i).c("x",{xmlns:"jabber:x:data",type:"submit"});for(s.c("field",{var:"FORM_TYPE",type:"hidden"}).c("value").t("jabber:iq:telephony:call:log").up().up(),n=0;n<this._p.length;n++){var a=r[n],l=t[a];delete t[a],l&&s.c("field",{var:a}).c("value").t(l).up().up()}s.up(),t.onMessage,delete t.onMessage;var c=t.onComplete;return delete t.onComplete,s.cnode(new Strophe.RSM(t).toXML()),this._c.sendIQ(s,c)}})}()},function(e,t){!function(){function e(){}function t(e,t){var n=!1;return $('si feature x field[var="stream-method"] value',e).each((function(e,r){$(r).text()===t&&(n=!0)})),n}Strophe.addConnectionPlugin("si_filetransfer",{_c:null,_cb:null,init:function(e){this._c=e,Strophe.addNamespace("SI","http://jabber.org/protocol/si"),Strophe.addNamespace("SI_FILE_TRANSFER",Strophe.NS.SI+"/profile/file-transfer"),Strophe.addNamespace("FEATURE_NEG","http://jabber.org/protocol/feature-neg"),e.addHandler(this._receive.bind(this),Strophe.NS.SI,"iq","set")},_receive:function(e){var n=$(e),r=n.attr("from"),o=n.attr("id"),i=$("si",n).attr("id");if(Object.hasOwnProperty.call(this._c,"ibb")&&t(e,Strophe.NS.IBB))var s=$("file",n);var a=s.attr("name"),l=s.attr("size"),c=$("si",n).attr("mime-type"),u=$("desc",n).text();return"function"==typeof this._cb&&this._cb(r,i,a,l,c,o,u),!0},_success:function(e,n){var r;t(n,Strophe.NS.IBB)||(r=new Error("In-Band Bytestream not supported")),e(r)},_fail:function(e,t){var n="timed out";t&&(n=t),e(new Error(n))},_send:function(e,t,n){this._c.sendIQ(e,t,n,18e4)},send:function(e,t,n,r,o,i,s){if(Object.hasOwnProperty.call(this._c,"ibb")){var a=$iq({type:"set",to:e,id:this._c.getUniqueId("si-filetransfer")}).c("si",{xmlns:Strophe.NS.SI,id:t,profile:Strophe.NS.SI_FILE_TRANSFER,"mime-type":o}).c("file",{xmlns:Strophe.NS.SI_FILE_TRANSFER,name:n,size:r}).c("desc").t(i).up().c("feature",{xmlns:Strophe.NS.FEATURE_NEG}).c("x",{xmlns:"jabber:x:data",type:"form"}).c("field",{var:"stream-method",type:"list-single"}).c("option").c("value").t(Strophe.NS.IBB);this._send(a,this._success.bind(this,s),this._fail.bind(this,s))}else Strophe.warn("The In-Band Bytestream plugin is required.")},responseOk:function(t,n,r){var o=$iq({type:"result",to:t,id:r}).c("si",{xmlns:Strophe.NS.SI,id:n}).c("file",{xmlns:Strophe.NS.SI_FILE_TRANSFER}).up().c("feature",{xmlns:Strophe.NS.FEATURE_NEG}).c("x",{xmlns:"jabber:x:data",type:"submit"}).c("field",{var:"stream-method"});o.c("value").t(Strophe.NS.IBB),this._send(o,e,e)},responseError:function(t,n,r,o){var i=$iq({type:"error",to:t,id:r}).c("error",{code:o,type:"cancel"}).c("forbidden",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"}).up().c("text",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"});i.c("value").t(Strophe.NS.IBB),this._send(i,e,e)},addFileHandler:function(e){this._cb=e}})}()},function(e,t,n){n.r(t);var r={};n.r(r),n.d(r,"shimGetUserMedia",(function(){return C})),n.d(r,"shimGetDisplayMedia",(function(){return S})),n.d(r,"shimMediaStream",(function(){return E})),n.d(r,"shimOnTrack",(function(){return w})),n.d(r,"shimGetSendersWithDtmf",(function(){return T})),n.d(r,"shimGetStats",(function(){return M})),n.d(r,"shimSenderReceiverGetStats",(function(){return j})),n.d(r,"shimAddTrackRemoveTrackWithNative",(function(){return k})),n.d(r,"shimAddTrackRemoveTrack",(function(){return O})),n.d(r,"shimPeerConnection",(function(){return A})),n.d(r,"fixNegotiationNeeded",(function(){return I}));var o={};n.r(o),n.d(o,"shimGetUserMedia",(function(){return R})),n.d(o,"shimGetDisplayMedia",(function(){return F})),n.d(o,"shimPeerConnection",(function(){return L})),n.d(o,"shimReplaceTrack",(function(){return N}));var i={};n.r(i),n.d(i,"shimGetUserMedia",(function(){return B})),n.d(i,"shimGetDisplayMedia",(function(){return U})),n.d(i,"shimOnTrack",(function(){return H})),n.d(i,"shimPeerConnection",(function(){return W})),n.d(i,"shimSenderGetStats",(function(){return Y})),n.d(i,"shimReceiverGetStats",(function(){return $})),n.d(i,"shimRemoveStream",(function(){return q})),n.d(i,"shimRTCDataChannel",(function(){return G})),n.d(i,"shimAddTransceiver",(function(){return V})),n.d(i,"shimCreateOffer",(function(){return z})),n.d(i,"shimCreateAnswer",(function(){return K}));var s={};n.r(s),n.d(s,"shimLocalStreamsAPI",(function(){return J})),n.d(s,"shimRemoteStreamsAPI",(function(){return Q})),n.d(s,"shimCallbacksAPI",(function(){return X})),n.d(s,"shimGetUserMedia",(function(){return Z})),n.d(s,"shimConstraints",(function(){return ee})),n.d(s,"shimRTCIceServerUrls",(function(){return te})),n.d(s,"shimTrackEventTransceiver",(function(){return ne})),n.d(s,"shimCreateOfferLegacy",(function(){return re}));var a={};n.r(a),n.d(a,"shimRTCIceCandidate",(function(){return se})),n.d(a,"shimMaxMessageSize",(function(){return ae})),n.d(a,"shimSendThrowTypeError",(function(){return le})),n.d(a,"shimConnectionState",(function(){return ce})),n.d(a,"removeAllowExtmapMixed",(function(){return ue}));var l={};n.r(l),n.d(l,"default",(function(){return de}));let c=!0,u=!0;function d(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function f(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,o=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return o.apply(this,arguments);const i=e=>{const t=n(e);t&&r(t)};return this._eventMap=this._eventMap||{},this._eventMap[r]=i,o.apply(this,[e,i])};const i=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[n])return i.apply(this,arguments);const r=this._eventMap[n];return delete this._eventMap[n],i.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function _(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(c=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function h(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(u=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function p(){if("object"==typeof window){if(c)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function m(e,t){u&&console.warn(e+" is deprecated, please use "+t+" instead.")}function g(e){const{navigator:t}=e,n={browser:null,version:null};if(void 0===e||!e.navigator)return n.browser="Not a browser.",n;if(t.mozGetUserMedia)n.browser="firefox",n.version=d(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)n.browser="chrome",n.version=d(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))n.browser="edge",n.version=d(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser="Not a supported browser.",n;n.browser="safari",n.version=d(t.userAgent,/AppleWebKit\/(\d+)\./,1),n.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return n}function v(e){return"[object Object]"===Object.prototype.toString.call(e)}function b(e){return v(e)?Object.keys(e).reduce((function(t,n){const r=v(e[n]),o=r?b(e[n]):e[n],i=r&&!Object.keys(o).length;return void 0===o||i?t:Object.assign(t,{[n]:o})}),{}):e}function D(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",o=new Map;if(null===t)return o;const i=[];return e.forEach(e=>{"track"===e.type&&e.trackIdentifier===t.id&&i.push(e)}),i.forEach(t=>{e.forEach(n=>{n.type===r&&n.trackId===t.id&&function e(t,n,r){n&&!r.has(n.id)&&(r.set(n.id,n),Object.keys(n).forEach(o=>{o.endsWith("Id")?e(t,t.get(n[o]),r):o.endsWith("Ids")&&n[o].forEach(n=>{e(t,t.get(n),r)})}))}(e,n,o)})}),o}const y=p;function C(e){const t=e&&e.navigator;if(!t.mediaDevices)return;const n=g(e),r=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach(n=>{if("require"===n||"advanced"===n||"mediaSource"===n)return;const r="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);const o=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];let e={};"number"==typeof r.ideal?(e[o("min",n)]=r.ideal,t.optional.push(e),e={},e[o("max",n)]=r.ideal,t.optional.push(e)):(e[o("",n)]=r.ideal,t.optional.push(e))}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[o("",n)]=r.exact):["min","max"].forEach(e=>{void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[o(e,n)]=r[e])})}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},o=function(e,o){if(n.version>=61)return o(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){const t=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"==typeof e.video){let i=e.video.facingMode;i=i&&("object"==typeof i?i:{ideal:i});const s=n.version<66;if(i&&("user"===i.exact||"environment"===i.exact||"user"===i.ideal||"environment"===i.ideal)&&(!t.mediaDevices.getSupportedConstraints||!t.mediaDevices.getSupportedConstraints().facingMode||s)){let n;if(delete e.video.facingMode,"environment"===i.exact||"environment"===i.ideal?n=["back","rear"]:"user"!==i.exact&&"user"!==i.ideal||(n=["front"]),n)return t.mediaDevices.enumerateDevices().then(t=>{let s=(t=t.filter(e=>"videoinput"===e.kind)).find(e=>n.some(t=>e.label.toLowerCase().includes(t)));return!s&&t.length&&n.includes("back")&&(s=t[t.length-1]),s&&(e.video.deviceId=i.exact?{exact:s.deviceId}:{ideal:s.deviceId}),e.video=r(e.video),y("chrome: "+JSON.stringify(e)),o(e)})}e.video=r(e.video)}return y("chrome: "+JSON.stringify(e)),o(e)},i=function(e){return n.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(t.getUserMedia=function(e,n,r){o(e,e=>{t.webkitGetUserMedia(e,n,e=>{r&&r(i(e))})})}.bind(t),t.mediaDevices.getUserMedia){const e=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(t){return o(t,t=>e(t).then(e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(e=>{e.stop()}),new DOMException("","NotFoundError");return e},e=>Promise.reject(i(e))))}}}function S(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then(t=>{const r=n.video&&n.video.width,o=n.video&&n.video.height,i=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:i||3}},r&&(n.video.mandatory.maxWidth=r),o&&(n.video.mandatory.maxHeight=o),e.navigator.mediaDevices.getUserMedia(n)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function E(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function w(e){if("object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===n.track.id):{track:n.track};const o=new Event("track");o.track=n.track,o.receiver=r,o.transceiver={receiver:r},o.streams=[t.stream],this.dispatchEvent(o)}),t.stream.getTracks().forEach(n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===n.id):{track:n};const o=new Event("track");o.track=n,o.receiver=r,o.transceiver={receiver:r},o.streams=[t.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else f(e,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function T(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){let o=n.apply(this,arguments);return o||(o=t(this,e),this._senders.push(o)),o};const r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach(e=>{this._senders.push(t(this,e))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach(e=>{const t=this._senders.find(t=>t.track===e);t&&this._senders.splice(this._senders.indexOf(t),1)})}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function M(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,n,r]=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof e))return t.apply(this,[]);const o=function(e){const t={};return e.result().forEach(e=>{const n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(t=>{n[t]=e.stat(t)}),t[n.id]=n}),t},i=function(e){return new Map(Object.keys(e).map(t=>[t,e[t]]))};if(arguments.length>=2){const r=function(e){n(i(o(e)))};return t.apply(this,[r,e])}return new Promise((e,n)=>{t.apply(this,[function(t){e(i(o(t)))},n])}).then(n,r)}}function j(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then(t=>D(t,e.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),f(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then(t=>D(t,e.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,n,r;return this.getSenders().forEach(n=>{n.track===e&&(t?r=!0:t=n)}),this.getReceivers().forEach(t=>(t.track===e&&(n?r=!0:n=t),t.track===e)),r||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function k(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(e=>this._shimmedLocalStreams[e][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")});const t=this.getSenders();n.apply(this,arguments);const r=this.getSenders().filter(e=>-1===t.indexOf(e));this._shimmedLocalStreams[e.id]=[e].concat(r)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};const o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(t=>{const n=this._shimmedLocalStreams[t].indexOf(e);-1!==n&&this._shimmedLocalStreams[t].splice(n,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]}),o.apply(this,arguments)}}function O(e){if(!e.RTCPeerConnection)return;const t=g(e);if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return k(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=n.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map(e=>this._reverseStreams[e.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[t.id]){const n=new e.MediaStream(t.getTracks());this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n}r.apply(this,[t])};const o=e.RTCPeerConnection.prototype.removeStream;function i(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{const r=e._reverseStreams[t],o=e._streams[r.id];n=n.replace(new RegExp(o.id,"g"),r.id)}),new RTCSessionDescription({type:t.type,sdp:n})}function s(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{const r=e._reverseStreams[t],o=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),o.id)}),new RTCSessionDescription({type:t.type,sdp:n})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},o.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const r=[].slice.call(arguments,1);if(1!==r.length||!r[0].getTracks().find(e=>e===t))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");const o=this.getSenders().find(e=>e.track===t);if(o)throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const i=this._streams[n.id];if(i)i.addTrack(t),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const r=new e.MediaStream([t]);this._streams[n.id]=r,this._reverseStreams[r.id]=n,this.addStream(r)}return this.getSenders().find(e=>e.track===t)},["createOffer","createAnswer"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){const e=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[t=>{const n=i(this,t);e[0].apply(null,[n])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):n.apply(this,arguments).then(e=>i(this,e))}};e.RTCPeerConnection.prototype[t]=r[t]}));const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=s(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};const l=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=l.get.apply(this);return""===e.type?e:i(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach(n=>{this._streams[n].getTracks().find(t=>e.track===t)&&(t=this._streams[n])}),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function A(e){const t=g(e);if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),!e.RTCPeerConnection)return;const n=0===e.RTCPeerConnection.prototype.addIceCandidate.length;t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]}));const r=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return n||arguments[0]?t.version<78&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}function I(e){f(e,"negotiationneeded",e=>{if("stable"===e.target.signalingState)return e})}var P=n(236),x=n.n(P);function R(e){const t=e&&e.navigator,n=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return n(e).catch(e=>Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString(){return this.name}}}(e)))}}function F(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}function L(e){const t=g(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){const t=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set(e){t.set.call(this,e);const n=new Event("enabled");n.enabled=e,this.dispatchEvent(n)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);const n=x()(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=function(e,t){let n=!1;return(e=JSON.parse(JSON.stringify(e))).filter(e=>{if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&m("RTCIceServer.url","RTCIceServer.urls");const r="string"==typeof t;return r&&(t=[t]),t=t.filter(e=>{if(0===e.indexOf("stun:"))return!1;const t=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return t&&!n?(n=!0,!0):t&&!n}),delete e.url,e.urls=r?t[0]:t,!!t.length}})}(e.iceServers,t.version),p("ICE servers after filtering:",e.iceServers)),new n(e)},e.RTCPeerConnection.prototype=n.prototype}function N(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}function B(e){const t=g(e),n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){m("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const e=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},t=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(n){return"object"==typeof n&&"object"==typeof n.audio&&(n=JSON.parse(JSON.stringify(n)),e(n.audio,"autoGainControl","mozAutoGainControl"),e(n.audio,"noiseSuppression","mozNoiseSuppression")),t(n)},r&&r.prototype.getSettings){const t=r.prototype.getSettings;r.prototype.getSettings=function(){const n=t.apply(this,arguments);return e(n,"mozAutoGainControl","autoGainControl"),e(n,"mozNoiseSuppression","noiseSuppression"),n}}if(r&&r.prototype.applyConstraints){const t=r.prototype.applyConstraints;r.prototype.applyConstraints=function(n){return"audio"===this.kind&&"object"==typeof n&&(n=JSON.parse(JSON.stringify(n)),e(n,"autoGainControl","mozAutoGainControl"),e(n,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[n])}}}}function U(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}function H(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function W(e){const t=g(e);if("object"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;if(!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]})),t.version<68){const t=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?arguments[0]&&""===arguments[0].candidate?Promise.resolve():t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,o,i]=arguments;return r.apply(this,[e||null]).then(e=>{if(t.version<53&&!o)try{e.forEach(e=>{e.type=n[e.type]||e.type})}catch(r){if("TypeError"!==r.name)throw r;e.forEach((t,r)=>{e.set(r,Object.assign({},t,{type:n[t.type]||t.type}))})}return e}).then(o,i)}}function Y(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function $(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),f(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function q(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){m("removeStream","removeTrack"),this.getSenders().forEach(t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)})})}function G(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function V(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const e=arguments[1],n=e&&"sendEncodings"in e;n&&e.sendEncodings.forEach(e=>{if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const r=t.apply(this,arguments);if(n){const{sender:t}=r,n=t.getParameters();"encodings"in n||(n.encodings=e.sendEncodings,this.setParametersPromises.push(t.setParameters(n).catch(()=>{})))}return r})}function z(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function K(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function J(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach(n=>t.call(this,n,e)),e.getVideoTracks().forEach(n=>t.call(this,n,e))},e.RTCPeerConnection.prototype.addTrack=function(e,...n){return n&&n.forEach(e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const n=e.getTracks();this.getSenders().forEach(e=>{n.includes(e.track)&&this.removeTrack(e)})})}}function Q(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach(e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const t=new Event("addstream");t.stream=e,this.dispatchEvent(t)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const n=new Event("addstream");n.stream=t,e.dispatchEvent(n)})}),t.apply(e,arguments)}}}function X(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,o=t.setLocalDescription,i=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(e,t){const r=arguments.length>=2?arguments[2]:arguments[0],o=n.apply(this,[r]);return t?(o.then(e,t),Promise.resolve()):o},t.createAnswer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],o=r.apply(this,[n]);return t?(o.then(e,t),Promise.resolve()):o};let a=function(e,t,n){const r=o.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r};t.setLocalDescription=a,a=function(e,t,n){const r=i.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.setRemoteDescription=a,a=function(e,t,n){const r=s.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.addIceCandidate=a}function Z(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,n=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>n(ee(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))}function ee(e){return e&&void 0!==e.video?Object.assign({},e,{video:b(e.video)}):e}function te(e){const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){const t=[];for(let n=0;n<e.iceServers.length;n++){let r=e.iceServers[n];!r.hasOwnProperty("urls")&&r.hasOwnProperty("url")?(m("RTCIceServer.url","RTCIceServer.urls"),r=JSON.parse(JSON.stringify(r)),r.urls=r.url,delete r.url,t.push(r)):t.push(e.iceServers[n])}e.iceServers=t}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function ne(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function re(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find(e=>"audio"===e.receiver.track.kind);!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const n=this.getTransceivers().find(e=>"video"===e.receiver.track.kind);!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video")}return t.apply(this,arguments)}}var oe=n(52),ie=n.n(oe);function se(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){const n=new t(e),r=ie.a.parseCandidate(e.candidate),o=Object.assign(n,r);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,f(e,"icecandidate",t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t))}function ae(e){if(!e.RTCPeerConnection)return;const t=g(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});const n=function(e){if(!e||!e.sdp)return!1;const t=ie.a.splitSections(e.sdp);return t.shift(),t.some(e=>{const t=ie.a.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")})},r=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const n=parseInt(t[1],10);return n!=n?-1:n},o=function(e){let n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n},i=function(e,n){let r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);const o=ie.a.matchPrefix(e.sdp,"a=max-message-size:");return o.length>0?r=parseInt(o[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r},s=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const e=r(arguments[0]),t=o(e),n=i(arguments[0],e);let s;s=0===t&&0===n?Number.POSITIVE_INFINITY:0===t||0===n?Math.max(t,n):Math.min(t,n);const a={};Object.defineProperty(a,"maxMessageSize",{get:()=>s}),this._sctp=a}return s.apply(this,arguments)}}function le(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){const n=e.send;e.send=function(){const r=arguments[0],o=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&o>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=n.apply(this,arguments);return t(e,this),e},f(e,"datachannel",e=>(t(e.channel,e.target),e))}function ce(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(e=>{const n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}function ue(e){if(!e.RTCPeerConnection)return;const t=g(e);if("chrome"===t.browser&&t.version>=71)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(e){return e&&e.sdp&&-1!==e.sdp.indexOf("\na=extmap-allow-mixed")&&(e.sdp=e.sdp.split("\n").filter(e=>"a=extmap-allow-mixed"!==e.trim()).join("\n")),n.apply(this,arguments)}}var de=function({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){const n=p,l=g(e),c={browserDetails:l,commonShim:a,extractVersion:d,disableLog:_,disableWarnings:h};switch(l.browser){case"chrome":if(!r||!A||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),c;n("adapter.js shimming chrome."),c.browserShim=r,C(e),E(e),A(e),w(e),O(e),T(e),M(e),j(e),I(e),se(e),ce(e),ae(e),le(e),ue(e);break;case"firefox":if(!i||!W||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),c;n("adapter.js shimming firefox."),c.browserShim=i,B(e),W(e),H(e),q(e),Y(e),$(e),G(e),V(e),z(e),K(e),se(e),ce(e),ae(e),le(e);break;case"edge":if(!o||!L||!t.shimEdge)return n("MS edge shim is not included in this adapter release."),c;n("adapter.js shimming edge."),c.browserShim=o,R(e),F(e),L(e),N(e),ae(e),le(e);break;case"safari":if(!s||!t.shimSafari)return n("Safari shim is not included in this adapter release."),c;n("adapter.js shimming safari."),c.browserShim=s,te(e),re(e),X(e),J(e),Q(e),ne(e),Z(e),se(e),ae(e),le(e),ue(e);break;default:n("Unsupported browser!")}return c}({window:window}),fe=n(237),_e=n(238),he=n(239),pe=n(240),me=n(241),ge=n(242),ve=n(243),be=n(244),De=n(245),ye=n(246),Ce=n(247),Se=n(248),Ee=n(249),we=n(250),Te=n(251),Me=n(252),je=n(253),ke=n(254),Oe=n(255),Ae=n(28),Ie=n(1);n(256),n(257),n(258),window.adapter=l,window.emojione=null,n(259),n(260),n(413),n(28),n(414),angular.module("sdk").service("connectionService",fe.ConnectionService),angular.module("sdk").service("configService",_e.ConfigService),angular.module("sdk").service("presenceService",he.PresenceService),angular.module("sdk").service("userProfileService",pe.UserProfileService),angular.module("sdk").service("contactsService",me.ContactsService),angular.module("sdk").service("pbxService",ge.PbxService),angular.module("sdk").service("conversationsService",ve.ConversationsService),angular.module("sdk").service("imService",be.ImService),angular.module("sdk").service("webRTCService",De.WebRTCService),angular.module("sdk").service("bubblesService",ye.BubblesService),angular.module("sdk").service("conferencesService",Ce.ConferencesService),angular.module("sdk").service("groupsService",Se.GroupsService),angular.module("sdk").service("callsLogService",Ee.CallsLogService),angular.module("sdk").service("favoritesService",we.FavoritesService),angular.module("sdk").service("filesStorageService",Te.FilesStorageService),angular.module("sdk").service("capabilitiesService",Me.CapabilitiesService),angular.module("sdk").service("adminService",je.AdminService),angular.module("sdk").service("channelsService",ke.ChannelsService),angular.module("sdk").service("rainbowSDK",Oe.SdkService),angular.module("sdk")||angular.bootstrap(document,["sdk"]).get("rainbowSDK"),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427);const Pe=angular.injector(["sdk"]).get("rainbowSDK");Pe.Call=Ie.Call,Pe.SDK=Ae.SDK,t.default=Pe}]),T=w.default,M={url:"https://dx-rainbow-gateway.herokuapp.com/dxChatboxRenderer/guestRainbowAccount",method:"GET",timeout:0},j={loggedIn:!1,connectedUser:null,isMuted:!1},k={name:"App",components:{},data(){return{participants:a,titleImageUrl:"https://a.slack-edge.com/66f9/img/avatars-teams/ava_0001-34.png",messageList:s,newMessagesCount:0,isChatOpen:!1,showTypingIndicator:"",colors:null,availableColors:E,chosenColor:null,alwaysScrollToBottom:!0,messageStyling:!0,userIsTyping:!1,rainbowContext:[],showPhone:!1}},computed:{linkColor(){return"dark"===this.chosenColor?this.colors.sentMessage.text:this.colors.launcher.bg},backgroundColor(){return"dark"===this.chosenColor?this.colors.messageList.bg:"#fff"}},created(){this.setColor("blue")},mounted(){var e=this;let t=()=>{console.log("[Hello World] :: On SDK Loaded !"),T.initialize(e.rainbowContext["appID"],e.rainbowContext["appSecret"]).then(()=>{console.log("[Hello World] :: Rainbow SDK is initialized!")}).catch(e=>{console.log("[Hello World] :: Something went wrong with the SDK.",e)})},n=()=>{T.connection.signin(e.rainbowContext["login"],e.rainbowContext["password"]).then((function(t){T.conversations.getConversationByContactId(e.rainbowContext["ownerID"]).then(t=>{e.rainbowContext["conversationID"]=t.id,console.log("conversation established")}).catch((function(e){console.log(e)}))})).catch((function(e){console.log("onReady Error")}))},r=t=>{let n={},r=JSON.parse(t);return"MESSAGE_WITH_CHOICES"===r.notificationType?(n={author:"agent",type:"text",id:Math.random(),data:{text:r.content},suggestions:r.waitedInput.choices},e.showPhone=!0):n={author:"agent",type:"text",id:Math.random(),data:{text:r}},n},o=t=>{console.log(t),console.log(t.detail.message.data),e.messageList=[...e.messageList,Object.assign({},r(t.detail.message.data),{id:Math.random()})]};document.addEventListener(T.im.RAINBOW_ONNEWIMMESSAGERECEIVED,o),document.addEventListener(T.RAINBOW_ONREADY,n),document.addEventListener(T.RAINBOW_ONLOADED,t),$.ajax(M).done((function(t){console.log(t),e.rainbowContext["login"]=t["login"],e.rainbowContext["password"]=t["password"],e.rainbowContext["appID"]=t["appID"],e.rainbowContext["appSecret"]=t["appSecret"],e.rainbowContext["ownerID"]="60a92986b62cbe36634cac93",T.start(),T.load()})),this.messageList.forEach(e=>e.liked=!1)},methods:{sendMessage(e){console.log("sendMessage"),this.onMessageWasSent({author:"mattmezza",type:"text",id:Math.random(),data:{text:"What about suggestions?"},suggestions:["Looks good!","It's OK.","Uhh.. Do I really have to say something?","This suggestion is way too long for css purpose. Let's make it long... Longer, and more and more.. Never ending."]})},handleTyping(e){this.showTypingIndicator=e.length>0?this.participants[this.participants.length-1].id:""},onMessageWasSent(e){T.im.sendMessageToConversation(this.rainbowContext["conversationID"],e.data.text),console.log(e.data.text),this.messageList=[...this.messageList,Object.assign({},e,{id:Math.random()})]},handlePhoneCall(){console.log("Handling phone calllll"),j.hasACamera=T.webRTC.hasACamera(),console.log("Camera available: ",j.hasACamera),j.canMakeAudioVideoCall=T.webRTC.canMakeAudioVideoCall(),console.log("Can make Audio / Video calls: ",j.canMakeAudioVideoCall)},openChat(){this.isChatOpen=!0,this.newMessagesCount=0},closeChat(){this.isChatOpen=!1},setColor(e){this.colors=this.availableColors[e],this.chosenColor=e},showStylingInfo(){this.$modal.show("dialog",{title:"Info",text:"You can use *word* to <strong>boldify</strong>, /word/ to <em>emphasize</em>, _word_ to <u>underline</u>, `code` to <code>write = code;</code>, ~this~ to <del>delete</del> and ^sup^ or ¡sub¡ to write <sup>sup</sup> and <sub>sub</sub>"})},messageStylingToggled(e){this.messageStyling=e.target.checked},handleOnType(){this.$root.$emit("onType"),this.userIsTyping=!0},like(e){const t=this.messageList.findIndex(t=>t.id===e);var n=this.messageList[t];n.liked=!n.liked,this.$set(this.messageList,t,n)}}},O=k,A=(n("034f"),Object(f["a"])(O,o,i,!1,null,null,null)),I=A.exports,P=n("5409"),x=n.n(P),R=n("1881"),F=n.n(R);r["default"].use(F.a,{dialog:!0}),r["default"].use(x.a),new r["default"]({el:"#app",render:e=>e(I)})},"57b7":function(e,t,n){"use strict";var r=n("3a7a"),o=n.n(r);o.a},"5c9f":function(e,t,n){},"88f1":function(e,t,n){"use strict";var r=n("efb1"),o=n.n(r);o.a},"9d5d":function(e,t,n){"use strict";var r=n("5c9f"),o=n.n(r);o.a},ecfe:function(e,t,n){},efb1:function(e,t,n){}});
//# sourceMappingURL=app.4c80b503.js.map